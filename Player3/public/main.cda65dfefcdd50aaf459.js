(self.webpackChunkplayer1=self.webpackChunkplayer1||[]).push([[179],{255:Cv=>{function Zu(wv){return Promise.resolve().then(()=>{var Nc=new Error("Cannot find module '"+wv+"'");throw Nc.code="MODULE_NOT_FOUND",Nc})}Zu.keys=()=>[],Zu.resolve=Zu,Zu.id=255,Cv.exports=Zu},905:(Cv,Zu,wv)=>{"use strict";function Nc(n){return"function"==typeof n}let uk=!1;const Oh={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else uk&&console.log("RxJS: Back to a better error behavior. Thank you. <3");uk=n},get useDeprecatedSynchronousErrorHandling(){return uk}};function lg(n){setTimeout(()=>{throw n},0)}const BS={closed:!0,next(n){},error(n){if(Oh.useDeprecatedSynchronousErrorHandling)throw n;lg(n)},complete(){}},hg=Array.isArray||(n=>n&&"number"==typeof n.length);function pk(n){return null!==n&&"object"==typeof n}const VS=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,i)=>`${i+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class Ti{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof Ti)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(Nc(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(o){e=o instanceof VS?u5(o.errors):[o]}}if(hg(r)){let o=-1,a=r.length;for(;++o<a;){const l=r[o];if(pk(l))try{l.unsubscribe()}catch(h){e=e||[],h instanceof VS?e=e.concat(u5(h.errors)):e.push(h)}}}if(e)throw new VS(e)}add(e){let t=e;if(!e)return Ti.EMPTY;switch(typeof e){case"function":t=new Ti(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof Ti)){const r=t;t=new Ti,t._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof Ti){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[t]:s.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var n;function u5(n){return n.reduce((e,t)=>e.concat(t instanceof VS?t.errors:t),[])}Ti.EMPTY=((n=new Ti).closed=!0,n);const HS="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Zs extends Ti{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=BS;break;case 1:if(!e){this.destination=BS;break}if("object"==typeof e){e instanceof Zs?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new p5(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new p5(this,e,t,i)}}[HS](){return this}static create(e,t,i){const s=new Zs(e,t,i);return s.syncErrorThrowable=!1,s}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class p5 extends Zs{constructor(e,t,i,s){super(),this._parentSubscriber=e;let r,o=this;Nc(t)?r=t:t&&(r=t.next,i=t.error,s=t.complete,t!==BS&&(o=Object.create(t),Nc(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;Oh.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=Oh;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):lg(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;lg(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);Oh.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),Oh.useDeprecatedSynchronousErrorHandling)throw i;lg(i)}}__tryOrSetError(e,t,i){if(!Oh.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(s){return Oh.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=s,e.syncErrorThrown=!0,!0):(lg(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const Sv="function"==typeof Symbol&&Symbol.observable||"@@observable";function jS(n){return n}let fs=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,s){const{operator:r}=this,o=function(n,e,t){if(n){if(n instanceof Zs)return n;if(n[HS])return n[HS]()}return n||e||t?new Zs(n,e,t):new Zs(BS)}(t,i,s);if(o.add(r?r.call(o,this.source):this.source||Oh.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Oh.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){Oh.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=i),function(n){for(;n;){const{closed:e,destination:t,isStopped:i}=n;if(e||i)return!1;n=t&&t instanceof Zs?t:null}return!0}(t)?t.error(i):console.warn(i)}}forEach(t,i){return new(i=m5(i))((s,r)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){r(l),o&&o.unsubscribe()}},r,s)})}_subscribe(t){const{source:i}=this;return i&&i.subscribe(t)}[Sv](){return this}pipe(...t){return 0===t.length?this:function(n){return 0===n.length?jS:1===n.length?n[0]:function(t){return n.reduce((i,s)=>s(i),t)}}(t)(this)}toPromise(t){return new(t=m5(t))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=e=>new n(e),n})();function m5(n){if(n||(n=Oh.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const Sf=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class g5 extends Ti{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class y5 extends Zs{constructor(e){super(e),this.destination=e}}let ht=(()=>{class n extends fs{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[HS](){return new y5(this)}lift(t){const i=new b5(this,this);return i.operator=t,i}next(t){if(this.closed)throw new Sf;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].next(t)}}error(t){if(this.closed)throw new Sf;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new Sf;this.isStopped=!0;const{observers:t}=this,i=t.length,s=t.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Sf;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Sf;return this.hasError?(t.error(this.thrownError),Ti.EMPTY):this.isStopped?(t.complete(),Ti.EMPTY):(this.observers.push(t),new g5(this,t))}asObservable(){const t=new fs;return t.source=this,t}}return n.create=(e,t)=>new b5(e,t),n})();class b5 extends ht{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):Ti.EMPTY}}function cg(n){return n&&"function"==typeof n.schedule}function Li(n,e){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new DJ(n,e))}}class DJ{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new MJ(e,this.project,this.thisArg))}}class MJ extends Zs{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const v5=n=>e=>{for(let t=0,i=n.length;t<i&&!e.closed;t++)e.next(n[t]);e.complete()},zS="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",C5=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function w5(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const fk=n=>{if(n&&"function"==typeof n[Sv])return(n=>e=>{const t=n[Sv]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(C5(n))return v5(n);if(w5(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,lg),e))(n);if(n&&"function"==typeof n[zS])return(n=>e=>{const t=n[zS]();for(;;){let i;try{i=t.next()}catch(s){return e.error(s),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${pk(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function mk(n,e){return new fs(t=>{const i=new Ti;let s=0;return i.add(e.schedule(function(){s!==n.length?(t.next(n[s++]),t.closed||i.add(this.schedule())):t.complete()})),i})}function vo(n,e){return e?function(n,e){if(null!=n){if(function(n){return n&&"function"==typeof n[Sv]}(n))return function(n,e){return new fs(t=>{const i=new Ti;return i.add(e.schedule(()=>{const s=n[Sv]();i.add(s.subscribe({next(r){i.add(e.schedule(()=>t.next(r)))},error(r){i.add(e.schedule(()=>t.error(r)))},complete(){i.add(e.schedule(()=>t.complete()))}}))})),i})}(n,e);if(w5(n))return function(n,e){return new fs(t=>{const i=new Ti;return i.add(e.schedule(()=>n.then(s=>{i.add(e.schedule(()=>{t.next(s),i.add(e.schedule(()=>t.complete()))}))},s=>{i.add(e.schedule(()=>t.error(s)))}))),i})}(n,e);if(C5(n))return mk(n,e);if(function(n){return n&&"function"==typeof n[zS]}(n)||"string"==typeof n)return function(n,e){if(!n)throw new Error("Iterable cannot be null");return new fs(t=>{const i=new Ti;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(e.schedule(()=>{s=n[zS](),i.add(e.schedule(function(){if(t.closed)return;let r,o;try{const a=s.next();r=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(r),this.schedule())}))})),i})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof fs?n:new fs(fk(n))}class _v extends Zs{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class xv extends Zs{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Ev(n,e){if(e.closed)return;if(n instanceof fs)return n.subscribe(e);let t;try{t=fk(n)(e)}catch(i){e.error(i)}return t}function Ho(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(Ho((s,r)=>vo(n(s,r)).pipe(Li((o,a)=>e(s,o,r,a))),t)):("number"==typeof e&&(t=e),i=>i.lift(new BJ(n,t)))}class BJ{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new VJ(e,this.project,this.concurrent))}}class VJ extends xv{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(t)}_innerSub(e){const t=new _v(this),i=this.destination;i.add(t);const s=Ev(e,t);s!==t&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Dv(n=Number.POSITIVE_INFINITY){return Ho(jS,n)}function gk(n,e){return e?mk(n,e):new fs(v5(n))}function xa(...n){let e=Number.POSITIVE_INFINITY,t=null,i=n[n.length-1];return cg(i)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof i&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof fs?n[0]:Dv(e)(gk(n,t))}function yk(){return function(e){return e.lift(new HJ(e))}}class HJ{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const s=new jJ(e,i),r=t.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class jJ extends Zs{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,s=e._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class S5 extends fs{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new Ti,e.add(this.source.subscribe(new WJ(this.getSubject(),this))),e.closed&&(this._connection=null,e=Ti.EMPTY)),e}refCount(){return yk()(this)}}const zJ=(()=>{const n=S5.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class WJ extends y5{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function qJ(){return new ht}function Ws(n){for(let e in n)if(n[e]===Ws)return e;throw Error("Could not find renamed property on target object.")}function bk(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Wi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Wi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function vk(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const $J=Ws({__forward_ref__:Ws});function es(n){return n.__forward_ref__=es,n.toString=function(){return Wi(this())},n}function Nt(n){return function(n){return"function"==typeof n&&n.hasOwnProperty($J)&&n.__forward_ref__===es}(n)?n():n}class _f extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function Ei(n){return"string"==typeof n?n:null==n?"":String(n)}function Ea(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ei(n)}function WS(n,e){const t=e?` in ${e}`:"";throw new _f("201",`No provider for ${Ea(n)} found${t}`)}function bl(n,e){null==n&&function(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function Ne(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Bd(n){return E5(n,US)||E5(n,M5)}function E5(n,e){return n.hasOwnProperty(e)?n[e]:null}function D5(n){return n&&(n.hasOwnProperty(wk)||n.hasOwnProperty(tee))?n[wk]:null}const US=Ws({\u0275prov:Ws}),wk=Ws({\u0275inj:Ws}),M5=Ws({ngInjectableDef:Ws}),tee=Ws({ngInjectorDef:Ws});var Vt=(()=>((Vt=Vt||{})[Vt.Default=0]="Default",Vt[Vt.Host=1]="Host",Vt[Vt.Self=2]="Self",Vt[Vt.SkipSelf=4]="SkipSelf",Vt[Vt.Optional=8]="Optional",Vt))();let Sk;function Ku(n){const e=Sk;return Sk=n,e}function k5(n,e,t){const i=Bd(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Vt.Optional?null:void 0!==e?e:void WS(Wi(n),"Injector")}function Qu(n){return{toString:n}.toString()}var ql=(()=>((ql=ql||{})[ql.OnPush=0]="OnPush",ql[ql.Default=1]="Default",ql))(),Vr=(()=>((Vr=Vr||{})[Vr.Emulated=0]="Emulated",Vr[Vr.None=2]="None",Vr[Vr.ShadowDom=3]="ShadowDom",Vr))();const see="undefined"!=typeof globalThis&&globalThis,nee="undefined"!=typeof window&&window,ree="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ks=see||"undefined"!=typeof global&&global||nee||ree,dg={},mn=[],GS=Ws({\u0275cmp:Ws}),_k=Ws({\u0275dir:Ws}),xk=Ws({\u0275pipe:Ws}),A5=Ws({\u0275mod:Ws}),oee=Ws({\u0275loc:Ws}),Vd=Ws({\u0275fac:Ws}),Mv=Ws({__NG_ELEMENT_ID__:Ws});let aee=0;function ct(n){return Qu(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ql.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||mn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Vr.Emulated,id:"c",styles:n.styles||mn,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,o=n.pipes;return i.id+=aee++,i.inputs=I5(n.inputs,t),i.outputs=I5(n.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(T5):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(L5):null,i})}function T5(n){return Da(n)||function(n){return n[_k]||null}(n)}function L5(n){return function(n){return n[xk]||null}(n)}const R5={};function it(n){return Qu(()=>{const e={type:n.type,bootstrap:n.bootstrap||mn,declarations:n.declarations||mn,imports:n.imports||mn,exports:n.exports||mn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(R5[n.id]=n.type),e})}function I5(n,e){if(null==n)return dg;const t={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),t[s]=i,e&&(e[s]=r)}return t}const ee=ct;function Da(n){return n[GS]||null}function $l(n,e){const t=n[A5]||null;if(!t&&!0===e)throw new Error(`Type ${Wi(n)} does not have '\u0275mod' property.`);return t}function Bc(n){return Array.isArray(n)&&"object"==typeof n[1]}function Nh(n){return Array.isArray(n)&&!0===n[1]}function Mk(n){return 0!=(8&n.flags)}function XS(n){return 2==(2&n.flags)}function Bh(n){return null!==n.template}function fee(n){return 0!=(512&n[2])}function kf(n,e){return n.hasOwnProperty(Vd)?n[Vd]:null}class O5{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function F5(n){return n.type.prototype.ngOnChanges&&(n.setInput=bee),yee}function yee(){const n=B5(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===dg)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function bee(n,e,t,i){const s=B5(n)||function(n,e){return n[N5]=e}(n,{previous:dg,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[t],l=o[a];r[a]=new O5(l&&l.currentValue,e,o===dg),n[i]=e}const N5="__ngSimpleChanges__";function B5(n){return n[N5]||null}let Tk;function pr(n){return!!n.listen}const j5={createRenderer:(n,e)=>void 0!==Tk?Tk:"undefined"!=typeof document?document:void 0};function Hr(n){for(;Array.isArray(n);)n=n[0];return n}function Kl(n,e){return Hr(e[n.index])}function Rk(n,e){return n.data[e]}function Cl(n,e){const t=e[n];return Bc(t)?t:t[0]}function z5(n){return 4==(4&n[2])}function Ik(n){return 128==(128&n[2])}function ep(n,e){return null==e?null:n[e]}function W5(n){n[18]=0}function Pk(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const pi={lFrame:K5(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function U5(){return pi.bindingsEnabled}function De(){return pi.lFrame.lView}function Ls(){return pi.lFrame.tView}function Jr(){let n=G5();for(;null!==n&&64===n.type;)n=n.parent;return n}function G5(){return pi.lFrame.currentTNode}function Vc(n,e){const t=pi.lFrame;t.currentTNode=n,t.isParent=e}function Ok(){return pi.lFrame.isParent}function Fk(){pi.lFrame.isParent=!1}function QS(){return pi.isInCheckNoChangesMode}function JS(n){pi.isInCheckNoChangesMode=n}function yg(){return pi.lFrame.bindingIndex++}function Iee(n,e){const t=pi.lFrame;t.bindingIndex=t.bindingRootIndex=n,Nk(e)}function Nk(n){pi.lFrame.currentDirectiveIndex=n}function $5(){return pi.lFrame.currentQueryIndex}function Vk(n){pi.lFrame.currentQueryIndex=n}function Oee(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function X5(n,e,t){if(t&Vt.SkipSelf){let s=e,r=n;for(;!(s=s.parent,null!==s||t&Vt.Host||(s=Oee(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;e=s,n=r}const i=pi.lFrame=Z5();return i.currentTNode=e,i.lView=n,!0}function e_(n){const e=Z5(),t=n[1];pi.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Z5(){const n=pi.lFrame,e=null===n?null:n.child;return null===e?K5(n):e}function K5(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Q5(){const n=pi.lFrame;return pi.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const J5=Q5;function t_(){const n=Q5();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ka(){return pi.lFrame.selectedIndex}function tp(n){pi.lFrame.selectedIndex=n}function fr(){const n=pi.lFrame;return Rk(n.tView,n.selectedIndex)}function i_(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const r=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:c}=r;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),h&&((n.viewHooks||(n.viewHooks=[])).push(t,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,h)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function s_(n,e,t){eB(n,e,3,t)}function n_(n,e,t,i){(3&n[2])===t&&eB(n,e,t,i)}function jk(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function eB(n,e,t,i){const r=null!=i?i:-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<r||-1==r)&&(zee(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function zee(n,e,t,i){const s=t[i]<0,r=t[i+1],a=n[s?-t[i]:t[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class Rv{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function r_(n,e,t){const i=pr(n);let s=0;for(;s<t.length;){const r=t[s];if("number"==typeof r){if(0!==r)break;s++;const o=t[s++],a=t[s++],l=t[s++];i?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=r,a=t[++s];Wk(o)?i&&n.setProperty(e,o,a):i?n.setAttribute(e,o,a):e.setAttribute(o,a),s++}}return s}function tB(n){return 3===n||4===n||6===n}function Wk(n){return 64===n.charCodeAt(0)}function o_(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?t=s:0===t||iB(n,t,s,null,-1===t||2===t?e[++i]:null)}}return n}function iB(n,e,t,i,s){let r=0,o=n.length;if(-1===e)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,e),r=o+1),n.splice(r++,0,t),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function sB(n){return-1!==n}function bg(n){return 32767&n}function vg(n,e){let t=function(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let Uk=!0;function a_(n){const e=Uk;return Uk=n,e}let $ee=0;function Pv(n,e){const t=Yk(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,Gk(i.data,n),Gk(e,null),Gk(i.blueprint,null));const s=l_(n,e),r=n.injectorIndex;if(sB(s)){const o=bg(s),a=vg(s,e),l=a[1].data;for(let h=0;h<8;h++)e[r+h]=a[o+h]|l[o+h]}return e[r+8]=s,r}function Gk(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Yk(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function l_(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,s=e;for(;null!==s;){const r=s[1],o=r.type;if(i=2===o?r.declTNode:1===o?s[6]:null,null===i)return-1;if(t++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function h_(n,e,t){!function(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Mv)&&(i=t[Mv]),null==i&&(i=t[Mv]=$ee++);const s=255&i;e.data[n+(s>>5)]|=1<<s}(n,e,t)}function oB(n,e,t){if(t&Vt.Optional)return n;WS(e,"NodeInjector")}function aB(n,e,t,i){if(t&Vt.Optional&&void 0===i&&(i=null),0==(t&(Vt.Self|Vt.Host))){const s=n[9],r=Ku(void 0);try{return s?s.get(e,i,t&Vt.Optional):k5(e,i,t&Vt.Optional)}finally{Ku(r)}}return oB(i,e,t)}function lB(n,e,t,i=Vt.Default,s){if(null!==n){const r=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Mv)?n[Mv]:void 0;return"number"==typeof e?e>=0?255&e:Kee:e}(t);if("function"==typeof r){if(!X5(e,n,i))return i&Vt.Host?oB(s,t,i):aB(e,t,i,s);try{const o=r(i);if(null!=o||i&Vt.Optional)return o;WS(t)}finally{J5()}}else if("number"==typeof r){let o=null,a=Yk(n,e),l=-1,h=i&Vt.Host?e[16][6]:null;for((-1===a||i&Vt.SkipSelf)&&(l=-1===a?l_(n,e):e[a+8],-1!==l&&dB(i,!1)?(o=e[1],a=bg(l),e=vg(l,e)):a=-1);-1!==a;){const c=e[1];if(cB(r,a,c.data)){const d=Qee(a,e,t,o,i,h);if(d!==hB)return d}l=e[a+8],-1!==l&&dB(i,e[1].data[a+8]===h)&&cB(r,a,e)?(o=c,a=bg(l),e=vg(l,e)):a=-1}}}return aB(e,t,i,s)}const hB={};function Kee(){return new Cg(Jr(),De())}function Qee(n,e,t,i,s,r){const o=e[1],a=o.data[n+8],c=c_(a,o,t,null==i?XS(a)&&Uk:i!=o&&0!=(3&a.type),s&Vt.Host&&r===a);return null!==c?Ov(e,o,c,a):hB}function c_(n,e,t,i,s){const r=n.providerIndexes,o=e.data,a=1048575&r,l=n.directiveStart,c=r>>20,u=s?a+c:n.directiveEnd;for(let p=i?a:a+c;p<u;p++){const m=o[p];if(p<l&&t===m||p>=l&&m.type===t)return p}if(s){const p=o[l];if(p&&Bh(p)&&p.type===t)return l}return null}function Ov(n,e,t,i){let s=n[t];const r=e.data;if(function(n){return n instanceof Rv}(s)){const o=s;o.resolving&&function(n,e){throw new _f("200",`Circular dependency in DI detected for ${n}`)}(Ea(r[t]));const a=a_(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Ku(o.injectImpl):null;X5(n,i,Vt.Default);try{s=n[t]=o.factory(void 0,r,n,i),e.firstCreatePass&&t>=i.directiveStart&&function(n,e,t){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=e.type.prototype;if(i){const o=F5(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}s&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,s),r&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,r),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,r))}(t,r[t],e)}finally{null!==l&&Ku(l),a_(a),o.resolving=!1,J5()}}return s}function cB(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function dB(n,e){return!(n&Vt.Self||n&Vt.Host&&e)}class Cg{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return lB(this._tNode,this._lView,e,void 0,t)}}const Sg="__parameters__";function Tf(n,e,t){return Qu(()=>{const i=function(n){return function(...t){if(n){const i=n(...t);for(const s in i)this[s]=i[s]}}}(e);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(l,h,c){const d=l.hasOwnProperty(Sg)?l[Sg]:Object.defineProperty(l,Sg,{value:[]})[Sg];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class Ie{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ne({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ite=new Ie("AnalyzeForEntryComponents"),d_=Function;function Ql(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),Ql(i,e)):e!==n&&e.push(i)}return e}function jc(n,e){n.forEach(t=>Array.isArray(t)?jc(t,e):e(t))}function p_(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Lf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function sp(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Sl(n,e,t){let i=xg(n,e);return i>=0?n[1|i]=t:(i=~i,function(n,e,t,i){let s=n.length;if(s==e)n.push(t,i);else if(1===s)n.push(i,n[0]),n[0]=t;else{for(s--,n.push(n[s-1],n[s]);s>e;)n[s]=n[s-2],s--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Xk(n,e){const t=xg(n,e);if(t>=0)return n[1|t]}function xg(n,e){return function(n,e,t){let i=0,s=n.length>>t;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<t];if(e===o)return r<<t;o>e?s=r:i=r+1}return~(s<<t)}(n,e,1)}const Vv={},Kk="__NG_DI_FLAG__",Eg="ngTempTokenPath",ute=/\n/gm,Qk="__source",Jk=Ws({provide:String,useValue:Ws});let Hv;function Dg(n){const e=Hv;return Hv=n,e}function fte(n,e=Vt.Default){if(void 0===Hv)throw new Error("inject() must be called from an injection context");return null===Hv?k5(n,void 0,e):Hv.get(n,e&Vt.Optional?null:void 0,e)}function $(n,e=Vt.Default){return(Sk||fte)(Nt(n),e)}const eA=$;function Rf(n){const e=[];for(let t=0;t<n.length;t++){const i=Nt(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=Vt.Default;for(let o=0;o<i.length;o++){const a=i[o],l=mte(a);"number"==typeof l?-1===l?s=a.token:r|=l:s=a}e.push($(s,r))}else e.push($(i))}return e}function jv(n,e){return n[Kk]=e,n.prototype[Kk]=e,n}function mte(n){return n[Kk]}function yB(n,e,t,i){const s=n[Eg];throw e[Qk]&&s.unshift(e[Qk]),n.message=function(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=Wi(e);if(Array.isArray(e))s=e.map(Wi).join(" -> ");else if("object"==typeof e){let r=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):Wi(a)))}s=`{${r.join(", ")}}`}return`${t}${i?"("+i+")":""}[${s}]: ${n.replace(ute,"\n  ")}`}("\n"+n.message,s,t,i),n.ngTokenPath=s,n[Eg]=null,n}const Mg=jv(Tf("Inject",n=>({token:n})),-1),Mr=jv(Tf("Optional"),8),_l=jv(Tf("SkipSelf"),4);const FB="__ngContext__";function da(n,e){n[FB]=e}function cA(n){const e=function(n){return n[FB]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function C_(n){return n.ngOriginalError}function lie(n,...e){n.error(...e)}class Vh{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),s=function(n){return n&&n.ngErrorLogger||lie}(e);s(this._console,"ERROR",e),t&&s(this._console,"ORIGINAL ERROR",t),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?function(n){return n.ngDebugContext}(e)||this._findContext(C_(e)):null}_findOriginalError(e){let t=e&&C_(e);for(;t&&C_(t);)t=C_(t);return t||null}}const GB=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ks))();function Uc(n){return n instanceof Function?n():n}var El=(()=>((El=El||{})[El.Important=1]="Important",El[El.DashCase=2]="DashCase",El))();function pA(n,e){return undefined(n,e)}function qv(n){const e=n[3];return Nh(e)?e[3]:e}function fA(n){return ZB(n[13])}function mA(n){return ZB(n[4])}function ZB(n){for(;null!==n&&!Nh(n);)n=n[4];return n}function Lg(n,e,t,i,s){if(null!=i){let r,o=!1;Nh(i)?r=i:Bc(i)&&(o=!0,i=i[0]);const a=Hr(i);0===n&&null!==t?null==s?i3(e,t,a):Pf(e,t,a,s||null,!0):1===n&&null!==t?Pf(e,t,a,s||null,!0):2===n?function(n,e,t){const i=S_(n,e);i&&function(n,e,t,i){pr(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=r&&function(n,e,t,i,s){const r=t[7];r!==Hr(t)&&Lg(e,n,i,r,s);for(let a=10;a<t.length;a++){const l=t[a];$v(l[1],l,n,e,i,r)}}(e,n,r,t,s)}}function yA(n,e,t){return pr(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function QB(n,e){const t=n[9],i=t.indexOf(e),s=e[3];1024&e[2]&&(e[2]&=-1025,Pk(s,-1)),t.splice(i,1)}function bA(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const s=i[17];null!==s&&s!==n&&QB(s,i),e>0&&(n[t-1][4]=i[4]);const r=Lf(n,10+e);!function(n,e){$v(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function JB(n,e){if(!(256&e[2])){const t=e[11];pr(t)&&t.destroyNode&&$v(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return vA(n[1],n);for(;e;){let t=null;if(Bc(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)Bc(e)&&vA(e[1],e),e=e[3];null===e&&(e=n),Bc(e)&&vA(e[1],e),t=e&&e[4]}e=t}}(e)}}function vA(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const s=e[t[i]];if(!(s instanceof Rv)){const r=t[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],l=r[o+1];try{l.call(a)}finally{}}else try{r.call(s)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,i=e[7];let s=-1;if(null!==t)for(let r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){const o=t[r+1],a="function"==typeof o?o(e):Hr(e[o]),l=i[s=t[r+2]],h=t[r+3];"boolean"==typeof h?a.removeEventListener(t[r],l,h):h>=0?i[s=h]():i[s=-h].unsubscribe(),r+=2}else{const o=i[s=t[r+1]];t[r].call(o)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();e[7]=null}}(n,e),1===e[1].type&&pr(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Nh(e[3])){t!==e[3]&&QB(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function e3(n,e,t){return function(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===Vr.None||s===Vr.Emulated)return null}return Kl(i,t)}(n,e.parent,t)}function Pf(n,e,t,i,s){pr(n)?n.insertBefore(e,t,i,s):e.insertBefore(t,i,s)}function i3(n,e,t){pr(n)?n.appendChild(e,t):e.appendChild(t)}function s3(n,e,t,i,s){null!==i?Pf(n,e,t,i,s):i3(n,e,t)}function S_(n,e){return pr(n)?n.parentNode(e):e.parentNode}function n3(n,e,t){return o3(n,e,t)}let o3=function(n,e,t){return 40&n.type?Kl(n,t):null};function __(n,e,t,i){const s=e3(n,i,e),r=e[11],a=n3(i.parent||e[6],i,e);if(null!=s)if(Array.isArray(t))for(let l=0;l<t.length;l++)s3(r,s,t[l],a,!1);else s3(r,s,t,a,!1)}function x_(n,e){if(null!==e){const t=e.type;if(3&t)return Kl(e,n);if(4&t)return wA(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return x_(n,i);{const s=n[e.index];return Nh(s)?wA(-1,s):Hr(s)}}if(32&t)return pA(e,n)()||Hr(n[e.index]);{const i=l3(n,e);return null!==i?Array.isArray(i)?i[0]:x_(qv(n[16]),i):x_(n,e.next)}}return null}function l3(n,e){return null!==e?n[16][6].projection[e.projection]:null}function wA(n,e){const t=10+n+1;if(t<e.length){const i=e[t],s=i[1].firstChild;if(null!==s)return x_(i,s)}return e[7]}function SA(n,e,t,i,s,r,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&da(Hr(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)SA(n,e,t.child,i,s,r,!1),Lg(e,n,s,a,r);else if(32&l){const h=pA(t,i);let c;for(;c=h();)Lg(e,n,s,c,r);Lg(e,n,s,a,r)}else 16&l?c3(n,e,i,t,s,r):Lg(e,n,s,a,r);t=o?t.projectionNext:t.next}}function $v(n,e,t,i,s,r){SA(t,i,n.firstChild,e,s,r,!1)}function c3(n,e,t,i,s,r){const o=t[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++)Lg(e,n,s,l[h],r);else SA(n,e,l,o[3],s,r,!0)}function d3(n,e,t){pr(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function _A(n,e,t){pr(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function u3(n,e,t){let i=n.length;for(;;){const s=n.indexOf(e,t);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=e.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}t=s+1}}const p3="ng-template";function Pie(n,e,t){let i=0;for(;i<n.length;){let s=n[i++];if(t&&"class"===s){if(s=n[i],-1!==u3(s.toLowerCase(),e,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}}return!1}function f3(n){return 4===n.type&&n.value!==p3}function Oie(n,e,t){return e===(4!==n.type||t?n.value:p3)}function Fie(n,e,t){let i=4;const s=n.attrs||[],r=function(n){for(let e=0;e<n.length;e++)if(tB(n[e]))return e;return n.length}(s);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Oie(n,l,t)||""===l&&1===e.length){if(Hh(i))return!1;o=!0}}else{const h=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!Pie(n.attrs,h,t)){if(Hh(i))return!1;o=!0}continue}const d=Nie(8&i?"class":l,s,f3(n),t);if(-1===d){if(Hh(i))return!1;o=!0;continue}if(""!==h){let u;u=d>r?"":s[d+1].toLowerCase();const p=8&i?u:null;if(p&&-1!==u3(p,h,0)||2&i&&h!==u){if(Hh(i))return!1;o=!0}}}}else{if(!o&&!Hh(i)&&!Hh(l))return!1;if(o&&Hh(l))continue;o=!1,i=l|1&i}}return Hh(i)||o}function Hh(n){return 0==(1&n)}function Nie(n,e,t,i){if(null===e)return-1;let s=0;if(i||!t){let r=!1;for(;s<e.length;){const o=e[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=e[++s];for(;"string"==typeof a;)a=e[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function m3(n,e,t=!1){for(let i=0;i<e.length;i++)if(Fie(n,e[i],t))return!0;return!1}function jie(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function g3(n,e){return n?":not("+e.trim()+")":e}function zie(n){let e=n[0],t=1,i=2,s="",r=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!Hh(o)&&(e+=g3(r,s),s=""),i=o,r=r||!Hh(i);t++}return""!==s&&(e+=g3(r,s)),e}const Ci={};function Re(n){y3(Ls(),De(),ka()+n,QS())}function y3(n,e,t,i){if(!i)if(3==(3&e[2])){const r=n.preOrderCheckHooks;null!==r&&s_(e,r,t)}else{const r=n.preOrderHooks;null!==r&&n_(e,r,0,t)}tp(t)}function E_(n,e){return n<<17|e<<2}function jh(n){return n>>17&32767}function xA(n){return 2|n}function jd(n){return(131068&n)>>2}function EA(n,e){return-131069&n|e<<2}function DA(n){return 1|n}function M3(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i],r=t[i+1];if(-1!==r){const o=n.data[r];Vk(s),o.contentQueries(2,e[r],r)}}}function Xv(n,e,t,i,s,r,o,a,l,h){const c=e.blueprint.slice();return c[0]=s,c[2]=140|i,W5(c),c[3]=c[15]=n,c[8]=t,c[10]=o||n&&n[10],c[11]=a||n&&n[11],c[12]=l||n&&n[12]||null,c[9]=h||n&&n[9]||null,c[6]=r,c[16]=2==e.type?n[16]:c,c}function Rg(n,e,t,i,s){let r=n.data[e];if(null===r)r=function(n,e,t,i,s){const r=G5(),o=Ok(),l=n.data[e]=function(n,e,t,i,s,r){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,t,e,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(n,e,t,i,s),pi.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=t,r.value=i,r.attrs=s;const o=function(){const n=pi.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return Vc(r,!0),r}function Ig(n,e,t,i){if(0===t)return-1;const s=e.length;for(let r=0;r<t;r++)e.push(i),n.blueprint.push(i),n.data.push(null);return s}function Zv(n,e,t){e_(e);try{const i=n.viewQuery;null!==i&&zA(1,i,t);const s=n.template;null!==s&&k3(n,e,s,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&M3(n,e),n.staticViewQueries&&zA(2,n.viewQuery,t);const r=n.components;null!==r&&function(n,e){for(let t=0;t<e.length;t++)wse(n,e[t])}(e,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,t_()}}function Pg(n,e,t,i){const s=e[2];if(256==(256&s))return;e_(e);const r=QS();try{W5(e),function(n){pi.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&k3(n,e,t,2,i);const o=3==(3&s);if(!r)if(o){const h=n.preOrderCheckHooks;null!==h&&s_(e,h,null)}else{const h=n.preOrderHooks;null!==h&&n_(e,h,0,null),jk(e,0)}if(function(n){for(let e=fA(n);null!==e;e=mA(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const s=t[i],r=s[3];0==(1024&s[2])&&Pk(r,1),s[2]|=1024}}}(e),function(n){for(let e=fA(n);null!==e;e=mA(e))for(let t=10;t<e.length;t++){const i=e[t],s=i[1];Ik(i)&&Pg(s,i,s.template,i[8])}}(e),null!==n.contentQueries&&M3(n,e),!r)if(o){const h=n.contentCheckHooks;null!==h&&s_(e,h)}else{const h=n.contentHooks;null!==h&&n_(e,h,1),jk(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)tp(~s);else{const r=s,o=t[++i],a=t[++i];Iee(o,r),a(2,e[r])}}}finally{tp(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)Cse(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&zA(2,l,i),!r)if(o){const h=n.viewCheckHooks;null!==h&&s_(e,h)}else{const h=n.viewHooks;null!==h&&n_(e,h,2),jk(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Pk(e[3],-1))}finally{t_()}}function tse(n,e,t,i){const s=e[10],r=!QS(),o=z5(e);try{r&&!o&&s.begin&&s.begin(),o&&Zv(n,e,i),Pg(n,e,t,i)}finally{r&&!o&&s.end&&s.end()}}function k3(n,e,t,i,s){const r=ka(),o=2&i;try{tp(-1),o&&e.length>20&&y3(n,e,20,QS()),t(i,s)}finally{tp(r)}}function T3(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=k_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function k_(n,e,t,i,s,r,o,a,l,h){const c=20+i,d=c+s,u=function(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ci);return t}(c,d),p="function"==typeof h?h():h;return u[1]={type:n,blueprint:u,template:t,queries:null,viewQuery:a,declTNode:e,data:u.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function I3(n,e,t,i){const s=function(n){return n[7]||(n[7]=[])}(e);null===t?s.push(i):(s.push(t),n.firstCreatePass&&function(n){return n.cleanup||(n.cleanup=[])}(n).push(i,s.length-1))}function P3(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,s):t[i]=[e,s]}return t}function F3(n,e,t,i,s,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,s,o)}}function N3(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function B3(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function fse(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Bh(e)&&(t[""]=n)}}function V3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function H3(n,e,t,i,s){n.data[i]=s;const r=s.factory||(s.factory=kf(s.type)),o=new Rv(r,Bh(s),null);n.blueprint[i]=o,t[i]=o,F3(n,e,0,i,Ig(n,t,s.hostVars,Ci),s)}function mse(n,e,t){const i=Kl(e,n),s=T3(t),r=n[10],o=A_(n,Xv(n,s,null,t.onPush?64:16,i,e,r,r.createRenderer(i,t),null,null));n[e.index]=o}function Gc(n,e,t,i,s,r){const o=Kl(n,e);!function(n,e,t,i,s,r,o){if(null==r)pr(n)?n.removeAttribute(e,s,t):e.removeAttribute(s);else{const a=null==o?Ei(r):o(r,i||"",s);pr(n)?n.setAttribute(e,s,a,t):t?e.setAttributeNS(t,s,a):e.setAttribute(s,a)}}(e[11],o,r,n.value,t,i,s)}function gse(n,e,t,i,s,r){const o=r[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const h=o[l++],c=o[l++],d=o[l++];null!==a?i.setInput(t,d,h,c):t[c]=d}}}function yse(n,e){let t=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===t&&(t=[]),t.push(s,n[s],e[i+1])),i+=2}else i+=2;else i+=4}return t}function Cse(n,e){const t=Cl(e,n);if(Ik(t)){const i=t[1];80&t[2]?Pg(i,t,i.template,t[8]):t[5]>0&&BA(t)}}function BA(n){for(let i=fA(n);null!==i;i=mA(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const o=r[1];Pg(o,r,o.template,r[8])}else r[5]>0&&BA(r)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const s=Cl(t[i],n);Ik(s)&&s[5]>0&&BA(s)}}function wse(n,e){const t=Cl(e,n),i=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Zv(i,t,t[8])}function A_(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function jA(n,e,t){const i=e[10];i.begin&&i.begin();try{Pg(n,e,n.template,t)}catch(s){throw function(n,e){const t=n[9],i=t?t.get(Vh,null):null;i&&i.handleError(e)}(e,s),s}finally{i.end&&i.end()}}function z3(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=cA(t),s=i[1];tse(s,i,s.template,t)}}(n[8])}function zA(n,e,t){Vk(0),e(n,t)}const Dse=(()=>Promise.resolve(null))();function q3(n,e,t,i,s){for(let r=0;r<t.length;){const o=t[r++],a=t[r++],l=e[o],h=n.data[o];null!==h.setInput?h.setInput(l,s,i,a):l[a]=s}}function T_(n,e,t){let i=t?n.styles:null,s=t?n.classes:null,r=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?r=a:1==r?s=vk(s,a):2==r&&(i=vk(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=s:n.classesWithoutHost=s}const Og=new Ie("INJECTOR",-1);class $3{get(e,t=Vv){if(t===Vv){const i=new Error(`NullInjectorError: No provider for ${Wi(e)}!`);throw i.name="NullInjectorError",i}return t}}const Kv=new Ie("Set Injector scope."),Qv={},Ase={};let WA;function X3(){return void 0===WA&&(WA=new $3),WA}function Z3(n,e=null,t=null,i){return new Lse(n,t,e||X3(),i)}class Lse{constructor(e,t,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];t&&jc(t,a=>this.processProvider(a,e,t)),jc([e],a=>this.processInjectorType(a,[],r)),this.records.set(Og,Fg(void 0,this));const o=this.records.get(Kv);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof e?null:Wi(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Vv,i=Vt.Default){this.assertNotDestroyed();const s=Dg(this),r=Ku(void 0);try{if(!(i&Vt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ie}(e)&&Bd(e);a=l&&this.injectableDefInScope(l)?Fg(UA(e),Qv):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&Vt.Self?X3():this.parent).get(e,t=i&Vt.Optional&&t===Vv?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Eg]=o[Eg]||[]).unshift(Wi(e)),s)throw o;return yB(o,e,"R3InjectorError",this.source)}throw o}finally{Ku(r),Dg(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,s)=>e.push(Wi(s))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=Nt(e)))return!1;let s=D5(e);const r=null==s&&e.ngModule||void 0,o=void 0===r?e:r,a=-1!==i.indexOf(o);if(void 0!==r&&(s=D5(r)),null==s)return!1;if(null!=s.imports&&!a){let c;i.push(o);try{jc(s.imports,d=>{this.processInjectorType(d,t,i)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:u,providers:p}=c[d];jc(p,m=>this.processProvider(m,u,p||mn))}}this.injectorDefTypes.add(o);const l=kf(o)||(()=>new o);this.records.set(o,Fg(l,Qv));const h=s.providers;if(null!=h&&!a){const c=e;jc(h,d=>this.processProvider(d,c,h))}return void 0!==r&&void 0!==e.providers}processProvider(e,t,i){let s=Ng(e=Nt(e))?e:Nt(e&&e.provide);const r=function(n,e,t){return Q3(n)?Fg(void 0,n.useValue):Fg(K3(n),Qv)}(e);if(Ng(e)||!0!==e.multi)this.records.get(s);else{let o=this.records.get(s);o||(o=Fg(void 0,Qv,!0),o.factory=()=>Rf(o.multi),this.records.set(s,o)),s=e,o.multi.push(e)}this.records.set(s,r)}hydrate(e,t){return t.value===Qv&&(t.value=Ase,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Nt(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function UA(n){const e=Bd(n),t=null!==e?e.factory:kf(n);if(null!==t)return t;if(n instanceof Ie)throw new Error(`Token ${Wi(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const i=sp(e,"?");throw new Error(`Can't resolve all parameters for ${Wi(n)}: (${i.join(", ")}).`)}const t=function(n){const e=n&&(n[US]||n[M5]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function K3(n,e,t){let i;if(Ng(n)){const s=Nt(n);return kf(s)||UA(s)}if(Q3(n))i=()=>Nt(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Rf(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>$(Nt(n.useExisting));else{const s=Nt(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return kf(s)||UA(s);i=()=>new s(...Rf(n.deps))}return i}function Fg(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Q3(n){return null!==n&&"object"==typeof n&&Jk in n}function Ng(n){return"function"==typeof n}const J3=function(n,e,t){return function(n,e=null,t=null,i){const s=Z3(n,e,t,i);return s._resolveInjectorDefTypes(),s}({name:t},e,n,t)};let _t=(()=>{class n{static create(t,i){return Array.isArray(t)?J3(t,i,""):J3(t.providers,t.parent,t.name||"")}}return n.THROW_IF_NOT_FOUND=Vv,n.NULL=new $3,n.\u0275prov=Ne({token:n,providedIn:"any",factory:()=>$(Og)}),n.__NG_ELEMENT_ID__=-1,n})();function Qse(n,e){i_(cA(n)[1],Jr())}function oe(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let s;if(Bh(n))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");s=e.\u0275dir}if(s){if(t){i.push(s);const o=n;o.inputs=ZA(n.inputs),o.declaredInputs=ZA(n.declaredInputs),o.outputs=ZA(n.outputs);const a=s.hostBindings;a&&ine(n,a);const l=s.viewQuery,h=s.contentQueries;if(l&&ene(n,l),h&&tne(n,h),bk(n.inputs,s.inputs),bk(n.declaredInputs,s.declaredInputs),bk(n.outputs,s.outputs),Bh(s)&&s.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===oe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=e+=s.hostVars,s.hostAttrs=o_(s.hostAttrs,t=o_(t,s.hostAttrs))}}(i)}function ZA(n){return n===dg?{}:n===mn?[]:n}function ene(n,e){const t=n.viewQuery;n.viewQuery=t?(i,s)=>{e(i,s),t(i,s)}:e}function tne(n,e){const t=n.contentQueries;n.contentQueries=t?(i,s,r)=>{e(i,s,r),t(i,s,r)}:e}function ine(n,e){const t=n.hostBindings;n.hostBindings=t?(i,s)=>{e(i,s),t(i,s)}:e}let L_=null;function Bg(){if(!L_){const n=Ks.Symbol;if(n&&n.iterator)L_=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(L_=i)}}}return L_}function e0(n){return!!KA(n)&&(Array.isArray(n)||!(n instanceof Map)&&Bg()in n)}function KA(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ua(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function It(n,e,t,i){const s=De();return ua(s,yg(),e)&&(Ls(),Gc(fr(),s,n,e,t,i)),It}function E(n,e=Vt.Default){const t=De();return null===t?$(n,e):lB(Jr(),t,Nt(n),e)}function ze(n,e,t){const i=De();return ua(i,yg(),e)&&function(n,e,t,i,s,r,o,a){const l=Kl(e,t);let c,h=e.inputs;!a&&null!=h&&(c=h[i])?(q3(n,t,c,i,s),XS(e)&&function(n,e){const t=Cl(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,e.value||"",i):s,pr(r)?r.setProperty(l,i,s):Wk(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}(Ls(),fr(),i,n,e,i[11],t,!1),ze}function sT(n,e,t,i,s){const o=s?"class":"style";q3(n,t,e.inputs[o],o,i)}function ne(n,e,t,i){const s=De(),r=Ls(),o=20+n,a=s[11],l=s[o]=yA(a,e,pi.lFrame.currentNamespace),h=r.firstCreatePass?function(n,e,t,i,s,r,o){const a=e.consts,h=Rg(e,n,2,s,ep(a,r));return function(n,e,t,i){let s=!1;if(U5()){const r=function(n,e,t){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];m3(t,o.selectors,!1)&&(s||(s=[]),h_(Pv(t,e),n,o.type),Bh(o)?(B3(n,t),s.unshift(o)):s.push(o))}return s}(n,e,t),o=null===i?null:{"":-1};if(null!==r){s=!0,V3(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const d=r[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,h=Ig(n,e,r.length,null);for(let c=0;c<r.length;c++){const d=r[c];t.mergedAttrs=o_(t.mergedAttrs,d.hostAttrs),H3(n,t,e,h,d),fse(h,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const u=d.type.prototype;!a&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(u.ngOnChanges||u.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),h++}!function(n,e){const i=e.directiveEnd,s=n.data,r=e.attrs,o=[];let a=null,l=null;for(let h=e.directiveStart;h<i;h++){const c=s[h],d=c.inputs,u=null===r||f3(e)?null:yse(d,r);o.push(u),a=P3(d,h,a),l=P3(c.outputs,h,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function(n,e,t){if(e){const i=n.localNames=[];for(let s=0;s<e.length;s+=2){const r=t[e[s+1]];if(null==r)throw new _f("301",`Export of name '${e[s+1]}' not found!`);i.push(e[s],r)}}}(t,i,o)}t.mergedAttrs=o_(t.mergedAttrs,t.attrs)}(e,t,h,ep(a,o)),null!==h.attrs&&T_(h,h.attrs,!1),null!==h.mergedAttrs&&T_(h,h.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,h),h}(o,r,s,0,e,t,i):r.data[o];Vc(h,!0);const c=h.mergedAttrs;null!==c&&r_(a,l,c);const d=h.classes;null!==d&&_A(a,l,d);const u=h.styles;null!==u&&d3(a,l,u),64!=(64&h.flags)&&__(r,s,l,h),0===pi.lFrame.elementDepthCount&&da(l,s),pi.lFrame.elementDepthCount++,function(n){return 1==(1&n.flags)}(h)&&(function(n,e,t){!U5()||(function(n,e,t,i){const s=t.directiveStart,r=t.directiveEnd;n.firstCreatePass||Pv(t,e),da(i,e);const o=t.initialInputs;for(let a=s;a<r;a++){const l=n.data[a],h=Bh(l);h&&mse(e,t,l);const c=Ov(e,n,a,t);da(c,e),null!==o&&gse(0,a-s,c,l,0,o),h&&(Cl(t.index,e)[8]=c)}}(n,e,t,Kl(t,e)),128==(128&t.flags)&&function(n,e,t){const i=t.directiveStart,s=t.directiveEnd,o=t.index,a=pi.lFrame.currentDirectiveIndex;try{tp(o);for(let l=i;l<s;l++){const h=n.data[l],c=e[l];Nk(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&N3(h,c)}}finally{tp(-1),Nk(a)}}(n,e,t))}(r,s,h),function(n,e,t){if(Mk(e)){const s=e.directiveEnd;for(let r=e.directiveStart;r<s;r++){const o=n.data[r];o.contentQueries&&o.contentQueries(1,t[r],r)}}}(r,h,s)),null!==i&&function(n,e,t=Kl){const i=e.localNames;if(null!==i){let s=e.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?t(e,n):n[o];n[s++]=a}}}(s,h)}function re(){let n=Jr();Ok()?Fk():(n=n.parent,Vc(n,!1));const e=n;pi.lFrame.elementDepthCount--;const t=Ls();t.firstCreatePass&&(i_(t,n),Mk(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&sT(t,e,De(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&sT(t,e,De(),e.stylesWithoutHost,!1)}function Ui(n,e,t,i){ne(n,e,t,i),re()}function s0(n){return!!n&&"function"==typeof n.then}const P_=function(n){return!!n&&"function"==typeof n.subscribe};function Fne(n,e){let t=null;const i=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let s=0;s<e.length;s++){const r=e[s];if("*"!==r){if(null===i?m3(n,r,!0):jie(i,r))return s}else t=s}return t}function XV(n,e,t,i,s){const r=n[t+1],o=null===e;let a=i?jh(r):jd(r),l=!1;for(;0!==a&&(!1===l||o);){const c=n[a+1];Vne(n[a],e)&&(l=!0,n[a+1]=i?DA(c):xA(c)),a=i?jh(c):jd(c)}l&&(n[t+1]=i?xA(r):DA(r))}function Vne(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&xg(n,e)>=0}function hi(n,e){return function(n,e,t,i){const s=De(),r=Ls(),o=function(n){const e=pi.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);r.firstUpdatePass&&function(n,e,t,i){const s=n.data;if(null===s[t+1]){const r=s[ka()],o=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(r,i)&&null===e&&!o&&(e=!1),e=function(n,e,t,i){const s=function(n){const e=pi.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let r=i?e.residualClasses:e.residualStyles;if(null===s)0===(i?e.classBindings:e.styleBindings)&&(t=n0(t=oT(null,n,e,t,i),e.attrs,i),r=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==s)if(t=oT(s,n,e,t,i),null===r){let l=function(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==jd(i))return n[jh(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=oT(null,n,e,l[1],i),l=n0(l,e.attrs,i),function(n,e,t,i){n[jh(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else r=function(n,e,t){let i;const s=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<s;r++)i=n0(i,n[r].hostAttrs,t);return n0(i,e.attrs,t)}(n,e,i)}return void 0!==r&&(i?e.residualClasses=r:e.residualStyles=r),t}(s,r,e,i),function(n,e,t,i,s,r){let o=r?e.classBindings:e.styleBindings,a=jh(o),l=jd(o);n[i]=t;let c,h=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||xg(d,c)>0)&&(h=!0)}else c=t;if(s)if(0!==l){const u=jh(n[a+1]);n[i+1]=E_(u,a),0!==u&&(n[u+1]=EA(n[u+1],i)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=E_(a,0),0!==a&&(n[a+1]=EA(n[a+1],i)),a=i;else n[i+1]=E_(l,0),0===a?a=i:n[l+1]=EA(n[l+1],i),l=i;h&&(n[i+1]=xA(n[i+1])),XV(n,c,i,!0),XV(n,c,i,!1),function(n,e,t,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof e&&xg(r,e)>=0&&(t[i+1]=DA(t[i+1]))}(e,c,n,i,r),o=E_(a,l),r?e.classBindings=o:e.styleBindings=o}(s,r,e,t,o,i)}}(r,n,o,i),e!==Ci&&ua(s,o,e)&&function(n,e,t,i,s,r,o,a){if(!(3&e.type))return;const l=n.data,h=l[a+1];F_(function(n){return 1==(1&n)}(h)?o6(l,e,t,s,jd(h),o):void 0)||(F_(r)||function(n){return 2==(2&n)}(h)&&(r=o6(l,null,t,s,a,o)),function(n,e,t,i,s){const r=pr(n);if(e)s?r?n.addClass(t,i):t.classList.add(i):r?n.removeClass(t,i):t.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:El.DashCase;if(null==s)r?n.removeStyle(t,i,o):t.style.removeProperty(i);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),o|=El.Important),r?n.setStyle(t,i,s,o):t.style.setProperty(i,s,a?"important":"")}}}(i,o,function(n,e){return Hr(e[n])}(ka(),t),s,r))}(r,r.data[ka()],s,s[11],n,s[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Wi(function(n){return n instanceof class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),i,o)}(n,e,null,!0),hi}function oT(n,e,t,i,s){let r=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(r=e[a],i=n0(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function n0(n,e,t){const i=t?1:2;let s=-1;if(null!==e)for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Sl(n,o,!!t||e[++r]))}return void 0===n?null:n}function o6(n,e,t,i,s,r){const o=null===e;let a;for(;s>0;){const l=n[s],h=Array.isArray(l),c=h?l[1]:l,d=null===c;let u=t[s+1];u===Ci&&(u=d?mn:void 0);let p=d?Xk(u,i):c===i?u:void 0;if(h&&!F_(p)&&(p=Xk(l,i)),F_(p)&&(a=p,o))return a;const m=n[s+1];s=o?jh(m):jd(m)}if(null!==e){let l=r?e.residualClasses:e.residualStyles;null!=l&&(a=Xk(l,i))}return a}function F_(n){return void 0!==n}function ri(n,e=""){const t=De(),i=Ls(),s=n+20,r=i.firstCreatePass?Rg(i,s,1,e,null):i.data[s],o=t[s]=function(n,e){return pr(n)?n.createText(e):n.createTextNode(e)}(t[11],e);__(i,t,o,r),Vc(r,!1)}const Ff=void 0;var vre=["en",[["a","p"],["AM","PM"],Ff],[["AM","PM"],Ff,Ff],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ff,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ff,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ff,"{1} 'at' {0}",Ff],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let Qg={};function M6(n){return n in Qg||(Qg[n]=Ks.ng&&Ks.ng.common&&Ks.ng.common.locales&&Ks.ng.common.locales[n]),Qg[n]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const B_="en-US";let k6=B_;function aT(n){bl(n,"Expected localeId to be defined"),"string"==typeof n&&(k6=n.toLowerCase().replace(/_/g,"-"))}function cT(n,e,t,i,s){if(n=Nt(n),Array.isArray(n))for(let r=0;r<n.length;r++)cT(n[r],e,t,i,s);else{const r=Ls(),o=De();let a=Ng(n)?n:Nt(n.provide),l=K3(n);const h=Jr(),c=1048575&h.providerIndexes,d=h.directiveStart,u=h.providerIndexes>>20;if(Ng(n)||!n.multi){const p=new Rv(l,s,E),m=uT(a,e,s?c:c+u,d);-1===m?(h_(Pv(h,o),r,a),dT(r,n,e.length),e.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),t.push(p),o.push(p)):(t[m]=p,o[m]=p)}else{const p=uT(a,e,c+u,d),m=uT(a,e,c,c+u),y=p>=0&&t[p],b=m>=0&&t[m];if(s&&!b||!s&&!y){h_(Pv(h,o),r,a);const v=function(n,e,t,i,s){const r=new Rv(n,t,E);return r.multi=[],r.index=e,r.componentProviders=0,Q6(r,s,i&&!t),r}(s?goe:moe,t.length,s,i,l);!s&&b&&(t[m].providerFactory=v),dT(r,n,e.length,0),e.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),t.push(v),o.push(v)}else dT(r,n,p>-1?p:m,Q6(t[s?m:p],l,!s&&i));!s&&i&&b&&t[m].componentProviders++}}}function dT(n,e,t,i){const s=Ng(e);if(s||function(n){return!!n.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const a=n.destroyHooks||(n.destroyHooks=[]);if(!s&&e.multi){const l=a.indexOf(t);-1===l?a.push(t,[i,o]):a[l+1].push(i,o)}else a.push(t,o)}}}function Q6(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function uT(n,e,t,i){for(let s=t;s<i;s++)if(e[s]===n)return s;return-1}function moe(n,e,t,i){return pT(this.multi,[])}function goe(n,e,t,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ov(t,t[1],this.providerFactory.index,i);r=a.slice(0,o),pT(s,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],pT(s,r);return r}function pT(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Je(n,e=[]){return t=>{t.providersResolver=(i,s)=>function(n,e,t){const i=Ls();if(i.firstCreatePass){const s=Bh(n);cT(t,i.data,i.blueprint,s,!0),cT(e,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,e)}}class J6{}const t4="ngComponent";class voe{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${Wi(n)}. Did you add it to @NgModule.entryComponents?`);return e[t4]=n,e}(e)}}let Gd=(()=>{class n{}return n.NULL=new voe,n})();function W_(...n){}function ey(n,e){return new _e(Kl(n,e))}const Soe=function(){return ey(Jr(),De())};let _e=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Soe,n})();function i4(n){return n instanceof _e?n.nativeElement:n}class Nf{}let ns=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>xoe(),n})();const xoe=function(){const n=De(),t=Cl(Jr().index,n);return function(n){return n[11]}(Bc(t)?t:n)};let mT=(()=>{class n{}return n.\u0275prov=Ne({token:n,providedIn:"root",factory:()=>null}),n})();class op{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const s4=new op("12.2.11");class n4{constructor(){}supports(e){return e0(e)}create(e){return new koe(e)}}const Moe=(n,e)=>e;class koe{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Moe}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,s=0,r=null;for(;t||i;){const o=!i||t&&t.currentIndex<o4(i,s,r)?t:i,a=o4(o,s,r),l=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)s++;else{r||(r=[]);const h=a-s,c=l-s;if(h!=c){for(let u=0;u<h;u++){const p=u<r.length?r[u]:r[u]=0,m=p+u;c<=m&&m<h&&(r[u]=p+1)}r[o.previousIndex]=c-h}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!e0(e))throw new Error(`Error trying to diff '${Wi(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,r,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)r=e[a],o=this._trackByFn(a,r),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,r,o,a)),Object.is(t.item,r)||this._addIdentityChange(t,r)):(t=this._mismatch(t,r,o,a),i=!0),t=t._next}else s=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Bg()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(s,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,s)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,s),i=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,s){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,s)):e=this._addAfter(new Aoe(t,i),r,s),e}_verifyReinsertion(e,t,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?e=this._reinsertAfter(r,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,r=e._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new r4),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new r4),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Aoe{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Toe{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class r4{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Toe,this.map.set(t,i)),i.add(e)}get(e,t){const s=this.map.get(e);return s?s.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function o4(n,e,t){const i=n.previousIndex;if(null===i)return i;let s=0;return t&&i<t.length&&(s=t[i]),i+e+s}class a4{constructor(){}supports(e){return e instanceof Map||KA(e)}create(){return new Loe}}class Loe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||KA(e)))throw new Error(`Error trying to diff '${Wi(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,s)=>{if(t&&t.key===s)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(s,i);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const s=this._records.get(e);this._maybeAddToChanges(s,t);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new Roe(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class Roe{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function l4(){return new Yh([new n4])}let Yh=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||l4()),deps:[[n,new _l,new Mr]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=Ne({token:n,providedIn:"root",factory:l4}),n})();function h4(){return new ty([new a4])}let ty=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||h4()),deps:[[n,new _l,new Mr]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(i)return i;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=Ne({token:n,providedIn:"root",factory:h4}),n})();function U_(n,e,t,i,s=!1){for(;null!==t;){const r=e[t.index];if(null!==r&&i.push(Hr(r)),Nh(r))for(let a=10;a<r.length;a++){const l=r[a],h=l[1].firstChild;null!==h&&U_(l[1],l,h,i)}const o=t.type;if(8&o)U_(n,e,t.child,i);else if(32&o){const a=pA(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=l3(e,t);if(Array.isArray(a))i.push(...a);else{const l=qv(e[16]);U_(l[1],l,a,i,!0)}}t=s?t.projectionNext:t.next}return i}class h0{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return U_(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Nh(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(bA(e,i),Lf(t,i))}this._attachedToViewContainer=!1}JB(this._lView[1],this._lView)}onDestroy(e){I3(this._lView[1],this._lView,null,e)}markForCheck(){!function(n){for(;n;){n[2]|=64;const e=qv(n);if(fee(n)&&!e)return n;n=e}}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){jA(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){JS(!0);try{jA(n,e,t)}finally{JS(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,e){$v(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Poe extends h0{constructor(e){super(e),this._view=e}detectChanges(){z3(this._view)}checkNoChanges(){!function(n){JS(!0);try{z3(n)}finally{JS(!1)}}(this._view)}get context(){return null}}const Foe=function(n){return function(n,e,t){if(XS(n)&&!t){const i=Cl(n.index,e);return new h0(i,i)}return 47&n.type?new h0(e[16],e):null}(Jr(),De(),16==(16&n))};let Bs=(()=>{class n{}return n.__NG_ELEMENT_ID__=Foe,n})();const Voe=[new a4],joe=new Yh([new n4]),zoe=new ty(Voe),Uoe=function(){return G_(Jr(),De())};let kr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Uoe,n})();const Goe=kr,Yoe=class extends Goe{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=Xv(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(t)),Zv(t,i,e),new h0(i)}};function G_(n,e){return 4&n.type?new Yoe(e,n,ey(n,e)):null}class Zc{}class c4{}const Xoe=function(){return p4(Jr(),De())};let Ye=(()=>{class n{}return n.__NG_ELEMENT_ID__=Xoe,n})();const Koe=Ye,d4=class extends Koe{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return ey(this._hostTNode,this._hostLView)}get injector(){return new Cg(this._hostTNode,this._hostLView)}get parentInjector(){const e=l_(this._hostTNode,this._hostLView);if(sB(e)){const t=vg(e,this._hostLView),i=bg(e);return new Cg(t[1].data[i+8],t)}return new Cg(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=u4(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const s=e.createEmbeddedView(t||{});return this.insert(s,i),s}createComponent(e,t,i,s,r){const o=i||this.parentInjector;if(!r&&null==e.ngModule&&o){const l=o.get(Zc,null);l&&(r=l)}const a=e.create(o,s,void 0,r);return this.insert(a.hostView,t),a}insert(e,t){const i=e._lView,s=i[1];if(function(n){return Nh(n[3])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=i[3],u=new d4(d,d[6],d[3]);u.detach(u.indexOf(e))}}const r=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,i){const s=10+i,r=t.length;i>0&&(t[s-1][4]=e),i<r-10?(e[4]=t[s],p_(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(s,i,o,r);const a=wA(r,o),l=i[11],h=S_(l,o[7]);return null!==h&&function(n,e,t,i,s,r){i[0]=s,i[6]=e,$v(n,i,t,1,s,r)}(s,o[6],l,i,h,a),e.attachToViewContainerRef(),p_(gT(o),r,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=u4(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=bA(this._lContainer,t);i&&(Lf(gT(this._lContainer),t),JB(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=bA(this._lContainer,t);return i&&null!=Lf(gT(this._lContainer),t)?new h0(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function u4(n){return n[8]}function gT(n){return n[8]||(n[8]=[])}function p4(n,e){let t;const i=e[n.index];if(Nh(i))t=i;else{let s;if(8&n.type)s=Hr(i);else{const r=e[11];s=r.createComment("");const o=Kl(n,e);Pf(r,S_(r,o),s,function(n,e){return pr(n)?n.nextSibling(e):e.nextSibling}(r,o),!1)}e[n.index]=t=function(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}(i,e,s,n),A_(e,t)}return new d4(t,n,e)}const ry={};class I4 extends Gd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Da(e);return new O4(t,this.ngModule)}}function P4(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const qae=new Ie("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>GB});class O4 extends J6{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(n){return n.map(zie).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return P4(this.componentDef.inputs)}get outputs(){return P4(this.componentDef.outputs)}create(e,t,i,s){const r=(s=s||this.ngModule)?function(n,e){return{get:(t,i,s)=>{const r=n.get(t,ry,s);return r!==ry||i===ry?r:e.get(t,i,s)}}}(e,s.injector):e,o=r.get(Nf,j5),a=r.get(mT,null),l=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",c=i?function(n,e,t){if(pr(n))return n.selectRootElement(e,t===Vr.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(l,i,this.componentDef.encapsulation):yA(o.createRenderer(null,this.componentDef),h,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(h)),d=this.componentDef.onPush?576:528,u=function(n,e){return{components:[],scheduler:n||GB,clean:Dse,playerHandler:e||null,flags:0}}(),p=k_(0,null,null,1,0,null,null,null,null,null),m=Xv(null,p,u,d,null,null,o,l,a,r);let y,b;e_(m);try{const v=function(n,e,t,i,s,r){const o=t[1];t[20]=n;const l=Rg(o,20,2,"#host",null),h=l.mergedAttrs=e.hostAttrs;null!==h&&(T_(l,h,!0),null!==n&&(r_(s,n,h),null!==l.classes&&_A(s,n,l.classes),null!==l.styles&&d3(s,n,l.styles)));const c=i.createRenderer(n,e),d=Xv(t,T3(e),null,e.onPush?64:16,t[20],l,i,c,r||null,null);return o.firstCreatePass&&(h_(Pv(l,t),o,e.type),B3(o,l),V3(l,t.length,1)),A_(t,d),t[20]=d}(c,this.componentDef,m,o,l);if(c)if(i)r_(l,c,["ng-version",s4.full]);else{const{attrs:C,classes:w}=function(n){const e=[],t=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&e.push(r,n[++i]):8===s&&t.push(r);else{if(!Hh(s))break;s=r}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);C&&r_(l,c,C),w&&w.length>0&&_A(l,c,w.join(" "))}if(b=Rk(p,20),void 0!==t){const C=b.projection=[];for(let w=0;w<this.ngContentSelectors.length;w++){const _=t[w];C.push(null!=_?Array.from(_):null)}}y=function(n,e,t,i,s){const r=t[1],o=function(n,e,t){const i=Jr();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),H3(n,i,e,Ig(n,e,1,null),t));const s=Ov(e,n,i.directiveStart,i);da(s,e);const r=Kl(i,e);return r&&da(r,e),s}(r,t,e);if(i.components.push(o),n[8]=o,s&&s.forEach(l=>l(o,e)),e.contentQueries){const l=Jr();e.contentQueries(1,o,l.directiveStart)}const a=Jr();return!r.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(tp(a.index),F3(t[1],a,0,a.directiveStart,a.directiveEnd,e),N3(e,o)),o}(v,this.componentDef,m,u,[Qse]),Zv(p,m,null)}finally{t_()}return new Zae(this.componentType,y,ey(b,m),m,b)}}class Zae extends class{}{constructor(e,t,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=t,this.hostView=this.changeDetectorRef=new Poe(s),this.componentType=e}get injector(){return new Cg(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const oy=new Map;class Jae extends Zc{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new I4(this);const i=$l(e),s=function(n){return n[oee]||null}(e);s&&aT(s),this._bootstrapComponents=Uc(i.bootstrap),this._r3Injector=Z3(e,t,[{provide:Zc,useValue:this},{provide:Gd,useValue:this.componentFactoryResolver}],Wi(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=_t.THROW_IF_NOT_FOUND,i=Vt.Default){return e===_t||e===Zc||e===Og?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class AT extends c4{constructor(e){super(),this.moduleType=e,null!==$l(e)&&function(n){const e=new Set;!function t(i){const s=$l(i,!0),r=s.id;null!==r&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Wi(e)} vs ${Wi(e.name)}`)}(r,oy.get(r),i),oy.set(r,i));const o=Uc(s.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new Jae(this.moduleType,e)}}function TT(n){return e=>{setTimeout(n,void 0,e)}}const et=class extends ht{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var s,r,o;let a=e,l=t||(()=>null),h=i;if(e&&"object"==typeof e){const d=e;a=null===(s=d.next)||void 0===s?void 0:s.bind(d),l=null===(r=d.error)||void 0===r?void 0:r.bind(d),h=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=TT(l),a&&(a=TT(a)),h&&(h=TT(h)));const c=super.subscribe({next:a,error:l,complete:h});return e instanceof Ti&&e.add(c),c}};function mle(){return this._results[Bg()]()}class Hf{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Bg(),i=Hf.prototype;i[t]||(i[t]=mle)}get changes(){return this._changes||(this._changes=new et)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const s=Ql(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=e[i];if(t&&(s=t(s),r=t(r)),r!==s)return!1}return!0}(i._results,s,t))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class LT{constructor(e){this.queryList=e,this.matches=null}clone(){return new LT(this.queryList)}setDirty(){this.queryList.setDirty()}}class RT{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,s=[];for(let r=0;r<i;r++){const o=t.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new RT(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Z4(e,t).matches&&this.queries[t].setDirty()}}class Y4{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class IT{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const s=null!==t?t.length:0,r=this.getByIndex(i).embeddedTView(e,s);r&&(r.indexInDeclarationView=i,null!==t?t.push(r):t=[r])}return null!==t?new IT(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class PT{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new PT(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(e,t,ble(t,r)),this.matchTNodeWithReadOption(e,t,c_(t,e,r,!1,!1))}else i===kr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,c_(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===_e||s===Ye||s===kr&&4&t.type)this.addMatch(t.index,-2);else{const r=c_(t,e,s,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function ble(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Cle(n,e,t,i){return-1===t?function(n,e){return 11&n.type?ey(n,e):4&n.type?G_(n,e):null}(e,n):-2===t?function(n,e,t){return t===_e?ey(e,n):t===kr?G_(e,n):t===Ye?p4(e,n):void 0}(n,e,i):Ov(n,n[1],t,e)}function q4(n,e,t,i){const s=e[19].queries[i];if(null===s.matches){const r=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const h=o[l];a.push(h<0?null:Cle(e,r[h],o[l+1],t.metadata.read))}s.matches=a}return s.matches}function OT(n,e,t,i){const s=n.queries.getByIndex(t),r=s.matches;if(null!==r){const o=q4(n,e,s,t);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)i.push(o[a/2]);else{const h=r[a+1],c=e[-l];for(let d=10;d<c.length;d++){const u=c[d];u[17]===u[3]&&OT(u[1],u,h,i)}if(null!==c[9]){const d=c[9];for(let u=0;u<d.length;u++){const p=d[u];OT(p[1],p,h,i)}}}}}return i}function de(n){const e=De(),t=Ls(),i=$5();Vk(i+1);const s=Z4(t,i);if(n.dirty&&z5(e)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?OT(t,e,i,[]):q4(t,e,s,i);n.reset(r,i4),n.notifyOnChanges()}return!0}return!1}function Se(n,e,t,i){const s=Ls();if(s.firstCreatePass){const r=Jr();X4(s,new Y4(e,t,i),r.index),function(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(s,n),2==(2&t)&&(s.staticContentQueries=!0)}$4(s,De(),t)}function ue(){return function(n,e){return n[19].queries[e].queryList}(De(),$5())}function $4(n,e,t){const i=new Hf(4==(4&t));I3(n,e,i,i.destroy),null===e[19]&&(e[19]=new RT),e[19].queries.push(new LT(i))}function X4(n,e,t){null===n.queries&&(n.queries=new IT),n.queries.track(new PT(e,t))}function Z4(n,e){return n.queries.getByIndex(e)}const w0=new Ie("Application Initializer");let ly=(()=>{class n{constructor(t){this.appInits=t,this.resolve=W_,this.reject=W_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(s0(r))t.push(r);else if(P_(r)){const o=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(s=>{this.reject(s)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)($(w0,8))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();const S0=new Ie("AppId"),Kle={provide:S0,useFactory:function(){return`${jT()}${jT()}${jT()}`},deps:[]};function jT(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fH=new Ie("Platform Initializer"),hy=new Ie("Platform ID"),mH=new Ie("appBootstrapListener");let Q_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();const Yd=new Ie("LocaleId"),gH=new Ie("DefaultCurrencyCode");class Jle{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const zT=function(n){return new AT(n)},ehe=zT,the=function(n){return Promise.resolve(zT(n))},yH=function(n){const e=zT(n),i=Uc($l(n).declarations).reduce((s,r)=>{const o=Da(r);return o&&s.push(new O4(o)),s},[]);return new Jle(e,i)},ihe=yH,she=function(n){return Promise.resolve(yH(n))};let jf=(()=>{class n{constructor(){this.compileModuleSync=ehe,this.compileModuleAsync=the,this.compileModuleAndAllComponentsSync=ihe,this.compileModuleAndAllComponentsAsync=she}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();const ohe=(()=>Promise.resolve(0))();function WT(n){"undefined"==typeof Zone?ohe.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class wt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&t,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=Ks.requestAnimationFrame,e=Ks.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ks,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,GT(n),n.isCheckStableRunning=!0,UT(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),GT(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,s,r,o,a)=>{try{return bH(n),t.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&e(),vH(n)}},onInvoke:(t,i,s,r,o,a,l)=>{try{return bH(n),t.invoke(s,r,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),vH(n)}},onHasTask:(t,i,s,r)=>{t.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,GT(n),UT(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,i,s,r)=>(t.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(wt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,e,lhe,W_,W_);try{return r.runTask(o,t,i)}finally{r.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const lhe={};function UT(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function GT(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function bH(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vH(n){n._nesting--,UT(n)}class dhe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,s){return e.apply(t,i)}}let YT=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wt.assertNotInAngularZone(),WT(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())WT(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:s})}whenStable(t,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,s){return[]}}return n.\u0275fac=function(t){return new(t||n)($(wt))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})(),CH=(()=>{class n{constructor(){this._applications=new Map,qT.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return qT.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();class uhe{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let qT=new uhe,wH=!0,SH=!1;function $T(){return SH=!0,wH}let Xh;const _H=new Ie("AllowMultipleToken");class XT{constructor(e,t){this.name=e,this.token=t}}function xH(n,e,t=[]){const i=`Platform: ${e}`,s=new Ie(i);return(r=[])=>{let o=EH();if(!o||o.injector.get(_H,!1))if(n)n(t.concat(r).concat({provide:s,useValue:!0}));else{const a=t.concat(r).concat({provide:s,useValue:!0},{provide:Kv,useValue:"platform"});!function(n){if(Xh&&!Xh.destroyed&&!Xh.injector.get(_H,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Xh=n.get(DH);const e=n.get(fH,null);e&&e.forEach(t=>t())}(_t.create({providers:a,name:i}))}return function(n){const e=EH();if(!e)throw new Error("No platform exists!");if(!e.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(s)}}function EH(){return Xh&&!Xh.destroyed?Xh:null}let DH=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const a=function(n,e){let t;return t="noop"===n?new dhe:("zone.js"===n?void 0:n)||new wt({enableLongStackTrace:$T(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:wt,useValue:a}];return a.run(()=>{const h=_t.create({providers:l,parent:this.injector,name:t.moduleType.name}),c=t.create(h),d=c.injector.get(Vh,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const u=a.onError.subscribe({next:p=>{d.handleError(p)}});c.onDestroy(()=>{ZT(this._modules,c),u.unsubscribe()})}),function(n,e,t){try{const i=t();return s0(i)?i.catch(s=>{throw e.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const u=c.injector.get(ly);return u.runInitializers(),u.donePromise.then(()=>(aT(c.injector.get(Yd,B_)||B_),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,i=[]){const s=MH({},i);return function(n,e,t){const i=new AT(t);return Promise.resolve(i)}(0,0,t).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(t){const i=t.injector.get(zf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Wi(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)($(_t))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();function MH(n,e){return Array.isArray(e)?e.reduce(MH,n):Object.assign(Object.assign({},n),e)}let zf=(()=>{class n{constructor(t,i,s,r,o){this._zone=t,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new fs(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),l=new fs(h=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{wt.assertNotInAngularZone(),WT(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{wt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=xa(a,l.pipe(n=>yk()(function(n,e){return function(i){let s;s="function"==typeof n?n:function(){return n};const r=Object.create(i,zJ);return r.source=i,r.subjectFactory=s,r}}(qJ)(n))))}bootstrap(t,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=t instanceof J6?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(s.componentType);const r=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Zc),a=s.create(_t.NULL,[],i||s.selector,r),l=a.location.nativeElement,h=a.injector.get(YT,null),c=h&&a.injector.get(CH);return h&&c&&c.registerApplication(l,h),a.onDestroy(()=>{this.detachView(a.hostView),ZT(this.components,a),c&&c.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;ZT(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(mH,[]).concat(this._bootstrapListeners).forEach(s=>s(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)($(wt),$(_t),$(Vh),$(Gd),$(ly))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();function ZT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class ex{}class Mhe{}const khe={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ahe=(()=>{class n{constructor(t,i){this._compiler=t,this._config=i||khe}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[i,s]=t.split("#");return void 0===s&&(s="default"),wv(255)(i).then(r=>r[s]).then(r=>LH(r,i,s)).then(r=>this._compiler.compileModuleAsync(r))}loadFactory(t){let[i,s]=t.split("#"),r="NgFactory";return void 0===s&&(s="default",r=""),wv(255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(o=>o[s+r]).then(o=>LH(o,i,s))}}return n.\u0275fac=function(t){return new(t||n)($(jf),$(Mhe,8))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();function LH(n,e,t){if(!n)throw new Error(`Cannot find '${t}' in '${e}'`);return n}const Vhe=xH(null,"core",[{provide:hy,useValue:"unknown"},{provide:DH,deps:[_t]},{provide:CH,deps:[]},{provide:Q_,deps:[]}]),Uhe=[{provide:zf,useClass:zf,deps:[wt,_t,Vh,Gd,ly]},{provide:qae,deps:[wt],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ly,useClass:ly,deps:[[new Mr,w0]]},{provide:jf,useClass:jf,deps:[]},Kle,{provide:Yh,useFactory:function(){return joe},deps:[]},{provide:ty,useFactory:function(){return zoe},deps:[]},{provide:Yd,useFactory:function(n){return aT(n=n||"undefined"!=typeof $localize&&$localize.locale||B_),n},deps:[[new Mg(Yd),new Mr,new _l]]},{provide:gH,useValue:"USD"}];let Yhe=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)($(zf))},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:Uhe}),n})(),cx=null;function Kc(){return cx}const gt=new Ie("DocumentToken");let Gf=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ne({factory:Gce,token:n,providedIn:"platform"}),n})();function Gce(){return $(t7)}const Yce=new Ie("Location Initialized");let t7=(()=>{class n extends Gf{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kc().getBaseHref(this._doc)}onPopState(t){const i=Kc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Kc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,s){i7()?this._history.pushState(t,i,s):this.location.hash=s}replaceState(t,i,s){i7()?this._history.replaceState(t,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)($(gt))},n.\u0275prov=Ne({factory:qce,token:n,providedIn:"platform"}),n})();function i7(){return!!window.history.pushState}function qce(){return new t7($(gt))}function dL(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function s7(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $d(n){return n&&"?"!==n[0]?"?"+n:n}let uy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ne({factory:$ce,token:n,providedIn:"root"}),n})();function $ce(n){const e=$(gt).location;return new n7($(Gf),e&&e.origin||"")}const uL=new Ie("appBaseHref");let n7=(()=>{class n extends uy{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return dL(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+$d(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${i}${s}`:i}pushState(t,i,s,r){const o=this.prepareExternalUrl(s+$d(r));this._platformLocation.pushState(t,i,o)}replaceState(t,i,s,r){const o=this.prepareExternalUrl(s+$d(r));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)($(Gf),$(uL,8))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})(),Xce=(()=>{class n extends uy{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=dL(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,s,r){let o=this.prepareExternalUrl(s+$d(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,s,r){let o=this.prepareExternalUrl(s+$d(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)($(Gf),$(uL,8))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})(),M0=(()=>{class n{constructor(t,i){this._subject=new et,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=s7(r7(s)),this._platformStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+$d(i))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,r7(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",s=null){this._platformStrategy.pushState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$d(i)),s)}replaceState(t,i="",s=null){this._platformStrategy.replaceState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$d(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(s=>s(t,i))}subscribe(t,i,s){return this._subject.subscribe({next:t,error:i,complete:s})}}return n.\u0275fac=function(t){return new(t||n)($(uy),$(Gf))},n.normalizeQueryParams=$d,n.joinWithSlash=dL,n.stripTrailingSlash=s7,n.\u0275prov=Ne({factory:Zce,token:n,providedIn:"root"}),n})();function Zce(){return new M0($(uy),$(Gf))}function r7(n){return n.replace(/\/index.html$/,"")}var jr=(()=>((jr=jr||{})[jr.Zero=0]="Zero",jr[jr.One=1]="One",jr[jr.Two=2]="Two",jr[jr.Few=3]="Few",jr[jr.Many=4]="Many",jr[jr.Other=5]="Other",jr))();const nde=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=M6(e);if(t)return t;const i=e.split("-")[0];if(t=M6(i),t)return t;if("en"===i)return vre;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[at.PluralCase]};class Cx{}let Ide=(()=>{class n extends Cx{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(nde(i||this.locale)(t)){case jr.Zero:return"zero";case jr.One:return"one";case jr.Two:return"two";case jr.Few:return"few";case jr.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)($(Yd))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();let Rs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[{provide:Cx,useClass:Ide}]}),n})();const w7="browser";let S7=(()=>{class n{}return n.\u0275prov=Ne({token:n,providedIn:"root",factory:()=>new cue($(gt),window)}),n})();class cue{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const r=s.shadowRoot;if(r){const o=r.getElementById(e)||r.querySelector(`[name="${e}"]`);if(o)return o}s=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],s-r[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=_7(this.window.history)||_7(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function _7(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xL extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){cx||(cx=n)}(new xL)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(L0=L0||document.querySelector("base"),L0?L0.getAttribute("href"):null);return null==t?null:function(n){_x=_x||document.createElement("a"),_x.setAttribute("href",n);const e=_x.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){L0=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[s,r]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(s.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,e)}}let _x,L0=null;const E7=new Ie("TRANSITION_ID"),gue=[{provide:w0,useFactory:function(n,e,t){return()=>{t.get(ly).donePromise.then(()=>{const i=Kc(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[E7,gt,_t],multi:!0}];class EL{static init(){!function(n){qT=n}(new EL)}addToWindow(e){Ks.getAngularTestability=(i,s=!0)=>{const r=e.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},Ks.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ks.getAllAngularRootElements=()=>e.getAllRootElements(),Ks.frameworkStabilizers||(Ks.frameworkStabilizers=[]),Ks.frameworkStabilizers.push(i=>{const s=Ks.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(l){o=o||l,r--,0==r&&i(o)};s.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:i?Kc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let yue=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();const R0=new Ie("EventManagerPlugins");let Ex=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}addGlobalEventListener(t,i,s){return this._findPluginFor(i).addGlobalEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)($(R0),$(wt))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();class DL{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const s=Kc().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,i)}}let M7=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})(),I0=(()=>{class n extends M7{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,s){t.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(k7),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(t,s,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(k7))}}return n.\u0275fac=function(t){return new(t||n)($(gt))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();function k7(n){Kc().remove(n)}const ML={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},kL=/%COMP%/g;function Dx(n,e,t){for(let i=0;i<e.length;i++){let s=e[i];Array.isArray(s)?Dx(n,s,t):(s=s.replace(kL,n),t.push(s))}return t}function L7(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mx=(()=>{class n{constructor(t,i,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new AL(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case Vr.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new Rue(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(t),s}case 1:case Vr.ShadowDom:return new Iue(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const s=Dx(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)($(Ex),$(I0),$(S0))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();class AL{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(ML[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;const r=ML[s];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const s=ML[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&(El.DashCase|El.Important)?e.style.setProperty(t,i,s&El.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&El.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,L7(i)):this.eventManager.addEventListener(e,t,L7(i))}}class Rue extends AL{constructor(e,t,i,s){super(e),this.component=i;const r=Dx(s+"-"+i.id,i.styles,[]);t.addStyles(r),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(kL,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(kL,n)}(s+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Iue extends AL{constructor(e,t,i,s){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Dx(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Pue=(()=>{class n extends DL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}}return n.\u0275fac=function(t){return new(t||n)($(gt))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();const P7=["alt","control","meta","shift"],jue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O7={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zue={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wue=(()=>{class n extends DL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kc().onAndCancel(t,r.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="";if(P7.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),o+=l+".")}),o+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=s,a.fullKey=o,a}static getEventFullKey(t){let i="",s=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&O7.hasOwnProperty(e)&&(e=O7[e]))}return jue[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),P7.forEach(r=>{r!=s&&zue[r](t)&&(i+=r+".")}),i+=s,i}static eventCallback(t,i,s){return r=>{n.getEventFullKey(r)===t&&s.runGuarded(()=>i(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)($(gt))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();const Kue=xH(Vhe,"browser",[{provide:hy,useValue:w7},{provide:fH,useValue:function(){xL.makeCurrent(),EL.init()},multi:!0},{provide:gt,useFactory:function(){return function(n){Tk=n}(document),document},deps:[]}]),Que=[[],{provide:Kv,useValue:"root"},{provide:Vh,useFactory:function(){return new Vh},deps:[]},{provide:R0,useClass:Pue,multi:!0,deps:[gt,wt,hy]},{provide:R0,useClass:Wue,multi:!0,deps:[gt]},[],{provide:Mx,useClass:Mx,deps:[Ex,I0,S0]},{provide:Nf,useExisting:Mx},{provide:M7,useExisting:I0},{provide:I0,useClass:I0,deps:[gt]},{provide:YT,useClass:YT,deps:[wt]},{provide:Ex,useClass:Ex,deps:[R0,wt]},{provide:class{},useClass:yue,deps:[]},[]];let RL=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:S0,useValue:t.appId},{provide:E7,useExisting:S0},gue]}}}return n.\u0275fac=function(t){return new(t||n)($(n,12))},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:Que,imports:[Rs,Yhe]}),n})();"undefined"!=typeof window&&window;function kx(n,e){const t=e;return t.unshift(void 0),new(Function.prototype.bind.apply(n,t))}function Me(n,e){let t=e;const i=n.replace(/\[/g,".").replace(/\]/g,"").split(".");for(let s=0;s<i.length&&!Rt(t);s++)t=t[i[s]];return t}function Tr(n,e,t){const i=n.replace(/\[/g,".").replace(/\]/g,"").split("."),s=t||{};let o,r=s;const a=i.length;let l;for(o=0;o<a;o++)l=i[o],o+1===a?r[l]=void 0===e?{}:e:yt(r[l])&&(r[l]={}),r=r[l];return s}function lpe(n,e){delete n[e]}function Qc(n){return!yt(n)&&n.constructor==={}.constructor}function my(n,e){if(!yt(e)){const t=n,i=e,s=Object.keys(e),r="deepMerge";for(const o of s)yt(t[r])||-1===t[r].indexOf(o)||!Qc(i[o])&&!Array.isArray(i[o])?t[o]=i[o]:Es(t[o],t[o],i[o],!0)}}function Es(n,e,t,i){const s=n&&"object"==typeof n?n:{};let r=arguments.length;i&&(r-=1);for(let o=1;o<r;o++){if(!arguments[o])continue;let a=arguments[o];Object.keys(a).forEach(l=>{const h=s[l],c=a[l];let d;const u=Array.isArray(c)&&Array.isArray(h)&&c.length!==h.length,p=!Pt()||!(h instanceof Event||u);i&&p&&(Qc(c)||Array.isArray(c))?Qc(c)?(d=h||{},Array.isArray(d)&&d.hasOwnProperty("isComplexArray")?Es(d,{},c,i):s[l]=Es(d,{},c,i)):(d=Pt()?h&&Object.keys(c).length:h||[],s[l]=Es([],d,c,i)):s[l]=c})}return s}function yt(n){return null==n}function Rt(n){return void 0===n}function OL(n,e){return n===e||!(n===document||!n)&&OL(n.parentNode,e)}function O0(n){try{throw new Error(n)}catch(e){throw e.message+"\n"+e.stack}}function Pt(){return false}const upe={latn:{_digits:"0123456789",_type:"numeric"}},N7={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},B7=[0,1,2,3,4,5,6,7,8,9];let zn=(()=>{class n{static getMainObject(t,i){return Me("main."+i,t)}static getNumberingSystem(t){return Me("supplemental.numberingSystems",t)||this.numberingSystems}static reverseObject(t,i){const s=i||Object.keys(t),r={};for(const o of s)r.hasOwnProperty(t[o])||(r[t[o]]=o);return r}static getSymbolRegex(t){const i=t.map(s=>s.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")).join("|");return new RegExp(i,"g")}static getSymbolMatch(t){const i=Object.keys(N7),s={};for(const r of i)s[t[r]]=N7[r];return s}static constructRegex(t){const i=t.length;let s="";for(let r=0;r<i;r++)s+=r!==i-1?t[r]+"|":t[r];return s}static convertValueParts(t,i,s){return t.replace(i,r=>s[r])}static getDefaultNumberingSystem(t){const i={};return i.obj=Me("numbers",t),i.nSystem=Me("defaultNumberingSystem",i.obj),i}static getCurrentNumericOptions(t,i,s,r){const o={},a=this.getDefaultNumberingSystem(t);if(!Rt(a.nSystem)||r){const l=r?Me("obj.mapperDigits",a):Me(a.nSystem+"._digits",i);Rt(l)||(o.numericPair=this.reverseObject(l,B7),o.numberParseRegex=new RegExp(this.constructRegex(l),"g"),o.numericRegex="["+l[0]+"-"+l[9]+"]",s&&(o.numericRegex=l[0]+"-"+l[9],o.symbolNumberSystem=Me(r?"numberSymbols":"symbols-numberSystem-"+a.nSystem,a.obj),o.symbolMatch=this.getSymbolMatch(o.symbolNumberSystem),o.numberSystem=a.nSystem))}return o}static getNumberMapper(t,i,s){const r={mapper:{}},o=this.getDefaultNumberingSystem(t);if(!Rt(o.nSystem)){r.numberSystem=o.nSystem,r.numberSymbols=Me("symbols-numberSystem-"+o.nSystem,o.obj),r.timeSeparator=Me("timeSeparator",r.numberSymbols);const a=Me(o.nSystem+"._digits",i);if(!Rt(a))for(const l of B7)r.mapper[l]=a[l]}return r}}return n.nPair="numericPair",n.nRegex="numericRegex",n.numberingSystems=upe,n})();const ppe={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.\u200f",BHD:"\u062f.\u0628.\u200f",DZD:"\u062f.\u062c.\u200f",EGP:"\u062c.\u0645.\u200f",ILS:"\u20aa",IQD:"\u062f.\u0639.\u200f",JOD:"\u062f.\u0627.\u200f",KMF:"CF",KWD:"\u062f.\u0643.\u200f",LBP:"\u0644.\u0644.\u200f",LYD:"\u062f.\u0644.\u200f",MAD:"\u062f.\u0645.\u200f",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.\u200f",QAR:"\u0631.\u0642.\u200f",SAR:"\u0631.\u0633.\u200f",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.\u200f",TND:"\u062f.\u062a.\u200f",YER:"\u0631.\u064a.\u200f",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};var F0;!function(n){const e=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];n.getHijriDate=function(s){let r=s.getDate(),o=s.getMonth(),a=s.getFullYear(),l=o+1,h=a;l<3&&(h-=1,l+=12);let c=Math.floor(h/100),d=c-Math.floor(c/4)-2;const u=Math.floor(365.25*(h+4716))+Math.floor(30.6001*(l+1))+r-d-1524;c=Math.floor((u-1867216.25)/36524.25),d=c-Math.floor(c/4)+1;const p=u+d+1524;let m=Math.floor((p-122.1)/365.25);const y=Math.floor(365.25*m),b=Math.floor((p-y)/30.6001);r=p-y-Math.floor(30.6001*b),o=Math.floor((p-y)/20.6001),o>13&&(m+=1,o-=12),o-=1,a=m-4716;const v=u-24e5,C=10631/30;let w=u-1948084;const _=Math.floor(w/10631);w-=10631*_;const k=Math.floor((w-.1335)/C),D=30*_+k;w-=Math.floor(k*C+.1335);let I=Math.floor((w+28.5001)/29.5);13===I&&(I=12);const O=w-Math.floor(29.5001*I-29);let N=0;for(;N<e.length&&!(e[N]>v);N++);const X=N+16260,H=Math.floor((X-1)/12);let q=H+1,G=X-12*H,A=v-e[N-1]+1;return(A+"").length>2&&(A=O,G=I,q=D),{year:q,month:G,date:A}},n.toGregorian=function(s,r,o){const y=Math.floor(o+e[12*(s-1)+1+(r-1)-16260-1]-1+24e5+.5);let b=Math.floor((y-1867216.25)/36524.25);b=y+1+b-Math.floor(b/4);const v=b+1524,C=Math.floor((v-122.1)/365.25),w=Math.floor(365.25*C),_=Math.floor((v-w)/30.6001),k=v-w-Math.floor(30.6001*_);let D=_-(_>13.5?13:1);const I=C-(D>2.5?4716:4715);return I<=0&&D--,new Date(I+"/"+D+"/"+k)}}(F0||(F0={}));const mpe=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,V7="stand-alone",gpe=["sun","mon","tue","wed","thu","fri","sat"],H7={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"};const z7={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},gy=["infinity","nan","group","decimal","exponential"];class Ax{constructor(e){this.ranArray=[],this.boundedEvents={},!yt(e)&&(this.context=e)}on(e,t,i,s){if(yt(t))return;const r=i||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:r}]:yt(s)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:r}):-1===this.ranArray.indexOf(s)&&(this.ranArray.push(s),this.boundedEvents[e].push({handler:t,context:r,id:s}))}off(e,t,i){if(this.notExist(e))return;const s=Me(e,this.boundedEvents);if(t){for(let r=0;r<s.length;r++)if(i){if(s[r].id===i){s.splice(r,1);const o=this.ranArray.indexOf(i);-1!==o&&this.ranArray.splice(o,1);break}}else if(t===s[r].handler){s.splice(r,1);break}}else delete this.boundedEvents[e]}notify(e,t,i,s){if(this.notExist(e))return void(i&&i.call(this,t));t&&(t.name=e);const o=Me(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(o,t,i,s,0);for(const a of o)a.handler.call(a.context,t);i&&i.call(this,t)}blazorCallback(e,t,i,s,r){const o=r===e.length-1;if(r<e.length){const a=e[r],l=a.handler.call(a.context,t);if(l&&"function"==typeof l.then){if(!i)return l;l.then(h=>{if(h="string"==typeof h&&this.isJson(h)?JSON.parse(h,this.dateReviver):h,Es(t,t,h,!0),!i||!o)return this.blazorCallback(e,t,i,s,r+1);i.call(a.context,t)}).catch(h=>{s&&s.call(a.context,"string"==typeof h&&this.isJson(h)?JSON.parse(h,this.dateReviver):h)})}else{if(!i||!o)return this.blazorCallback(e,t,i,s,r+1);i.call(a.context,t)}}}dateReviver(e,t){return Pt&&"string"==typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t}isJson(e){try{JSON.parse(e)}catch(t){return!1}return!0}destroy(){this.boundedEvents=this.context=void 0}notExist(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0}isHandlerPresent(e,t){for(const i of e)if(i.handler===t)return!0;return!1}}const N0=new Ax;let B0="USD";const Y7={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};var Et;!function(n){n.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,n.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,n.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;const e=/[0-9]/g;n.defaultCurrency="$";const t=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,s={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};n.dateConverterMapper=/dddd|ddd/gi,n.islamicRegex=/^islamic/;const o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};n.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,n.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,n.curWithoutNumberRegex=/(c|a)$/gi;const a={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function l(A,R,P,M,L){let V;const te=P||"date";if(L)V=u({skeleton:A},L).format||u({skeleton:"d"},"en-US").format;else{if(-1!==n.basicPatterns.indexOf(A)){if(V=Me(te+"Formats."+A,R),"dateTime"===te){const pe=Me("dateFormats."+A,R),ae=Me("timeFormats."+A,R);V=V.replace("{1}",pe).replace("{0}",ae)}}else V=Me("dateTimeFormats.availableFormats."+A,R);Rt(V)&&"yMd"===A&&(V="M/d/y")}return V}function h(A,R,P,M){const L={},V=P||"gregorian";if(L.parserObject=zn.getMainObject(A,R)||n.defaultObject,M)L.numericObject=Me("numbers",L.parserObject);else{L.dateObject=Me("dates.calendars."+V,L.parserObject)}return L}function c(A,R,P,M){return Me(A+"Formats-numberSystem-"+R+(M?".accounting":".standard"),P)||(M?Me(A+"Formats-numberSystem-"+R+".standard",P):"")}function d(A){A.match(n.dateConverterMapper);return A}function u(A,R){const P=A.format||A.skeleton;let M=Me((R||"en-US")+"."+P,Y7);return M||(M=Me("en-US."+P,Y7)),M&&(M=d(M),A.format=M.replace(/tt/,"a")),A}function p(A){const R=A.match(n.formatRegex),P={},M=R[1].toUpperCase();return P.isAccount="A"===M,P.type=n.patternMatcher[M],A.length>1&&(P.fractionDigits=parseInt(R[2],10)),P}function m(A,R,P,M){const L=M?{}:{nlead:"",nend:""},V=A.match(n.customRegex);if(V){M||(L.nlead=y(V[1],P),L.nend=y(V[10],P),L.groupPattern=V[4]);const te=V[7];if(te&&R){const pe=te.match(e);L.minimumFraction=yt(pe)?0:pe.length,L.maximumFraction=te.length-1}}return L}function y(A,R){return A?A.replace(n.defaultCurrency,R):""}function b(A,R,P){return Me("currencies."+R+(P?"."+P:".symbol"),A)||Me("currencies."+R+".symbol-alt-narrow",A)||"$"}function C(A,R,P){const M={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},L=A.match(n.customRegex);if(yt(L)||""===L[5]&&"N/A"!==A)return M.type=void 0,M;M.nlead=L[1],M.nend=L[10];let V=L[6];M.useGrouping=-1!==V.indexOf(","),V=V.replace(/,/g,"");const te=L[7];if(-1!==V.indexOf("0")&&(M.minimumIntegerDigits=V.length-V.indexOf("0")),yt(te)||(M.minimumFractionDigits=te.lastIndexOf("0"),M.maximumFractionDigits=te.lastIndexOf("#"),-1===M.minimumFractionDigits&&(M.minimumFractionDigits=0),(-1===M.maximumFractionDigits||M.maximumFractionDigits<M.minimumFractionDigits)&&(M.maximumFractionDigits=M.minimumFractionDigits)),yt(R)?Es(M,w([M.nlead,M.nend],"%","%")):(Es(M,w([M.nlead,M.nend],"$",R.currencySymbol)),M.isCurrency||Es(M,w([M.nlead,M.nend],"%",R.percentSymbol))),!yt(P)){const pe=c(M.type,R.numberMapper.numberSystem,P,!1);M.useGrouping&&(M.groupSeparator=R.numberMapper.numberSymbols[t[2]],M.groupData=class{static numberFormatter(e,t,i){const s=Es({},t);let r={};const o={};let a;const l=Et.getDependables(i,e,"",!0);o.numberMapper=zn.getNumberMapper(l.parserObject,zn.getNumberingSystem(i),!0),o.currencySymbol=Et.getCurrencySymbol(l.numericObject,s.currency||B0,t.altSymbol),o.percentSymbol=o.numberMapper.numberSymbols.percentSign,o.minusSymbol=o.numberMapper.numberSymbols.minusSign;const c=o.numberMapper.numberSymbols;if(t.format&&!Et.formatRegex.test(t.format))r=Et.customFormat(t.format,o,l.numericObject);else{Es(s,Et.getProperNumericSkeleton(t.format||"N")),s.isCurrency="currency"===s.type,s.isPercent="percent"===s.type,a=Et.getSymbolPattern(s.type,o.numberMapper.numberSystem,l.numericObject,s.isAccount),s.groupOne=this.checkValueRange(s.maximumSignificantDigits,s.minimumSignificantDigits,!0),this.checkValueRange(s.maximumFractionDigits,s.minimumFractionDigits,!1,!0),Rt(s.fractionDigits)||(s.minimumFractionDigits=s.maximumFractionDigits=s.fractionDigits),Rt(s.useGrouping)&&(s.useGrouping=!0),s.isCurrency&&(a=a.replace(/\u00A4/g,Et.defaultCurrency));{const m=a.split(";");r.nData=Et.getFormatData(m[1]||"-"+m[0],!0,o.currencySymbol),r.pData=Et.getFormatData(m[0],!1,o.currencySymbol),s.useGrouping&&(s.groupSeparator=c[gy[2]],s.groupData=this.getGroupingDetails(m[0]))}if(Rt(s.minimumFractionDigits)&&(s.minimumFractionDigits=r.nData.minimumFraction),Rt(s.maximumFractionDigits)){const m=r.nData.maximumFraction;s.maximumFractionDigits=Rt(m)&&s.isPercent?0:m}const u=s.minimumFractionDigits,p=s.maximumFractionDigits;!Rt(u)&&!Rt(p)&&u>p&&(s.maximumFractionDigits=u)}return Es(r.nData,s),Es(r.pData,s),d=>isNaN(d)?c[gy[1]]:isFinite(d)?this.intNumberFormatter(d,r,o):c[gy[0]]}static getGroupingDetails(e){const t={},i=e.match(Et.negativeDataRegex);if(i&&i[4]){const s=i[4],r=s.lastIndexOf(",");if(-1!==r){const o=s.split(".")[0];t.primary=o.length-r-1;const a=s.lastIndexOf(",",r-1);-1!==a&&(t.secondary=r-1-a)}}return t}static checkValueRange(e,t,i,s){const r=s?"f":"s";let o=0;const a=z7["l"+r];let l=z7["m"+r];if(Rt(e)||(this.checkRange(e,a,s),o++),Rt(t)||(this.checkRange(t,l,s),o++),2===o){if(!(e<t))return!0;O0(l+"specified must be less than the"+a)}else i&&1===o&&O0("Both"+l+"and"+l+"must be present");return!1}static checkRange(e,t,i){const s=i?[0,20]:[1,21];(e<s[0]||e>s[1])&&O0(t+"value must be within the range"+s[0]+"to"+s[1])}static intNumberFormatter(e,t,i){let s;if(!Rt(t.nData.type)){e<0?(e*=-1,s=t.nData):s=0===e&&t.zeroData||t.pData;let r="";return s.isPercent&&(e*=100),s.groupOne?r=this.processSignificantDigits(e,s.minimumSignificantDigits,s.maximumSignificantDigits):(r=this.processFraction(e,s.minimumFractionDigits,s.maximumFractionDigits),s.minimumIntegerDigits&&(r=this.processMinimumIntegers(r,s.minimumIntegerDigits))),"scientific"===s.type&&(r=e.toExponential(s.maximumFractionDigits),r=r.replace("e",i.numberMapper.numberSymbols[gy[4]])),r=r.replace(".",i.numberMapper.numberSymbols[gy[3]]),s.useGrouping&&(r=this.groupNumbers(r,s.groupData.primary,s.groupSeparator||",",i.numberMapper.numberSymbols[gy[3]]||".",s.groupData.secondary)),r=zn.convertValueParts(r,Et.latnParseRegex,i.numberMapper.mapper),"N/A"===s.nlead?s.nlead:s.nlead+r+s.nend}}static processSignificantDigits(e,t,i){let r,s=e+"";return s.length<t?e.toPrecision(t):(s=e.toPrecision(i),r=+s,r+"")}static groupNumbers(e,t,i,s,r){let o=!yt(r)&&0!==r;const a=e.split(s),l=a[0];let h=l.length,c="";for(;h>t;)c=l.slice(h-t,h)+(c.length?i+c:""),h-=t,o&&(t=r,o=!1);return a[0]=l.slice(0,h)+(c.length?i:"")+c,a.join(s)}static processFraction(e,t,i){const s=(e+"").split(".")[1],r=s?s.length:0;if(t&&r<t){let o="";if(0!==r){o+=e;for(let a=0;a<t-r;a++)o+="0";return o}return o=e.toFixed(t),e.toFixed(t)}return!yt(i)&&(r>i||0===i)?e.toFixed(i):e+""}static processMinimumIntegers(e,t){const i=e.split(".");let s=i[0];const r=s.length;if(r<t){for(let o=0;o<t-r;o++)s="0"+s;i[0]=s}return i.join(".")}}.getGroupingDetails(pe.split(";")[0])),M.nlead=M.nlead.replace(/'/g,""),M.nend=M.nend.replace(/'/g,"")}return M}function w(A,R,P){const M={nlead:A[0],nend:A[1]};for(let L=0;L<2;L++){const V=A[L],te=V.indexOf(R);if(-1!==te&&(te<V.indexOf("'")||te>V.lastIndexOf("'"))){M[a[L]]=V.substr(0,te)+P+V.substr(te+1),M[a[R]]=!0,M.type=M.isCurrency?"currency":"percent";break}}return M}function O(A,R,P){A+=".";for(let M=0;M<R;M++)A+="0";if(R<P){const M=P-R;for(let L=0;L<M;L++)A+="#"}return A}function N(A,R){const P=A.split(".");let M="";for(let L=0;L<R;L++)M+="0";return P[1]?M+"."+P[1]:M}function X(A){const R=A.split(".");let P=R[0];const M=3-P.length%3;P=(M&&1===M?"#":2===M?"##":"")+P,A="";for(let V=P.length-1;V>0;V-=3)A=","+P[V-2]+P[V-1]+P[V]+A;return A=A.slice(1),R[1]?A+"."+R[1]:A}n.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,n.basicPatterns=["short","medium","long","full"],n.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},n.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},n.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},n.month="months",n.days="days",n.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},n.getResultantPattern=l,n.getDependables=h,n.getSymbolPattern=c,n.ConvertDateToWeekFormat=d,n.compareBlazorDateFormats=u,n.getProperNumericSkeleton=p,n.getFormatData=m,n.changeCurrencySymbol=y,n.getCurrencySymbol=b,n.customFormat=function(A,R,P){const M={},L=A.split(";"),V=["pData","nData","zeroData"];for(let te=0;te<L.length;te++)M[V[te]]=C(L[te],R,P);return yt(M.nData)&&(M.nData=Es({},M.pData),M.nData.nlead=yt(R)?"-"+M.nData.nlead:R.minusSymbol+M.nData.nlead),M},n.customNumberFormat=C,n.isCurrencyPercent=w,n.getDateSeparator=function(A){const R=(Me("dateFormats.short",A)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return R?R[1]:"/"},n.getActualDateTimeFormat=function(A,R,P,M){const L=h(P,A,R.calendar);let V=R.format||l(R.skeleton,L.dateObject,R.type);if(M){if(V=V.replace(i,te=>s[te]),-1!==V.indexOf("z")){const te=V.match(/z/g).length;let pe;const ae={timeZone:{}};ae.numMapper=zn.getNumberMapper(L.parserObject,zn.getNumberingSystem(P)),ae.timeZone=Me("dates.timeZoneNames",L.parserObject);const Te=(new Date).getTimezoneOffset();let Ge=te<4?"+H;-H":ae.timeZone.hourFormat;Ge=Ge.replace(/:/g,ae.numMapper.timeSeparator),0===Te?pe=ae.timeZone.gmtZeroFormat:(pe=class{static dateFormat(e,t,i){const s=Et.getDependables(i,e,t.calendar),o=(Me("parserObject.numbers",s),s.dateObject),a={isIslamic:Et.islamicRegex.test(t.calendar)};let l=t.format||Et.getResultantPattern(t.skeleton,s.dateObject,t.type,!1,"");if(a.dateSeperator=Et.getDateSeparator(s.dateObject),Rt(l))O0("Format options or type given must be invalid");else{l=Et.ConvertDateToWeekFormat(l),a.pattern=l,a.numMapper=zn.getNumberMapper(s.parserObject,zn.getNumberingSystem(i));const h=l.match(mpe)||[];for(const c of h){const d=c.length;let u=c[0];switch("K"===u&&(u="h"),u){case"E":case"c":a.weekday=s.dateObject[Et.days][V7][Et.monthIndex[d]];break;case"M":case"L":a.month=s.dateObject[Et.month][V7][Et.monthIndex[d]];break;case"a":a.designator=Me("dayPeriods.format.wide",o);break;case"G":a.era=Me("eras."+(d<=3?"eraAbbr":4===d?"eraNames":"eraNarrow"),s.dateObject);break;case"z":a.timeZone=Me("dates.timeZoneNames",s.parserObject)}}}return h=>isNaN(h.getDate())?null:this.intDateFormatter(h,a)}static intDateFormatter(e,t){let s="";const r=t.pattern.match(Et.dateParseRegex),o=this.getCurrentDateValue(e,t.isIslamic);for(const a of r){const l=a.length;let h=a[0];"K"===h&&(h="h");let c,u,p,d="",m="";switch(h){case"M":case"L":c=o.month,l>2?s+=t.month[c]:u=!0;break;case"E":case"c":s+=t.weekday[gpe[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(u=!0,"d"===h)c=o.date;else if("f"===h){u=!1,p=!0,d=e[H7[h]]().toString(),d=d.substring(0,l);const _=d.length;if(l!==_){if(l>3)continue;for(let k=0;k<l-_;k++)d="0"+d.toString()}m+=d}else c=e[H7[h]]();"h"===h&&(c=c%12||12);break;case"y":p=!0,m+=o.year,2===l&&(m=m.substr(m.length-2));break;case"a":let y=e.getHours()<12?"am":"pm";s+=t.designator[y];break;case"G":let b=e.getFullYear()<0?0:1,v=t.era[b];yt(v)&&(v=t.era[b?0:1]),s+=v||"";break;case"'":s+="''"===a?"'":a.replace(/'/g,"");break;case"z":let C=e.getTimezoneOffset(),w=l<4?"+H;-H":t.timeZone.hourFormat;w=w.replace(/:/g,t.numMapper.timeSeparator),0===C?s+=t.timeZone.gmtZeroFormat:(p=!0,m=this.getTimeZoneValue(C,w)),m=t.timeZone.gmtFormat.replace(/\{0\}/,m);break;case":":s+=t.numMapper.numberSymbols.timeSeparator;break;case"/":s+=t.dateSeperator;break;case"W":u=!0,c=Et.getWeekOfYear(e);break;default:s+=a}u&&(p=!0,m=this.checkTwodigitNumber(c,l)),p&&(s+=zn.convertValueParts(m,Et.latnParseRegex,t.numMapper.mapper))}return s}static getCurrentDateValue(e,t){return t?F0.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}}static checkTwodigitNumber(e,t){const i=e+"";return 2===t&&2!==i.length?"0"+i:i}static getTimeZoneValue(e,t){let s=t.split(";")[e>0?1:0];const r=Math.abs(e);return s.replace(/HH?|mm/g,o=>{const a=o.length,l=-1!==o.indexOf("H");return this.checkTwodigitNumber(Math.floor(l?r/60:r%60),a)})}}.getTimeZoneValue(Te,Ge),pe=ae.timeZone.gmtFormat.replace(/\{0\}/,pe)),V=V.replace(/[z]+/,'"'+pe+'"')}V=V.replace(/ $/,"")}return V},n.getActualNumberFormat=function(A,R,P,M){const L=h(P,A,"",!0),V={custom:!0};let pe;const ae={},Oe=(R.format||"").match(n.currencyFormatRegex),Ge=(n.formatRegex.test(R.format)&&p(R.format||"N"),{});if(Oe){Ge.numberMapper=zn.getNumberMapper(L.parserObject,zn.getNumberingSystem(P),!0);const j=b(L.numericObject,R.currency||B0,R.altSymbol);let Y=c("currency",Ge.numberMapper.numberSystem,L.numericObject,/a/i.test(R.format));Y=Y.replace(/\u00A4/g,j);const ge=Y.split(";");ae.hasNegativePattern=ge.length>1,ae.nData=m(ge[1]||"-"+ge[0],!0,j),ae.pData=m(ge[0],!1,j),!Oe[2]&&!R.minimumFractionDigits&&!R.maximumFractionDigits&&(pe=m(Y.split(";")[0],!0,"",!0).minimumFraction)}let ve;if(n.formatRegex.test(R.format)||!R.format){if(Es(V,p(R.format||"N")),V.custom=!1,ve="###0",V.fractionDigits||R.minimumFractionDigits||R.maximumFractionDigits||pe){const j=0;V.fractionDigits&&(R.minimumFractionDigits=R.maximumFractionDigits=V.fractionDigits),ve=O(ve,pe||V.fractionDigits||R.minimumFractionDigits||j,R.maximumFractionDigits||j)}if(R.minimumIntegerDigits&&(ve=N(ve,R.minimumIntegerDigits)),R.useGrouping&&(ve=X(ve)),"currency"===V.type){const j=ve;ve=ae.pData.nlead+j+ae.pData.nend,ae.hasNegativePattern&&(ve+=";"+ae.nData.nlead+j+ae.nData.nend)}"percent"===V.type&&(ve+=" %")}else ve=R.format.replace(/'/g,'"');return Object.keys(Ge).length>0&&(ve=M?ve:function(A,R){if(-1!==A.indexOf(",")){let P=A.split(",");A=P[0]+Me("numberMapper.numberSymbols.group",R)+P[1].replace(".",Me("numberMapper.numberSymbols.decimal",R))}else A=A.replace(".",Me("numberMapper.numberSymbols.decimal",R));return A}(ve,Ge)),ve},n.fractionDigitsPattern=O,n.minimumIntegerPattern=N,n.groupingPattern=X,n.getWeekData=function(A,R){let P="sun";const M=Me("supplemental.weekData.firstDay",R);let L=A;return/en-/.test(L)&&(L=L.slice(3)),L=L.slice(0,2).toUpperCase()+L.substr(2),M&&(P=M[L]||"sun"),o[P]},n.replaceBlazorCurrency=function(A,R,P){const M=function(n){return Me(n||"",ppe)}(P);if(R!==M)for(const L of A)L.nend=L.nend.replace(R,M),L.nlead=L.nlead.replace(R,M)},n.getWeekOfYear=function(A){const R=new Date(A.getFullYear(),0,1);let M,P=R.getDay();P=P>=0?P:P+7;const L=Math.floor((A.getTime()-R.getTime()-6e4*(A.getTimezoneOffset()-R.getTimezoneOffset()))/864e5)+1;if(P<4){if(M=Math.floor((L+P-1)/7)+1,M>52){let te=new Date(this.getFullYear()+1,0,1).getDay();te=te>=0?te:te+7,M=te<4?1:53}}else M=Math.floor((L+P-1)/7);return M}}(Et||(Et={}));const kpe=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,Ape=/msie|trident/i,Tpe=/Trident\/7\./,Lpe=/(ipad|iphone|ipod touch)/i,Rpe=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,Ipe=/android/i,Ppe=/trident|windows phone|edge/i,Ope=/(version)[ /]([\w.]+)/i,X7={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!=typeof window&&(window.browserDetails=window.browserDetails||{});class bt{static extractBrowserDetail(){const e={culture:{}},t=Object.keys(X7);let i=[];for(const s of t)if(i=bt.userAgent.match(X7[s]),i){if(e.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),e.name="crios"===i[1].toLowerCase()?"chrome":e.name,e.version=i[2],e.culture.name=e.culture.language=navigator.language,bt.userAgent.match(Tpe)){e.name="msie";break}const r=bt.userAgent.match(Ope);"safari"===e.name&&r&&(e.version=r[2]);break}return e}static getEvent(e){const t={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return bt.isPointer?t[e].isPointer:bt.isTouch?t[e].isTouch+(bt.isDevice?"":" "+t[e].isDevice):t[e].isDevice}static getTouchStartEvent(){return bt.getEvent("start")}static getTouchEndEvent(){return bt.getEvent("end")}static getTouchMoveEvent(){return bt.getEvent("move")}static getTouchCancelEvent(){return bt.getEvent("cancel")}static getValue(e,t){const i=window.browserDetails;return void 0===i[e]?i[e]=t.test(bt.userAgent):("MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!0===bt.isTouch&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0),i[e])}static set userAgent(e){bt.uA=e,window.browserDetails={}}static get userAgent(){return bt.uA}static get info(){return Rt(window.browserDetails.info)?window.browserDetails.info=bt.extractBrowserDetail():window.browserDetails.info}static get isIE(){return bt.getValue("isIE",Ape)}static get isTouch(){return Rt(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch}static get isPointer(){return Rt(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer}static get isMSPointer(){return Rt(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer}static get isDevice(){return bt.getValue("isDevice",kpe)}static get isIos(){return bt.getValue("isIos",Lpe)}static get isIos7(){return bt.getValue("isIos7",Rpe)}static get isAndroid(){return bt.getValue("isAndroid",Ipe)}static get isWebView(){return Rt(window.browserDetails.isWebView)&&(window.browserDetails.isWebView=!(Rt(window.cordova)&&Rt(window.PhoneGap)&&Rt(window.phonegap)&&"object"!==window.forge)),window.browserDetails.isWebView}static get isWindows(){return bt.getValue("isWindows",Ppe)}static get touchStartEvent(){return Rt(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=bt.getTouchStartEvent():window.browserDetails.touchStartEvent}static get touchMoveEvent(){return Rt(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=bt.getTouchMoveEvent():window.browserDetails.touchMoveEvent}static get touchEndEvent(){return Rt(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=bt.getTouchEndEvent():window.browserDetails.touchEndEvent}static get touchCancelEvent(){return Rt(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=bt.getTouchCancelEvent():window.browserDetails.touchCancelEvent}}bt.uA="undefined"!=typeof navigator?navigator.userAgent:"";class di{static addOrGetEventData(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])}static add(e,t,i,s,r){const o=di.addOrGetEventData(e);let a;a=r?function(n,e){let t;return function(){const i=arguments,s=()=>(t=null,n.apply(this,i));clearTimeout(t),t=setTimeout(s,e)}}(i,r):i,s&&(a=a.bind(s));const l=t.split(" ");for(let h=0;h<l.length;h++)o.push({name:l[h],listener:i,debounce:a}),bt.isIE?e.addEventListener(l[h],a):e.addEventListener(l[h],a,{passive:!1});return a}static remove(e,t,i){const s=di.addOrGetEventData(e),r=t.split(" ");for(let o=0;o<r.length;o++){let l,a=-1;s&&0!==s.length&&s.some((h,c)=>h.name===r[o]&&h.listener===i&&(a=c,l=h.debounce,!0)),-1!==a&&s.splice(a,1),l&&e.removeEventListener(r[o],l)}}static clearEvents(e){let t,i;t=di.addOrGetEventData(e),i=Es([],i,t);for(let s=0;s<i.length;s++)e.removeEventListener(i[s].name,i[s].debounce),t.shift()}static trigger(e,t,i){const s=di.addOrGetEventData(e);for(const r of s)r.name===t&&r.debounce.call(this,i)}}const Fpe=/^svg|^path|^g/;function cp(n,e){const t=Fpe.test(n)?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n);return void 0===e||(t.innerHTML=e.innerHTML?e.innerHTML:"",void 0!==e.className&&(t.className=e.className),void 0!==e.id&&(t.id=e.id),void 0!==e.styles&&t.setAttribute("style",e.styles),void 0!==e.attrs&&e8(t,e.attrs)),t}function Lx(n,e){const t=Z7(e);for(const i of n)for(const s of t)if(Qc(i)){const r=Me("attributes.className",i);yt(r)?Tr("attributes.className",s,i):new RegExp("\\b"+s+"\\b","i").test(r)||Tr("attributes.className",r+" "+s,i)}else i.classList.contains(s)||i.classList.add(s);return n}function Rx(n,e){const t=Z7(e);for(const i of n){const s=Qc(i);if(s?Me("attributes.className",i):""!==i.className)for(const o of t)if(s){const l=Me("attributes.className",i).split(" "),h=l.indexOf(o);-1!==h&&l.splice(h,1),Tr("attributes.className",l.join(" "),i)}else i.classList.remove(o)}return n}function Z7(n){let e=[];return"string"==typeof n?e.push(n):e=n,e}function K7(n){return""===n.style.visibility&&n.offsetWidth>0}function e8(n,e){const t=Object.keys(e),i=n;for(const s of t)if(Qc(i)){let r=s;"tabindex"===s&&(r="tabIndex"),i.attributes[r]=e[s]}else i.setAttribute(s,e[s]);return i}function BL(n,e=document,t){return n=i8(n),e.querySelector(n)}function i8(n){if(n.match(/#[0-9]/g)){const e=n.split(",");for(let t=0;t<e.length;t++){const i=e[t].split(" ");for(let s=0;s<i.length;s++)if(i[s].indexOf("#")>-1&&!i[s].match(/\[.*\]/)&&i[s].split("#")[1].match(/^\d/)){const o=i[s].split(".");o[0]=o[0].replace(/#/,"[id='")+"']",i[s]=o.join(".")}e[t]=i.join(" ")}return e.join(",")}return n}function yy(n,e){let t=n;if("function"==typeof t.closest)return t.closest(e);for(;t&&1===t.nodeType;){if(n8(t,e))return t;t=t.parentNode}return null}function s8(n,e){void 0!==e&&Object.keys(e).forEach(t=>{n.style[t]=e[t]})}function n8(n,e){let t=n.matches||n.msMatchesSelector||n.webkitMatchesSelector;return t?t.call(n,e):-1!==[].indexOf.call(document.querySelectorAll(e),n)}const Npe=new RegExp("]");class Kd{constructor(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=()=>{},this.childChangedProperties={},this.modelObserver=new Ax(this),Rt(t)||(this.element="string"==typeof t?document.querySelector(t):t,yt(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),Rt(e)||this.setProperties(e,!0),this.isDestroyed=!1}setProperties(e,t){const i=this.isProtectedOnChange;this.isProtectedOnChange=!!t,my(this,e),!0!==t&&(my(this.changedProperties,e),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i}static callChildDataBind(e,t){const i=Object.keys(e);for(const s of i)if(t[s]instanceof Array)for(const r of t[s])void 0!==r.dataBind&&r.dataBind();else t[s].dataBind()}clearChanges(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}}dataBind(){if(Kd.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){const e=this.isProtectedOnChange,t=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(t,i),this.isProtectedOnChange=e}}serverDataBind(e){}saveChanges(e,t,i){this.isProtectedOnChange||(this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function(n){let e;const t=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(t);let s="ej2"+function(n){let e="";for(let t=0;t<5;t++)e+=(t?",":"")+n[t];return e}(t),r=o=>{o.source===window&&"string"==typeof o.data&&o.data.length<=32&&o.data===s&&(n(),e())};return window.addEventListener("message",r,!1),window.postMessage(s,"*"),e=()=>{window.removeEventListener("message",r),n=r=s=void 0}}(this.dataBind.bind(this)))}addEventListener(e,t){this.modelObserver.on(e,t)}removeEventListener(e,t){this.modelObserver.off(e,t)}trigger(e,t,i,s){if(!0!==this.isDestroyed){const r=this.isProtectedOnChange;this.isProtectedOnChange=!1;let o=this.modelObserver.notify(e,t,i,s);if(Npe.test(e)){const a=Me(e,this);if(a)if(window.Blazor){const h=a.call(this,t);h&&"function"==typeof h.then?i?h.then(c=>{i&&(c="string"==typeof c&&this.modelObserver.isJson(c)?JSON.parse(c):c,i.call(this,c))}).catch(c=>{s&&(c="string"==typeof c&&this.modelObserver.isJson(c)?JSON.parse(c):c,s.call(this,c))}):o=h:i&&i.call(this,t)}else a.call(this,t),i&&i.call(this,t);else i&&i.call(this,t)}return this.isProtectedOnChange=r,o}}addInstance(){const e="e-"+this.getModuleName().toLowerCase();Lx([this.element],["e-lib",e]),yt(this.element.ej2_instances)?Tr("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)}destroy(){this.element.ej2_instances=this.element.ej2_instances.filter(e=>e!==this),Rx([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&Rx([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0}}function Ix(n,e,t,i){return(!n.properties.hasOwnProperty(e)||!(n.properties[e]instanceof i))&&(n.properties[e]=kx(i,[n,e,t])),n.properties[e]}function r8(n,e){return function(){return this.properties.hasOwnProperty(e)||(this.properties[e]=n),this.properties[e]}}function Vpe(n,e){return function(t){if(this.properties[e]!==t){let i=this.properties.hasOwnProperty(e)?this.properties[e]:n;this.saveChanges(e,t,i),this.properties[e]=t}}}function Hpe(n,e,t){return function(){return Ix(this,e,n,t)}}function jpe(n,e,t){return function(i){Ix(this,e,n,t).setProperties(i)}}function gs(n){return(e,t)=>{const i={set:Vpe(n,t),get:r8(n,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i),vy(e,t,"prop",n)}}function a8(n,e){return(t,i)=>{const s={set:jpe(n,i,e),get:Hpe(n,i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,s),vy(t,i,"complexProp",n,e)}}function Fa(){return(n,e)=>{const t={set:function(i){const s=this.properties[e];if(s!==i){const r=h8(this,e);!1===Rt(s)&&r.context.removeEventListener(r.prefix,s),r.context.addEventListener(r.prefix,i),this.properties[e]=i}},get:r8(void 0,e),enumerable:!0,configurable:!0};Object.defineProperty(n,e,t),vy(n,e,"event")}}function by(n){}function vy(n,e,t,i,s){Rt(n.propList)&&(n.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),n.propList[t+"s"].push({propertyName:e,defaultValue:i,type:s}),n.propList[t+"Names"].push(e)}function h8(n,e){if(!1===n.hasOwnProperty("parentObj"))return{context:n,prefix:e};{const t=Me("propName",n);return t&&(e=t+"-"+e),h8(Me("parentObj",n),e)}}var Cy,Qd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Jc=Cy=class extends Kd{constructor(e){super(e,void 0),this.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"}}animate(e,t){const i=this.getModel(t=t||{});if("string"==typeof e){const s=Array.prototype.slice.call(function(n,e=document,t){return n=i8(n),e.querySelectorAll(n)}(e,document));for(const r of s)i.element=r,Cy.delayAnimation(i)}else i.element=e,Cy.delayAnimation(i)}static stop(e,t){e.style.animation="",e.removeAttribute("e-animate");const i=e.getAttribute("e-animation-id");if(i){const s=parseInt(i,10);cancelAnimationFrame(s),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)}static delayAnimation(e){e.delay?setTimeout(()=>{Cy.applyAnimation(e)},e.delay):Cy.applyAnimation(e)}static applyAnimation(e){e.timeStamp=0;let t=0,i=0,s=0;const r=e.duration;e.element.setAttribute("e-animate","true");const o=a=>{try{if(a){s=0===s?a:s,e.timeStamp=a+e.timeStamp-s,s=a,!t&&e.begin&&e.begin.call(this,e),t+=1;const l=e.timeStamp/t;e.timeStamp<r&&e.timeStamp+l<r&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(this,e),requestAnimationFrame(o)):(cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(this,e))}else i=requestAnimationFrame(o),e.element.setAttribute("e-animation-id",i.toString())}catch(l){cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(this,l)}};o()}getModel(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}}onPropertyChanged(e,t){}getModuleName(){return"animation"}destroy(){}};Qd([gs("FadeIn")],Jc.prototype,"name",void 0),Qd([gs(400)],Jc.prototype,"duration",void 0),Qd([gs("ease")],Jc.prototype,"timingFunction",void 0),Qd([gs(0)],Jc.prototype,"delay",void 0),Qd([Fa()],Jc.prototype,"progress",void 0),Qd([Fa()],Jc.prototype,"begin",void 0),Qd([Fa()],Jc.prototype,"end",void 0),Qd([Fa()],Jc.prototype,"fail",void 0),Jc=Cy=Qd([by],Jc);class Kpe{constructor(e){this.loadedModules=[],this.parent=e}inject(e,t){const i=e.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(e);for(let s=0;s<i;s++){const r=e[s];for(const o of t){const a=r.member;if(o.prototype.getModuleName()===r.member&&!this.isModuleLoaded(a)){const l=kx(o,r.args),h=this.getMemberName(a);Tr(h,r.isProperty?o:l,this.parent);const c=r;c.member=h,this.loadedModules.push(c)}}}}else this.clean()}clean(){for(const e of this.loadedModules)e.isProperty||Me(e.member,this.parent).destroy();this.loadedModules=[]}clearUnusedModule(e){const t=e.map(s=>this.getMemberName(s.member)),i=this.loadedModules.filter(s=>-1===t.indexOf(s.member));for(const s of i)s.isProperty||Me(s.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(s),1),lpe(this.parent,s.member)}getMemberName(e){return e[0].toLowerCase()+e.substring(1)+"Module"}isModuleLoaded(e){for(const t of this.loadedModules)if(t.member===this.getMemberName(e))return!0;return!1}}class HL{constructor(e,t,i,s){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=()=>{},this.callChildDataBind=Me("callChildDataBind",Kd),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=s,this.setProperties(i,!0)}updateChange(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)}updateTimeOut(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{const e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=()=>{clearTimeout(e)}}}clearChanges(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}}setProperties(e,t){!0===t?(my(this,e),this.updateChange(!1,this.propName),this.clearChanges()):my(this,e)}dataBind(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){const e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(Tr(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),Tr(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()}saveChanges(e,t,i,s){this.controlParent.isProtectedOnChange||(s||this.serverDataBind(e,t,!0),this.oldProperties[e]=i,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())}serverDataBind(e,t,i,s){0}getParentKey(e){let t="",i=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);let s=this.parentObj[this.propName].length;s=e?s:s>0?s-1:0,t=-1!==t?"-"+t:"-"+s,i+=t}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+t),i}}var Px=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let zL,jL=0,p8=0,H0=class extends Kd{constructor(e,t){super(e,t),this.randomId=function(){if("undefined"==typeof window)return;let n=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(n)}(),this.isStringTemplate=!1,this.needsID=!1,this.isReactHybrid=!1,yt(this.enableRtl)&&this.setProperties({enableRtl:false},!0),yt(this.locale)&&this.setProperties({locale:"en-US"},!0),this.moduleLoader=new Kpe(this),this.localObserver=new Ax(this),N0.on("notifyExternalChange",this.detectFunction,this,this.randomId),Rt(t)||this.appendTo()}requiredModules(){return[]}destroy(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),!this.refreshing&&(Rx([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),super.destroy(),this.moduleLoader.clean(),N0.off("notifyExternalChange",this.detectFunction,this.randomId)))}refresh(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new Ax(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1}accessMount(){this.mount&&!this.isReactHybrid&&this.mount()}getRootElement(){return this.isReactHybrid?this.actualElement:this.element}getLocalData(){const e=this.getModuleName()+this.element.id;return window.localStorage.getItem(e)}appendTo(e){if(yt(e)||"string"!=typeof e?yt(e)||(this.element=e):this.element=BL(e,document),!yt(this.element)){const t="e-"+this.getModuleName().toLowerCase();Lx([this.element],["e-control",t]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));const i=Me("ej2_instances",this.element);(!i||-1===i.indexOf(this))&&super.addInstance(),this.preRender(),this.injectModules(),this.render(),this.mount?this.accessMount():this.trigger("created")}}renderComplete(e){this.isRendered=!0}dataBind(){this.injectModules(),super.dataBind()}on(e,t,i){if("string"==typeof e)this.localObserver.on(e,t,i);else for(const s of e)this.localObserver.on(s.event,s.handler,s.context)}off(e,t){if("string"==typeof e)this.localObserver.off(e,t);else for(const i of e)this.localObserver.off(i.event,i.handler)}notify(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)}getInjectedModules(){return this.injectedModules}static Inject(...e){this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(let t=0;t<e.length;t++)-1===this.prototype.injectedModules.indexOf(e[t])&&this.prototype.injectedModules.push(e[t])}createElement(e,t,i){return cp(e,t)}triggerStateChange(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})}injectModules(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)}detectFunction(e){const t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])}mergePersistData(){let e;e=window.localStorage.getItem(this.getModuleName()+this.element.id),yt(e)||""===e||this.setProperties(JSON.parse(e),!0)}setPersistData(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())}renderReactTemplates(){}clearTemplate(e,t){}getUniqueID(e){return this.isHistoryChanged()&&(jL=0),zL=this.pageID(location.href),p8=history.length,e+"_"+zL+"_"+jL++}pageID(e){let t=0;if(0===e.length)return t;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return Math.abs(t)}isHistoryChanged(){return zL!==this.pageID(location.href)||p8!==history.length}addOnPersist(e){const t={};for(const i of e){let s;s=Me(i,this),Rt(s)||Tr(i,this.getActualProperties(s),t)}return JSON.stringify(t,(i,s)=>this.getActualProperties(s))}getActualProperties(e){return e instanceof HL?Me("properties",e):e}ignoreOnPersist(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))}iterateJsonProperties(e,t){const i={};for(const s of Object.keys(e))if(-1===t.indexOf(s)){const r=e[s];if("object"!=typeof r||r instanceof Array)i[s]=r;else{const o=t.filter(a=>new RegExp(s+".").test(a)).map(a=>a.replace(s+".",""));i[s]=this.iterateJsonProperties(this.getActualProperties(r),o)}}return i}};Px([gs(!1)],H0.prototype,"enablePersistence",void 0),Px([gs()],H0.prototype,"enableRtl",void 0),Px([gs()],H0.prototype,"locale",void 0),H0=Px([by],H0),"undefined"!=typeof window&&window.addEventListener("popstate",()=>{jL=0});var j0,vn=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const Qpe={left:0,top:0,bottom:0,right:0},WL={isDragged:!1};class UL extends HL{}vn([gs(0)],UL.prototype,"left",void 0),vn([gs(0)],UL.prototype,"top",void 0);let kn=j0=class extends Kd{constructor(e,t){super(t,e),this.dragLimit=j0.getDefaultPosition(),this.borderWidth=j0.getDefaultPosition(),this.padding=j0.getDefaultPosition(),this.diffX=0,this.prevLeft=0,this.prevTop=0,this.dragProcessStarted=!1,this.tapHoldTimer=0,this.externalInitialize=!1,this.diffY=0,this.parentScrollX=0,this.parentScrollY=0,this.droppables={},this.bind()}bind(){this.toggleEvents(),bt.isIE&&Lx([this.element],"e-block-touch"),this.droppables[this.scope]={}}static getDefaultPosition(){return Es({},Qpe)}toggleEvents(e){let t;Rt(this.handle)||(t=BL(this.handle,this.element));let i=this.enableTapHold&&bt.isDevice&&bt.isTouch?this.mobileInitialize:this.initialize;e?di.remove(t||this.element,bt.touchStartEvent,i):di.add(t||this.element,bt.touchStartEvent,i,this)}mobileInitialize(e){let t=e.currentTarget;this.tapHoldTimer=setTimeout(()=>{this.externalInitialize=!0,this.removeTapholdTimer(),this.initialize(e,t)},this.tapHoldThreshold),di.add(document,bt.touchMoveEvent,this.removeTapholdTimer,this),di.add(document,bt.touchEndEvent,this.removeTapholdTimer,this)}removeTapholdTimer(){clearTimeout(this.tapHoldTimer),di.remove(document,bt.touchMoveEvent,this.removeTapholdTimer),di.remove(document,bt.touchEndEvent,this.removeTapholdTimer)}getScrollableParent(e,t){return yt(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?(this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY),this.tempScrollHeight=e.scrollHeight):(this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),this.tempScrollWidth=e.scrollWidth),yt(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)}getScrollableValues(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")}initialize(e,t){if(this.currentStateTarget=e.target,this.isDragStarted())return;if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){let s=this.abort;"string"==typeof s&&(s=[s]);for(let r=0;r<s.length;r++)if(!yt(yy(e.target,s[r])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!Rt(e.changedTouches)&&"touchstart"!==e.type&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");let i=this.getCoordinates(e);if(this.initialPosition={x:i.pageX,y:i.pageY},!this.clone){let s=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=i.pageX-(s.left+this.parentScrollX),this.relativeYPosition=i.pageY-(s.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(di.add(document,bt.touchMoveEvent,this.intDragStart,this),di.add(document,bt.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==e.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,di.trigger(document.documentElement,bt.touchStartEvent,e)}intDragStart(e){this.removeTapholdTimer();let t=!Rt(e.changedTouches);if(t&&1!==e.changedTouches.length)return;t&&e.preventDefault();let s,i=this.getCoordinates(e),r=getComputedStyle(this.element);this.margin={left:parseInt(r.marginLeft,10),top:parseInt(r.marginTop,10),right:parseInt(r.marginRight,10),bottom:parseInt(r.marginBottom,10)};let o=this.element;if(this.clone&&this.dragTarget){let c=yy(e.target,this.dragTarget);yt(c)||(o=c)}this.isReplaceDragEle&&(o=this.currentStateCheck(e.target,o)),this.offset=this.calculateParentPosition(o),this.position=this.getMousePosition(e,this.isDragScroll);let a=this.initialPosition.x-i.pageX,l=this.initialPosition.y-i.pageY;if(Math.sqrt(a*a+l*l)>=this.distance||this.externalInitialize){let c=this.getHelperElement(e);if(!c||yt(c))return;let d=this.helperElement=c;if(this.parentClientRect=this.calculateParentPosition(d.offsetParent),this.dragStart){let b={event:e,element:o,target:this.getProperTargetElement(e),bindEvents:null,dragElement:d};this.trigger("dragStart",b)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),s={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();let u=getComputedStyle(o),p=parseFloat(u.marginTop);this.clone&&0!==p&&(s.top+=p),this.enableScrollHandler&&!this.clone&&(s.top-=this.parentScrollY,s.left-=this.parentScrollX);let m=this.getProcessedPositionValue({top:s.top-this.diffY+"px",left:s.left-this.diffX+"px"});this.dragElePosition={top:s.top,left:s.left},s8(d,this.getDragPosition({position:"absolute",left:m.left,top:m.top})),di.remove(document,bt.touchMoveEvent,this.intDragStart),di.remove(document,bt.touchEndEvent,this.intDestroy),this.bindDragEvents(d)}}bindDragEvents(e){K7(e)?(di.add(document,bt.touchMoveEvent,this.intDrag,this),di.add(document,bt.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))}elementInViewport(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)this.top+=(e=e.offsetParent).offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth}getProcessedPositionValue(e){return this.queryPositionInfo?this.queryPositionInfo(e):e}calculateParentPosition(e){if(yt(e))return{left:0,top:0};let t=e.getBoundingClientRect(),i=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(i.marginLeft,10),top:t.top+window.pageYOffset-parseInt(i.marginTop,10)}}intDrag(e){if(!Rt(e.changedTouches)&&1!==e.changedTouches.length)return;let t,i;this.position=this.getMousePosition(e,this.isDragScroll);let s=this.getDocumentWidthHeight("Height");s<this.position.top&&(this.position.top=s);let r=this.getDocumentWidthHeight("Width");if(r<this.position.left&&(this.position.left=r),this.drag){let D=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:D})}let o=this.checkTargetElement(e);if(o.target&&o.instance){let D=!0;this.hoverObject&&(this.hoverObject.instance!==o.instance?this.triggerOutFunction(e,o):D=!1),D&&(o.instance.dragData[this.scope]=this.droppables[this.scope],o.instance.intOver(e,o.target),this.hoverObject=o)}else this.hoverObject&&this.triggerOutFunction(e,o);let a=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);let l=this.parentClientRect.left,h=this.parentClientRect.top,c=this.getCoordinates(e),d=c.pageX,u=c.pageY,p=this.position.left-this.diffX,m=this.position.top-this.diffY,y=getComputedStyle(a),b=parseFloat(y.marginTop);if(this.dragArea){if(this.pageX!==d||this.skipDistanceCheck){let D=a.offsetWidth+(parseFloat(y.marginLeft)+parseFloat(y.marginRight));t=this.dragLimit.left>p&&p>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<p+D&&p>0?p-(p-this.dragLimit.right)+window.pageXOffset-D:p<0?this.dragLimit.left:p}if(this.pageY!==u||this.skipDistanceCheck){let D=a.offsetHeight+(parseFloat(y.marginTop)+parseFloat(y.marginBottom));i=this.dragLimit.top>m&&m>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<m+D&&m>0?m-(m-this.dragLimit.bottom)+window.pageYOffset-D:m<0?this.dragLimit.top:m}}else t=p,i=m;let w,_,v=h+this.borderWidth.top,C=l+this.borderWidth.left;if(this.dragProcessStarted&&(yt(i)&&(i=this.prevTop),yt(t)&&(t=this.prevLeft)),this.dragArea){if(this.dragLimit.top=this.clone?this.dragLimit.top:0,w=i-v<0?this.dragLimit.top:i-v,_=t-C<0?this.dragElePosition.left:t-C,b>0&&(this.clone&&(w+=this.element.offsetTop,m<0&&(this.element.offsetTop+m>=0?w=this.element.offsetTop+m:w-=this.element.offsetTop),w=this.dragLimit.bottom<w?this.dragLimit.bottom:w),i-v<0))if(m+b+(a.offsetHeight-v)>=0){let D=this.dragLimit.top+m-v;D+b+v<0?w-=b+v:w=D}else w-=b+v}else w=i-v,_=t-C;this.enableScrollHandler&&!this.clone&&(w-=this.parentScrollY,_-=this.parentScrollX);let k=this.getProcessedPositionValue({top:w+"px",left:_+"px"});s8(a,this.getDragPosition(k)),!this.elementInViewport(a)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=i,this.position.left=t,this.position.top=i,this.pageX=d,this.pageY=u}triggerOutFunction(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null}getDragPosition(e){let t=Es({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t}getDocumentWidthHeight(e){let t=document.body,i=document.documentElement;return Math.max(t["scroll"+e],i["scroll"+e],t["offset"+e],i["offset"+e],i["client"+e])}intDragStop(e){if(this.dragProcessStarted=!1,!Rt(e.changedTouches)&&1!==e.changedTouches.length)return;if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){let s=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:s,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");let i=this.checkTargetElement(e);i.target&&i.instance&&(i.instance.dragStopCalled=!0,i.instance.dragData[this.scope]=this.droppables[this.scope],i.instance.intDrop(e,i.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}intDestroy(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),di.remove(document,bt.touchMoveEvent,this.intDragStart),di.remove(document,bt.touchEndEvent,this.intDragStop),di.remove(document,bt.touchEndEvent,this.intDestroy),di.remove(document,bt.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)}onPropertyChanged(e,t){}getModuleName(){return"draggable"}isDragStarted(e){return e&&(WL.isDragged=!WL.isDragged),WL.isDragged}setDragArea(){let e,t,r,i=0,s=0;if(r="string"==typeof this.dragArea?BL(this.dragArea):this.dragArea,r){let a=r.getBoundingClientRect();e=r.scrollWidth?r.scrollWidth:a.right-a.left,t=r.scrollHeight?r.scrollHeight:a.bottom-a.top;let l=["Top","Left","Bottom","Right"],h=getComputedStyle(r);for(let c=0;c<l.length;c++){let d=l[c],u=h["border"+d+"Width"],p=h["padding"+d],m=d.toLowerCase();this.borderWidth[m]=isNaN(parseFloat(u))?0:parseFloat(u),this.padding[m]=isNaN(parseFloat(p))?0:parseFloat(p)}i=a.top,s=a.left,this.dragLimit.left=s+this.borderWidth.left+this.padding.left,this.dragLimit.top=r.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=s+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=i+t-(this.borderWidth.bottom+this.padding.bottom)}}getProperTargetElement(e){let i,t=this.getCoordinates(e),s=this.helperElement.style.pointerEvents||"";return OL(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",i=document.elementFromPoint(t.clientX,t.clientY),this.helperElement.style.pointerEvents=s):i=e.target,i}currentStateCheck(e,t){let i;return i=yt(this.currentStateTarget)||this.currentStateTarget===e?yt(t)?e:t:this.currentStateTarget,i}getMousePosition(e,t){let r,o,i=void 0!==e.srcElement?e.srcElement:e.target,s=this.getCoordinates(e),a=yt(i.offsetParent);return t?(r=this.clone?s.pageX:s.pageX+(a?0:i.offsetParent.scrollLeft)-this.relativeXPosition,o=this.clone?s.pageY:s.pageY+(a?0:i.offsetParent.scrollTop)-this.relativeYPosition):(r=this.clone?s.pageX:s.pageX+window.pageXOffset-this.relativeXPosition,o=this.clone?s.pageY:s.pageY+window.pageYOffset-this.relativeYPosition),!this.clone&&this.dragArea&&!t&&(this.getScrollableValues(),o-=this.tempScrollHeight?this.parentScrollY:0,r-=this.tempScrollWidth?this.parentScrollX:0),{left:r-(this.margin.left+this.cursorAt.left),top:o-(this.margin.top+this.cursorAt.top)}}getCoordinates(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e}getHelperElement(e){let t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=cp("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t}setGlobalDroppables(e,t,i){this.droppables[this.scope]=e?null:{draggable:t,helper:i,draggedElement:this.element}}checkTargetElement(e){let t=this.getProperTargetElement(e),i=this.getDropInstance(t);if(!i&&t&&!yt(t.parentNode)){let s=yy(t.parentNode,".e-droppable")||t.parentElement;s&&(i=this.getDropInstance(s))}return{target:t,instance:i}}getDropInstance(e){let i,s=e&&e.ej2_instances;if(s)for(let r of s)if("droppable"===r.getModuleName()){i=r;break}return i}destroy(){this.toggleEvents(!0),super.destroy()}};vn([a8({},UL)],kn.prototype,"cursorAt",void 0),vn([gs(!0)],kn.prototype,"clone",void 0),vn([gs()],kn.prototype,"dragArea",void 0),vn([gs()],kn.prototype,"isDragScroll",void 0),vn([gs()],kn.prototype,"isReplaceDragEle",void 0),vn([gs(!0)],kn.prototype,"isPreventSelect",void 0),vn([Fa()],kn.prototype,"drag",void 0),vn([Fa()],kn.prototype,"dragStart",void 0),vn([Fa()],kn.prototype,"dragStop",void 0),vn([gs(1)],kn.prototype,"distance",void 0),vn([gs()],kn.prototype,"handle",void 0),vn([gs()],kn.prototype,"abort",void 0),vn([gs()],kn.prototype,"helper",void 0),vn([gs("default")],kn.prototype,"scope",void 0),vn([gs("")],kn.prototype,"dragTarget",void 0),vn([gs()],kn.prototype,"axis",void 0),vn([gs()],kn.prototype,"queryPositionInfo",void 0),vn([gs(!1)],kn.prototype,"enableTailMode",void 0),vn([gs(!1)],kn.prototype,"skipDistanceCheck",void 0),vn([gs(!0)],kn.prototype,"preventDefault",void 0),vn([gs(!1)],kn.prototype,"enableAutoScroll",void 0),vn([gs(!1)],kn.prototype,"enableTapHold",void 0),vn([gs(750)],kn.prototype,"tapHoldThreshold",void 0),vn([gs(!1)],kn.prototype,"enableScrollHandler",void 0),kn=j0=vn([by],kn);var Sy=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Yf=class extends Kd{constructor(e,t){super(t,e),this.mouseOver=!1,this.dragData={},this.dragStopCalled=!1,this.bind()}bind(){this.wireEvents()}wireEvents(){di.add(this.element,bt.touchEndEvent,this.intDrop,this)}onPropertyChanged(e,t){}getModuleName(){return"droppable"}intOver(e,t){this.mouseOver||(this.trigger("over",{event:e,target:t,dragData:this.dragData[this.scope]}),this.mouseOver=!0)}intOut(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)}intDrop(e,t){if(!this.dragStopCalled)return;this.dragStopCalled=!1;let i=!0;const s=this.dragData[this.scope],r=!!s&&s.helper&&K7(s.helper);let o;r&&(o=this.isDropArea(e,s.helper,t),this.accept&&(i=n8(s.helper,this.accept))),r&&this.drop&&o.canDrop&&i&&this.trigger("drop",{event:e,target:o.target,droppedElement:s.helper,dragData:s}),this.mouseOver=!1}isDropArea(e,t,i){const s={canDrop:!0,target:i||e.target},r="touchend"===e.type;if(r||s.target===t){t.style.display="none";const o=r?e.changedTouches[0]:e,a=document.elementFromPoint(o.clientX,o.clientY);s.canDrop=!1,s.canDrop=OL(a,this.element),s.canDrop&&(s.target=a),t.style.display=""}return s}destroy(){di.remove(this.element,bt.touchEndEvent,this.intDrop),super.destroy()}};Sy([gs()],Yf.prototype,"accept",void 0),Sy([gs("default")],Yf.prototype,"scope",void 0),Sy([Fa()],Yf.prototype,"drop",void 0),Sy([Fa()],Yf.prototype,"over",void 0),Sy([Fa()],Yf.prototype,"out",void 0),Yf=Sy([by],Yf);var z0,Fx=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const Jpe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222};let _y=z0=class extends Kd{constructor(e,t){super(t,e),this.keyPressHandler=i=>{const s=i.altKey,r=i.ctrlKey,o=i.shiftKey,a=i.which,l=Object.keys(this.keyConfigs);for(const h of l){const c=this.keyConfigs[h].split(",");for(const d of c){const u=z0.getKeyConfigData(d.trim());s===u.altKey&&r===u.ctrlKey&&o===u.shiftKey&&a===u.keyCode&&(i.action=h,this.keyAction&&this.keyAction(i))}}},this.bind()}destroy(){this.unwireEvents(),super.destroy()}onPropertyChanged(e,t){}bind(){this.wireEvents()}getModuleName(){return"keyboard"}wireEvents(){this.element.addEventListener(this.eventName,this.keyPressHandler)}unwireEvents(){this.element.removeEventListener(this.eventName,this.keyPressHandler)}static getKeyConfigData(e){if(e in this.configCache)return this.configCache[e];const t=e.toLowerCase().split("+"),i={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return i.keyCode=t[t.length-1].length>1&&Number(t[t.length-1])?Number(t[t.length-1]):z0.getKeyCode(t[t.length-1]),z0.configCache[e]=i,i}static getKeyCode(e){return Jpe[e]||e.toUpperCase().charCodeAt(0)}};_y.configCache={},Fx([gs({})],_y.prototype,"keyConfigs",void 0),Fx([gs("keyup")],_y.prototype,"eventName",void 0),Fx([Fa()],_y.prototype,"keyAction",void 0),_y=z0=Fx([by],_y);var Jd=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class f8 extends HL{}Jd([gs(50)],f8.prototype,"swipeThresholdDistance",void 0);const efe=/(Up|Down)/;let eu=class extends Kd{constructor(e,t){super(t,e),this.touchAction=!0,this.tapCount=0,this.startEvent=i=>{if(!0===this.touchAction){const s=this.updateChangeTouches(i);void 0!==i.changedTouches&&(this.touchAction=!1),this.isTouchMoved=!1,this.movedDirection="",this.startPoint=this.lastMovedPoint={clientX:s.clientX,clientY:s.clientY},this.startEventData=s,this.hScrollLocked=this.vScrollLocked=!1,this.tStampStart=Date.now(),this.timeOutTapHold=setTimeout(()=>{this.tapHoldEvent(i)},this.tapHoldThreshold),di.add(this.element,bt.touchMoveEvent,this.moveEvent,this),di.add(this.element,bt.touchEndEvent,this.endEvent,this),di.add(this.element,bt.touchCancelEvent,this.cancelEvent,this)}},this.moveEvent=i=>{const s=this.updateChangeTouches(i);this.movedPoint=s,this.isTouchMoved=!(s.clientX===this.startPoint.clientX&&s.clientY===this.startPoint.clientY);let r={};this.isTouchMoved&&(clearTimeout(this.timeOutTapHold),this.calcScrollPoints(i),r=Es(r,{},{startEvents:this.startEventData,originalEvent:i,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,scrollDirection:this.scrollDirection,velocity:this.getVelocity(s)}),this.trigger("scroll",r),this.lastMovedPoint={clientX:s.clientX,clientY:s.clientY})},this.cancelEvent=i=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap),this.tapCount=0,this.swipeFn(i),di.remove(this.element,bt.touchCancelEvent,this.cancelEvent)},this.endEvent=i=>{this.swipeFn(i),this.isTouchMoved||"function"==typeof this.tap&&(this.trigger("tap",{originalEvent:i,tapCount:++this.tapCount}),this.timeOutTap=setTimeout(()=>{this.tapCount=0},this.tapThreshold)),this.modeclear()},this.swipeFn=i=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap);const s=this.updateChangeTouches(i);let r=s.clientX-this.startPoint.clientX,o=s.clientY-this.startPoint.clientY;r=Math.floor(r<0?-1*r:r),o=Math.floor(o<0?-1*o:r),this.isTouchMoved=r>1||o>1,this.endPoint=s,this.calcPoints(i);const a={originalEvent:i,startEvents:this.startEventData,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,swipeDirection:this.movedDirection,velocity:this.getVelocity(s)};if(this.isTouchMoved){let l;const h=this.swipeSettings.swipeThresholdDistance;l=Es(l,this.defaultArgs,a);let c=!1;const d=this.element,u=this.isScrollable(d),p=efe.test(this.movedDirection);(h<this.distanceX&&!p||h<this.distanceY&&p)&&(c=!u||this.checkSwipe(d,p)),c&&this.trigger("swipe",l)}this.modeclear()},this.modeclear=()=>{this.modeClear=setTimeout(()=>{this.touchAction=!0},"function"!=typeof this.tap?0:20),this.lastTapTime=(new Date).getTime(),di.remove(this.element,bt.touchMoveEvent,this.moveEvent),di.remove(this.element,bt.touchEndEvent,this.endEvent),di.remove(this.element,bt.touchCancelEvent,this.cancelEvent)},this.bind()}onPropertyChanged(e,t){}bind(){this.wireEvents(),bt.isIE&&this.element.classList.add("e-block-touch")}destroy(){this.unwireEvents(),super.destroy()}wireEvents(){di.add(this.element,bt.touchStartEvent,this.startEvent,this)}unwireEvents(){di.remove(this.element,bt.touchStartEvent,this.startEvent)}getModuleName(){return"touch"}isScrollable(e){const t=getComputedStyle(e);return!!/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}tapHoldEvent(e){let t;this.tapCount=0,this.touchAction=!0,di.remove(this.element,bt.touchMoveEvent,this.moveEvent),di.remove(this.element,bt.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),di.remove(this.element,bt.touchCancelEvent,this.cancelEvent)}calcPoints(e){const t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.movedDirection=this.distanceX>this.distanceY?t.clientX>this.startPoint.clientX?"Right":"Left":t.clientY<this.startPoint.clientY?"Up":"Down"}calcScrollPoints(e){const t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)}getVelocity(e){const t=e.clientX,i=e.clientY,s=Date.now(),r=t-this.startPoint.clientX,o=i-this.startPoint.clientX,a=s-this.tStampStart;return Math.sqrt(r*r+o*o)/a}checkSwipe(e,t){const i=["scroll","offset"],s=t?["Height","Top"]:["Width","Left"];return e[i[0]+s[0]]<=e[i[1]+s[0]]||0===e[i[0]+s[1]]||e[i[1]+s[0]]+e[i[0]+s[1]]>=e[i[0]+s[0]]}updateChangeTouches(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e}};Jd([Fa()],eu.prototype,"tap",void 0),Jd([Fa()],eu.prototype,"tapHold",void 0),Jd([Fa()],eu.prototype,"swipe",void 0),Jd([Fa()],eu.prototype,"scroll",void 0),Jd([gs(350)],eu.prototype,"tapThreshold",void 0),Jd([gs(750)],eu.prototype,"tapHoldThreshold",void 0),Jd([a8({},f8)],eu.prototype,"swipeSettings",void 0),eu=Jd([by],eu);const tfe=new RegExp("\\n|\\r|\\s\\s+","g"),ife=new RegExp(/'|"/g),sfe=new RegExp("if ?\\("),nfe=new RegExp("else if ?\\("),m8=new RegExp("else"),rfe=new RegExp("for ?\\("),g8=new RegExp("(/if|/for)"),ofe=new RegExp("\\((.*)\\)",""),GL=new RegExp("^[0-9]+$","g"),afe=new RegExp("[\\w\"'.\\s+]+","g"),lfe=new RegExp('"(.*?)"',"g"),hfe=new RegExp("[\\w\"'@#$.\\s-+]+","g");let cfe=new RegExp("\\${([^}]*)}","g");const dfe=/^\..*/gm,YL=/\\/gi,ufe=/\\\\/gi,pfe=new RegExp("[\\w\"'@#$.\\s+]+","g"),ffe=/\window\./gm;function xy(n,e,t,i,s){return!e||GL.test(n)||-1!==i.indexOf(n.split(".")[0])||s?n:t+"."+n}function qL(n,e,t,i){return e&&!GL.test(n)&&-1===i.indexOf(n.split(".")[0])?t+'["'+n:n}function y8(n){return n.match(ufe)?n:n.replace(YL,"\\\\")}function b8(n,e,t,i){if(n=n.trim(),/\window\./gm.test(n))return n;{const r=/'|"/gm;return/@|\$|#/gm.test(n)&&(n=qL(n,-1===t.indexOf(n),e,t)+'"]'),dfe.test(n)?function(n,e,t,i){return!e||GL.test(n)||-1!==i.indexOf(n.split(".")[0])||/^\..*/gm.test(n)?n:t+"."+n}(n,!r.test(n)&&-1===t.indexOf(n),e,t):xy(n,!r.test(n)&&-1===t.indexOf(n),e,t,i)}}const $L={compile:(new class{compile(e,t={},i){return function(n,e,t){const i="data",s=function(n,e,t,i){let s=0;const r=[],o=n.match(/class="([^"]+|)\s{2}/g);let a="";return o&&o.forEach(l=>{a=l.replace(/\s\s+/g," "),n=n.replace(l,a)}),n.replace(tfe,"").replace(lfe,"'$1'").replace(cfe,(l,h,c,d)=>{const p=h.match(ofe);if(p){const m=p[1];if(nfe.test(h))h='";} '+h.replace(p[1],m.replace(afe,y=>xy(y=y.trim(),!ife.test(y)&&-1===r.indexOf(y),e,r,i)))+'{ \n str = str + "';else if(sfe.test(h))h='"; '+h.replace(p[1],m.replace(hfe,y=>b8(y,e,r,i)))+'{ \n str = str + "';else if(rfe.test(h)){const y=p[1].split(" of ");h='"; '+h.replace(p[1],b=>(r.push(y[0]),r.push(y[0]+"Index"),s+=1,"var i"+s+"=0; i"+s+" < "+xy(y[1],!0,e,r,i)+".length; i"+s+"++"))+"{ \n "+y[0]+"= "+xy(y[1],!0,e,r,i)+"[i"+s+"]; \n var "+y[0]+"Index=i"+s+'; \n str = str + "'}else{const y=h.split("(");let b=t&&t.hasOwnProperty(y[0])?"this.":"global";b=/\./.test(y[0])?"":b;const v=p[1].split(",");0!==p[1].length&&!/data/.test(v[0])&&!/window./.test(v[0])&&(p[1]="global"===b?e+"."+p[1]:p[1]);const C=/@|\$|#/gm,w=/\]\./gm;ffe.test(h)&&w.test(h)||C.test(h)?/@|\$|#|\]\./gm.test(h)&&(h='"+ '+("global"===b?"":b)+h.replace(p[1],m.replace(pfe,k=>b8(k,e,r,i)))+'+ "'):h='" + '+("global"===b?"":b)+h.replace(m,xy(p[1].replace(/,( |)data.|,/gi,",data.").replace(/,( |)data.window/gi,",window"),"global"!==b,e,r,i))+'+"'}}else m8.test(h)?h='"; '+h.replace(m8,'} else { \n str = str + "'):h.match(g8)?h=h.replace(g8,'"; \n } \n str = str + "'):/@|#|\$/gm.test(h)?(h.match(YL)&&(h=y8(h)),h='"+'+qL(h,-1===r.indexOf(h),e,r)+'"]+"'):h=h.match(YL)?'"+'+qL(h=y8(h),-1===r.indexOf(h),e,r)+'"]+"':'"+'+xy(h.replace(/,/gi,"+data."),-1===r.indexOf(h),e,r,i)+'+"';return h})}(n,i,e,t);return new Function(i,'var str="'+s+"\";var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25a0\\s]+)['])/g);\n    var hrefRegex = (/(?:href)([\\s='\"./]+)([\\w-./?=&\\\\#\"]+)((.)([\\w)(!-;/?-\u25a0\\s]+)['])/g);\n    if(str.match(valueRegEx)){\n        var check = str.match(valueRegEx);\n        var str1 = str;\n        for (var i=0; i < check.length; i++) {\n            var check1 = str.match(valueRegEx)[i].split('value=')[1];\n            var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n            change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n            str1 = str1.replace(check1, change);\n        }\n        str = str.replace(str, str1);\n    }\n    else if(str.match(hrefRegex)) {\n        var check = str.match(hrefRegex);\n        var str1 = str;\n        for (var i=0; i < check.length; i++) {\n            var check1 = str.match(hrefRegex)[i].split('href=')[1];\n            var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n            change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n            str1 = str1.replace(check1, change);\n        }\n        str = str.replace(str, str1);\n    }\n     return str;").bind(e)}(e,t)}}).compile};function ah(n){return function(e){!function(n,e){e.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(i){(!n.prototype.hasOwnProperty(i)||t.isFormBase)&&(n.prototype[i]=t.prototype[i])})})}(e,n)}}function C8(n,e,t){var i={};if(n&&n.length){for(var s=0,r=n;s<r.length;s++){var o=r[s];!0===t?(e.propCollection[o]=new et(!1),e[o]=e.propCollection[o]):i[o]=new et(!1)}!0!==t&&e.setProperties(i,!0)}}function w8(n,e,t){var i=Object.keys(n.registeredTemplate);if(i.length)for(var s=e&&e.filter(function(w){return!/\./g.test(w)}),r=0,o=s&&s||i;r<o.length;r++){var a=o[r];if(t&&t.length)for(var l=0;l<t.length;l++)for(var h=0;h<n.registeredTemplate.template.length;h++)n.registeredTemplate.template[h].rootNodes[0]===t[l]&&(d=n.registeredTemplate[a])[h].destroy();else if(n.registeredTemplate[a])for(var u=0,p=n.registeredTemplate[a];u<p.length;u++){var d;if(!(d=p[u]).destroyed){if(d._view){var m=d._view.renderer.parentNode(d.rootNodes[0]);if(!yt(m))for(h=0;h<d.rootNodes.length;h++)m.appendChild(d.rootNodes[h])}d.destroy()}}delete n.registeredTemplate[a]}for(var y=function(w){w.instance&&w.instance.clearTemplate(e&&e.filter(function(_){return!!new RegExp(w.name).test(_)}))},b=0,v=n.tagObjects;b<v.length;b++)y(v[b])}function Hi(n,e,t){for(var i=n.replace(/\[/g,".").replace(/\]/g,"").split("."),s=t||{},r=0;r<i.length;r++){var o=i[r];r+1===i.length?s[o]=void 0===e?{}:e:void 0===s[o]&&(s[o]={}),s=s[o]}return s}var Mfe=/Ref$/,sn=function(){function n(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}return n.prototype.ngOnInit=function(){this.registeredTemplate={};for(var e=0,t=this.tags;e<t.length;e++){var i=t[e],s=Me("child"+i.substring(0,1).toUpperCase()+i.substring(1),this);s&&this.tagObjects.push({instance:s,name:i})}for(var r=Object.keys(this),o=0;o<r.length;o++){var a=Me(r[o],this);"object"==typeof a&&a.elementRef&&!Me(r[o]+"Ref",this)&&Tr(r[o]+"Ref",a,this)}for(var l=0,h=r=(r=Object.keys(this)).filter(function(y){return/Ref$/i.test(y)});l<h.length;l++){var d=h[l].replace("Ref","");Tr(d.replace("_","."),Me(d,this),this.propCollection)}var u=Object.keys(this);if(this.directivePropList){for(var p=0;p<this.directivePropList.length;p++){var m=this.directivePropList[p];-1!==u.indexOf(m)&&Me(m,this)&&Tr(m,Me(m,this),this.propCollection)}this.hasChanges=!0}this.isInitChanges=!0},n.prototype.registerEvents=function(e){C8(e,this,!0)},n.prototype.ngOnChanges=function(e){for(var t=0,i=Object.keys(e);t<i.length;t++){var s=i[t];this.propCollection[s]=e[s].currentValue}this.isUpdated=!1,this.hasChanges=!0},n.prototype.clearTemplate=function(e){w8(this,e)},n.prototype.getProperties=function(){for(var e=0,t=this.tagObjects;e<t.length;e++){var i=t[e];this.propCollection[i.name]=i.instance.getProperties()}return this.propCollection},n.prototype.isChanged=function(){var e=this.hasChanges;if(!yt(this.propCollection[this.property]))for(var i=Object.keys(this.propCollection[this.property][0]),s=0;s<i.length;s++)if(!yt(this.propCollection[i[s]])){var r=Me(i[s],this),o=this.propCollection[this.property][0][i[s]];!yt(r)&&this.propCollection[i[s]]!==r&&o!==r&&(Tr(i[s],r,this.propCollection[this.property][0]),Tr(i[s],r,this.propCollection),this.hasChanges=!0,this.isUpdated=!1)}for(var a=0,l=this.tagObjects;a<l.length;a++)e=e||l[a].instance.hasChanges;return e||this.hasChanges},n.prototype.ngAfterContentChecked=function(){if(this.hasChanges=this.isChanged(),this.isInitChanges||this.hasChanges)for(var e=Object.keys(this),t=0,i=e=e.filter(function(o){return Mfe.test(o)});t<i.length;t++){var r=i[t].replace("Ref","");Tr(r.replace("_","."),Me(r,this),this.propCollection)}},n.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},n.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},n.prototype.ngOnDestroy=function(){this.directivePropList=[]},n}(),nn=function(){function n(e){this.list=[],this.hasChanges=!1,this.propertyName=e}return n.prototype.ngOnInit=function(){this.isInitChanges=!0},n.prototype.ngAfterContentInit=function(){var e=this,t=0;this.list=this.children.map(function(i){return i.dirIndex=t++,i.property=e.propertyName,i}),this.hasChanges=!0},n.prototype.getProperties=function(){for(var e=[],t=0,i=this.list;t<i.length;t++)e.push(i[t].getProperties());return e},n.prototype.isChanged=function(){var e=this,t=!1,i=0,s=!1,r=this.children.map(function(c){return c});if(this.list.length===this.children.length)for(var o=0;o<this.list.length;o++)this.list[o].propCollection.dataSource&&(this.list[o].dataSource&&this.list[o].propCollection.dataSource!==this.list[o].dataSource&&(this.list[o].propCollection.dataSource=this.list[o].dataSource,this.list[o].hasChanges=!0),s=JSON.stringify(this.list[o].propCollection.dataSource)!==JSON.stringify(r[o].propCollection.dataSource));this.hasNewChildren=!(this.list.length===this.children.length&&!s)||null,this.hasNewChildren&&(this.list=this.children.map(function(c){return c.dirIndex=i++,c.property=e.propertyName,c}));for(var a=0,l=this.list;a<l.length;a++)t=t||l[a].hasChanges;return!!this.list.length&&t},n.prototype.clearTemplate=function(e){for(var t=this,i=0,s=this.list;i<s.length;i++)s[i].clearTemplate(e&&e.map(function(o){return new RegExp(t.propertyName).test(o)?o.replace(t.propertyName+".",""):o}))},n.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var e=0;e<this.list.length;e++)this.list[e].isUpdated=!0},n.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},n.prototype.ngOnDestroy=function(){this.list=[]},n}(),Xn=function(){function n(){this.isProtectedOnChange=!0,this.isFormInit=!0}return n.prototype.saveChanges=function(e,t,i){if(!this.isProtectedOnChange){this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate();var s=setTimeout(this.dataBind.bind(this));this.finalUpdate=function(){clearTimeout(s)}}},n.prototype.ngOnInit=function(e){var t=e||this;t.registeredTemplate={},t.ngBoundedEvents={},t.isAngular=!0,t.isFormInit=!0,e&&(this.tags=e.tags),t.tags=this.tags||[],t.complexTemplate=this.complexTemplate||[],t.tagObjects=[],t.ngAttr=this.getAngularAttr(t.element),t.createElement=function(p,m){var y=t.srenderer?t.srenderer.createElement(p):cp(p);return void 0===m||(y.innerHTML=m.innerHTML?m.innerHTML:"",void 0!==m.className&&(y.className=m.className),void 0!==m.id&&(y.id=m.id),void 0!==m.styles&&y.setAttribute("style",m.styles),void 0!==t.ngAttr&&y.setAttribute(t.ngAttr,""),void 0!==m.attrs&&e8(y,m.attrs)),y};for(var i=0,s=t.tags;i<s.length;i++){var r=s[i],o={instance:Me("child"+r.substring(0,1).toUpperCase()+r.substring(1),t),name:r};t.tagObjects.push(o)}for(var a=Object.keys(t),l=0,h=a=a.filter(function(p){return/Ref$/i.test(p)&&/\_/i.test(p)});l<h.length;l++){var d=h[l].replace("Ref",""),u={};Tr(d.replace("_","."),Me(d,t),u),t.setProperties(u,!0)}},n.prototype.getAngularAttr=function(e){for(var s,t=e.attributes,i=t.length,r=0;r<i;r++)/_ngcontent/g.test(t[r].name)&&(s=t[r].name);return s},n.prototype.ngAfterViewInit=function(e){var t=e||this;/ejs-tab|ejs-accordion/g.test(t.ngEle.nativeElement.outerHTML)&&(t.ngEle.nativeElement.style.visibility="hidden");for(var s=Object.keys(t),r=0,o=s=s.filter(function(h){return/Ref$/i.test(h)});r<o.length;r++){var l=o[r].replace("Ref","");Tr(l.replace("_","."),Me(l+"Ref",t),t)}"btn"===t.getModuleName()?"undefined"!=typeof window&&document.body.contains(t.element)&&(t.appendTo(t.element),t.ngEle.nativeElement.style.visibility=""):setTimeout(function(){"undefined"!=typeof window&&document.body.contains(t.element)&&(t.appendTo(t.element),t.ngEle.nativeElement.style.visibility="")})},n.prototype.ngOnDestroy=function(e){var t=e||this;setTimeout(function(){"undefined"!=typeof window&&t.element.classList.contains("e-control")&&(t.destroy(),t.clearTemplate(null),t.ngBoundedEvents={},t.tagObjects={},t.ngEle=null)})},n.prototype.clearTemplate=function(e,t){w8(this,e,t)},n.prototype.ngAfterContentChecked=function(e){for(var t=e||this,i=0,s=t.tagObjects;i<s.length;i++){var r=s[i];if(!Rt(r.instance)&&(r.instance.isInitChanges||r.instance.hasChanges||r.instance.hasNewChildren))if(r.instance.isInitChanges){var o={},a=void 0;(l=Me("instance.list",r))&&l.length&&(a=l[0].directivePropList);var h=!0;if(t.getModuleName&&"gantt"===t.getModuleName()&&(h=!1),a&&h&&-1===a.indexOf(r.instance.propertyName))for(var c=Object.keys(r.instance.list[0].propCollection),d=0;d<r.instance.list.length;d++){r.instance.list[d].propCollection[r.instance.propertyName]=[];for(var u={},p=0;p<c.length;p++)u[m=c[p]]=r.instance.list[d].propCollection[m];for(var y=0;y<r.instance.list[d].tags.length;y++){var b=r.instance.list[d].tags[y],v=Me("child"+b.substring(0,1).toUpperCase()+b.substring(1),r.instance.list[d]);if(v){var C=r.instance.list[d]["child"+b.substring(0,1).toUpperCase()+b.substring(1)];if(C)for(var w=0;w<C.list.length;w++){var _=C.list[0].tags[0];if(_){var k=Me("child"+_.substring(0,1).toUpperCase()+_.substring(1),C.list[w]);k&&C.list[w].tagObjects.push({instance:k,name:_})}}r.instance.list[d].tagObjects.push({instance:v,name:b})}}r.instance.list[d].propCollection[r.instance.propertyName].push(u)}o[r.name]=r.instance.getProperties(),t.setProperties(o,r.instance.isInitChanges)}else{(t[r.name].length!==r.instance.list.length||"diagram"===t.getModuleName())&&(t[r.name]=r.instance.list);for(var D=0,I=r.instance.list;D<I.length;D++){var l,O=r.instance.list.indexOf(l=I[D]),N=Me(r.name,t)[O],X=Object.keys(N);if(X=X.filter(function(A){return/Ref$/i.test(A)}),N.properties&&0!==Object.keys(N.properties).length&&/chart/.test(t.getModuleName()))for(var H=0,q=X;H<q.length;H++){var m;m=(m=q[H]).replace(/Ref/,""),N.properties[m]=N.properties[m]?N.properties[m]:N.propCollection[m]}!Rt(N)&&!Rt(N.setProperties)&&(/diagram|DashboardLayout/.test(t.getModuleName())?N.setProperties(l.getProperties(),!0):N.setProperties(l.getProperties())),l.isUpdated=!0}}}},n.prototype.registerEvents=function(e){C8(e,this)},n.prototype.twoWaySetter=function(e,t){var i=Me(t,this.properties);i!==e&&(this.saveChanges(t,e,i),Tr(t,yt(e)?null:e,this.properties),Me(t+"Change",this).emit(e))},n.prototype.addTwoWay=function(e){for(var t=this,i=function(l){Me(l,s),Object.defineProperty(s,l,{get:function(){return Me(l,t.properties)},set:function(h){return t.twoWaySetter(h,l)}}),Tr(l+"Change",new et,s)},s=this,r=0,o=e;r<o.length;r++)i(o[r])},n.prototype.addEventListener=function(e,t){var i=Me(e,this);Rt(i)||(this.ngBoundedEvents[e]||(this.ngBoundedEvents[e]=new Map),this.ngBoundedEvents[e].set(t,i.subscribe(t)))},n.prototype.removeEventListener=function(e,t){Rt(Me(e,this))||this.ngBoundedEvents[e].get(t).unsubscribe()},n.prototype.trigger=function(e,t,i){var s=Me(e,this),r=this.isProtectedOnChange;this.isProtectedOnChange=!1,t&&(t.name=e),Rt(s)||s.next(t);var o=Me("local"+e.charAt(0).toUpperCase()+e.slice(1),this);Rt(o)||o.call(this,t),this.isProtectedOnChange=r,i&&(this.preventChange=this.isPreventChange,i.call(this,t)),this.isPreventChange=!1},n}(),Ey=function(){function n(){}return n.prototype.propagateChange=function(e){},n.prototype.propagateTouch=function(){},n.prototype.localChange=function(e){var t=void 0===e.checked?e.value:e.checked;this.objCheck=Qc(t),!0===this.isUpdated&&(this.angularValue=this.oldValue),!0===this.objCheck?(this.duplicateValue=JSON.stringify(t),this.duplicateAngularValue=JSON.stringify(this.angularValue),this.duplicateValue!==this.duplicateAngularValue&&void 0!==this.propagateChange&&void 0!==t&&(this.propagateChange(t),this.angularValue=t)):t!==this.angularValue&&void 0!==this.propagateChange&&void 0!==t&&(this.propagateChange(t),this.angularValue=t)},n.prototype.registerOnChange=function(e){this.propagateChange=e},n.prototype.registerOnTouched=function(e){this.propagateTouch=e},n.prototype.twoWaySetter=function(e,t){var i=this.oldValue||Me(t,this.properties),s=this.inputElement||this.element;s&&i===e&&this.value===e&&(void 0===s.value||""===s.value)||(this.saveChanges(t,e,i),Tr(t,yt(e)?null:e,this.properties),Me(t+"Change",this).emit(e))},n.prototype.ngAfterViewInit=function(e){var t=e||this;if("undefined"!=typeof window){t.appendTo(t.element);var i=t.inputElement||t.element;i.addEventListener("focus",t.ngOnFocus.bind(t)),i.addEventListener("blur",t.ngOnBlur.bind(t))}this.isFormInit=!1},n.prototype.setDisabledState=function(e){this.enabled=!e,this.disabled=e},n.prototype.writeValue=function(e){void 0===this.checked?this.value=e:this.ngEle&&(this.checked="boolean"==typeof e?/ejs-radiobutton/g.test(this.ngEle.nativeElement.outerHTML)?e===this.value:e:e===this.value),this.angularValue=e,this.isUpdated=!0,this.preventChange=!this.isFormInit},n.prototype.ngOnFocus=function(e){!0!==this.skipFromEvent&&this.focus.emit(e)},n.prototype.ngOnBlur=function(e){this.propagateTouch(),!0!==this.skipFromEvent&&this.blur.emit(e)},n.isFormBase=!0,n}(),kfe=$L.compile;function ed(n){return function(e,t){var i={set:Tfe(t),get:Lfe(t,n),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i)}}function Tfe(n){return function(e){void 0!==e&&(Tr(n+"Ref",e,this),"string"!=typeof e?(e.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,e.elementRef.nativeElement.propName=n):this.saveChanges&&(this.saveChanges(n,e,void 0),this.dataBind()))}}function Lfe(n,e){return function(){return Me(n+"Ref",this)||e}}!function(n){$L.compile=n.compile}({compile:function(n,e){if("string"==typeof n)return kfe(n,e);var t=n.elementRef.nativeElement._viewContainerRef,i=n.elementRef.nativeElement.propName;return function(s,r,o){var l=t||r.viewContainerRef,h=l.createEmbeddedView(n,{$implicit:s});h.markForCheck();var c=r&&r.registeredTemplate?r.registeredTemplate:Me("currentInstance.registeredTemplate",l);return void 0===c[o=o&&r.registeredTemplate?o:i]&&(c[o]=[]),c[o].push(h),h.rootNodes}}});const W0="ej2_instances";let Rfe=0;function Nx(n,e){const t=e;return t.unshift(void 0),new(Function.prototype.bind.apply(n,t))}function Q(n,e){let t=e;const i=n.replace(/\[/g,".").replace(/\]/g,"").split(".");for(let s=0;s<i.length&&!St(t);s++)t=t[i[s]];return t}function Oi(n,e,t){const i=n.replace(/\[/g,".").replace(/\]/g,"").split("."),s=t||{};let o,r=s;const a=i.length;let l;for(o=0;o<a;o++)l=i[o],o+1===a?r[l]=void 0===e?{}:e:f(r[l])&&(r[l]={}),r=r[l];return s}function ZL(n,e){delete n[e]}function tu(n){return!f(n)&&n.constructor==={}.constructor}function ai(n,e){if(!f(e)){const t=n,i=e,s=Object.keys(e),r="deepMerge";for(const o of s)f(t[r])||-1===t[r].indexOf(o)||!tu(i[o])&&!Array.isArray(i[o])?t[o]=i[o]:fe(t[o],t[o],i[o],!0)}}function fe(n,e,t,i){const s=n&&"object"==typeof n?n:{};let r=arguments.length;i&&(r-=1);for(let o=1;o<r;o++){if(!arguments[o])continue;let a=arguments[o];Object.keys(a).forEach(l=>{const h=s[l],c=a[l];let d;const u=Array.isArray(c)&&Array.isArray(h)&&c.length!==h.length,p=!st()||!(h instanceof Event||u);i&&p&&(tu(c)||Array.isArray(c))?tu(c)?(d=h||{},Array.isArray(d)&&d.hasOwnProperty("isComplexArray")?fe(d,{},c,i):s[l]=fe(d,{},c,i)):(d=st()?h&&Object.keys(c).length:h||[],s[l]=fe([],d,c,i)):s[l]=c})}return s}function f(n){return null==n}function St(n){return void 0===n}function Us(n){return n+"_"+Rfe++}function Bx(n,e){return n===e||!(n===document||!n)&&Bx(n.parentNode,e)}function Dy(n){try{throw new Error(n)}catch(e){throw e.message+"\n"+e.stack}}function S8(n,e){const t=document.createElement("div"),i=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("base, link, style")),s=[].slice.call(document.getElementsByTagName("body")[0].querySelectorAll("link, style"));if(s.length)for(let a=0,l=s.length;a<l;a++)i.push(s[a]);let r="";f(e)&&(e=window.open("","print","height=452,width=1024,tabbar=no")),t.appendChild(n.cloneNode(!0));for(let a=0,l=i.length;a<l;a++)r+=i[a].outerHTML;e.document.write("<!DOCTYPE html> <html><head>"+r+"</head><body>"+t.innerHTML+"<script> (function() { window.ready = true; })(); <\/script></body></html>"),e.document.close(),e.focus();const o=setInterval(()=>{e.ready&&(e.print(),e.close(),clearInterval(o))},500);return e}function Be(n){const e=n+"";return"auto"===e||-1!==e.indexOf("%")||-1!==e.indexOf("px")?e:e+"px"}function st(){return false}function _8(n){return Node,n}function kl(n,e){let t="string"==typeof n?document.querySelector(n):n;if(t[W0])for(const i of t[W0])if(i instanceof e)return i;return null}const Nfe={latn:{_digits:"0123456789",_type:"numeric"}},x8={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},E8=[0,1,2,3,4,5,6,7,8,9];let Wn=(()=>{class n{static getMainObject(t,i){return Q("main."+i,t)}static getNumberingSystem(t){return Q("supplemental.numberingSystems",t)||this.numberingSystems}static reverseObject(t,i){const s=i||Object.keys(t),r={};for(const o of s)r.hasOwnProperty(t[o])||(r[t[o]]=o);return r}static getSymbolRegex(t){const i=t.map(s=>s.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")).join("|");return new RegExp(i,"g")}static getSymbolMatch(t){const i=Object.keys(x8),s={};for(const r of i)s[t[r]]=x8[r];return s}static constructRegex(t){const i=t.length;let s="";for(let r=0;r<i;r++)s+=r!==i-1?t[r]+"|":t[r];return s}static convertValueParts(t,i,s){return t.replace(i,r=>s[r])}static getDefaultNumberingSystem(t){const i={};return i.obj=Q("numbers",t),i.nSystem=Q("defaultNumberingSystem",i.obj),i}static getCurrentNumericOptions(t,i,s,r){const o={},a=this.getDefaultNumberingSystem(t);if(!St(a.nSystem)||r){const l=r?Q("obj.mapperDigits",a):Q(a.nSystem+"._digits",i);St(l)||(o.numericPair=this.reverseObject(l,E8),o.numberParseRegex=new RegExp(this.constructRegex(l),"g"),o.numericRegex="["+l[0]+"-"+l[9]+"]",s&&(o.numericRegex=l[0]+"-"+l[9],o.symbolNumberSystem=Q(r?"numberSymbols":"symbols-numberSystem-"+a.nSystem,a.obj),o.symbolMatch=this.getSymbolMatch(o.symbolNumberSystem),o.numberSystem=a.nSystem))}return o}static getNumberMapper(t,i,s){const r={mapper:{}},o=this.getDefaultNumberingSystem(t);if(!St(o.nSystem)){r.numberSystem=o.nSystem,r.numberSymbols=Q("symbols-numberSystem-"+o.nSystem,o.obj),r.timeSeparator=Q("timeSeparator",r.numberSymbols);const a=Q(o.nSystem+"._digits",i);if(!St(a))for(const l of E8)r.mapper[l]=a[l]}return r}}return n.nPair="numericPair",n.nRegex="numericRegex",n.numberingSystems=Nfe,n})();const Bfe={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.\u200f",BHD:"\u062f.\u0628.\u200f",DZD:"\u062f.\u062c.\u200f",EGP:"\u062c.\u0645.\u200f",ILS:"\u20aa",IQD:"\u062f.\u0639.\u200f",JOD:"\u062f.\u0627.\u200f",KMF:"CF",KWD:"\u062f.\u0643.\u200f",LBP:"\u0644.\u0644.\u200f",LYD:"\u062f.\u0644.\u200f",MAD:"\u062f.\u0645.\u200f",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.\u200f",QAR:"\u0631.\u0642.\u200f",SAR:"\u0631.\u0633.\u200f",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.\u200f",TND:"\u062f.\u062a.\u200f",YER:"\u0631.\u064a.\u200f",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};var U0;!function(n){const e=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];n.getHijriDate=function(s){let r=s.getDate(),o=s.getMonth(),a=s.getFullYear(),l=o+1,h=a;l<3&&(h-=1,l+=12);let c=Math.floor(h/100),d=c-Math.floor(c/4)-2;const u=Math.floor(365.25*(h+4716))+Math.floor(30.6001*(l+1))+r-d-1524;c=Math.floor((u-1867216.25)/36524.25),d=c-Math.floor(c/4)+1;const p=u+d+1524;let m=Math.floor((p-122.1)/365.25);const y=Math.floor(365.25*m),b=Math.floor((p-y)/30.6001);r=p-y-Math.floor(30.6001*b),o=Math.floor((p-y)/20.6001),o>13&&(m+=1,o-=12),o-=1,a=m-4716;const v=u-24e5,C=10631/30;let w=u-1948084;const _=Math.floor(w/10631);w-=10631*_;const k=Math.floor((w-.1335)/C),D=30*_+k;w-=Math.floor(k*C+.1335);let I=Math.floor((w+28.5001)/29.5);13===I&&(I=12);const O=w-Math.floor(29.5001*I-29);let N=0;for(;N<e.length&&!(e[N]>v);N++);const X=N+16260,H=Math.floor((X-1)/12);let q=H+1,G=X-12*H,A=v-e[N-1]+1;return(A+"").length>2&&(A=O,G=I,q=D),{year:q,month:G,date:A}},n.toGregorian=function(s,r,o){const y=Math.floor(o+e[12*(s-1)+1+(r-1)-16260-1]-1+24e5+.5);let b=Math.floor((y-1867216.25)/36524.25);b=y+1+b-Math.floor(b/4);const v=b+1524,C=Math.floor((v-122.1)/365.25),w=Math.floor(365.25*C),_=Math.floor((v-w)/30.6001),k=v-w-Math.floor(30.6001*_);let D=_-(_>13.5?13:1);const I=C-(D>2.5?4716:4715);return I<=0&&D--,new Date(I+"/"+D+"/"+k)}}(U0||(U0={}));const Hfe=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,D8="stand-alone",jfe=["sun","mon","tue","wed","thu","fri","sat"],M8={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},zfe={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"};class k8{static dateFormat(e,t,i){const s=Dt.getDependables(i,e,t.calendar),o=(Q("parserObject.numbers",s),s.dateObject),a={isIslamic:Dt.islamicRegex.test(t.calendar)};let l=t.format||Dt.getResultantPattern(t.skeleton,s.dateObject,t.type,!1,"");if(a.dateSeperator=Dt.getDateSeparator(s.dateObject),St(l))Dy("Format options or type given must be invalid");else{l=Dt.ConvertDateToWeekFormat(l),a.pattern=l,a.numMapper=Wn.getNumberMapper(s.parserObject,Wn.getNumberingSystem(i));const h=l.match(Hfe)||[];for(const c of h){const d=c.length;let u=c[0];switch("K"===u&&(u="h"),u){case"E":case"c":a.weekday=s.dateObject[Dt.days][D8][Dt.monthIndex[d]];break;case"M":case"L":a.month=s.dateObject[Dt.month][D8][Dt.monthIndex[d]];break;case"a":a.designator=Q("dayPeriods.format.wide",o);break;case"G":a.era=Q("eras."+(d<=3?"eraAbbr":4===d?"eraNames":"eraNarrow"),s.dateObject);break;case"z":a.timeZone=Q("dates.timeZoneNames",s.parserObject)}}}return h=>isNaN(h.getDate())?null:this.intDateFormatter(h,a)}static intDateFormatter(e,t){let s="";const r=t.pattern.match(Dt.dateParseRegex),o=this.getCurrentDateValue(e,t.isIslamic);for(const a of r){const l=a.length;let h=a[0];"K"===h&&(h="h");let c,u,p,d="",m="";switch(h){case"M":case"L":c=o.month,l>2?s+=t.month[c]:u=!0;break;case"E":case"c":s+=t.weekday[jfe[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(u=!0,"d"===h)c=o.date;else if("f"===h){u=!1,p=!0,d=e[M8[h]]().toString(),d=d.substring(0,l);const _=d.length;if(l!==_){if(l>3)continue;for(let k=0;k<l-_;k++)d="0"+d.toString()}m+=d}else c=e[M8[h]]();"h"===h&&(c=c%12||12);break;case"y":p=!0,m+=o.year,2===l&&(m=m.substr(m.length-2));break;case"a":let y=e.getHours()<12?"am":"pm";s+=t.designator[y];break;case"G":let b=e.getFullYear()<0?0:1,v=t.era[b];f(v)&&(v=t.era[b?0:1]),s+=v||"";break;case"'":s+="''"===a?"'":a.replace(/'/g,"");break;case"z":let C=e.getTimezoneOffset(),w=l<4?"+H;-H":t.timeZone.hourFormat;w=w.replace(/:/g,t.numMapper.timeSeparator),0===C?s+=t.timeZone.gmtZeroFormat:(p=!0,m=this.getTimeZoneValue(C,w)),m=t.timeZone.gmtFormat.replace(/\{0\}/,m);break;case":":s+=t.numMapper.numberSymbols.timeSeparator;break;case"/":s+=t.dateSeperator;break;case"W":u=!0,c=Dt.getWeekOfYear(e);break;default:s+=a}u&&(p=!0,m=this.checkTwodigitNumber(c,l)),p&&(s+=Wn.convertValueParts(m,Dt.latnParseRegex,t.numMapper.mapper))}return s}static getCurrentDateValue(e,t){return t?U0.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}}static checkTwodigitNumber(e,t){const i=e+"";return 2===t&&2!==i.length?"0"+i:i}static getTimeZoneValue(e,t){let s=t.split(";")[e>0?1:0];const r=Math.abs(e);return s.replace(/HH?|mm/g,o=>{const a=o.length,l=-1!==o.indexOf("H");return this.checkTwodigitNumber(Math.floor(l?r/60:r%60),a)})}}const A8={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},My=["infinity","nan","group","decimal","exponential"];class T8{static numberFormatter(e,t,i){const s=fe({},t);let r={};const o={};let a;const l=Dt.getDependables(i,e,"",!0);o.numberMapper=Wn.getNumberMapper(l.parserObject,Wn.getNumberingSystem(i),!0),o.currencySymbol=Dt.getCurrencySymbol(l.numericObject,s.currency||q0,t.altSymbol),o.percentSymbol=o.numberMapper.numberSymbols.percentSign,o.minusSymbol=o.numberMapper.numberSymbols.minusSign;const c=o.numberMapper.numberSymbols;if(t.format&&!Dt.formatRegex.test(t.format))r=Dt.customFormat(t.format,o,l.numericObject);else{fe(s,Dt.getProperNumericSkeleton(t.format||"N")),s.isCurrency="currency"===s.type,s.isPercent="percent"===s.type,a=Dt.getSymbolPattern(s.type,o.numberMapper.numberSystem,l.numericObject,s.isAccount),s.groupOne=this.checkValueRange(s.maximumSignificantDigits,s.minimumSignificantDigits,!0),this.checkValueRange(s.maximumFractionDigits,s.minimumFractionDigits,!1,!0),St(s.fractionDigits)||(s.minimumFractionDigits=s.maximumFractionDigits=s.fractionDigits),St(s.useGrouping)&&(s.useGrouping=!0),s.isCurrency&&(a=a.replace(/\u00A4/g,Dt.defaultCurrency));{const m=a.split(";");r.nData=Dt.getFormatData(m[1]||"-"+m[0],!0,o.currencySymbol),r.pData=Dt.getFormatData(m[0],!1,o.currencySymbol),s.useGrouping&&(s.groupSeparator=c[My[2]],s.groupData=this.getGroupingDetails(m[0]))}if(St(s.minimumFractionDigits)&&(s.minimumFractionDigits=r.nData.minimumFraction),St(s.maximumFractionDigits)){const m=r.nData.maximumFraction;s.maximumFractionDigits=St(m)&&s.isPercent?0:m}const u=s.minimumFractionDigits,p=s.maximumFractionDigits;!St(u)&&!St(p)&&u>p&&(s.maximumFractionDigits=u)}return fe(r.nData,s),fe(r.pData,s),d=>isNaN(d)?c[My[1]]:isFinite(d)?this.intNumberFormatter(d,r,o):c[My[0]]}static getGroupingDetails(e){const t={},i=e.match(Dt.negativeDataRegex);if(i&&i[4]){const s=i[4],r=s.lastIndexOf(",");if(-1!==r){const o=s.split(".")[0];t.primary=o.length-r-1;const a=s.lastIndexOf(",",r-1);-1!==a&&(t.secondary=r-1-a)}}return t}static checkValueRange(e,t,i,s){const r=s?"f":"s";let o=0;const a=A8["l"+r];let l=A8["m"+r];if(St(e)||(this.checkRange(e,a,s),o++),St(t)||(this.checkRange(t,l,s),o++),2===o){if(!(e<t))return!0;Dy(l+"specified must be less than the"+a)}else i&&1===o&&Dy("Both"+l+"and"+l+"must be present");return!1}static checkRange(e,t,i){const s=i?[0,20]:[1,21];(e<s[0]||e>s[1])&&Dy(t+"value must be within the range"+s[0]+"to"+s[1])}static intNumberFormatter(e,t,i){let s;if(!St(t.nData.type)){e<0?(e*=-1,s=t.nData):s=0===e&&t.zeroData||t.pData;let r="";return s.isPercent&&(e*=100),s.groupOne?r=this.processSignificantDigits(e,s.minimumSignificantDigits,s.maximumSignificantDigits):(r=this.processFraction(e,s.minimumFractionDigits,s.maximumFractionDigits),s.minimumIntegerDigits&&(r=this.processMinimumIntegers(r,s.minimumIntegerDigits))),"scientific"===s.type&&(r=e.toExponential(s.maximumFractionDigits),r=r.replace("e",i.numberMapper.numberSymbols[My[4]])),r=r.replace(".",i.numberMapper.numberSymbols[My[3]]),s.useGrouping&&(r=this.groupNumbers(r,s.groupData.primary,s.groupSeparator||",",i.numberMapper.numberSymbols[My[3]]||".",s.groupData.secondary)),r=Wn.convertValueParts(r,Dt.latnParseRegex,i.numberMapper.mapper),"N/A"===s.nlead?s.nlead:s.nlead+r+s.nend}}static processSignificantDigits(e,t,i){let r,s=e+"";return s.length<t?e.toPrecision(t):(s=e.toPrecision(i),r=+s,r+"")}static groupNumbers(e,t,i,s,r){let o=!f(r)&&0!==r;const a=e.split(s),l=a[0];let h=l.length,c="";for(;h>t;)c=l.slice(h-t,h)+(c.length?i+c:""),h-=t,o&&(t=r,o=!1);return a[0]=l.slice(0,h)+(c.length?i:"")+c,a.join(s)}static processFraction(e,t,i){const s=(e+"").split(".")[1],r=s?s.length:0;if(t&&r<t){let o="";if(0!==r){o+=e;for(let a=0;a<t-r;a++)o+="0";return o}return o=e.toFixed(t),e.toFixed(t)}return!f(i)&&(r>i||0===i)?e.toFixed(i):e+""}static processMinimumIntegers(e,t){const i=e.split(".");let s=i[0];const r=s.length;if(r<t){for(let o=0;o<t-r;o++)s="0"+s;i[0]=s}return i.join(".")}}const L8="stand-alone",Yfe=/^[0-9]*$/,R8={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},Xfe=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,Zfe=/,/g,Kfe=["minusSign","infinity"];class G0{constructor(e){this.ranArray=[],this.boundedEvents={},!f(e)&&(this.context=e)}on(e,t,i,s){if(f(t))return;const r=i||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:r}]:f(s)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:r}):-1===this.ranArray.indexOf(s)&&(this.ranArray.push(s),this.boundedEvents[e].push({handler:t,context:r,id:s}))}off(e,t,i){if(this.notExist(e))return;const s=Q(e,this.boundedEvents);if(t){for(let r=0;r<s.length;r++)if(i){if(s[r].id===i){s.splice(r,1);const o=this.ranArray.indexOf(i);-1!==o&&this.ranArray.splice(o,1);break}}else if(t===s[r].handler){s.splice(r,1);break}}else delete this.boundedEvents[e]}notify(e,t,i,s){if(this.notExist(e))return void(i&&i.call(this,t));t&&(t.name=e);const o=Q(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(o,t,i,s,0);for(const a of o)a.handler.call(a.context,t);i&&i.call(this,t)}blazorCallback(e,t,i,s,r){const o=r===e.length-1;if(r<e.length){const a=e[r],l=a.handler.call(a.context,t);if(l&&"function"==typeof l.then){if(!i)return l;l.then(h=>{if(h="string"==typeof h&&this.isJson(h)?JSON.parse(h,this.dateReviver):h,fe(t,t,h,!0),!i||!o)return this.blazorCallback(e,t,i,s,r+1);i.call(a.context,t)}).catch(h=>{s&&s.call(a.context,"string"==typeof h&&this.isJson(h)?JSON.parse(h,this.dateReviver):h)})}else{if(!i||!o)return this.blazorCallback(e,t,i,s,r+1);i.call(a.context,t)}}}dateReviver(e,t){return st&&"string"==typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t}isJson(e){try{JSON.parse(e)}catch(t){return!1}return!0}destroy(){this.boundedEvents=this.context=void 0}notExist(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0}isHandlerPresent(e,t){for(const i of e)if(i.handler===t)return!0;return!1}}const qf=new G0;const Wr={};let Y0="en-US",q0="USD";const QL=["numericObject","dateObject"];class Gs{constructor(e){e&&(this.culture=e)}getDateFormat(e){return k8.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},Wr)}getNumberFormat(e){return e&&!e.currency&&(e.currency=q0),T8.numberFormatter(this.getCulture(),e||{},Wr)}getDateParser(e){return class{static dateParser(e,t,i){const s=Dt.getDependables(i,e,t.calendar),r=Wn.getCurrentNumericOptions(s.parserObject,Wn.getNumberingSystem(i),!1,!1);let h,o={},a=t.format||Dt.getResultantPattern(t.skeleton,s.dateObject,t.type,!1,""),l="";if(St(a))Dy("Format options or type given must be invalid");else{a=Dt.ConvertDateToWeekFormat(a),o={isIslamic:Dt.islamicRegex.test(t.calendar),pattern:a,evalposition:{},culture:e};const c=a.match(Dt.dateParseRegex)||[],d=c.length;let u=0,p=0,m=!1;const y=r.numericRegex;let b=Wn.getNumberMapper(s.parserObject,Wn.getNumberingSystem(i));for(let v=0;v<d;v++){const C=c[v],w=C.length,_="K"===C[0]?"h":C[0];let k,D,I=zfe[_];const O=2===w?"":"?";switch(m&&(u=p,m=!1),_){case"E":case"c":let N;N=s.dateObject[Dt.days][L8][Dt.monthIndex[w]];let X=Wn.reverseObject(N);l+="("+Object.keys(X).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(D=!0,("M"===_||"L"===_)&&w>2){let L;L=s.dateObject.months[L8][Dt.monthIndex[w]],o[I]=Wn.reverseObject(L),l+="("+Object.keys(o[I]).join("|")+")"}else if("f"===_){if(w>3)continue;k=!0,l+="("+y+y+"?"+y+"?)"}else k=!0,l+="("+y+y+O+")";"h"===_&&(o.hour12=!0);break;case"W":l+="("+y+(1===w?"?":"")+y+")";break;case"y":D=k=!0,l+=2===w?"("+y+y+")":"("+y+"{"+w+",})";break;case"a":D=!0;let q=Q("dayPeriods.format.wide",s.dateObject);o[I]=Wn.reverseObject(q),l+="("+Object.keys(o[I]).join("|")+")";break;case"G":D=!0,o[I]=Wn.reverseObject(Q("eras."+(w<=3?"eraAbbr":4===w?"eraNames":"eraNarrow"),s.dateObject)),l+="("+Object.keys(o[I]).join("|")+"?)";break;case"z":D=0!==(new Date).getTimezoneOffset(),o[I]=Q("dates.timeZoneNames",s.parserObject);let R=o[I];h=w<4;let P=h?"+H;-H":R.hourFormat;P=P.replace(/:/g,b.timeSeparator),l+="("+this.parseTimeZoneRegx(P,R,y)+")?",m=!0,p=h?6:12;break;case"'":l+="("+C.replace(/'/g,"")+")?";break;default:l+="([\\D])"}D&&(o.evalposition[I]={isNumber:k,pos:v+1+u,hourOnly:h}),v===d-1&&!f(l)&&(o.parserRegex=new RegExp("^"+l+"$","i"))}}return c=>{const d=this.internalDateParse(c,o,r);if(f(d)||!Object.keys(d).length)return null;if(o.isIslamic){let u={},p=d.year;const m=d.day,y=d.month,b=p?p+"":"",v=2===b.length;(!p||!y||!m||v)&&(u=U0.getHijriDate(new Date)),v&&(p=parseInt((u.year+"").slice(0,2)+b,10));const C=U0.toGregorian(p||u.year,y||u.month,m||u.date);d.year=C.getFullYear(),d.month=C.getMonth()+1,d.day=C.getDate()}return this.getDateObject(d)}}static getDateObject(e,t){const i=t||new Date;i.setMilliseconds(0);const s=["hour","minute","second","milliseconds","month","day"];let r=e.year;const o=e.designator,a=e.timeZone;St(r)||((r+"").length<=2&&(r+=100*Math.floor(i.getFullYear()/100)),i.setFullYear(r));for(const l of s){let h=e[l];if(St(h)&&"day"===l&&i.setDate(1),!St(h))if("month"===l){if(h-=1,h<0||h>11)return new Date("invalid");const c=i.getDate();i.setDate(1),i[R8[l]](h);const d=new Date(i.getFullYear(),h+1,0).getDate();i.setDate(c<d?c:d)}else{if("day"===l){const c=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(h<1||h>c)return null}i[R8[l]](h)}}if(!St(o)){const l=i.getHours();"pm"===o?i.setHours(l+(12===l?0:12)):12===l&&i.setHours(0)}if(!St(a)){const l=a-i.getTimezoneOffset();0!==l&&i.setMinutes(i.getMinutes()+l)}return i}static internalDateParse(e,t,i){const s=e.match(t.parserRegex),r={hour:0,minute:0,second:0};if(f(s))return null;{const o=Object.keys(t.evalposition);for(const a of o){const l=t.evalposition[a];let h=s[l.pos];if(l.isNumber)r[a]=this.internalNumberParser(h,i);else if("timeZone"!==a||St(h))h="month"!==a||t.isIslamic||"en"!==t.culture&&"en-GB"!==t.culture&&"en-US"!==t.culture?h:h[0].toUpperCase()+h.substring(1).toLowerCase(),r[a]=t[a][h];else{const c=l.pos;let d;const u=s[c+1],p=!St(u);l.hourOnly?d=60*this.getZoneValue(p,u,s[c+4],i):(d=60*this.getZoneValue(p,u,s[c+7],i),d+=this.getZoneValue(p,s[c+4],s[c+10],i)),f(d)||(r[a]=d)}}t.hour12&&(r.hour12=!0)}return r}static internalNumberParser(e,t){return e=Wn.convertValueParts(e,t.numberParseRegex,t.numericPair),Yfe.test(e)?+e:null}static parseTimeZoneRegx(e,t,i){const s=t.gmtFormat;let r;const o="("+i+")("+i+")";let a;return r=e.replace("+","\\+"),r=-1!==e.indexOf("HH")?r.replace(/HH|mm/g,"("+o+")"):r.replace(/H|m/g,"("+o+"?)"),a=r.split(";").map(l=>s.replace("{0}",l)),r=a.join("|")+"|"+t.gmtZeroFormat,r}static getZoneValue(e,t,i,s){const r=e?t:i;if(!r)return 0;const o=this.internalNumberParser(r,s);return e?-o:o}}.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},Wr)}getNumberParser(e){return class{static numberParser(e,t,i){const s=Dt.getDependables(i,e,"",!0),r={custom:!0};let o;Dt.formatRegex.test(t.format)||!t.format?(fe(r,Dt.getProperNumericSkeleton(t.format||"N")),r.custom=!1,r.fractionDigits||t.maximumFractionDigits&&(r.maximumFractionDigits=t.maximumFractionDigits)):fe(r,Dt.customFormat(t.format,null,null));Q("numbers",s.parserObject);let l;if(o=Wn.getCurrentNumericOptions(s.parserObject,Wn.getNumberingSystem(i),!0,!1),r.symbolRegex=Wn.getSymbolRegex(Object.keys(o.symbolMatch)),r.infinity=o.symbolNumberSystem[Kfe[1]],l=Dt.getSymbolPattern(r.type,o.numberSystem,s.numericObject,r.isAccount),l){l=l.replace(/\u00A4/g,Dt.defaultCurrency);const h=l.split(";");r.nData=Dt.getFormatData(h[1]||"-"+h[0],!0,""),r.pData=Dt.getFormatData(h[0],!0,"")}return h=>this.getParsedNumber(h,r,o)}static getParsedNumber(e,t,i){let s,r,o,a,l,h;if(-1!==e.indexOf(t.infinity))return 1/0;{e=Wn.convertValueParts(e,t.symbolRegex,i.symbolMatch),0===(e=-1!==(e=Wn.convertValueParts(e,i.numberParseRegex,i.numericPair)).indexOf("-")?e.replace("-.","-0."):e).indexOf(".")&&(e="0"+e);const c=e.match(Xfe);if(f(c))return NaN;a=c[1],o=c[2];const d=c[5];return l=c[6],s=t.custom?a===t.nData.nlead&&l===t.nData.nend:-1!==a.indexOf(t.nData.nlead)&&-1!==l.indexOf(t.nData.nend),r=s?t.nData.isPercent:t.pData.isPercent,o=o.replace(Zfe,""),d&&(o+=d),h=+o,("percent"===t.type||r)&&(h/=100),(t.custom||t.fractionDigits)&&(h=parseFloat(h.toFixed(t.custom?s?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),t.maximumFractionDigits&&(h=this.convertMaxFracDigits(o,t,h,s)),s&&(h*=-1),h}}static convertMaxFracDigits(e,t,i,s){let r=e.split(".");return r[1]&&r[1].length>t.maximumFractionDigits&&(i=+i.toFixed(t.custom?s?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.maximumFractionDigits)),i}}.numberParser(this.getCulture(),e||{format:"N"},Wr)}formatNumber(e,t){return this.getNumberFormat(t)(e)}formatDate(e,t){return this.getDateFormat(t)(e)}parseDate(e,t){return this.getDateParser(t)(e)}parseNumber(e,t){return this.getNumberParser(t)(e)}getDatePattern(e,t){return Dt.getActualDateTimeFormat(this.getCulture(),e,Wr,t)}getNumberPattern(e,t){return Dt.getActualNumberFormat(this.getCulture(),e,Wr,t)}getFirstDayOfWeek(){return Dt.getWeekData(this.getCulture(),Wr)}getCulture(){return this.culture||Y0}}function Vx(n,e){let t=Dt.getDependables(Wr,n,"",!0)[QL[0]];const i=Dt.getDependables(Wr,n,"")[QL[1]],s=Q("defaultNumberingSystem",t),r=Q("symbols-numberSystem-"+s,t),o=Dt.getSymbolPattern(e||"decimal",s,t,!1);return fe(r,Dt.getFormatData(o,!0,"",!0),{dateSeparator:Dt.getDateSeparator(i)})}function up(n){return Dt.getDependables(Wr,"",n,!1)[QL[1]]}const I8={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};var Dt;!function(n){n.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,n.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,n.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;const e=/[0-9]/g;n.defaultCurrency="$";const t=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,s={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};n.dateConverterMapper=/dddd|ddd/gi,n.islamicRegex=/^islamic/;const o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};n.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,n.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,n.curWithoutNumberRegex=/(c|a)$/gi;const a={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function l(A,R,P,M,L){let V;const te=P||"date";if(L)V=u({skeleton:A},L).format||u({skeleton:"d"},"en-US").format;else{if(-1!==n.basicPatterns.indexOf(A)){if(V=Q(te+"Formats."+A,R),"dateTime"===te){const pe=Q("dateFormats."+A,R),ae=Q("timeFormats."+A,R);V=V.replace("{1}",pe).replace("{0}",ae)}}else V=Q("dateTimeFormats.availableFormats."+A,R);St(V)&&"yMd"===A&&(V="M/d/y")}return V}function h(A,R,P,M){const L={},V=P||"gregorian";if(L.parserObject=Wn.getMainObject(A,R)||n.defaultObject,M)L.numericObject=Q("numbers",L.parserObject);else{L.dateObject=Q("dates.calendars."+V,L.parserObject)}return L}function c(A,R,P,M){return Q(A+"Formats-numberSystem-"+R+(M?".accounting":".standard"),P)||(M?Q(A+"Formats-numberSystem-"+R+".standard",P):"")}function d(A){A.match(n.dateConverterMapper);return A}function u(A,R){const P=A.format||A.skeleton;let M=Q((R||"en-US")+"."+P,I8);return M||(M=Q("en-US."+P,I8)),M&&(M=d(M),A.format=M.replace(/tt/,"a")),A}function p(A){const R=A.match(n.formatRegex),P={},M=R[1].toUpperCase();return P.isAccount="A"===M,P.type=n.patternMatcher[M],A.length>1&&(P.fractionDigits=parseInt(R[2],10)),P}function m(A,R,P,M){const L=M?{}:{nlead:"",nend:""},V=A.match(n.customRegex);if(V){M||(L.nlead=y(V[1],P),L.nend=y(V[10],P),L.groupPattern=V[4]);const te=V[7];if(te&&R){const pe=te.match(e);L.minimumFraction=f(pe)?0:pe.length,L.maximumFraction=te.length-1}}return L}function y(A,R){return A?A.replace(n.defaultCurrency,R):""}function b(A,R,P){return Q("currencies."+R+(P?"."+P:".symbol"),A)||Q("currencies."+R+".symbol-alt-narrow",A)||"$"}function C(A,R,P){const M={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},L=A.match(n.customRegex);if(f(L)||""===L[5]&&"N/A"!==A)return M.type=void 0,M;M.nlead=L[1],M.nend=L[10];let V=L[6];M.useGrouping=-1!==V.indexOf(","),V=V.replace(/,/g,"");const te=L[7];if(-1!==V.indexOf("0")&&(M.minimumIntegerDigits=V.length-V.indexOf("0")),f(te)||(M.minimumFractionDigits=te.lastIndexOf("0"),M.maximumFractionDigits=te.lastIndexOf("#"),-1===M.minimumFractionDigits&&(M.minimumFractionDigits=0),(-1===M.maximumFractionDigits||M.maximumFractionDigits<M.minimumFractionDigits)&&(M.maximumFractionDigits=M.minimumFractionDigits)),f(R)?fe(M,w([M.nlead,M.nend],"%","%")):(fe(M,w([M.nlead,M.nend],"$",R.currencySymbol)),M.isCurrency||fe(M,w([M.nlead,M.nend],"%",R.percentSymbol))),!f(P)){const pe=c(M.type,R.numberMapper.numberSystem,P,!1);M.useGrouping&&(M.groupSeparator=R.numberMapper.numberSymbols[t[2]],M.groupData=T8.getGroupingDetails(pe.split(";")[0])),M.nlead=M.nlead.replace(/'/g,""),M.nend=M.nend.replace(/'/g,"")}return M}function w(A,R,P){const M={nlead:A[0],nend:A[1]};for(let L=0;L<2;L++){const V=A[L],te=V.indexOf(R);if(-1!==te&&(te<V.indexOf("'")||te>V.lastIndexOf("'"))){M[a[L]]=V.substr(0,te)+P+V.substr(te+1),M[a[R]]=!0,M.type=M.isCurrency?"currency":"percent";break}}return M}function O(A,R,P){A+=".";for(let M=0;M<R;M++)A+="0";if(R<P){const M=P-R;for(let L=0;L<M;L++)A+="#"}return A}function N(A,R){const P=A.split(".");let M="";for(let L=0;L<R;L++)M+="0";return P[1]?M+"."+P[1]:M}function X(A){const R=A.split(".");let P=R[0];const M=3-P.length%3;P=(M&&1===M?"#":2===M?"##":"")+P,A="";for(let V=P.length-1;V>0;V-=3)A=","+P[V-2]+P[V-1]+P[V]+A;return A=A.slice(1),R[1]?A+"."+R[1]:A}n.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,n.basicPatterns=["short","medium","long","full"],n.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},n.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},n.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},n.month="months",n.days="days",n.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},n.getResultantPattern=l,n.getDependables=h,n.getSymbolPattern=c,n.ConvertDateToWeekFormat=d,n.compareBlazorDateFormats=u,n.getProperNumericSkeleton=p,n.getFormatData=m,n.changeCurrencySymbol=y,n.getCurrencySymbol=b,n.customFormat=function(A,R,P){const M={},L=A.split(";"),V=["pData","nData","zeroData"];for(let te=0;te<L.length;te++)M[V[te]]=C(L[te],R,P);return f(M.nData)&&(M.nData=fe({},M.pData),M.nData.nlead=f(R)?"-"+M.nData.nlead:R.minusSymbol+M.nData.nlead),M},n.customNumberFormat=C,n.isCurrencyPercent=w,n.getDateSeparator=function(A){const R=(Q("dateFormats.short",A)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return R?R[1]:"/"},n.getActualDateTimeFormat=function(A,R,P,M){const L=h(P,A,R.calendar);let V=R.format||l(R.skeleton,L.dateObject,R.type);if(M){if(V=V.replace(i,te=>s[te]),-1!==V.indexOf("z")){const te=V.match(/z/g).length;let pe;const ae={timeZone:{}};ae.numMapper=Wn.getNumberMapper(L.parserObject,Wn.getNumberingSystem(P)),ae.timeZone=Q("dates.timeZoneNames",L.parserObject);const Te=(new Date).getTimezoneOffset();let Ge=te<4?"+H;-H":ae.timeZone.hourFormat;Ge=Ge.replace(/:/g,ae.numMapper.timeSeparator),0===Te?pe=ae.timeZone.gmtZeroFormat:(pe=k8.getTimeZoneValue(Te,Ge),pe=ae.timeZone.gmtFormat.replace(/\{0\}/,pe)),V=V.replace(/[z]+/,'"'+pe+'"')}V=V.replace(/ $/,"")}return V},n.getActualNumberFormat=function(A,R,P,M){const L=h(P,A,"",!0),V={custom:!0};let pe;const ae={},Oe=(R.format||"").match(n.currencyFormatRegex),Ge=(n.formatRegex.test(R.format)&&p(R.format||"N"),{});if(Oe){Ge.numberMapper=Wn.getNumberMapper(L.parserObject,Wn.getNumberingSystem(P),!0);const j=b(L.numericObject,R.currency||q0,R.altSymbol);let Y=c("currency",Ge.numberMapper.numberSystem,L.numericObject,/a/i.test(R.format));Y=Y.replace(/\u00A4/g,j);const ge=Y.split(";");ae.hasNegativePattern=ge.length>1,ae.nData=m(ge[1]||"-"+ge[0],!0,j),ae.pData=m(ge[0],!1,j),!Oe[2]&&!R.minimumFractionDigits&&!R.maximumFractionDigits&&(pe=m(Y.split(";")[0],!0,"",!0).minimumFraction)}let ve;if(n.formatRegex.test(R.format)||!R.format){if(fe(V,p(R.format||"N")),V.custom=!1,ve="###0",V.fractionDigits||R.minimumFractionDigits||R.maximumFractionDigits||pe){const j=0;V.fractionDigits&&(R.minimumFractionDigits=R.maximumFractionDigits=V.fractionDigits),ve=O(ve,pe||V.fractionDigits||R.minimumFractionDigits||j,R.maximumFractionDigits||j)}if(R.minimumIntegerDigits&&(ve=N(ve,R.minimumIntegerDigits)),R.useGrouping&&(ve=X(ve)),"currency"===V.type){const j=ve;ve=ae.pData.nlead+j+ae.pData.nend,ae.hasNegativePattern&&(ve+=";"+ae.nData.nlead+j+ae.nData.nend)}"percent"===V.type&&(ve+=" %")}else ve=R.format.replace(/'/g,'"');return Object.keys(Ge).length>0&&(ve=M?ve:function(A,R){if(-1!==A.indexOf(",")){let P=A.split(",");A=P[0]+Q("numberMapper.numberSymbols.group",R)+P[1].replace(".",Q("numberMapper.numberSymbols.decimal",R))}else A=A.replace(".",Q("numberMapper.numberSymbols.decimal",R));return A}(ve,Ge)),ve},n.fractionDigitsPattern=O,n.minimumIntegerPattern=N,n.groupingPattern=X,n.getWeekData=function(A,R){let P="sun";const M=Q("supplemental.weekData.firstDay",R);let L=A;return/en-/.test(L)&&(L=L.slice(3)),L=L.slice(0,2).toUpperCase()+L.substr(2),M&&(P=M[L]||"sun"),o[P]},n.replaceBlazorCurrency=function(A,R,P){const M=function(n){return Q(n||"",Bfe)}(P);if(R!==M)for(const L of A)L.nend=L.nend.replace(R,M),L.nlead=L.nlead.replace(R,M)},n.getWeekOfYear=function(A){const R=new Date(A.getFullYear(),0,1);let M,P=R.getDay();P=P>=0?P:P+7;const L=Math.floor((A.getTime()-R.getTime()-6e4*(A.getTimezoneOffset()-R.getTimezoneOffset()))/864e5)+1;if(P<4){if(M=Math.floor((L+P-1)/7)+1,M>52){let te=new Date(this.getFullYear()+1,0,1).getDay();te=te>=0?te:te+7,M=te<4?1:53}}else M=Math.floor((L+P-1)/7);return M}}(Dt||(Dt={}));const P8=/^(.*?):[ \t]*([^\r\n]*)$/gm;class pp{constructor(e,t,i,s){this.mode=!0,this.emitError=!0,this.options={},"string"==typeof e?(this.url=e,this.type=t?t.toUpperCase():"GET",this.mode=!!f(i)||i):"object"==typeof e&&(this.options=e,ai(this,this.options)),this.type=this.type?this.type.toUpperCase():"GET",this.contentType=void 0!==this.contentType?this.contentType:s}send(e){this.data=f(e)?this.data:e;const t={cancel:!1,httpRequest:null};return new Promise((s,r)=>{this.httpRequest=new XMLHttpRequest,this.httpRequest.onreadystatechange=()=>{this.stateChange(s,r)},f(this.onLoad)||(this.httpRequest.onload=this.onLoad),f(this.onProgress)||(this.httpRequest.onprogress=this.onProgress),f(this.onAbort)||(this.httpRequest.onabort=this.onAbort),f(this.onError)||(this.httpRequest.onerror=this.onError),f(this.onUploadProgress)||(this.httpRequest.upload.onprogress=this.onUploadProgress),this.httpRequest.open(this.type,this.url,this.mode),!f(this.data)&&null!==this.contentType&&this.httpRequest.setRequestHeader("Content-Type",this.contentType||"application/json; charset=utf-8"),this.beforeSend&&(t.httpRequest=this.httpRequest,this.beforeSend(t)),t.cancel||this.httpRequest.send(f(this.data)?null:this.data)})}successHandler(e){return this.onSuccess&&this.onSuccess(e,this),e}failureHandler(e){return this.onFailure&&this.onFailure(this.httpRequest),e}stateChange(e,t){let i=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===i)i=void 0;else try{i=JSON.parse(i)}catch(s){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(i)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())}getResponseHeader(e){let t,i;t={};let s=P8.exec(this.httpRequest.getAllResponseHeaders());for(;s;)t[s[1].toLowerCase()]=s[2],s=P8.exec(this.httpRequest.getAllResponseHeaders());return i=t[e.toLowerCase()],f(i)?null:i}}const Jfe=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,eme=/msie|trident/i,tme=/Trident\/7\./,ime=/(ipad|iphone|ipod touch)/i,sme=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,nme=/android/i,rme=/trident|windows phone|edge/i,ome=/(version)[ /]([\w.]+)/i,F8={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!=typeof window&&(window.browserDetails=window.browserDetails||{});class T{static extractBrowserDetail(){const e={culture:{}},t=Object.keys(F8);let i=[];for(const s of t)if(i=T.userAgent.match(F8[s]),i){if(e.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),e.name="crios"===i[1].toLowerCase()?"chrome":e.name,e.version=i[2],e.culture.name=e.culture.language=navigator.language,T.userAgent.match(tme)){e.name="msie";break}const r=T.userAgent.match(ome);"safari"===e.name&&r&&(e.version=r[2]);break}return e}static getEvent(e){const t={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return T.isPointer?t[e].isPointer:T.isTouch?t[e].isTouch+(T.isDevice?"":" "+t[e].isDevice):t[e].isDevice}static getTouchStartEvent(){return T.getEvent("start")}static getTouchEndEvent(){return T.getEvent("end")}static getTouchMoveEvent(){return T.getEvent("move")}static getTouchCancelEvent(){return T.getEvent("cancel")}static getValue(e,t){const i=window.browserDetails;return void 0===i[e]?i[e]=t.test(T.userAgent):("MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!0===T.isTouch&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0),i[e])}static set userAgent(e){T.uA=e,window.browserDetails={}}static get userAgent(){return T.uA}static get info(){return St(window.browserDetails.info)?window.browserDetails.info=T.extractBrowserDetail():window.browserDetails.info}static get isIE(){return T.getValue("isIE",eme)}static get isTouch(){return St(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch}static get isPointer(){return St(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer}static get isMSPointer(){return St(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer}static get isDevice(){return T.getValue("isDevice",Jfe)}static get isIos(){return T.getValue("isIos",ime)}static get isIos7(){return T.getValue("isIos7",sme)}static get isAndroid(){return T.getValue("isAndroid",nme)}static get isWebView(){return St(window.browserDetails.isWebView)&&(window.browserDetails.isWebView=!(St(window.cordova)&&St(window.PhoneGap)&&St(window.phonegap)&&"object"!==window.forge)),window.browserDetails.isWebView}static get isWindows(){return T.getValue("isWindows",rme)}static get touchStartEvent(){return St(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=T.getTouchStartEvent():window.browserDetails.touchStartEvent}static get touchMoveEvent(){return St(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=T.getTouchMoveEvent():window.browserDetails.touchMoveEvent}static get touchEndEvent(){return St(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=T.getTouchEndEvent():window.browserDetails.touchEndEvent}static get touchCancelEvent(){return St(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=T.getTouchCancelEvent():window.browserDetails.touchCancelEvent}}T.uA="undefined"!=typeof navigator?navigator.userAgent:"";class S{static addOrGetEventData(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])}static add(e,t,i,s,r){const o=S.addOrGetEventData(e);let a;a=r?function(n,e){let t;return function(){const i=arguments,s=()=>(t=null,n.apply(this,i));clearTimeout(t),t=setTimeout(s,e)}}(i,r):i,s&&(a=a.bind(s));const l=t.split(" ");for(let h=0;h<l.length;h++)o.push({name:l[h],listener:i,debounce:a}),T.isIE?e.addEventListener(l[h],a):e.addEventListener(l[h],a,{passive:!1});return a}static remove(e,t,i){const s=S.addOrGetEventData(e),r=t.split(" ");for(let o=0;o<r.length;o++){let l,a=-1;s&&0!==s.length&&s.some((h,c)=>h.name===r[o]&&h.listener===i&&(a=c,l=h.debounce,!0)),-1!==a&&s.splice(a,1),l&&e.removeEventListener(r[o],l)}}static clearEvents(e){let t,i;t=S.addOrGetEventData(e),i=fe([],i,t);for(let s=0;s<i.length;s++)e.removeEventListener(i[s].name,i[s].debounce),t.shift()}static trigger(e,t,i){const s=S.addOrGetEventData(e);for(const r of s)r.name===t&&r.debounce.call(this,i)}}const ame=/^svg|^path|^g/;function Ve(n,e){const t=ame.test(n)?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n);return void 0===e||(t.innerHTML=e.innerHTML?e.innerHTML:"",void 0!==e.className&&(t.className=e.className),void 0!==e.id&&(t.id=e.id),void 0!==e.styles&&t.setAttribute("style",e.styles),void 0!==e.attrs&&we(t,e.attrs)),t}function B(n,e){const t=N8(e);for(const i of n)for(const s of t)if(tu(i)){const r=Q("attributes.className",i);f(r)?Oi("attributes.className",s,i):new RegExp("\\b"+s+"\\b","i").test(r)||Oi("attributes.className",r+" "+s,i)}else i.classList.contains(s)||i.classList.add(s);return n}function z(n,e){const t=N8(e);for(const i of n){const s=tu(i);if(s?Q("attributes.className",i):""!==i.className)for(const o of t)if(s){const l=Q("attributes.className",i).split(" "),h=l.indexOf(o);-1!==h&&l.splice(h,1),Oi("attributes.className",l.join(" "),i)}else i.classList.remove(o)}return n}function N8(n){let e=[];return"string"==typeof n?e.push(n):e=n,e}function An(n){return""===n.style.visibility&&n.offsetWidth>0}function lh(n,e,t){const i=document.createDocumentFragment();for(const s of n)i.appendChild(s);return e.insertBefore(i,e.firstElementChild),t&&B8(e),n}function ys(n,e,t){const i=document.createDocumentFragment();for(const s of n)i.appendChild(s);return e.appendChild(i),t&&B8(e),n}function B8(n){n.querySelectorAll("script").forEach(t=>{const i=document.createElement("script");i.text=t.innerHTML,document.head.appendChild(i),ie(i)})}function ie(n){const e=n.parentNode;if(e)return e.removeChild(n)}function Ue(n){const e=n.parentNode;S.clearEvents(n),e.removeChild(n)}function we(n,e){const t=Object.keys(e),i=n;for(const s of t)if(tu(i)){let r=s;"tabindex"===s&&(r="tabIndex"),i.attributes[r]=e[s]}else i.setAttribute(s,e[s]);return i}function W(n,e=document,t){return n=V8(n),e.querySelector(n)}function Ae(n,e=document,t){return n=V8(n),e.querySelectorAll(n)}function V8(n){if(n.match(/#[0-9]/g)){const e=n.split(",");for(let t=0;t<e.length;t++){const i=e[t].split(" ");for(let s=0;s<i.length;s++)if(i[s].indexOf("#")>-1&&!i[s].match(/\[.*\]/)&&i[s].split("#")[1].match(/^\d/)){const o=i[s].split(".");o[0]=o[0].replace(/#/,"[id='")+"']",i[s]=o.join(".")}e[t]=i.join(" ")}return e.join(",")}return n}function K(n,e){let t=n;if("function"==typeof t.closest)return t.closest(e);for(;t&&1===t.nodeType;){if(JL(t,e))return t;t=t.parentNode}return null}function qe(n,e){void 0!==e&&Object.keys(e).forEach(t=>{n.style[t]=e[t]})}function Al(n,e,t){B([n],e),z([n],t)}function JL(n,e){let t=n.matches||n.msMatchesSelector||n.webkitMatchesSelector;return t?t.call(n,e):-1!==[].indexOf.call(document.querySelectorAll(e),n)}const lme=new RegExp("]");class ec{constructor(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=()=>{},this.childChangedProperties={},this.modelObserver=new G0(this),St(t)||(this.element="string"==typeof t?document.querySelector(t):t,f(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),St(e)||this.setProperties(e,!0),this.isDestroyed=!1}setProperties(e,t){const i=this.isProtectedOnChange;this.isProtectedOnChange=!!t,ai(this,e),!0!==t&&(ai(this.changedProperties,e),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i}static callChildDataBind(e,t){const i=Object.keys(e);for(const s of i)if(t[s]instanceof Array)for(const r of t[s])void 0!==r.dataBind&&r.dataBind();else t[s].dataBind()}clearChanges(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}}dataBind(){if(ec.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){const e=this.isProtectedOnChange,t=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(t,i),this.isProtectedOnChange=e}}serverDataBind(e){}saveChanges(e,t,i){this.isProtectedOnChange||(this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function(n){let e;const t=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(t);let s="ej2"+function(n){let e="";for(let t=0;t<5;t++)e+=(t?",":"")+n[t];return e}(t),r=o=>{o.source===window&&"string"==typeof o.data&&o.data.length<=32&&o.data===s&&(n(),e())};return window.addEventListener("message",r,!1),window.postMessage(s,"*"),e=()=>{window.removeEventListener("message",r),n=r=s=void 0}}(this.dataBind.bind(this)))}addEventListener(e,t){this.modelObserver.on(e,t)}removeEventListener(e,t){this.modelObserver.off(e,t)}trigger(e,t,i,s){if(!0!==this.isDestroyed){const r=this.isProtectedOnChange;this.isProtectedOnChange=!1;let o=this.modelObserver.notify(e,t,i,s);if(lme.test(e)){const a=Q(e,this);if(a)if(window.Blazor){const h=a.call(this,t);h&&"function"==typeof h.then?i?h.then(c=>{i&&(c="string"==typeof c&&this.modelObserver.isJson(c)?JSON.parse(c):c,i.call(this,c))}).catch(c=>{s&&(c="string"==typeof c&&this.modelObserver.isJson(c)?JSON.parse(c):c,s.call(this,c))}):o=h:i&&i.call(this,t)}else a.call(this,t),i&&i.call(this,t);else i&&i.call(this,t)}return this.isProtectedOnChange=r,o}}addInstance(){const e="e-"+this.getModuleName().toLowerCase();B([this.element],["e-lib",e]),f(this.element.ej2_instances)?Oi("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)}destroy(){this.element.ej2_instances=this.element.ej2_instances.filter(e=>e!==this),z([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&z([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0}}function Hx(n,e){let t,i;const s="string"==typeof n?document.getElementById(n):n;for(i=0;i<s.ej2_instances.length;i++)if(t=s.ej2_instances[i],"string"==typeof e){if(e===t.getModuleName())return t}else if(t instanceof e)return t}function jx(n,e,t,i){return(!n.properties.hasOwnProperty(e)||!(n.properties[e]instanceof i))&&(n.properties[e]=Nx(i,[n,e,t])),n.properties[e]}function $0(n,e,t,i,s,r){const o=[],a=t?t.length:0;for(let l=0;l<a;l++){let h=i;if(r&&(h=i(t[l],n)),s){const c=Nx(h,[n,e,{},!0]);c.setProperties(t[l],!0),o.push(c)}else o.push(Nx(h,[n,e,t[l],!1]))}return o}function H8(n,e){return function(){return this.properties.hasOwnProperty(e)||(this.properties[e]=n),this.properties[e]}}function hme(n,e){return function(t){if(this.properties[e]!==t){let i=this.properties.hasOwnProperty(e)?this.properties[e]:n;this.saveChanges(e,t,i),this.properties[e]=t}}}function cme(n,e,t){return function(){return jx(this,e,n,t)}}function dme(n,e,t){return function(i){jx(this,e,n,t).setProperties(i)}}function fme(n,e,t){return function(){if(!this.properties.hasOwnProperty(e)){const s=$0(this,e,n,t,!1);this.properties[e]=s}const i=void 0!==this.controlParent&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return!this.properties[e].hasOwnProperty("push")&&!i&&["push","pop"].forEach(s=>{const r={value:bme(s,e,0,this.properties[e]).bind(this),configurable:!0};Object.defineProperty(this.properties[e],s,r)}),this.properties[e].hasOwnProperty("isComplexArray")||Object.defineProperty(this.properties[e],"isComplexArray",{value:!0}),this.properties[e]}}function mme(n,e,t){return function(i){this.isComplexArraySetter=!0;const s=$0(this,e,n,t,!1),r=$0(this,e,i,t,!0);this.isComplexArraySetter=!1,this.saveChanges(e,r,s),this.properties[e]=r}}function bme(n,e,t,i){return function(...s){const r=this.propName?this.getParentKey()+"."+e+"-":e+"-";switch(n){case"push":for(let a=0;a<s.length;a++){Array.prototype[n].apply(i,[s[a]]);const l=j8(r+(i.length-1),s[a],!this.controlParent,n);this.serverDataBind(l,s[a],!1,n)}break;case"pop":Array.prototype[n].apply(i);let o=j8(r+i.length,null,!this.controlParent,n);this.serverDataBind(o,{ejsAction:"pop"},!1,n)}return i}}function j8(n,e,t,i){let s=n;return t&&(s={},s[n]=e,e&&"object"==typeof e)&&(s[n].ejsAction=i),s}function g(n){return(e,t)=>{const i={set:hme(n,t),get:H8(n,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i),ky(e,t,"prop",n)}}function U(n,e){return(t,i)=>{const s={set:dme(n,i,e),get:cme(n,i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,s),ky(t,i,"complexProp",n,e)}}function Di(n,e){return(t,i)=>{const s={set:mme(n,i,e),get:fme(n,i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,s),ky(t,i,"colProp",n,e)}}function F(){return(n,e)=>{const t={set:function(i){const s=this.properties[e];if(s!==i){const r=W8(this,e);!1===St(s)&&r.context.removeEventListener(r.prefix,s),r.context.addEventListener(r.prefix,i),this.properties[e]=i}},get:H8(void 0,e),enumerable:!0,configurable:!0};Object.defineProperty(n,e,t),ky(n,e,"event")}}function ii(n){}function ky(n,e,t,i,s){St(n.propList)&&(n.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),n.propList[t+"s"].push({propertyName:e,defaultValue:i,type:s}),n.propList[t+"Names"].push(e)}function W8(n,e){if(!1===n.hasOwnProperty("parentObj"))return{context:n,prefix:e};{const t=Q("propName",n);return t&&(e=t+"-"+e),W8(Q("parentObj",n),e)}}var Ay,iu=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let qt=Ay=class extends ec{constructor(e){super(e,void 0),this.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"}}animate(e,t){const i=this.getModel(t=t||{});if("string"==typeof e){const s=Array.prototype.slice.call(Ae(e,document));for(const r of s)i.element=r,Ay.delayAnimation(i)}else i.element=e,Ay.delayAnimation(i)}static stop(e,t){e.style.animation="",e.removeAttribute("e-animate");const i=e.getAttribute("e-animation-id");if(i){const s=parseInt(i,10);cancelAnimationFrame(s),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)}static delayAnimation(e){e.delay?setTimeout(()=>{Ay.applyAnimation(e)},e.delay):Ay.applyAnimation(e)}static applyAnimation(e){e.timeStamp=0;let t=0,i=0,s=0;const r=e.duration;e.element.setAttribute("e-animate","true");const o=a=>{try{if(a){s=0===s?a:s,e.timeStamp=a+e.timeStamp-s,s=a,!t&&e.begin&&e.begin.call(this,e),t+=1;const l=e.timeStamp/t;e.timeStamp<r&&e.timeStamp+l<r&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(this,e),requestAnimationFrame(o)):(cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(this,e))}else i=requestAnimationFrame(o),e.element.setAttribute("e-animation-id",i.toString())}catch(l){cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(this,l)}};o()}getModel(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}}onPropertyChanged(e,t){}getModuleName(){return"animation"}destroy(){}};function rn(n,e,t){const i=function(n){return{selector:n&&n.selector?n.selector:null,ignore:n&&n.ignore?n.ignore:null,rippleFlag:n&&n.rippleFlag,isCenterRipple:n&&n.isCenterRipple,duration:n&&n.duration?n.duration:350}}(e);return!1===i.rippleFlag||void 0===i.rippleFlag&&!td?Function:(n.setAttribute("data-ripple","true"),S.add(n,"mousedown",U8,{parent:n,rippleOptions:i}),S.add(n,"mouseup",G8,{parent:n,rippleOptions:i,done:t}),S.add(n,"mouseleave",Ty,{parent:n,rippleOptions:i}),T.isPointer&&S.add(n,"transitionend",Ty,{parent:n,rippleOptions:i}),()=>{n.removeAttribute("data-ripple"),S.remove(n,"mousedown",U8),S.remove(n,"mouseup",G8),S.remove(n,"mouseleave",Ty),S.remove(n,"transitionend",Ty)})}function U8(n){const e=n.target,t=this.rippleOptions.selector,i=t?K(e,t):e;if(!i||this.rippleOptions&&K(e,this.rippleOptions.ignore))return;const s=i.getBoundingClientRect(),r=n.pageX-document.body.scrollLeft,o=n.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),a=Math.max(Math.abs(r-s.left),Math.abs(r-s.right)),l=Math.max(Math.abs(o-s.top),Math.abs(o-s.bottom)),h=Math.sqrt(a*a+l*l);let c=2*h+"px",d=r-s.left-h,u=o-s.top-h;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(d=0,u=0,c="100%"),i.classList.add("e-ripple");const y=Ve("div",{className:"e-ripple-element",styles:"width: "+c+";height: "+c+";left: "+d+"px;top: "+u+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});i.appendChild(y),window.getComputedStyle(y).getPropertyValue("opacity"),y.style.transform="scale(1)",i!==this.parent&&S.add(i,"mouseleave",Ty,{parent:this.parent,rippleOptions:this.rippleOptions})}function G8(n){Y8(n,this)}function Ty(n){Y8(n,this)}function Y8(n,e){const t=e.rippleOptions.duration,i=n.target,s=e.rippleOptions.selector,r=s?K(i,s):i;if(!r||r&&-1===r.className.indexOf("e-ripple"))return;const o=Ae(".e-ripple-element",r),a=o[o.length-1];a&&(a.style.opacity="0.5"),e.parent!==r&&S.remove(r,"mouseleave",Ty),setTimeout(()=>{a&&a.parentNode&&a.parentNode.removeChild(a),r.getElementsByClassName("e-ripple-element").length||r.classList.remove("e-ripple"),e.done&&e.done(n)},t)}iu([g("FadeIn")],qt.prototype,"name",void 0),iu([g(400)],qt.prototype,"duration",void 0),iu([g("ease")],qt.prototype,"timingFunction",void 0),iu([g(0)],qt.prototype,"delay",void 0),iu([F()],qt.prototype,"progress",void 0),iu([F()],qt.prototype,"begin",void 0),iu([F()],qt.prototype,"end",void 0),iu([F()],qt.prototype,"fail",void 0),qt=Ay=iu([ii],qt);let td=!1;class wme{constructor(e){this.loadedModules=[],this.parent=e}inject(e,t){const i=e.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(e);for(let s=0;s<i;s++){const r=e[s];for(const o of t){const a=r.member;if(o.prototype.getModuleName()===r.member&&!this.isModuleLoaded(a)){const l=Nx(o,r.args),h=this.getMemberName(a);Oi(h,r.isProperty?o:l,this.parent);const c=r;c.member=h,this.loadedModules.push(c)}}}}else this.clean()}clean(){for(const e of this.loadedModules)e.isProperty||Q(e.member,this.parent).destroy();this.loadedModules=[]}clearUnusedModule(e){const t=e.map(s=>this.getMemberName(s.member)),i=this.loadedModules.filter(s=>-1===t.indexOf(s.member));for(const s of i)s.isProperty||Q(s.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(s),1),ZL(this.parent,s.member)}getMemberName(e){return e[0].toLowerCase()+e.substring(1)+"Module"}isModuleLoaded(e){for(const t of this.loadedModules)if(t.member===this.getMemberName(e))return!0;return!1}}class he{constructor(e,t,i,s){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=()=>{},this.callChildDataBind=Q("callChildDataBind",ec),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=s,this.setProperties(i,!0)}updateChange(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)}updateTimeOut(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{const e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=()=>{clearTimeout(e)}}}clearChanges(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}}setProperties(e,t){!0===t?(ai(this,e),this.updateChange(!1,this.propName),this.clearChanges()):ai(this,e)}dataBind(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){const e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(Oi(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),Oi(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()}saveChanges(e,t,i,s){this.controlParent.isProtectedOnChange||(s||this.serverDataBind(e,t,!0),this.oldProperties[e]=i,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())}serverDataBind(e,t,i,s){0}getParentKey(e){let t="",i=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);let s=this.parentObj[this.propName].length;s=e?s:s>0?s-1:0,t=-1!==t?"-"+t:"-"+s,i+=t}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+t),i}}var zx=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let tR,eR=0,q8=0,$i=class extends ec{constructor(e,t){super(e,t),this.randomId=function(){if("undefined"==typeof window)return;let n=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(n)}(),this.isStringTemplate=!1,this.needsID=!1,this.isReactHybrid=!1,f(this.enableRtl)&&this.setProperties({enableRtl:false},!0),f(this.locale)&&this.setProperties({locale:Y0},!0),this.moduleLoader=new wme(this),this.localObserver=new G0(this),qf.on("notifyExternalChange",this.detectFunction,this,this.randomId),St(t)||this.appendTo()}requiredModules(){return[]}destroy(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),!this.refreshing&&(z([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),super.destroy(),this.moduleLoader.clean(),qf.off("notifyExternalChange",this.detectFunction,this.randomId)))}refresh(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new G0(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1}accessMount(){this.mount&&!this.isReactHybrid&&this.mount()}getRootElement(){return this.isReactHybrid?this.actualElement:this.element}getLocalData(){const e=this.getModuleName()+this.element.id;return window.localStorage.getItem(e)}appendTo(e){if(f(e)||"string"!=typeof e?f(e)||(this.element=e):this.element=W(e,document),!f(this.element)){const t="e-"+this.getModuleName().toLowerCase();B([this.element],["e-control",t]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));const i=Q("ej2_instances",this.element);(!i||-1===i.indexOf(this))&&super.addInstance(),this.preRender(),this.injectModules(),this.render(),this.mount?this.accessMount():this.trigger("created")}}renderComplete(e){this.isRendered=!0}dataBind(){this.injectModules(),super.dataBind()}on(e,t,i){if("string"==typeof e)this.localObserver.on(e,t,i);else for(const s of e)this.localObserver.on(s.event,s.handler,s.context)}off(e,t){if("string"==typeof e)this.localObserver.off(e,t);else for(const i of e)this.localObserver.off(i.event,i.handler)}notify(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)}getInjectedModules(){return this.injectedModules}static Inject(...e){this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(let t=0;t<e.length;t++)-1===this.prototype.injectedModules.indexOf(e[t])&&this.prototype.injectedModules.push(e[t])}createElement(e,t,i){return Ve(e,t)}triggerStateChange(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})}injectModules(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)}detectFunction(e){const t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])}mergePersistData(){let e;e=window.localStorage.getItem(this.getModuleName()+this.element.id),f(e)||""===e||this.setProperties(JSON.parse(e),!0)}setPersistData(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())}renderReactTemplates(){}clearTemplate(e,t){}getUniqueID(e){return this.isHistoryChanged()&&(eR=0),tR=this.pageID(location.href),q8=history.length,e+"_"+tR+"_"+eR++}pageID(e){let t=0;if(0===e.length)return t;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return Math.abs(t)}isHistoryChanged(){return tR!==this.pageID(location.href)||q8!==history.length}addOnPersist(e){const t={};for(const i of e){let s;s=Q(i,this),St(s)||Oi(i,this.getActualProperties(s),t)}return JSON.stringify(t,(i,s)=>this.getActualProperties(s))}getActualProperties(e){return e instanceof he?Q("properties",e):e}ignoreOnPersist(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))}iterateJsonProperties(e,t){const i={};for(const s of Object.keys(e))if(-1===t.indexOf(s)){const r=e[s];if("object"!=typeof r||r instanceof Array)i[s]=r;else{const o=t.filter(a=>new RegExp(s+".").test(a)).map(a=>a.replace(s+".",""));i[s]=this.iterateJsonProperties(this.getActualProperties(r),o)}}return i}};zx([g(!1)],$i.prototype,"enablePersistence",void 0),zx([g()],$i.prototype,"enableRtl",void 0),zx([g()],$i.prototype,"locale",void 0),$i=zx([ii],$i),"undefined"!=typeof window&&window.addEventListener("popstate",()=>{eR=0});var X0,Cn=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const Sme={left:0,top:0,bottom:0,right:0},iR={isDragged:!1};class sR extends he{}Cn([g(0)],sR.prototype,"left",void 0),Cn([g(0)],sR.prototype,"top",void 0);let Vs=X0=class extends ec{constructor(e,t){super(t,e),this.dragLimit=X0.getDefaultPosition(),this.borderWidth=X0.getDefaultPosition(),this.padding=X0.getDefaultPosition(),this.diffX=0,this.prevLeft=0,this.prevTop=0,this.dragProcessStarted=!1,this.tapHoldTimer=0,this.externalInitialize=!1,this.diffY=0,this.parentScrollX=0,this.parentScrollY=0,this.droppables={},this.bind()}bind(){this.toggleEvents(),T.isIE&&B([this.element],"e-block-touch"),this.droppables[this.scope]={}}static getDefaultPosition(){return fe({},Sme)}toggleEvents(e){let t;St(this.handle)||(t=W(this.handle,this.element));let i=this.enableTapHold&&T.isDevice&&T.isTouch?this.mobileInitialize:this.initialize;e?S.remove(t||this.element,T.touchStartEvent,i):S.add(t||this.element,T.touchStartEvent,i,this)}mobileInitialize(e){let t=e.currentTarget;this.tapHoldTimer=setTimeout(()=>{this.externalInitialize=!0,this.removeTapholdTimer(),this.initialize(e,t)},this.tapHoldThreshold),S.add(document,T.touchMoveEvent,this.removeTapholdTimer,this),S.add(document,T.touchEndEvent,this.removeTapholdTimer,this)}removeTapholdTimer(){clearTimeout(this.tapHoldTimer),S.remove(document,T.touchMoveEvent,this.removeTapholdTimer),S.remove(document,T.touchEndEvent,this.removeTapholdTimer)}getScrollableParent(e,t){return f(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?(this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY),this.tempScrollHeight=e.scrollHeight):(this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),this.tempScrollWidth=e.scrollWidth),f(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)}getScrollableValues(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")}initialize(e,t){if(this.currentStateTarget=e.target,this.isDragStarted())return;if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){let s=this.abort;"string"==typeof s&&(s=[s]);for(let r=0;r<s.length;r++)if(!f(K(e.target,s[r])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!St(e.changedTouches)&&"touchstart"!==e.type&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");let i=this.getCoordinates(e);if(this.initialPosition={x:i.pageX,y:i.pageY},!this.clone){let s=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=i.pageX-(s.left+this.parentScrollX),this.relativeYPosition=i.pageY-(s.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(S.add(document,T.touchMoveEvent,this.intDragStart,this),S.add(document,T.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==e.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,S.trigger(document.documentElement,T.touchStartEvent,e)}intDragStart(e){this.removeTapholdTimer();let t=!St(e.changedTouches);if(t&&1!==e.changedTouches.length)return;t&&e.preventDefault();let s,i=this.getCoordinates(e),r=getComputedStyle(this.element);this.margin={left:parseInt(r.marginLeft,10),top:parseInt(r.marginTop,10),right:parseInt(r.marginRight,10),bottom:parseInt(r.marginBottom,10)};let o=this.element;if(this.clone&&this.dragTarget){let c=K(e.target,this.dragTarget);f(c)||(o=c)}this.isReplaceDragEle&&(o=this.currentStateCheck(e.target,o)),this.offset=this.calculateParentPosition(o),this.position=this.getMousePosition(e,this.isDragScroll);let a=this.initialPosition.x-i.pageX,l=this.initialPosition.y-i.pageY;if(Math.sqrt(a*a+l*l)>=this.distance||this.externalInitialize){let c=this.getHelperElement(e);if(!c||f(c))return;let d=this.helperElement=c;if(this.parentClientRect=this.calculateParentPosition(d.offsetParent),this.dragStart){let b={event:e,element:o,target:this.getProperTargetElement(e),bindEvents:null,dragElement:d};this.trigger("dragStart",b)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),s={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();let u=getComputedStyle(o),p=parseFloat(u.marginTop);this.clone&&0!==p&&(s.top+=p),this.enableScrollHandler&&!this.clone&&(s.top-=this.parentScrollY,s.left-=this.parentScrollX);let m=this.getProcessedPositionValue({top:s.top-this.diffY+"px",left:s.left-this.diffX+"px"});this.dragElePosition={top:s.top,left:s.left},qe(d,this.getDragPosition({position:"absolute",left:m.left,top:m.top})),S.remove(document,T.touchMoveEvent,this.intDragStart),S.remove(document,T.touchEndEvent,this.intDestroy),this.bindDragEvents(d)}}bindDragEvents(e){An(e)?(S.add(document,T.touchMoveEvent,this.intDrag,this),S.add(document,T.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))}elementInViewport(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)this.top+=(e=e.offsetParent).offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth}getProcessedPositionValue(e){return this.queryPositionInfo?this.queryPositionInfo(e):e}calculateParentPosition(e){if(f(e))return{left:0,top:0};let t=e.getBoundingClientRect(),i=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(i.marginLeft,10),top:t.top+window.pageYOffset-parseInt(i.marginTop,10)}}intDrag(e){if(!St(e.changedTouches)&&1!==e.changedTouches.length)return;let t,i;this.position=this.getMousePosition(e,this.isDragScroll);let s=this.getDocumentWidthHeight("Height");s<this.position.top&&(this.position.top=s);let r=this.getDocumentWidthHeight("Width");if(r<this.position.left&&(this.position.left=r),this.drag){let D=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:D})}let o=this.checkTargetElement(e);if(o.target&&o.instance){let D=!0;this.hoverObject&&(this.hoverObject.instance!==o.instance?this.triggerOutFunction(e,o):D=!1),D&&(o.instance.dragData[this.scope]=this.droppables[this.scope],o.instance.intOver(e,o.target),this.hoverObject=o)}else this.hoverObject&&this.triggerOutFunction(e,o);let a=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);let l=this.parentClientRect.left,h=this.parentClientRect.top,c=this.getCoordinates(e),d=c.pageX,u=c.pageY,p=this.position.left-this.diffX,m=this.position.top-this.diffY,y=getComputedStyle(a),b=parseFloat(y.marginTop);if(this.dragArea){if(this.pageX!==d||this.skipDistanceCheck){let D=a.offsetWidth+(parseFloat(y.marginLeft)+parseFloat(y.marginRight));t=this.dragLimit.left>p&&p>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<p+D&&p>0?p-(p-this.dragLimit.right)+window.pageXOffset-D:p<0?this.dragLimit.left:p}if(this.pageY!==u||this.skipDistanceCheck){let D=a.offsetHeight+(parseFloat(y.marginTop)+parseFloat(y.marginBottom));i=this.dragLimit.top>m&&m>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<m+D&&m>0?m-(m-this.dragLimit.bottom)+window.pageYOffset-D:m<0?this.dragLimit.top:m}}else t=p,i=m;let w,_,v=h+this.borderWidth.top,C=l+this.borderWidth.left;if(this.dragProcessStarted&&(f(i)&&(i=this.prevTop),f(t)&&(t=this.prevLeft)),this.dragArea){if(this.dragLimit.top=this.clone?this.dragLimit.top:0,w=i-v<0?this.dragLimit.top:i-v,_=t-C<0?this.dragElePosition.left:t-C,b>0&&(this.clone&&(w+=this.element.offsetTop,m<0&&(this.element.offsetTop+m>=0?w=this.element.offsetTop+m:w-=this.element.offsetTop),w=this.dragLimit.bottom<w?this.dragLimit.bottom:w),i-v<0))if(m+b+(a.offsetHeight-v)>=0){let D=this.dragLimit.top+m-v;D+b+v<0?w-=b+v:w=D}else w-=b+v}else w=i-v,_=t-C;this.enableScrollHandler&&!this.clone&&(w-=this.parentScrollY,_-=this.parentScrollX);let k=this.getProcessedPositionValue({top:w+"px",left:_+"px"});qe(a,this.getDragPosition(k)),!this.elementInViewport(a)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=i,this.position.left=t,this.position.top=i,this.pageX=d,this.pageY=u}triggerOutFunction(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null}getDragPosition(e){let t=fe({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t}getDocumentWidthHeight(e){let t=document.body,i=document.documentElement;return Math.max(t["scroll"+e],i["scroll"+e],t["offset"+e],i["offset"+e],i["client"+e])}intDragStop(e){if(this.dragProcessStarted=!1,!St(e.changedTouches)&&1!==e.changedTouches.length)return;if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){let s=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:s,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");let i=this.checkTargetElement(e);i.target&&i.instance&&(i.instance.dragStopCalled=!0,i.instance.dragData[this.scope]=this.droppables[this.scope],i.instance.intDrop(e,i.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}intDestroy(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),S.remove(document,T.touchMoveEvent,this.intDragStart),S.remove(document,T.touchEndEvent,this.intDragStop),S.remove(document,T.touchEndEvent,this.intDestroy),S.remove(document,T.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)}onPropertyChanged(e,t){}getModuleName(){return"draggable"}isDragStarted(e){return e&&(iR.isDragged=!iR.isDragged),iR.isDragged}setDragArea(){let e,t,r,i=0,s=0;if(r="string"==typeof this.dragArea?W(this.dragArea):this.dragArea,r){let a=r.getBoundingClientRect();e=r.scrollWidth?r.scrollWidth:a.right-a.left,t=r.scrollHeight?r.scrollHeight:a.bottom-a.top;let l=["Top","Left","Bottom","Right"],h=getComputedStyle(r);for(let c=0;c<l.length;c++){let d=l[c],u=h["border"+d+"Width"],p=h["padding"+d],m=d.toLowerCase();this.borderWidth[m]=isNaN(parseFloat(u))?0:parseFloat(u),this.padding[m]=isNaN(parseFloat(p))?0:parseFloat(p)}i=a.top,s=a.left,this.dragLimit.left=s+this.borderWidth.left+this.padding.left,this.dragLimit.top=r.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=s+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=i+t-(this.borderWidth.bottom+this.padding.bottom)}}getProperTargetElement(e){let i,t=this.getCoordinates(e),s=this.helperElement.style.pointerEvents||"";return Bx(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",i=document.elementFromPoint(t.clientX,t.clientY),this.helperElement.style.pointerEvents=s):i=e.target,i}currentStateCheck(e,t){let i;return i=f(this.currentStateTarget)||this.currentStateTarget===e?f(t)?e:t:this.currentStateTarget,i}getMousePosition(e,t){let r,o,i=void 0!==e.srcElement?e.srcElement:e.target,s=this.getCoordinates(e),a=f(i.offsetParent);return t?(r=this.clone?s.pageX:s.pageX+(a?0:i.offsetParent.scrollLeft)-this.relativeXPosition,o=this.clone?s.pageY:s.pageY+(a?0:i.offsetParent.scrollTop)-this.relativeYPosition):(r=this.clone?s.pageX:s.pageX+window.pageXOffset-this.relativeXPosition,o=this.clone?s.pageY:s.pageY+window.pageYOffset-this.relativeYPosition),!this.clone&&this.dragArea&&!t&&(this.getScrollableValues(),o-=this.tempScrollHeight?this.parentScrollY:0,r-=this.tempScrollWidth?this.parentScrollX:0),{left:r-(this.margin.left+this.cursorAt.left),top:o-(this.margin.top+this.cursorAt.top)}}getCoordinates(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e}getHelperElement(e){let t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=Ve("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t}setGlobalDroppables(e,t,i){this.droppables[this.scope]=e?null:{draggable:t,helper:i,draggedElement:this.element}}checkTargetElement(e){let t=this.getProperTargetElement(e),i=this.getDropInstance(t);if(!i&&t&&!f(t.parentNode)){let s=K(t.parentNode,".e-droppable")||t.parentElement;s&&(i=this.getDropInstance(s))}return{target:t,instance:i}}getDropInstance(e){let i,s=e&&e.ej2_instances;if(s)for(let r of s)if("droppable"===r.getModuleName()){i=r;break}return i}destroy(){this.toggleEvents(!0),super.destroy()}};Cn([U({},sR)],Vs.prototype,"cursorAt",void 0),Cn([g(!0)],Vs.prototype,"clone",void 0),Cn([g()],Vs.prototype,"dragArea",void 0),Cn([g()],Vs.prototype,"isDragScroll",void 0),Cn([g()],Vs.prototype,"isReplaceDragEle",void 0),Cn([g(!0)],Vs.prototype,"isPreventSelect",void 0),Cn([F()],Vs.prototype,"drag",void 0),Cn([F()],Vs.prototype,"dragStart",void 0),Cn([F()],Vs.prototype,"dragStop",void 0),Cn([g(1)],Vs.prototype,"distance",void 0),Cn([g()],Vs.prototype,"handle",void 0),Cn([g()],Vs.prototype,"abort",void 0),Cn([g()],Vs.prototype,"helper",void 0),Cn([g("default")],Vs.prototype,"scope",void 0),Cn([g("")],Vs.prototype,"dragTarget",void 0),Cn([g()],Vs.prototype,"axis",void 0),Cn([g()],Vs.prototype,"queryPositionInfo",void 0),Cn([g(!1)],Vs.prototype,"enableTailMode",void 0),Cn([g(!1)],Vs.prototype,"skipDistanceCheck",void 0),Cn([g(!0)],Vs.prototype,"preventDefault",void 0),Cn([g(!1)],Vs.prototype,"enableAutoScroll",void 0),Cn([g(!1)],Vs.prototype,"enableTapHold",void 0),Cn([g(750)],Vs.prototype,"tapHoldThreshold",void 0),Cn([g(!1)],Vs.prototype,"enableScrollHandler",void 0),Vs=X0=Cn([ii],Vs);var Ly=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let fp=class extends ec{constructor(e,t){super(t,e),this.mouseOver=!1,this.dragData={},this.dragStopCalled=!1,this.bind()}bind(){this.wireEvents()}wireEvents(){S.add(this.element,T.touchEndEvent,this.intDrop,this)}onPropertyChanged(e,t){}getModuleName(){return"droppable"}intOver(e,t){this.mouseOver||(this.trigger("over",{event:e,target:t,dragData:this.dragData[this.scope]}),this.mouseOver=!0)}intOut(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)}intDrop(e,t){if(!this.dragStopCalled)return;this.dragStopCalled=!1;let i=!0;const s=this.dragData[this.scope],r=!!s&&s.helper&&An(s.helper);let o;r&&(o=this.isDropArea(e,s.helper,t),this.accept&&(i=JL(s.helper,this.accept))),r&&this.drop&&o.canDrop&&i&&this.trigger("drop",{event:e,target:o.target,droppedElement:s.helper,dragData:s}),this.mouseOver=!1}isDropArea(e,t,i){const s={canDrop:!0,target:i||e.target},r="touchend"===e.type;if(r||s.target===t){t.style.display="none";const o=r?e.changedTouches[0]:e,a=document.elementFromPoint(o.clientX,o.clientY);s.canDrop=!1,s.canDrop=Bx(a,this.element),s.canDrop&&(s.target=a),t.style.display=""}return s}destroy(){S.remove(this.element,T.touchEndEvent,this.intDrop),super.destroy()}};Ly([g()],fp.prototype,"accept",void 0),Ly([g("default")],fp.prototype,"scope",void 0),Ly([F()],fp.prototype,"drop",void 0),Ly([F()],fp.prototype,"over",void 0),Ly([F()],fp.prototype,"out",void 0),fp=Ly([ii],fp);var Z0,Ux=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const _me={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222};let Ds=Z0=class extends ec{constructor(e,t){super(t,e),this.keyPressHandler=i=>{const s=i.altKey,r=i.ctrlKey,o=i.shiftKey,a=i.which,l=Object.keys(this.keyConfigs);for(const h of l){const c=this.keyConfigs[h].split(",");for(const d of c){const u=Z0.getKeyConfigData(d.trim());s===u.altKey&&r===u.ctrlKey&&o===u.shiftKey&&a===u.keyCode&&(i.action=h,this.keyAction&&this.keyAction(i))}}},this.bind()}destroy(){this.unwireEvents(),super.destroy()}onPropertyChanged(e,t){}bind(){this.wireEvents()}getModuleName(){return"keyboard"}wireEvents(){this.element.addEventListener(this.eventName,this.keyPressHandler)}unwireEvents(){this.element.removeEventListener(this.eventName,this.keyPressHandler)}static getKeyConfigData(e){if(e in this.configCache)return this.configCache[e];const t=e.toLowerCase().split("+"),i={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return i.keyCode=t[t.length-1].length>1&&Number(t[t.length-1])?Number(t[t.length-1]):Z0.getKeyCode(t[t.length-1]),Z0.configCache[e]=i,i}static getKeyCode(e){return _me[e]||e.toUpperCase().charCodeAt(0)}};Ds.configCache={},Ux([g({})],Ds.prototype,"keyConfigs",void 0),Ux([g("keyup")],Ds.prototype,"eventName",void 0),Ux([F()],Ds.prototype,"keyAction",void 0),Ds=Z0=Ux([ii],Ds);let Na=(()=>{class n{constructor(t,i,s){this.controlName=t,this.localeStrings=i,this.setLocale(s||Y0)}setLocale(t){const i=this.intGetControlConstant(n.locale,t);this.currentLocale=i||this.localeStrings}static load(t){this.locale=fe(this.locale,t,{},!0)}getConstant(t){return f(this.currentLocale[t])?this.localeStrings[t]||"":this.currentLocale[t]}intGetControlConstant(t,i){return t[i]?t[i][this.controlName]:null}}return n.locale={},n})();var su=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class $8 extends he{}su([g(50)],$8.prototype,"swipeThresholdDistance",void 0);const xme=/(Up|Down)/;let wn=class extends ec{constructor(e,t){super(t,e),this.touchAction=!0,this.tapCount=0,this.startEvent=i=>{if(!0===this.touchAction){const s=this.updateChangeTouches(i);void 0!==i.changedTouches&&(this.touchAction=!1),this.isTouchMoved=!1,this.movedDirection="",this.startPoint=this.lastMovedPoint={clientX:s.clientX,clientY:s.clientY},this.startEventData=s,this.hScrollLocked=this.vScrollLocked=!1,this.tStampStart=Date.now(),this.timeOutTapHold=setTimeout(()=>{this.tapHoldEvent(i)},this.tapHoldThreshold),S.add(this.element,T.touchMoveEvent,this.moveEvent,this),S.add(this.element,T.touchEndEvent,this.endEvent,this),S.add(this.element,T.touchCancelEvent,this.cancelEvent,this)}},this.moveEvent=i=>{const s=this.updateChangeTouches(i);this.movedPoint=s,this.isTouchMoved=!(s.clientX===this.startPoint.clientX&&s.clientY===this.startPoint.clientY);let r={};this.isTouchMoved&&(clearTimeout(this.timeOutTapHold),this.calcScrollPoints(i),r=fe(r,{},{startEvents:this.startEventData,originalEvent:i,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,scrollDirection:this.scrollDirection,velocity:this.getVelocity(s)}),this.trigger("scroll",r),this.lastMovedPoint={clientX:s.clientX,clientY:s.clientY})},this.cancelEvent=i=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap),this.tapCount=0,this.swipeFn(i),S.remove(this.element,T.touchCancelEvent,this.cancelEvent)},this.endEvent=i=>{this.swipeFn(i),this.isTouchMoved||"function"==typeof this.tap&&(this.trigger("tap",{originalEvent:i,tapCount:++this.tapCount}),this.timeOutTap=setTimeout(()=>{this.tapCount=0},this.tapThreshold)),this.modeclear()},this.swipeFn=i=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap);const s=this.updateChangeTouches(i);let r=s.clientX-this.startPoint.clientX,o=s.clientY-this.startPoint.clientY;r=Math.floor(r<0?-1*r:r),o=Math.floor(o<0?-1*o:r),this.isTouchMoved=r>1||o>1,this.endPoint=s,this.calcPoints(i);const a={originalEvent:i,startEvents:this.startEventData,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,swipeDirection:this.movedDirection,velocity:this.getVelocity(s)};if(this.isTouchMoved){let l;const h=this.swipeSettings.swipeThresholdDistance;l=fe(l,this.defaultArgs,a);let c=!1;const d=this.element,u=this.isScrollable(d),p=xme.test(this.movedDirection);(h<this.distanceX&&!p||h<this.distanceY&&p)&&(c=!u||this.checkSwipe(d,p)),c&&this.trigger("swipe",l)}this.modeclear()},this.modeclear=()=>{this.modeClear=setTimeout(()=>{this.touchAction=!0},"function"!=typeof this.tap?0:20),this.lastTapTime=(new Date).getTime(),S.remove(this.element,T.touchMoveEvent,this.moveEvent),S.remove(this.element,T.touchEndEvent,this.endEvent),S.remove(this.element,T.touchCancelEvent,this.cancelEvent)},this.bind()}onPropertyChanged(e,t){}bind(){this.wireEvents(),T.isIE&&this.element.classList.add("e-block-touch")}destroy(){this.unwireEvents(),super.destroy()}wireEvents(){S.add(this.element,T.touchStartEvent,this.startEvent,this)}unwireEvents(){S.remove(this.element,T.touchStartEvent,this.startEvent)}getModuleName(){return"touch"}isScrollable(e){const t=getComputedStyle(e);return!!/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}tapHoldEvent(e){let t;this.tapCount=0,this.touchAction=!0,S.remove(this.element,T.touchMoveEvent,this.moveEvent),S.remove(this.element,T.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),S.remove(this.element,T.touchCancelEvent,this.cancelEvent)}calcPoints(e){const t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.movedDirection=this.distanceX>this.distanceY?t.clientX>this.startPoint.clientX?"Right":"Left":t.clientY<this.startPoint.clientY?"Up":"Down"}calcScrollPoints(e){const t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)}getVelocity(e){const t=e.clientX,i=e.clientY,s=Date.now(),r=t-this.startPoint.clientX,o=i-this.startPoint.clientX,a=s-this.tStampStart;return Math.sqrt(r*r+o*o)/a}checkSwipe(e,t){const i=["scroll","offset"],s=t?["Height","Top"]:["Width","Left"];return e[i[0]+s[0]]<=e[i[1]+s[0]]||0===e[i[0]+s[1]]||e[i[1]+s[0]]+e[i[0]+s[1]]>=e[i[0]+s[0]]}updateChangeTouches(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e}};su([F()],wn.prototype,"tap",void 0),su([F()],wn.prototype,"tapHold",void 0),su([F()],wn.prototype,"swipe",void 0),su([F()],wn.prototype,"scroll",void 0),su([g(350)],wn.prototype,"tapThreshold",void 0),su([g(750)],wn.prototype,"tapHoldThreshold",void 0),su([U({},$8)],wn.prototype,"swipeSettings",void 0),wn=su([ii],wn);const Eme=new RegExp("\\n|\\r|\\s\\s+","g"),Dme=new RegExp(/'|"/g),Mme=new RegExp("if ?\\("),kme=new RegExp("else if ?\\("),X8=new RegExp("else"),Ame=new RegExp("for ?\\("),Z8=new RegExp("(/if|/for)"),Tme=new RegExp("\\((.*)\\)",""),nR=new RegExp("^[0-9]+$","g"),Lme=new RegExp("[\\w\"'.\\s+]+","g"),Rme=new RegExp('"(.*?)"',"g"),Ime=new RegExp("[\\w\"'@#$.\\s-+]+","g");let Pme=new RegExp("\\${([^}]*)}","g");const Ome=/^\..*/gm,rR=/\\/gi,Fme=/\\\\/gi,Nme=new RegExp("[\\w\"'@#$.\\s+]+","g"),Bme=/\window\./gm;function Ry(n,e,t,i,s){return!e||nR.test(n)||-1!==i.indexOf(n.split(".")[0])||s?n:t+"."+n}function oR(n,e,t,i){return e&&!nR.test(n)&&-1===i.indexOf(n.split(".")[0])?t+'["'+n:n}function K8(n){return n.match(Fme)?n:n.replace(rR,"\\\\")}function Q8(n,e,t,i){if(n=n.trim(),/\window\./gm.test(n))return n;{const r=/'|"/gm;return/@|\$|#/gm.test(n)&&(n=oR(n,-1===t.indexOf(n),e,t)+'"]'),Ome.test(n)?function(n,e,t,i){return!e||nR.test(n)||-1!==i.indexOf(n.split(".")[0])||/^\..*/gm.test(n)?n:t+"."+n}(n,!r.test(n)&&-1===t.indexOf(n),e,t):Ry(n,!r.test(n)&&-1===t.indexOf(n),e,t,i)}}const zme=/^[\n\r.]+<tr|^<tr/,Wme=/^[\n\r.]+<svg|^<path|^<g/;function J8(){return"-"+Math.random().toString(36).substr(2,5)}function Lr(n,e,t){const i=aR.compile(n,e,t);return(s,r,o,a,l,h,c)=>{const d=i(s,r,o,c);return"string"==typeof d?Wme.test(d)?Ve("svg",{innerHTML:d}).childNodes:Ve(zme.test(d)?"table":"div",{innerHTML:d}).childNodes:d}}function K0(n,e,t){const i=document.getElementById(n);if(i){const s=i.getElementsByClassName("blazor-inner-template");for(let r=0;r<s.length;r++){let o=" ";o=f(t)?s[r].getAttribute("data-templateId"):s[t].getAttribute("data-templateId");const a=document.getElementById(o);if(a){const l=a.childNodes.length;for(let h=0;h<l;h++)f(t)?s[r].appendChild(a.childNodes[0]):(s[t].appendChild(a.childNodes[0]),r=s.length)}}}}const aR={compile:(new class{compile(e,t={},i){return function(n,e,t){const i="data",s=function(n,e,t,i){let s=0;const r=[],o=n.match(/class="([^"]+|)\s{2}/g);let a="";return o&&o.forEach(l=>{a=l.replace(/\s\s+/g," "),n=n.replace(l,a)}),n.replace(Eme,"").replace(Rme,"'$1'").replace(Pme,(l,h,c,d)=>{const p=h.match(Tme);if(p){const m=p[1];if(kme.test(h))h='";} '+h.replace(p[1],m.replace(Lme,y=>Ry(y=y.trim(),!Dme.test(y)&&-1===r.indexOf(y),e,r,i)))+'{ \n str = str + "';else if(Mme.test(h))h='"; '+h.replace(p[1],m.replace(Ime,y=>Q8(y,e,r,i)))+'{ \n str = str + "';else if(Ame.test(h)){const y=p[1].split(" of ");h='"; '+h.replace(p[1],b=>(r.push(y[0]),r.push(y[0]+"Index"),s+=1,"var i"+s+"=0; i"+s+" < "+Ry(y[1],!0,e,r,i)+".length; i"+s+"++"))+"{ \n "+y[0]+"= "+Ry(y[1],!0,e,r,i)+"[i"+s+"]; \n var "+y[0]+"Index=i"+s+'; \n str = str + "'}else{const y=h.split("(");let b=t&&t.hasOwnProperty(y[0])?"this.":"global";b=/\./.test(y[0])?"":b;const v=p[1].split(",");0!==p[1].length&&!/data/.test(v[0])&&!/window./.test(v[0])&&(p[1]="global"===b?e+"."+p[1]:p[1]);const C=/@|\$|#/gm,w=/\]\./gm;Bme.test(h)&&w.test(h)||C.test(h)?/@|\$|#|\]\./gm.test(h)&&(h='"+ '+("global"===b?"":b)+h.replace(p[1],m.replace(Nme,k=>Q8(k,e,r,i)))+'+ "'):h='" + '+("global"===b?"":b)+h.replace(m,Ry(p[1].replace(/,( |)data.|,/gi,",data.").replace(/,( |)data.window/gi,",window"),"global"!==b,e,r,i))+'+"'}}else X8.test(h)?h='"; '+h.replace(X8,'} else { \n str = str + "'):h.match(Z8)?h=h.replace(Z8,'"; \n } \n str = str + "'):/@|#|\$/gm.test(h)?(h.match(rR)&&(h=K8(h)),h='"+'+oR(h,-1===r.indexOf(h),e,r)+'"]+"'):h=h.match(rR)?'"+'+oR(h=K8(h),-1===r.indexOf(h),e,r)+'"]+"':'"+'+Ry(h.replace(/,/gi,"+data."),-1===r.indexOf(h),e,r,i)+'+"';return h})}(n,i,e,t);return new Function(i,'var str="'+s+"\";var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25a0\\s]+)['])/g);\n    var hrefRegex = (/(?:href)([\\s='\"./]+)([\\w-./?=&\\\\#\"]+)((.)([\\w)(!-;/?-\u25a0\\s]+)['])/g);\n    if(str.match(valueRegEx)){\n        var check = str.match(valueRegEx);\n        var str1 = str;\n        for (var i=0; i < check.length; i++) {\n            var check1 = str.match(valueRegEx)[i].split('value=')[1];\n            var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n            change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n            str1 = str1.replace(check1, change);\n        }\n        str = str.replace(str, str1);\n    }\n    else if(str.match(hrefRegex)) {\n        var check = str.match(hrefRegex);\n        var str1 = str;\n        for (var i=0; i < check.length; i++) {\n            var check1 = str.match(hrefRegex)[i].split('href=')[1];\n            var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n            change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n            str1 = str1.replace(check1, change);\n        }\n        str = str.replace(str, str1);\n    }\n     return str;").bind(e)}(e,t)}}).compile},Gme=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],Yme=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],ej=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onerror","onfocus","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onmousewheel","onstart","onpropertychange"];class Zn{static beforeSanitize(){return{selectors:{tags:Gme,attributes:Yme}}}static sanitize(e){const t=this.beforeSanitize();return this.serializeValue(t,e)}static serializeValue(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();const i=this.wrapElement.innerHTML;return this.removeElement(),i}static removeElement(){const e=this.wrapElement.children;for(let t=0;t<e.length;t++){const i=e[t].attributes;for(let s=0;s<i.length;s++)this.wrapElement.children[t].removeAttribute(i[s].localName)}}static removeXssTags(){const e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach(t=>{ie(t)})}static removeJsEvents(){const e=this.wrapElement.querySelectorAll("["+ej.join("],[")+"]");e.length>0&&e.forEach(t=>{ej.forEach(i=>{t.hasAttribute(i)&&t.removeAttribute(i)})})}static removeXssAttrs(){this.removeAttrs.forEach((e,t)=>{const i=this.wrapElement.querySelectorAll(e.selector);i.length>0&&i.forEach(s=>{s.removeAttribute(e.attribute)})})}}class jo{constructor(e){this.svgLink="http://www.w3.org/2000/svg",this.rootId=e}getOptionValue(e,t){return e[t]}createSvg(e){return f(e.id)&&(e.id=this.rootId+"_svg"),this.svgObj=document.getElementById(e.id),f(document.getElementById(e.id))&&(this.svgObj=document.createElementNS(this.svgLink,"svg")),this.svgObj=this.setElementAttributes(e,this.svgObj),this.setSVGSize(e.width,e.height),this.svgObj}setSVGSize(e,t){const i=document.getElementById(this.rootId),s=f(i)?null:i.getBoundingClientRect();f(this.width)||this.width<=0?this.svgObj.setAttribute("width",e?e.toString():s.width.toString()):this.svgObj.setAttribute("width",this.width.toString()),f(this.height)||this.height<=0?this.svgObj.setAttribute("height",t?t.toString():"450"):this.svgObj.setAttribute("height",this.height.toString())}drawPath(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"path")),t=this.setElementAttributes(e,t),t}drawLine(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"line")),t=this.setElementAttributes(e,t),t}drawRectangle(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"rect")),t=this.setElementAttributes(e,t),t}drawCircle(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"circle")),t=this.setElementAttributes(e,t),t}drawPolyline(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"polyline")),t=this.setElementAttributes(e,t),t}drawEllipse(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"ellipse")),t=this.setElementAttributes(e,t),t}drawPolygon(e){let t=document.getElementById(e.id);return null===t&&(t=document.createElementNS(this.svgLink,"polygon")),t=this.setElementAttributes(e,t),t}drawImage(e){const t=document.createElementNS(this.svgLink,"image");return t.setAttributeNS(null,"height",e.height.toString()),t.setAttributeNS(null,"width",e.width.toString()),t.setAttributeNS("http://www.w3.org/1999/xlink","href",e.href),t.setAttributeNS(null,"x",e.x.toString()),t.setAttributeNS(null,"y",e.y.toString()),t.setAttributeNS(null,"id",e.id),t.setAttributeNS(null,"visibility",e.visibility),f(this.getOptionValue(e,"clip-path"))||t.setAttributeNS(null,"clip-path",this.getOptionValue(e,"clip-path")),f(e.preserveAspectRatio)||t.setAttributeNS(null,"preserveAspectRatio",e.preserveAspectRatio),t}createText(e,t){let i=document.createElementNS(this.svgLink,"text");return i=this.setElementAttributes(e,i),f(t)||(i.textContent=t),i}createTSpan(e,t){let i=document.createElementNS(this.svgLink,"tspan");return i=this.setElementAttributes(e,i),f(t)||(i.textContent=t),i}createTitle(e){const t=document.createElementNS(this.svgLink,"title");return t.textContent=e,t}createDefs(){return document.createElementNS(this.svgLink,"defs")}createClipPath(e){let t=document.createElementNS(this.svgLink,"clipPath");return t=this.setElementAttributes(e,t),t}createForeignObject(e){let t=document.createElementNS(this.svgLink,"foreignObject");return t=this.setElementAttributes(e,t),t}createGroup(e){let t=document.createElementNS(this.svgLink,"g");return t=this.setElementAttributes(e,t),t}createPattern(e,t){let i=document.createElementNS(this.svgLink,t);return i=this.setElementAttributes(e,i),i}createRadialGradient(e,t,i){let s;return f(e[0].colorStop)?s=e[0].color.toString():(this.drawGradient("radialGradient",{id:this.rootId+"_"+t+"radialGradient",cx:i.cx+"%",cy:i.cy+"%",r:i.r+"%",fx:i.fx+"%",fy:i.fy+"%"},e),s="url(#"+this.rootId+"_"+t+"radialGradient)"),s}createLinearGradient(e,t,i){let s;return f(e[0].colorStop)?s=e[0].color.toString():(this.drawGradient("linearGradient",{id:this.rootId+"_"+t+"linearGradient",x1:i.x1+"%",y1:i.y1+"%",x2:i.x2+"%",y2:i.y2+"%"},e),s="url(#"+this.rootId+"_"+t+"linearGradient)"),s}drawGradient(e,t,i){const s=this.createDefs();let r=document.createElementNS(this.svgLink,e);r=this.setElementAttributes(t,r);for(let o=0;o<i.length;o++){const a=document.createElementNS(this.svgLink,"stop");a.setAttribute("offset",i[o].colorStop),a.setAttribute("stop-color",i[o].color),a.setAttribute("stop-opacity",i[o].opacity?i[o].opacity:"1"),f(i[o].style)||a.setAttribute("style",i[o].style),r.appendChild(a)}return s.appendChild(r),s}drawClipPath(e){const t=this.createDefs(),i=this.createClipPath({id:e.id});e.id=e.id+"_Rect";const s=this.drawRectangle(e);return i.appendChild(s),t.appendChild(i),t}drawCircularClipPath(e){const t=this.createDefs(),i=this.createClipPath({id:e.id});e.id=e.id+"_Circle";const s=this.drawCircle(e);return i.appendChild(s),t.appendChild(i),t}setElementAttributes(e,t){const i=Object.keys(e);for(let s=0;s<i.length;s++)"style"===i[s]?t.style=e[i[s]]:t.setAttribute(i[s],e[i[s]]);return t}createCanvas(){return null}}class tj{constructor(e){this.rootId=e}getOptionValue(e,t){return e[t]}createCanvas(e){const t=document.createElement("canvas");return t.setAttribute("id",this.rootId+"_canvas"),this.ctx=t.getContext("2d"),this.canvasObj=t,this.setCanvasSize(e.width,e.height),this.canvasObj}setCanvasSize(e,t){const i=document.getElementById(this.rootId),s=f(i)?null:i.getBoundingClientRect();f(this.width)?this.canvasObj.setAttribute("width",e?e.toString():s.width.toString()):this.canvasObj.setAttribute("width",this.width.toString()),f(this.height)?this.canvasObj.setAttribute("height",t?t.toString():"450"):this.canvasObj.setAttribute("height",this.height.toString())}setAttributes(e){this.ctx.lineWidth=this.getOptionValue(e,"stroke-width");const t=this.getOptionValue(e,"stroke-dasharray");if(!f(t)){const i=t.split(",");this.ctx.setLineDash([parseInt(i[0],10),parseInt(i[1],10)])}this.ctx.strokeStyle=this.getOptionValue(e,"stroke")}drawLine(e){this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.moveTo(e.x1,e.y1),this.ctx.lineTo(e.x2,e.y2),this.ctx.stroke(),this.ctx.restore()}drawRectangle(e,t){const i=this.ctx,s=e.rx;return this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=this.getOptionValue(e,"opacity"),this.setAttributes(e),this.ctx.rect(e.x,e.y,e.width,e.height),null!==s&&s>=0?this.drawCornerRadius(e):("none"===e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,this.ctx.fillRect(e.x,e.y,e.width,e.height),this.ctx.stroke()),this.ctx.restore(),this.ctx=i,this.canvasObj}drawCornerRadius(e){let t=e.rx;const i=e.x,s=e.y,r=e.width,o=e.height;"none"===e.fill&&(e.fill="transparent"),this.ctx.fillStyle=e.fill,r<2*t&&(t=r/2),o<2*t&&(t=o/2),this.ctx.beginPath(),this.ctx.moveTo(i+r-t,s),this.ctx.arcTo(i+r,s,i+r,s+o,t),this.ctx.arcTo(i+r,s+o,i,s+o,t),this.ctx.arcTo(i,s+o,i,s,t),this.ctx.arcTo(i,s,i+r,s,t),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()}drawPath(e,t){const s=e.d.split(" "),r=this.getOptionValue(e,"stroke-width"),o=this.ctx;let a=!0;this.ctx.save(),this.ctx.beginPath(),t&&this.ctx.translate(t[0],t[1]),this.ctx.globalAlpha=e.opacity?e.opacity:this.getOptionValue(e,"fill-opacity"),this.setAttributes(e);for(let l=0;l<s.length;l+=3){const h=parseFloat(s[l+1]),c=parseFloat(s[l+2]);switch(s[l]){case"M":!e.innerR&&!e.cx&&this.ctx.moveTo(h,c);break;case"L":e.innerR||this.ctx.lineTo(h,c);break;case"Q":const d=parseFloat(s[l+3]),u=parseFloat(s[l+4]);this.ctx.quadraticCurveTo(h,c,d,u),l+=2;break;case"C":const p=parseFloat(s[l+3]),m=parseFloat(s[l+4]),y=parseFloat(s[l+5]),b=parseFloat(s[l+6]);this.ctx.bezierCurveTo(h,c,p,m,y,b),l+=4;break;case"A":e.innerR?a&&(this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.arc(e.x,e.y,e.innerR,e.end,e.start,!e.counterClockWise),a=!1):e.cx?this.ctx.arc(e.cx,e.cy,e.radius,0,2*Math.PI,e.counterClockWise):(this.ctx.moveTo(e.x,e.y),this.ctx.arc(e.x,e.y,e.radius,e.start,e.end,e.counterClockWise),this.ctx.lineTo(e.x,e.y)),l+=5;break;case"z":case"Z":this.ctx.closePath(),l-=2}}return"none"!==e.fill&&void 0!==e.fill&&(this.ctx.fillStyle=e.fill,this.ctx.fill()),r>0&&this.ctx.stroke(),this.ctx.restore(),this.ctx=o,this.canvasObj}createText(e,t,i,s,r,o){let a=this.getOptionValue(e,"font-weight");!f(a)&&"regular"===a.toLowerCase()&&(a="normal");const l=this.getOptionValue(e,"font-size"),h=this.getOptionValue(e,"font-family"),d=this.getOptionValue(e,"font-style").toLowerCase()+" "+a+" "+l+" "+h;let u=this.getOptionValue(e,"text-anchor");const p=void 0!==e.opacity?e.opacity:1;return"middle"===u&&(u="center"),this.ctx.save(),this.ctx.fillStyle=e.fill,this.ctx.font=d,this.ctx.textAlign=u,this.ctx.globalAlpha=p,e.baseline&&(this.ctx.textBaseline=e.baseline),o||(this.ctx.translate(e.x+0+(i||0),e.y+(s||0)),this.ctx.rotate(e.labelRotation*Math.PI/180)),this.ctx.fillText(t,o?e.x:0,o?r:0),this.ctx.restore(),this.canvasObj}drawCircle(e,t){const i=this.ctx;return this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.cx,e.cy,e.r,0,2*Math.PI),this.ctx.fillStyle=e.fill,this.ctx.globalAlpha=e.opacity,this.ctx.fill(),t&&this.ctx.translate(t[0],t[1]),this.setAttributes(e),this.ctx.stroke(),this.ctx.restore(),this.ctx=i,this.canvasObj}drawPolyline(e){this.ctx.save(),this.ctx.beginPath();const t=e.points.split(" ");for(let i=0;i<t.length-1;i++){const s=t[i].split(","),r=parseFloat(s[0]),o=parseFloat(s[1]);0===i?this.ctx.moveTo(r,o):this.ctx.lineTo(r,o)}this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore()}drawEllipse(e,t){const i=this.ctx,s=Math.max(e.rx,e.ry),r=e.rx/s,o=e.ry/s;this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(e.cx,e.cy),t&&this.ctx.translate(t[0],t[1]),this.ctx.save(),this.ctx.scale(r,o),this.ctx.arc(0,0,s,0,2*Math.PI,!1),this.ctx.fillStyle=e.fill,this.ctx.fill(),this.ctx.restore(),this.ctx.lineWidth=this.getOptionValue(e,"stroke-width"),this.ctx.strokeStyle=e.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=i}drawImage(e){this.ctx.save();const t=new Image;f(e.href)||(t.src=e.href,this.ctx.drawImage(t,e.x,e.y,e.width,e.height)),this.ctx.restore()}createLinearGradient(e){let t;return f(e[0].colorStop)||(t=this.ctx.createLinearGradient(0,0,0,this.canvasObj.height)),this.setGradientValues(e,t)}createRadialGradient(e){let t;return f(e[0].colorStop)||(t=this.ctx.createRadialGradient(0,0,0,0,0,this.canvasObj.height)),this.setGradientValues(e,t)}setGradientValues(e,t){let i;if(f(e[0].colorStop))i=e[0].color.toString();else{for(let s=0;s<=e.length-1;s++){const r=e[s].color,o=e[s].colorStop.slice(0,-1),a=parseInt(o,10)/100;t.addColorStop(a,r)}i=t.toString()}return i}setElementAttributes(e,t){const i=Object.keys(e),s=Object.keys(e).map(r=>e[r]);for(let r=0;r<i.length;r++)t.setAttribute(i[r],s[r]);return null}updateCanvasAttributes(e){this.setElementAttributes(e,this.canvasObj);const t=this.ctx;if(!f(this.dataUrl)){const i=new Image;i.onload=()=>{t.drawImage(i,0,0)},i.src=this.dataUrl}}clearRect(e){this.ctx.restore(),this.ctx.clearRect(e.x,e.y,e.width,e.height)}createGroup(){return null}drawClipPath(){return null}canvasClip(e){this.ctx.save(),this.ctx.fillStyle="transparent",this.ctx.rect(e.x,e.y,e.width,e.height),this.ctx.fill(),this.ctx.clip()}canvasRestore(){this.ctx.restore()}drawPolygon(){return null}createDefs(){return null}createClipPath(){return null}createSvg(){return null}}function Le(n,e){const t=n||"";let i=document.getElementById("chartmeasuretext");if(null===i&&(i=Ve("text",{id:"chartmeasuretext"}),document.body.appendChild(i)),"string"==typeof n&&(n.indexOf("<")>-1||n.indexOf(">")>-1)){const s=n.split(" ");for(let r=0;r<s.length;r++)-1===s[r].indexOf("<br/>")&&(s[r]=s[r].replace(/[<>]/g,"&"));n=s.join(" ")}return i.innerHTML=t.indexOf("<br>")>-1||t.indexOf("<br/>")>-1?t:n,i.style.position="fixed",i.style.fontSize=e.size,i.style.fontWeight=e.fontWeight,i.style.fontStyle=e.fontStyle,i.style.fontFamily=e.fontFamily,i.style.visibility="hidden",i.style.top="-100",i.style.left="0",i.style.whiteSpace="nowrap",i.style.lineHeight="normal",new xt(i.clientWidth,i.clientHeight)}function Yx(n,e,t,i,s,r,o,a,l,h,c){let d="";const u=t.x,p=t.y,m=t.x+t.width,y=t.y+t.height;return c=c||0,r?(d=d.concat("M "+u+" "+(p+e)+" Q "+u+" "+p+" "+(u+n)+" "+p+"  L "+(m-n)+" "+p+" Q "+m+" "+p+" "+m+" "+(p+e)),d=d.concat(" L "+m+" "+(y-e)+" Q "+m+" "+y+" "+(m-n)+" "+y),0!==s&&(d=d.concat(" L "+(i.x+s/2)+" "+y),d=d.concat(" L "+(l+c)+" "+(y+s-c)),d+=" Q "+l+" "+(y+s)+" "+(l-c)+" "+(y+s-c)),d=d.concat(i.x-s/2>u?" L "+(i.x-s/2)+" "+y+" L "+(u+n)+" "+y+" Q "+u+" "+y+" "+u+" "+(y-e)+" z":0===s?" L "+(u+n)+" "+y+" Q "+u+" "+y+" "+u+" "+(y-e)+" z":" L "+u+" "+(y+e)+" z")):o?(d=d.concat("M "+u+" "+(p+e)+" Q "+u+" "+p+" "+(u+n)+" "+p+" L "+(i.x-s/2)+" "+p),d=d.concat(" L "+(l-c)+" "+(i.y+c)),d+=" Q "+l+" "+i.y+" "+(l+c)+" "+(i.y+c),d=d.concat(" L "+(i.x+s/2)+" "+p+" L "+(m-n)+" "+p+" Q "+m+" "+p+" "+m+" "+(p+e)),d=d.concat(" L "+m+" "+(y-e)+" Q "+m+" "+y+" "+(m-n)+" "+y+" L "+(u+n)+" "+y+" Q "+u+" "+y+" "+u+" "+(y-e)+" z")):a?(d=d.concat("M "+u+" "+(p+e)+" Q "+u+" "+p+" "+(u+n)+" "+p),d=d.concat(" L "+(m-n)+" "+p+" Q "+m+" "+p+" "+m+" "+(p+e)+" L "+m+" "+(i.y-s/2)),d=d.concat(" L "+(m+s-c)+" "+(h-c)),d+=" Q "+(m+s)+" "+h+" "+(m+s-c)+" "+(h+c),d=d.concat(" L "+m+" "+(i.y+s/2)+" L "+m+" "+(y-e)+" Q "+m+" "+y+" "+(m-n)+" "+y),d=d.concat(" L "+(u+n)+" "+y+" Q "+u+" "+y+" "+u+" "+(y-e)+" z")):(d=d.concat("M "+(u+n)+" "+p+" Q "+u+" "+p+" "+u+" "+(p+e)+" L "+u+" "+(i.y-s/2)),d=d.concat(" L "+(u-s+c)+" "+(h-c)),d+=" Q "+(u-s)+" "+h+" "+(u-s+c)+" "+(h+c),d=d.concat(" L "+u+" "+(i.y+s/2)+" L "+u+" "+(y-e)+" Q "+u+" "+y+" "+(u+n)+" "+y),d=d.concat(" L "+(m-n)+" "+y+" Q "+m+" "+y+" "+m+" "+(y-e)+" L "+m+" "+(p+e)+" Q "+m+" "+p+" "+(m-n)+" "+p+" z")),d}class xt{constructor(e,t){this.width=e,this.height=t}}class ce{constructor(e,t,i,s){this.x=e,this.y=t,this.width=i,this.height=s}}class $me{constructor(e,t){this.isRight=t,this.isBottom=e}}class ij{constructor(e){this.id=e}}class bs extends ij{constructor(e,t,i,s,r,o="",a,l){super(e),this.transform="",this.baseLine="auto",this.labelRotation=0,this.x=t,this.y=i,this.anchor=s,this.text=r,this.transform=o,this.baseLine=a,this.labelRotation=l}}function Ja(n){return document.getElementById(n)}function Q0(n){const e=Ja(n);e&&Ue(e)}function Xme(n,e,t,i,s,r){const o=new jo(""),a=function(n,e,t,i,s){let r,o="Path";const a=e.width,l=e.height,h=n.x,c=n.y,d=n.x+-a/2,u=n.y+-l/2;switch(t){case"Circle":case"Bubble":o="Ellipse",ai(i,{rx:a/2,ry:l/2,cx:h,cy:c});break;case"Cross":r="M "+d+" "+c+" L "+(h+a/2)+" "+c+" M "+h+" "+(c+l/2)+" L "+h+" "+(c+-l/2),ai(i,{d:r});break;case"HorizontalLine":r="M "+d+" "+c+" L "+(h+a/2)+" "+c,ai(i,{d:r});break;case"VerticalLine":r="M "+h+" "+(c+l/2)+" L "+h+" "+(c+-l/2),ai(i,{d:r});break;case"Diamond":r="M "+d+" "+c+" L "+h+" "+(c+-l/2)+" L "+(h+a/2)+" "+c+" L "+h+" "+(c+l/2)+" L "+d+" "+c+" z",ai(i,{d:r});break;case"Rectangle":r="M "+d+" "+(c+-l/2)+" L "+(h+a/2)+" "+(c+-l/2)+" L "+(h+a/2)+" "+(c+l/2)+" L "+d+" "+(c+l/2)+" L "+d+" "+(c+-l/2)+" z",ai(i,{d:r});break;case"Triangle":r="M "+d+" "+(c+l/2)+" L "+h+" "+(c+-l/2)+" L "+(h+a/2)+" "+(c+l/2)+" L "+d+" "+(c+l/2)+" z",ai(i,{d:r});break;case"InvertedTriangle":r="M "+(h+a/2)+" "+(c-l/2)+" L "+h+" "+(c+l/2)+" L "+(h-a/2)+" "+(c-l/2)+" L "+(h+a/2)+" "+(c-l/2)+" z",ai(i,{d:r});break;case"Pentagon":const p=72;let m,y;for(let b=0;b<=5;b++)m=a/2*Math.cos(Math.PI/180*(b*p)),y=l/2*Math.sin(Math.PI/180*(b*p)),r=0===b?"M "+(h+m)+" "+(c+y)+" ":r.concat("L "+(h+m)+" "+(c+y)+" ");r=r.concat("Z"),ai(i,{d:r});break;case"Image":o="Image",ai(i,{href:s,height:l,width:a,x:d,y:u})}return{renderOption:i,functionName:o}}(n,t,e,s,i),l=o["draw"+a.functionName](a.renderOption);return l.setAttribute("aria-label",r),l}class nt extends ij{constructor(e,t,i,s,r,o,a){super(e),this.opacity=r,this.fill=t,this.stroke=s,this["stroke-width"]=i,this["stroke-dasharray"]=o,this.d=a}}function qx(n,e,t,i){let s={};const r=new jo("");s={id:n.id,x:n.x,y:n.y,fill:t,"font-size":e.size,"font-style":e.fontStyle,"font-family":e.fontFamily,"font-weight":e.fontWeight,"text-anchor":n.anchor,transform:n.transform,opacity:e.opacity,"dominant-baseline":n.baseLine};const a=r.createText(s,"string"==typeof n.text?n.text:n.text[0]);return a.style.fontFamily=e.fontFamily,a.style.fontStyle=e.fontStyle,a.style.fontSize=e.size,a.style.fontWeight=e.fontWeight,a.style.color=e.color,i.appendChild(a),a}class el{constructor(e,t){this.x=e,this.y=t}}var $t=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class $f extends he{}$t([g(null)],$f.prototype,"size",void 0),$t([g("")],$f.prototype,"color",void 0),$t([g("Segoe UI")],$f.prototype,"fontFamily",void 0),$t([g("Normal")],$f.prototype,"fontWeight",void 0),$t([g("Normal")],$f.prototype,"fontStyle",void 0),$t([g(1)],$f.prototype,"opacity",void 0);class lR extends he{}$t([g("")],lR.prototype,"color",void 0),$t([g(1)],lR.prototype,"width",void 0);class J0 extends he{}$t([g(0)],J0.prototype,"x",void 0),$t([g(0)],J0.prototype,"y",void 0),$t([g(0)],J0.prototype,"width",void 0),$t([g(0)],J0.prototype,"height",void 0);class $x extends he{}$t([g(0)],$x.prototype,"x",void 0),$t([g(0)],$x.prototype,"y",void 0);let Mi=class extends $i{constructor(e,t){super(e,t)}preRender(){this.allowServerDataBinding=!1,this.initPrivateVariable(),this.isCanvas||this.removeSVG(),this.createTooltipElement()}initPrivateVariable(){this.renderer=new jo(this.element.id),this.themeStyle=function(n){let e;switch(n){case"Highcontrast":case"HighContrast":e={tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696"};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":e={tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A"};break;case"Bootstrap4":e={tooltipFill:"rgba(0, 0, 0, 0.9)",tooltipBoldLabel:"rgba(255, 255, 255)",tooltipLightLabel:"rgba(255, 255, 255, 0.9)",tooltipHeaderLine:"rgba(255, 255, 255, 0.2)"};break;case"Tailwind":e={tooltipFill:"#111827",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280"};break;case"TailwindDark":e={tooltipFill:"#F9FAFB",tooltipBoldLabel:"#6B7280",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#9CA3AF"};break;case"Bootstrap5":e={tooltipFill:"#212529",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#9CA3AF"};break;case"Bootstrap5Dark":e={tooltipFill:"#E9ECEF",tooltipBoldLabel:"#212529",tooltipLightLabel:"#212529",tooltipHeaderLine:"#ADB5BD"};break;default:e={tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff"}}return e}(this.theme),this.formattedText=[],this.padding=5,this.isFirst=!0,this.markerPoint=[]}removeSVG(){const e=document.getElementById(this.element.id+"_svg"),t=document.getElementById(this.element.id+"parent_template");this.blazorTemplate&&K0(this.element.id+"parent_template_blazorTemplate"),e&&e.parentNode&&Ue(e),t&&t.parentNode&&Ue(t)}render(){if(this.fadeOuted=!1,this.template)this.updateTemplateFn(),this.createTemplate(this.areaBounds,this.location);else{this.renderText(this.isFirst),this.trigger("tooltipRender",{cancel:!1,name:"tooltipRender",tooltip:this});const i=this.renderTooltipElement(this.areaBounds,this.location);this.drawMarker(i.isBottom,i.isRight,this.markerSize)}this.trigger("loaded",{tooltip:this});const e=document.getElementById("chartmeasuretext");e&&Ue(e),this.allowServerDataBinding=!0}createTooltipElement(){if(this.textElements=[],!this.template||this.shared){const e=this.renderer.createSvg({id:this.element.id+"_svg"});this.element.appendChild(e);let t=document.getElementById(this.element.id+"_group");t||(t=this.renderer.createGroup({id:this.element.id+"_group"}),t.setAttribute("transform","translate(0,0)")),e.appendChild(t);const i=this.renderer.drawPath({id:this.element.id+"_path","stroke-width":this.border.width,fill:this.fill||this.themeStyle.tooltipFill,opacity:"TailwindDark"!==this.theme&&"Tailwind"!==this.theme&&"Bootstrap5"!==this.theme&&"Bootstrap5Dark"!==this.theme||.75!==this.opacity?this.opacity:1,stroke:this.border.color});t.appendChild(i)}}drawMarker(e,t,i){if(this.shapes.length<=0)return null;let s,r=0;const o=this.renderer.createGroup({id:this.element.id+"_trackball_group"}),a=Ja(this.element.id+"_group"),l=2*this.marginX+i/2+(t?this.arrowPadding:0);for(const h of this.shapes)"None"!==h&&(s=new nt(this.element.id+"_Trackball_"+r,this.palette[r],1,"#cccccc",1,null),this.markerPoint[r]&&o.appendChild(Xme(new el(l,this.markerPoint[r]-this.padding+(e?this.arrowPadding:0)),h,new xt(i,i),"",s,null)),r++);a.appendChild(o)}renderTooltipElement(e,t){const i=Ja(this.element.id),s=new el(0,0),r=new el(0,0),o=Ja(this.element.id+"_svg"),a=Ja(this.element.id+"_group"),l=Ja(this.element.id+"_path");let h,c=!1,d=!1,u=!1,p=0,m=0;if(this.tipRadius=1,""!==this.header&&(this.elementSize.height+=this.marginY),this.content.length>1?(h=this.sharedTooltipLocation(e,this.location.x,this.location.y),c=!0):(h=this.tooltipLocation(e,t,s,r),this.inverted?(d=h.x<t.x+this.clipBounds.x,p=d?0:this.arrowPadding):(c=h.y<t.y+this.clipBounds.y,u=!c,m=c?0:this.arrowPadding)),""!==this.header){const v=Le(this.isWrap?this.wrappedText:this.header,this.textStyle).height+2*this.marginY+(u?this.arrowPadding:0)+(this.isWrap?5:0),_=this.renderer.drawPath({id:this.element.id+"_header_path","stroke-width":1,fill:null,opacity:.8,stroke:this.themeStyle.tooltipHeaderLine,d:"M "+(3*this.marginX+(d||c||u?0:this.arrowPadding))+" "+v+"L "+(h.width+(d||c||u?0:this.arrowPadding)-2*this.marginX)+" "+v});a.appendChild(_)}const y=this.border.width/2,b=new ce(y+p,y+m,h.width-y,h.height-y);if(a.setAttribute("opacity","1"),!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(i,h.x,h.y):this.animateTooltipDiv(i,h),o.setAttribute("height",(h.height+this.border.width+(this.inverted?0:this.arrowPadding)+5).toString()),o.setAttribute("width",(h.width+this.border.width+(this.inverted?this.arrowPadding:0)+5).toString()),o.setAttribute("opacity","1"),f(this.tooltipPlacement)||(c=this.tooltipPlacement.indexOf("Top")>-1,u=this.tooltipPlacement.indexOf("Bottom")>-1,d=this.tooltipPlacement.indexOf("Left")>-1),l.setAttribute("d",Yx(this.rx,this.ry,b,s,this.arrowPadding,c,u,d,r.x,r.y,this.tipRadius)),this.enableShadow&&"Bootstrap4"!==this.theme){const v=this.element.id+"_shadow";"Tailwind"===this.theme||"TailwindDark"===this.theme||"Bootstrap5"===this.theme||"Bootstrap5Dark"===this.theme?l.setAttribute("box-shadow","0px 1px 2px rgba(0, 0, 0, 0.06), 0px 1px 3px rgba(0, 0, 0, 0.1)"):l.setAttribute("filter",T.isIE?"":"url(#"+v+")");let C='<filter id="'+v+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/>';C+='<feOffset dx="3" dy="3" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.5"/>',C+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';const w=this.renderer.createDefs();w.setAttribute("id",this.element.id+"SVG_tooltip_definition"),a.appendChild(w),w.innerHTML=C}return l.setAttribute("stroke",this.border.color),this.changeText(new el(p,m),u,!d&&!c&&!u),new $me(u,!d&&!c&&!u)}changeText(e,t,i){const s=document.getElementById(this.element.id+"_text");t&&s.setAttribute("transform","translate(0,"+this.arrowPadding+")"),i&&s.setAttribute("transform","translate("+this.arrowPadding+" 0)")}findFormattedText(){this.formattedText=[],""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()&&(this.formattedText=this.formattedText.concat(this.header)),this.formattedText=this.formattedText.concat(this.content)}renderText(e){let r,t=0,i=0,s=0;const a=fe({},this.textStyle,null,!0).properties,l=Ja(this.element.id+"_group");let h,c,u,p,d="";this.findFormattedText();const y="rtl"===document.body.getAttribute("dir")?"end":"start";this.leftSpace=this.areaBounds.x+this.location.x,this.rightSpace=this.areaBounds.x+this.areaBounds.width-this.leftSpace;const b=this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim(),v=this.header.indexOf("<b>")>-1&&this.header.indexOf("</b>")>-1,C=Le(this.formattedText[0],a).width+2*this.marginX+this.arrowPadding,w=this.location.x-C<this.location.x,_=this.areaBounds.x+this.areaBounds.width<this.location.x+C;let k,D=""!==b?this.marginY:0,I=!0,O=!0;this.markerPoint=[];const N=this.shapes.length>0?10:0,X=this.shapes.length>0?5:0;let q,A="Normal",R=this.themeStyle.tooltipLightLabel;const P=22/parseFloat("13px")*parseFloat(a.size);(!e||this.isCanvas)&&(Q0(this.element.id+"_text"),Q0(this.element.id+"_header_path"),Q0(this.element.id+"_trackball_group"),Q0(this.element.id+"SVG_tooltip_definition"));const M=new bs(this.element.id+"_text",2*this.marginX,2*this.marginY+2*this.padding+(2===this.marginY?3:0),y,""),L=qx(M,a,null,l),V=1===this.formattedText.length&&this.formattedText[0].indexOf(" : <b>")>-1,te=""!==this.header,pe=te&&v?16:13;for(let Oe=0,Te=this.formattedText.length;Oe<Te;Oe++)if(c=this.formattedText[Oe].replace(/<(b|strong)>/g,"<b>").replace(/<\/(b|strong)>/g,"</b>").split(/<br.*?>/g),0===Oe&&!V&&this.isTextWrap&&(this.leftSpace<C||w)&&(this.rightSpace<C||_)&&(q=Math.round(this.leftSpace>this.rightSpace?this.leftSpace/pe:this.rightSpace/pe),k=""!==b?b:this.formattedText[Oe],c=k.match(new RegExp(".{1,"+q+"}","g")),this.wrappedText=v?"<b>"+c.join("<br>")+"</b>":c.join("<br>"),this.isWrap=c.length>1),""!==c[0]){(0!==Oe||""===b)&&this.markerPoint.push((""!==b?this.marginY:0)+M.y+t);for(let Ge=0,ve=c.length;Ge<ve;Ge++){r=c[Ge].replace(/<b>/g,"<br><b>").replace(/<\/b>/g,"</b><br>").replace(/:/g,"<br>\u200e:<br>").split("<br>"),s=0,O=!0,t+=P;for(let j=0,Y=r.length;j<Y;j++)u=r[j],!/\S/.test(u)&&""!==u&&(u=" "),(!O&&" "===u||""!==u.replace(/<b>/g,"").replace(/<\/b>/g,"").trim())&&(s+=" "!==u?4:0,O&&!I?(p={x:2*this.marginX+(N+X),dy:P+(O?D:0),fill:""},D=null):p=I&&O?{x:""===b?2*this.marginX+(N+X):2*this.marginX+(this.isWrap?N+X:0)}:{},O=!1,h=this.renderer.createTSpan(p,""),L.appendChild(h),u.indexOf("<b>")>-1||v&&0===j&&0===Oe&&(te||this.isWrap)?(A="bold",R=this.themeStyle.tooltipBoldLabel,d="font-weight:"+A,a.fontWeight=A,h.setAttribute("fill",this.textStyle.color||R)):(d="bold"===A?"font-weight:"+A:"",a.fontWeight=A,h.setAttribute("fill",this.textStyle.color||R)),(u.indexOf("</b>")>-1||v&&j===Y-1&&0===Oe&&(te||this.isWrap))&&(A="Normal",R=this.themeStyle.tooltipLightLabel),h.textContent=u=this.getTooltipTextContent(u),s+=Le(u,a).width,""!==d&&(h.style.fontWeight=d.split("font-weight:")[1],h.style.color=h.getAttribute("fill")),h.style.fontFamily="inherit",h.style.fontStyle="inherit",h.style.fontSize="inherit",I=!1);s-=4,i=Math.max(i,s)}}this.elementSize=new xt(i+(i>0?2*this.marginX:0),t),this.elementSize.width+=N+X;const ae=L.childNodes[0];if(""!==b&&ae&&!this.isWrap){a.fontWeight="bold";const Oe=(this.elementSize.width+2*this.padding)/2-Le(b,a).width/2;ae.setAttribute("x",Oe.toString())}}getTooltipTextContent(e){let t=e.match(/<[a-zA-Z\/](.|\n)*?>/g);if(f(t))return e;const i=/[\u0590-\u07FF\u200F\u202B\u202E\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(e);for(let s=0;s<t.length;s++)this.isValidHTMLElement(t[s].replace("<","").replace("/","").replace(">","").trim())&&(e=e.replace(t[s],i?"\u200e":""));return e}isValidHTMLElement(e){return"[object HTMLUnknownElement]"!=document.createElement(e).toString()}createTemplate(e,t){const i={cancel:!1,name:"tooltipRender",tooltip:this};this.trigger("tooltipRender",i);const s=document.getElementById(this.element.id);this.isCanvas&&this.removeSVG();const r=s.firstElementChild;if(r&&Ue(r),i.cancel)Ue(Ja(this.element.id+"_tooltip"));else{const o=Ve("div",{id:this.element.id+"parent_template"});let a=this.templateFn(this.data,this.controlInstance,o.id,o.id+"_blazorTemplate","");for(;a&&a.length>0;)1===a.length?(o.appendChild(a[0]),a=null):o.appendChild(a[0]);s.appendChild(o);const l=this.isCanvas?o:this.element,h=l.getBoundingClientRect();this.padding=0,this.elementSize=new xt(h.width,h.height);const c=this.shared?this.sharedTooltipLocation(e,this.location.x,this.location.y):this.tooltipLocation(e,t,new el(0,0),new el(0,0));if(!this.enableAnimation||this.shared||this.isFirst?this.updateDiv(l,c.x,c.y):this.animateTooltipDiv(this.element,c),this.blazorTemplate){const d=()=>{const p=Ja(u.element.id).getBoundingClientRect();u.elementSize=new xt(p.width,p.height);const m=u.tooltipLocation(e,t,new el(0,0),new el(0,0));u.updateDiv(Ja(u.element.id),m.x,m.y)},u=this;d.bind(u,e,t)}}}sharedTooltipLocation(e,t,i){const r=this.elementSize.height+2*this.marginY,o=new ce(t+2*this.padding,i-r-this.padding,this.elementSize.width+2*this.marginX,r);return o.y<e.y&&(o.y+=o.height+2*this.padding),o.x+o.width>e.x+e.width&&(o.x-=o.width+4*this.padding),o}getCurrentPosition(e,t,i,s){const r=this.tooltipPlacement,o=this.clipBounds.x,a=this.clipBounds.y,l=this.offset,h=this.elementSize.width+2*this.marginX,c=this.elementSize.height+2*this.marginY;let d=new el(t.x,t.y);return"Top"===r||"Bottom"===r?(d=new el(d.x+o-this.elementSize.width/2-this.padding,d.y+a-this.elementSize.height-2*this.padding-this.arrowPadding-l),i.x=s.x=h/2,"Bottom"===r&&(d.y=t.y+a+l),e.x+e.width<d.x+h?(d.x=e.width>h?e.x+e.width-h+6:e.x,i.x=s.x=e.width>h?e.x+t.x-d.x:t.x):e.x>d.x&&(d.x=e.x,i.x=s.x=t.x)):(d=new el(d.x+o+l,d.y+a-this.elementSize.height/2-this.padding),i.y=s.y=c/2,"Left"===r&&(d.x=t.x+o-l-(h+this.arrowPadding)),e.y+e.height<d.y+c?(d.y=e.height>c?e.y+e.height-c+6:e.y,i.y=s.y=e.height>c?e.y+t.y-d.y:t.y):e.y>d.y&&(d.y=e.y,i.y=s.y=t.y)),new ce(d.x,d.y,h,c)}tooltipLocation(e,t,i,s){if(!f(this.tooltipPlacement))return this.getCurrentPosition(e,t,i,s);let r=new el(t.x,t.y);const o=this.elementSize.width+2*this.marginX,a=this.elementSize.height+2*this.marginY,l=this.offset,h=this.clipBounds.x,c=this.clipBounds.y,d=e.x,u=e.y;return this.inverted?(r=new el(r.x+h+l,r.y+c-this.elementSize.height/2-this.padding),i.y=s.y=a/2,(r.x+o+this.arrowPadding>d+e.width||this.isNegative)&&(r.x=(t.x>e.width?e.width:t.x)+h-l-(o+this.arrowPadding)),r.x<d&&(r.x=(t.x<0?0:t.x)+h+l),r.y<=u&&(i.y-=u-r.y,s.y-=u-r.y,r.y=u),r.y+a>=u+e.height&&(i.y+=r.y+a-(u+e.height),s.y+=r.y+a-(u+e.height),r.y-=r.y+a-(u+e.height)),i.y+this.arrowPadding/2>a-this.ry&&(i.y=a-this.ry-this.arrowPadding/2,s.y=a,this.tipRadius=0),i.y-this.arrowPadding/2<this.ry&&(i.y=this.ry+this.arrowPadding/2,s.y=0,this.tipRadius=0)):(r=new el(r.x+h-this.elementSize.width/2-this.padding,r.y+c-this.elementSize.height-2*this.padding-this.arrowPadding-l),i.x=s.x=o/2,(r.y<u||this.isNegative)&&(r.y=(t.y<0?0:t.y)+c+l),r.y+a+this.arrowPadding>u+e.height&&(r.y=Math.min(t.y,u+e.height)+c-this.elementSize.height-2*this.padding-this.arrowPadding-l),s.x=o/2,r.x<d&&(i.x-=d-r.x,s.x-=d-r.x,r.x=d),r.x+o>d+e.width&&(i.x+=r.x+o-(d+e.width),s.x+=r.x+o-(d+e.width),r.x-=r.x+o-(d+e.width)),i.x+this.arrowPadding/2>o-this.rx&&(i.x=o-this.rx-this.arrowPadding/2,s.x=o,this.tipRadius=0),i.x-this.arrowPadding/2<this.rx&&(i.x=this.rx+this.arrowPadding/2,s.x=0,this.tipRadius=0)),new ce(r.x,r.y,o,a)}animateTooltipDiv(e,t){const i=parseFloat(e.style.left),s=parseFloat(e.style.top);let r;new qt({}).animate(e,{duration:this.duration,progress:o=>{r=o.timeStamp/o.duration,e.style.animation=null,e.style.left=i+r*(t.x-i)+"px",e.style.top=s+r*(t.y-s)+"px"},end:o=>{this.updateDiv(e,t.x,t.y),this.trigger("animationComplete",{tooltip:this})}})}updateDiv(e,t,i){e.style.left=t+"px",e.style.top=i+"px"}updateTemplateFn(){if(this.template)try{document.querySelectorAll(this.template).length&&(this.templateFn=Lr(document.querySelector(this.template).innerHTML.trim()))}catch(e){this.templateFn=Lr(this.template)}}fadeOut(){const e=Ja(this.isCanvas&&!this.template?this.element.id+"_svg":this.element.id);if(e){let t=e.firstChild;if(this.isCanvas&&!this.template&&(t=document.getElementById(this.element.id+"_group")?document.getElementById(this.element.id+"_group"):t),!t)return null;let i=parseFloat(t.getAttribute("opacity"));i=f(i)?1:i,new qt({}).animate(t,{duration:200,progress:s=>{this.progressAnimation(t,i,s.timeStamp/s.duration)},end:()=>{this.fadeOuted=!0,this.endAnimation(t)}})}}progressAnimation(e,t,i){e.style.animation="",e.setAttribute("opacity",(t-i).toString())}endAnimation(e){e.setAttribute("opacity","0"),this.template&&(e.style.display="none"),this.trigger("animationComplete",{tooltip:this})}getPersistData(){return this.addOnPersist([])}getModuleName(){return"tooltip"}destroy(){super.destroy(),this.element.classList.remove("e-tooltip")}onPropertyChanged(e,t){this.blazorTemplate&&K0(this.element.id+"parent_template_blazorTemplate"),this.isFirst=!1,this.render()}};$t([g(!1)],Mi.prototype,"enable",void 0),$t([g(!1)],Mi.prototype,"shared",void 0),$t([g(!0)],Mi.prototype,"enableShadow",void 0),$t([g(null)],Mi.prototype,"fill",void 0),$t([g("")],Mi.prototype,"header",void 0),$t([g(.75)],Mi.prototype,"opacity",void 0),$t([U({size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},$f)],Mi.prototype,"textStyle",void 0),$t([g(null)],Mi.prototype,"template",void 0),$t([g(!0)],Mi.prototype,"enableAnimation",void 0),$t([g(300)],Mi.prototype,"duration",void 0),$t([g(!1)],Mi.prototype,"inverted",void 0),$t([g(!1)],Mi.prototype,"isNegative",void 0),$t([U({color:"#cccccc",width:.5},lR)],Mi.prototype,"border",void 0),$t([g([])],Mi.prototype,"content",void 0),$t([g(10)],Mi.prototype,"markerSize",void 0),$t([U({x:0,y:0},$x)],Mi.prototype,"clipBounds",void 0),$t([g([])],Mi.prototype,"palette",void 0),$t([g([])],Mi.prototype,"shapes",void 0),$t([U({x:0,y:0},$x)],Mi.prototype,"location",void 0),$t([g(0)],Mi.prototype,"offset",void 0),$t([g(2)],Mi.prototype,"rx",void 0),$t([g(2)],Mi.prototype,"ry",void 0),$t([g(5)],Mi.prototype,"marginX",void 0),$t([g(5)],Mi.prototype,"marginY",void 0),$t([g(12)],Mi.prototype,"arrowPadding",void 0),$t([g(null)],Mi.prototype,"data",void 0),$t([g("Material")],Mi.prototype,"theme",void 0),$t([U({x:0,y:0,width:0,height:0},J0)],Mi.prototype,"areaBounds",void 0),$t([g(null)],Mi.prototype,"availableSize",void 0),$t([g()],Mi.prototype,"blazorTemplate",void 0),$t([g(!1)],Mi.prototype,"isCanvas",void 0),$t([g(!1)],Mi.prototype,"isTextWrap",void 0),$t([g(null)],Mi.prototype,"tooltipPlacement",void 0),$t([g(null)],Mi.prototype,"controlInstance",void 0),$t([F()],Mi.prototype,"tooltipRender",void 0),$t([F()],Mi.prototype,"loaded",void 0),$t([F()],Mi.prototype,"animationComplete",void 0),Mi=$t([ii],Mi);class Ri{constructor(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}setKey(e){return this.key=e,this}using(e){return this.dataManager=e,this}execute(e,t,i,s){return(e=e||this.dataManager)?e.executeQuery(this,t,i,s):me.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')}executeLocal(e){return(e=e||this.dataManager)?e.executeLocal(this):me.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')}clone(){let e=new Ri;return e.queries=this.queries.slice(0),e.key=this.key,e.isChild=this.isChild,e.dataManager=this.dataManager,e.fromTable=this.fromTable,e.params=this.params.slice(0),e.expands=this.expands.slice(0),e.sortedColumns=this.sortedColumns.slice(0),e.groupedColumns=this.groupedColumns.slice(0),e.subQuerySelector=this.subQuerySelector,e.subQuery=this.subQuery,e.fKey=this.fKey,e.isCountRequired=this.isCountRequired,e.distincts=this.distincts.slice(0),e.lazyLoad=this.lazyLoad.slice(0),e}from(e){return this.fromTable=e,this}addParams(e,t){return this.params.push("function"==typeof t?{key:e,fn:t}:{key:e,value:t}),this}distinct(e){return this.distincts="string"==typeof e?[].slice.call([e],0):e.slice(0),this}expand(e){return this.expands="string"==typeof e?[].slice.call([e],0):e.slice(0),this}where(e,t,i,s,r){t=t?t.toLowerCase():null;let o=null;return"string"==typeof e?o=new Tn(e,t,i,s,r):e instanceof Tn&&(o=e),this.queries.push({fn:"onWhere",e:o}),this}search(e,t,i,s,r){return"string"==typeof t&&(t=[t]),(!i||"none"===i)&&(i="contains"),this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:i,searchKey:e,ignoreCase:s,ignoreAccent:r,comparer:me.fnOperators[i]}}),this}sortBy(e,t,i){return this.sortByForeignKey(e,t,i)}sortByForeignKey(e,t,i,s){let o,a,r=f(s)?"ascending":s;if("string"==typeof e&&me.endsWith(e.toLowerCase()," desc")&&(e=e.replace(/ desc$/i,""),t="descending"),(!t||"string"==typeof t)&&(r=t?t.toLowerCase():"ascending",t=me.fnSort(t)),i){o=Ri.filterQueries(this.queries,"onSortBy");for(let l=0;l<o.length;l++)if(a=o[l].e.fieldName,"string"==typeof a){if(a===e)return this}else if(a instanceof Array)for(let h=0;h<a.length;h++)if(a[h]===e||e.toLowerCase()===a[h]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:e,comparer:t,direction:r}}),this}sortByDesc(e){return this.sortBy(e,"descending")}group(e,t,i){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:i||null}}),this}page(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this}range(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this}take(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this}skip(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this}select(e){return"string"==typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this}hierarchy(e,t){return this.subQuerySelector=t,this.subQuery=e,this}foreignKey(e){return this.fKey=e,this}requiresCount(){return this.isCountRequired=!0,this}aggregate(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this}static filterQueries(e,t){return e.filter(i=>i.fn===t)}static filterQueryLists(e,t){let i=e.filter(r=>-1!==t.indexOf(r.fn)),s={};for(let r=0;r<i.length;r++)s[i[r].fn]||(s[i[r].fn]=i[r].e);return s}}class Tn{constructor(e,t,i,s=!1,r){return this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof e?(this.field=e,this.operator=t.toLowerCase(),this.value=i,this.ignoreCase=s,this.ignoreAccent=r,this.isComplex=!1,this.comparer=me.fnOperators.processOperator(this.operator)):(e instanceof Tn&&i instanceof Tn||i instanceof Array)&&(this.isComplex=!0,this.condition=t.toLowerCase(),this.predicates=[e],i instanceof Array?[].push.apply(this.predicates,i):this.predicates.push(i)),this}static and(...e){return Tn.combinePredicates([].slice.call(e,0),"and")}and(e,t,i,s,r){return Tn.combine(this,e,t,i,"and",s,r)}static or(...e){return Tn.combinePredicates([].slice.call(e,0),"or")}or(e,t,i,s,r){return Tn.combine(this,e,t,i,"or",s,r)}static fromJson(e){if(e instanceof Array){let i=[];for(let s=0,r=e.length;s<r;s++)i.push(this.fromJSONData(e[s]));return i}return this.fromJSONData(e)}validate(e){let i,s,t=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,me.getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);i="and"===this.condition;for(let r=0;r<t.length;r++)if(s=t[r].validate(e),i){if(!s)return!1}else if(s)return!0;return i}toJson(){let e,t;if(this.isComplex){e=[],t=this.predicates;for(let i=0;i<t.length;i++)e.push(t[i].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e}}static combinePredicates(e,t){if(1===e.length){if(!(e[0]instanceof Array))return e[0];e=e[0]}return new Tn(e[0],t,e.slice(1))}static combine(e,t,i,s,r,o,a){return t instanceof Tn?Tn[r](e,t):"string"==typeof t?Tn[r](e,new Tn(t,i,s,o,a)):me.throwError("Predicate - "+r+" : invalid arguments")}static fromJSONData(e){let r,t=e.predicates||[],i=t.length,s=[];for(let o=0;o<i;o++)s.push(this.fromJSONData(t[o]));return r=e.isComplex?new Tn(s[0],e.condition,s.slice(1)):new Tn(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent),r}}const sj={GroupGuid:"{271bbba0-1ee7}"};let me=(()=>{class n{static getValue(t,i){return"function"==typeof t?t.call(i||{}):t}static endsWith(t,i){return t.slice&&t.slice(-i.length)===i}static startsWith(t,i){return t.slice(0,i.length)===i}static fnSort(t){return"ascending"===(t=t?n.toLowerCase(t):"ascending")?this.fnAscending:this.fnDescending}static fnAscending(t,i){return f(t)&&f(i)||null==i?-1:"string"==typeof t?t.localeCompare(i):null==t?1:t-i}static fnDescending(t,i){return f(t)&&f(i)?-1:null==i?1:"string"==typeof t?-1*t.localeCompare(i):null==t?-1:i-t}static extractFields(t,i){let s={};for(let r=0;r<i.length;r++)s=this.setValue(i[r],this.getObject(i[r],t),s);return s}static select(t,i){let s=[];for(let r=0;r<t.length;r++)s.push(this.extractFields(t[r],i));return s}static group(t,i,s,r,o,a,l){r=r||1;let h=t,c="GroupGuid";if(h.GroupGuid===sj[c]){for(let p=0;p<h.length;p++)if(f(o))h[p].items=this.group(h[p].items,i,s,h.level+1,null,a,l),h[p].count=h[p].items.length;else{let m=-1,y=o.filter(b=>b.key===h[p].key);m=o.indexOf(y[0]),h[p].items=this.group(h[p].items,i,s,h.level+1,o[m].items,a,l),h[p].count=o[m].count}return h.childLevels+=1,h}let d={},u=[];u.GroupGuid=sj[c],u.level=r,u.childLevels=0,u.records=h;for(let p=0;p<h.length;p++){let m=this.getVal(h,p,i);if(f(a)||(m=a(m,i)),!d[m]&&(d[m]={key:m,count:0,items:[],aggregates:{},field:i},u.push(d[m]),!f(o))){let y=o.filter(b=>b.key===d[m].key);d[m].count=y[0].count}d[m].count=f(o)?d[m].count+=1:d[m].count,(!l||l&&s.length)&&d[m].items.push(h[p])}if(s&&s.length)for(let p=0;p<u.length;p++){let y,m={},b=s;for(let v=0;v<s.length;v++)if(y=n.aggregates[s[v].type],f(o))y&&(m[b[v].field+" - "+b[v].type]=y(u[p].items,b[v].field));else{let C=o.filter(w=>w.key===u[p].key);y&&(m[b[v].field+" - "+b[v].type]=y(C[0].items,b[v].field))}u[p].aggregates=m}if(l&&u.length&&s.length)for(let p=0;p<u.length;p++)u[p].items=[];return h.length&&u||h}static buildHierarchy(t,i,s,r,o){let a,h,l={};for(r.result&&(r=r.result),r.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),a=0;a<r.length;a++){let c=this.getObject(t,r[a]);h=l[c]||(l[c]=[]),h.push(r[a])}for(a=0;a<s.length;a++){let c=this.getObject(o||t,s[a]);s[a][i]=l[c]}}static getFieldList(t,i,s){if(void 0===s&&(s=""),null==i)return this.getFieldList(t,[],s);let r=t,o=Object.keys(t);for(let a of o)"object"!=typeof r[a]||r[a]instanceof Array?i.push(s+a):this.getFieldList(r[a],i,s+a+".");return i}static getObject(t,i){if(!t)return i;if(!i)return;if(-1===t.indexOf("."))return i[t];let s=i,r=t.split(".");for(let o=0;o<r.length&&null!=s;o++)s=s[r[o]];return s}static setValue(t,i,s){let l,c,r=t.toString().split("."),o=s||{},a=o,h=r.length;for(l=0;l<h;l++)c=r[l],l+1===h?a[c]=void 0===i?void 0:i:f(a[c])&&(a[c]={}),a=a[c];return o}static sort(t,i,s){if(t.length<=1)return t;let r=parseInt((t.length/2).toString(),10),o=t.slice(0,r),a=t.slice(r);return o=this.sort(o,i,s),a=this.sort(a,i,s),this.merge(o,a,i,s)}static ignoreDiacritics(t){return"string"!=typeof t?t:t.split("").map(r=>r in n.diacritics?n.diacritics[r]:r).join("")}static merge(t,i,s,r){let a,o=[];for(;t.length>0||i.length>0;)a=t.length>0&&i.length>0?r?r(this.getVal(t,0,s),this.getVal(i,0,s),t[0],i[0])<=0?t:i:t[0][s]<t[0][s]?t:i:t.length>0?t:i,o.push(a.shift());return o}static getVal(t,i,s){return s?this.getObject(s,t[i]):t[i]}static toLowerCase(t){return t?"string"==typeof t?t.toLowerCase():t.toString():0===t||!1===t?t.toString():""}static callAdaptorFunction(t,i,s,r){if(i in t){let o=t[i](s,r);f(o)||(s=o)}return s}static getAddParams(t,i,s){let r={};return n.callAdaptorFunction(t,"addParams",{dm:i,query:s,params:s.params,reqParams:r}),r}static isPlainObject(t){return!!t&&t.constructor===Object}static isCors(){let t=null;try{t=new window.XMLHttpRequest}catch(s){}return!!t&&"withCredentials"in t}static getGuid(t){let s;return(t||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(r,o)=>{if("crypto"in window&&"getRandomValues"in crypto){let a=new Uint8Array(1);window.crypto.getRandomValues(a),s=a[0]%16|0}else s=16*Math.random()|0;return"0123456789abcdef"[19===o?3&s|8:s]})}static isNull(t){return null==t}static getItemFromComparer(t,i,s){let r,o,a,l=0,h="string"==typeof n.getVal(t,0,i);if(t.length)for(;f(r)&&l<t.length;)r=n.getVal(t,l,i),a=t[l++];for(;l<t.length;l++)o=n.getVal(t,l,i),!f(o)&&(h&&(r=+r,o=+o),s(r,o)>0&&(r=o,a=t[l]));return a}static distinct(t,i,s){s=!f(s)&&s;let o,r=[],a={};return t.forEach((l,h)=>{o="object"==typeof t[h]?n.getVal(t,h,i):t[h],o in a||(r.push(s?t[h]:o),a[o]=1)}),r}static processData(t,i){let s=this.prepareQuery(t),r=new Ot(i);t.requiresCounts&&s.requiresCount();let o=r.executeLocal(s),a={result:t.requiresCounts?o.result:o,count:o.count,aggregates:JSON.stringify(o.aggregates)};return t.requiresCounts?a:o}static prepareQuery(t){let i=new Ri;return t.select&&i.select(t.select),t.where&&n.parse.parseJson(t.where).filter(r=>{if(f(r.condition))i.where(r.field,r.operator,r.value,r.ignoreCase,r.ignoreAccent);else{let o=[];r.field?o.push(new Tn(r.field,r.operator,r.value,r.ignoreCase,r.ignoreAccent)):o=o.concat(this.getPredicate(r.predicates)),"or"==r.condition?i.where(Tn.or(o)):"and"==r.condition&&i.where(Tn.and(o))}}),t.search&&n.parse.parseJson(t.search).filter(r=>i.search(r.key,r.fields,r.operator,r.ignoreCase,r.ignoreAccent)),t.aggregates&&t.aggregates.filter(s=>i.aggregate(s.type,s.field)),t.sorted&&t.sorted.filter(s=>i.sortBy(s.name,s.direction)),t.skip&&i.skip(t.skip),t.take&&i.take(t.take),t.group&&t.group.filter(s=>i.group(s)),i}static getPredicate(t){let i=[];for(let s=0;s<t.length;s++){let r=t[s];if(r.field)i.push(new Tn(r.field,r.operator,r.value,r.ignoreCase,r.ignoreAccent));else{let o=[],a=this.getPredicate(r.predicates);for(const l of Object.keys(a))o.push(a[l]);i.push("or"==r.condition?Tn.or(o):Tn.and(o))}}return i}}return n.serverTimezoneOffset=null,n.timeZoneHandling=!0,n.throwError=e=>{try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}},n.aggregates={sum:(e,t)=>{let s,i=0,r="number"!=typeof n.getVal(e,0,t);for(let o=0;o<e.length;o++)s=n.getVal(e,o,t),!isNaN(s)&&null!==s&&(r&&(s=+s),i+=s);return i},average:(e,t)=>n.aggregates.sum(e,t)/e.length,min:(e,t)=>{let i;return"function"==typeof t&&(i=t,t=null),n.getObject(t,n.getItemFromComparer(e,t,i||n.fnAscending))},max:(e,t)=>{let i;return"function"==typeof t&&(i=t,t=null),n.getObject(t,n.getItemFromComparer(e,t,i||n.fnDescending))},truecount:(e,t)=>new Ot(e).executeLocal((new Ri).where(t,"equal",!0,!0)).length,falsecount:(e,t)=>new Ot(e).executeLocal((new Ri).where(t,"equal",!1,!0)).length,count:(e,t)=>e.length},n.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},n.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},n.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},n.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},n.diacritics={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"},n.fnOperators={equal:(e,t,i,s)=>(s&&(e=n.ignoreDiacritics(e),t=n.ignoreDiacritics(t)),i?n.toLowerCase(e)===n.toLowerCase(t):e===t),notequal:(e,t,i,s)=>(s&&(e=n.ignoreDiacritics(e),t=n.ignoreDiacritics(t)),!n.fnOperators.equal(e,t,i)),lessthan:(e,t,i)=>i?n.toLowerCase(e)<n.toLowerCase(t):(f(e)&&(e=void 0),e<t),greaterthan:(e,t,i)=>i?n.toLowerCase(e)>n.toLowerCase(t):e>t,lessthanorequal:(e,t,i)=>i?n.toLowerCase(e)<=n.toLowerCase(t):(f(e)&&(e=void 0),e<=t),greaterthanorequal:(e,t,i)=>i?n.toLowerCase(e)>=n.toLowerCase(t):e>=t,contains:(e,t,i,s)=>(s&&(e=n.ignoreDiacritics(e),t=n.ignoreDiacritics(t)),i?!f(e)&&!f(t)&&-1!==n.toLowerCase(e).indexOf(n.toLowerCase(t)):!f(e)&&!f(t)&&-1!==e.toString().indexOf(t)),notnull:e=>null!==e,isnull:e=>null===e,startswith:(e,t,i,s)=>(s&&(e=n.ignoreDiacritics(e),t=n.ignoreDiacritics(t)),i?e&&t&&n.startsWith(n.toLowerCase(e),n.toLowerCase(t)):e&&t&&n.startsWith(e,t)),endswith:(e,t,i,s)=>(s&&(e=n.ignoreDiacritics(e),t=n.ignoreDiacritics(t)),i?e&&t&&n.endsWith(n.toLowerCase(e),n.toLowerCase(t)):e&&t&&n.endsWith(e,t)),processSymbols:e=>{let t=n.operatorSymbols[e];return t?n.fnOperators[t]:n.throwError("Query - Process Operator : Invalid operator")},processOperator:e=>n.fnOperators[e]||n.fnOperators.processSymbols(e)},n.parse={parseJson:e=>("string"==typeof e?e=JSON.parse(e,n.parse.jsonReviver):e instanceof Array?n.parse.iterateAndReviveArray(e):"object"==typeof e&&null!==e&&n.parse.iterateAndReviveJson(e),e),iterateAndReviveArray:e=>{for(let t=0;t<e.length;t++)"object"==typeof e[t]&&null!==e[t]?n.parse.iterateAndReviveJson(e[t]):e[t]="string"!=typeof e[t]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(e[t])?n.parse.parseJson(e[t]):n.parse.jsonReviver("",e[t])},iterateAndReviveJson:e=>{let t,i=Object.keys(e);for(let s of i)n.startsWith(s,"__")||(t=e[s],"object"==typeof t?t instanceof Array?n.parse.iterateAndReviveArray(t):t&&n.parse.iterateAndReviveJson(t):e[s]=n.parse.jsonReviver(e[s],t))},jsonReviver:(e,t)=>{if("string"==typeof t){let i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t),s=n.timeZoneHandling?n.serverTimezoneOffset:null;if(i)return n.dateParse.toTimeZone(new Date(parseInt(i[1],10)),s,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)){let r=t.indexOf("Z")>-1||t.indexOf("z")>-1,o=t.split(/[^0-9.]/);if(r)t=n.dateParse.toTimeZone(new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10)),n.serverTimezoneOffset,!1);else{let a=new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10)),l=parseInt(o[6],10),h=parseInt(o[7],10);if(isNaN(l)&&isNaN(h))return a;t.indexOf("+")>-1?a.setHours(a.getHours()-l,a.getMinutes()-h):a.setHours(a.getHours()+l,a.getMinutes()+h),t=n.dateParse.toTimeZone(a,n.serverTimezoneOffset,!1)}null==n.serverTimezoneOffset&&(t=n.dateParse.addSelfOffset(t))}}return t},isJson:e=>"string"==typeof e[0]?e:n.parse.parseJson(e),isGuid:e=>null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(e),replacer:(e,t)=>n.isPlainObject(e)?n.parse.jsonReplacer(e,t):e instanceof Array?n.parse.arrayReplacer(e):e instanceof Date?n.parse.jsonReplacer({val:e},t).val:e,jsonReplacer:(e,t)=>{let i,s=Object.keys(e);for(let r of s){if(i=e[r],!(i instanceof Date))continue;let o=i;null==n.serverTimezoneOffset?e[r]=n.dateParse.toTimeZone(o,null).toJSON():(o=new Date(+o+36e5*n.serverTimezoneOffset),e[r]=n.dateParse.toTimeZone(n.dateParse.addSelfOffset(o),null).toJSON())}return e},arrayReplacer:e=>{for(let t=0;t<e.length;t++)n.isPlainObject(e[t])?e[t]=n.parse.jsonReplacer(e[t]):e[t]instanceof Date&&(e[t]=n.parse.jsonReplacer({date:e[t]}).date);return e},jsonDateReplacer:(e,t)=>{if("value"===e&&t){if("string"==typeof t){let i=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t);if(i)t=n.dateParse.toTimeZone(new Date(parseInt(i[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)){let s=t.split(/[^0-9]/);t=n.dateParse.toTimeZone(new Date(parseInt(s[0],10),parseInt(s[1],10)-1,parseInt(s[2],10),parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10)),null,!0)}}if(t instanceof Date)return t=n.dateParse.addSelfOffset(t),null===n.serverTimezoneOffset?n.dateParse.toTimeZone(n.dateParse.addSelfOffset(t),null).toJSON():(t=n.dateParse.toTimeZone(t,t.getTimezoneOffset()/60*2-n.serverTimezoneOffset,!1)).toJSON()}return t}},n.dateParse={addSelfOffset:e=>new Date(+e-6e4*e.getTimezoneOffset()),toUTC:e=>new Date(+e+6e4*e.getTimezoneOffset()),toTimeZone:(e,t,i)=>{if(null===t)return e;let s=i?n.dateParse.toUTC(e):e;return new Date(+s-36e5*t)},toLocalTime:e=>{let t=e,i=-t.getTimezoneOffset(),s=i>=0?"+":"-",r=a=>{let l=Math.floor(Math.abs(a));return(l<10?"0":"")+l};return t.getFullYear()+"-"+r(t.getMonth()+1)+"-"+r(t.getDate())+"T"+r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds())+s+r(i/60)+":"+r(i%60)}},n})();const Kme={GroupGuid:"{271bbba0-1ee7}"};class Xx{constructor(e){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=Xx,this.dataSource=e,this.pvt={}}processResponse(e,t,i,s){return e}}class hR extends Xx{processQuery(e,t){let o,a,d,i=e.dataSource.json.slice(0),s=i.length,r=!0,l={},h=0,c=[];for(let p=0;p<t.lazyLoad.length;p++)h++,l[t.lazyLoad[p].key]=t.lazyLoad[p].value;let u={};for(let p=0;p<t.queries.length;p++)a=t.queries[p],"onPage"!==a.fn&&"onGroup"!==a.fn||!t.lazyLoad.length?(o=this[a.fn].call(this,i,a.e,t),"onAggregates"===a.fn?u[a.e.field+" - "+a.e.type]=o:i=void 0!==o?o:i,("onPage"===a.fn||"onSkip"===a.fn||"onTake"===a.fn||"onRange"===a.fn)&&(r=!1),r&&(s=i.length)):("onGroup"===a.fn&&c.push(a.e),"onPage"===a.fn&&(d=a.e));if(h){let m=this.lazyLoadGroup({query:t,lazyLoad:l,result:i,group:c,page:d});i=m.result,s=m.count}return t.isCountRequired&&(i={result:i,count:s,aggregates:u}),i}lazyLoadGroup(e){let t=0,i=this.getAggregate(e.query),s=e.result;if(f(e.lazyLoad.onDemandGroupInfo)){s=me.group(s,e.group[0].fieldName,i,null,null,e.group[0].comparer,!0),t=s.length;let o=s;e.page&&(s=this.onPage(s,e.page,e.query)),this.formGroupResult(s,o)}else{let r=e.lazyLoad.onDemandGroupInfo;for(let a=r.where.length-1;a>=0;a--)s=this.onWhere(s,r.where[a]);e.group.length!==r.level&&(s=me.group(s,e.group[r.level].fieldName,i,null,null,e.group[0].comparer,!0)),t=s.length;let o=s;s=s.slice(r.skip),s=s.slice(0,r.take),e.group.length!==r.level&&this.formGroupResult(s,o)}return{result:s,count:t}}formGroupResult(e,t){if(e.length&&t.length){let i="GroupGuid",s="childLevels",r="level",o="records";e[i]=t[i],e[s]=t[s],e[r]=t[r],e[o]=t[o]}return e}getAggregate(e){let t=Ri.filterQueries(e.queries,"onAggregates"),i=[];if(t.length){let s;for(let r=0;r<t.length;r++)s=t[r].e,i.push({type:s.type,field:me.getValue(s.field,e)})}return i}batchRequest(e,t,i){let s,r=t.deletedRecords.length;for(s=0;s<t.addedRecords.length;s++)this.insert(e,t.addedRecords[s]);for(s=0;s<t.changedRecords.length;s++)this.update(e,i.key,t.changedRecords[s]);for(s=0;s<r;s++)this.remove(e,i.key,t.deletedRecords[s]);return t}onWhere(e,t){return e&&e.length?e.filter(i=>{if(t)return t.validate(i)}):e}onAggregates(e,t){let i=me.aggregates[t.type];return e&&i&&0!==e.length?i(e,t.field):null}onSearch(e,t){return e&&e.length?(0===t.fieldNames.length&&me.getFieldList(e[0],t.fieldNames),e.filter(i=>{for(let s=0;s<t.fieldNames.length;s++)if(t.comparer.call(i,me.getObject(t.fieldNames[s],i),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1})):e}onSortBy(e,t,i){if(!e||!e.length)return e;let s,r=me.getValue(t.fieldName,i);if(!r)return e.sort(t.comparer);if(r instanceof Array){r=r.slice(0);for(let o=r.length-1;o>=0;o--)!r[o]||(s=t.comparer,me.endsWith(r[o]," desc")&&(s=me.fnSort("descending"),r[o]=r[o].replace(" desc","")),e=me.sort(e,r[o],s));return e}return me.sort(e,r,t.comparer)}onGroup(e,t,i){if(!e||!e.length)return e;let s=this.getAggregate(i);return me.group(e,me.getValue(t.fieldName,i),s,null,null,t.comparer)}onPage(e,t,i){let s=me.getValue(t.pageSize,i),r=(me.getValue(t.pageIndex,i)-1)*s;return e&&e.length?e.slice(r,r+s):e}onRange(e,t){return e&&e.length?e.slice(me.getValue(t.start),me.getValue(t.end)):e}onTake(e,t){return e&&e.length?e.slice(0,me.getValue(t.nos)):e}onSkip(e,t){return e&&e.length?e.slice(me.getValue(t.nos)):e}onSelect(e,t){return e&&e.length?me.select(e,me.getValue(t.fieldNames)):e}insert(e,t,i,s,r){return f(r)?e.dataSource.json.push(t):e.dataSource.json.splice(r,0,t)}remove(e,t,i,s){let o,r=e.dataSource.json;for("object"==typeof i&&!(i instanceof Date)&&(i=me.getObject(t,i)),o=0;o<r.length&&me.getObject(t,r[o])!==i;o++);return o!==r.length?r.splice(o,1):null}update(e,t,i,s){let o,a,r=e.dataSource.json;for(f(t)||(a=Q(t,i)),o=0;o<r.length&&(f(t)||Q(t,r[o])!==a);o++);return o<r.length?ai(r[o],i):null}}class Iy extends Xx{processQuery(e,t,i){let l,h,s=this.getQueryRequest(t),r=Ri.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),o=t.params,a=e.dataSource.url,c=null,d=this.options,u={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in r?(l=r.onPage,h=me.getValue(l.pageIndex,t),c=me.getValue(l.pageSize,t),h=(h-1)*c):"onRange"in r&&(l=r.onRange,h=l.start,c=l.end-l.start);for(let b=0;b<s.sorts.length;b++)l=me.getValue(s.sorts[b].e.fieldName,t),u.sorts.push(me.callAdaptorFunction(this,"onEachSort",{name:l,direction:s.sorts[b].e.direction},t));i&&(l=this.getFiltersFrom(i,t),l&&u.filters.push(me.callAdaptorFunction(this,"onEachWhere",l.toJson(),t)));for(let b=0;b<s.filters.length;b++){let v=me.callAdaptorFunction(this,"onEachWhere",s.filters[b].e.toJson(),t);this.getModuleName&&"ODataV4Adaptor"===this.getModuleName()&&!f(s.filters[b].e.key)&&s.filters.length>1&&(v="("+v+")"),u.filters.push(v);let C="object"==typeof u.filters[b]?Object.keys(u.filters[b]):[];for(let w of C)me.isNull(u[w])&&delete u[w]}for(let b=0;b<s.searches.length;b++)l=s.searches[b].e,u.searches.push(me.callAdaptorFunction(this,"onEachSearch",{fields:l.fieldNames,operator:l.operator,key:l.searchKey,ignoreCase:l.ignoreCase},t));for(let b=0;b<s.groups.length;b++)u.groups.push(me.getValue(s.groups[b].e.fieldName,t));for(let b=0;b<s.aggregates.length;b++)l=s.aggregates[b].e,u.aggregates.push({type:l.type,field:me.getValue(l.field,t)});let p={};if(this.getRequestQuery(d,t,r,u,p),me.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:o,reqParams:p}),t.lazyLoad.length)for(let b=0;b<t.lazyLoad.length;b++)p[t.lazyLoad[b].key]=t.lazyLoad[b].value;let m=Object.keys(p);for(let b of m)(me.isNull(p[b])||""===p[b]||0===p[b].length)&&delete p[b];(!(d.skip in p)||!(d.take in p))&&null!==c&&(p[d.skip]=me.callAdaptorFunction(this,"onSkip",h,t),p[d.take]=me.callAdaptorFunction(this,"onTake",c,t));let y=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(p,me.parse.jsonDateReplacer),url:a,pvtData:y,type:"POST",contentType:"application/json; charset=utf-8"}:(l=this.convertToQueryString(p,t,e),l=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+l,{type:"GET",url:l.length?a.replace(/\/*$/,l):a,pvtData:y})}getRequestQuery(e,t,i,s,r){let a=r;a[e.from]=t.fromTable,e.apply&&t.distincts.length&&(a[e.apply]="onDistinct"in this?me.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(a[e.expand]="onExpand"in this&&"onSelect"in i?me.callAdaptorFunction(this,"onExpand",{selects:me.getValue(i.onSelect.fieldNames,t),expands:t.expands},t):t.expands),a[e.select]="onSelect"in i&&!t.distincts.length?me.callAdaptorFunction(this,"onSelect",me.getValue(i.onSelect.fieldNames,t),t):"",a[e.count]=t.isCountRequired?me.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",a[e.search]=s.searches.length?me.callAdaptorFunction(this,"onSearch",s.searches,t):"",a[e.skip]="onSkip"in i?me.callAdaptorFunction(this,"onSkip",me.getValue(i.onSkip.nos,t),t):"",a[e.take]="onTake"in i?me.callAdaptorFunction(this,"onTake",me.getValue(i.onTake.nos,t),t):"",a[e.where]=s.filters.length||s.searches.length?me.callAdaptorFunction(this,"onWhere",s.filters,t):"",a[e.sortBy]=s.sorts.length?me.callAdaptorFunction(this,"onSortBy",s.sorts,t):"",a[e.group]=s.groups.length?me.callAdaptorFunction(this,"onGroup",s.groups,t):"",a[e.aggregates]=s.aggregates.length?me.callAdaptorFunction(this,"onAggregates",s.aggregates,t):"",a.param=[]}convertToQueryString(e,t,i){return""}processResponse(e,t,i,s,r,o){if(s&&s.getResponseHeader("Content-Type")&&-1!==s.getResponseHeader("Content-Type").indexOf("application/json")){let p=me.timeZoneHandling;t&&!t.timeZoneHandling&&(me.timeZoneHandling=!1),e=me.parse.parseJson(e),me.timeZoneHandling=p}let a=r,l=a.pvtData||{},h=e?e.groupDs:[];if(s&&s.getResponseHeader("Content-Type")&&-1!==s.getResponseHeader("Content-Type").indexOf("xml"))return i.isCountRequired?{result:[],count:0}:[];let c=JSON.parse(a.data);if(c&&"batch"===c.action&&e&&e.addedRecords)return o.addedRecords=e.addedRecords,o;e&&e.d&&(e=e.d);let d={};e&&"count"in e&&(d.count=e.count),d.result=e&&e.result?e.result:e;let u=!1;if(Array.isArray(e.result)&&e.result.length){let p="key",m="value",y="level";if(f(e.result[0][p])||(d.result=this.formRemoteGroupedData(d.result,1,l.groups.length-1)),i&&i.lazyLoad.length&&l.groups.length)for(let b=0;b<i.lazyLoad.length;b++)"onDemandGroupInfo"===i.lazyLoad[b][p]&&l.groups.length===i.lazyLoad[b][m][y]&&(u=!0)}return u||this.getAggregateResult(l,e,d,h,i),me.isNull(d.count)?d.result:{result:d.result,count:d.count,aggregates:d.aggregates}}formRemoteGroupedData(e,t,i){for(let l=0;l<e.length;l++)e[l].items.length&&Object.keys(e[l].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[l].items,t+1,i-1);let s="GroupGuid",a="records";return e[s]=Kme[s],e.level=t,e.childLevels=i,e[a]=e[0].items.length?this.getGroupedRecords(e,!f(e[0].items[a])):[],e}getGroupedRecords(e,t){let i=[];for(let r=0;r<e.length;r++)if(t)i=i.concat(e[r].items.records);else for(let o=0;o<e[r].items.length;o++)i.push(e[r].items[o]);return i}onGroup(e){return this.pvt.groups=e,e}onAggregates(e){this.pvt.aggregates=e}batchRequest(e,t,i,s,r){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(fe({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i[void 0],key:i[void 0]},me.getAddParams(this,e,s)))}}beforeSend(e,t){}insert(e,t,i,s){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(fe({},{value:t,table:i,action:"insert"},me.getAddParams(this,e,s)))}}remove(e,t,i,s,r){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(fe({},{key:i,keyColumn:t,table:s,action:"remove"},me.getAddParams(this,e,r)))}}update(e,t,i,s,r){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(fe({},{value:i,action:"update",keyColumn:t,key:me.getObject(t,i),table:s},me.getAddParams(this,e,r)))}}getFiltersFrom(e,t){let s,i=t.fKey,r=i,o=t.key,a=[];"object"!=typeof e[0]&&(r=null);for(let l=0;l<e.length;l++)s="object"==typeof e[0]?me.getObject(o||r,e[l]):e[l],a.push(new Tn(i,"equal",s));return Tn.or(a)}getAggregateResult(e,t,i,s,r){let o=t;if(t&&t.result&&(o=t.result),e&&e.aggregates&&e.aggregates.length){let c,h=e.aggregates,d=o,u={};t.aggregate&&(d=t.aggregate);for(let p=0;p<h.length;p++)c=me.aggregates[h[p].type],c&&(u[h[p].field+" - "+h[p].type]=c(d,h[p].field));i.aggregates=u}let l=Array.isArray(t.result)&&t.result.length&&!f(t.result[0].key);if(e&&e.groups&&e.groups.length&&!l){let h=e.groups;for(let c=0;c<h.length;c++){let d=null;f(s)||(s=me.group(s,h[c]));let u=Ri.filterQueries(r.queries,"onGroup")[c].e;o=me.group(o,h[c],e.aggregates,d,s,u.comparer)}i.result=o}return i}getQueryRequest(e){let t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=Ri.filterQueries(e.queries,"onSortBy"),t.groups=Ri.filterQueries(e.queries,"onGroup"),t.filters=Ri.filterQueries(e.queries,"onWhere"),t.searches=Ri.filterQueries(e.queries,"onSearch"),t.aggregates=Ri.filterQueries(e.queries,"onAggregates"),t}addParams(e){let t=e.reqParams;e.params.length&&(t.params={});for(let i of e.params){if(t[i.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[i.key]=i.value,i.fn&&(t[i.key]=i.fn.call(e.query,i.key,e.query,e.dm)),t.params[i.key]=t[i.key]}}}class nu extends Iy{constructor(e){super(),this.options=fe({},this.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),fe(this.options,e||{})}getModuleName(){return"ODataAdaptor"}onPredicate(e,t,i){let r,o,s="",a=e.value,l=typeof a,h=e.field?nu.getField(e.field):null;if(a instanceof Date&&(a="datetime'"+me.parse.replacer(a)+"'"),"string"===l&&(a=encodeURIComponent(a),a="'"+a+"'",i&&(h="cast("+h+", 'Edm.String')"),me.parse.isGuid(a)&&(o="guid"),e.ignoreCase&&(o||(h="tolower("+h+")"),a=a.toLowerCase())),r=me.odBiOperator[e.operator],r)return s+=h,s+=r,o&&(s+=o),s+a;if(r=f(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?me.odUniOperator[e.operator]:me.odv4UniOperator[e.operator],"substringof"===r){let c=a;a=h,h=c}return s+=r+"(",s+=h+",",o&&(s+=o),s+=a+")",s}addParams(e){super.addParams(e),delete e.reqParams.params}onComplexPredicate(e,t,i){let s=[];for(let r=0;r<e.predicates.length;r++)s.push("("+this.onEachWhere(e.predicates[r],t,i)+")");return s.join(" "+e.condition+" ")}onEachWhere(e,t,i){return e.isComplex?this.onComplexPredicate(e,t,i):this.onPredicate(e,t,i)}onWhere(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")}onEachSearch(e){e.fields&&0===e.fields.length&&me.throwError("Query() - Search : oData search requires list of field names to search");let t=this.pvt.search||[];for(let i=0;i<e.fields.length;i++)t.push(new Tn(e.fields[i],e.operator,e.key,e.ignoreCase));this.pvt.search=t}onSearch(e){return this.pvt.search=Tn.or(this.pvt.search),""}onEachSort(e){let t=[];if(e.name instanceof Array)for(let i=0;i<e.name.length;i++)t.push(nu.getField(e.name[i])+("descending"===e.direction?" desc":""));else t.push(nu.getField(e.name)+("descending"===e.direction?" desc":""));return t.join(",")}onSortBy(e){return e.reverse().join(",")}onGroup(e){return this.pvt.groups=e,[]}onSelect(e){for(let t=0;t<e.length;t++)e[t]=nu.getField(e[t]);return e.join(",")}onAggregates(e){return this.pvt.aggregates=e,""}onCount(e){return!0===e?"allpages":""}beforeSend(e,t,i){me.endsWith(i.url,this.options.batch)&&"post"===i.type.toLowerCase()?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept),t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0")}processResponse(e,t,i,s,r,o){let a="odata.metadata";if(r&&"GET"===r.type&&!this.rootUrl&&e[a]){let y=e[a].split("/$metadata#");this.rootUrl=y[0],this.resourceTableName=y[1]}if(!f(e.d)){let y=i&&i.isCountRequired?e.d.results:e.d,b="__metadata";if(!f(y))for(let v=0;v<y.length;v++)f(y[v][b])||delete y[v][b]}let h=r&&r.pvtData,c=this.processBatchResponse(e,i,s,r,o);if(c)return c;let d=s&&r.getResponseHeader("DataServiceVersion"),u=null,p=d&&parseInt(d,10)||2;if(i&&i.isCountRequired){let y="__count";(e[y]||e["odata.count"])&&(u=e[y]||e["odata.count"]),e.d&&(e=e.d),(e[y]||e["odata.count"])&&(u=e[y]||e["odata.count"])}3===p&&e.value&&(e=e.value),e.d&&(e=e.d),p<3&&e.results&&(e=e.results);let m={};return m.count=u,m.result=e,this.getAggregateResult(h,e,m,null,i),me.isNull(u)?m.result:{result:m.result,count:m.count,aggregates:m.aggregates}}convertToQueryString(e,t,i){let s=[],r="table",o=e[r]||"";delete e[r],i.dataSource.requiresFormat&&(e.$format="json");let l=Object.keys(e);for(let h of l)s.push(h+"="+e[h]);return s=s.join("&"),i.dataSource.url&&-1!==i.dataSource.url.indexOf("?")&&!o?s:s.length?o+"?"+s:o||""}localTimeReplacer(e,t){for(let i of f(t)?[]:Object.keys(t))t[i]instanceof Date&&(t[i]=me.dateParse.toLocalTime(t[i]));return t}insert(e,t,i){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}}remove(e,t,i,s){let r;return r="string"!=typeof i||me.parse.isGuid(i)?`(${i})`:`('${i}')`,{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:"")+r}}update(e,t,i,s,r,o){let a;return"PATCH"===this.options.updateType&&!f(o)&&(i=this.compareAndRemove(i,o,t)),a="string"!=typeof i[t]||me.parse.isGuid(i[t])?`(${i[t]})`:`('${i[t]}')`,{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:"")+a,data:JSON.stringify(i,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}}batchRequest(e,t,i,s,r){let o=i.guid=me.getGuid(this.options.batchPre),a=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);i.url=this.resourceTableName?this.resourceTableName:i.url;let l={url:i.url,key:i.key,cid:1,cSet:me.getGuid(this.options.changeSet)},h="--"+o+"\n";return h+="Content-Type: multipart/mixed; boundary="+l.cSet.replace("--","")+"\n",this.pvt.changeSet=0,h+=this.generateInsertRequest(t.addedRecords,l,e),h+=this.generateUpdateRequest(t.changedRecords,l,e,r?r.changedRecords:[]),h+=this.generateDeleteRequest(t.deletedRecords,l,e),h+=l.cSet+"--\n",h+="--"+o+"--",{type:"POST",url:a,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+o,data:h}}generateDeleteRequest(e,t,i){if(!e)return"";let s="";return s=this.generateBodyContent(e,t,{method:"DELETE ",url:(o,a,l)=>{let h=me.getObject(l,o[a]);return"number"==typeof h||me.parse.isGuid(h)?"("+h+")":h instanceof Date?"("+o[a][l].toJSON()+")":`('${h}')`},data:(o,a)=>""},i),s+"\n"}generateInsertRequest(e,t,i){if(!e)return"";let s="";return s=this.generateBodyContent(e,t,{method:"POST ",url:(o,a,l)=>"",data:(o,a)=>JSON.stringify(o[a])+"\n\n"},i),s}generateUpdateRequest(e,t,i,s){if(!e)return"";let r="";return e.forEach(a=>a=this.compareAndRemove(a,s.filter(l=>me.getObject(t.key,l)===me.getObject(t.key,a))[0],t.key)),r=this.generateBodyContent(e,t,{method:this.options.updateType+" ",url:(a,l,h)=>"number"==typeof a[l][h]||me.parse.isGuid(a[l][h])?"("+a[l][h]+")":a[l][h]instanceof Date?"("+a[l][h].toJSON()+")":`('${a[l][h]}')`,data:(a,l)=>JSON.stringify(a[l])+"\n\n"},i),r}static getField(e){return e.replace(/\./g,"/")}generateBodyContent(e,t,i,s){let r="";for(let o=0;o<e.length;o++)r+="\n"+t.cSet+"\n",r+=this.options.changeSetContent+"\n\n",r+=i.method,"POST "===i.method?r+=(s.dataSource.insertUrl||s.dataSource.crudUrl||t.url)+i.url(e,o,t.key)+" HTTP/1.1\n":"PUT "===i.method||"PATCH "===i.method?r+=(s.dataSource.updateUrl||s.dataSource.crudUrl||t.url)+i.url(e,o,t.key)+" HTTP/1.1\n":"DELETE "===i.method&&(r+=(s.dataSource.removeUrl||s.dataSource.crudUrl||t.url)+i.url(e,o,t.key)+" HTTP/1.1\n"),r+="Accept: "+this.options.accept+"\n",r+="Content-Id: "+this.pvt.changeSet+++"\n",r+=this.options.batchChangeSetContentType+"\n",f(e[o]["@odata.etag"])?r+="\n":(r+="If-Match: "+e[o]["@odata.etag"]+"\n\n",delete e[o]["@odata.etag"]),r+=i.data(e,o);return r}processBatchResponse(e,t,i,s,r){if(i&&i.getResponseHeader("Content-Type")&&-1!==i.getResponseHeader("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(s&&this.options.batch&&me.endsWith(s.url,this.options.batch)&&"post"===s.type.toLowerCase()){let a,l,o=i.getResponseHeader("Content-Type"),h=e+"";if(o=o.substring(o.indexOf("=batchresponse")+1),h=h.split(o),h.length<2)return{};h=h[1];let c=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(h);c&&h.replace(c[0],""),h=h.split(c?c[1]:"");for(let u=h.length;u>-1;u--)!/\bContent-ID:/i.test(h[u])||!/\bHTTP.+201/.test(h[u])||(a=parseInt(/\bContent-ID: (\d+)/i.exec(h[u])[1],10),r.addedRecords[a]&&(l=me.parse.parseJson(/^\{.+\}/m.exec(h[u])[0]),fe({},r.addedRecords[a],this.processResponse(l))));return r}return null}compareAndRemove(e,t,i){return f(t)||Object.keys(e).forEach(s=>{s!==i&&"@odata.etag"!==s&&(me.isPlainObject(e[s])?(this.compareAndRemove(e[s],t[s]),0===Object.keys(e[s]).filter(o=>"@odata.etag"!==o).length&&delete e[s]):(e[s]===t[s]||e[s]&&t[s]&&e[s].valueOf()===t[s].valueOf())&&delete e[s])}),e}}class Qme extends hR{constructor(){super(),Oi("beforeSend",Iy.prototype.beforeSend,this)}insert(e,t,i,s,r){return this.pvt.position=r,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(fe({},{value:t,table:i,action:"insert"},me.getAddParams(this,e,s)))}}remove(e,t,i,s,r){return super.remove(e,t,i),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(fe({},{key:i,keyColumn:t,table:s,action:"remove"},me.getAddParams(this,e,r)))}}update(e,t,i,s,r){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(fe({},{value:i,action:"update",keyColumn:t,key:i[t],table:s},me.getAddParams(this,e,r)))}}processResponse(e,t,i,s,r,o,a){let l;if(e="batch"===(r?JSON.parse(r.data):e).action?me.parse.parseJson(e):e,"add"===this.updateType&&super.insert(t,e,null,null,this.pvt.position),"update"===this.updateType&&super.update(t,this.updateKey,e),this.updateType=void 0,e.added)for(l=0;l<e.added.length;l++)super.insert(t,e.added[l]);if(e.changed)for(l=0;l<e.changed.length;l++)super.update(t,a.key,e.changed[l]);if(e.deleted)for(l=0;l<e.deleted.length;l++)super.remove(t,a.key,e.deleted[l]);return e}batchRequest(e,t,i,s,r){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(fe({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:i.url,key:i.key},me.getAddParams(this,e,s)))}}addParams(e){(new Iy).addParams(e)}}class Jme extends Iy{constructor(e){super(),this.options=fe({},this.options,{getData:new Function,addRecord:new Function,updateRecord:new Function,deleteRecord:new Function,batchUpdate:new Function}),fe(this.options,e||{})}getModuleName(){return"CustomDataAdaptor"}}class ege extends Iy{constructor(e,t,i){super(),this.isCrudAction=!1,this.isInsertAction=!1,f(e)||(this.cacheAdaptor=e),this.pageSize=i,this.guidId=me.getGuid("cacheAdaptor"),window.localStorage.setItem(this.guidId,JSON.stringify({keys:[],results:[]}));let r=this.guidId;f(t)||setInterval(()=>{let o;o=me.parse.parseJson(window.localStorage.getItem(r));let a=[];for(let l=0;l<o.results.length;l++){let h=+new Date,c=+new Date(o.results[l].timeStamp);o.results[l].timeStamp=h-c,h-c>t&&a.push(l)}for(let l=0;l<a.length;l++)o.results.splice(a[l],1),o.keys.splice(a[l],1);window.localStorage.removeItem(r),window.localStorage.setItem(r,JSON.stringify(o))},t)}generateKey(e,t){let i=this.getQueryRequest(t),s=Ri.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),r=e,o="onPage";o in s&&(r+=s[o].pageIndex),i.sorts.forEach(a=>{r+=a.e.direction+a.e.fieldName}),i.groups.forEach(a=>{r+=a.e.fieldName}),i.searches.forEach(a=>{r+=a.e.searchKey});for(let a=0;a<i.filters.length;a++){let l=i.filters[a];if(l.e.isComplex){let h=t.clone();h.queries=[];for(let c=0;c<l.e.predicates.length;c++)h.queries.push({fn:"onWhere",e:l.e.predicates[c],filter:t.queries.filter});r+=l.e.condition+this.generateKey(e,h)}else r+=l.e.field+l.e.operator+l.e.value}return r}processQuery(e,t,i){let r,s=this.generateKey(e.dataSource.url,t);r=me.parse.parseJson(window.localStorage.getItem(this.guidId));let o=r?r.results[r.keys.indexOf(s)]:null;return null==o||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):o}processResponse(e,t,i,s,r,o){if(this.isInsertAction||r&&this.cacheAdaptor.options.batch&&me.endsWith(r.url,this.cacheAdaptor.options.batch)&&"post"===r.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,i,s,r,o);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));let a=i?this.generateKey(t.dataSource.url,i):t.dataSource.url,l={};l=me.parse.parseJson(window.localStorage.getItem(this.guidId));let h=l.keys.indexOf(a);for(-1!==h&&(l.results.splice(h,1),l.keys.splice(h,1)),l.results[l.keys.push(a)-1]={keys:a,result:e.result,timeStamp:new Date,count:e.count};l.results.length>this.pageSize;)l.results.splice(0,1),l.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(l)),e}beforeSend(e,t,i){!f(this.cacheAdaptor.options.batch)&&me.endsWith(i.url,this.cacheAdaptor.options.batch)&&"post"===i.type.toLowerCase()&&t.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.setRequestHeader("Accept",this.cacheAdaptor.options.accept)}update(e,t,i,s){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,i,s)}insert(e,t,i){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,i)}remove(e,t,i,s){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,i,s)}batchRequest(e,t,i){return this.cacheAdaptor.batchRequest(e,t,i)}}class Ot{constructor(e,t,i){let s;return this.dateParse=!0,this.timeZoneHandling=!0,this.requests=[],!e&&!this.dataSource&&(e=[]),i=i||e.adaptor,e&&!1===e.timeZoneHandling&&(this.timeZoneHandling=e.timeZoneHandling),e instanceof Array?s={json:e,offline:!0}:"object"==typeof e?(e.json||(e.json=[]),s={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof Qme||e.adaptor instanceof Jme||e.url),requiresFormat:e.requiresFormat}):me.throwError("DataManager: Invalid arguments"),void 0===s.requiresFormat&&!me.isCors()&&(s.requiresFormat=!!f(s.crossDomain)||s.crossDomain),void 0===s.dataType&&(s.dataType="json"),this.dataSource=s,this.defaultQuery=t,s.url&&s.offline&&!s.json.length?(this.isDataAvailable=!1,this.adaptor=i||new nu,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new Ri),this.ready.then(r=>{this.dataSource.offline=!0,this.isDataAvailable=!0,s.json=r.result,this.adaptor=new hR})):this.adaptor=s.offline?new hR:new nu,!s.jsonp&&this.adaptor instanceof nu&&(s.jsonp="callback"),this.adaptor=i||this.adaptor,s.enableCaching&&(this.adaptor=new ege(this.adaptor,s.timeTillExpiration,s.cachingPageSize)),this}setDefaultQuery(e){return this.defaultQuery=e,this}executeLocal(e){!this.defaultQuery&&!(e instanceof Ri)&&me.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||me.throwError("DataManager - executeLocal() : Json data is required to execute");let t=this.adaptor.processQuery(this,e=e||this.defaultQuery);if(e.subQuery){let i=e.subQuery.fromTable,s=e.subQuery.lookups,r=e.isCountRequired?t.result:t;s&&s instanceof Array&&me.buildHierarchy(e.subQuery.fKey,i,r,s,e.subQuery.key);for(let o=0;o<r.length;o++)r[o][i]instanceof Array&&(r[o]=fe({},{},r[o]),r[o][i]=this.adaptor.processResponse(e.subQuery.using(new Ot(r[o][i].slice(0))).executeLocal(),this,e))}return this.adaptor.processResponse(t,this,e)}executeQuery(e,t,i,s){let r="makeRequest";"function"==typeof e&&(s=i,i=t,t=e,e=null),e||(e=this.defaultQuery),e instanceof Ri||me.throwError("DataManager - executeQuery() : A query is required to execute");let o=new eC,a={query:e};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!f(this.adaptor[r])||this.isCustomDataAdaptor(this.adaptor)){let l=this.adaptor.processQuery(this,e);f(this.adaptor[r])?!f(l.url)||this.isCustomDataAdaptor(this.adaptor)?this.makeRequest(l,o,a,e):(a=Ot.getDeferedArgs(e,l,a),o.resolve(a)):this.adaptor[r](l,o,a,e)}else Ot.nextTick(()=>{let l=this.executeLocal(e);a=Ot.getDeferedArgs(e,l,a),o.resolve(a)});return(t||i)&&o.promise.then(t,i),s&&o.promise.then(s,s),o.promise}static getDeferedArgs(e,t,i){return e.isCountRequired?(i.result=t.result,i.count=t.count,i.aggregates=t.aggregates):i.result=t,i}static nextTick(e){(window.setImmediate||window.setTimeout)(e,0)}extendRequest(e,t,i){return fe({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:i},e)}makeRequest(e,t,i,s){let r=!!s.subQuerySelector,o=d=>{i.error=d,t.reject(i)},a=(d,u,p,m,y,b,v)=>{i.xhr=p,i.count=u?parseInt(u.toString(),10):0,i.result=d,i.request=m,i.aggregates=b,i.actual=y,i.virtualSelectRecords=v,t.resolve(i)},l=(d,u)=>{let p=new eC,m={parent:i};s.subQuery.isChild=!0;let y=this.adaptor.processQuery(this,s.subQuery,d?this.adaptor.processResponse(d):u),b=this.makeRequest(y,p,m,s.subQuery);return r||p.then(v=>{d&&(me.buildHierarchy(s.subQuery.fKey,s.subQuery.fromTable,d,v,s.subQuery.key),a(d,v.count,v.xhr))},o),b},c=this.extendRequest(e,(d,u)=>{if(this.isGraphQLAdaptor(this.adaptor)&&!f(d.errors))return o(d.errors);this.isCustomDataAdaptor(this.adaptor)&&(u=fe({},this.ajaxReqOption,u)),-1===u.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&this.dateParse&&(d=me.parse.parseJson(d));let p=this.adaptor.processResponse(d,this,s,u.httpRequest,u),m=0,y=null,v=d.virtualSelectRecords;s.isCountRequired&&(m=p.count,y=p.aggregates,p=p.result),s.subQuery?r||l(p,u):a(p,m,u.httpRequest,u.type,d,y,v)},o);if(this.isCustomDataAdaptor(this.adaptor))this.ajaxReqOption=c,this.adaptor.options.getData({data:c.data,onSuccess:c.onSuccess,onFailure:c.onFailure});else{let d=new pp(c);d.beforeSend=()=>{this.beforeSend(d.httpRequest,d)},c=d.send(),c.catch(u=>!0),this.requests.push(d)}if(r){let d,u=s.subQuerySelector.call(this,{query:s.subQuery,parent:s});u&&u.length?(d=Promise.all([c,l(null,u)]),d.then((...p)=>{let m=p[0],y=this.adaptor.processResponse(m[0],this,s,this.requests[0].httpRequest,this.requests[0]),b=0;s.isCountRequired&&(b=y.count,y=y.result);let v=this.adaptor.processResponse(m[1],this,s.subQuery,this.requests[1].httpRequest,this.requests[1]);b=0,s.subQuery.isCountRequired&&(b=v.count,v=v.result),me.buildHierarchy(s.subQuery.fKey,s.subQuery.fromTable,y,v,s.subQuery.key),r=!1,a(y,b,this.requests[0].httpRequest)})):r=!1}return c}beforeSend(e,t){this.adaptor.beforeSend(this,e,t);let s,i=this.dataSource.headers;for(let r=0;i&&r<i.length;r++){s=[];let o=Object.keys(i[r]);for(let a of o)s.push(a),e.setRequestHeader(a,i[r][a])}}saveChanges(e,t,i,s,r){i instanceof Ri&&(s=i,i=null);let o={url:i,key:t||this.dataSource.key},a=this.adaptor.batchRequest(this,e,o,s||new Ri,r),l="doAjaxRequest";if(this.dataSource.offline)return a;if(f(this.adaptor[l])){if(this.isCustomDataAdaptor(this.adaptor))return this.doAjaxRequest(a,this.adaptor.options.batchUpdate);{let h=new eC,c=new pp(a);return c.beforeSend=()=>{this.beforeSend(c.httpRequest,c)},c.onSuccess=(d,u)=>{this.isGraphQLAdaptor(this.adaptor)&&(f(d.errors)||c.onFailure(JSON.stringify(d.errors))),h.resolve(this.adaptor.processResponse(d,this,null,u.httpRequest,u,e,o))},c.onFailure=d=>{h.reject([{error:d}])},c.send().catch(d=>!0),h.promise}}return this.adaptor[l](a)}insert(e,t,i,s){t instanceof Ri&&(i=t,t=null);let r=this.adaptor.insert(this,e,t,i,s),o="doAjaxRequest";return this.dataSource.offline?r:f(this.adaptor[o])?this.doAjaxRequest(r,this.adaptor.options.addRecord):this.adaptor[o](r)}remove(e,t,i,s){"object"==typeof t&&(t=me.getObject(e,t)),i instanceof Ri&&(s=i,i=null);let r=this.adaptor.remove(this,e,t,i,s),o="doAjaxRequest";return this.dataSource.offline?r:f(this.adaptor[o])?this.doAjaxRequest(r,this.adaptor.options.deleteRecord):this.adaptor[o](r)}update(e,t,i,s,r){i instanceof Ri&&(s=i,i=null);let o=this.adaptor.update(this,e,t,i,s,r),a="doAjaxRequest";return this.dataSource.offline?o:f(this.adaptor[a])?this.doAjaxRequest(o,this.adaptor.options.updateRecord):this.adaptor[a](o)}isCustomDataAdaptor(e){return this.adaptor.getModuleName&&"CustomDataAdaptor"===this.adaptor.getModuleName()}isGraphQLAdaptor(e){return this.adaptor.getModuleName&&"GraphQLAdaptor"===this.adaptor.getModuleName()}successFunc(e,t){if(this.isGraphQLAdaptor(this.adaptor)){let i=JSON.parse(e);f(i.errors)||this.failureFunc(JSON.stringify(i.errors))}this.isCustomDataAdaptor(this.adaptor)&&(t=fe({},this.ajaxReqOption,t));try{me.parse.parseJson(e)}catch(i){e=[]}e=this.adaptor.processResponse(me.parse.parseJson(e),this,null,t.httpRequest,t),this.ajaxDeffered.resolve(e)}failureFunc(e){this.ajaxDeffered.reject([{error:e}])}doAjaxRequest(e,t){if(e=fe({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e),this.ajaxDeffered=new eC,this.isCustomDataAdaptor(this.adaptor))this.ajaxReqOption=e,t.call(this,{data:e.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this)});else{let i=new pp(e);i.beforeSend=()=>{this.beforeSend(i.httpRequest,i)},i.onSuccess=this.successFunc.bind(this),i.onFailure=this.failureFunc.bind(this),i.send().catch(s=>!0)}return this.ajaxDeffered.promise}}class eC{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}class Zx{constructor(){}static save(e,t){if(null==e||""===e)throw new Error("ArgumentException: fileName cannot be undefined, null or empty");let i=e.substring(e.lastIndexOf(".")+1,e.length),s=this.getMimeType(i);if(""!==s&&(t=new Blob([t],{type:s})),this.isMicrosoftBrowser)navigator.msSaveBlob(t,e);else{let r=document.createElementNS("http://www.w3.org/1999/xhtml","a");this.saveInternal(e,i,t,r,"download"in r)}}static saveInternal(e,t,i,s,r){if(r){s.download=e;let o=window.URL.createObjectURL(i);s.href=o;let a=document.createEvent("MouseEvent");a.initEvent("click",!0,!0),s.dispatchEvent(a),setTimeout(()=>{window.URL.revokeObjectURL(o),o=void 0})}else if("docx"!==t&&"xlsx"!==t){let o=window.URL.createObjectURL(i);window.open(o,"_blank")||(window.location.href=o)}else{let o=new FileReader;o.onloadend=()=>{window.open(o.result,"_blank")||(window.location.href=o.result)},o.readAsDataURL(i)}}static getMimeType(e){let t="";switch(e){case"html":t="text/html";break;case"pdf":t="application/pdf";break;case"docx":t="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case"xlsx":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case"txt":t="text/plain"}return t}}class tC{constructor(e){this.emitBOM=!0,this.encodingType="Ansi",this.initBOM(e)}get includeBom(){return this.emitBOM}get type(){return this.encodingType}set type(e){this.encodingType=e}initBOM(e){this.emitBOM=null==e||e}getByteCount(e){return ru(e,"string"),""===e?this.utf8Len(e.charCodeAt(0)):(null==this.type&&(this.type="Ansi"),this.getByteCountInternal(e,0,e.length))}utf8Len(e){return e<=127?1:e<=2047?2:e<=65535?3:e<=2097151?4:0}isHighSurrogate(e){return e>=55296&&e<=56319}toCodepoint(e,t){return 65536+((e=(1023&e)<<10)|1023&t)}getByteCountInternal(e,t,i){let s=0;if("Utf8"===this.encodingType||"Unicode"===this.encodingType){let r="Utf8"===this.encodingType;for(let o=0;o<i;o++){let a=e.charCodeAt(r?t:t++);if(this.isHighSurrogate(a))if(r){let l=a,h=e.charCodeAt(++t);s+=this.utf8Len(this.toCodepoint(l,h))}else s+=4,++o;else s+=r?this.utf8Len(a):2;r&&t++}return s}return s=i,s}getBytes(e,t,i){if(ru(e,"string"),ru(t,"charIndex"),ru(i,"charCount"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: charIndex or charCount is less than zero");if(e.length-t<i)throw new RangeError("Argument Out Of Range Exception: charIndex and charCount do not denote a valid range in string");let s;if(""===e)return s=new ArrayBuffer(0),s;null==this.type&&(this.type="Ansi");let r=this.getByteCountInternal(e,t,i);switch(this.type){case"Utf8":return s=this.getBytesOfUtf8Encoding(r,e,t,i),s;case"Unicode":return s=this.getBytesOfUnicodeEncoding(r,e,t,i),s;default:return s=this.getBytesOfAnsiEncoding(r,e,t,i),s}}getString(e,t,i){if(ru(e,"bytes"),ru(t,"index"),ru(i,"count"),t<0||i<0)throw new RangeError("Argument Out Of Range Exception: index or count is less than zero");if(e.byteLength-t<i)throw new RangeError("Argument Out Of Range Exception: index and count do not denote a valid range in bytes");if(0===e.byteLength||0===i)return"";null==this.type&&(this.type="Ansi");let s="",r=new Uint8Array(e);switch(this.type){case"Utf8":return this.getStringOfUtf8Encoding(r,t,i);case"Unicode":let a=new Uint16Array(e);return s=this.getStringofUnicodeEncoding(a,t,i),s;default:let l=t;for(let h=0;h<i;h++)s+=String.fromCharCode(r[l]),l++;return s}}getBytesOfAnsiEncoding(e,t,i,s){let r=new ArrayBuffer(e),o=new Uint8Array(r),a=0;for(let l=0;l<s;l++){let h=t.charCodeAt(i++);o[a]=h<2048?h:63,a++}return r}getBytesOfUtf8Encoding(e,t,i,s){let r=new ArrayBuffer(e),o=new Uint8Array(r),a=i,l=0;for(let h=0;h<s;h++){let c=t.charCodeAt(a);c<=127?o[l]=c:c<2048?(o[l]=192|c>>6,o[++l]=128|63&c):c<55296||c>=57344?(o[l]=224|c>>12,o[++l]=128|c>>6&63,o[++l]=128|63&c):(o[l]=239,o[++l]=191,o[++l]=189),++l,++a}return r}getBytesOfUnicodeEncoding(e,t,i,s){let r=new ArrayBuffer(e),o=new Uint16Array(r);for(let a=0;a<s;a++){let l=t.charCodeAt(a);o[a]=l}return r}getStringOfUtf8Encoding(e,t,i){let s=0,r=t,o="";for(;s<i;s++){let a=e[r++];for(;r>e.length;)return o;a>127&&(a>191&&a<224&&r<i?a=(31&a)<<6|63&e[r]:a>223&&a<240&&r<e.byteLength?a=(15&a)<<12|(63&e[r])<<6|63&e[++r]:a>239&&a<248&&r<e.byteLength&&(a=(7&a)<<18|(63&e[r])<<12|(63&e[++r])<<6|63&e[++r]),++r),o+=String.fromCharCode(a)}return o}getStringofUnicodeEncoding(e,t,i){if(i>e.length)throw new RangeError("ArgumentOutOfRange_Count");let s=new Uint16Array(i),r="";for(let o=0;o<i&&o<e.length;o++)s[o]=e[t++];return r=String.fromCharCode.apply(null,s),r}destroy(){this.emitBOM=void 0,this.encodingType=void 0}}function ru(n,e){if(null==n)throw new Error("ArgumentException: "+e+" cannot be null or undefined")}class rj{get buffer(){return this.flush(),this.bufferBlob}get encoding(){return this.enc}constructor(e){this.bufferBlob=new Blob([""]),this.bufferText="",this.init(e),Zx.isMicrosoftBrowser=!!navigator.msSaveBlob}init(e){null==e?(this.enc=new tC(!1),this.enc.type="Utf8"):(this.enc=e,this.setBomByte())}setBomByte(){if(this.encoding.includeBom)switch(this.encoding.type){case"Unicode":let e=new ArrayBuffer(2),t=new Uint8Array(e);t[0]=255,t[1]=254,this.bufferBlob=new Blob([e]);break;case"Utf8":let i=new ArrayBuffer(3),s=new Uint8Array(i);s[0]=239,s[1]=187,s[2]=191,this.bufferBlob=new Blob([i]);break;default:this.bufferBlob=new Blob([""])}}save(e){""!==this.bufferText&&this.flush(),Zx.save(e,this.buffer)}write(e){if(void 0===this.encoding)throw new Error("Object Disposed Exception: current writer is disposed");ru(e,"string"),this.bufferText+=e,this.bufferText.length>=10240&&this.flush()}flush(){if(null==this.bufferText||0===this.bufferText.length)return;let e=this.encoding.getBytes(this.bufferText,0,this.bufferText.length);this.bufferText="",this.bufferBlob=new Blob([this.bufferBlob,e])}writeLine(e){if(void 0===this.encoding)throw new Error("Object Disposed Exception: current writer is disposed");ru(e,"string"),this.bufferText=this.bufferText+e+"\r\n",this.bufferText.length>=10240&&this.flush()}destroy(){this.bufferBlob=void 0,this.bufferText=void 0,this.enc instanceof tC&&this.enc.destroy(),this.enc=void 0}}const iC=new Int16Array(286),Py=new Uint8Array(286),oj=new Int16Array(30),cR=new Uint8Array(30);let aj=(()=>{class n{constructor(t){this.pendingBuffer=new Uint8Array(65536),this.pendingBufLength=0,this.pendingBufCache=0,this.pendingBufBitsInCache=0,this.bufferPosition=0,this.extraBits=0,this.currentHash=0,this.matchStart=0,this.matchLength=0,this.matchPrevAvail=!1,this.blockStart=0,this.stringStart=0,this.lookAhead=0,this.totalBytesIn=0,this.inputOffset=0,this.inputEnd=0,this.windowSize=32768,this.windowMask=this.windowSize-1,this.hashSize=32768,this.hashMask=this.hashSize-1,this.hashShift=Math.floor(17/3),this.maxDist=this.windowSize-262,this.checkSum=1,this.noWrap=!1,n.isHuffmanTreeInitiated||(n.initHuffmanTree(),n.isHuffmanTreeInitiated=!0),this.treeLiteral=new id(this,286,257,15),this.treeDistances=new id(this,30,1,15),this.treeCodeLengths=new id(this,19,4,7),this.arrDistances=new Uint16Array(16384),this.arrLiterals=new Uint8Array(16384),this.stream=[],this.dataWindow=new Uint8Array(2*this.windowSize),this.hashHead=new Int16Array(this.hashSize),this.hashPrevious=new Int16Array(this.windowSize),this.blockStart=this.stringStart=1,this.noWrap=t,t||this.writeZLibHeader()}get compressedData(){return this.stream}get getCompressedString(){let t="";if(void 0!==this.stream)for(let i=0;i<this.stream.length;i++)t+=String.fromCharCode.apply(null,this.stream[i]);return t}write(t,i,s){if(null==t)throw new Error("ArgumentException: data cannot null or undefined");let r=i+s;if(0>i||i>r||r>t.length)throw new Error("ArgumentOutOfRangeException: Offset or length is incorrect");if("string"==typeof t){let o=new tC(!1);o.type="Utf8",r=i+(t=new Uint8Array(o.getBytes(t,0,t.length))).length}for(this.inputBuffer=t,this.inputOffset=i,this.inputEnd=r,this.noWrap||(this.checkSum=ige.checksumUpdate(this.checkSum,this.inputBuffer,this.inputOffset,r));this.inputEnd!==this.inputOffset||0!==this.pendingBufLength;)this.pendingBufferFlush(),this.compressData(!1)}writeZLibHeader(){let t=30720;t|=64,t+=31-t%31,this.pendingBufferWriteShortBytes(t)}pendingBufferWriteShortBytes(t){this.pendingBuffer[this.pendingBufLength++]=t>>8,this.pendingBuffer[this.pendingBufLength++]=t}compressData(t){let i;do{this.fillWindow(),i=this.compressSlow(t&&this.inputEnd===this.inputOffset,t)}while(0===this.pendingBufLength&&i);return i}compressSlow(t,i){if(this.lookAhead<262&&!t)return!1;for(;this.lookAhead>=262||t;){if(0===this.lookAhead)return this.lookAheadCompleted(i);this.stringStart>=2*this.windowSize-262&&this.slideWindow();let s=this.matchStart,r=this.matchLength;if(this.lookAhead>=3&&this.discardMatch(),r>=3&&this.matchLength<=r?r=this.matchPreviousBest(s,r):this.matchPreviousAvailable(),this.bufferPosition>=16384)return this.huffmanIsFull(i)}return!0}discardMatch(){let t=this.insertString();0!==t&&this.stringStart-t<=this.maxDist&&this.findLongestMatch(t)&&this.matchLength<=5&&3===this.matchLength&&this.stringStart-this.matchStart>4096&&(this.matchLength=2)}matchPreviousAvailable(){this.matchPrevAvail&&this.huffmanTallyLit(255&this.dataWindow[this.stringStart-1]),this.matchPrevAvail=!0,this.stringStart++,this.lookAhead--}matchPreviousBest(t,i){this.huffmanTallyDist(this.stringStart-1-t,i),i-=2;do{this.stringStart++,this.lookAhead--,this.lookAhead>=3&&this.insertString()}while(--i>0);return this.stringStart++,this.lookAhead--,this.matchPrevAvail=!1,this.matchLength=2,i}lookAheadCompleted(t){return this.matchPrevAvail&&this.huffmanTallyLit(255&this.dataWindow[this.stringStart-1]),this.matchPrevAvail=!1,this.huffmanFlushBlock(this.dataWindow,this.blockStart,this.stringStart-this.blockStart,t),this.blockStart=this.stringStart,!1}huffmanIsFull(t){let i=this.stringStart-this.blockStart;this.matchPrevAvail&&i--;let s=t&&0===this.lookAhead&&!this.matchPrevAvail;return this.huffmanFlushBlock(this.dataWindow,this.blockStart,i,s),this.blockStart+=i,!s}fillWindow(){for(this.stringStart>=this.windowSize+this.maxDist&&this.slideWindow();this.lookAhead<262&&this.inputOffset<this.inputEnd;){let t=2*this.windowSize-this.lookAhead-this.stringStart;t>this.inputEnd-this.inputOffset&&(t=this.inputEnd-this.inputOffset),this.dataWindow.set(this.inputBuffer.subarray(this.inputOffset,this.inputOffset+t),this.stringStart+this.lookAhead),this.inputOffset+=t,this.totalBytesIn+=t,this.lookAhead+=t}this.lookAhead>=3&&this.updateHash()}slideWindow(){this.dataWindow.set(this.dataWindow.subarray(this.windowSize,this.windowSize+this.windowSize),0),this.matchStart-=this.windowSize,this.stringStart-=this.windowSize,this.blockStart-=this.windowSize;for(let t=0;t<this.hashSize;++t){let i=65535&this.hashHead[t];this.hashHead[t]=i>=this.windowSize?i-this.windowSize:0}for(let t=0;t<this.windowSize;t++){let i=65535&this.hashPrevious[t];this.hashPrevious[t]=i>=this.windowSize?i-this.windowSize:0}}insertString(){let t,i=(this.currentHash<<this.hashShift^this.dataWindow[this.stringStart+2])&this.hashMask;return this.hashPrevious[this.stringStart&this.windowMask]=t=this.hashHead[i],this.hashHead[i]=this.stringStart,this.currentHash=i,65535&t}findLongestMatch(t){let o,i=4096,s=258,r=this.stringStart,a=this.stringStart+this.matchLength,l=Math.max(this.matchLength,2),h=Math.max(this.stringStart-this.maxDist,0),c=this.stringStart+258-1,d=this.dataWindow[a-1],u=this.dataWindow[a],p=this.dataWindow;l>=32&&(i>>=2),s>this.lookAhead&&(s=this.lookAhead);do{if(p[t+l]===u&&p[t+l-1]===d&&p[t]===p[r]&&p[t+1]===p[r+1]){for(o=t+2,r+=2;p[++r]===p[++o]&&p[++r]===p[++o]&&p[++r]===p[++o]&&p[++r]===p[++o]&&p[++r]===p[++o]&&p[++r]===p[++o]&&p[++r]===p[++o]&&p[++r]===p[++o]&&r<c;);if(r>a){if(this.matchStart=t,a=r,l=r-this.stringStart,l>=s)break;d=p[a-1],u=p[a]}r=this.stringStart}}while((t=65535&this.hashPrevious[t&this.windowMask])>h&&0!=--i);return this.matchLength=Math.min(l,this.lookAhead),this.matchLength>=3}updateHash(){this.currentHash=this.dataWindow[this.stringStart]<<this.hashShift^this.dataWindow[this.stringStart+1]}huffmanTallyLit(t){return this.arrDistances[this.bufferPosition]=0,this.arrLiterals[this.bufferPosition++]=t,this.treeLiteral.codeFrequencies[t]++,this.bufferPosition>=16384}huffmanTallyDist(t,i){this.arrDistances[this.bufferPosition]=t,this.arrLiterals[this.bufferPosition++]=i-3;let s=this.huffmanLengthCode(i-3);this.treeLiteral.codeFrequencies[s]++,s>=265&&s<285&&(this.extraBits+=Math.floor((s-261)/4));let r=this.huffmanDistanceCode(t-1);return this.treeDistances.codeFrequencies[r]++,r>=4&&(this.extraBits+=Math.floor(r/2-1)),this.bufferPosition>=16384}huffmanFlushBlock(t,i,s,r){this.treeLiteral.codeFrequencies[256]++,this.treeLiteral.buildTree(),this.treeDistances.buildTree(),this.treeLiteral.calculateBLFreq(this.treeCodeLengths),this.treeDistances.calculateBLFreq(this.treeCodeLengths),this.treeCodeLengths.buildTree();let o=4;for(let h=18;h>o;h--)this.treeCodeLengths.codeLengths[id.huffCodeLengthOrders[h]]>0&&(o=h+1);let a=14+3*o+this.treeCodeLengths.getEncodedLength()+this.treeLiteral.getEncodedLength()+this.treeDistances.getEncodedLength()+this.extraBits,l=this.extraBits;for(let h=0;h<286;h++)l+=this.treeLiteral.codeFrequencies[h]*Py[h];for(let h=0;h<30;h++)l+=this.treeDistances.codeFrequencies[h]*cR[h];a>=l&&(a=l),i>=0&&s+4<a>>3?this.huffmanFlushStoredBlock(t,i,s,r):a==l?(this.pendingBufferWriteBits(2+(r?1:0),3),this.treeLiteral.setStaticCodes(iC,Py),this.treeDistances.setStaticCodes(oj,cR),this.huffmanCompressBlock(),this.huffmanReset()):(this.pendingBufferWriteBits(4+(r?1:0),3),this.huffmanSendAllTrees(o),this.huffmanCompressBlock(),this.huffmanReset())}huffmanFlushStoredBlock(t,i,s,r){this.pendingBufferWriteBits(0+(r?1:0),3),this.pendingBufferAlignToByte(),this.pendingBufferWriteShort(s),this.pendingBufferWriteShort(~s),this.pendingBufferWriteByteBlock(t,i,s),this.huffmanReset()}huffmanLengthCode(t){if(255===t)return 285;let i=257;for(;t>=8;)i+=4,t>>=1;return i+t}huffmanDistanceCode(t){let i=0;for(;t>=4;)i+=2,t>>=1;return i+t}huffmanSendAllTrees(t){this.treeCodeLengths.buildCodes(),this.treeLiteral.buildCodes(),this.treeDistances.buildCodes(),this.pendingBufferWriteBits(this.treeLiteral.treeLength-257,5),this.pendingBufferWriteBits(this.treeDistances.treeLength-1,5),this.pendingBufferWriteBits(t-4,4);for(let i=0;i<t;i++)this.pendingBufferWriteBits(this.treeCodeLengths.codeLengths[id.huffCodeLengthOrders[i]],3);this.treeLiteral.writeTree(this.treeCodeLengths),this.treeDistances.writeTree(this.treeCodeLengths)}huffmanReset(){this.bufferPosition=0,this.extraBits=0,this.treeLiteral.reset(),this.treeDistances.reset(),this.treeCodeLengths.reset()}huffmanCompressBlock(){for(let t=0;t<this.bufferPosition;t++){let i=255&this.arrLiterals[t],s=this.arrDistances[t];if(0!=s--){let r=this.huffmanLengthCode(i);this.treeLiteral.writeCodeToStream(r);let o=Math.floor((r-261)/4);o>0&&o<=5&&this.pendingBufferWriteBits(i&(1<<o)-1,o);let a=this.huffmanDistanceCode(s);this.treeDistances.writeCodeToStream(a),o=Math.floor(a/2-1),o>0&&this.pendingBufferWriteBits(s&(1<<o)-1,o)}else this.treeLiteral.writeCodeToStream(i)}this.treeLiteral.writeCodeToStream(256)}pendingBufferWriteBits(t,i){let s=new Uint32Array(1);s[0]=this.pendingBufCache|t<<this.pendingBufBitsInCache,this.pendingBufCache=s[0],this.pendingBufBitsInCache+=i,this.pendingBufferFlushBits()}pendingBufferFlush(t){if(this.pendingBufferFlushBits(),this.pendingBufLength>0){let i=new Uint8Array(this.pendingBufLength);i.set(this.pendingBuffer.subarray(0,this.pendingBufLength),0),this.stream.push(i)}this.pendingBufLength=0}pendingBufferFlushBits(){let t=0;for(;this.pendingBufBitsInCache>=8&&this.pendingBufLength<65536;)this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache,this.pendingBufCache>>=8,this.pendingBufBitsInCache-=8,t++;return t}pendingBufferWriteByteBlock(t,i,s){let r=t.subarray(i,i+s);this.pendingBuffer.set(r,this.pendingBufLength),this.pendingBufLength+=s}pendingBufferWriteShort(t){this.pendingBuffer[this.pendingBufLength++]=t,this.pendingBuffer[this.pendingBufLength++]=t>>8}pendingBufferAlignToByte(){this.pendingBufBitsInCache>0&&(this.pendingBuffer[this.pendingBufLength++]=this.pendingBufCache),this.pendingBufCache=0,this.pendingBufBitsInCache=0}static initHuffmanTree(){let t=0;for(;t<144;)iC[t]=id.bitReverse(48+t<<8),Py[t++]=8;for(;t<256;)iC[t]=id.bitReverse(256+t<<7),Py[t++]=9;for(;t<280;)iC[t]=id.bitReverse(-256+t<<9),Py[t++]=7;for(;t<286;)iC[t]=id.bitReverse(-88+t<<8),Py[t++]=8;for(t=0;t<30;t++)oj[t]=id.bitReverse(t<<11),cR[t]=5}close(){do{this.pendingBufferFlush(!0),this.compressData(!0)||(this.pendingBufferFlush(!0),this.pendingBufferAlignToByte(),this.noWrap||(this.pendingBufferWriteShortBytes(this.checkSum>>16),this.pendingBufferWriteShortBytes(65535&this.checkSum)),this.pendingBufferFlush(!0))}while(this.inputEnd!==this.inputOffset||0!==this.pendingBufLength)}destroy(){this.stream=[],this.stream=void 0,this.pendingBuffer=void 0,this.treeLiteral=void 0,this.treeDistances=void 0,this.treeCodeLengths=void 0,this.arrLiterals=void 0,this.arrDistances=void 0,this.hashHead=void 0,this.hashPrevious=void 0,this.dataWindow=void 0,this.inputBuffer=void 0,this.pendingBufLength=void 0,this.pendingBufCache=void 0,this.pendingBufBitsInCache=void 0,this.bufferPosition=void 0,this.extraBits=void 0,this.currentHash=void 0,this.matchStart=void 0,this.matchLength=void 0,this.matchPrevAvail=void 0,this.blockStart=void 0,this.stringStart=void 0,this.lookAhead=void 0,this.totalBytesIn=void 0,this.inputOffset=void 0,this.inputEnd=void 0,this.windowSize=void 0,this.windowMask=void 0,this.hashSize=void 0,this.hashMask=void 0,this.hashShift=void 0,this.maxDist=void 0,this.checkSum=void 0,this.noWrap=void 0}}return n.isHuffmanTreeInitiated=!1,n})(),id=(()=>{class n{constructor(t,i,s,r){this.writer=t,this.codeMinCount=s,this.maxLength=r,this.codeFrequency=new Uint16Array(i),this.lengthCount=new Int32Array(r)}get treeLength(){return this.codeCount}get codeLengths(){return this.codeLength}get codeFrequencies(){return this.codeFrequency}setStaticCodes(t,i){let s=new Int16Array(t.length);s.set(t,0),this.codes=s;let r=new Uint8Array(i.length);r.set(i,0),this.codeLength=r}reset(){for(let t=0;t<this.codeFrequency.length;t++)this.codeFrequency[t]=0;this.codes=void 0,this.codeLength=void 0}writeCodeToStream(t){this.writer.pendingBufferWriteBits(65535&this.codes[t],this.codeLength[t])}buildCodes(){let t=new Int32Array(this.maxLength);this.codes=new Int16Array(this.codeCount);let i=0;for(let s=0;s<this.maxLength;s++)t[s]=i,i+=this.lengthCount[s]<<15-s;for(let s=0;s<this.codeCount;s++){let r=this.codeLength[s];r>0&&(this.codes[s]=n.bitReverse(t[r-1]),t[r-1]+=1<<16-r)}}static bitReverse(t){return n.reverseBits[15&t]<<12|n.reverseBits[t>>4&15]<<8|n.reverseBits[t>>8&15]<<4|n.reverseBits[t>>12]}getEncodedLength(){let t=0;for(let i=0;i<this.codeFrequency.length;i++)t+=this.codeFrequency[i]*this.codeLength[i];return t}calculateBLFreq(t){let i,s,r,o=-1,a=0;for(;a<this.codeCount;){r=1;let l=this.codeLength[a];for(0===l?(i=138,s=3):(i=6,s=3,o!==l&&(t.codeFrequency[l]++,r=0)),o=l,a++;a<this.codeCount&&o===this.codeLength[a]&&(a++,!(++r>=i)););r<s?t.codeFrequency[o]+=r:0!==o?t.codeFrequency[16]++:r<=10?t.codeFrequency[17]++:t.codeFrequency[18]++}}writeTree(t){let i,s,r,o=-1,a=0;for(;a<this.codeCount;){r=1;let l=this.codeLength[a];for(0===l?(i=138,s=3):(i=6,s=3,o!==l&&(t.writeCodeToStream(l),r=0)),o=l,a++;a<this.codeCount&&o===this.codeLength[a]&&(a++,!(++r>=i)););if(r<s)for(;r-- >0;)t.writeCodeToStream(o);else 0!==o?(t.writeCodeToStream(16),this.writer.pendingBufferWriteBits(r-3,2)):r<=10?(t.writeCodeToStream(17),this.writer.pendingBufferWriteBits(r-3,3)):(t.writeCodeToStream(18),this.writer.pendingBufferWriteBits(r-11,7))}}buildTree(){let t=this.codeFrequency.length,i=new Int32Array(t),s=0,r=0;for(let c=0;c<t;c++){let d=this.codeFrequency[c];if(0!==d){let u=s++,p=0;for(;u>0&&this.codeFrequency[i[p=Math.floor((u-1)/2)]]>d;)i[u]=i[p],u=p;i[u]=c,r=c}}for(;s<2;)i[s++]=r<2?++r:0;this.codeCount=Math.max(r+1,this.codeMinCount);let a=s,l=new Int32Array(4*s-2),h=new Int32Array(2*s-1);for(let c=0;c<s;c++){let d=i[c],u=2*c;l[u]=d,l[u+1]=-1,h[c]=this.codeFrequency[d]<<8,i[c]=c}this.constructHuffmanTree(i,s,h,a,l),this.buildLength(l)}constructHuffmanTree(t,i,s,r,o){do{let a=t[0],l=t[--i],h=s[l],c=0,d=1;for(;d<i;)d+1<i&&s[t[d]]>s[t[d+1]]&&d++,t[c]=t[d],c=d,d=2*c+1;for(;(d=c)>0&&s[t[c=Math.floor((d-1)/2)]]>h;)t[d]=t[c];t[d]=l;let u=t[0];l=r++,o[2*l]=a,o[2*l+1]=u;let p=Math.min(255&s[a],255&s[u]);for(s[l]=h=s[a]+s[u]-p+1,c=0,d=1;d<i;)d+1<i&&s[t[d]]>s[t[d+1]]&&d++,t[c]=t[d],c=d,d=2*c+1;for(;(d=c)>0&&s[t[c=Math.floor((d-1)/2)]]>h;)t[d]=t[c];t[d]=l}while(i>1)}buildLength(t){this.codeLength=new Uint8Array(this.codeFrequency.length);let i=Math.floor(t.length/2),s=Math.floor((i+1)/2),r=0;for(let a=0;a<this.maxLength;a++)this.lengthCount[a]=0;if(r=this.calculateOptimalCodeLength(t,r,i),0===r)return;let o=this.maxLength-1;do{for(;0===this.lengthCount[--o];);do{this.lengthCount[o]--,this.lengthCount[++o]++,r-=1<<this.maxLength-1-o}while(r>0&&o<this.maxLength-1)}while(r>0);this.recreateTree(t,r,s)}recreateTree(t,i,s){this.lengthCount[this.maxLength-1]+=i,this.lengthCount[this.maxLength-2]-=i;let r=2*s;for(let o=this.maxLength;0!==o;o--){let a=this.lengthCount[o-1];for(;a>0;){let l=2*t[r++];-1===t[l+1]&&(this.codeLength[t[l]]=o,a--)}}}calculateOptimalCodeLength(t,i,s){let r=new Int32Array(s);r[s-1]=0;for(let o=s-1;o>=0;o--){let a=2*o+1;if(-1!==t[a]){let l=r[o]+1;l>this.maxLength&&(l=this.maxLength,i++),r[t[a-1]]=r[t[a]]=l}else this.lengthCount[r[o]-1]++,this.codeLength[t[a-1]]=r[o]}return i}}return n.reverseBits=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],n.huffCodeLengthOrders=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n})(),ige=(()=>{class n{static checksumUpdate(t,i,s,r){let o=new Uint32Array(1);o[0]=t;let a=o[0],l=o[0]=65535&a,h=o[0]=a>>n.checkSumBitOffset;for(;r>0;){let c=Math.min(r,n.checksumIterationCount);for(r-=c;--c>=0;)l+=o[0]=255&i[s++],h+=l;l%=n.checksumBase,h%=n.checksumBase}return a=h<<n.checkSumBitOffset|l,a}}return n.checkSumBitOffset=16,n.checksumBase=65521,n.checksumIterationCount=3800,n})();function sge(n){return"[object String]"===Object.prototype.toString.call(n)?"$s"+n:"$o"+n.toString()}class Ln{constructor(e){this.table={},this.nElements=0,this.toStr=e||sge}getValue(e){const t=this.table["$"+this.toStr(e)];if(void 0!==t)return t.value}setValue(e,t){let i;const s="$"+this.toStr(e);return this.nElements++,i=void 0,void(this.table[s]={key:e,value:t})}remove(e){const t="$"+this.toStr(e),i=this.table[t];return delete this.table[t],this.nElements--,i.value}keys(){const e=[];let t=Object.keys(this.table);for(let i=0;i<t.length;i++)e.push(this.table[t[i]].key);return e}values(){const e=[];let t=Object.keys(this.table);for(let i=0;i<t.length;i++)e.push(this.table[t[i]].value);return e}containsKey(e){let t=!0;return t=void 0===this.getValue(e),!t}clear(){this.table={},this.nElements=0}size(){return this.nElements}}let Si=(()=>{class n{constructor(t){this.stringStartMark="/",this.internalValue="",this.isSaving6=!1,this.position6=-1,this.internalValue=this.normalizeValue(t)}get status(){return this.status6}set status(t){this.status6=t}get isSaving(){return this.isSaving6}set isSaving(t){this.isSaving6=t}get objectCollectionIndex(){return this.index6}set objectCollectionIndex(t){this.index6=t}get position(){return this.position6}set position(t){this.position6=t}get clonedObject(){return null}get value(){return this.internalValue}set value(t){let i=t;null!==t&&t.length>0?(i=t,this.internalValue=this.normalizeValue(i)):this.internalValue=i}save(t){t.write(this.toString())}toString(){return this.stringStartMark+this.escapeString(this.value)}clone(t){let i=new n;return i.value=this.internalValue,i}escapeString(t){let i="";for(let s=0,r=t.length;s<r;s++){let o=t[s];n.delimiters.indexOf(o),i+=o}return i}normalizeValue(t,i){return t}}return n.delimiters="()<>[]{}/%}",n.replacements=[" ","\t","\n","\r"],n})(),ye=(()=>{class n{constructor(){this.forTest="test",this.forTest=n.obj}}return n.obj="obj",n.endObj="endobj",n.r="R",n.whiteSpace=" ",n.slash="/",n.newLine="\r\n",n.stream="stream",n.endStream="endstream",n.xref="xref",n.f="f",n.n="n",n.trailer="trailer",n.startxref="startxref",n.eof="%%EOF",n.header="%PDF-1.5",n.beginText="BT",n.endText="ET",n.beginPath="m",n.appendLineSegment="l",n.stroke="S",n.fill="f",n.fillEvenOdd="f*",n.fillStroke="B",n.fillStrokeEvenOdd="B*",n.appendbeziercurve="c",n.appendRectangle="re",n.saveState="q",n.restoreState="Q",n.paintXObject="Do",n.modifyCtm="cm",n.modifyTM="Tm",n.setLineWidth="w",n.setLineCapStyle="J",n.setLineJoinStyle="j",n.setDashPattern="d",n.setFlatnessTolerance="i",n.closePath="h",n.closeStrokePath="s",n.closeFillStrokePath="b",n.setCharacterSpace="Tc",n.setWordSpace="Tw",n.setHorizontalScaling="Tz",n.setTextLeading="TL",n.setFont="Tf",n.setRenderingMode="Tr",n.setTextRise="Ts",n.setTextScaling="Tz",n.setCoords="Td",n.goToNextLine="T*",n.setText="Tj",n.setTextWithFormatting="TJ",n.setTextOnNewLine="'",n.selectcolorspaceforstroking="CS",n.selectcolorspacefornonstroking="cs",n.setrbgcolorforstroking="RG",n.setrbgcolorfornonstroking="rg",n.setcmykcolorforstroking="K",n.setcmykcolorfornonstroking="k",n.setgraycolorforstroking="G",n.setgraycolorfornonstroking="g",n.clipPath="W",n.clipPathEvenOdd="W*",n.endPath="n",n.setGraphicsState="gs",n.comment="%",n.evenOdd="*",n.setMiterLimit="M",n.setColorAndPattern="scn",n.setColorAndPatternStroking="SCN",n})();class Rn{constructor(){this.pages="Pages",this.kids="Kids",this.count="Count",this.resources="Resources",this.type="Type",this.size="Size",this.mediaBox="MediaBox",this.parent="Parent",this.root="Root",this.decodeParms="DecodeParms",this.filter="Filter",this.font="Font",this.type1="Type1",this.baseFont="BaseFont",this.encoding="Encoding",this.subtype="Subtype",this.contents="Contents",this.procset="ProcSet",this.colorSpace="ColorSpace",this.extGState="ExtGState",this.pattern="Pattern",this.xObject="XObject",this.length="Length",this.width="Width",this.height="Height",this.bitsPerComponent="BitsPerComponent",this.image="Image",this.dctdecode="DCTDecode",this.columns="Columns",this.blackIs1="BlackIs1",this.k="K",this.s="S",this.predictor="Predictor",this.deviceRgb="DeviceRGB",this.next="Next",this.action="Action",this.link="Link",this.a="A",this.annot="Annot",this.p="P",this.c="C",this.rect="Rect",this.uri="URI",this.annots="Annots",this.ca="ca",this.CA="CA",this.xyz="XYZ",this.fit="Fit",this.dest="Dest",this.BM="BM",this.flatedecode="FlateDecode",this.rotate="Rotate",this.bBox="BBox",this.form="Form",this.w="W",this.cIDFontType2="CIDFontType2",this.cIDToGIDMap="CIDToGIDMap",this.identity="Identity",this.dw="DW",this.fontDescriptor="FontDescriptor",this.cIDSystemInfo="CIDSystemInfo",this.fontName="FontName",this.flags="Flags",this.fontBBox="FontBBox",this.missingWidth="MissingWidth",this.stemV="StemV",this.italicAngle="ItalicAngle",this.capHeight="CapHeight",this.ascent="Ascent",this.descent="Descent",this.leading="Leading",this.avgWidth="AvgWidth",this.fontFile2="FontFile2",this.maxWidth="MaxWidth",this.xHeight="XHeight",this.stemH="StemH",this.registry="Registry",this.ordering="Ordering",this.supplement="Supplement",this.type0="Type0",this.identityH="Identity-H",this.toUnicode="ToUnicode",this.descendantFonts="DescendantFonts",this.background="Background",this.shading="Shading",this.matrix="Matrix",this.antiAlias="AntiAlias",this.function="Function",this.extend="Extend",this.shadingType="ShadingType",this.coords="Coords",this.domain="Domain",this.range="Range",this.functionType="FunctionType",this.bitsPerSample="BitsPerSample",this.patternType="PatternType",this.paintType="PaintType",this.tilingType="TilingType",this.xStep="XStep",this.yStep="YStep"}}class vs{constructor(e){if(this.position7=-1,this.primitiveItems=new Ln,this.prefix="<<",this.suffix=">>",this.resources=[],this.object=null,this.archive=!0,this.isFont=!1,void 0===e)this.primitiveItems=new Ln,this.encrypt=!0,this.dictionaryProperties=new Rn;else{this.primitiveItems=new Ln;let t=e.items.keys(),i=e.items.values();for(let s=0;s<e.items.size();s++)this.primitiveItems.setValue(t[s],i[s]);this.status=e.status,this.freezeChanges(this),this.encrypt=!0,this.dictionaryProperties=new Rn}}get items(){return this.primitiveItems}get status(){return this.status7}set status(e){this.status7=e}get isSaving(){return this.isSaving7}set isSaving(e){this.isSaving7=e}get objectCollectionIndex(){return this.index7}set objectCollectionIndex(e){this.index7=e}get clonedObject(){return this.object}get position(){return this.position7}set position(e){this.position7=e}get Count(){return this.primitiveItems.size()}get Dictionary(){return this}getArchive(){return this.archive}setArchive(e){this.archive=e}setEncrypt(e){this.encrypt=e,this.modify()}getEncrypt(){return this.encrypt}freezeChanges(e){this.bChanged=!1}clone(e){return new vs}modify(){this.bChanged=!0}remove(e){"string"!=typeof e?(this.primitiveItems.remove(e.value),this.modify()):this.remove(new Si(e))}containsKey(e){let t=!1;return t=this.primitiveItems.containsKey(e.toString()),t}onBeginSave(){this.beginSave.sender.beginSave()}onFontDictionaryBeginSave(){this.fontDictionaryBeginSave.sender.fontDictionaryBeginSave()}onDescendantFontBeginSave(){this.descendantFontBeginSave.sender.descendantFontBeginSave()}onTemplateBeginSave(){this.pageBeginDrawTemplate.sender.pageBeginSave()}onBeginAnnotationSave(){this.annotationBeginSave.sender.beginSave()}onSectionBeginSave(e){let t=this.sectionBeginSave;t.sender.beginSave(t.state,e)}save(e,t){void 0===t?this.save(e,!0):(e.write(this.prefix),void 0!==this.beginSave&&this.onBeginSave(),void 0!==this.descendantFontBeginSave&&this.onDescendantFontBeginSave(),void 0!==this.fontDictionaryBeginSave&&this.onFontDictionaryBeginSave(),void 0!==this.annotationBeginSave&&this.onBeginAnnotationSave(),void 0!==this.sectionBeginSave&&this.onSectionBeginSave(e),void 0!==this.pageBeginDrawTemplate&&this.onTemplateBeginSave(),this.Count>0&&this.saveItems(e),e.write(this.suffix),e.write(ye.newLine))}saveItems(e){e.write(ye.newLine);let t=this.primitiveItems.keys(),i=this.primitiveItems.values();for(let s=0;s<t.length;s++)new Si(t[s]).save(e),e.write(ye.whiteSpace),i[s].save(e),e.write(ye.newLine)}}class nge{constructor(e){this.sender=e}}class rge{constructor(e){this.sender=e}}class oge{constructor(e){this.sender=e}}class lge{constructor(e,t){this.sender=e,this.state=t}}class hge{constructor(e){this.sender=e}}class tt{constructor(e){this.position5=-1,this.value=e}get intValue(){return this.value}set intValue(e){this.value=e}get isInteger(){return this.integer}set isInteger(e){this.integer=e}get status(){return this.status5}set status(e){this.status5=e}get isSaving(){return this.isSaving5}set isSaving(e){this.isSaving5=e}get objectCollectionIndex(){return this.index5}set objectCollectionIndex(e){this.index5=e}get position(){return this.position5}set position(e){this.position5=e}get clonedObject(){return null}save(e){e.write(this.intValue.toString())}clone(e){return new tt(this.value)}static floatToString(e){let t=e.toFixed(2);return"0.00"===t&&(t=".00"),t}static min(e,t,i){let s=Math.min(e,t);return Math.min(i,s)}}class os{constructor(e){if(this.startMark="[",this.endMark="]",this.position9=-1,this.clonedObject9=null,this.isFont=!1,void 0===e)this.internalElements=[];else if(void 0===e||e instanceof os){let t=e;this.internalElements=[];for(let i=0;i<t.elements.length;i++)this.internalElements.push(t.elements[i])}else{let t=e;for(let i=0;i<t.length;i++){let s=new tt(t[i]);this.add(s)}}}items(e){return this.internalElements[e]}get count(){return this.internalElements.length}get status(){return this.status9}set status(e){this.status9=e}get isSaving(){return this.isSaving9}set isSaving(e){this.isSaving9=e}get clonedObject(){return this.clonedObject9}get position(){return this.position9}set position(e){this.position9=e}get objectCollectionIndex(){return this.index9}set objectCollectionIndex(e){this.index9=e}get CrossTable(){return this.pdfCrossTable}get elements(){return this.internalElements}add(e){void 0===this.internalElements&&(this.internalElements=[]),this.internalElements.push(e),this.markedChange()}markedChange(){this.bChanged=!0}contains(e){for(let i=0;i<this.internalElements.length;i++){let s=this.internalElements[i],r=e;if(null!=s&&void 0!==s&&null!=r&&void 0!==r&&s.value===r.value)return!0}return!1}getItems(e){return this.internalElements[e]}save(e){e.write(this.startMark);for(let t=0,i=this.count;t<i;t++)this.getItems(t).save(e),t+1!==i&&e.write(ye.whiteSpace);e.write(this.endMark)}clone(e){this.clonedObject9=null;let t=new os;for(let i=0;i<this.internalElements.length;i++)t.add(this.internalElements[i].clone(e));return t.pdfCrossTable=e,this.clonedObject9=t,t}static fromRectangle(e){return new os([e.x,e.y,e.width,e.height])}insert(e,t){if(e<this.internalElements.length&&e>0){let i=[];for(let s=0;s<e;s++)i.push(this.internalElements[s]);i.push(t);for(let s=e;s<this.internalElements.length;s++)i.push(this.internalElements[s]);this.internalElements=i}else this.internalElements.push(t);this.markChanged()}indexOf(e){return this.internalElements.indexOf(e)}remove(e){let t=this.internalElements.indexOf(e);this.internalElements[t]=null,this.markChanged()}removeAt(e){if(this.internalElements.length>e){let t=[];for(let i=0;i<e;i++)t.push(this.internalElements[i]);for(let i=e+1;i<this.internalElements.length;i++)t.push(this.internalElements[i]);this.internalElements=t}this.markChanged()}clear(){this.internalElements=[],this.markChanged()}markChanged(){this.bChanged=!0}}class Ba extends vs{constructor(e,t){super(e),this.dicPrefix="stream",this.dicSuffix="endstream",this.clonedObject2=null,this.bCompress=!0,this.isImageStream=!1,this.isFontStream=!1,void 0!==e||void 0!==t?(this.dataStream2=[],this.dataStream2=t,this.bCompress2=!1):(this.dataStream2=[],this.bCompress2=!0)}get internalStream(){return this.dataStream2}set internalStream(e){this.dataStream2=[],this.dataStream2=e,this.modify()}get isImage(){return this.isImageStream}set isImage(e){this.isImageStream=e}get isFont(){return this.isFontStream}set isFont(e){this.isFontStream=e}get compress(){return this.bCompress}set compress(e){this.bCompress=e,this.modify()}get data(){return this.dataStream2}set data(e){this.dataStream2=[],this.dataStream2=e,this.modify()}clearStream(){this.internalStream=[],this.items.containsKey(this.dictionaryProperties.filter)&&this.remove(this.dictionaryProperties.filter),this.bCompress=!0,this.modify()}write(e){if(null==e)throw new Error("ArgumentNullException:text");if(e.length<=0)throw new Error("ArgumentException: Can not write an empty string, text");this.dataStream2.push(e),this.modify()}writeBytes(e){if(null===e)throw new Error("ArgumentNullException:data");if(e.length<=0)throw new Error("ArgumentException: Can not write an empty bytes, data");let t="";for(let i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);this.dataStream2.push(t),this.modify()}onCmapBeginSave(){this.cmapBeginSave.sender.cmapBeginSave()}onFontProgramBeginSave(){this.fontProgramBeginSave.sender.fontProgramBeginSave()}compressContent(e,t){if(this.bCompress){let i=[];for(let o=0;o<e.length;o++)i.push(e.charCodeAt(o));let s=new Uint8Array(i),r=new aj;r.write(s,0,s.length),r.close(),e=r.getCompressedString,this.addFilter(this.dictionaryProperties.flatedecode)}return e}addFilter(e){let t=this.items.getValue(this.dictionaryProperties.filter);t instanceof on&&(t=t.object);let i=t,s=t;null!=s&&(i=new os,i.insert(0,s),this.items.setValue(this.dictionaryProperties.filter,i)),s=new Si(e),null==i?this.items.setValue(this.dictionaryProperties.filter,s):i.insert(0,s)}save(e){void 0!==this.cmapBeginSave&&this.onCmapBeginSave(),void 0!==this.fontProgramBeginSave&&this.onFontProgramBeginSave();let t="";for(let s=0;s<this.data.length;s++)t+=this.data[s];t.length>1&&!this.isImage&&!this.isFont&&(t="q\r\n"+t+"Q\r\n"),t=this.compressContent(t,e),this.items.setValue(this.dictionaryProperties.length,new tt(t.length)),super.save(e,!1),e.write(this.dicPrefix),e.write(ye.newLine),t.length>0&&e.write(t),e.write(ye.newLine),e.write(this.dicSuffix),e.write(ye.newLine)}static bytesToString(e){let t="";for(let i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t}}class cge{constructor(e){this.sender=e}}class dge{constructor(e){this.sender=e}}var sC;!function(n){let e;var i;let t;(i=e=n.ForceEncoding||(n.ForceEncoding={}))[i.None=0]="None",i[i.Ascii=1]="Ascii",i[i.Unicode=2]="Unicode",function(i){i[i.StringValue=0]="StringValue",i[i.ByteBuffer=1]="ByteBuffer"}(t||(t={}))}(sC||(sC={}));let zo=(()=>{class n{constructor(t){if(this.bHex=!1,this.position1=-1,this.clonedObject1=null,this.bDecrypted=!1,this.isParentDecrypted=!1,this.isPacked=!1,this.isFormField=!1,this.isColorSpace=!1,this.isHexString=!0,void 0===t)this.bHex=!1;else if(!(t.length>0&&"0xfeff"===t[0])){this.stringValue=t,this.data=[];for(let i=0;i<t.length;++i)this.data.push(t.charCodeAt(i))}}get hex(){return this.bHex}get value(){return this.stringValue}set value(t){this.stringValue=t,this.data=null}get status(){return this.status1}set status(t){this.status1=t}get isSaving(){return this.isSaving1}set isSaving(t){this.isSaving1=t}get objectCollectionIndex(){return this.index1}set objectCollectionIndex(t){this.index1=t}get clonedObject(){return this.clonedObject1}get position(){return this.position1}set position(t){this.position1=t}get CrossTable(){return this.crossTable}get converted(){return this.bConverted}set converted(t){this.bConverted=t}get encode(){return this.bForceEncoding}set encode(t){this.bForceEncoding=t}static bytesToHex(t){return""}save(t){if(null===t)throw new Error("ArgumentNullException : writer");t.write(void 0!==this.encode&&this.encode===sC.ForceEncoding.Ascii?this.pdfEncode():n.stringMark[0]+this.value+n.stringMark[1])}pdfEncode(){let t="";if(void 0!==this.encode&&this.encode===sC.ForceEncoding.Ascii){let i=this.escapeSymbols(this.value);for(let s=0;s<i.length;s++)t+=String.fromCharCode(i[s]);t=n.stringMark[0]+t+n.stringMark[1]}else t=this.value;return t}escapeSymbols(t){let i=[];for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);switch(r){case 40:case 41:i.push(92),i.push(r);break;case 13:i.push(92),i.push(114);break;case 92:i.push(92),i.push(r);break;default:i.push(r)}}return i}clone(t){if(null!==this.clonedObject1&&this.clonedObject1.CrossTable===t)return this.clonedObject1;this.clonedObject1=null;let i=new n(this.stringValue);return i.bHex=this.bHex,i.crossTable=t,i.isColorSpace=this.isColorSpace,this.clonedObject1=i,i}static toUnicodeArray(t,i){if(null==t)throw new Error("Argument Null Exception : value");let s=[];for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);s.push(o/256>>>0),s.push(255&o)}return s}static byteToString(t){if(null==t)throw new Error("Argument Null Exception : stream");let i="";for(let s=0;s<t.length;++s)i+=String.fromCharCode(t[s]);return i}}return n.stringMark="()",n.hexStringMark="<>",n.hexFormatPattern="{0:X2}",n})();class uR{constructor(e,t){this.index3=-1,this.position3=-1,this.objNumber=0,this.genNumber=0,"number"==typeof e&&"number"==typeof t?(this.objNumber=e,this.genNumber=t):(this.objNumber=Number(e),this.genNumber=Number(t))}get status(){return this.status3}set status(e){this.status3=e}get isSaving(){return this.isSaving3}set isSaving(e){this.isSaving3=e}get objectCollectionIndex(){return this.index3}set objectCollectionIndex(e){this.index3=e}get position(){return this.position3}set position(e){this.position3=e}get clonedObject(){return null}save(e){e.write(this.toString())}toString(){return this.objNumber.toString()+" "+this.genNumber.toString()+" R"}clone(e){return null}}class on{constructor(e,t){this.index4=-1,this.position4=-1,this.objectIndex=-1,this.dictionaryProperties=new Rn,this.initialize(e)}get status(){return this.status4}set status(e){this.status4=e}get isSaving(){return this.isSaving4}set isSaving(e){this.isSaving4=e}get objectCollectionIndex(){return this.index4}set objectCollectionIndex(e){this.index4=e}get position(){return this.position4}set position(e){this.position4=e}get clonedObject(){return null}get object(){return this.primitiveObject}get reference(){return this.pdfReference}get index(){return this.objectIndex}get element(){return this.primitiveObject}initialize(e){e instanceof os||e instanceof vs||e instanceof Si||e instanceof tt||e instanceof Ba||e instanceof uR||e instanceof zo?this.primitiveObject=e:this.initialize(e.element)}save(e){let i=e.document.crossTable;this.object.isSaving=!0;let s=null;s=i.getReference(this.object),s.save(e)}clone(e){return null}}var ou=(()=>(function(n){n[n.Top=0]="Top",n[n.Middle=1]="Middle",n[n.Bottom=2]="Bottom"}(ou||(ou={})),ou))(),so=(()=>(function(n){n[n.Left=0]="Left",n[n.Center=1]="Center",n[n.Right=2]="Right",n[n.Justify=3]="Justify"}(so||(so={})),so))(),sd=(()=>(function(n){n[n.Fill=0]="Fill",n[n.Stroke=1]="Stroke",n[n.FillStroke=2]="FillStroke",n[n.None=3]="None",n[n.ClipFlag=4]="ClipFlag",n[n.ClipFill=4]="ClipFill",n[n.ClipStroke=5]="ClipStroke",n[n.ClipFillStroke=6]="ClipFillStroke",n[n.Clip=7]="Clip"}(sd||(sd={})),sd))(),no=(()=>(function(n){n[n.Solid=0]="Solid",n[n.Dash=1]="Dash",n[n.Dot=2]="Dot",n[n.DashDot=3]="DashDot",n[n.DashDotDot=4]="DashDotDot",n[n.Custom=5]="Custom"}(no||(no={})),no))(),gp=(()=>(function(n){n[n.Winding=0]="Winding",n[n.Alternate=1]="Alternate"}(gp||(gp={})),gp))(),Fi=(()=>(function(n){n[n.Rgb=0]="Rgb",n[n.Cmyk=1]="Cmyk",n[n.GrayScale=2]="GrayScale",n[n.Indexed=3]="Indexed"}(Fi||(Fi={})),Fi))(),nC=(()=>(function(n){n[n.Normal=0]="Normal",n[n.Multiply=1]="Multiply",n[n.Screen=2]="Screen",n[n.Overlay=3]="Overlay",n[n.Darken=4]="Darken",n[n.Lighten=5]="Lighten",n[n.ColorDodge=6]="ColorDodge",n[n.ColorBurn=7]="ColorBurn",n[n.HardLight=8]="HardLight",n[n.SoftLight=9]="SoftLight",n[n.Difference=10]="Difference",n[n.Exclusion=11]="Exclusion",n[n.Hue=12]="Hue",n[n.Saturation=13]="Saturation",n[n.Color=14]="Color",n[n.Luminosity=15]="Luminosity"}(nC||(nC={})),nC))(),Xf=(()=>(function(n){n[n.Centimeter=0]="Centimeter",n[n.Pica=1]="Pica",n[n.Pixel=2]="Pixel",n[n.Point=3]="Point",n[n.Inch=4]="Inch",n[n.Document=5]="Document",n[n.Millimeter=6]="Millimeter"}(Xf||(Xf={})),Xf))(),Tl=(()=>(function(n){n[n.None=0]="None",n[n.LeftToRight=1]="LeftToRight",n[n.RightToLeft=2]="RightToLeft"}(Tl||(Tl={})),Tl))();class J{constructor(e,t,i,s){void 0===e?void 0!==t&&void 0!==i&&void 0!==s?this.assignRGB(t,i,s):this.filled=!1:e instanceof J?(this.redColor=e.r,this.greenColor=e.g,this.blueColor=e.b,this.grayColor=e.gray,this.alpha=e.alpha,this.filled=0!==this.alpha):"number"==typeof e&&void 0===t&&void 0===i&&void 0===s?(e<0&&(e=0),e>1&&(e=1),this.redColor=e*J.maxColourChannelValue,this.greenColor=e*J.maxColourChannelValue,this.blueColor=e*J.maxColourChannelValue,this.cyanColor=e,this.magentaColor=e,this.yellowColor=e,this.blackColor=e,this.grayColor=e,this.alpha=J.maxColourChannelValue,this.filled=!0):void 0===s?this.assignRGB(e,t,i):this.assignRGB(t,i,s,e)}assignRGB(e,t,i,s){void 0===e||void 0===t||void 0===i?this.filled=!1:(this.cyanColor=0,this.magentaColor=0,this.yellowColor=0,this.blackColor=0,this.grayColor=0,this.redColor=e,this.greenColor=t,this.blueColor=i,this.alpha=void 0===s?J.maxColourChannelValue:s,this.filled=!0,this.assignCMYK(e,t,i))}assignCMYK(e,t,i){let s=e/J.maxColourChannelValue,r=t/J.maxColourChannelValue,o=i/J.maxColourChannelValue,a=tt.min(1-s,1-r,1-o),l=1===a?0:(1-s-a)/(1-a),h=1===a?0:(1-r-a)/(1-a),c=1===a?0:(1-o-a)/(1-a);this.blackColor=a,this.cyanColor=l,this.magentaColor=h,this.yellowColor=c}get r(){return this.redColor}set r(e){this.redColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0}get red(){return this.r/J.maxColourChannelValue}get b(){return this.blueColor}set b(e){this.blueColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0}get blue(){return this.b/J.maxColourChannelValue}get c(){return this.cyanColor}set c(e){this.cyanColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0}get k(){return this.blackColor}set k(e){this.blackColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0}get m(){return this.magentaColor}set m(e){this.magentaColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0}get y(){return this.yellowColor}set y(e){this.yellowColor=e<0?0:e>1?1:e,this.assignRGB(this.cyanColor,this.magentaColor,this.yellowColor,this.blackColor),this.filled=!0}get g(){return this.greenColor}set g(e){this.greenColor=e,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0}get green(){return this.g/J.maxColourChannelValue}get gray(){return(this.redColor+this.greenColor+this.blueColor)/(3*J.maxColourChannelValue)}set gray(e){this.grayColor=e<0?0:e>1?1:e,this.r=this.grayColor*J.maxColourChannelValue,this.g=this.grayColor*J.maxColourChannelValue,this.b=this.grayColor*J.maxColourChannelValue,this.assignCMYK(this.redColor,this.greenColor,this.blueColor),this.filled=!0}get isEmpty(){return!this.filled}get a(){return this.alpha}set a(e){this.alpha=e<0?0:e,this.filled=!0}toString(e,t){if(this.isEmpty)return"";let i="";switch(e){case Fi.Rgb:i=this.rgbToString(t);break;case Fi.GrayScale:i=this.grayScaleToString(t);break;case Fi.Cmyk:i=this.cmykToString(t)}return i}grayScaleToString(e){let t=this.gray,i="",s=null;return s=e?J.grayStringsSroke.containsKey(t)?J.grayStringsSroke.getValue(t):null:J.grayStringsFill.containsKey(t)?J.grayStringsFill.getValue(t):null,null==s?e&&(i=t.toString()+" G",J.grayStringsSroke.setValue(t,i)):i=s.toString(),i+ye.newLine}rgbToString(e){let t=this.r,i=this.g,s=this.b,r=(t<<16)+(i<<8)+s;e&&(r+=1<<24);let o="",a=null;if(J.rgbStrings.containsKey(r)&&(a=J.rgbStrings.getValue(r)),null==a){let l=t/J.maxColourChannelValue,h=i/J.maxColourChannelValue,c=s/J.maxColourChannelValue;o=e?l.toString()+" "+h.toString()+" "+c.toString()+" RG":l.toString()+" "+h.toString()+" "+c.toString()+" rg",J.rgbStrings.setValue(r,o)}else o=a.toString();return o+ye.newLine}cmykToString(e){let i=this.m,s=this.y,r=this.b,o="";return o=this.c.toString()+" "+i.toString()+" "+s.toString()+" "+r.toString()+" K",o+ye.newLine}toArray(e){let t=new os;switch(e){case Fi.Rgb:t.add(new tt(this.red)),t.add(new tt(this.green)),t.add(new tt(this.blue))}return t}}J.rgbStrings=new Ln,J.grayStringsSroke=new Ln,J.grayStringsFill=new Ln,J.maxColourChannelValue=255;class xe{constructor(e,t){void 0===e?(this.x=0,this.y=0):(this.x=null!==e?e:0,this.y=null!==t?t:0)}}class We{constructor(e,t){void 0===t?(this.height=0,this.width=0):(this.height=null!==t?t:0,this.width=null!==e?e:0)}}class Pe{constructor(e,t,i,s){if(typeof e==typeof e&&void 0===e)this.x=0,this.y=0,this.height=0,this.width=0;else if(e instanceof xe&&t instanceof We&&void 0===i){let r=e;this.x=r.x,this.y=r.y;let o=t;this.height=o.height,this.width=o.width}else{let o=t,a=i,l=s;this.x=e,this.y=o,this.height=l,this.width=a}}}class eE{constructor(e,t,i,s){this.left=e,this.top=t,this.right=i,this.bottom=s}get width(){return this.right-this.left}get height(){return this.bottom-this.top}get topLeft(){return new xe(this.left,this.top)}get size(){return new We(this.width,this.height)}toString(){return this.topLeft+"x"+this.size}}class hh{constructor(){}clone(){return this}}class nd extends hh{constructor(e){super(),this.pdfColor=e}get color(){return this.pdfColor}set color(e){this.pdfColor=e}monitorChanges(e,t,i,s,r){if(null==t)throw new Error("ArgumentNullException:streamWriter");let o=!1;return o=!0,t.setColorAndSpace(this.pdfColor,r,!1),true}resetChanges(e){e.setColorAndSpace(new J(0,0,0),Fi.Rgb,!1)}}var Hs=(()=>(function(n){n[n.Regular=0]="Regular",n[n.Bold=1]="Bold",n[n.Italic=2]="Italic",n[n.Underline=4]="Underline",n[n.Strikeout=8]="Strikeout"}(Hs||(Hs={})),Hs))(),ma=(()=>(function(n){n[n.Helvetica=0]="Helvetica",n[n.Courier=1]="Courier",n[n.TimesRoman=2]="TimesRoman",n[n.Symbol=3]="Symbol",n[n.ZapfDingbats=4]="ZapfDingbats"}(ma||(ma={})),ma))(),tc=(()=>(function(n){n[n.None=0]="None",n[n.Word=1]="Word",n[n.WordOnly=2]="WordOnly",n[n.Character=3]="Character"}(tc||(tc={})),tc))(),au=(()=>(function(n){n[n.None=0]="None",n[n.SuperScript=1]="SuperScript",n[n.SubScript=2]="SubScript"}(au||(au={})),au))(),tE=(()=>(function(n){n[n.Unknown=0]="Unknown",n[n.StandardEncoding=1]="StandardEncoding",n[n.MacRomanEncoding=2]="MacRomanEncoding",n[n.MacExpertEncoding=3]="MacExpertEncoding",n[n.WinAnsiEncoding=4]="WinAnsiEncoding",n[n.PdfDocEncoding=5]="PdfDocEncoding",n[n.IdentityH=6]="IdentityH"}(tE||(tE={})),tE))(),Oy=(()=>(function(n){n[n.Apple=0]="Apple",n[n.Microsoft=4]="Microsoft",n[n.Trimmed=6]="Trimmed"}(Oy||(Oy={})),Oy))(),Va=(()=>(function(n){n[n.Unknown=0]="Unknown",n[n.Symbol=1]="Symbol",n[n.Unicode=2]="Unicode",n[n.Macintosh=3]="Macintosh"}(Va||(Va={})),Va))(),yp=(()=>(function(n){n[n.AppleUnicode=0]="AppleUnicode",n[n.Macintosh=1]="Macintosh",n[n.Iso=2]="Iso",n[n.Microsoft=3]="Microsoft"}(yp||(yp={})),yp))(),rC=(()=>(function(n){n[n.Undefined=0]="Undefined",n[n.Unicode=1]="Unicode"}(rC||(rC={})),rC))(),iE=(()=>(function(n){n[n.Roman=0]="Roman",n[n.Japanese=1]="Japanese",n[n.Chinese=2]="Chinese"}(iE||(iE={})),iE))(),bp=(()=>(function(n){n[n.FixedPitch=1]="FixedPitch",n[n.Serif=2]="Serif",n[n.Symbolic=4]="Symbolic",n[n.Script=8]="Script",n[n.Nonsymbolic=32]="Nonsymbolic",n[n.Italic=64]="Italic",n[n.ForceBold=262144]="ForceBold"}(bp||(bp={})),bp))(),vp=(()=>(function(n){n[n.Arg1And2AreWords=1]="Arg1And2AreWords",n[n.ArgsAreXyValues=2]="ArgsAreXyValues",n[n.RoundXyToGrid=4]="RoundXyToGrid",n[n.WeHaveScale=8]="WeHaveScale",n[n.Reserved=16]="Reserved",n[n.MoreComponents=32]="MoreComponents",n[n.WeHaveAnXyScale=64]="WeHaveAnXyScale",n[n.WeHaveTwoByTwo=128]="WeHaveTwoByTwo",n[n.WeHaveInstructions=256]="WeHaveInstructions",n[n.UseMyMetrics=512]="UseMyMetrics"}(vp||(vp={})),vp))();class Zf{constructor(e,t){this.scalingFactor=100,this.wordWrapType=tc.Word,this.internalLineLimit=!0,this.wordWrapType=tc.Word,void 0!==e&&"string"!=typeof e&&(this.textAlignment=e),void 0!==t&&(this.verticalAlignment=t)}get alignment(){return this.textAlignment}set alignment(e){this.textAlignment=e}get textDirection(){return this.direction}set textDirection(e){this.direction=e}get lineAlignment(){return void 0===this.verticalAlignment||null==this.verticalAlignment?ou.Top:this.verticalAlignment}set lineAlignment(e){this.verticalAlignment=e}get rightToLeft(){return void 0!==this.isRightToLeft&&null!=this.isRightToLeft&&this.isRightToLeft}set rightToLeft(e){this.isRightToLeft=e}get characterSpacing(){return void 0===this.internalCharacterSpacing||null==this.internalCharacterSpacing?0:this.internalCharacterSpacing}set characterSpacing(e){this.internalCharacterSpacing=e}get wordSpacing(){return void 0===this.internalWordSpacing||null==this.internalWordSpacing?0:this.internalWordSpacing}set wordSpacing(e){this.internalWordSpacing=e}get lineSpacing(){return void 0===this.leading||null==this.leading?0:this.leading}set lineSpacing(e){this.leading=e}get clipPath(){return void 0!==this.clip&&null!=this.clip&&this.clip}set clipPath(e){this.clip=e}get subSuperScript(){return void 0===this.pdfSubSuperScript||null==this.pdfSubSuperScript?au.None:this.pdfSubSuperScript}set subSuperScript(e){this.pdfSubSuperScript=e}get paragraphIndent(){return void 0===this.internalParagraphIndent||null==this.internalParagraphIndent?0:this.internalParagraphIndent}set paragraphIndent(e){this.internalParagraphIndent=e,this.firstLineIndent=e}get lineLimit(){return this.internalLineLimit}set lineLimit(e){this.internalLineLimit=e}get measureTrailingSpaces(){return void 0!==this.trailingSpaces&&null!=this.trailingSpaces&&this.trailingSpaces}set measureTrailingSpaces(e){this.trailingSpaces=e}get noClip(){return void 0!==this.isNoClip&&null!=this.isNoClip&&this.isNoClip}set noClip(e){this.isNoClip=e}get wordWrap(){return this.wordWrapType}set wordWrap(e){this.wordWrapType=e}get horizontalScalingFactor(){return this.scalingFactor}set horizontalScalingFactor(e){if(e<=0)throw new Error("ArgumentOutOfRangeException:The scaling factor cant be less of equal to zero, ScalingFactor");this.scalingFactor=e}get firstLineIndent(){return void 0===this.initialLineIndent||null==this.initialLineIndent?0:this.initialLineIndent}set firstLineIndent(e){this.initialLineIndent=e}clone(){return this}}class Ur{constructor(e){if(this.currentPosition=0,null==e)throw new Error("ArgumentNullException:text");this.text=e}get length(){return this.text.length}get end(){return this.currentPosition===this.text.length}get position(){return this.currentPosition}set position(e){this.currentPosition=e}static getCharsCount(e,t){if("string"==typeof t){if(null==e)throw new Error("ArgumentNullException:wholeText");let i=0,s=0;for(;s=e.indexOf(t,s),-1!==s;)i++,s++;return i}{if(null==e)throw new Error("ArgumentNullException:text");if(null==t)throw new Error("ArgumentNullException:symbols");let i=0;for(let s=0,r=e.length;s<r;s++)this.contains(t,e[s])&&i++;return i}}readLine(){let e=this.currentPosition;for(;e<this.length;){let t=this.text[e];switch(t){case"\r":case"\n":{let i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,"\r"===t&&this.currentPosition<this.length&&"\n"===this.text[this.currentPosition]&&this.currentPosition++,i}}e++}if(e>this.currentPosition){let t=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,t}return null}peekLine(){let e=this.currentPosition,t=this.readLine();return this.currentPosition=e,t}readWord(){let e=this.currentPosition;for(;e<this.length;){let t=this.text[e];switch(t){case"\r":case"\n":let i=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e+1,"\r"===t&&this.currentPosition<this.length&&"\n"===this.text[this.currentPosition]&&this.currentPosition++,i;case" ":case"\t":{e===this.currentPosition&&e++;let s=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,s}}e++}if(e>this.currentPosition){let t=this.text.substr(this.currentPosition,e-this.currentPosition);return this.currentPosition=e,t}return null}peekWord(){let e=this.currentPosition,t=this.readWord();return this.currentPosition=e,t}read(e){if(void 0===e){let t="0";return this.end||(t=this.text[this.currentPosition],this.currentPosition++),t}{let t=0,i="";for(;!this.end&&t<e;)i+=this.read(),t++;return i}}peek(){let e="0";return this.end||(e=this.text[this.currentPosition]),e}close(){this.text=null}readToEnd(){let e;return e=0===this.currentPosition?this.text:this.text.substr(this.currentPosition,this.length-this.currentPosition),this.currentPosition=this.length,e}static contains(e,t){let i=!1;for(let s=0;s<e.length;s++)if(e[s]===t){i=!0;break}return i}}Ur.whiteSpace=" ",Ur.tab="\t",Ur.spaces=[Ur.whiteSpace,Ur.tab],Ur.whiteSpacePattern="^[ \t]+$";class Cp{constructor(){this.isOverloadWithPosition=!1}layout(e,t,i,s,r,o,a){if(s instanceof Pe){this.initialize(e,t,i,s,r),this.isOverloadWithPosition=o,this.clientSize=a;let l=this.doLayout();return this.clear(),l}{this.initialize(e,t,i,s),this.isOverloadWithPosition=r,this.clientSize=o;let l=this.doLayout();return this.clear(),l}}initialize(e,t,i,s,r){if("number"==typeof r){if(null==e)throw new Error("ArgumentNullException:text");if(null==t)throw new Error("ArgumentNullException:font");this.text=e,this.font=t,this.format=i,this.size=new We(s.width,s.height),this.rectangle=s,this.pageHeight=r,this.reader=new Ur(e)}else this.initialize(e,t,i,new Pe(new xe(0,0),s),0)}clear(){this.font=null,this.format=null,this.reader.close(),this.reader=null,this.text=null}doLayout(){let e=new pR,t=new pR,i=[],s=this.reader.peekLine(),r=this.getLineIndent(!0);for(;null!=s;){if(t=this.layoutLine(s,r),null!==t||void 0!==t){let o=0,a=this.copyToResult(e,t,i,o);if(o=a.numInserted,!a.success){this.reader.read(o);break}}this.reader.readLine(),s=this.reader.peekLine(),r=this.getLineIndent(!1)}return this.finalizeResult(e,i),e}getLineIndent(e){let t=0;return null!=this.format&&(t=e?this.format.firstLineIndent:this.format.paragraphIndent,t=this.size.width>0?Math.min(this.size.width,t):t),t}getLineHeight(){let e=this.font.height;return null!=this.format&&0!==this.format.lineSpacing&&(e=this.format.lineSpacing+this.font.height),e}getLineWidth(e){return this.font.getLineWidth(e,this.format)}layoutLine(e,t){let i=new pR;i.layoutLineHeight=this.getLineHeight();let s=[],r=this.size.width,o=this.getLineWidth(e)+t,a=Ll.FirstParagraphLine,l=!0;if(r<=0||Math.round(o)<=Math.round(r))this.addToLineResult(i,s,e,o,Ll.NewLineBreak|a);else{let h="",c="";o=t;let d=t,u=new Ur(e),p=u.peekWord();for(p.length!==u.length&&" "===p&&(c+=p,h+=p,u.position+=1,p=u.peekWord());null!=p;){c+=p;let m=this.getLineWidth(c.toString())+d;if(" "===c.toString()&&(c="",m=0),m>r){if(this.getWrapType()===tc.None)break;if(c.length===p.length){if(this.getWrapType()===tc.WordOnly){i.textRemainder=e.substring(u.position);break}if(1===c.length){h+=p;break}l=!1,c="",p=u.peek().toString();continue}if(this.getLineWidth(p.toString())>r?this.format.wordWrap=tc.Character:null!=this.format&&(this.format.wordWrap=tc.Word),this.getWrapType()===tc.Character&&l)l=!1,c="",c+=h.toString(),p=u.peek().toString();else{let y=h.toString();" "!==y&&this.addToLineResult(i,s,y,o,Ll.LayoutBreak|a),this.isOverloadWithPosition&&(r=this.clientSize.width),c="",h="",o=0,d=0,m=0,a=Ll.None,p=l?p:u.peekWord(),l=!0}}else h+=p,o=m,l?(u.readWord(),p=u.peekWord()):(u.read(),p=u.peek().toString())}if(h.length>0){let m=h.toString();this.addToLineResult(i,s,m,o,Ll.NewLineBreak|Ll.LastParagraphLine)}u.close()}i.layoutLines=[];for(let h=0;h<s.length;h++)i.layoutLines.push(s[h]);return s=[],i}addToLineResult(e,t,i,s,r){let o=new pge;o.text=i,o.width=s,o.lineType=r,t.push(o);let a=e.actualSize;a.height+=this.getLineHeight(),a.width=Math.max(a.width,s),e.size=a}copyToResult(e,t,i,s){let r=!0,o=null!=this.format&&!this.format.lineLimit,a=e.actualSize.height,l=this.size.height;if(this.pageHeight>0&&l+this.rectangle.y>this.pageHeight&&(l=this.rectangle.y-this.pageHeight,l=Math.max(l,-l)),s=0,null!=t.lines)for(let h=0,c=t.lines.length;h<c;h++){let d=a+t.lineHeight;if(!(d<=l||l<=0||o)){r=!1;break}{let u=t.lines[h];s+=u.text.length,u=this.trimLine(u,0===i.length),i.push(u);let p=e.actualSize;p.width=Math.max(p.width,u.width),e.size=p,a=d}}if(a!=e.size.height){let h=e.actualSize;h.height=a,e.size=h}return{success:r,numInserted:s}}finalizeResult(e,t){e.layoutLines=[];for(let i=0;i<t.length;i++)e.layoutLines.push(t[i]);e.layoutLineHeight=this.getLineHeight(),this.reader.end||(e.textRemainder=this.reader.readToEnd()),t=[]}trimLine(e,t){let i=e.text,s=e.width;return i=i.trim(),i.length!==e.text.length&&(s=this.getLineWidth(i),(e.lineType&Ll.FirstParagraphLine)>0&&(s+=this.getLineIndent(t))),e.text=i,e.width=s,e}getWrapType(){return null!=this.format?this.format.wordWrap:tc.Word}}class pR{get remainder(){return this.textRemainder}get actualSize(){return void 0===this.size&&(this.size=new We(0,0)),this.size}get lines(){return this.layoutLines}get lineHeight(){return this.layoutLineHeight}get empty(){return null==this.layoutLines||0===this.layoutLines.length}get lineCount(){return this.empty?0:this.layoutLines.length}}class pge{get lineType(){return this.type}set lineType(e){this.type=e}get text(){return this.content}set text(e){this.content=e}get width(){return this.lineWidth}set width(e){this.lineWidth=e}}var Ll=(()=>(function(n){n[n.None=0]="None",n[n.NewLineBreak=1]="NewLineBreak",n[n.LayoutBreak=2]="LayoutBreak",n[n.FirstParagraphLine=4]="FirstParagraphLine",n[n.LastParagraphLine=8]="LastParagraphLine"}(Ll||(Ll={})),Ll))();class tl{constructor(e,t){this.fontStyle=Hs.Regular,"number"==typeof e&&void 0===t?this.fontSize=e:(this.fontSize=e,this.setStyle(t))}get name(){return this.metrics.name}get size(){return this.fontSize}get height(){return this.metrics.getHeight(null)}get style(){return this.fontStyle}set style(e){this.fontStyle=e}get bold(){return(this.style&Hs.Bold)>0}get italic(){return(this.style&Hs.Italic)>0}get strikeout(){return(this.style&Hs.Strikeout)>0}get underline(){return(this.style&Hs.Underline)>0}get metrics(){return this.fontMetrics}set metrics(e){this.fontMetrics=e}get element(){return this.pdfFontInternals}measureString(e,t,i,s,r){if("string"==typeof e&&void 0===t)return this.measureString(e,null);if("string"==typeof e&&(t instanceof Zf||null==t)&&void 0===i&&void 0===s)return this.measureString(e,t,0,0);if("string"==typeof e&&(t instanceof Zf||null==t)&&"number"==typeof i&&"number"==typeof s)return this.measureString(e,0,t,i,s);if("string"==typeof e&&"number"==typeof t&&(i instanceof Zf||null==i)&&"number"==typeof s&&"number"==typeof r){let o=new We(t,0);return this.measureString(e,o,i,s,r)}{if(null==e)throw Error('ArgumentNullException("text")');let o=t,a=i,h=(new Cp).layout(e,this,a,o,!1,new We(0,0));return s=e.length,r=h.empty?0:h.lines.length,h.actualSize}}equalsTo(e){return this.equalsToFont(e)}getInternals(){return this.pdfFontInternals}setInternals(e){if(null==e)throw new Error("ArgumentNullException:internals");this.pdfFontInternals=e}setStyle(e){this.fontStyle=e}applyFormatSettings(e,t,i){let s=i;return null!=t&&i>0&&(0!==t.characterSpacing&&(s+=(e.length-1)*t.characterSpacing),0!==t.wordSpacing)&&(s+=Ur.getCharsCount(e,Ur.spaces)*t.wordSpacing),s}}tl.charSizeMultiplier=.001,tl.syncObject=new Object;class fge{constructor(e){this.streamWriter=e}get document(){return this.pdfDocument}set document(e){this.pdfDocument=e}get position(){return this.streamWriter.buffer.size}get length(){return this.streamWriter.buffer.size}get stream(){return this.streamWriter}write(e){this.streamWriter.write(e)}}var Fy=(()=>(function(n){n[n.None=0]="None",n[n.Registered=1]="Registered"}(Fy||(Fy={})),Fy))();class mge{constructor(){this.objectCollections=[],this.mainObjectCollection=new Ln,this.primitiveObjectCollection=new Ln}get count(){return this.objectCollections.length}items(e){return this.objectCollections[e]}get outIsNew(){return this.isNew}add(e){let t=new gge(e);this.objectCollections.push(t),this.primitiveObjectCollection.containsKey(e)||this.primitiveObjectCollection.setValue(e,this.objectCollections.length-1),e.position=this.index=this.objectCollections.length-1,e.status=Fy.Registered}lookFor(e){let t=-1;if(-1!==e.position)return e.position;if(this.primitiveObjectCollection.containsKey(e)&&this.count===this.primitiveObjectCollection.size())t=this.primitiveObjectCollection.getValue(e);else for(let i=this.count-1;i>=0;i--)if(this.objectCollections[i].object===e){t=i;break}return t}getReference(e,t){let i;return this.index=this.lookFor(e),this.isNew=!1,i=this.objectCollections[this.index].reference,{reference:i,wasNew:t}}trySetReference(e,t,i){return this.index=this.lookFor(e),this.objectCollections[this.index].setReference(t),!0}destroy(){for(let e of this.objectCollections)void 0!==e&&(e.pdfObject.position=-1,e.pdfObject.isSaving=void 0,e.pdfObject.objectCollectionIndex=void 0,e.pdfObject.position=void 0);this.objectCollections=[],this.mainObjectCollection=new Ln,this.primitiveObjectCollection=new Ln}}class gge{constructor(e,t){this.pdfObject=e,this.pdfReference=t}get object(){return this.pdfObject}set object(e){this.pdfObject=e}get reference(){return this.pdfReference}setReference(e){this.pdfReference=e}}var Ny=(()=>(function(n){n[n.Free=0]="Free",n[n.Normal=1]="Normal",n[n.Packed=2]="Packed"}(Ny||(Ny={})),Ny))();class hj extends vs{constructor(){super(),this.sections=null,this.tempDictionaryProperties=new Rn,this.items.setValue((new Rn).type,new Si("Catalog"))}get pages(){return this.sections}set pages(e){this.sections=e,this.items.setValue(this.tempDictionaryProperties.pages,new on(e))}}class cj{constructor(){this.objects=new Ln,this.maxGenNumIndex=0,this.objectCount=0,this.dictionaryProperties=new Rn}get isMerging(){return this.merging}set isMerging(e){this.merging=e}get trailer(){return null==this.internalTrailer&&(this.internalTrailer=new Ba),this.internalTrailer}get document(){return this.pdfDocument}set document(e){this.pdfDocument=e,this.items=this.pdfDocument.pdfObjects}get pdfObjects(){return this.items}get objectCollection(){return this.pdfDocument.pdfObjects}get count(){return this.objectCount}set count(e){this.objectCount=e}get nextObjNumber(){return this.count=this.count+1,this.count}save(e,t){this.saveHead(e),this.mappedReferences=null,this.objects.clear(),this.markTrailerReferences(),this.saveObjects(e);let i=this.count,s=e.position;this.registerObject(0,new uR(0,-1),!0),e.write(ye.xref),e.write(ye.newLine),this.saveSections(e),this.saveTrailer(e,this.count,0),this.saveTheEndess(e,s),this.count=i;for(let o=0;o<this.objectCollection.count;++o)this.objectCollection.items(o).object.isSaving=!1;if(void 0===t)return e.stream.buffer;e.stream.save(t)}saveTheEndess(e,t){e.write(ye.newLine+ye.startxref+ye.newLine),e.write(t.toString()+ye.newLine),e.write(ye.eof+ye.newLine)}saveTrailer(e,t,i){e.write(ye.trailer+ye.newLine);let s=this.trailer;s.items.setValue(this.dictionaryProperties.size,new tt(this.objectCount+1)),s=new vs(s),s.setEncrypt(!1),s.save(e)}saveSections(e){let t=0,i=0;do{i=this.prepareSubsection(t),this.saveSubsection(e,t,i),t+=i}while(0!==i)}saveSubsection(e,t,i){if(!(i<=0||t>=this.count)){e.write(t+" "+(i+1)+ye.newLine);for(let s=t;s<=t+i;++s){let r=this.objects.getValue(s),o="";o=r.type===Ny.Free?this.getItem(r.offset,65535,!0):this.getItem(r.offset,r.generation,!1),e.write(o)}}}getItem(e,t,i){let s="",r=10-e.toString().length;t<=0&&(t=0);let o=5-t.toString().length<=0?0:5-t.toString().length;for(let a=0;a<r;a++)s+="0";s=s+e.toString()+" ";for(let a=0;a<o;a++)s+="0";return s=s+t.toString()+" ",s=s+(i?ye.f:ye.n)+ye.newLine,s}prepareSubsection(e){let i,t=0,s=this.count;for(let r=0;r<this.document.pdfObjects.count;r++)this.document.pdfObjects.items(r).reference.toString().split(" ");if(e>=s)return t;for(i=e,e=i;i<s;++i)++t;return t}markTrailerReferences(){this.trailer.items.keys(),this.trailer.items.values()}saveHead(e){let t=this.generateFileVersion(e.document);e.write("%PDF-"+t),e.write(ye.newLine)}generateFileVersion(e){return"1."+4..toString()}getReference(e,t){return void 0===t?this.getReference(e,!1):this.getSubReference(e,t)}getSubReference(e,t){let s,i=!1,r=null;if(this.items.count>0&&e.objectCollectionIndex>0&&this.items.count>e.objectCollectionIndex-1){let o=this.document.pdfObjects.getReference(e,s);r=o.reference,s=o.wasNew}if(s=null==r&&e.status!==Fy.Registered,null==r){let a;r=new uR(this.nextObjNumber,0),s?(this.document.pdfObjects.add(e),this.document.pdfObjects.trySetReference(e,r,a),this.document.pdfObjects.mainObjectCollection.setValue(this.document.pdfObjects.objectCollections[this.document.pdfObjects.count-1].reference.objNumber,this.document.pdfObjects.objectCollections[this.document.pdfObjects.count-1]),e.position=-1):this.document.pdfObjects.trySetReference(e,r,a),e.objectCollectionIndex=r.objNumber,e.status=Fy.None,i=!0}return r}saveObjects(e){let t=this.objectCollection;for(let i=0;i<t.count;++i){let r=t.items(i).object;r.isSaving=!0,this.saveIndirectObject(r,e)}}saveIndirectObject(e,t){let i=this.getReference(e);e instanceof hj&&this.trailer.items.setValue(this.dictionaryProperties.root,i),this.pdfDocument.currentSavingObj=i;let s=!1;s=e.getArchive(),this.registerObject(t.position,i),this.doSaveObject(e,i,t)}doSaveObject(e,t,i){i.write(t.objNumber.toString()),i.write(ye.whiteSpace),i.write(t.genNumber.toString()),i.write(ye.whiteSpace),i.write(ye.obj),i.write(ye.newLine),e.save(i),i.write(ye.endObj),i.write(ye.newLine)}registerObject(e,t,i){"boolean"==typeof i?(this.objects.setValue(t.objNumber,new dj(e,t,i)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber)):void 0===i&&(this.objects.setValue(t.objNumber,new dj(e,t)),this.maxGenNumIndex=Math.max(this.maxGenNumIndex,t.genNumber))}static dereference(e){return null!=e&&(e=e.object),e}}class dj{get objectNumber(){return this.object}get offset(){let e;return e=this.offsetNumber,e}constructor(e,t,i){this.offsetNumber=e;let r=t;this.generation=r.genNumber,this.object=r.objNumber,this.type=void 0===i?Ny.Normal:Ny.Free}}class Js{constructor(){}}Js.letter=new We(612,792),Js.note=new We(540,720),Js.legal=new We(612,1008),Js.a0=new We(2380,3368),Js.a1=new We(1684,2380),Js.a2=new We(1190,1684),Js.a3=new We(842,1190),Js.a4=new We(595,842),Js.a5=new We(421,595),Js.a6=new We(297,421),Js.a7=new We(210,297),Js.a8=new We(148,210),Js.a9=new We(105,148),Js.a10=new We(74,105),Js.b0=new We(2836,4008),Js.b1=new We(2004,2836),Js.b2=new We(1418,2004),Js.b3=new We(1002,1418),Js.b4=new We(709,1002),Js.b5=new We(501,709),Js.archE=new We(2592,3456),Js.archD=new We(1728,2592),Js.archC=new We(1296,1728),Js.archB=new We(864,1296),Js.archA=new We(648,864),Js.flsa=new We(612,936),Js.halfLetter=new We(396,612),Js.letter11x17=new We(792,1224),Js.ledger=new We(1224,792);var lu=(()=>(function(n){n[n.Portrait=0]="Portrait",n[n.Landscape=1]="Landscape"}(lu||(lu={})),lu))(),oC=(()=>(function(n){n[n.RotateAngle0=0]="RotateAngle0",n[n.RotateAngle90=1]="RotateAngle90",n[n.RotateAngle180=2]="RotateAngle180",n[n.RotateAngle270=3]="RotateAngle270"}(oC||(oC={})),oC))(),Kn=(()=>(function(n){n[n.None=0]="None",n[n.Bottom=1]="Bottom",n[n.Top=2]="Top",n[n.Left=3]="Left",n[n.Right=4]="Right",n[n.Fill=5]="Fill"}(Kn||(Kn={})),Kn))(),ji=(()=>(function(n){n[n.None=0]="None",n[n.TopLeft=1]="TopLeft",n[n.TopCenter=2]="TopCenter",n[n.TopRight=3]="TopRight",n[n.MiddleLeft=4]="MiddleLeft",n[n.MiddleCenter=5]="MiddleCenter",n[n.MiddleRight=6]="MiddleRight",n[n.BottomLeft=7]="BottomLeft",n[n.BottomCenter=8]="BottomCenter",n[n.BottomRight=9]="BottomRight"}(ji||(ji={})),ji))(),is=(()=>(function(n){n[n.None=0]="None",n[n.Top=1]="Top",n[n.Bottom=2]="Bottom",n[n.Left=3]="Left",n[n.Right=4]="Right"}(is||(is={})),is))();class bge{constructor(){this.pdfMargin=40,this.setMargins(this.pdfMargin)}get left(){return this.leftMargin}set left(e){this.leftMargin=e}get top(){return this.topMargin}set top(e){this.topMargin=e}get right(){return this.rightMargin}set right(e){this.rightMargin=e}get bottom(){return this.bottomMargin}set bottom(e){this.bottomMargin=e}set all(e){this.setMargins(e)}setMargins(e,t,i,s){void 0===t?this.leftMargin=this.topMargin=this.rightMargin=this.bottomMargin=e:void 0===i?(this.leftMargin=this.rightMargin=e,this.bottomMargin=this.topMargin=t):(this.leftMargin=e,this.topMargin=t,this.rightMargin=i,this.bottomMargin=s)}clone(){return this}}class vge{constructor(e){this.pageMargins=new bge,this.pageSize=Js.a4,this.rotateAngle=oC.RotateAngle0,this.pageOrientation=lu.Portrait,this.pageOrigin=new xe(0,0),this.isRotation=!1,"number"==typeof e&&this.pageMargins.setMargins(e)}get size(){return this.pageSize}set size(e){this.setSize(e)}get orientation(){return this.pageOrientation}set orientation(e){this.pageOrientation!==e&&(this.pageOrientation=e,this.updateSize(e))}get margins(){return this.pageMargins}set margins(e){this.pageMargins=e}get width(){return this.pageSize.width}set width(e){this.pageSize.width=e}get height(){return this.pageSize.height}set height(e){this.pageSize.height=e}get origin(){return this.pageOrigin}set origin(e){this.pageOrigin=e}get rotate(){return this.rotateAngle}set rotate(e){this.rotateAngle=e,this.isRotation=!0}updateSize(e){let t=Math.min(this.pageSize.width,this.pageSize.height),i=Math.max(this.pageSize.width,this.pageSize.height);switch(e){case lu.Portrait:this.pageSize=new We(t,i);break;case lu.Landscape:this.pageSize=new We(i,t)}}clone(){return this.pageMargins=this.pageMargins.clone(),this}getActualSize(){return new We(this.width-(this.margins.left+this.margins.right),this.height-(this.margins.top+this.margins.bottom))}setSize(e){let t=Math.min(e.width,e.height),i=Math.max(e.width,e.height);this.pageSize=this.orientation===lu.Portrait?new We(t,i):new We(i,t)}}class pj{constructor(e){if(null==e)throw new Error("ArgumentNullException:stream");this.stream=e}clear(){this.stream.clearStream()}setGraphicsState(e){e instanceof Si?(this.stream.write(e.toString()),this.stream.write(ye.whiteSpace),this.writeOperator(ye.setGraphicsState)):(this.stream.write(ye.slash),this.stream.write(e),this.stream.write(ye.whiteSpace),this.writeOperator(ye.setGraphicsState))}executeObject(e){this.stream.write(e.toString()),this.stream.write(ye.whiteSpace),this.writeOperator(ye.paintXObject),this.stream.write(ye.newLine)}closePath(){this.writeOperator(ye.closePath)}clipPath(e){this.stream.write(ye.clipPath),e&&this.stream.write(ye.evenOdd),this.stream.write(ye.whiteSpace),this.stream.write(ye.endPath),this.stream.write(ye.newLine)}closeFillStrokePath(e){this.stream.write(ye.closeFillStrokePath),e?(this.stream.write(ye.evenOdd),this.stream.write(ye.newLine)):this.stream.write(ye.newLine)}fillStrokePath(e){this.stream.write(ye.fillStroke),e?(this.stream.write(ye.evenOdd),this.stream.write(ye.newLine)):this.stream.write(ye.newLine)}fillPath(e){this.stream.write(ye.fill),e?(this.stream.write(ye.evenOdd),this.stream.write(ye.newLine)):this.stream.write(ye.newLine)}endPath(){this.writeOperator(ye.n)}closeFillPath(e){this.writeOperator(ye.closePath),this.stream.write(ye.fill),e?(this.stream.write(ye.evenOdd),this.stream.write(ye.newLine)):this.stream.write(ye.newLine)}closeStrokePath(){this.writeOperator(ye.closeStrokePath)}setTextScaling(e){this.stream.write(tt.floatToString(e)),this.stream.write(ye.whiteSpace),this.writeOperator(ye.setTextScaling)}strokePath(){this.writeOperator(ye.stroke)}restoreGraphicsState(){this.writeOperator(ye.restoreState)}saveGraphicsState(){this.writeOperator(ye.saveState)}startNextLine(e,t){void 0===e?this.writeOperator(ye.goToNextLine):e instanceof xe?(this.writePoint(e),this.writeOperator(ye.setCoords)):(this.writePoint(e,t),this.writeOperator(ye.setCoords))}showText(e){this.checkTextParam(e),this.writeText(e),this.writeOperator(ye.setText)}setLeading(e){this.stream.write(tt.floatToString(e)),this.stream.write(ye.whiteSpace),this.writeOperator(ye.setTextLeading)}beginPath(e,t){this.writePoint(e,t),this.writeOperator(ye.beginPath)}beginText(){this.writeOperator(ye.beginText)}endText(){this.writeOperator(ye.endText)}appendRectangle(e,t,i,s){e instanceof Pe?this.appendRectangle(e.x,e.y,e.width,e.height):(this.writePoint(e,t),this.writePoint(i,s),this.writeOperator(ye.appendRectangle))}appendLineSegment(e,t){e instanceof xe?this.appendLineSegment(e.x,e.y):(this.writePoint(e,t),this.writeOperator(ye.appendLineSegment))}setTextRenderingMode(e){this.stream.write(e.toString()),this.stream.write(ye.whiteSpace),this.writeOperator(ye.setRenderingMode)}setCharacterSpacing(e){this.stream.write(tt.floatToString(e)),this.stream.write(ye.whiteSpace),this.stream.write(ye.setCharacterSpace),this.stream.write(ye.newLine)}setWordSpacing(e){this.stream.write(tt.floatToString(e)),this.stream.write(ye.whiteSpace),this.writeOperator(ye.setWordSpace)}showNextLineText(e,t){e instanceof zo?(this.checkTextParam(e),this.writeText(e),this.writeOperator(ye.setTextOnNewLine)):(this.checkTextParam(e),this.writeText(e,t),this.writeOperator(ye.setTextOnNewLine))}setColorSpace(e,t){if(e instanceof Si&&"boolean"==typeof t){let r=t?ye.selectcolorspaceforstroking:ye.selectcolorspacefornonstroking;this.stream.write(e.toString()),this.stream.write(ye.whiteSpace),this.stream.write(r),this.stream.write(ye.newLine)}else{let s=t;this.setColorSpace(new Si(e),s)}}modifyCtm(e){if(null==e)throw new Error("ArgumentNullException:matrix");this.stream.write(e.toString()),this.stream.write(ye.whiteSpace),this.writeOperator(ye.modifyCtm)}setFont(e,t,i){if("string"==typeof t)this.setFont(e,new Si(t),i);else{if(null==e)throw new Error("ArgumentNullException:font");this.stream.write(t.toString()),this.stream.write(ye.whiteSpace),this.stream.write(tt.floatToString(i)),this.stream.write(ye.whiteSpace),this.writeOperator(ye.setFont)}}writeOperator(e){this.stream.write(e),this.stream.write(ye.newLine)}checkTextParam(e){if(null==e)throw new Error("ArgumentNullException:text");if("string"==typeof e&&""===e)throw new Error("ArgumentException:The text can not be an empty string, text")}writeText(e,t){if(e instanceof zo&&void 0===t)this.stream.write(e.pdfEncode());else{let i,s;t?(i=zo.hexStringMark[0],s=zo.hexStringMark[1]):(i=zo.stringMark[0],s=zo.stringMark[1]),this.stream.write(i),this.stream.write(e),this.stream.write(s)}}writePoint(e,t){e instanceof xe&&void 0===t?this.writePoint(e.x,e.y):(this.stream.write(tt.floatToString(e)),this.stream.write(ye.whiteSpace),t=this.updateY(t),this.stream.write(tt.floatToString(t)),this.stream.write(ye.whiteSpace))}updateY(e){return-e}write(e){let t="";t+=e,t+=ye.newLine,this.writeOperator(t)}writeComment(e){if(!(null!=e&&e.length>0))throw new Error("Invalid comment");{let t="";t+=ye.comment,t+=ye.whiteSpace,t+=e,this.writeOperator(t)}}setColorAndSpace(e,t,i){e.isEmpty||(this.stream.write(e.toString(t,i)),this.stream.write(ye.newLine))}setLineDashPattern(e,t){this.setLineDashPatternHelper(e,t)}setLineDashPatternHelper(e,t){let i="[";if(e.length>1)for(let s=0;s<e.length;s++)i+=s===e.length-1?e[s].toString():e[s].toString()+" ";i+="] ",i+=t.toString(),i+=" "+ye.setDashPattern,this.stream.write(i),this.stream.write(ye.newLine)}setMiterLimit(e){this.stream.write(tt.floatToString(e)),this.stream.write(ye.whiteSpace),this.writeOperator(ye.setMiterLimit)}setLineWidth(e){this.stream.write(tt.floatToString(e)),this.stream.write(ye.whiteSpace),this.writeOperator(ye.setLineWidth)}setLineCap(e){this.stream.write(e.toString()),this.stream.write(ye.whiteSpace),this.writeOperator(ye.setLineCapStyle)}setLineJoin(e){this.stream.write(e.toString()),this.stream.write(ye.whiteSpace),this.writeOperator(ye.setLineJoinStyle)}get position(){return this.stream.position}get length(){let e=0;if(0!==this.stream.data.length&&-1!==this.stream.data.length)for(let t=0;t<this.stream.data.length;t++)e+=this.stream.data[t].length;return e}get document(){return null}appendBezierSegment(e,t,i,s,r,o){e instanceof xe&&t instanceof xe&&i instanceof xe?(this.writePoint(e.x,e.y),this.writePoint(t.x,t.y),this.writePoint(i.x,i.y)):(this.writePoint(e,t),this.writePoint(i,s),this.writePoint(r,o)),this.writeOperator(ye.appendbeziercurve)}setColourWithPattern(e,t,i){if(null!=e){let s=e.length,r=0;for(r=0;r<s;++r)this.stream.write(e[r].toString()),this.stream.write(ye.whiteSpace)}null!=t&&(this.stream.write(t.toString()),this.stream.write(ye.whiteSpace)),this.writeOperator(i?ye.setColorAndPatternStroking:ye.setColorAndPattern)}}class Ha{constructor(e,t){this.pdfColor=new J(0,0,0),this.dashOffsetValue=0,this.penDashPattern=[0],this.pdfDashStyle=no.Solid,this.pdfLineCap=0,this.pdfLineJoin=0,this.penWidth=1,this.internalMiterLimit=0,this.colorSpace=Fi.Rgb,e instanceof hh?this.setBrush(e):e instanceof J&&(this.color=e),"number"==typeof t&&(this.width=t)}get color(){return this.pdfColor}set color(e){this.pdfColor=e}get dashOffset(){return void 0===this.dashOffsetValue||null==this.dashOffsetValue?0:this.dashOffsetValue}set dashOffset(e){this.dashOffsetValue=e}get dashPattern(){return this.penDashPattern}set dashPattern(e){this.penDashPattern=e}get dashStyle(){return this.pdfDashStyle}set dashStyle(e){if(this.pdfDashStyle!==e)switch(this.pdfDashStyle=e,this.pdfDashStyle){case no.Custom:break;case no.Dash:this.penDashPattern=[3,1];break;case no.Dot:this.penDashPattern=[1,1];break;case no.DashDot:this.penDashPattern=[3,1,1,1];break;case no.DashDotDot:this.penDashPattern=[3,1,1,1,1,1];break;case no.Solid:break;default:this.pdfDashStyle=no.Solid,this.penDashPattern=[0]}}get lineCap(){return this.pdfLineCap}set lineCap(e){this.pdfLineCap=e}get lineJoin(){return this.pdfLineJoin}set lineJoin(e){this.pdfLineJoin=e}get miterLimit(){return this.internalMiterLimit}set miterLimit(e){this.internalMiterLimit=e}get width(){return this.penWidth}set width(e){this.penWidth=e}clone(){return this}setBrush(e){let t=e;null!=t&&t instanceof nd&&(this.color=t.color,this.pdfBrush=t),this.color=t.color,this.pdfBrush=t}monitorChanges(e,t,i,s,r,o){let a=!1;null==e&&(a=!0),a=this.dashControl(e,!0,t),t.setLineWidth(this.width),t.setLineJoin(this.lineJoin),t.setLineCap(this.lineCap);let l=this.miterLimit;return l>0&&(t.setMiterLimit(l),a=!0),t.setColorAndSpace(this.color,r,!0),a=!0,a}dashControl(e,t,i){let s=this.width,r=this.getPattern();return i.setLineDashPattern(r,this.dashOffset*s),!0}getPattern(){let e=this.dashPattern;for(let t=0;t<e.length;++t)e[t]*=this.width;return e}}class hu{constructor(e){this.radDegFactor=180/Math.PI,this.transformationMatrix=new sE(1,0,0,void 0===e?1:-1,0,0)}get matrix(){return this.transformationMatrix}set matrix(e){this.transformationMatrix=e}translate(e,t){this.transformationMatrix.translate(e,t)}scale(e,t){this.transformationMatrix.elements[0]=e,this.transformationMatrix.elements[3]=t}rotate(e){e=e*Math.PI/180,this.transformationMatrix.elements[0]=Math.cos(e),this.transformationMatrix.elements[1]=Math.sin(e),this.transformationMatrix.elements[2]=-Math.sin(e),this.transformationMatrix.elements[3]=Math.cos(e)}toString(){let e="";for(let i=0,s=this.transformationMatrix.elements.length;i<s;i++)e+=tt.floatToString(this.transformationMatrix.elements[i]),e+=" ";return e}multiply(e){this.transformationMatrix.multiply(e.matrix)}static degreesToRadians(e){return this.degRadFactor*e}radiansToDegrees(e){return this.radDegFactor*e}clone(){return this}}hu.degRadFactor=Math.PI/180;class sE{constructor(e,t,i,s,r,o){void 0===e?this.metrixElements=[]:"number"==typeof e?(this.metrixElements=[],this.metrixElements.push(e),this.metrixElements.push(t),this.metrixElements.push(i),this.metrixElements.push(s),this.metrixElements.push(r),this.metrixElements.push(o)):this.metrixElements=e}get elements(){return this.metrixElements}get offsetX(){return this.metrixElements[4]}get offsetY(){return this.metrixElements[5]}translate(e,t){this.metrixElements[4]=e,this.metrixElements[5]=t}transform(e){let t=e.x,i=e.y;return new xe(t*this.elements[0]+i*this.elements[2]+this.offsetX,t*this.elements[1]+i*this.elements[3]+this.offsetY)}multiply(e){let t=[];t.push(this.elements[0]*e.elements[0]+this.elements[1]*e.elements[2]),t[1]=this.elements[0]*e.elements[1]+this.elements[1]*e.elements[3],t[2]=this.elements[2]*e.elements[0]+this.elements[3]*e.elements[2],t[3]=this.elements[2]*e.elements[1]+this.elements[3]*e.elements[3],t[4]=this.offsetX*e.elements[0]+this.offsetY*e.elements[2]+e.offsetX,t[5]=this.offsetX*e.elements[1]+this.offsetY*e.elements[3]+e.offsetY;for(let i=0;i<t.length;i++)this.elements[i]=t[i]}dispose(){this.metrixElements=null}clone(){return new sE(this.metrixElements)}}class Cge{constructor(){this.pdf="PDF",this.text="Text",this.imageB="ImageB",this.imageC="ImageC",this.imageI="ImageI"}}class nE{constructor(){this.mKeys=[],this.mValues=[]}size(){return this.mKeys.length}add(e,t){if(null==e||null==t)throw new ReferenceError("Provided key or value is not valid.");if(this.mKeys.indexOf(e)<0)return this.mKeys.push(e),this.mValues.push(t),1;throw new RangeError("An item with the same key has already been added.")}keys(){return this.mKeys}values(){return this.mValues}getValue(e){if(null==e)throw new ReferenceError("Provided key is not valid.");let t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mValues[t]}setValue(e,t){if(null==e)throw new ReferenceError("Provided key is not valid.");let i=this.mKeys.indexOf(e);i<0?(this.mKeys.push(e),this.mValues.push(t)):this.mValues[i]=t}remove(e){if(null==e)throw new ReferenceError("Provided key is not valid.");let t=this.mKeys.indexOf(e);if(t<0)throw new RangeError("No item with the specified key has been added.");return this.mKeys.splice(t,1),this.mValues.splice(t,1),!0}containsKey(e){if(null==e)throw new ReferenceError("Provided key is not valid.");return!(this.mKeys.indexOf(e)<0)}clear(){this.mKeys=[],this.mValues=[]}}class fR{constructor(e,t,i){this.dictionary=new vs,this.dictionaryProperties=new Rn,this.dictionary.items.setValue(this.dictionaryProperties.CA,new tt(e)),this.dictionary.items.setValue(this.dictionaryProperties.ca,new tt(t)),this.dictionary.items.setValue(this.dictionaryProperties.BM,new Si(i.toString()))}get element(){return this.dictionary}}class wge{constructor(){this.automaticFieldsInformation=[]}get automaticFields(){return this.automaticFieldsInformation}add(e){return this.automaticFields.push(e)}}class rE{constructor(e,t,i,s){this.pageNumberFieldLocation=new xe,this.pageNumberField=null,this.scaleX=1,this.scaleY=1,void 0===t&&e instanceof rE?(this.pageNumberField=e.field,this.pageNumberFieldLocation=e.location,this.scaleX=e.scalingX,this.scaleY=e.scalingY):void 0===i&&t instanceof xe&&e instanceof class extends class{constructor(){}drawHelper(e,t,i){let s=0!==t||0!==i,r=null;s&&(r=e.save(),e.translateTransform(t,i)),this.drawInternal(e),s&&e.restore(r)}}{constructor(){super(),this.internalBounds=new Pe(0,0,0,0),this.internalTemplateSize=new We(0,0)}get bounds(){return this.internalBounds}set bounds(e){this.internalBounds=e}get size(){return new We(this.bounds.width,this.bounds.height)}set size(e){this.bounds.width=e.width,this.bounds.height=e.height}get location(){return new xe(this.bounds.x,this.bounds.y)}set location(e){this.bounds.x=e.x,this.bounds.y=e.y}get font(){return this.internalFont}set font(e){this.internalFont=e}get brush(){return this.internalBrush}set brush(e){this.internalBrush=e}get pen(){return this.internalPen}set pen(e){this.internalPen=e}get stringFormat(){return this.internalStringFormat}set stringFormat(e){this.internalStringFormat=e}performDrawHelper(e,t,i,s){if(0===this.bounds.height||0===this.bounds.width){let r=this.getValue(e);this.internalTemplateSize=this.getFont().measureString(r,this.size,this.stringFormat)}}draw(e,t,i){if(void 0===t){let s=new xe(0,0);this.draw(e,s)}else if(t instanceof xe)this.draw(e,t.x,t.y);else{this.drawHelper(e,t,i);let s=new rE(this,new xe(t,i));e.automaticFields.add(s)}}getSize(){return 0===this.bounds.height||0===this.bounds.width?this.internalTemplateSize:this.size}drawInternal(e){}getBrush(){return void 0===this.internalBrush||null==this.internalBrush?new nd(new J(0,0,0)):this.internalBrush}getFont(){return void 0===this.internalFont||null==this.internalFont?Sp.defaultFont:this.internalFont}getPageFromGraphics(e){return null!=e.page?e.page:e.currentPage}}?(this.pageNumberField=e,this.pageNumberFieldLocation=t):(this.pageNumberField=e,this.pageNumberFieldLocation=t,this.scaleX=i,this.scaleY=s)}get location(){return this.pageNumberFieldLocation}set location(e){this.pageNumberFieldLocation=e}get field(){return this.pageNumberField}set field(e){this.pageNumberField=e}get scalingX(){return this.scaleX}set scalingX(e){this.scaleX=e}get scalingY(){return this.scaleY}set scalingY(e){this.scaleY=e}}class aC{constructor(e){this.mPosition=0,this.buffer=new Uint8Array(e),this.dataView=new DataView(this.buffer.buffer)}get position(){return this.mPosition}set position(e){this.mPosition=e}read(e,t,i){for(let s=t;s<i;s++)e.buffer[s]=this.readByte(this.position),this.position++}getBuffer(e){return this.buffer[e]}writeFromBase64String(e){let t=this.encodedString(e);this.buffer=t}encodedString(e){let i,s,r,o,a,l,h,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,d=0,u=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;e.charAt(e.length-1)===t.charAt(64)&&u--;let p=new Uint8Array(0|u);for(;c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),h=t.indexOf(e.charAt(c++)),i=o<<2|a>>4,s=(15&a)<<4|l>>2,r=(3&l)<<6|h,p[d++]=i,p[d++]=s,p[d++]=r;return p}readByte(e){return this.buffer[e]}get internalBuffer(){return this.buffer}get count(){return this.buffer.byteLength}readNextTwoBytes(e){let t=e.readByte(this.position);return this.position++,t<<=8,t|=e.readByte(this.position),this.position++,t}}class cu{constructor(e){this.currentPosition=-1,this.value=e}get status(){return this.objectStatus}set status(e){this.objectStatus=e}get isSaving(){return this.saving}set isSaving(e){this.saving=e}get objectCollectionIndex(){return this.index}set objectCollectionIndex(e){this.index=e}get position(){return this.currentPosition}set position(e){this.currentPosition=e}get clonedObject(){return null}save(e){e.write(this.boolToStr(this.value))}clone(e){return new cu(this.value)}boolToStr(e){return e?"true":"false"}}var Kf=(()=>(function(n){n[n.Unknown=0]="Unknown",n[n.Bmp=1]="Bmp",n[n.Emf=2]="Emf",n[n.Gif=3]="Gif",n[n.Jpeg=4]="Jpeg",n[n.Png=5]="Png",n[n.Wmf=6]="Wmf",n[n.Icon=7]="Icon"}(Kf||(Kf={})),Kf))();let xge=(()=>{class n{constructor(t){this.sof1Marker=193,this.sof2Marker=194,this.sof3Marker=195,this.sof5Marker=197,this.sof6Marker=198,this.sof7Marker=199,this.sof9Marker=201,this.sof10Marker=202,this.sof11Marker=203,this.sof13Marker=205,this.sof14Marker=206,this.sof15Marker=207,this.mFormat=Kf.Unknown,this.mbitsPerComponent=8,this.dictionaryProperties=new Rn,this.mStream=t,this.initialize()}get height(){return this.mHeight}get width(){return this.mWidth}get bitsPerComponent(){return this.mbitsPerComponent}get size(){return this.mImageData.count}get imageData(){return this.mImageData}get imageDataAsNumberArray(){return this.mImageData.internalBuffer.buffer}initialize(){this.mFormat===Kf.Unknown&&this.checkIfJpeg()&&(this.mFormat=Kf.Jpeg,this.parseJpegImage()),this.reset(),this.mImageData=new aC(this.mStream.count),this.mStream.read(this.mImageData,0,this.mImageData.count)}reset(){this.mStream.position=0}parseJpegImage(){this.reset();let t=new aC(this.mStream.count);this.mStream.read(t,0,t.count);let i=4,s=!1,r=256*t.getBuffer(i)+t.getBuffer(i+1);for(;i<t.count;){if(i+=r,!(i<t.count)){s=!0;break}if(192===t.getBuffer(i+1))return this.mHeight=256*t.getBuffer(i+5)+t.getBuffer(i+6),void(this.mWidth=256*t.getBuffer(i+7)+t.getBuffer(i+8));i+=2,r=256*t.getBuffer(i)+t.getBuffer(i+1)}s&&(this.mStream.position=0,this.skip(this.mStream,2),this.readExceededJPGImage(this.mStream))}get format(){return this.mFormat}checkIfJpeg(){this.reset();for(let t=0;t<n.mJpegHeader.length;t++){if(n.mJpegHeader[t]!==this.mStream.readByte(t))return!1;this.mStream.position++}return!0}getImageDictionary(){if(this.mFormat===Kf.Jpeg){this.imageStream=new Ba,this.imageStream.isImage=!0;let i="",s="";for(let r=0;r<this.imageDataAsNumberArray.byteLength;r++)i+=String.fromCharCode(null,this.mStream.readByte(r));for(let r=0;r<i.length;r++)r%2!=0&&(s+=i[r]);return this.imageStream.data=[s],this.imageStream.compress=!1,this.imageStream.items.setValue(this.dictionaryProperties.type,new Si(this.dictionaryProperties.xObject)),this.imageStream.items.setValue(this.dictionaryProperties.subtype,new Si(this.dictionaryProperties.image)),this.imageStream.items.setValue(this.dictionaryProperties.width,new tt(this.width)),this.imageStream.items.setValue(this.dictionaryProperties.height,new tt(this.height)),this.imageStream.items.setValue(this.dictionaryProperties.bitsPerComponent,new tt(this.bitsPerComponent)),this.imageStream.items.setValue(this.dictionaryProperties.filter,new Si(this.dictionaryProperties.dctdecode)),this.imageStream.items.setValue(this.dictionaryProperties.colorSpace,new Si(this.getColorSpace())),this.imageStream.items.setValue(this.dictionaryProperties.decodeParms,this.getDecodeParams()),this.imageStream}return this.imageStream}getColorSpace(){return this.dictionaryProperties.deviceRgb}getDecodeParams(){let t=new vs;return t.items.setValue(this.dictionaryProperties.columns,new tt(this.width)),t.items.setValue(this.dictionaryProperties.blackIs1,new cu(!0)),t.items.setValue(this.dictionaryProperties.k,new tt(-1)),t.items.setValue(this.dictionaryProperties.predictor,new tt(15)),t.items.setValue(this.dictionaryProperties.bitsPerComponent,new tt(this.bitsPerComponent)),t}readExceededJPGImage(t){this.mStream=t;let i=!0;for(;i;)switch(this.getMarker(t)){case this.sof1Marker:case this.sof2Marker:case this.sof3Marker:case this.sof5Marker:case this.sof6Marker:case this.sof7Marker:case this.sof9Marker:case this.sof10Marker:case this.sof11Marker:case this.sof13Marker:case this.sof14Marker:case this.sof15Marker:t.position+=3,this.mHeight=this.mStream.readNextTwoBytes(t),this.mWidth=this.mStream.readNextTwoBytes(t),i=!1;break;default:this.skipStream(t)}}skip(t,i){this.mStream=t;let s=new aC(i);this.mStream.read(s,0,s.count)}getMarker(t){let i=32;for(i=t.readByte(this.mStream.position),t.position++;255!==i;)i=t.readByte(this.mStream.position),t.position++;do{i=t.readByte(this.mStream.position),t.position++}while(255===i);return i}skipStream(t){let i=this.mStream.readNextTwoBytes(t)-2;i>0&&(t.position+=i)}}return n.mPngHeader=[137,80,78,71,13,10,26,10],n.mJpegHeader=[255,216],n.GIF_HEADER="G,I,F,8",n.BMP_HEADER="B,M",n})(),oE=(()=>{class n{constructor(t){this.updateProportionsHelper(t)}convertUnits(t,i,s){return this.convertFromPixels(this.convertToPixels(t,i),s)}convertToPixels(t,i){return t*this.proportions[i]}convertFromPixels(t,i){return t/this.proportions[i]}updateProportionsHelper(t){this.proportions=[t/2.54,t/6,1,t/72,t,t/300,t/25.4]}}return n.horizontalResolution=96,n.verticalResolution=96,n})();class lC{get width(){return this.imageWidth}set width(e){this.imageWidth=e}get height(){return this.imageHeight}set height(e){this.imageHeight=e}set size(e){this.width=e.width,this.height=e.height}get physicalDimension(){return this.imagePhysicalDimension=this.getPointSize(this.width,this.height,this.horizontalResolution,this.verticalResolution),new We(this.width,this.height)}get element(){return this.imageStream}getPointSize(e,t,i,s){if(void 0===i)return this.getPointSize(e,t,oE.horizontalResolution,oE.verticalResolution);{let r=new oE(i),o=new oE(s),a=r.convertUnits(e,Xf.Pixel,Xf.Point),l=o.convertUnits(t,Xf.Pixel,Xf.Point);return new We(a,l)}}}class By extends lC{constructor(e){super(),this.imageStatus=!0,this.dictionaryProperties=new Rn,this.loadImage(e)}loadImage(e){this.initializeAsync(e)}initializeAsync(e){let t=new aC(e.length);t.writeFromBase64String(e),this.decoder=new xge(t),this.height=this.decoder.height,this.width=this.decoder.width,this.bitsPerComponent=this.decoder.bitsPerComponent}save(){this.imageStatus=!0,this.imageStream=this.decoder.getImageDictionary()}}class fj{get empty(){return this.offset===this.length&&this.length===this.checksum&&0===this.checksum}}class Ege{}class Dge{}class Mge{}class mj{get isItalic(){return 0!=(2&this.macStyle)}get isBold(){return 0!=(1&this.macStyle)}}class kge{}class Age{}class Tge{}class Lge{}class Rge{}class Ige{}class hC{get empty(){return this.index===this.width&&this.width===this.charCode&&0===this.charCode}compareTo(e){return this.index-e.index}}class Pge{}class Oge{}class Fge{}class Nge{}class Bge{}class gj{constructor(e){this.int32Size=4,this.int16Size=2,this.int64Size=8,this.bufferLength=e,this.buffer=[]}get data(){if(this.buffer.length<this.bufferLength){let e=this.bufferLength-this.buffer.length;for(let t=0;t<e;t++)this.buffer.push(0)}return this.buffer}get position(){return null==this.internalPosition&&(this.internalPosition=0),this.internalPosition}writeShort(e){this.flush([(65280&e)>>8,255&e])}writeInt(e){this.flush([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}writeUInt(e){this.flush([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}writeString(e){if(null==e)throw new Error("Argument Null Exception : value");let t=[];for(let i=0;i<e.length;i++)t.push(e.charCodeAt(i));this.flush(t)}writeBytes(e){this.flush(e)}flush(e){if(null===e)throw new Error("Argument Null Exception : buff");let t=this.position;for(let i=0;i<e.length;i++)this.buffer[t]=e[i],t++;this.internalPosition+=e.length}}class Vge{constructor(e){this.int32Size=4,this.isTtcFont=!1,this.isMacTtf=!1,this.metricsName="",this.isMacTTF=!1,this.missedGlyphs=0,this.tableNames=["cvt ","fpgm","glyf","head","hhea","hmtx","loca","maxp","prep"],this.entrySelectors=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4],this.fontData=e,this.initialize()}get macintosh(){return null==this.macintoshDictionary&&(this.macintoshDictionary=new Ln),this.macintoshDictionary}get microsoft(){return null==this.microsoftDictionary&&(this.microsoftDictionary=new Ln),this.microsoftDictionary}get macintoshGlyphs(){return null==this.internalMacintoshGlyphs&&(this.internalMacintoshGlyphs=new Ln),this.internalMacintoshGlyphs}get microsoftGlyphs(){return null==this.internalMicrosoftGlyphs&&(this.internalMicrosoftGlyphs=new Ln),this.internalMicrosoftGlyphs}initialize(){void 0===this.metrics&&(this.metrics=new mj),this.readFontDictionary();let e=this.readNameTable(),t=this.readHeadTable();this.initializeFontName(e),this.metrics.macStyle=t.macStyle}readFontDictionary(){this.offset=0,this.checkPreambula();let t=this.readInt16(this.offset);this.readInt16(this.offset),this.readInt16(this.offset),this.readInt16(this.offset),void 0===this.tableDirectory&&(this.tableDirectory=new Ln);for(let o=0;o<t;++o){let a=new fj,l=this.readString(this.int32Size);a.checksum=this.readInt32(this.offset),a.offset=this.readInt32(this.offset),a.length=this.readInt32(this.offset),this.tableDirectory.setValue(l,a)}this.lowestPosition=this.offset,this.isTtcFont||this.fixOffsets()}fixOffsets(){let e=Number.MAX_VALUE,t=this.tableDirectory.keys();for(let s=0;s<t.length;s++){let o=this.tableDirectory.getValue(t[s]).offset;if(e>o&&(e=o,e<=this.lowestPosition))break}let i=e-this.lowestPosition;if(0!==i){let s=new Ln;for(let r=0;r<t.length;r++){let o=this.tableDirectory.getValue(t[r]);o.offset-=i,s.setValue(t[r],o)}this.tableDirectory=s}}checkPreambula(){let e=this.readInt32(this.offset);if(this.isMacTtf=1953658213===e,65536!==e&&1953658213!==e&&1330926671!==e){if(this.isTtcFont=!0,this.offset=0,"ttcf"!==this.readString(4))throw new Error("Can not read TTF font data");if(this.offset+=4,this.readInt32(this.offset)<0)throw new Error("Can not read TTF font data");this.offset=this.readInt32(this.offset),e=this.readInt32(this.offset)}return e}readNameTable(){let e=this.getTable("name");this.offset=e.offset;let t=new Ege;t.formatSelector=this.readUInt16(this.offset),t.recordsCount=this.readUInt16(this.offset),t.offset=this.readUInt16(this.offset),t.nameRecords=[];let s=this.offset;for(let r=0;r<t.recordsCount;r++){this.offset=s;let o=new Dge;o.platformID=this.readUInt16(this.offset),o.encodingID=this.readUInt16(this.offset),o.languageID=this.readUInt16(this.offset),o.nameID=this.readUInt16(this.offset),o.length=this.readUInt16(this.offset),o.offset=this.readUInt16(this.offset),this.offset=e.offset+t.offset+o.offset,o.name=this.readString(o.length,0===o.platformID||3===o.platformID),t.nameRecords[r]=o,s+=12}return t}readHeadTable(){let e=this.getTable("head");this.offset=e.offset;let t=new Mge;return t.version=this.readFixed(this.offset),t.fontRevision=this.readFixed(this.offset),t.checkSumAdjustment=this.readUInt32(this.offset),t.magicNumber=this.readUInt32(this.offset),t.flags=this.readUInt16(this.offset),t.unitsPerEm=this.readUInt16(this.offset),t.created=this.readInt64(this.offset),t.modified=this.readInt64(this.offset),t.xMin=this.readInt16(this.offset),t.yMin=this.readInt16(this.offset),t.xMax=this.readInt16(this.offset),t.yMax=this.readInt16(this.offset),t.macStyle=this.readUInt16(this.offset),t.lowestReadableSize=this.readUInt16(this.offset),t.fontDirectionHint=this.readInt16(this.offset),t.indexToLocalFormat=this.readInt16(this.offset),t.glyphDataFormat=this.readInt16(this.offset),t}readHorizontalHeaderTable(){let e=this.getTable("hhea");this.offset=e.offset;let t=new kge;return t.version=this.readFixed(this.offset),t.ascender=this.readInt16(this.offset),t.descender=this.readInt16(this.offset),t.lineGap=this.readInt16(this.offset),t.advanceWidthMax=this.readUInt16(this.offset),t.minLeftSideBearing=this.readInt16(this.offset),t.minRightSideBearing=this.readInt16(this.offset),t.xMaxExtent=this.readInt16(this.offset),t.caretSlopeRise=this.readInt16(this.offset),t.caretSlopeRun=this.readInt16(this.offset),this.offset+=10,t.metricDataFormat=this.readInt16(this.offset),t.numberOfHMetrics=this.readUInt16(this.offset),t}readOS2Table(){let e=this.getTable("OS/2");this.offset=e.offset;let t=new Age;return t.version=this.readUInt16(this.offset),t.xAvgCharWidth=this.readInt16(this.offset),t.usWeightClass=this.readUInt16(this.offset),t.usWidthClass=this.readUInt16(this.offset),t.fsType=this.readInt16(this.offset),t.ySubscriptXSize=this.readInt16(this.offset),t.ySubscriptYSize=this.readInt16(this.offset),t.ySubscriptXOffset=this.readInt16(this.offset),t.ySubscriptYOffset=this.readInt16(this.offset),t.ySuperscriptXSize=this.readInt16(this.offset),t.ySuperscriptYSize=this.readInt16(this.offset),t.ySuperscriptXOffset=this.readInt16(this.offset),t.ySuperscriptYOffset=this.readInt16(this.offset),t.yStrikeoutSize=this.readInt16(this.offset),t.yStrikeoutPosition=this.readInt16(this.offset),t.sFamilyClass=this.readInt16(this.offset),t.panose=this.readBytes(10),t.ulUnicodeRange1=this.readUInt32(this.offset),t.ulUnicodeRange2=this.readUInt32(this.offset),t.ulUnicodeRange3=this.readUInt32(this.offset),t.ulUnicodeRange4=this.readUInt32(this.offset),t.vendorIdentifier=this.readBytes(4),t.fsSelection=this.readUInt16(this.offset),t.usFirstCharIndex=this.readUInt16(this.offset),t.usLastCharIndex=this.readUInt16(this.offset),t.sTypoAscender=this.readInt16(this.offset),t.sTypoDescender=this.readInt16(this.offset),t.sTypoLineGap=this.readInt16(this.offset),t.usWinAscent=this.readUInt16(this.offset),t.usWinDescent=this.readUInt16(this.offset),t.ulCodePageRange1=this.readUInt32(this.offset),t.ulCodePageRange2=this.readUInt32(this.offset),t.version>1?(t.sxHeight=this.readInt16(this.offset),t.sCapHeight=this.readInt16(this.offset),t.usDefaultChar=this.readUInt16(this.offset),t.usBreakChar=this.readUInt16(this.offset),t.usMaxContext=this.readUInt16(this.offset)):(t.sxHeight=0,t.sCapHeight=0,t.usDefaultChar=0,t.usBreakChar=0,t.usMaxContext=0),t}readPostTable(){let e=this.getTable("post");this.offset=e.offset;let t=new Tge;return t.formatType=this.readFixed(this.offset),t.italicAngle=this.readFixed(this.offset),t.underlinePosition=this.readInt16(this.offset),t.underlineThickness=this.readInt16(this.offset),t.isFixedPitch=this.readUInt32(this.offset),t.minType42=this.readUInt32(this.offset),t.maxType42=this.readUInt32(this.offset),t.minType1=this.readUInt32(this.offset),t.maxType1=this.readUInt32(this.offset),t}readWidthTable(e,t){let i=this.getTable("hmtx");this.offset=i.offset;let s=[];for(let r=0;r<e;r++){let o=new Lge;o.advanceWidth=this.readUInt16(this.offset),o.lsb=this.readInt16(this.offset),s.push(Math.floor(1e3*o.advanceWidth/t))}return s}readCmapTable(){let e=this.getTable("cmap");this.offset=e.offset;let t=new Ige;t.version=this.readUInt16(this.offset),t.tablesCount=this.readUInt16(this.offset);let i=this.offset,s=[];for(let r=0;r<t.tablesCount;r++){this.offset=i;let o=new Rge;o.platformID=this.readUInt16(this.offset),o.encodingID=this.readUInt16(this.offset),o.offset=this.readUInt32(this.offset),i=this.offset,this.readCmapSubTable(o),s[r]=o}return s}readCmapSubTable(e){let t=this.getTable("cmap");this.offset=t.offset+e.offset;let i=this.readUInt16(this.offset),s=this.getCmapEncoding(e.platformID,e.encodingID);if(s!==Va.Unknown)switch(i){case Oy.Apple:this.readAppleCmapTable(e,s);break;case Oy.Microsoft:this.readMicrosoftCmapTable(e,s);break;case Oy.Trimmed:this.readTrimmedCmapTable(e,s)}}readAppleCmapTable(e,t){let i=this.getTable("cmap");this.offset=i.offset+e.offset;let s=new Oge;s.format=this.readUInt16(this.offset),s.length=this.readUInt16(this.offset),s.version=this.readUInt16(this.offset),null==this.maxMacIndex&&(this.maxMacIndex=0);for(let r=0;r<256;++r){let o=new hC;o.index=this.readByte(this.offset),o.width=this.getWidth(o.index),o.charCode=r,this.macintosh.setValue(r,o),this.addGlyph(o,t),this.maxMacIndex=Math.max(r,this.maxMacIndex)}}readMicrosoftCmapTable(e,t){let i=this.getTable("cmap");this.offset=i.offset+e.offset;let s=t===Va.Unicode?this.microsoft:this.macintosh,r=new Fge;r.format=this.readUInt16(this.offset),r.length=this.readUInt16(this.offset),r.version=this.readUInt16(this.offset),r.segCountX2=this.readUInt16(this.offset),r.searchRange=this.readUInt16(this.offset),r.entrySelector=this.readUInt16(this.offset),r.rangeShift=this.readUInt16(this.offset);let o=r.segCountX2/2;r.endCount=this.readUshortArray(o),r.reservedPad=this.readUInt16(this.offset),r.startCount=this.readUshortArray(o),r.idDelta=this.readUshortArray(o),r.idRangeOffset=this.readUshortArray(o),r.glyphID=this.readUshortArray(r.length/2-8-4*o);let l=0,h=0;for(let c=0;c<o;c++)for(let d=r.startCount[c];d<=r.endCount[c]&&65535!==d;d++){if(0===r.idRangeOffset[c])l=d+r.idDelta[c]&65535;else{if(h=c+r.idRangeOffset[c]/2-o+d-r.startCount[c],h>=r.glyphID.length)continue;l=r.glyphID[h]+r.idDelta[c]&65535}let u=new hC;u.index=l,u.width=this.getWidth(u.index);let p=t===Va.Symbol&&61440==(65280&d)?255&d:d;u.charCode=p,s.setValue(p,u),this.addGlyph(u,t)}}readTrimmedCmapTable(e,t){let i=this.getTable("cmap");this.offset=i.offset+e.offset;let s=new Nge;s.format=this.readUInt16(this.offset),s.length=this.readUInt16(this.offset),s.version=this.readUInt16(this.offset),s.firstCode=this.readUInt16(this.offset),s.entryCount=this.readUInt16(this.offset);for(let r=0;r<s.entryCount;++r){let o=new hC;o.index=this.readUInt16(this.offset),o.width=this.getWidth(o.index),o.charCode=r+s.firstCode,this.macintosh.setValue(r,o),this.addGlyph(o,t),this.maxMacIndex=Math.max(r,this.maxMacIndex)}}initializeFontName(e){for(let t=0;t<e.recordsCount;t++){let i=e.nameRecords[t];if(1===i.nameID?this.metrics.fontFamily=i.name:6===i.nameID&&(this.metrics.postScriptName=i.name),null!=this.metrics.fontFamily&&null!=this.metrics.postScriptName)break}}getTable(e){let i,t=new fj;return this.tableDirectory.containsKey(e)&&(i=this.tableDirectory.getValue(e)),null!=i&&(t=i),t}getWidth(e){return this.width[e=e<this.width.length?e:this.width.length-1]}getCmapEncoding(e,t){let i=Va.Unknown;return e==yp.Microsoft&&t==rC.Undefined?i=Va.Symbol:e==yp.Microsoft&&t==rC.Unicode?i=Va.Unicode:e==yp.Macintosh&&t==iE.Roman&&(i=Va.Macintosh),i}addGlyph(e,t){let i=null;switch(t){case Va.Unicode:i=this.microsoftGlyphs;break;case Va.Macintosh:case Va.Symbol:i=this.macintoshGlyphs}i.setValue(e.index,e)}initializeMetrics(e,t,i,s,r,o){this.initializeFontName(e);let a=!1;for(let p=0;p<o.length;p++){let m=o[p];if(this.getCmapEncoding(m.platformID,m.encodingID)===Va.Symbol){a=!0;break}}this.metrics.isSymbol=a,this.metrics.macStyle=t.macStyle,this.metrics.isFixedPitch=0!==r.isFixedPitch,this.metrics.italicAngle=r.italicAngle;let l=1e3/t.unitsPerEm;this.metrics.winAscent=s.sTypoAscender*l,this.metrics.macAscent=i.ascender*l,this.metrics.capHeight=0!==s.sCapHeight?s.sCapHeight:.7*t.unitsPerEm*l,this.metrics.winDescent=s.sTypoDescender*l,this.metrics.macDescent=i.descender*l,this.metrics.leading=(s.sTypoAscender-s.sTypoDescender+s.sTypoLineGap)*l,this.metrics.lineGap=Math.ceil(i.lineGap*l);let h=t.xMin*l,c=Math.ceil(this.metrics.macAscent+this.metrics.lineGap);this.metrics.fontBox=new eE(h,c,t.xMax*l,this.metrics.macDescent),this.metrics.stemV=80,this.metrics.widthTable=this.updateWidth(),this.metrics.contains=this.tableDirectory.containsKey("CFF"),this.metrics.subScriptSizeFactor=t.unitsPerEm/s.ySubscriptYSize,this.metrics.superscriptSizeFactor=t.unitsPerEm/s.ySuperscriptYSize}updateWidth(){let t=[];if(this.metrics.isSymbol)for(let i=0;i<256;i++){let s=this.getGlyph(String.fromCharCode(i));t[i]=s.empty?0:s.width}else{let i=[],s="?",r=String.fromCharCode(32);for(let o=0;o<256;o++){i[0]=o;let a=this.getString(i,0,i.length),h=this.getGlyph(a.length>0?a[0]:s);h.empty?(h=this.getGlyph(r),t[o]=h.empty?0:h.width):t[o]=h.width}}return t}getDefaultGlyph(){return this.getGlyph(Ur.whiteSpace)}getString(e,t,i){let s="";for(let r=0;r<i;r++)s+=String.fromCharCode(e[r+t]);return s}readLocaTable(e){let t=this.getTable("loca");this.offset=t.offset;let i=new Pge,s=null;if(e){let r=t.length/2;s=[];for(let o=0;o<r;o++)s[o]=2*this.readUInt16(this.offset)}else{let r=t.length/4;s=[];for(let o=0;o<r;o++)s[o]=this.readUInt32(this.offset)}return i.offsets=s,i}updateGlyphChars(e,t){e.containsKey(0)||e.setValue(0,0);let i=new Ln,s=e.keys();for(let r=0;r<s.length;r++)i.setValue(s[r],e.getValue(s[r]));for(let r=0;r<s.length;r++)this.processCompositeGlyph(e,s[r],t)}processCompositeGlyph(e,t,i){if(t<i.offsets.length-1){let s=i.offsets[t];if(s!==i.offsets[t+1]){let r=this.getTable("glyf");this.offset=r.offset+s;let o=new Bge;if(o.numberOfContours=this.readInt16(this.offset),o.xMin=this.readInt16(this.offset),o.yMin=this.readInt16(this.offset),o.xMax=this.readInt16(this.offset),o.yMax=this.readInt16(this.offset),o.numberOfContours<0){let a=0,l=!0;for(;l;){let h=this.readUInt16(this.offset),c=this.readUInt16(this.offset);if(e.containsKey(c)||e.setValue(c,0),0==(h&vp.MoreComponents))break;a=0!=(h&vp.Arg1And2AreWords)?4:2,0!=(h&vp.WeHaveScale)?a+=2:0!=(h&vp.WeHaveAnXyScale)?a+=4:0!=(h&vp.WeHaveTwoByTwo)&&(a+=8),this.offset+=a}}}}}generateGlyphTable(e,t,i,s){i=[];let r=e.keys();r.sort((d,u)=>d-u);let o=0;for(let d=0;d<r.length;d++){let u=r[d];t.offsets.length>0&&(o+=t.offsets[u+1]-t.offsets[u])}let a=this.align(o);s=[];for(let d=0;d<a;d++)s.push(0);let l=0,h=0,c=this.getTable("glyf");for(let d=0;d<t.offsets.length;d++)if(i.push(l),h<r.length&&r[h]===d){++h,i[d]=l;let u=t.offsets[d],p=t.offsets[d+1]-u;p>0&&(this.offset=c.offset+u,s=this.read(s,l,p).buffer,l+=p)}return{glyphTableSize:o,newLocaTable:i,newGlyphTable:s}}updateLocaTable(e,t,i){if(null===e)throw new Error("Argument Null Exception : newLocaTable");let s=t?2*e.length:4*e.length,r=this.align(s),o=new gj(r);for(let a=0;a<e.length;a++){let l=e[a];t?(l/=2,o.writeShort(l)):o.writeInt(l)}return{newLocaUpdated:o.data,newLocaSize:s}}align(e){return e+3&-4}getFontProgram(e,t,i,s){if(null===e)throw new Error("Argument Null Exception : newLocaTableOut");if(null===t)throw new Error("Argument Null Exception : newGlyphTable");let o=this.getFontProgramLength(e,t,0),l=o.numTables,h=new gj(o.fontProgramLength);h.writeInt(65536),h.writeShort(l);let c=this.entrySelectors[l];return h.writeShort(16*(1<<(31&c))),h.writeShort(c),h.writeShort(16*(l-(1<<(31&c)))),this.writeCheckSums(h,l,e,t,i,s),this.writeGlyphs(h,e,t),h.data}getFontProgramLength(e,t,i){if(null===e)throw new Error("Argument Null Exception : newLocaTableOut");if(null===t)throw new Error("Argument Null Exception : newGlyphTable");i=2;let s=this.tableNames,r=0;for(let a=0;a<s.length;a++){let l=s[a];if("glyf"!==l&&"loca"!==l){let h=this.getTable(l);h.empty||(++i,r+=this.align(h.length))}}return r+=e.length,r+=t.length,r+=16*i+12,{fontProgramLength:r,numTables:i}}writeCheckSums(e,t,i,s,r,o){if(null===e)throw new Error("Argument Null Exception : writer");if(null===i)throw new Error("Argument Null Exception : newLocaTableOut");if(null===s)throw new Error("Argument Null Exception : newGlyphTable");let a=this.tableNames,l=16*t+12,h=0;for(let c=0;c<a.length;c++){let d=a[c],u=this.getTable(d);if(!u.empty){if(e.writeString(d),"glyf"===d){let p=this.calculateCheckSum(s);e.writeInt(p),h=r}else if("loca"===d){let p=this.calculateCheckSum(i);e.writeInt(p),h=o}else e.writeInt(u.checksum),h=u.length;e.writeUInt(l),e.writeUInt(h),l+=this.align(h)}}}calculateCheckSum(e){if(null===e)throw new Error("Argument Null Exception : bytes");let t=0,i=0,s=0,r=0,o=0;for(let l=0;l<(e.length+1)/4;l++)o+=255&e[t++],r+=255&e[t++],s+=255&e[t++],i+=255&e[t++];let a=i;return a+=s<<8,a+=r<<16,a+=o<<24,a}writeGlyphs(e,t,i){if(null===e)throw new Error("Argument Null Exception : writer");if(null===t)throw new Error("Argument Null Exception : newLocaTableOut");if(null===i)throw new Error("Argument Null Exception : newGlyphTable");let s=this.tableNames;for(let r=0;r<s.length;r++){let o=s[r],a=this.getTable(o);if(!a.empty)if("glyf"===o)e.writeBytes(i);else if("loca"===o)e.writeBytes(t);else{let l=this.align(a.length),h=[];for(let d=0;d<l;d++)h.push(0);this.offset=a.offset;let c=this.read(h,0,a.length);e.writeBytes(c.buffer)}}}setOffset(e){this.offset=e}createInternals(){this.metrics=new mj;let e=this.readNameTable(),t=this.readHeadTable();this.bIsLocaShort=0===t.indexToLocalFormat;let i=this.readHorizontalHeaderTable(),s=this.readOS2Table(),r=this.readPostTable();this.width=this.readWidthTable(i.numberOfHMetrics,t.unitsPerEm);let o=this.readCmapTable();this.initializeMetrics(e,t,i,s,r,o)}getGlyph(e){if("number"==typeof e){let t=null;return this.metrics.isSymbol||null==this.microsoftGlyphs?this.metrics.isSymbol&&null!=this.macintoshGlyphs&&this.macintoshGlyphs.containsKey(e)&&(t=this.macintoshGlyphs.getValue(e)):this.microsoftGlyphs.containsKey(e)&&(t=this.microsoftGlyphs.getValue(e)),null!=t?t:this.getDefaultGlyph()}{let t=null,i=e.charCodeAt(0);return this.metrics.isSymbol||null===this.microsoft?(this.metrics.isSymbol&&null!==this.macintosh||this.isMacTTF)&&(0!==this.maxMacIndex?i%=this.maxMacIndex+1:i=61440==(65280&i)?255&i:i,this.macintosh.containsKey(i)&&(t=this.macintosh.getValue(i),this.isFontPresent=!0)):this.microsoft.containsKey(i)?(t=this.microsoft.getValue(i),i!==Ur.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!0)):i!==Ur.whiteSpace.charCodeAt(0)&&(this.isFontPresent=!1),e===Ur.whiteSpace&&null===t&&(t=new hC),null!==t?t:this.getDefaultGlyph()}}getGlyphChars(e){if(null==e)throw new Error("Argument Null Exception : chars");let t=new Ln,i=e.keys();for(let s=0;s<i.length;s++){let r=i[s],o=this.getGlyph(r);o.empty||t.setValue(o.index,r.charCodeAt(0))}return t}getAllGlyphs(){let e=[],t=new hC,i=0;for(let s=0;s<this.width.length;s++){let r=this.width[s];t.index=i,t.width=r,e.push(t),i++}return e}readFontProgram(e){let t=this.getGlyphChars(e),i=this.readLocaTable(this.bIsLocaShort);t.size()<e.size()&&(this.missedGlyphs=e.size()-t.size()),this.updateGlyphChars(t,i);let s=this.generateGlyphTable(t,i,null,null),r=s.glyphTableSize,a=s.newGlyphTable,l=this.updateLocaTable(s.newLocaTable,this.bIsLocaShort,null);return this.getFontProgram(l.newLocaUpdated,a,r,l.newLocaSize)}convertString(e){if(null===e)throw new Error("Argument Null Exception : text");let t="";for(let i=0;i<e.length;i++){let r=this.getGlyph(e[i]);r.empty||(t+=String.fromCharCode(r.index))}return t}getCharWidth(e){let t=this.getGlyph(e);return t=t.empty?this.getDefaultGlyph():t,t.empty?0:t.width}readString(e,t){if(void 0===t)return this.readString(e,!1);{let i="";if(t)for(let s=0;s<e;s++)s%2!=0&&(i+=String.fromCharCode(this.fontData[this.offset])),this.offset+=1;else for(let s=0;s<e;s++)i+=String.fromCharCode(this.fontData[this.offset]),this.offset+=1;return i}}readFixed(e){return this.readInt16(e)+this.readInt16(e+2)/16384}readInt32(e){let t=this.fontData[e+3],i=this.fontData[e+2],s=this.fontData[e+1],r=this.fontData[e];return this.offset+=4,t+(i<<8)+(s<<16)+(r<<24)}readUInt32(e){let t=this.fontData[e+3],i=this.fontData[e+2],s=this.fontData[e+1],r=this.fontData[e];return this.offset+=4,t|i<<8|s<<16|r<<24}readInt16(e){let t=(this.fontData[e]<<8)+this.fontData[e+1];return t=32768&t?t-65536:t,this.offset+=2,t}readInt64(e){let t=this.readInt32(e+4),i=4294967296*this.readInt32(e)+t;return t<0&&(i+=4294967296),i}readUInt16(e){let t=this.fontData[e]<<8|this.fontData[e+1];return this.offset+=2,t}readUshortArray(e){let t=[];for(let i=0;i<e;i++)t[i]=this.readUInt16(this.offset);return t}readBytes(e){let t=[];for(let i=0;i<e;i++)t.push(this.fontData[this.offset]),this.offset+=1;return t}readByte(e){let t=this.fontData[e];return this.offset+=1,t}read(e,t,i){if(null===e)throw new Error("Argument Null Exception : buffer");let s=0,r=0;do{for(let o=0;o<i-s&&this.offset+o<this.fontData.length;o++)e[t+o]=this.fontData[this.offset+o];r=i-s,this.offset+=r,s+=r}while(s<i);return{buffer:e,written:s}}}class Vy{constructor(){this.lineGap=0}getAscent(e){return this.ascent*tl.charSizeMultiplier*this.getSize(e)}getDescent(e){return this.descent*tl.charSizeMultiplier*this.getSize(e)}getLineGap(e){return this.lineGap*tl.charSizeMultiplier*this.getSize(e)}getHeight(e){let t,i=["cambria","candara","constantia","corbel","cariadings"],s=[];for(let r=0;r<i.length;r++)s.push(i[r]);return t=this.getDescent(e)<0?this.getAscent(e)-this.getDescent(e)+this.getLineGap(e):this.getAscent(e)+this.getDescent(e)+this.getLineGap(e),t}getSize(e){let t=this.size;if(null!=e)switch(e.subSuperScript){case au.SubScript:t/=this.subScriptSizeFactor;break;case au.SuperScript:t/=this.superscriptSizeFactor}return t}clone(){return this.widthTable=yj.clone(),this}get widthTable(){return this.internalWidthTable}set widthTable(e){this.internalWidthTable=e}}class yj{static clone(){return null}}class ja extends yj{items(e){if(e<0||e>=this.widths.length)throw new Error("ArgumentOutOfRangeException:index, The character is not supported by the font.");return this.widths[e]}get length(){return this.widths.length}constructor(e){if(super(),null==e)throw new Error("ArgumentNullException:widths");this.widths=e}clone(){return this.widths=this.widths,this}toArray(){return new os(this.widths)}}class bj{constructor(){this.arabicCharTable=[["\u0621","\ufe80"],["\u0622","\ufe81","\ufe82"],["\u0623","\ufe83","\ufe84"],["\u0624","\ufe85","\ufe86"],["\u0625","\ufe87","\ufe88"],["\u0626","\ufe89","\ufe8a","\ufe8b","\ufe8c"],["\u0627","\ufe8d","\ufe8e"],["\u0628","\ufe8f","\ufe90","\ufe91","\ufe92"],["\u0629","\ufe93","\ufe94"],["\u062a","\ufe95","\ufe96","\ufe97","\ufe98"],["\u062b","\ufe99","\ufe9a","\ufe9b","\ufe9c"],["\u062c","\ufe9d","\ufe9e","\ufe9f","\ufea0"],["\u062d","\ufea1","\ufea2","\ufea3","\ufea4"],["\u062e","\ufea5","\ufea6","\ufea7","\ufea8"],["\u062f","\ufea9","\ufeaa"],["\u0630","\ufeab","\ufeac"],["\u0631","\ufead","\ufeae"],["\u0632","\ufeaf","\ufeb0"],["\u0633","\ufeb1","\ufeb2","\ufeb3","\ufeb4"],["\u0634","\ufeb5","\ufeb6","\ufeb7","\ufeb8"],["\u0635","\ufeb9","\ufeba","\ufebb","\ufebc"],["\u0636","\ufebd","\ufebe","\ufebf","\ufec0"],["\u0637","\ufec1","\ufec2","\ufec3","\ufec4"],["\u0638","\ufec5","\ufec6","\ufec7","\ufec8"],["\u0639","\ufec9","\ufeca","\ufecb","\ufecc"],["\u063a","\ufecd","\ufece","\ufecf","\ufed0"],["\u0640","\u0640","\u0640","\u0640","\u0640"],["\u0641","\ufed1","\ufed2","\ufed3","\ufed4"],["\u0642","\ufed5","\ufed6","\ufed7","\ufed8"],["\u0643","\ufed9","\ufeda","\ufedb","\ufedc"],["\u0644","\ufedd","\ufede","\ufedf","\ufee0"],["\u0645","\ufee1","\ufee2","\ufee3","\ufee4"],["\u0646","\ufee5","\ufee6","\ufee7","\ufee8"],["\u0647","\ufee9","\ufeea","\ufeeb","\ufeec"],["\u0648","\ufeed","\ufeee"],["\u0649","\ufeef","\ufef0","\ufbe8","\ufbe9"],["\u064a","\ufef1","\ufef2","\ufef3","\ufef4"],["\u0671","\ufb50","\ufb51"],["\u0679","\ufb66","\ufb67","\ufb68","\ufb69"],["\u067a","\ufb5e","\ufb5f","\ufb60","\ufb61"],["\u067b","\ufb52","\ufb53","\ufb54","\ufb55"],["\u067e","\ufb56","\ufb57","\ufb58","\ufb59"],["\u067f","\ufb62","\ufb63","\ufb64","\ufb65"],["\u0680","\ufb5a","\ufb5b","\ufb5c","\ufb5d"],["\u0683","\ufb76","\ufb77","\ufb78","\ufb79"],["\u0684","\ufb72","\ufb73","\ufb74","\ufb75"],["\u0686","\ufb7a","\ufb7b","\ufb7c","\ufb7d"],["\u0687","\ufb7e","\ufb7f","\ufb80","\ufb81"],["\u0688","\ufb88","\ufb89"],["\u068c","\ufb84","\ufb85"],["\u068d","\ufb82","\ufb83"],["\u068e","\ufb86","\ufb87"],["\u0691","\ufb8c","\ufb8d"],["\u0698","\ufb8a","\ufb8b"],["\u06a4","\ufb6a","\ufb6b","\ufb6c","\ufb6d"],["\u06a6","\ufb6e","\ufb6f","\ufb70","\ufb71"],["\u06a9","\ufb8e","\ufb8f","\ufb90","\ufb91"],["\u06ad","\ufbd3","\ufbd4","\ufbd5","\ufbd6"],["\u06af","\ufb92","\ufb93","\ufb94","\ufb95"],["\u06b1","\ufb9a","\ufb9b","\ufb9c","\ufb9d"],["\u06b3","\ufb96","\ufb97","\ufb98","\ufb99"],["\u06ba","\ufb9e","\ufb9f"],["\u06bb","\ufba0","\ufba1","\ufba2","\ufba3"],["\u06be","\ufbaa","\ufbab","\ufbac","\ufbad"],["\u06c0","\ufba4","\ufba5"],["\u06c1","\ufba6","\ufba7","\ufba8","\ufba9"],["\u06c5","\ufbe0","\ufbe1"],["\u06c6","\ufbd9","\ufbda"],["\u06c7","\ufbd7","\ufbd8"],["\u06c8","\ufbdb","\ufbdc"],["\u06c9","\ufbe2","\ufbe3"],["\u06cb","\ufbde","\ufbdf"],["\u06cc","\ufbfc","\ufbfd","\ufbfe","\ufbff"],["\u06d0","\ufbe4","\ufbe5","\ufbe6","\ufbe7"],["\u06d2","\ufbae","\ufbaf"],["\u06d3","\ufbb0","\ufbb1"]],this.alef="\u0627",this.alefHamza="\u0623",this.alefHamzaBelow="\u0625",this.alefMadda="\u0622",this.lam="\u0644",this.hamza="\u0621",this.zeroWidthJoiner="\u200d",this.hamzaAbove="\u0654",this.hamzaBelow="\u0655",this.wawHamza="\u0624",this.yehHamza="\u0626",this.waw="\u0648",this.alefMaksura="\u0649",this.yeh="\u064a",this.farsiYeh="\u06cc",this.shadda="\u0651",this.madda="\u0653",this.lwa="\ufefb",this.lwawh="\ufef7",this.lwawhb="\ufef9",this.lwawm="\ufef5",this.bwhb="\u06d3",this.fathatan="\u064b",this.superScriptalef="\u0670",this.vowel=1,this.arabicMapTable=new Ln;for(let e=0;e<this.arabicCharTable.length;e++)this.arabicMapTable.setValue(this.arabicCharTable[e][0],this.arabicCharTable[e])}getCharacterShape(e,t){if(e>=this.hamza&&e<=this.bwhb){let i=[];if(this.arabicMapTable.getValue(e))return i=this.arabicMapTable.getValue(e),i[t+1]}else if(e>=this.lwawm&&e<=this.lwa)return e;return e}shape(e,t){let i="",s="";for(let r=0;r<e.length;r++){let o=e[r];o>="\u0600"&&o<="\u06ff"?s+=o:(s.length>0&&(i+=this.doShape(s.toString(),0),s=""),i+=o)}return s.length>0&&(i+=this.doShape(s.toString(),0)),i.toString()}doShape(e,t){let i="",s=0,r=0,o=0,a="",l=new gR,h=new gR;for(;o<e.length;)if(a=e[o++],s=this.ligature(a,h),0===s){let c=this.getShapeCount(a);r=1===c?0:2,l.Shapes>2&&(r+=1),r%=h.Shapes,h.Value=this.getCharacterShape(h.Value,r),i=this.append(i,l,t),l=h,h=new gR,h.Value=a,h.Shapes=c,h.Ligature++}return r=l.Shapes>2?1:0,r%=h.Shapes,h.Value=this.getCharacterShape(h.Value,r),i=this.append(i,l,t),i=this.append(i,h,t),i.toString()}append(e,t,i){return""!==t.Value&&(e+=t.Value,t.Ligature-=1,""!==t.Type&&(0==(i&this.vowel)&&(e+=t.Type),t.Ligature-=1),""!==t.vowel&&(0==(i&this.vowel)&&(e+=t.vowel),t.Ligature-=1)),e}ligature(e,t){if(""!==t.Value){let i=0;if(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef){if(i=1,""!==t.vowel&&e!==this.shadda&&(i=2),e===this.shadda){if(null!=t.Type)return 0;t.Type=this.shadda}else e===this.hamzaBelow?t.Value===this.alef?(t.Value=this.alefHamzaBelow,i=2):e===this.lwa?(t.Value=this.lwawhb,i=2):t.Type=this.hamzaBelow:e===this.hamzaAbove?t.Value===this.alef?(t.Value=this.alefHamza,i=2):t.Value===this.lwa?(t.Value=this.lwawh,i=2):t.Value===this.waw?(t.Value=this.wawHamza,i=2):t.Value===this.yeh||t.Value===this.alefMaksura||t.Value===this.farsiYeh?(t.Value=this.yehHamza,i=2):t.Type=this.hamzaAbove:e===this.madda?t.Value===this.alef&&(t.Value=this.alefMadda,i=2):t.vowel=e;return 1===i&&t.Ligature++,i}return""!==t.vowel?0:(t.Value===this.lam&&(e===this.alef?(t.Value=this.lwa,t.Shapes=2,i=3):e===this.alefHamza?(t.Value=this.lwawh,t.Shapes=2,i=3):e===this.alefHamzaBelow?(t.Value=this.lwawhb,t.Shapes=2,i=3):e===this.alefMadda&&(t.Value=this.lwawm,t.Shapes=2,i=3)),i)}return 0}getShapeCount(e){if(e>=this.hamza&&e<=this.bwhb&&!(e>=this.fathatan&&e<=this.hamzaBelow||e===this.superScriptalef)){let t=[];if(this.arabicMapTable.getValue(e))return t=this.arabicMapTable.getValue(e),t.length-1}else if(e===this.zeroWidthJoiner)return 4;return 1}}class gR{constructor(){this.shapeValue="",this.shapeType="",this.shapeVowel="",this.shapeLigature=0,this.shapeShapes=1}get Value(){return this.shapeValue}set Value(e){this.shapeValue=e}get Type(){return this.shapeType}set Type(e){this.shapeType=e}get vowel(){return this.shapeVowel}set vowel(e){this.shapeVowel=e}get Ligature(){return this.shapeLigature}set Ligature(e){this.shapeLigature=e}get Shapes(){return this.shapeShapes}set Shapes(e){this.shapeShapes=e}}class Hge{constructor(){this.indexes=[],this.indexLevels=[],this.mirroringShapeCharacters=new Ln,this.update()}doMirrorShaping(e){let t=[];for(let s=0;s<e.length;s++)t[s]=1==(1&this.indexLevels[s])&&this.mirroringShapeCharacters.containsKey(e[s].charCodeAt(0))?String.fromCharCode(this.mirroringShapeCharacters.getValue(e[s].charCodeAt(0))):e[s].toString();let i="";for(let s=0;s<t.length;s++)i+=t[s];return i}getLogicalToVisualString(e,t){let i=new jge;this.indexLevels=i.getVisualOrder(e,t),this.setDefaultIndexLevel(),this.doOrder(0,this.indexLevels.length-1);let s=this.doMirrorShaping(e),r="";for(let o=0;o<this.indexes.length;o++)r+=s[this.indexes[o]];return r.toString()}setDefaultIndexLevel(){for(let e=0;e<this.indexLevels.length;e++)this.indexes[e]=e}doOrder(e,t){let i=this.indexLevels[e],s=i,r=i,o=i;for(let a=e+1;a<=t;++a){let l=this.indexLevels[a];l>i?i=l:l<s&&(s=l),r&=l,o|=l}if(0!=(1&o)){if(1==(1&r))return void this.reArrange(e,t+1);for(s|=1;i>=s;){let a=e;for(;;){for(;a<=t&&!(this.indexLevels[a]>=i);)a+=1;if(a>t)break;let l=a+1;for(;l<=t&&!(this.indexLevels[l]<i);)l+=1;this.reArrange(a,l),a=l+1}i-=1}}}reArrange(e,t){let i=(e+t)/2;for(--t;e<i;++e,--t){let s=this.indexes[e];this.indexes[e]=this.indexes[t],this.indexes[t]=s}}update(){this.mirroringShapeCharacters.setValue(40,41),this.mirroringShapeCharacters.setValue(41,40),this.mirroringShapeCharacters.setValue(60,62),this.mirroringShapeCharacters.setValue(62,60),this.mirroringShapeCharacters.setValue(91,93),this.mirroringShapeCharacters.setValue(93,91),this.mirroringShapeCharacters.setValue(123,125),this.mirroringShapeCharacters.setValue(125,123),this.mirroringShapeCharacters.setValue(171,187),this.mirroringShapeCharacters.setValue(187,171),this.mirroringShapeCharacters.setValue(8249,8250),this.mirroringShapeCharacters.setValue(8250,8249),this.mirroringShapeCharacters.setValue(8261,8262),this.mirroringShapeCharacters.setValue(8262,8261),this.mirroringShapeCharacters.setValue(8317,8318),this.mirroringShapeCharacters.setValue(8318,8317),this.mirroringShapeCharacters.setValue(8333,8334),this.mirroringShapeCharacters.setValue(8334,8333),this.mirroringShapeCharacters.setValue(8712,8715),this.mirroringShapeCharacters.setValue(8713,8716),this.mirroringShapeCharacters.setValue(8714,8717),this.mirroringShapeCharacters.setValue(8715,8712),this.mirroringShapeCharacters.setValue(8716,8713),this.mirroringShapeCharacters.setValue(8717,8714),this.mirroringShapeCharacters.setValue(8725,10741),this.mirroringShapeCharacters.setValue(8764,8765),this.mirroringShapeCharacters.setValue(8765,8764),this.mirroringShapeCharacters.setValue(8771,8909),this.mirroringShapeCharacters.setValue(8786,8787),this.mirroringShapeCharacters.setValue(8787,8786),this.mirroringShapeCharacters.setValue(8788,8789),this.mirroringShapeCharacters.setValue(8789,8788),this.mirroringShapeCharacters.setValue(8804,8805),this.mirroringShapeCharacters.setValue(8805,8804),this.mirroringShapeCharacters.setValue(8806,8807),this.mirroringShapeCharacters.setValue(8807,8806),this.mirroringShapeCharacters.setValue(8808,8809),this.mirroringShapeCharacters.setValue(8809,8808),this.mirroringShapeCharacters.setValue(8810,8811),this.mirroringShapeCharacters.setValue(8811,8810),this.mirroringShapeCharacters.setValue(8814,8815),this.mirroringShapeCharacters.setValue(8815,8814),this.mirroringShapeCharacters.setValue(8816,8817),this.mirroringShapeCharacters.setValue(8817,8816),this.mirroringShapeCharacters.setValue(8818,8819),this.mirroringShapeCharacters.setValue(8819,8818),this.mirroringShapeCharacters.setValue(8820,8821),this.mirroringShapeCharacters.setValue(8821,8820),this.mirroringShapeCharacters.setValue(8822,8823),this.mirroringShapeCharacters.setValue(8823,8822),this.mirroringShapeCharacters.setValue(8824,8825),this.mirroringShapeCharacters.setValue(8825,8824),this.mirroringShapeCharacters.setValue(8826,8827),this.mirroringShapeCharacters.setValue(8827,8826),this.mirroringShapeCharacters.setValue(8828,8829),this.mirroringShapeCharacters.setValue(8829,8828),this.mirroringShapeCharacters.setValue(8830,8831),this.mirroringShapeCharacters.setValue(8831,8830),this.mirroringShapeCharacters.setValue(8832,8833),this.mirroringShapeCharacters.setValue(8833,8832),this.mirroringShapeCharacters.setValue(8834,8835),this.mirroringShapeCharacters.setValue(8835,8834),this.mirroringShapeCharacters.setValue(8836,8837),this.mirroringShapeCharacters.setValue(8837,8836),this.mirroringShapeCharacters.setValue(8838,8839),this.mirroringShapeCharacters.setValue(8839,8838),this.mirroringShapeCharacters.setValue(8840,8841),this.mirroringShapeCharacters.setValue(8841,8840),this.mirroringShapeCharacters.setValue(8842,8843),this.mirroringShapeCharacters.setValue(8843,8842),this.mirroringShapeCharacters.setValue(8847,8848),this.mirroringShapeCharacters.setValue(8848,8847),this.mirroringShapeCharacters.setValue(8849,8850),this.mirroringShapeCharacters.setValue(8850,8849),this.mirroringShapeCharacters.setValue(8856,10680),this.mirroringShapeCharacters.setValue(8866,8867),this.mirroringShapeCharacters.setValue(8867,8866),this.mirroringShapeCharacters.setValue(8870,10974),this.mirroringShapeCharacters.setValue(8872,10980),this.mirroringShapeCharacters.setValue(8873,10979),this.mirroringShapeCharacters.setValue(8875,10981),this.mirroringShapeCharacters.setValue(8880,8881),this.mirroringShapeCharacters.setValue(8881,8880),this.mirroringShapeCharacters.setValue(8882,8883),this.mirroringShapeCharacters.setValue(8883,8882),this.mirroringShapeCharacters.setValue(8884,8885),this.mirroringShapeCharacters.setValue(8885,8884),this.mirroringShapeCharacters.setValue(8886,8887),this.mirroringShapeCharacters.setValue(8887,8886),this.mirroringShapeCharacters.setValue(8905,8906),this.mirroringShapeCharacters.setValue(8906,8905),this.mirroringShapeCharacters.setValue(8907,8908),this.mirroringShapeCharacters.setValue(8908,8907),this.mirroringShapeCharacters.setValue(8909,8771),this.mirroringShapeCharacters.setValue(8912,8913),this.mirroringShapeCharacters.setValue(8913,8912),this.mirroringShapeCharacters.setValue(8918,8919),this.mirroringShapeCharacters.setValue(8919,8918),this.mirroringShapeCharacters.setValue(8920,8921),this.mirroringShapeCharacters.setValue(8921,8920),this.mirroringShapeCharacters.setValue(8922,8923),this.mirroringShapeCharacters.setValue(8923,8922),this.mirroringShapeCharacters.setValue(8924,8925),this.mirroringShapeCharacters.setValue(8925,8924),this.mirroringShapeCharacters.setValue(8926,8927),this.mirroringShapeCharacters.setValue(8927,8926),this.mirroringShapeCharacters.setValue(8928,8929),this.mirroringShapeCharacters.setValue(8929,8928),this.mirroringShapeCharacters.setValue(8930,8931),this.mirroringShapeCharacters.setValue(8931,8930),this.mirroringShapeCharacters.setValue(8932,8933),this.mirroringShapeCharacters.setValue(8933,8932),this.mirroringShapeCharacters.setValue(8934,8935),this.mirroringShapeCharacters.setValue(8935,8934),this.mirroringShapeCharacters.setValue(8936,8937),this.mirroringShapeCharacters.setValue(8937,8936),this.mirroringShapeCharacters.setValue(8938,8939),this.mirroringShapeCharacters.setValue(8939,8938),this.mirroringShapeCharacters.setValue(8940,8941),this.mirroringShapeCharacters.setValue(8941,8940),this.mirroringShapeCharacters.setValue(8944,8945),this.mirroringShapeCharacters.setValue(8945,8944),this.mirroringShapeCharacters.setValue(8946,8954),this.mirroringShapeCharacters.setValue(8947,8955),this.mirroringShapeCharacters.setValue(8948,8956),this.mirroringShapeCharacters.setValue(8950,8957),this.mirroringShapeCharacters.setValue(8951,8958),this.mirroringShapeCharacters.setValue(8954,8946),this.mirroringShapeCharacters.setValue(8955,8947),this.mirroringShapeCharacters.setValue(8956,8948),this.mirroringShapeCharacters.setValue(8957,8950),this.mirroringShapeCharacters.setValue(8958,8951),this.mirroringShapeCharacters.setValue(8968,8969),this.mirroringShapeCharacters.setValue(8969,8968),this.mirroringShapeCharacters.setValue(8970,8971),this.mirroringShapeCharacters.setValue(8971,8970),this.mirroringShapeCharacters.setValue(9001,9002),this.mirroringShapeCharacters.setValue(9002,9001),this.mirroringShapeCharacters.setValue(10088,10089),this.mirroringShapeCharacters.setValue(10089,10088),this.mirroringShapeCharacters.setValue(10090,10091),this.mirroringShapeCharacters.setValue(10091,10090),this.mirroringShapeCharacters.setValue(10092,10093),this.mirroringShapeCharacters.setValue(10093,10092),this.mirroringShapeCharacters.setValue(10094,10095),this.mirroringShapeCharacters.setValue(10095,10094),this.mirroringShapeCharacters.setValue(10096,10097),this.mirroringShapeCharacters.setValue(10097,10096),this.mirroringShapeCharacters.setValue(10098,10099),this.mirroringShapeCharacters.setValue(10099,10098),this.mirroringShapeCharacters.setValue(10100,10101),this.mirroringShapeCharacters.setValue(10101,10100),this.mirroringShapeCharacters.setValue(10197,10198),this.mirroringShapeCharacters.setValue(10198,10197),this.mirroringShapeCharacters.setValue(10205,10206),this.mirroringShapeCharacters.setValue(10206,10205),this.mirroringShapeCharacters.setValue(10210,10211),this.mirroringShapeCharacters.setValue(10211,10210),this.mirroringShapeCharacters.setValue(10212,10213),this.mirroringShapeCharacters.setValue(10213,10212),this.mirroringShapeCharacters.setValue(10214,10215),this.mirroringShapeCharacters.setValue(10215,10214),this.mirroringShapeCharacters.setValue(10216,10217),this.mirroringShapeCharacters.setValue(10217,10216),this.mirroringShapeCharacters.setValue(10218,10219),this.mirroringShapeCharacters.setValue(10219,10218),this.mirroringShapeCharacters.setValue(10627,10628),this.mirroringShapeCharacters.setValue(10628,10627),this.mirroringShapeCharacters.setValue(10629,10630),this.mirroringShapeCharacters.setValue(10630,10629),this.mirroringShapeCharacters.setValue(10631,10632),this.mirroringShapeCharacters.setValue(10632,10631),this.mirroringShapeCharacters.setValue(10633,10634),this.mirroringShapeCharacters.setValue(10634,10633),this.mirroringShapeCharacters.setValue(10635,10636),this.mirroringShapeCharacters.setValue(10636,10635),this.mirroringShapeCharacters.setValue(10637,10640),this.mirroringShapeCharacters.setValue(10638,10639),this.mirroringShapeCharacters.setValue(10639,10638),this.mirroringShapeCharacters.setValue(10640,10637),this.mirroringShapeCharacters.setValue(10641,10642),this.mirroringShapeCharacters.setValue(10642,10641),this.mirroringShapeCharacters.setValue(10643,10644),this.mirroringShapeCharacters.setValue(10644,10643),this.mirroringShapeCharacters.setValue(10645,10646),this.mirroringShapeCharacters.setValue(10646,10645),this.mirroringShapeCharacters.setValue(10647,10648),this.mirroringShapeCharacters.setValue(10648,10647),this.mirroringShapeCharacters.setValue(10680,8856),this.mirroringShapeCharacters.setValue(10688,10689),this.mirroringShapeCharacters.setValue(10689,10688),this.mirroringShapeCharacters.setValue(10692,10693),this.mirroringShapeCharacters.setValue(10693,10692),this.mirroringShapeCharacters.setValue(10703,10704),this.mirroringShapeCharacters.setValue(10704,10703),this.mirroringShapeCharacters.setValue(10705,10706),this.mirroringShapeCharacters.setValue(10706,10705),this.mirroringShapeCharacters.setValue(10708,10709),this.mirroringShapeCharacters.setValue(10709,10708),this.mirroringShapeCharacters.setValue(10712,10713),this.mirroringShapeCharacters.setValue(10713,10712),this.mirroringShapeCharacters.setValue(10714,10715),this.mirroringShapeCharacters.setValue(10715,10714),this.mirroringShapeCharacters.setValue(10741,8725),this.mirroringShapeCharacters.setValue(10744,10745),this.mirroringShapeCharacters.setValue(10745,10744),this.mirroringShapeCharacters.setValue(10748,10749),this.mirroringShapeCharacters.setValue(10749,10748),this.mirroringShapeCharacters.setValue(10795,10796),this.mirroringShapeCharacters.setValue(10796,10795),this.mirroringShapeCharacters.setValue(10797,10796),this.mirroringShapeCharacters.setValue(10798,10797),this.mirroringShapeCharacters.setValue(10804,10805),this.mirroringShapeCharacters.setValue(10805,10804),this.mirroringShapeCharacters.setValue(10812,10813),this.mirroringShapeCharacters.setValue(10813,10812),this.mirroringShapeCharacters.setValue(10852,10853),this.mirroringShapeCharacters.setValue(10853,10852),this.mirroringShapeCharacters.setValue(10873,10874),this.mirroringShapeCharacters.setValue(10874,10873),this.mirroringShapeCharacters.setValue(10877,10878),this.mirroringShapeCharacters.setValue(10878,10877),this.mirroringShapeCharacters.setValue(10879,10880),this.mirroringShapeCharacters.setValue(10880,10879),this.mirroringShapeCharacters.setValue(10881,10882),this.mirroringShapeCharacters.setValue(10882,10881),this.mirroringShapeCharacters.setValue(10883,10884),this.mirroringShapeCharacters.setValue(10884,10883),this.mirroringShapeCharacters.setValue(10891,10892),this.mirroringShapeCharacters.setValue(10892,10891),this.mirroringShapeCharacters.setValue(10897,10898),this.mirroringShapeCharacters.setValue(10898,10897),this.mirroringShapeCharacters.setValue(10899,10900),this.mirroringShapeCharacters.setValue(10900,10899),this.mirroringShapeCharacters.setValue(10901,10902),this.mirroringShapeCharacters.setValue(10902,10901),this.mirroringShapeCharacters.setValue(10903,10904),this.mirroringShapeCharacters.setValue(10904,10903),this.mirroringShapeCharacters.setValue(10905,10906),this.mirroringShapeCharacters.setValue(10906,10905),this.mirroringShapeCharacters.setValue(10907,10908),this.mirroringShapeCharacters.setValue(10908,10907),this.mirroringShapeCharacters.setValue(10913,10914),this.mirroringShapeCharacters.setValue(10914,10913),this.mirroringShapeCharacters.setValue(10918,10919),this.mirroringShapeCharacters.setValue(10919,10918),this.mirroringShapeCharacters.setValue(10920,10921),this.mirroringShapeCharacters.setValue(10921,10920),this.mirroringShapeCharacters.setValue(10922,10923),this.mirroringShapeCharacters.setValue(10923,10922),this.mirroringShapeCharacters.setValue(10924,10925),this.mirroringShapeCharacters.setValue(10925,10924),this.mirroringShapeCharacters.setValue(10927,10928),this.mirroringShapeCharacters.setValue(10928,10927),this.mirroringShapeCharacters.setValue(10931,10932),this.mirroringShapeCharacters.setValue(10932,10931),this.mirroringShapeCharacters.setValue(10939,10940),this.mirroringShapeCharacters.setValue(10940,10939),this.mirroringShapeCharacters.setValue(10941,10942),this.mirroringShapeCharacters.setValue(10942,10941),this.mirroringShapeCharacters.setValue(10943,10944),this.mirroringShapeCharacters.setValue(10944,10943),this.mirroringShapeCharacters.setValue(10945,10946),this.mirroringShapeCharacters.setValue(10946,10945),this.mirroringShapeCharacters.setValue(10947,10948),this.mirroringShapeCharacters.setValue(10948,10947),this.mirroringShapeCharacters.setValue(10949,10950),this.mirroringShapeCharacters.setValue(10950,10949),this.mirroringShapeCharacters.setValue(10957,10958),this.mirroringShapeCharacters.setValue(10958,10957),this.mirroringShapeCharacters.setValue(10959,10960),this.mirroringShapeCharacters.setValue(10960,10959),this.mirroringShapeCharacters.setValue(10961,10962),this.mirroringShapeCharacters.setValue(10962,10961),this.mirroringShapeCharacters.setValue(10963,10964),this.mirroringShapeCharacters.setValue(10964,10963),this.mirroringShapeCharacters.setValue(10965,10966),this.mirroringShapeCharacters.setValue(10966,10965),this.mirroringShapeCharacters.setValue(10974,8870),this.mirroringShapeCharacters.setValue(10979,8873),this.mirroringShapeCharacters.setValue(10980,8872),this.mirroringShapeCharacters.setValue(10981,8875),this.mirroringShapeCharacters.setValue(10988,10989),this.mirroringShapeCharacters.setValue(10989,10988),this.mirroringShapeCharacters.setValue(10999,11e3),this.mirroringShapeCharacters.setValue(11e3,10999),this.mirroringShapeCharacters.setValue(11001,11002),this.mirroringShapeCharacters.setValue(11002,11001),this.mirroringShapeCharacters.setValue(12296,12297),this.mirroringShapeCharacters.setValue(12297,12296),this.mirroringShapeCharacters.setValue(12298,12299),this.mirroringShapeCharacters.setValue(12299,12298),this.mirroringShapeCharacters.setValue(12300,12301),this.mirroringShapeCharacters.setValue(12301,12300),this.mirroringShapeCharacters.setValue(12302,12303),this.mirroringShapeCharacters.setValue(12303,12302),this.mirroringShapeCharacters.setValue(12304,12305),this.mirroringShapeCharacters.setValue(12305,12304),this.mirroringShapeCharacters.setValue(12308,12309),this.mirroringShapeCharacters.setValue(12309,12308),this.mirroringShapeCharacters.setValue(12310,12311),this.mirroringShapeCharacters.setValue(12311,12310),this.mirroringShapeCharacters.setValue(12312,12313),this.mirroringShapeCharacters.setValue(12313,12312),this.mirroringShapeCharacters.setValue(12314,12315),this.mirroringShapeCharacters.setValue(12315,12314),this.mirroringShapeCharacters.setValue(65288,65289),this.mirroringShapeCharacters.setValue(65289,65288),this.mirroringShapeCharacters.setValue(65308,65310),this.mirroringShapeCharacters.setValue(65310,65308),this.mirroringShapeCharacters.setValue(65339,65341),this.mirroringShapeCharacters.setValue(65341,65339),this.mirroringShapeCharacters.setValue(65371,65373),this.mirroringShapeCharacters.setValue(65373,65371),this.mirroringShapeCharacters.setValue(65375,65376),this.mirroringShapeCharacters.setValue(65376,65375),this.mirroringShapeCharacters.setValue(65378,65379),this.mirroringShapeCharacters.setValue(65379,65378)}}class jge{constructor(){this.types=[],this.textOrder=-1,this.rtlCharacterTypes=new Array(65536),this.L=0,this.LRE=1,this.LRO=2,this.R=3,this.AL=4,this.RLE=5,this.RLO=6,this.PDF=7,this.EN=8,this.ES=9,this.ET=10,this.AN=11,this.CS=12,this.NSM=13,this.BN=14,this.B=15,this.S=16,this.WS=17,this.ON=18,this.charTypes=[this.L,this.EN,this.BN,this.ES,this.ES,this.S,this.ET,this.ET,this.B,this.AN,this.AN,this.S,this.CS,this.CS,this.WS,this.NSM,this.NSM,this.B,this.BN,27,this.BN,28,30,this.B,31,31,this.S,32,32,this.WS,33,34,this.ON,35,37,this.ET,38,42,this.ON,43,43,this.ET,44,44,this.CS,45,45,this.ET,46,46,this.CS,47,47,this.CS,48,57,this.EN,58,58,this.CS,59,64,this.ON,65,90,this.L,91,96,this.ON,97,122,this.L,123,126,this.ON,127,132,this.BN,133,133,this.B,134,159,this.BN,160,160,this.CS,161,161,this.ON,162,165,this.ET,166,169,this.ON,170,170,this.L,171,175,this.ON,176,177,this.ET,178,179,this.EN,180,180,this.ON,181,181,this.L,182,184,this.ON,185,185,this.EN,186,186,this.L,187,191,this.ON,192,214,this.L,215,215,this.ON,216,246,this.L,247,247,this.ON,248,696,this.L,697,698,this.ON,699,705,this.L,706,719,this.ON,720,721,this.L,722,735,this.ON,736,740,this.L,741,749,this.ON,750,750,this.L,751,767,this.ON,768,855,this.NSM,856,860,this.L,861,879,this.NSM,880,883,this.L,884,885,this.ON,886,893,this.L,894,894,this.ON,895,899,this.L,900,901,this.ON,902,902,this.L,903,903,this.ON,904,1013,this.L,1014,1014,this.ON,1015,1154,this.L,1155,1158,this.NSM,1159,1159,this.L,1160,1161,this.NSM,1162,1417,this.L,1418,1418,this.ON,1419,1424,this.L,1425,1441,this.NSM,1442,1442,this.L,1443,1465,this.NSM,1466,1466,this.L,1467,1469,this.NSM,1470,1470,this.R,1471,1471,this.NSM,1472,1472,this.R,1473,1474,this.NSM,1475,1475,this.R,1476,1476,this.NSM,1477,1487,this.L,1488,1514,this.R,1515,1519,this.L,1520,1524,this.R,1525,1535,this.L,1536,1539,this.AL,1540,1547,this.L,1548,1548,this.CS,1549,1549,this.AL,1550,1551,this.ON,1552,1557,this.NSM,1558,1562,this.L,1563,1563,this.AL,1564,1566,this.L,1567,1567,this.AL,1568,1568,this.L,1569,1594,this.AL,1595,1599,this.L,1600,1610,this.AL,1611,1624,this.NSM,1625,1631,this.L,1632,1641,this.AN,1642,1642,this.ET,1643,1644,this.AN,1645,1647,this.AL,1648,1648,this.NSM,1649,1749,this.AL,1750,1756,this.NSM,1757,1757,this.AL,1758,1764,this.NSM,1765,1766,this.AL,1767,1768,this.NSM,1769,1769,this.ON,1770,1773,this.NSM,1774,1775,this.AL,1776,1785,this.EN,1786,1805,this.AL,1806,1806,this.L,1807,1807,this.BN,1808,1808,this.AL,1809,1809,this.NSM,1810,1839,this.AL,1840,1866,this.NSM,1867,1868,this.L,1869,1871,this.AL,1872,1919,this.L,1920,1957,this.AL,1958,1968,this.NSM,1969,1969,this.AL,1970,2304,this.L,2305,2306,this.NSM,2307,2363,this.L,2364,2364,this.NSM,2365,2368,this.L,2369,2376,this.NSM,2377,2380,this.L,2381,2381,this.NSM,2382,2384,this.L,2385,2388,this.NSM,2389,2401,this.L,2402,2403,this.NSM,2404,2432,this.L,2433,2433,this.NSM,2434,2491,this.L,2492,2492,this.NSM,2493,2496,this.L,2497,2500,this.NSM,2501,2508,this.L,2509,2509,this.NSM,2510,2529,this.L,2530,2531,this.NSM,2532,2545,this.L,2546,2547,this.ET,2548,2560,this.L,2561,2562,this.NSM,2563,2619,this.L,2620,2620,this.NSM,2621,2624,this.L,2625,2626,this.NSM,2627,2630,this.L,2631,2632,this.NSM,2633,2634,this.L,2635,2637,this.NSM,2638,2671,this.L,2672,2673,this.NSM,2674,2688,this.L,2689,2690,this.NSM,2691,2747,this.L,2748,2748,this.NSM,2749,2752,this.L,2753,2757,this.NSM,2758,2758,this.L,2759,2760,this.NSM,2761,2764,this.L,2765,2765,this.NSM,2766,2785,this.L,2786,2787,this.NSM,2788,2800,this.L,2801,2801,this.ET,2802,2816,this.L,2817,2817,this.NSM,2818,2875,this.L,2876,2876,this.NSM,2877,2878,this.L,2879,2879,this.NSM,2880,2880,this.L,2881,2883,this.NSM,2884,2892,this.L,2893,2893,this.NSM,2894,2901,this.L,2902,2902,this.NSM,2903,2945,this.L,2946,2946,this.NSM,2947,3007,this.L,3008,3008,this.NSM,3009,3020,this.L,3021,3021,this.NSM,3022,3058,this.L,3059,3064,this.ON,3065,3065,this.ET,3066,3066,this.ON,3067,3133,this.L,3134,3136,this.NSM,3137,3141,this.L,3142,3144,this.NSM,3145,3145,this.L,3146,3149,this.NSM,3150,3156,this.L,3157,3158,this.NSM,3159,3259,this.L,3260,3260,this.NSM,3261,3275,this.L,3276,3277,this.NSM,3278,3392,this.L,3393,3395,this.NSM,3396,3404,this.L,3405,3405,this.NSM,3406,3529,this.L,3530,3530,this.NSM,3531,3537,this.L,3538,3540,this.NSM,3541,3541,this.L,3542,3542,this.NSM,3543,3632,this.L,3633,3633,this.NSM,3634,3635,this.L,3636,3642,this.NSM,3643,3646,this.L,3647,3647,this.ET,3648,3654,this.L,3655,3662,this.NSM,3663,3760,this.L,3761,3761,this.NSM,3762,3763,this.L,3764,3769,this.NSM,3770,3770,this.L,3771,3772,this.NSM,3773,3783,this.L,3784,3789,this.NSM,3790,3863,this.L,3864,3865,this.NSM,3866,3892,this.L,3893,3893,this.NSM,3894,3894,this.L,3895,3895,this.NSM,3896,3896,this.L,3897,3897,this.NSM,3898,3901,this.ON,3902,3952,this.L,3953,3966,this.NSM,3967,3967,this.L,3968,3972,this.NSM,3973,3973,this.L,3974,3975,this.NSM,3976,3983,this.L,3984,3991,this.NSM,3992,3992,this.L,3993,4028,this.NSM,4029,4037,this.L,4038,4038,this.NSM,4039,4140,this.L,4141,4144,this.NSM,4145,4145,this.L,4146,4146,this.NSM,4147,4149,this.L,4150,4151,this.NSM,4152,4152,this.L,4153,4153,this.NSM,4154,4183,this.L,4184,4185,this.NSM,4186,5759,this.L,5760,5760,this.WS,5761,5786,this.L,5787,5788,this.ON,5789,5905,this.L,5906,5908,this.NSM,5909,5937,this.L,5938,5940,this.NSM,5941,5969,this.L,5970,5971,this.NSM,5972,6001,this.L,6002,6003,this.NSM,6004,6070,this.L,6071,6077,this.NSM,6078,6085,this.L,6086,6086,this.NSM,6087,6088,this.L,6089,6099,this.NSM,6100,6106,this.L,6107,6107,this.ET,6108,6108,this.L,6109,6109,this.NSM,6110,6127,this.L,6128,6137,this.ON,6138,6143,this.L,6144,6154,this.ON,6155,6157,this.NSM,6158,6158,this.WS,6159,6312,this.L,6313,6313,this.NSM,6314,6431,this.L,6432,6434,this.NSM,6435,6438,this.L,6439,6443,this.NSM,6444,6449,this.L,6450,6450,this.NSM,6451,6456,this.L,6457,6459,this.NSM,6460,6463,this.L,6464,6464,this.ON,6465,6467,this.L,6468,6469,this.ON,6470,6623,this.L,6624,6655,this.ON,6656,8124,this.L,8125,8125,this.ON,8126,8126,this.L,8127,8129,this.ON,8130,8140,this.L,8141,8143,this.ON,8144,8156,this.L,8157,8159,this.ON,8160,8172,this.L,8173,8175,this.ON,8176,8188,this.L,8189,8190,this.ON,8191,8191,this.L,8192,8202,this.WS,8203,8205,this.BN,8206,8206,this.L,8207,8207,this.R,8208,8231,this.ON,8232,8232,this.WS,8233,8233,this.B,8234,8234,this.LRE,8235,8235,this.RLE,8236,8236,this.PDF,8237,8237,this.LRO,8238,8238,this.RLO,8239,8239,this.WS,8240,8244,this.ET,8245,8276,this.ON,8277,8278,this.L,8279,8279,this.ON,8280,8286,this.L,8287,8287,this.WS,8288,8291,this.BN,8292,8297,this.L,8298,8303,this.BN,8304,8304,this.EN,8305,8307,this.L,8308,8313,this.EN,8314,8315,this.ET,8316,8318,this.ON,8319,8319,this.L,8320,8329,this.EN,8330,8331,this.ET,8332,8334,this.ON,8335,8351,this.L,8352,8369,this.ET,8370,8399,this.L,8400,8426,this.NSM,8427,8447,this.L,8448,8449,this.ON,8450,8450,this.L,8451,8454,this.ON,8455,8455,this.L,8456,8457,this.ON,8458,8467,this.L,8468,8468,this.ON,8469,8469,this.L,8470,8472,this.ON,8473,8477,this.L,8478,8483,this.ON,8484,8484,this.L,8485,8485,this.ON,8486,8486,this.L,8487,8487,this.ON,8488,8488,this.L,8489,8489,this.ON,8490,8493,this.L,8494,8494,this.ET,8495,8497,this.L,8498,8498,this.ON,8499,8505,this.L,8506,8507,this.ON,8508,8511,this.L,8512,8516,this.ON,8517,8521,this.L,8522,8523,this.ON,8524,8530,this.L,8531,8543,this.ON,8544,8591,this.L,8592,8721,this.ON,8722,8723,this.ET,8724,9013,this.ON,9014,9082,this.L,9083,9108,this.ON,9109,9109,this.L,9110,9168,this.ON,9169,9215,this.L,9216,9254,this.ON,9255,9279,this.L,9280,9290,this.ON,9291,9311,this.L,9312,9371,this.EN,9372,9449,this.L,9450,9450,this.EN,9451,9751,this.ON,9752,9752,this.L,9753,9853,this.ON,9854,9855,this.L,9856,9873,this.ON,9874,9887,this.L,9888,9889,this.ON,9890,9984,this.L,9985,9988,this.ON,9989,9989,this.L,9990,9993,this.ON,9994,9995,this.L,9996,10023,this.ON,10024,10024,this.L,10025,10059,this.ON,10060,10060,this.L,10061,10061,this.ON,10062,10062,this.L,10063,10066,this.ON,10067,10069,this.L,10070,10070,this.ON,10071,10071,this.L,10072,10078,this.ON,10079,10080,this.L,10081,10132,this.ON,10133,10135,this.L,10136,10159,this.ON,10160,10160,this.L,10161,10174,this.ON,10175,10191,this.L,10192,10219,this.ON,10220,10223,this.L,10224,11021,this.ON,11022,11903,this.L,11904,11929,this.ON,11930,11930,this.L,11931,12019,this.ON,12020,12031,this.L,12032,12245,this.ON,12246,12271,this.L,12272,12283,this.ON,12284,12287,this.L,12288,12288,this.WS,12289,12292,this.ON,12293,12295,this.L,12296,12320,this.ON,12321,12329,this.L,12330,12335,this.NSM,12336,12336,this.ON,12337,12341,this.L,12342,12343,this.ON,12344,12348,this.L,12349,12351,this.ON,12352,12440,this.L,12441,12442,this.NSM,12443,12444,this.ON,12445,12447,this.L,12448,12448,this.ON,12449,12538,this.L,12539,12539,this.ON,12540,12828,this.L,12829,12830,this.ON,12831,12879,this.L,12880,12895,this.ON,12896,12923,this.L,12924,12925,this.ON,12926,12976,this.L,12977,12991,this.ON,12992,13003,this.L,13004,13007,this.ON,13008,13174,this.L,13175,13178,this.ON,13179,13277,this.L,13278,13279,this.ON,13280,13310,this.L,13311,13311,this.ON,13312,19903,this.L,19904,19967,this.ON,19968,42127,this.L,42128,42182,this.ON,42183,64284,this.L,64285,64285,this.R,64286,64286,this.NSM,64287,64296,this.R,64297,64297,this.ET,64298,64310,this.R,64311,64311,this.L,64312,64316,this.R,64317,64317,this.L,64318,64318,this.R,64319,64319,this.L,64320,64321,this.R,64322,64322,this.L,64323,64324,this.R,64325,64325,this.L,64326,64335,this.R,64336,64433,this.AL,64434,64466,this.L,64467,64829,this.AL,64830,64831,this.ON,64832,64847,this.L,64848,64911,this.AL,64912,64913,this.L,64914,64967,this.AL,64968,65007,this.L,65008,65020,this.AL,65021,65021,this.ON,65022,65023,this.L,65024,65039,this.NSM,65040,65055,this.L,65056,65059,this.NSM,65060,65071,this.L,65072,65103,this.ON,65104,65104,this.CS,65105,65105,this.ON,65106,65106,this.CS,65107,65107,this.L,65108,65108,this.ON,65109,65109,this.CS,65110,65118,this.ON,65119,65119,this.ET,65120,65121,this.ON,65122,65123,this.ET,65124,65126,this.ON,65127,65127,this.L,65128,65128,this.ON,65129,65130,this.ET,65131,65131,this.ON,65132,65135,this.L,65136,65140,this.AL,65141,65141,this.L,65142,65276,this.AL,65277,65278,this.L,65279,65279,this.BN,65280,65280,this.L,65281,65282,this.ON,65283,65285,this.ET,65286,65290,this.ON,65291,65291,this.ET,65292,65292,this.CS,65293,65293,this.ET,65294,65294,this.CS,65295,65295,this.ES,65296,65305,this.EN,65306,65306,this.CS,65307,65312,this.ON,65313,65338,this.L,65339,65344,this.ON,65345,65370,this.L,65371,65381,this.ON,65382,65503,this.L,65504,65505,this.ET,65506,65508,this.ON,65509,65510,this.ET,65511,65511,this.L,65512,65518,this.ON,65519,65528,this.L,65529,65531,this.BN,65532,65533,this.ON,65534,65535,this.L];for(let e=0;e<this.charTypes.length;++e){let t=this.charTypes[e],i=this.charTypes[++e],s=this.charTypes[++e];for(;t<=i;)this.rtlCharacterTypes[t++]=s}}getVisualOrder(e,t){this.types=this.getCharacterCode(e),this.textOrder=t?this.LRE:this.L,this.doVisualOrder();let i=[];for(let s=0;s<this.levels.length;s++)i[s]=this.levels[s];return i}getCharacterCode(e){let t=[];for(let i=0;i<e.length;i++)t[i]=this.rtlCharacterTypes[e[i].charCodeAt(0)];return t}setDefaultLevels(){for(let e=0;e<this.length;e++)this.levels[e]=this.textOrder}setLevels(){this.setDefaultLevels();for(let e=0;e<this.length;++e){let t=this.levels[e];0!=(128&t)&&(t&=127,this.result[e]=0==(1&t)?this.L:this.R),this.levels[e]=t}}updateLevels(e,t,i){if(0==(1&t))for(let s=e;s<i;++s)this.result[s]===this.R?this.levels[s]+=1:this.result[s]!==this.L&&(this.levels[s]+=2);else for(let s=e;s<i;++s)this.result[s]!==this.R&&(this.levels[s]+=1)}doVisualOrder(){this.length=this.types.length,this.result=this.types,this.levels=[],this.setLevels(),this.length=this.getEmbeddedCharactersLength();let e=this.textOrder,t=0;for(;t<this.length;){let i=this.levels[t],s=0==(1&Math.max(e,i))?this.L:this.R,r=t+1;for(;r<this.length&&this.levels[r]===i;)++r;let a=0==(1&Math.max(r<this.length?this.levels[r]:this.textOrder,i))?this.L:this.R;this.checkNSM(t,r,i,s,a),this.updateLevels(t,i,r),e=i,t=r}this.checkEmbeddedCharacters(this.length)}getEmbeddedCharactersLength(){let e=0;for(let t=0;t<this.length;++t)this.types[t]===this.LRE||this.types[t]===this.RLE||this.types[t]===this.LRO||this.types[t]===this.RLO||this.types[t]===this.PDF||this.types[t]===this.BN||(this.result[e]=this.result[t],this.levels[e]=this.levels[t],e++);return e}checkEmbeddedCharacters(e){for(let t=this.types.length-1;t>=0;--t)this.types[t]===this.LRE||this.types[t]===this.RLE||this.types[t]===this.LRO||this.types[t]===this.RLO||this.types[t]===this.PDF||this.types[t]===this.BN?(this.result[t]=this.types[t],this.levels[t]=-1):(this.result[t]=this.result[e-=1],this.levels[t]=this.levels[e]);for(let t=0;t<this.types.length;t++)-1===this.levels[t]&&(this.levels[t]=0===t?this.textOrder:this.levels[t-1])}checkNSM(e,t,i,s,r){let o=s;for(let a=e;a<t;++a)this.result[a]===this.NSM?this.result[a]=o:o=this.result[a];this.checkEuropeanDigits(e,t,i,s,r)}checkEuropeanDigits(e,t,i,s,r){for(let o=e;o<t;++o)if(this.result[o]===this.EN)for(let a=o-1;a>=e;--a)if(this.result[a]===this.L||this.result[a]===this.R||this.result[a]===this.AL){this.result[a]===this.AL&&(this.result[o]=this.AN);break}this.checkArabicCharacters(e,t,i,s,r)}checkArabicCharacters(e,t,i,s,r){for(let o=e;o<t;++o)this.result[o]===this.AL&&(this.result[o]=this.R);this.checkEuropeanNumberSeparator(e,t,i,s,r)}checkEuropeanNumberSeparator(e,t,i,s,r){for(let o=e+1;o<t-1;++o)if(this.result[o]===this.ES||this.result[o]===this.CS){let a=this.result[o-1],l=this.result[o+1];a===this.EN&&l===this.EN?this.result[o]=this.EN:this.result[o]===this.CS&&a===this.AN&&l===this.AN&&(this.result[o]=this.AN)}this.checkEuropeanNumberTerminator(e,t,i,s,r)}checkEuropeanNumberTerminator(e,t,i,s,r){for(let o=e;o<t;++o)if(this.result[o]===this.ET){let a=o,l=[];l.push(this.ET);let h=this.getLength(a,t,l),c=a===e?s:this.result[a-1];if(c!==this.EN&&(c=h===t?r:this.result[h]),c===this.EN)for(let d=a;d<h;++d)this.result[d]=this.EN;o=h}this.checkOtherNeutrals(e,t,i,s,r)}checkOtherNeutrals(e,t,i,s,r){for(let o=e;o<t;++o)(this.result[o]===this.ES||this.result[o]===this.ET||this.result[o]===this.CS)&&(this.result[o]=this.ON);this.checkOtherCharacters(e,t,i,s,r)}checkOtherCharacters(e,t,i,s,r){for(let o=e;o<t;++o)if(this.result[o]===this.EN){let a=s;for(let l=o-1;l>=e;--l)if(this.result[l]===this.L||this.result[l]===this.R){a=this.result[l];break}a===this.L&&(this.result[o]=this.L)}this.checkCommanCharacters(e,t,i,s,r)}getLength(e,t,i){for(--e;++e<t;){let s=this.result[e];for(let r=0;r<i.length;++r)s===i[r]&&(e=this.getLength(++e,t,i));return e}return t}checkCommanCharacters(e,t,i,s,r){for(let o=e;o<t;++o)if(this.result[o]===this.WS||this.result[o]===this.ON||this.result[o]===this.B||this.result[o]===this.S){let a=o,h=this.getLength(a,t,[this.B,this.S,this.WS,this.ON]),c=0,d=0,u=0;a===e?c=s:(c=this.result[a-1],(c===this.AN||c===this.EN)&&(c=this.R)),h===t?d=r:(d=this.result[h],(d===this.AN||d===this.EN)&&(d=this.R)),u=c===d?c:0==(1&i)?this.L:this.R;for(let p=a;p<h;++p)this.result[p]=u;o=h}}}class vj{constructor(){this.openBracket="(",this.closeBracket=")"}layout(e,t,i,s,r){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");let o=[];return t.Unicode?o=this.customLayout(e,i,r,t,s):(o=[],o[0]=e),o}splitLayout(e,t,i,s,r){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");let o=[];return o=this.customSplitLayout(e,t,i,s,r),o}getGlyphIndex(e,t,i,s,r){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");if(s=null,0===e.length)return{success:!1,glyphs:s};let h=(new bj).shape(e,0),d=t.fontInternal.ttfReader;s=new Uint16Array(h.length);let u=0;for(let p=0,m=h.length;p<m;p++){let b=d.getGlyph(h[p]);null!=b&&(s[u++]=b.index)}return{success:!0,glyphs:s}}customLayout(e,t,i,s,r){if(null==r){if(null==e)throw new Error("ArgumentNullException : line");let o=null;return null!=i&&i.textDirection!==Tl.None&&(o=(new Hge).getLogicalToVisualString(e,t)),o}{if(null==e)throw new Error("ArgumentNullException : line");if(null==s)throw new Error("ArgumentNullException : font");let o=null;if(null!=i&&i.textDirection!==Tl.None){let h=(new bj).shape(e,0);o=this.customLayout(h,t,i)}let a=[];if(r){let l=o.split(""),h=l.length;for(let c=0;c<h;c++)l[c]=this.addChars(s,l[c]);a=l}else a=[],a[0]=this.addChars(s,o);return a}}addChars(e,t){let i=t;if(null==e)throw new Error("ArgumentNullException : font");if(null==i)throw new Error("ArgumentNullException : line");let s=i,o=e.fontInternal.ttfReader;e.setSymbols(s),s=o.convertString(s);let a=zo.toUnicodeArray(s,!1);return s=zo.byteToString(a),s}customSplitLayout(e,t,i,s,r){if(null==e)throw new Error("ArgumentNullException : line");if(null==t)throw new Error("ArgumentNullException : font");return this.customLayout(e,i,r).split("")}}var Rr=(()=>(function(n){n[n.Start=0]="Start",n[n.Line=1]="Line",n[n.Bezier3=3]="Bezier3",n[n.Bezier=3]="Bezier",n[n.PathTypeMask=7]="PathTypeMask",n[n.DashMode=16]="DashMode",n[n.PathMarker=32]="PathMarker",n[n.CloseSubpath=128]="CloseSubpath"}(Rr||(Rr={})),Rr))();class wp extends hh{constructor(e){super(),this.mbackground=new J(255,255,255),this.mbStroking=!1,this.mfunction=null,this.dictionaryProperties=new Rn,this.mpatternDictionary=new vs,this.mpatternDictionary.items.setValue(this.dictionaryProperties.type,new Si(this.dictionaryProperties.pattern)),this.mpatternDictionary.items.setValue(this.dictionaryProperties.patternType,new tt(2)),this.shading=e,this.colorSpace=Fi.Rgb}get background(){return this.mbackground}set background(e){this.mbackground=e;let t=this.shading;e.isEmpty?t.remove(this.dictionaryProperties.background):t.items.setValue(this.dictionaryProperties.background,e.toArray(this.colorSpace))}get antiAlias(){return this.shading.items.getValue(this.dictionaryProperties.antiAlias).value}set antiAlias(e){let t=this.shading,i=t.items.getValue(this.dictionaryProperties.antiAlias);null==i&&void 0===i?(i=new cu(e),t.items.setValue(this.dictionaryProperties.antiAlias,i)):i.value=e}get function(){return this.mfunction}set function(e){this.mfunction=e,null!=e&&void 0!==e?this.shading.items.setValue(this.dictionaryProperties.function,new on(this.mfunction)):this.shading.remove(this.dictionaryProperties.function)}get bBox(){return this.shading.items.getValue(this.dictionaryProperties.bBox)}set bBox(e){let t=this.shading;null==e&&void 0===e?t.remove(this.dictionaryProperties.bBox):t.items.setValue(this.dictionaryProperties.bBox,e)}get colorSpace(){return this.mcolorSpace}set colorSpace(e){let t=this.shading.items.getValue(this.dictionaryProperties.colorSpace);if(e!==this.mcolorSpace||null==t){this.mcolorSpace=e;let i=this.colorSpaceToDeviceName(e);this.shading.items.setValue(this.dictionaryProperties.colorSpace,new Si(i))}}get stroking(){return this.mbStroking}set stroking(e){this.mbStroking=e}get patternDictionary(){return null==this.mpatternDictionary&&(this.mpatternDictionary=new vs),this.mpatternDictionary}get shading(){return this.mshading}set shading(e){if(null==e)throw new Error("ArgumentNullException : Shading");e!==this.mshading&&(this.mshading=e,this.patternDictionary.items.setValue(this.dictionaryProperties.shading,new on(this.mshading)))}get matrix(){return this.mmatrix}set matrix(e){if(null==e)throw new Error("ArgumentNullException : Matrix");if(e!==this.mmatrix){this.mmatrix=e.clone();let t=new os(this.mmatrix.matrix.elements);this.mpatternDictionary.items.setValue(this.dictionaryProperties.matrix,t)}}monitorChanges(e,t,i,s,r){let o=!1;if(e instanceof wp){this.colorSpace!==r&&(this.colorSpace=r,this.resetFunction()),t.setColorSpace("Pattern",this.mbStroking);let l=i.getResources().getName(this);t.setColourWithPattern(null,l,this.mbStroking),o=!0}return o}resetChanges(e){}colorSpaceToDeviceName(e){let t;switch(e){case Fi.Rgb:t="DeviceRGB"}return t}resetPatternDictionary(e){this.mpatternDictionary=e}cloneAntiAliasingValue(e){if(null==e)throw new Error("ArgumentNullException : brush");let i=this.shading.items.getValue(this.dictionaryProperties.antiAlias);null!=i&&e.shading.items.setValue(this.dictionaryProperties.antiAlias,new cu(i.value))}cloneBackgroundValue(e){let t=this.background;t.isEmpty||(e.background=t)}get element(){return this.patternDictionary}}class cC{constructor(e,t){if(this.dictionaryProperties=new Rn,this.writeTransformation=!0,void 0!==e)if(e instanceof We&&void 0===t){this.content=new Ba;let i=new We(e.width,e.height);this.setSize(i),this.initialize()}else this.content=new Ba,this.setSize(new We(e,t)),this.initialize()}get size(){return this.templateSize}get width(){return this.size.width}get height(){return this.size.height}get graphics(){if(null==this.pdfGraphics||void 0===this.pdfGraphics){let e=new bR(this),t=new yR(this.size,e,this.content);this.pdfGraphics=t,this.pdfGraphics.initializeCoordinates()}return this.pdfGraphics}getResources(){return null==this.resources&&(this.resources=new dC,this.content.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources}initialize(){this.addType(),this.addSubType()}addType(){let e=new Si(this.dictionaryProperties.xObject);this.content.items.setValue(this.dictionaryProperties.type,e)}addSubType(){let e=new Si(this.dictionaryProperties.form);this.content.items.setValue(this.dictionaryProperties.subtype,e)}reset(e){void 0===e?(null!=this.resources&&(this.resources=null,this.content.remove(this.dictionaryProperties.resources)),null!=this.graphics&&this.graphics.reset(this.size)):(this.setSize(e),this.reset())}setSize(e){let t=new Pe(new xe(0,0),e),i=os.fromRectangle(t);this.content.items.setValue(this.dictionaryProperties.bBox,i),this.templateSize=e}get element(){return this.content}}class dC extends vs{constructor(e){super(e),this.properties=new vs}get names(){return this.getNames()}get document(){return this.pdfDocument}set document(e){this.pdfDocument=e}getName(e){let t=e.element,i=null;if(this.names.containsKey(t)&&(i=this.names.getValue(t)),null==i){let s=this.generateName();i=new Si(s),this.names.setValue(t,i),(e instanceof tl||e instanceof cC||e instanceof wp||e instanceof du||e instanceof fR||e instanceof lC||e instanceof By)&&this.add(e,i)}return i}getNames(){null==this.pdfNames&&(this.pdfNames=new nE);let e=this.items.getValue(this.dictionaryProperties.font);if(null!=e){let t=e;t=cj.dereference(e)}return this.pdfNames}requireProcedureSet(e){if(null==e)throw new Error("ArgumentNullException:procedureSetName");let t=this.items.getValue(this.dictionaryProperties.procset);null==t&&(t=new os,this.items.setValue(this.dictionaryProperties.procset,t));let i=new Si(e);t.contains(i)||t.add(i)}removeFont(e){let t=null,i=this.pdfNames.keys();for(let s=0;s<this.pdfNames.size();s++)if(this.pdfNames.getValue(i[s])===new Si(e)){t=i[s];break}null!=t&&this.pdfNames.remove(t)}generateName(){return class{static getNewGuidString(){return"aaaaaaaa-aaaa-4aaa-baaa-aaaaaaaaaaaa".replace(/[ab]/g,e=>{let t=16*Math.random()|0;return("a"===e?t:3&t|8).toString(16)})}}.getNewGuidString()}add(e,t){if(e instanceof tl){let i=null,s=this.items.getValue(this.dictionaryProperties.font);null!=s?(i=s,i=s):(i=new vs,this.items.setValue(this.dictionaryProperties.font,i)),i.items.setValue(t.value,new on(e.element))}else if(e instanceof cC){let i;i=this.items.getValue(this.dictionaryProperties.xObject),null==i&&(i=new vs,this.items.setValue(this.dictionaryProperties.xObject,i)),i.items.setValue(t.value,new on(e.element))}else if(e instanceof hh){if(e instanceof wp||e instanceof du){let i=e.element;if(null!=i){let s=this.items.getValue(this.dictionaryProperties.pattern);null==s&&(s=new vs,this.items.setValue(this.dictionaryProperties.pattern,s)),s.items.setValue(t.value,new on(i))}}}else if(e instanceof fR){let i=e.element,s=null;s=this.items.getValue(this.dictionaryProperties.extGState),null==s&&(s=new vs,this.items.setValue(this.dictionaryProperties.extGState,s)),s.items.setValue(t.value,new on(i))}else{let s,i=this.Dictionary.items.getValue(this.dictionaryProperties.xObject);void 0!==this.pdfDocument&&(s=this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.getValue(this.dictionaryProperties.xObject)),this.Dictionary.items.values();let a,o=!1;if(void 0===this.pdfDocument||void 0!==typeof s&&null!=s){if(void 0!==this.pdfDocument){let l=s.items.values();for(let h=0;h<l.length;h++)void 0!==l[h]&&void 0!==l[h].element&&l[h].element.data[0]===e.element.data[0]&&(a=l[h],o=!0)}}else s=new vs,this.pdfDocument.sections.element.items.getValue(this.dictionaryProperties.resources).items.setValue(this.dictionaryProperties.xObject,s);if(null==i&&(i=new vs,this.Dictionary.items.setValue(this.dictionaryProperties.xObject,i)),o&&void 0!==a)i.items.setValue(t.value,a);else{let l=new on(e.element);i.items.setValue(t.value,l),void 0!==this.pdfDocument&&s.items.setValue(t.value,l)}}}}class du extends hh{constructor(e,t){super(),this.mStroking=!1,this.mLocation=new xe(0,0),this.mDictionaryProperties=new Rn;let i=null;e instanceof eE?i=e:e instanceof We&&(i=new eE(0,0,e.width,e.height)),null!==t&&t instanceof rd&&(this.mPage=t),this.brushStream=new Ba,this.mResources=new dC,this.brushStream.items.setValue(this.mDictionaryProperties.resources,this.mResources),this.setBox(i),this.setObligatoryFields(),null!==t&&t instanceof rd&&(this.mPage=t,this.graphics.colorSpace=t.document.colorSpace)}initialize(e,t,i,s){this.mPage=t,this.mLocation=i,this.mTransformationMatrix=s,this.tempBrushStream=this.brushStream,this.brushStream=new Ba;let r=new dC;return this.brushStream.items.setValue(this.mDictionaryProperties.resources,r),this.setBox(e),this.setObligatoryFields(),this}get location(){return this.mLocation}set location(e){this.mLocation=e}setObligatoryFields(){if(this.brushStream.items.setValue(this.mDictionaryProperties.patternType,new tt(1)),this.brushStream.items.setValue(this.mDictionaryProperties.paintType,new tt(1)),this.brushStream.items.setValue(this.mDictionaryProperties.tilingType,new tt(1)),this.brushStream.items.setValue(this.mDictionaryProperties.xStep,new tt(this.mBox.right-this.mBox.left)),this.brushStream.items.setValue(this.mDictionaryProperties.yStep,new tt(this.mBox.bottom-this.mBox.top)),null!=this.mPage&&null!=this.mLocation)if(null==this.mTransformationMatrix&&void 0===this.mTransformationMatrix)this.brushStream.items.setValue(this.mDictionaryProperties.matrix,new os([1,0,0,1,this.mLocation.x,this.mPage.size.height%this.rectangle.size.height-this.mLocation.y]));else{let e=0,t=this.mTransformationMatrix.matrix.elements;e=this.mPage.size.height>this.rectangle.size.height?this.mTransformationMatrix.matrix.offsetY-this.mPage.size.height%this.rectangle.size.height:this.mPage.size.height%this.rectangle.size.height+this.mTransformationMatrix.matrix.offsetY,this.brushStream.items.setValue(this.mDictionaryProperties.matrix,new os([t[0],t[1],t[2],t[3],t[4],e]))}}setBox(e){this.mBox=e;let t=new Pe(this.mBox.left,this.mBox.top,this.mBox.right,this.mBox.bottom);this.brushStream.items.setValue(this.mDictionaryProperties.bBox,os.fromRectangle(t))}get rectangle(){return this.mBox}get size(){return this.mBox.size}get graphics(){if(null==this.mGraphics&&void 0===this.mGraphics){let e=new bR(this),t=new yR(this.size,e,this.brushStream);this.mGraphics=t,this.mResources=this.getResources(),this.mGraphics.initializeCoordinates()}return this.mGraphics}getResources(){return this.mResources}get stroking(){return this.mStroking}set stroking(e){this.mStroking=e}clone(){let e=this.initialize(this.rectangle,this.mPage,this.location,this.mTransformationMatrix);return null!=this.mTransformationMatrix&&null!=this.mTransformationMatrix.matrix&&e.brushStream.items.setValue(this.mDictionaryProperties.matrix,new os(this.mTransformationMatrix.matrix.elements)),e.brushStream.data=this.tempBrushStream.data,e.mResources=new dC(this.mResources),e.brushStream.items.setValue(this.mDictionaryProperties.resources,e.mResources),e}monitorChanges(e,t,i,s,r){let o=!1;if(e!==this){t.setColorSpace("Pattern",this.mStroking);let l=i.getResources().getName(this);t.setColourWithPattern(null,l,this.mStroking),o=!0}else if(e instanceof du){t.setColorSpace("Pattern",this.mStroking);let l=i.getResources().getName(this);t.setColourWithPattern(null,l,this.mStroking),o=!0}return o}resetChanges(e){}get element(){return this.brushStream}}let yR=(()=>{class n{constructor(t,i,s){this.currentColorSpace=Fi.Rgb,this.previousTextRenderingMode=sd.Fill,this.previousCharacterSpacing=0,this.previousWordSpacing=0,this.previousTextScaling=100,this.procedureSets=new Cge,this.isNormalRender=!0,this.isUseFontSize=!1,this.isItalic=!1,this.isEmfTextScaled=!1,this.isEmf=!1,this.isEmfPlus=!1,this.isBaselineFormat=!0,this.emfScalingFactor=new We(0,0),this.colorSpaceChanged=!1,this.dictionaryProperties=new Rn,this.isOverloadWithPosition=!1,this.isPointOverload=!1,this.currentColorSpaces=["RGB","CMYK","GrayScale","Indexed"],this.isImageOptimized=!1,this.graphicsState=[],this.istransparencySet=!1,this.internalAutomaticFields=null,this.startCutIndex=-1,this.getResources=i,this.canvasSize=t,this.pdfStreamWriter=s instanceof pj?s:new pj(s),this.initialize()}get stringLayoutResult(){return this.pdfStringLayoutResult}get size(){return this.canvasSize}get mediaBoxUpperRightBound(){return void 0===this.internalMediaBoxUpperRightBound&&(this.internalMediaBoxUpperRightBound=0),this.internalMediaBoxUpperRightBound}set mediaBoxUpperRightBound(t){this.internalMediaBoxUpperRightBound=t}get clientSize(){return new We(this.clipBounds.width,this.clipBounds.height)}get colorSpace(){return this.currentColorSpace}set colorSpace(t){this.currentColorSpace=t}get streamWriter(){return this.pdfStreamWriter}get matrix(){return null==this.transformationMatrix&&(this.transformationMatrix=new hu),this.transformationMatrix}get layer(){return this.pageLayer}get page(){return this.pageLayer.page}get automaticFields(){return(null==this.internalAutomaticFields||void 0===this.internalAutomaticFields)&&(this.internalAutomaticFields=new wge),this.internalAutomaticFields}initialize(){this.bStateSaved=!1,this.currentPen=null,this.currentBrush=null,this.currentFont=null,this.currentColorSpace=Fi.Rgb,this.bCSInitialized=!1,this.transformationMatrix=null,this.previousTextRenderingMode=-1,this.previousCharacterSpacing=-1,this.previousWordSpacing=-1,this.previousTextScaling=-100,this.currentStringFormat=null,this.clipBounds=new Pe(new xe(0,0),this.size),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)}drawPdfTemplate(t,i,s){if(void 0===s){if(null==t)throw Error("ArgumentNullException-template");this.drawPdfTemplate(t,i,t.size)}else{if(null==t)throw Error("ArgumentNullException-template");let r=t.width>0?s.width/t.width:1,o=t.height>0?s.height/t.height:1,a=!(1===r&&1===o),l=this.save(),h=new hu;null!=this.pageLayer&&this.getTranslateTransform(i.x,i.y+s.height,h),a&&this.getScaleTransform(r,o,h),this.pdfStreamWriter.modifyCtm(h);let d=this.getResources.getResources().getName(t);this.pdfStreamWriter.executeObject(d),this.restore(l);let u=t.graphics;if(null!=u)for(let p=0;p<u.automaticFields.automaticFields.length;p++){let m=u.automaticFields.automaticFields[p],y=new xe(m.location.x+i.x,m.location.y+i.y);this.automaticFields.add(new rE(m.field,y,0==t.size.width?0:s.width/t.size.width,0==t.size.height?0:s.height/t.size.height)),this.page.dictionary.modify()}this.getResources.getResources().requireProcedureSet(this.procedureSets.imageB),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageC),this.getResources.getResources().requireProcedureSet(this.procedureSets.imageI),this.getResources.getResources().requireProcedureSet(this.procedureSets.text)}}drawString(t,i,s,r,o,a,l,h,c){if("string"==typeof t&&i instanceof tl&&(s instanceof Ha||null===s)&&(r instanceof hh||null===r)&&"number"==typeof o&&"number"==typeof a&&(l instanceof Zf||null===l)&&void 0===h)this.isOverloadWithPosition=!0,this.drawString(t,i,s,r,o,a,this.clientSize.width-o,0,l);else{let d=s,u=r,p=o,m=a,y=l,b=h,v=c,w=(new Cp).layout(t,i,v,new We(y,b),this.isOverloadWithPosition,this.clientSize);if(!w.empty){let _=this.checkCorrectLayoutRectangle(w.actualSize,p,m,v);y<=0&&(p=_.x,y=_.width),b<=0&&(m=_.y,b=_.height),this.drawStringLayoutResult(w,i,d,u,new Pe(p,m,y,b),v),this.isEmfTextScaled=!1,this.emfScalingFactor=new We(0,0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),this.isNormalRender=!0,this.pdfStringLayoutResult=w,this.isUseFontSize=!1}}drawLine(t,i,s,r,o){if(i instanceof xe)this.drawLine(t,i.x,i.y,s.x,s.y);else{let a=i,l=s,h=r,c=o;this.stateControl(t,null,null);let d=this.streamWriter;d.beginPath(a,l),d.appendLineSegment(h,c),d.strokePath(),this.getResources.getResources().requireProcedureSet(this.procedureSets.pdf)}}drawRectangle(t,i,s,r,o,a){if(t instanceof Ha&&"number"==typeof i)this.drawRectangle(t,null,i,s,r,o);else if(t instanceof hh&&"number"==typeof i)this.drawRectangle(null,t,i,s,r,o);else{let l=s,h=r,c=o,d=a;if(i instanceof du){let y;this.bCSInitialized=!1,y=null!=this.layer&&null!=this.layer.page?this.layer.page.size.height-this.matrix.matrix.offsetY+h:this.clientSize.height-this.matrix.matrix.offsetY+h,i.location=new xe(this.matrix.matrix.offsetX+l,y),i.graphics.colorSpace=this.colorSpace}else i instanceof wp&&(i.colorSpace=this.colorSpace);i instanceof nd&&i.color.isEmpty&&(i=null);let u=t,p=i;this.stateControl(u,p,null),this.streamWriter.appendRectangle(l,h,c,d),this.drawPathHelper(u,p,!1)}}drawPathHelper(t,i,s,r){if("boolean"==typeof s)this.drawPathHelper(t,i,gp.Winding,s);else{let a=null!=t,l=null!=i,h=s===gp.Alternate;a&&l?this.streamWriter.fillStrokePath(h):a||l?a?this.streamWriter.strokePath():this.streamWriter.fillPath(h):this.streamWriter.endPath()}}drawImage(t,i,s,r,o){if("number"==typeof i&&"number"==typeof s&&void 0===r){let a=t.physicalDimension;this.drawImage(t,i,s,a.width,a.height)}else{let a=i,l=s,h=o;t.save();let c=new hu;this.getTranslateTransform(a,l+h,c),this.getScaleTransform(r,o,c),this.pdfStreamWriter.write("q"),this.pdfStreamWriter.modifyCtm(c);let d=this.getResources.getResources();void 0!==this.pageLayer&&null!=this.page&&(d.document=this.page.document);let u=d.getName(t);void 0!==this.pageLayer&&this.page.setResources(d),this.pdfStreamWriter.executeObject(u),this.pdfStreamWriter.write(ye.restoreState),this.pdfStreamWriter.write(ye.newLine);let p=this.getResources.getResources();p.requireProcedureSet(this.procedureSets.imageB),p.requireProcedureSet(this.procedureSets.imageC),p.requireProcedureSet(this.procedureSets.imageI),p.requireProcedureSet(this.procedureSets.text)}}getLineBounds(t,i,s,r,o){let a;if(!i.empty&&t<i.lineCount&&t>=0){let l=i.lines[t],c=this.getTextVerticalAlignShift(i.actualSize.height,r.height,o)+r.y+i.lineHeight*t,d=l.width,u=this.getHorizontalAlignShift(d,r.width,o),p=this.getLineIndent(l,o,r,0===t);u+=this.rightToLeft(o)?0:p;let m=r.x+u,y=this.shouldJustify(l,r.width,o)?r.width-p:d-p;a=new Pe(m,c,y,i.lineHeight)}else a=new Pe(0,0,0,0);return a}checkCorrectLayoutRectangle(t,i,s,r){let o=new Pe(i,s,t.width,t.width);if(null!=r){switch(r.alignment){case so.Center:o.x-=o.width/2;break;case so.Right:o.x-=o.width}switch(r.lineAlignment){case ou.Middle:o.y-=o.height/2;break;case ou.Bottom:o.y-=o.height}}return o}setLayer(t){this.pageLayer=t;let i=t.page;null!=i&&void 0!==i&&(i.beginSave=this.pageSave)}pageSave(t){if(null!=t.graphics.automaticFields)for(let i=0;i<t.graphics.automaticFields.automaticFields.length;i++){let s=t.graphics.automaticFields.automaticFields[i];s.field.performDraw(t.graphics,s.location,s.scalingX,s.scalingY)}}drawStringLayoutResult(t,i,s,r,o,a){if(t.empty)throw new Error("ArgumentNullException:result");{this.applyStringSettings(i,s,r,a,o);let l=null!=a?a.horizontalScalingFactor:100;l!==this.previousTextScaling&&!this.isEmfTextScaled&&(this.pdfStreamWriter.setTextScaling(l),this.previousTextScaling=l);let h=null==a||0===a.lineSpacing?i.height:a.lineSpacing+i.height,d=0;d=null!=a&&a.subSuperScript===au.SubScript?h-(i.height+i.metrics.getDescent(a)):h-i.metrics.getAscent(a),this.shift=d,this.pdfStreamWriter.startNextLine(o.x,o.y-d),this.pdfStreamWriter.setLeading(+h);let u=0,p="";for(let y=0;y<t.lines.length;y++)if(u+=t.lineHeight,o.y+u>this.clientSize.height){this.startCutIndex=y;break}for(let y=this.startCutIndex;y<t.lines.length&&y>=0;y++)p+=t.lines[y].text;let m=new Pe(o.x,o.y,o.width,o.height);this.drawLayoutResult(t,i,a,o),this.underlineStrikeoutText(s,r,t,i,m,a),this.isEmfPlus=!1,this.isUseFontSize=!1,-1!==this.startCutIndex&&this.getNextPage().graphics.drawString(p,i,s,r,o.x,0,o.width,0,a)}}getNextPage(){let t=this.currentPage.section,i=null,s=t.indexOf(this.currentPage);return i=s===t.count-1?t.add():t.getPages()[s+1],i}setClip(t,i){void 0===i?this.setClip(t,gp.Winding):(this.pdfStreamWriter.appendRectangle(t),this.pdfStreamWriter.clipPath(i===gp.Alternate))}applyStringSettings(t,i,s,r,o){s instanceof du?(this.bCSInitialized=!1,s.graphics.colorSpace=this.colorSpace):s instanceof wp&&(this.bCSInitialized=!1,s.colorSpace=this.colorSpace);let a=this.getTextRenderingMode(i,s,r);this.stateControl(i,s,t,r),this.pdfStreamWriter.beginText(),a!==this.previousTextRenderingMode&&(this.pdfStreamWriter.setTextRenderingMode(a),this.previousTextRenderingMode=a);let l=null!=r?r.characterSpacing:0;l!==this.previousCharacterSpacing&&!this.isEmfTextScaled&&(this.pdfStreamWriter.setCharacterSpacing(l),this.previousCharacterSpacing=l);let h=null!=r?r.wordSpacing:0;h!==this.previousWordSpacing&&(this.pdfStreamWriter.setWordSpacing(h),this.previousWordSpacing=h)}getTextVerticalAlignShift(t,i,s){let r=0;if(i>=0&&null!=s&&s.lineAlignment!==ou.Top)switch(s.lineAlignment){case ou.Middle:r=(i-t)/2;break;case ou.Bottom:r=i-t}return r}drawLayoutResult(t,i,s,r){let o=this.getTextVerticalAlignShift(t.actualSize.height,r.height,s);0!==o&&this.pdfStreamWriter.startNextLine(0,o);let l=null!=i&&i.isUnicode,c=t.lines;for(let d=0,u=c.length;d<u&&d!==this.startCutIndex;d++){let p=c[d],b=this.getHorizontalAlignShift(p.width,r.width,s),v=this.getLineIndent(p,s,r,0===d);b+=this.rightToLeft(s)?0:v,0!==b&&!this.isEmfTextScaled&&this.pdfStreamWriter.startNextLine(b,0),l?this.drawUnicodeLine(p,r,i,s):this.drawAsciiLine(p,r,i,s),0!==b&&!this.isEmfTextScaled&&this.pdfStreamWriter.startNextLine(-b,0),this.isOverloadWithPosition&&c.length>1&&(this.pdfStreamWriter.startNextLine(-r.x,0),r.x=0,r.width=this.clientSize.width,this.isOverloadWithPosition=!1,this.isPointOverload=!0)}this.getResources.getResources().requireProcedureSet(this.procedureSets.text),0!==o&&this.pdfStreamWriter.startNextLine(0,-(o-t.lineHeight)),this.pdfStreamWriter.endText()}drawAsciiLine(t,i,s,r){this.justifyLine(t,i.width,r);let o="";if(-1!==t.text.indexOf("(")||-1!==t.text.indexOf(")"))for(let l=0;l<t.text.length;l++)o+="("===t.text[l]?"\\(":")"===t.text[l]?"\\)":t.text[l];""===o&&(o=t.text),this.pdfStreamWriter.showNextLineText(new zo("("+o+")"))}drawUnicodeLine(t,i,s,r){let o=t.text,l=null!=r&&r.rightToLeft,h=null!=r&&(0!==r.wordSpacing||r.alignment===so.Justify),c=s,d=this.justifyLine(t,i.width,r),u=new vj;if(l||null!=r&&r.textDirection!==Tl.None){let p=null,m=null!=r&&r.alignment===so.Right;p=u.layout(o,c,null!=r&&r.textDirection!==Tl.None?r.textDirection===Tl.RightToLeft:m,h,r);let y=null;y=p.length>1?u.splitLayout(o,c,null!=r&&r.textDirection!==Tl.None?r.textDirection===Tl.RightToLeft:m,h,r):[o],this.drawUnicodeBlocks(p,y,c,r,d)}else if(h){let p=this.breakUnicodeLine(o,c,null);this.drawUnicodeBlocks(p.tokens,p.words,c,r,d)}else{let p=this.convertToUnicode(o,c),m=this.getUnicodeString(p);this.streamWriter.showNextLineText(m)}}drawUnicodeBlocks(t,i,s,r,o){if(null==t)throw new Error("Argument Null Exception : blocks");if(null==i)throw new Error("Argument Null Exception : words");if(null==s)throw new Error("Argument Null Exception : font");this.streamWriter.startNextLine();let a=0,l=0,h=0,c=0;try{null!=r&&(h=r.firstLineIndent,c=r.paragraphIndent,r.firstLineIndent=0,r.paragraphIndent=0);let d=s.getCharWidth(Ur.whiteSpace,r)+o,u=null!=r?r.characterSpacing:0;d+=u+(null!=r&&0===o?r.wordSpacing:0);for(let m=0;m<t.length;m++){let y=t[m],b=i[m],v=0;if(0!==a&&this.streamWriter.startNextLine(a,0),b.length>0){v+=s.measureString(b,r).width,v+=u;let C=this.getUnicodeString(y);this.streamWriter.showText(C)}m!==t.length-1&&(a=v+d,l+=a)}l>0&&this.streamWriter.startNextLine(-l,0)}finally{null!=r&&(r.firstLineIndent=h,r.paragraphIndent=c)}}breakUnicodeLine(t,i,s){if(null===t)throw new Error("Argument Null Exception : line");s=t.split(null);let r=[];for(let o=0;o<s.length;o++){let l=this.convertToUnicode(s[o],i);r[o]=l}return{tokens:r,words:s}}getUnicodeString(t){if(null===t)throw new Error("Argument Null Exception : token");let i=new zo(t);return i.converted=!0,i.encode=sC.ForceEncoding.Ascii,i}convertToUnicode(t,i){let s=null;if(null==t)throw new Error("Argument Null Exception : text");if(null==i)throw new Error("Argument Null Exception : ttfFont");if(i.fontInternal instanceof class{constructor(e,t){if(this.nameString="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.dictionaryProperties=new Rn,this.isCompress=!1,this.isEmbedFont=!1,this.cmapPrefix="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap"+ye.newLine+"/CIDSystemInfo << /Registry (Adobe)/Ordering (UCS)/Supplement 0>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange"+ye.newLine,this.cmapEndCodespaceRange="endcodespacerange"+ye.newLine,this.cmapBeginRange="beginbfrange"+ye.newLine,this.cmapEndRange="endbfrange"+ye.newLine,this.cmapSuffix="endbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend end"+ye.newLine,null==e)throw new Error("ArgumentNullException:base64String");this.fontSize=t,this.fontString=e,this.Initialize()}getCharWidth(e){return this.ttfReader.getCharWidth(e)}getLineWidth(e){let t=0;for(let i=0,s=e.length;i<s;i++)t+=this.getCharWidth(e[i]);return t}Initialize(){let e=new aC(this.fontString.length);e.writeFromBase64String(this.fontString),this.fontData=e.internalBuffer,this.ttfReader=new Vge(this.fontData),this.ttfMetrics=this.ttfReader.metrics}createInternals(){this.fontDictionary=new vs,this.fontProgram=new Ba,this.cmap=new Ba,this.descendantFont=new vs,this.metrics=new Vy,this.ttfReader.createInternals(),this.ttfMetrics=this.ttfReader.metrics,this.initializeMetrics(),this.subsetName=this.getFontName(),this.createDescendantFont(),this.createCmap(),this.createFontDictionary(),this.createFontProgram()}getInternals(){return this.fontDictionary}initializeMetrics(){let e=this.ttfReader.metrics;this.metrics.ascent=e.macAscent,this.metrics.descent=e.macDescent,this.metrics.height=e.macAscent-e.macDescent+e.lineGap,this.metrics.name=e.fontFamily,this.metrics.postScriptName=e.postScriptName,this.metrics.size=this.fontSize,this.metrics.widthTable=new ja(e.widthTable),this.metrics.lineGap=e.lineGap,this.metrics.subScriptSizeFactor=e.subScriptSizeFactor,this.metrics.superscriptSizeFactor=e.superscriptSizeFactor,this.metrics.isBold=e.isBold}getFontName(){let t,e="";for(let i=0;i<6;i++){let s=Math.floor(26*Math.random())+0;e+=this.nameString[s]}return e+="+",e+=this.ttfReader.metrics.postScriptName,t=e.toString(),t=this.formatName(t),t}formatName(e){let t=e.replace("(","#28");return t=t.replace(")","#29"),t=t.replace("[","#5B"),t=t.replace("]","#5D"),t=t.replace("<","#3C"),t=t.replace(">","#3E"),t=t.replace("{","#7B"),t=t.replace("}","#7D"),t=t.replace("/","#2F"),t=t.replace("%","#25"),t.replace(" ","#20")}createDescendantFont(){this.descendantFont.isFont=!0,this.descendantFont.descendantFontBeginSave=new rge(this),this.descendantFont.items.setValue(this.dictionaryProperties.type,new Si(this.dictionaryProperties.font)),this.descendantFont.items.setValue(this.dictionaryProperties.subtype,new Si(this.dictionaryProperties.cIDFontType2)),this.descendantFont.items.setValue(this.dictionaryProperties.baseFont,new Si(this.subsetName)),this.descendantFont.items.setValue(this.dictionaryProperties.cIDToGIDMap,new Si(this.dictionaryProperties.identity)),this.descendantFont.items.setValue(this.dictionaryProperties.dw,new tt(1e3)),this.fontDescriptor=this.createFontDescriptor(),this.descendantFont.items.setValue(this.dictionaryProperties.fontDescriptor,new on(this.fontDescriptor));let e=this.createSystemInfo();this.descendantFont.items.setValue(this.dictionaryProperties.cIDSystemInfo,e)}createFontDescriptor(){let e=new vs,t=this.ttfReader.metrics;return e.isFont=!0,e.items.setValue(this.dictionaryProperties.type,new Si(this.dictionaryProperties.fontDescriptor)),e.items.setValue(this.dictionaryProperties.fontName,new Si(this.subsetName)),e.items.setValue(this.dictionaryProperties.flags,new tt(this.getDescriptorFlags())),e.items.setValue(this.dictionaryProperties.fontBBox,os.fromRectangle(this.getBoundBox())),e.items.setValue(this.dictionaryProperties.missingWidth,new tt(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.stemV,new tt(t.stemV)),e.items.setValue(this.dictionaryProperties.italicAngle,new tt(t.italicAngle)),e.items.setValue(this.dictionaryProperties.capHeight,new tt(t.capHeight)),e.items.setValue(this.dictionaryProperties.ascent,new tt(t.winAscent)),e.items.setValue(this.dictionaryProperties.descent,new tt(t.winDescent)),e.items.setValue(this.dictionaryProperties.leading,new tt(t.leading)),e.items.setValue(this.dictionaryProperties.avgWidth,new tt(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.fontFile2,new on(this.fontProgram)),e.items.setValue(this.dictionaryProperties.maxWidth,new tt(t.widthTable[32])),e.items.setValue(this.dictionaryProperties.xHeight,new tt(0)),e.items.setValue(this.dictionaryProperties.stemH,new tt(0)),e}createCmap(){this.cmap.cmapBeginSave=new cge(this)}createFontDictionary(){this.fontDictionary.isFont=!0,this.fontDictionary.fontDictionaryBeginSave=new oge(this),this.fontDictionary.items.setValue(this.dictionaryProperties.type,new Si(this.dictionaryProperties.font)),this.fontDictionary.items.setValue(this.dictionaryProperties.baseFont,new Si(this.subsetName)),this.fontDictionary.items.setValue(this.dictionaryProperties.subtype,new Si(this.dictionaryProperties.type0)),this.fontDictionary.items.setValue(this.dictionaryProperties.encoding,new Si(this.dictionaryProperties.identityH));let e=new os,t=new on(this.descendantFont);e.isFont=!0,e.add(t),this.fontDictionary.items.setValue(this.dictionaryProperties.descendantFonts,e)}createFontProgram(){this.fontProgram.fontProgramBeginSave=new dge(this)}createSystemInfo(){let e=new vs;return e.items.setValue(this.dictionaryProperties.registry,new zo("Adobe")),e.items.setValue(this.dictionaryProperties.ordering,new zo(this.dictionaryProperties.identity)),e.items.setValue(this.dictionaryProperties.supplement,new tt(0)),e}descendantFontBeginSave(){if(null!=this.usedChars&&this.usedChars.size()>0){let e=this.getDescendantWidth();null!==e&&this.descendantFont.items.setValue(this.dictionaryProperties.w,e)}}cmapBeginSave(){this.generateCmap()}fontDictionaryBeginSave(){null!=this.usedChars&&this.usedChars.size()>0&&!this.fontDictionary.containsKey(this.dictionaryProperties.toUnicode)&&this.fontDictionary.items.setValue(this.dictionaryProperties.toUnicode,new on(this.cmap))}fontProgramBeginSave(){this.isCompress=!0,this.generateFontProgram()}getDescendantWidth(){let e=new os;if(null!=this.usedChars&&this.usedChars.size()>0){let t=[],i=this.usedChars.keys();for(let l=0;l<i.length;l++){let c=this.ttfReader.getGlyph(i[l]);c.empty||t.push(c)}t.sort((l,h)=>l.index-h.index);let s=0,r=0,o=!1,a=new os;for(let l=0;l<t.length;l++){let h=t[l];o||(o=!0,s=h.index,r=h.index-1),(r+1!==h.index||l+1===t.length)&&t.length>1&&(e.add(new tt(s)),0!==l&&e.add(a),s=h.index,a=new os),a.add(new tt(h.width)),l+1===t.length&&(e.add(new tt(s)),e.add(a)),r=h.index}}return e}generateCmap(){if(null!=this.usedChars&&this.usedChars.size()>0){let e=this.ttfReader.getGlyphChars(this.usedChars);if(e.size()>0){let t=e.keys().sort(),s=t[t.length-1],r=this.toHexString(t[0],!1)+this.toHexString(s,!1)+ye.newLine,o="";o+=this.cmapPrefix,o+=r,o+=this.cmapEndCodespaceRange;let a=0;for(let l=0;l<t.length;l++){0===a&&(0!==l&&(o+=this.cmapEndRange),a=Math.min(100,t.length-l),o+=a,o+=ye.whiteSpace,o+=this.cmapBeginRange),a-=1;let h=t[l];o+=this.toHexString(h,!0)+this.toHexString(h,!0)+this.toHexString(e.getValue(h),!0)+"\n"}o+=this.cmapSuffix,this.cmap.clearStream(),this.cmap.isFont=!0,this.cmap.write(o)}}}generateFontProgram(){let e=null;this.usedChars=null==this.usedChars?new Ln:this.usedChars,this.ttfReader.setOffset(0),e=this.ttfReader.readFontProgram(this.usedChars),this.fontProgram.clearStream(),this.fontProgram.isFont=!0,this.fontProgram.writeBytes(e)}getDescriptorFlags(){let e=0,t=this.ttfReader.metrics;return t.isFixedPitch&&(e|=bp.FixedPitch),e|=t.isSymbol?bp.Symbolic:bp.Nonsymbolic,t.isItalic&&(e|=bp.Italic),t.isBold&&(e|=bp.ForceBold),e}getBoundBox(){let e=this.ttfReader.metrics.fontBox,t=Math.abs(e.right-e.left),i=Math.abs(e.top-e.bottom);return new Pe(e.left,e.bottom,t,i)}toHexString(e,t){let i=e.toString(16);return t&&(i=i.toUpperCase()),"<0000".substring(0,5-i.length)+i+">"}setSymbols(e){if(null===e)throw new Error("Argument Null Exception : text");null==this.usedChars&&(this.usedChars=new Ln);for(let t=0;t<e.length;t++)this.usedChars.setValue(e[t],String.fromCharCode(0));!1===this.isEmbedFont&&this.getDescendantWidth()}}){let r=i.fontInternal.ttfReader;i.setSymbols(t),s=r.convertString(t);let o=zo.toUnicodeArray(s,!1);s=zo.byteToString(o)}return s}justifyLine(t,i,s){let r=t.text,o=t.width,a=this.shouldJustify(t,i,s),l=null!=s&&0!==s.wordSpacing,c=Ur.getCharsCount(r,Ur.spaces),d=0;return a?(l&&(o-=c*s.wordSpacing),d=(i-o)/c,this.pdfStreamWriter.setWordSpacing(d)):this.pdfStreamWriter.setWordSpacing(l?s.wordSpacing:0),d}reset(t){this.canvasSize=t,this.streamWriter.clear(),this.initialize(),this.initializeCoordinates()}shouldJustify(t,i,s){let r=t.text,a=null!=s&&s.alignment===so.Justify,l=i>=0&&t.width<i,d=Ur.getCharsCount(r,Ur.spaces)>0&&r[0]!==Ur.whiteSpace;return a&&l&&d&&((t.lineType&Ll.LayoutBreak)>0||s.alignment===so.Justify)}underlineStrikeoutText(t,i,s,r,o,a){if(r.underline||r.strikeout){let l=this.createUnderlineStikeoutPen(t,i,r,a);if(null!=l){let h=this.getTextVerticalAlignShift(s.actualSize.height,o.height,a),c=0;c=o.y+h+r.metrics.getAscent(a)+1.5*l.width;let d=o.y+h+r.metrics.getHeight(a)/2+1.5*l.width,u=s.lines;for(let p=0,m=s.lineCount;p<m;p++){let y=u[p],v=y.width,C=this.getHorizontalAlignShift(v,o.width,a),w=this.getLineIndent(y,a,o,0===p);C+=this.rightToLeft(a)?0:w;let _=o.x+C,k=this.shouldJustify(y,o.width,a)?_+o.width-w:_+v-w;r.underline&&(this.drawLine(l,_,c,k,c),c+=s.lineHeight),r.strikeout&&(this.drawLine(l,_,d,k,d),d+=s.lineHeight),this.isPointOverload&&u.length>1&&(o.x=0,o.width=this.clientSize.width)}this.isPointOverload=!1}}}createUnderlineStikeoutPen(t,i,s,r){let o=s.metrics.getSize(r)/20,a=null;return null!=t?a=new Ha(t.color,o):null!=i&&(a=new Ha(i,o)),a}getTextRenderingMode(t,i,s){let r=sd.None;return r=null!=t&&null!=i?sd.FillStroke:null!=t?sd.Stroke:sd.Fill,null!=s&&s.clipPath&&(r|=sd.ClipFlag),r}getLineIndent(t,i,s,r){let o=0;return null!=i&&(t.lineType&Ll.FirstParagraphLine)>0&&(o=r?i.firstLineIndent:i.paragraphIndent,o=s.width>0?Math.min(s.width,o):o),o}getHorizontalAlignShift(t,i,s){let r=0;if(i>=0&&null!=s&&s.alignment!==so.Left)switch(s.alignment){case so.Center:r=(i-t)/2;break;case so.Right:r=i-t}return r}rightToLeft(t){let i=null!=t&&t.rightToLeft;return null!=t&&t.textDirection!==Tl.None&&void 0!==t.textDirection&&(i=!0),i}stateControl(t,i,s,r){if(void 0===r)this.stateControl(t,i,s,null);else{i instanceof wp&&(this.bCSInitialized=!1,i.colorSpace=this.colorSpace),i instanceof du&&(this.bCSInitialized=!1,i.graphics.colorSpace=this.colorSpace);let o=!1;null!==i?(void 0!==this.pageLayer&&null!=this.pageLayer&&!1===this.colorSpaceChanged&&(this.lastDocumentCS=this.pageLayer.page.document.colorSpace,this.lastGraphicsCS=this.pageLayer.page.graphics.colorSpace,this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace,this.colorSpaceChanged=!0),this.initCurrentColorSpace(this.currentColorSpace)):null!=t&&(void 0!==this.pageLayer&&null!=this.pageLayer&&(this.colorSpace=this.pageLayer.page.document.colorSpace,this.currentColorSpace=this.pageLayer.page.document.colorSpace),this.initCurrentColorSpace(this.currentColorSpace)),this.penControl(t,o),this.brushControl(i,o),this.fontControl(s,r,o)}}initCurrentColorSpace(t){this.getResources.getResources(),this.bCSInitialized||(this.currentColorSpace!=Fi.GrayScale?(this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!0),this.pdfStreamWriter.setColorSpace("Device"+this.currentColorSpaces[this.currentColorSpace],!1),this.bCSInitialized=!0):(this.pdfStreamWriter.setColorSpace("DeviceGray",!0),this.pdfStreamWriter.setColorSpace("DeviceGray",!1),this.bCSInitialized=!0))}penControl(t,i){null!=t&&(this.currentPen=t,t.monitorChanges(this.currentPen,this.pdfStreamWriter,this.getResources,i,this.colorSpace,this.matrix.clone()),this.currentPen=t.clone())}brushControl(t,i){if(null!=t&&void 0!==t){let s=t.clone(),r=s;if(!(null==r||t instanceof nd||t instanceof du)){let o=r.matrix,a=this.matrix.clone();null!=o&&(o.multiply(a),a=o),r.matrix=a}this.currentBrush=r,s.monitorChanges(this.currentBrush,this.pdfStreamWriter,this.getResources,i,this.colorSpace),this.currentBrush=t,t=null}}fontControl(t,i,s){if(null!=t){let r=null!=i?i.subSuperScript:au.None,o=null!=this.currentStringFormat?this.currentStringFormat.subSuperScript:au.None;if(s||t!==this.currentFont||r!==o){let a=this.getResources.getResources();this.currentFont=t,this.currentStringFormat=i;let l=t.metrics.getSize(i);this.isEmfTextScaled=!1;let h=a.getName(t);this.pdfStreamWriter.setFont(t,h,l)}}}setTransparency(t,i,s){if(void 0===i)this.istransparencySet=!0,this.setTransparency(t,t,nC.Normal);else if("number"==typeof i&&void 0===s)this.setTransparency(t,i,nC.Normal);else{null==this.trasparencies&&(this.trasparencies=new nE);let r=null,o=new Yge(t,i,s);this.trasparencies.containsKey(o)&&(r=this.trasparencies.getValue(o)),null==r&&(r=new fR(t,i,s),this.trasparencies.setValue(o,r));let l=this.getResources.getResources().getName(r);this.streamWriter.setGraphicsState(l)}}clipTranslateMargins(t,i,s,r,o,a){if(t instanceof Pe&&void 0===i)this.clipBounds=t,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(t),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(t.x,t.y);else if("number"==typeof t){let l=new Pe(s,r,this.size.width-s-o,this.size.height-r-a);this.clipBounds=l,this.pdfStreamWriter.writeComment("Clip margins."),this.pdfStreamWriter.appendRectangle(l),this.pdfStreamWriter.closePath(),this.pdfStreamWriter.clipPath(!1),this.pdfStreamWriter.writeComment("Translate co-ordinate system."),this.translateTransform(t,i)}}updateY(t){return-t}translateTransform(t,i){let s=new hu;this.getTranslateTransform(t,i,s),this.pdfStreamWriter.modifyCtm(s),this.matrix.multiply(s)}getTranslateTransform(t,i,s){return s.translate(t,this.updateY(i)),s}scaleTransform(t,i){let s=new hu;this.getScaleTransform(t,i,s),this.pdfStreamWriter.modifyCtm(s),this.matrix.multiply(s)}getScaleTransform(t,i,s){return null==s&&(s=new hu),s.scale(t,i),s}rotateTransform(t){let i=new hu;this.getRotateTransform(t,i),this.pdfStreamWriter.modifyCtm(i),this.matrix.multiply(i)}initializeCoordinates(){this.pdfStreamWriter.writeComment("Change co-ordinate system to left/top."),this.mediaBoxUpperRightBound!==-this.size.height&&null==this.cropBox&&this.translateTransform(0,this.updateY(this.mediaBoxUpperRightBound===this.size.height||0===this.mediaBoxUpperRightBound?this.size.height:this.mediaBoxUpperRightBound))}getRotateTransform(t,i){return(null==i||void 0===i)&&(i=new hu),i.rotate(this.updateY(t)),i}save(){let t=new Gge(this,this.matrix.clone());return t.brush=this.currentBrush,t.pen=this.currentPen,t.font=this.currentFont,t.colorSpace=this.currentColorSpace,t.characterSpacing=this.previousCharacterSpacing,t.wordSpacing=this.previousWordSpacing,t.textScaling=this.previousTextScaling,t.textRenderingMode=this.previousTextRenderingMode,this.graphicsState.push(t),this.pdfStreamWriter.saveGraphicsState(),t}restore(t){if(void 0===t)this.graphicsState.length>0&&this.doRestoreState();else if(-1!==this.graphicsState.indexOf(t))for(;0!==this.graphicsState.length&&this.doRestoreState()!==t;);}doRestoreState(){let t=this.graphicsState.pop();return this.transformationMatrix=t.matrix,this.currentBrush=t.brush,this.currentPen=t.pen,this.currentFont=t.font,this.currentColorSpace=t.colorSpace,this.previousCharacterSpacing=t.characterSpacing,this.previousWordSpacing=t.wordSpacing,this.previousTextScaling=t.textScaling,this.previousTextRenderingMode=t.textRenderingMode,this.pdfStreamWriter.restoreGraphicsState(),t}drawPath(t,i,s){i instanceof du?(this.bCSInitialized=!1,i.graphics.colorSpace=this.colorSpace):i instanceof wp&&(this.bCSInitialized=!1,i.colorSpace=this.colorSpace),this.stateControl(t,i,null),this.buildUpPath(s.pathPoints,s.pathTypes),this.drawPathHelper(t,i,s.fillMode,!1)}drawArc(t,i,s,r,o,a,l){i instanceof Pe?this.drawArc(t,i.x,i.y,i.width,i.height,s,r):0!==l&&(this.stateControl(t,null,null),this.constructArcPath(i,s,i+r,s+o,a,l),this.drawPathHelper(t,null,!1))}buildUpPath(t,i){let s=t.length;for(let r=0;r<s;++r){let o=0,a=t[r];switch(i[r]&n.pathTypesValuesMask){case Rr.Start:this.pdfStreamWriter.beginPath(a.x,a.y);break;case Rr.Bezier3:let l=new xe(0,0),h=new xe(0,0),c=this.getBezierPoints(t,i,r,l,h);this.pdfStreamWriter.appendBezierSegment(a,c.p2,c.p3),r=c.i;break;case Rr.Line:this.pdfStreamWriter.appendLineSegment(a);break;default:throw new Error("ArithmeticException - Incorrect path formation.")}o=i[r],this.checkFlags(o)}}getBezierPoints(t,i,s,r,o){if((i[++s]&n.pathTypesValuesMask)!==Rr.Bezier3)throw new Error("ArgumentException : errorMsg");if(r=t[s],(i[++s]&n.pathTypesValuesMask)!==Rr.Bezier3)throw new Error("ArgumentException : errorMsg");return{i:s,p2:r,p3:t[s]}}checkFlags(t){(t&Rr.CloseSubpath)===Rr.CloseSubpath&&this.pdfStreamWriter.closePath()}constructArcPath(t,i,s,r,o,a){let l=this.getBezierArc(t,i,s,r,o,a);if(0===l.length)return;let h=[l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7]];this.pdfStreamWriter.beginPath(h[0],h[1]);let c=0;for(c=0;c<l.length;c+=8)h=[l[c],l[c+1],l[c+2],l[c+3],l[c+4],l[c+5],l[c+6],l[c+7]],this.pdfStreamWriter.appendBezierSegment(h[2],h[3],h[4],h[5],h[6],h[7])}getBezierArc(t,i,s,r,o,a){if(t>s){let v;v=t,t=s,s=v}if(r>i){let v;v=i,i=r,r=v}let l,h;Math.abs(a)<=90?(l=a,h=1):(h=Math.ceil(Math.abs(a)/90),l=a/h);let c=(t+s)/2,d=(i+r)/2,u=(s-t)/2,p=(r-i)/2,m=l*(Math.PI/360),y=Math.abs(4/3*(1-Math.cos(m))/Math.sin(m)),b=[];for(let v=0;v<h;v++){let C=(o+v*l)*(Math.PI/180),w=(o+(v+1)*l)*(Math.PI/180),_=Math.cos(C),k=Math.cos(w),D=Math.sin(C),I=Math.sin(w);l>0?b.push(c+u*_,d-p*D,c+u*(_-y*D),d-p*(D+y*_),c+u*(k+y*I),d-p*(I-y*k),c+u*k,d-p*I):b.push(c+u*_,d-p*D,c+u*(_+y*D),d-p*(D-y*_),c+u*(k-y*I),d-p*(I+y*k),c+u*k,d-p*I)}return b}}return n.pathTypesValuesMask=15,n.transparencyObject=!1,n})();class bR{getResources(){return this.sender.getResources()}constructor(e){this.sender=e}}class Gge{constructor(e,t){this.internalTextRenderingMode=sd.Fill,this.internalCharacterSpacing=0,this.internalWordSpacing=0,this.internalTextScaling=100,this.pdfColorSpace=Fi.Rgb,void 0!==e&&(this.pdfGraphics=e,this.transformationMatrix=t)}get graphics(){return this.pdfGraphics}get matrix(){return this.transformationMatrix}get characterSpacing(){return this.internalCharacterSpacing}set characterSpacing(e){this.internalCharacterSpacing=e}get wordSpacing(){return this.internalWordSpacing}set wordSpacing(e){this.internalWordSpacing=e}get textScaling(){return this.internalTextScaling}set textScaling(e){this.internalTextScaling=e}get pen(){return this.pdfPen}set pen(e){this.pdfPen=e}get brush(){return this.pdfBrush}set brush(e){this.pdfBrush=e}get font(){return this.pdfFont}set font(e){this.pdfFont=e}get colorSpace(){return this.pdfColorSpace}set colorSpace(e){this.pdfColorSpace=e}get textRenderingMode(){return this.internalTextRenderingMode}set textRenderingMode(e){this.internalTextRenderingMode=e}}class Yge{constructor(e,t,i){this.alphaPen=e,this.alphaBrush=t,this.blendMode=i}}class Hy{constructor(e,t){if(this.pdfColorSpace=Fi.Rgb,this.isVisible=!0,this.sublayer=!1,this.contentLength=0,this.dictionaryProperties=new Rn,null===e)throw new Error("ArgumentNullException:page");if(this.pdfPage=e,this.clipPageTemplates=!0,void 0===t)this.content=new Ba;else if(t instanceof Ba||null===t){if(null===t)throw new Error("ArgumentNullException:stream");this.content=t}else this.content=new Ba,this.clipPageTemplates=t}get colorSpace(){return this.pdfColorSpace}set colorSpace(e){this.pdfColorSpace=e}get page(){return this.pdfPage}get layerId(){return this.layerid}set layerId(e){this.layerid=e}get name(){return this.layerName}set name(e){this.layerName=e}get visible(){return this.isVisible}set visible(e){this.isVisible=e}get graphics(){return null==this.pdfGraphics&&this.initializeGraphics(this.page),this.pdfGraphics}get layers(){return null==this.layer?(this.layer=new Cj(this.page),this.layer.sublayer=!0,this.layer):this.layer}add(){let e=new Hy(this.pdfPage);return e.name="",e}sign(e){return 0===e?0:e>0?1:-1}initializeGraphics(e){let t=e,i=new bR(this.page);if(this.pdfGraphics=new yR(e.size,i,this.content),this.pdfGraphics.mediaBoxUpperRightBound=0,null!=t){let a=t.section.parent;null!=a&&(this.pdfGraphics.colorSpace=a.document.colorSpace,this.colorSpace=a.document.colorSpace)}let s=this.sign(e.origin.y)===this.sign(e.origin.x);(e.origin.x>=0&&e.origin.y>=0||!s)&&this.pdfGraphics.initializeCoordinates();let r=t.section.getActualBounds(t,!0),o=t.section.pageSettings.margins;this.clipPageTemplates?e.origin.x>=0&&e.origin.y>=0&&this.pdfGraphics.clipTranslateMargins(r):this.graphics.clipTranslateMargins(r.x,r.y,o.left,o.top,o.right,o.bottom),this.pdfGraphics.setLayer(this)}get element(){return this.content}}class Cj extends class{constructor(){}get count(){return void 0===this.collection&&(this.collection=[]),this.collection.length}get list(){return void 0===this.collection&&(this.collection=[]),this.collection}}{constructor(e){super(),this.parentLayerCount=0,this.sublayer=!1,this.optionalContent=new vs,e instanceof wj&&(this.page=e,this.parseLayers(e))}items(e,t){if("number"==typeof e&&void 0===t)return this.list[e];if(null==t)throw new Error("ArgumentNullException: layer");if(t.page!==this.page)throw new Error("ArgumentException: The layer belongs to another page")}add(e,t){if(void 0===e){let i=new Hy(this.page);return i.name="",this.add(i),i}if(e instanceof Hy){let i=this.list.push(e);return this.addLayer(i,e),i}return 0}addLayer(e,t){let i=new on(t);this.page.contents.add(i)}insert(e,t){let i=[],s=this.list.length;for(let r=e;r<s;r++)i.push(this.list.pop());this.list.push(t);for(let r=0;r<i.length;r++)this.list.push(i[r]);this.insertLayer(e,t)}insertLayer(e,t){if(null==t)throw new Error("ArgumentNullException:layer");let i=new on(t);this.page.contents.insert(e,i)}parseLayers(e){let t=this.page.contents,s=(this.page.getResources(),null);s=e.crossTable;let r=new Ba,o=new Ba,h=[];h.push("q"),r.data=h,t.insert(0,new on(r)),h=[],h.push("Q"),o.data=h,t.insert(t.count,new on(o))}indexOf(e){if(null==e)throw new Error("ArgumentNullException: layer");return this.list.indexOf(e)}}class wj{constructor(e){this.defLayerIndex=-1,this.modified=!1,this.dictionaryProperties=new Rn,this.pageDictionary=e}get section(){return this.pdfSection}set section(e){this.pdfSection=e}get dictionary(){return this.pageDictionary}get element(){return this.pageDictionary}get defaultLayer(){return this.layers.items(this.defaultLayerIndex)}get defaultLayerIndex(){if(0===this.layerCollection.count||-1===this.defLayerIndex){let e=this.layerCollection.add();this.defLayerIndex=this.layerCollection.indexOf(e)}return this.defLayerIndex}get layers(){return(null==this.layerCollection||void 0===this.layerCollection)&&(this.layerCollection=new Cj(this)),this.layerCollection}getResources(){return null==this.resources&&(this.resources=new dC,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources)),this.resources}get contents(){let t=this.pageDictionary.items.getValue(this.dictionaryProperties.contents);return null==t&&(t=new os,this.pageDictionary.items.setValue(this.dictionaryProperties.contents,t)),t}set defaultLayerIndex(e){if(e<0||e>this.layers.count-1)throw new Error("ArgumentOutOfRangeException : value, Index can not be less 0 and greater Layers.Count - 1");this.defLayerIndex=e,this.modified=!0}setResources(e){this.resources=e,this.dictionary.items.setValue(this.dictionaryProperties.resources,this.resources),this.modified=!0}}class $ge{constructor(e){this.alreadyExistsAnnotationError="This annotatation had been already added to page",this.missingAnnotationException="Annotation is not contained in collection.",this.dictionaryProperties=new Rn,this.internalAnnotations=new os,this.lists=[],void 0!==e&&(this.page=e)}get annotations(){return this.internalAnnotations}set annotations(e){this.internalAnnotations=e}add(e){this.doAdd(e)}doAdd(e){if(void 0===e.destination)return e.setPage(this.page),this.internalAnnotations.add(new on(e)),this.lists.push(e);{let i=(new Cp).layout(e.text,e.font,e.stringFormat,new We(e.bounds.width,0),!1,new We(0,0)),s=e.bounds.y;if(1===i.lines.length){let r=e.font.measureString(i.lines[0].text);e.bounds=new Pe(new xe(e.bounds.x,s),r),e.text=i.lines[0].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,e.bounds.y,e.bounds.width,e.bounds.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new on(e)),this.lists.push(e)}else for(let r=0;r<i.lines.length;r++){let o=e.font.measureString(i.lines[r].text);if(0===r)e.bounds=new Pe(e.bounds.x,s,o.width,o.height),e.text=i.lines[r].text,this.page.graphics.drawString(e.text,e.font,null,e.brush,e.bounds.x,s,o.width,o.height,null),e.setPage(this.page),this.setColor(e),this.internalAnnotations.add(new on(e)),this.lists.push(e),s+=e.bounds.height;else{let a=e.clone();a.bounds=new Pe(new xe(e.bounds.x,s),o),a.text=i.lines[r].text,this.page.graphics.drawString(a.text,a.font,null,a.brush,a.bounds.x,a.bounds.y,a.bounds.width,a.bounds.height,null),a.setPage(this.page),this.setColor(a),this.internalAnnotations.add(new on(a)),this.lists.push(a),s+=a.bounds.height}}}}setColor(e){let i=e.color.toArray(Fi.Rgb);e.dictionary.items.setValue(this.dictionaryProperties.c,i)}get element(){return this.internalAnnotations}}class rd extends wj{constructor(){super(new vs),this.annotationCollection=null,this.beginSave=null,this.initialize()}get document(){return null!==this.section&&null!==this.section.parent?this.section.parent.document:null}get graphics(){let e=this.defaultLayer.graphics;return e.currentPage=this,e}get crossTable(){if(null===this.section)throw new Error("PdfDocumentException : Page is not created");return null===this.section.parent?this.section.parentDocument.crossTable:this.section.parent.document.crossTable}get size(){return this.section.pageSettings.size}get origin(){return this.section.pageSettings.origin}get annotations(){return null==this.annotationCollection&&(this.annotationCollection=new $ge(this),this.dictionary.items.setValue(this.dictionaryProperties.annots,this.annotationCollection.element),this.annotationCollection.annotations=this.dictionary.items.getValue(this.dictionaryProperties.annots)),this.annotationCollection}initialize(){this.dictionary.items.setValue(this.dictionaryProperties.type,new Si("Page")),this.dictionary.pageBeginDrawTemplate=new hge(this)}setSection(e){this.section=e,this.dictionary.items.setValue(this.dictionaryProperties.parent,new on(e))}resetProgress(){this.isProgressOn=!1}getClientSize(){let e=this.section.getActualBounds(this,!0);return new We(e.width,e.height)}pageBeginSave(){let e=this.document;void 0!==typeof e&&null!=e&&this.drawPageTemplates(e),null!=this.beginSave&&void 0!==this.beginSave&&this.beginSave(this)}drawPageTemplates(e){if(this.section.containsTemplates(e,this,!1)){let s=new Hy(this,!1);if(this.layers.insert(0,s),this.section.drawTemplates(this,s,e,!1),null!=s.graphics)for(let r=0;r<s.graphics.automaticFields.automaticFields.length;r++){let o=s.graphics.automaticFields.automaticFields[r];o.field.performDraw(s.graphics,o.location,o.scalingX,o.scalingY)}}if(this.section.containsTemplates(e,this,!0)){let s=new Hy(this,!1);this.layers.add(s),this.section.drawTemplates(this,s,e,!0)}}}class Sj{get page(){return this.pdfPage}constructor(e){this.pdfPage=void 0!==e?e:null}}class Xge{constructor(e){if(this.pdfSection=null,null==e)throw Error('ArgumentNullException("section")');this.section=e}get section(){return this.pdfSection}set section(e){this.pdfSection=e}contains(e){return this.section.contains(e)}remove(e){this.section.remove(e)}add(){return this.section.add()}}class _j{get left(){return this.leftTemplate}set left(e){this.leftTemplate=this.checkElement(e,is.Left)}get top(){return this.topTemplate}set top(e){this.topTemplate=this.checkElement(e,is.Top)}get right(){return this.rightTemplate}set right(e){this.rightTemplate=this.checkElement(e,is.Right)}get bottom(){return this.bottomTemplate}set bottom(e){this.bottomTemplate=this.checkElement(e,is.Bottom)}get EvenLeft(){return this.evenLeft}set EvenLeft(e){this.evenLeft=this.checkElement(e,is.Left)}get EvenTop(){return this.evenTop}set EvenTop(e){this.evenTop=this.checkElement(e,is.Top)}get EvenRight(){return this.evenRight}set EvenRight(e){this.evenRight=this.checkElement(e,is.Right)}get EvenBottom(){return this.evenBottom}set EvenBottom(e){this.evenBottom=this.checkElement(e,is.Bottom)}get OddLeft(){return this.oddLeft}set OddLeft(e){this.oddLeft=this.checkElement(e,is.Left)}get OddTop(){return this.oddTop}set OddTop(e){this.oddTop=this.checkElement(e,is.Top)}get OddRight(){return this.oddRight}set OddRight(e){this.oddRight=this.checkElement(e,is.Right)}get OddBottom(){return this.oddBottom}set OddBottom(e){this.oddBottom=this.checkElement(e,is.Bottom)}constructor(){}getLeft(e){if(null==e)throw new Error("ArgumentNullException:page");let t=null;return t=this.isEven(e)?null!=this.EvenLeft?this.EvenLeft:this.left:null!=this.OddLeft?this.OddLeft:this.left,t}getTop(e){if(null==e)throw new Error("ArgumentNullException:page");let t=null;return t=this.isEven(e)?null!=this.EvenTop?this.EvenTop:this.top:null!=this.OddTop?this.OddTop:this.top,t}getRight(e){if(null==e)throw new Error("ArgumentNullException:page");let t=null;return t=this.isEven(e)?null!=this.EvenRight?this.EvenRight:this.right:null!=this.OddRight?this.OddRight:this.right,t}getBottom(e){if(null==e)throw new Error("ArgumentNullException:page");let t=null;return t=this.isEven(e)?null!=this.EvenBottom?this.EvenBottom:this.bottom:null!=this.OddBottom?this.OddBottom:this.bottom,t}isEven(e){let t=e.section.document.pages,i=0;return i=t.pageCollectionIndex.containsKey(e)?t.pageCollectionIndex.getValue(e)+1:t.indexOf(e)+1,i%2==0}checkElement(e,t){if(null!=e){if(void 0!==e.type&&e.type!==is.None)throw new Error("NotSupportedException:Can not reassign the template element. Please, create new one.");e.type=t}return e}}class Zge extends _j{get applyDocumentLeftTemplate(){return this.leftValue}set applyDocumentLeftTemplate(e){this.leftValue=e}get applyDocumentTopTemplate(){return this.topValue}set applyDocumentTopTemplate(e){this.topValue=e}get applyDocumentRightTemplate(){return this.rightValue}set applyDocumentRightTemplate(e){this.rightValue=e}get applyDocumentBottomTemplate(){return this.bottomValue}set applyDocumentBottomTemplate(e){this.bottomValue=e}get applyDocumentStamps(){return this.stampValue}set applyDocumentStamps(e){this.stampValue=e}constructor(){super(),this.leftValue=this.topValue=this.rightValue=this.bottomValue=this.stampValue=!0}}class Kge{constructor(e,t){this.pageAdded=new Sj,this.pdfPages=[],this.dictionaryProperties=new Rn,this.pdfDocument=e,void 0===t?(this.settings=e.pageSettings.clone(),this.initialSettings=this.settings.clone()):(this.settings=t.clone(),this.initialSettings=this.settings.clone()),this.initialize()}get parent(){return this.sectionCollection}set parent(e){this.sectionCollection=e,this.section.items.setValue(this.dictionaryProperties.parent,new on(e))}get parentDocument(){return this.pdfDocument}get pageSettings(){return this.settings}set pageSettings(e){if(null==e)throw Error("Value can not be null.");this.settings=e}get element(){return this.section}get count(){return this.pagesReferences.count}get template(){return null==this.pageTemplate&&(this.pageTemplate=new Zge),this.pageTemplate}set template(e){this.pageTemplate=e}get document(){return this.sectionCollection.document}get pages(){return(null==this.pagesCollection||void 0===this.pagesCollection)&&(this.pagesCollection=new Xge(this)),this.pagesCollection}getPages(){return this.pdfPages}pointToNativePdf(e,t){let i=this.getActualBounds(e,!0);return t.x+=i.x,t.y=this.pageSettings.height-t.y,t}setPageSettings(e){this.settings=e,this.state.orientation=e.orientation,this.state.rotate=e.rotate,this.state.size=e.size,this.state.origin=e.origin}initialize(){this.pagesReferences=new os,this.section=new vs,this.state=new Qge(this.pdfDocument),this.section.sectionBeginSave=new lge(this,this.state),this.pageCount=new tt(0),this.section.items.setValue(this.dictionaryProperties.count,this.pageCount),this.section.items.setValue(this.dictionaryProperties.type,new Si(this.dictionaryProperties.pages)),this.section.items.setValue(this.dictionaryProperties.kids,this.pagesReferences)}containsTemplates(e,t,i){let s=this.getDocumentTemplates(e,t,i),r=this.getSectionTemplates(t,i);return s.length>0||r.length>0}getDocumentTemplates(e,t,i){let s=[];return this.template.applyDocumentTopTemplate&&null!=e.template.getTop(t)&&(!(e.template.getTop(t).foreground||i)||e.template.getTop(t).foreground&&i)&&s.push(e.template.getTop(t)),this.template.applyDocumentBottomTemplate&&null!=e.template.getBottom(t)&&(!(e.template.getBottom(t).foreground||i)||e.template.getBottom(t).foreground&&i)&&s.push(e.template.getBottom(t)),this.template.applyDocumentLeftTemplate&&null!=e.template.getLeft(t)&&(!(e.template.getLeft(t).foreground||i)||e.template.getLeft(t).foreground&&i)&&s.push(e.template.getLeft(t)),this.template.applyDocumentRightTemplate&&null!=e.template.getRight(t)&&(!(e.template.getRight(t).foreground||i)||e.template.getRight(t).foreground&&i)&&s.push(e.template.getRight(t)),s}getSectionTemplates(e,t){let i=[];if(null!=this.template.getTop(e)){let s=this.template.getTop(e);(!s.foreground&&!t||s.foreground&&t)&&i.push(s)}if(null!=this.template.getBottom(e)){let s=this.template.getBottom(e);(!s.foreground&&!t||s.foreground&&t)&&i.push(s)}if(null!=this.template.getLeft(e)){let s=this.template.getLeft(e);(!s.foreground&&!t||s.foreground&&t)&&i.push(s)}if(null!=this.template.getRight(e)){let s=this.template.getRight(e);(!s.foreground&&!t||s.foreground&&t)&&i.push(s)}return i}add(e){if(void 0===e){let t=new rd;return this.add(t),t}{let t=this.checkPresence(e);this.pdfPages.push(e),this.pagesReferences.add(t),e.setSection(this),e.resetProgress(),this.pageAddedMethod(e)}}checkPresence(e){let t=new on(e),i=!1,s=this.parent;for(let r=0;r<s.section.length;r++){let o=s.section[r];i=i||o.contains(e)}return t}contains(e){return 0<=this.indexOf(e)}indexOf(e){for(let i=0;i<this.pdfPages.length;i++)if(this.pdfPages[i]===e)return this.pdfPages.indexOf(e);let t=new on(e);return this.pagesReferences.indexOf(t)}pageAddedMethod(e){let t=new Sj(e);this.onPageAdded(t),this.parent.document.pages.onPageAdded(t),this.pageCount.intValue=this.count}onPageAdded(e){}getActualBounds(e,t,i){if(e instanceof rd&&"boolean"==typeof t){let s;return s=this.getActualBounds(this.parent.document,e,t),s}{e=e,t=t,i=i;let s=new Pe(0,0,0,0);s.height=i?this.pageSettings.size.height:this.pageSettings.getActualSize().height,s.width=i?this.pageSettings.size.width:this.pageSettings.getActualSize().width;let r=this.getLeftIndentWidth(e,t,i),o=this.getTopIndentHeight(e,t,i),a=this.getRightIndentWidth(e,t,i),l=this.getBottomIndentHeight(e,t,i);return s.x+=r,s.y+=o,s.width-=r+a,s.height-=o+l,s}}getLeftIndentWidth(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");let s=i?this.pageSettings.margins.left:0,r=null!=this.template.getLeft(t)?this.template.getLeft(t).width:0,o=null!=e.template.getLeft(t)?e.template.getLeft(t).width:0;return s+=this.template.applyDocumentLeftTemplate?Math.max(r,o):r,s}getTopIndentHeight(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");let s=i?this.pageSettings.margins.top:0,r=null!=this.template.getTop(t)?this.template.getTop(t).height:0,o=null!=e.template.getTop(t)?e.template.getTop(t).height:0;return s+=this.template.applyDocumentTopTemplate?Math.max(r,o):r,s}getRightIndentWidth(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");let s=i?this.pageSettings.margins.right:0,r=null!=this.template.getRight(t)?this.template.getRight(t).width:0,o=null!=e.template.getRight(t)?e.template.getRight(t).width:0;return s+=this.template.applyDocumentRightTemplate?Math.max(r,o):r,s}getBottomIndentHeight(e,t,i){if(null==e)throw new Error("ArgumentNullException:document");if(null==t)throw new Error("ArgumentNullException:page");let s=i?this.pageSettings.margins.bottom:0,r=null!=this.template.getBottom(t)?this.template.getBottom(t).height:0,o=null!=e.template.getBottom(t)?e.template.getBottom(t).height:0;return s+=this.template.applyDocumentBottomTemplate?Math.max(r,o):r,s}remove(e){if(null==e)throw Error('ArgumentNullException("page")');let t=this.pdfPages.indexOf(e);this.pagesReferences.removeAt(t);let i=[];for(let s=0;s<t;s++)i.push(this.pdfPages[s]);for(let s=t+1;s<this.pdfPages.length;s++)i.push(this.pdfPages[s]);this.pdfPages=i}applyPageSettings(e,t,i){let s=new Pe(i.origin,i.size);e.items.setValue(this.dictionaryProperties.mediaBox,os.fromRectangle(s));let r=0;r=xj.rotateFactor*i.rotate;let o=new tt(r);e.items.setValue(this.dictionaryProperties.rotate,o)}beginSave(e,t){this.applyPageSettings(this.section,t.document.pageSettings,e)}drawTemplates(e,t,i,s){let r=this.getDocumentTemplates(i,e,s),o=this.getSectionTemplates(e,s);this.drawTemplatesHelper(t,i,r),this.drawTemplatesHelper(t,i,o)}drawTemplatesHelper(e,t,i){if(null!=i&&i.length>0){let s=i.length;for(let r=0;r<s;r++)i[r].draw(e,t)}}}class Qge{get orientation(){return this.pageOrientation}set orientation(e){this.pageOrientation=e}get rotate(){return this.pageRotate}set rotate(e){this.pageRotate=e}get size(){return this.pageSize}set size(e){this.pageSize=e}get origin(){return this.pageOrigin}set origin(e){this.pageOrigin=e}constructor(e){this.pageOrientation=e.pageSettings.orientation,this.pageRotate=e.pageSettings.rotate,this.pageSize=e.pageSettings.size,this.pageOrigin=e.pageSettings.origin}}let xj=(()=>{class n{constructor(t){this.sections=[],this.dictionaryProperties=new Rn,this.pdfDocument=t.clone(),this.initialize()}get section(){return this.sections}get document(){return this.pdfDocument}get count(){return this.sections.length}get element(){return this.pages}initialize(){this.sectionCount=new tt(0),this.sectionCollection=new os,this.pages=new vs,this.pages.beginSave=new nge(this),this.pages.items.setValue(this.dictionaryProperties.type,new Si("Pages")),this.pages.items.setValue(this.dictionaryProperties.kids,this.sectionCollection),this.pages.items.setValue(this.dictionaryProperties.count,this.sectionCount),this.pages.items.setValue(this.dictionaryProperties.resources,new vs),this.setPageSettings(this.pages,this.pdfDocument.pageSettings)}pdfSectionCollection(t){if(t<0||t>=this.count)throw new Error("IndexOutOfRangeException()");return this.sections[t]}setPageSettings(t,i){let s=new Pe(new xe,i.size);t.items.setValue(this.dictionaryProperties.mediaBox,os.fromRectangle(s))}add(t){if(void 0===t){let i=new Kge(this.pdfDocument);return this.add(i),i}{let i=this.checkSection(t);return this.sections.push(t),t.parent=this,this.sectionCollection.add(i),this.sections.indexOf(t)}}checkSection(t){let i=new on(t);return this.sectionCollection.contains(i),i}countPages(){let t=0;return this.sections.forEach(i=>t+=i.count),t}beginSave(){this.sectionCount.intValue=this.countPages()}}return n.rotateFactor=90,n})();class Jge{constructor(e){this.pdfPageCollectionIndex=new Ln,this.document=e}get count(){return this.countPages()}get pageCollectionIndex(){return this.pdfPageCollectionIndex}add(e){if(void 0===e){let t=new rd;return this.add(t),t}this.getLastSection().add(e)}getLastSection(){let e=this.document.sections;return 0===e.section.length&&e.add(),e.section[e.section.length-1]}onPageAdded(e){}countPages(){let e=this.document.sections,t=0;for(let i=0;i<e.section.length;i++)t+=e.section[i].count;return t}getPageByIndex(e){return this.getPage(e)}getPage(e){if(e<0||e>=this.count)throw Error('ArgumentOutOfRangeException("index", "Value can not be less 0")');let t=null,i=0,s=0,r=0,o=this.document.sections.count;for(let a=0;a<o;a++){let l=this.document.sections.section[a];if(s=l.count,r=e-i,e>=i&&r<s){t=l.getPages()[r];break}i+=s}return t}indexOf(e){let t=-1;if(null==e)throw new Error("ArgumentNullException: page");{let i=0;for(let s=0,r=this.document.sections.count;s<r;s++){let o=this.document.sections.pdfSectionCollection(s);if(t=o.indexOf(e),t>=0){t+=i;break}t=-1,i+=o.count}}return t}remove(e){if(null==e)throw Error('ArgumentNullException("page")');let t=null;for(let i=0,s=this.document.sections.count;i<s;i++)if(t=this.document.sections.pdfSectionCollection(i),t.pages.contains(e)){t.pages.remove(e);break}return t}}class Ej{constructor(){this.referenceObjects=[],this.pdfFontCollection=new Ln}search(e){let t=null,i=this.getGroup(e);return null==i?i=this.createNewGroup():i.length>0&&(t=i[0]),i.push(e),t}createNewGroup(){let e=[];return this.referenceObjects.push(e),e}getGroup(e){let t=null;if(null!==e){let i=this.referenceObjects.length;for(let s=0;s<i;s++){if(this.referenceObjects.length>0){let r=this.referenceObjects[s];if(r.length>0){if(e.equalsTo(r[0])){t=r;break}}else this.removeGroup(r)}i=this.referenceObjects.length}}return t}removeGroup(e){if(null!==e){let t=this.referenceObjects.indexOf(e);this.referenceObjects.slice(t,t+1)}}destroy(){this.pdfFontCollection=void 0,this.referenceObjects=void 0}}let Sp=(()=>{class n extends class{constructor(e){this.isStreamCopied=!1,e instanceof Sp&&(this.document=e)}get pdfObjects(){return this.objects}get crossTable(){return this.pdfCrossTable}get currentSavingObj(){return this.currentSavingObject}set currentSavingObj(e){this.currentSavingObject=e}get catalog(){return this.pdfCatalog}set catalog(e){this.pdfCatalog=e}setMainObjectCollection(e){this.objects=e}setCrossTable(e){this.pdfCrossTable=e}setCatalog(e){this.pdfCatalog=e}save(e){let t=new tC(!0),i=new rj(t);if(void 0===e){let s=new tC(!0),r=new rj(s);return new Promise((o,a)=>{let l={};l.blobData=new Blob([this.document.docSave(r,!0)],{type:"application/pdf"}),o(l)})}this.document.docSave(i,e,!0)}clone(){return this.document}}{constructor(t){super(),this.defaultMargin=40,this.streamWriter=null,this.document=this;let i=!1;void 0===t?(n.cacheCollection=new Ej,i=!1):i=t;let s=new mge;this.setMainObjectCollection(s);let r=new cj;r.isMerging=i,r.document=this,this.setCrossTable(r);let o=new hj;this.setCatalog(o),s.add(o),o.position=-1,this.sectionCollection=new xj(this),this.documentPageCollection=new Jge(this),o.pages=this.sectionCollection}static get defaultFont(){return null==this.defaultStandardFont&&(this.defaultStandardFont=new jy(ma.Helvetica,8)),this.defaultStandardFont}get sections(){return this.sectionCollection}get pageSettings(){return null==this.settings&&(this.settings=new vge(this.defaultMargin)),this.settings}set pageSettings(t){this.settings=t}get pages(){return this.documentPageCollection}static get cache(){return void 0===n.cacheCollection||null==n.cacheCollection?new Ej:n.cacheCollection}static set cache(t){this.cacheCollection=t}static get enableCache(){return this.isCacheEnabled}static set enableCache(t){this.isCacheEnabled=t}get colorSpace(){return this.pdfColorSpace===Fi.Rgb||this.pdfColorSpace===Fi.Cmyk||this.pdfColorSpace===Fi.GrayScale?this.pdfColorSpace:Fi.Rgb}set colorSpace(t){this.pdfColorSpace=t===Fi.Rgb||t===Fi.Cmyk||t===Fi.GrayScale?t:Fi.Rgb}get template(){return null==this.pageTemplate&&(this.pageTemplate=new _j),this.pageTemplate}set template(t){this.pageTemplate=t}docSave(t,i,s){if(this.checkPagesPresence(),null===t)throw new Error("ArgumentNullException : stream");this.streamWriter=t;let r=new fge(t);if(r.document=this,"boolean"==typeof i&&void 0===s)return this.crossTable.save(r);this.crossTable.save(r,i)}checkPagesPresence(){0===this.pages.count&&this.pages.add()}destroy(){this.catalog=void 0,this.colorSpace=void 0,this.currentSavingObj=void 0,this.documentPageCollection=void 0,this.isStreamCopied=void 0,this.pageSettings=void 0,this.pageTemplate=void 0,this.pdfColorSpace=void 0,this.sectionCollection=void 0,n.cache.destroy(),this.crossTable.pdfObjects.destroy(),n.cache=void 0,this.streamWriter.destroy()}}return n.defaultStandardFont=null,n.isCacheEnabled=!0,n})(),eye=(()=>{class n{static getMetrics(t,i,s){let r=null;switch(t){case ma.Helvetica:r=this.getHelveticaMetrics(t,i,s);break;case ma.Courier:r=this.getCourierMetrics(t,i,s);break;case ma.TimesRoman:r=this.getTimesMetrics(t,i,s);break;case ma.Symbol:r=this.getSymbolMetrics(t,i,s);break;case ma.ZapfDingbats:r=this.getZapfDingbatsMetrics(t,i,s);break;default:r=this.getHelveticaMetrics(ma.Helvetica,i,s)}return r.name=t.toString(),r.subScriptSizeFactor=this.subSuperScriptFactor,r.superscriptSizeFactor=this.subSuperScriptFactor,r}static getHelveticaMetrics(t,i,s){let r=new Vy;return(i&Hs.Bold)>0&&(i&Hs.Italic)>0?(r.ascent=this.helveticaBoldItalicAscent,r.descent=this.helveticaBoldItalicDescent,r.postScriptName=this.helveticaBoldItalicName,r.size=s,r.widthTable=new ja(this.arialBoldWidth),r.height=r.ascent-r.descent):(i&Hs.Bold)>0?(r.ascent=this.helveticaBoldAscent,r.descent=this.helveticaBoldDescent,r.postScriptName=this.helveticaBoldName,r.size=s,r.widthTable=new ja(this.arialBoldWidth),r.height=r.ascent-r.descent):(i&Hs.Italic)>0?(r.ascent=this.helveticaItalicAscent,r.descent=this.helveticaItalicDescent,r.postScriptName=this.helveticaItalicName,r.size=s,r.widthTable=new ja(this.arialWidth),r.height=r.ascent-r.descent):(r.ascent=this.helveticaAscent,r.descent=this.helveticaDescent,r.postScriptName=this.helveticaName,r.size=s,r.widthTable=new ja(this.arialWidth),r.height=r.ascent-r.descent),r}static getCourierMetrics(t,i,s){let r=new Vy;return(i&Hs.Bold)>0&&(i&Hs.Italic)>0?(r.ascent=this.courierBoldItalicAscent,r.descent=this.courierBoldItalicDescent,r.postScriptName=this.courierBoldItalicName,r.size=s,r.widthTable=new ja(this.fixedWidth),r.height=r.ascent-r.descent):(i&Hs.Bold)>0?(r.ascent=this.courierBoldAscent,r.descent=this.courierBoldDescent,r.postScriptName=this.courierBoldName,r.size=s,r.widthTable=new ja(this.fixedWidth),r.height=r.ascent-r.descent):(i&Hs.Italic)>0?(r.ascent=this.courierItalicAscent,r.descent=this.courierItalicDescent,r.postScriptName=this.courierItalicName,r.size=s,r.widthTable=new ja(this.fixedWidth),r.height=r.ascent-r.descent):(r.ascent=this.courierAscent,r.descent=this.courierDescent,r.postScriptName=this.courierName,r.size=s,r.widthTable=new ja(this.fixedWidth),r.height=r.ascent-r.descent),r}static getTimesMetrics(t,i,s){let r=new Vy;return(i&Hs.Bold)>0&&(i&Hs.Italic)>0?(r.ascent=this.timesBoldItalicAscent,r.descent=this.timesBoldItalicDescent,r.postScriptName=this.timesBoldItalicName,r.size=s,r.widthTable=new ja(this.timesRomanBoldItalicWidths),r.height=r.ascent-r.descent):(i&Hs.Bold)>0?(r.ascent=this.timesBoldAscent,r.descent=this.timesBoldDescent,r.postScriptName=this.timesBoldName,r.size=s,r.widthTable=new ja(this.timesRomanBoldWidth),r.height=r.ascent-r.descent):(i&Hs.Italic)>0?(r.ascent=this.timesItalicAscent,r.descent=this.timesItalicDescent,r.postScriptName=this.timesItalicName,r.size=s,r.widthTable=new ja(this.timesRomanItalicWidth),r.height=r.ascent-r.descent):(r.ascent=this.timesAscent,r.descent=this.timesDescent,r.postScriptName=this.timesName,r.size=s,r.widthTable=new ja(this.timesRomanWidth),r.height=r.ascent-r.descent),r}static getSymbolMetrics(t,i,s){let r=new Vy;return r.ascent=this.symbolAscent,r.descent=this.symbolDescent,r.postScriptName=this.symbolName,r.size=s,r.widthTable=new ja(this.symbolWidth),r.height=r.ascent-r.descent,r}static getZapfDingbatsMetrics(t,i,s){let r=new Vy;return r.ascent=this.zapfDingbatsAscent,r.descent=this.zapfDingbatsDescent,r.postScriptName=this.zapfDingbatsName,r.size=s,r.widthTable=new ja(this.zapfDingbatsWidth),r.height=r.ascent-r.descent,r}}return n.subSuperScriptFactor=1.52,n.helveticaAscent=931,n.helveticaDescent=-225,n.helveticaName="Helvetica",n.helveticaBoldAscent=962,n.helveticaBoldDescent=-228,n.helveticaBoldName="Helvetica-Bold",n.helveticaItalicAscent=931,n.helveticaItalicDescent=-225,n.helveticaItalicName="Helvetica-Oblique",n.helveticaBoldItalicAscent=962,n.helveticaBoldItalicDescent=-228,n.helveticaBoldItalicName="Helvetica-BoldOblique",n.courierAscent=805,n.courierDescent=-250,n.courierName="Courier",n.courierBoldAscent=801,n.courierBoldDescent=-250,n.courierBoldName="Courier-Bold",n.courierItalicAscent=805,n.courierItalicDescent=-250,n.courierItalicName="Courier-Oblique",n.courierBoldItalicAscent=801,n.courierBoldItalicDescent=-250,n.courierBoldItalicName="Courier-BoldOblique",n.timesAscent=898,n.timesDescent=-218,n.timesName="Times-Roman",n.timesBoldAscent=935,n.timesBoldDescent=-218,n.timesBoldName="Times-Bold",n.timesItalicAscent=883,n.timesItalicDescent=-217,n.timesItalicName="Times-Italic",n.timesBoldItalicAscent=921,n.timesBoldItalicDescent=-218,n.timesBoldItalicName="Times-BoldItalic",n.symbolAscent=1010,n.symbolDescent=-293,n.symbolName="Symbol",n.zapfDingbatsAscent=820,n.zapfDingbatsDescent=-143,n.zapfDingbatsName="ZapfDingbats",n.arialWidth=[278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,0,556,0,222,556,333,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,222,222,333,333,350,556,1e3,333,1e3,500,333,944,0,500,667,0,333,556,556,556,556,260,556,333,737,370,556,584,0,737,333,400,584,333,333,333,556,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,584,611,556,556,556,556,500,556,500],n.arialBoldWidth=[278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,0,556,0,278,556,500,1e3,556,556,333,1e3,667,333,1e3,0,611,0,0,278,278,500,500,350,556,1e3,333,1e3,556,333,944,0,500,667,0,333,556,556,556,556,280,556,333,737,370,556,584,0,737,333,400,584,333,333,333,611,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,584,611,611,611,611,611,556,611,556],n.fixedWidth=[600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600,600],n.timesRomanWidth=[250,333,408,500,500,833,778,180,333,333,500,564,250,333,250,278,500,500,500,500,500,500,500,500,500,500,278,278,564,564,564,444,921,722,667,667,722,611,556,722,722,333,389,722,611,889,722,722,556,722,667,556,611,722,722,944,722,722,611,333,278,333,469,500,333,444,500,444,500,444,333,500,500,278,278,500,278,778,500,500,500,500,333,389,278,500,500,722,500,500,444,480,200,480,541,0,500,0,333,500,444,1e3,500,500,333,1e3,556,333,889,0,611,0,0,333,333,444,444,350,500,1e3,333,980,389,333,722,0,444,722,0,333,500,500,500,500,200,500,333,760,276,500,564,0,760,333,400,564,300,300,333,500,453,250,333,300,310,500,750,750,750,444,722,722,722,722,722,722,889,667,611,611,611,611,333,333,333,333,722,722,722,722,722,722,722,564,722,722,722,722,722,722,556,500,444,444,444,444,444,444,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,564,500,500,500,500,500,500,500,500],n.timesRomanBoldWidth=[250,333,555,500,500,1e3,833,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,930,722,667,722,722,667,611,778,778,389,500,778,667,944,722,778,611,778,722,556,667,722,722,1e3,722,722,667,333,278,333,581,500,333,500,556,444,556,444,333,500,556,278,333,556,278,833,556,500,556,556,444,389,333,556,500,722,500,500,444,394,220,394,520,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,1e3,0,667,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,444,722,0,333,500,500,500,500,220,500,333,747,300,500,570,0,747,333,400,570,300,300,333,556,540,250,333,300,330,500,750,750,750,500,722,722,722,722,722,722,1e3,722,667,667,667,667,389,389,389,389,722,722,778,778,778,778,778,570,778,722,722,722,722,722,611,556,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,500,556,500],n.timesRomanItalicWidth=[250,333,420,500,500,833,778,214,333,333,500,675,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,675,675,675,500,920,611,611,667,722,611,611,722,722,333,444,667,556,833,667,722,611,722,611,500,556,722,611,833,611,556,556,389,278,389,422,500,333,500,500,444,500,444,278,500,500,278,278,444,278,722,500,500,500,500,389,389,278,500,444,667,444,444,389,400,275,400,541,0,500,0,333,500,556,889,500,500,333,1e3,500,333,944,0,556,0,0,333,333,556,556,350,500,889,333,980,389,333,667,0,389,556,0,389,500,500,500,500,275,500,333,760,276,500,675,0,760,333,400,675,300,300,333,500,523,250,333,300,310,500,750,750,750,500,611,611,611,611,611,611,889,667,611,611,611,611,333,333,333,333,722,667,722,722,722,722,722,675,722,722,722,722,722,556,611,500,500,500,500,500,500,500,667,444,444,444,444,444,278,278,278,278,500,500,500,500,500,500,500,675,500,500,500,500,500,444,500,444],n.timesRomanBoldItalicWidths=[250,389,555,500,500,833,778,278,333,333,500,570,250,333,250,278,500,500,500,500,500,500,500,500,500,500,333,333,570,570,570,500,832,667,667,667,722,667,667,722,778,389,500,667,611,889,722,722,611,722,667,556,611,722,667,889,667,611,611,333,278,333,570,500,333,500,500,444,500,444,333,500,556,278,278,500,278,778,556,500,500,500,389,389,278,556,444,667,500,444,389,348,220,348,570,0,500,0,333,500,500,1e3,500,500,333,1e3,556,333,944,0,611,0,0,333,333,500,500,350,500,1e3,333,1e3,389,333,722,0,389,611,0,389,500,500,500,500,220,500,333,747,266,500,606,0,747,333,400,570,300,300,333,576,500,250,333,300,300,500,750,750,750,500,667,667,667,667,667,667,944,667,667,667,667,667,389,389,389,389,722,722,722,722,722,722,722,570,722,722,722,722,722,611,611,500,500,500,500,500,500,500,722,444,444,444,444,444,278,278,278,278,500,556,500,500,500,500,500,570,500,556,556,556,556,444,500,444],n.symbolWidth=[250,333,713,500,549,833,778,439,333,333,500,549,250,549,250,278,500,500,500,500,500,500,500,500,500,500,278,278,549,549,549,444,549,722,667,722,612,611,763,603,722,333,631,722,686,889,722,722,768,741,556,592,611,690,439,768,645,795,611,333,863,333,658,500,500,631,549,549,494,439,521,411,603,329,603,549,549,576,521,549,549,521,549,603,439,576,713,686,493,686,494,480,200,480,549,750,620,247,549,167,713,500,753,753,753,753,1042,987,603,987,603,400,549,411,549,549,713,494,460,549,549,549,549,1e3,603,1e3,658,823,686,795,987,768,768,823,768,768,713,713,713,713,713,713,713,768,713,790,790,890,823,549,250,713,603,603,1042,987,603,987,603,494,329,790,790,786,713,384,384,384,384,384,384,494,494,494,494,329,274,686,686,686,384,384,384,384,384,384,494,494,494,-1],n.zapfDingbatsWidth=[278,974,961,974,980,719,789,790,791,690,960,939,549,855,911,933,911,945,974,755,846,762,761,571,677,763,760,759,754,494,552,537,577,692,786,788,788,790,793,794,816,823,789,841,823,833,816,831,923,744,723,749,790,792,695,776,768,792,759,707,708,682,701,826,815,789,789,707,687,696,689,786,787,713,791,785,791,873,761,762,762,759,759,892,892,788,784,438,138,277,415,392,392,668,668,390,390,317,317,276,276,509,509,410,410,234,234,334,334,732,544,544,910,667,760,760,776,595,694,626,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,788,894,838,1016,458,748,924,748,918,927,928,928,834,873,828,924,924,917,930,931,463,883,836,836,867,867,696,696,874,874,760,946,771,865,771,888,967,888,831,873,927,970,918],n})(),jy=(()=>{class n extends tl{constructor(t,i,s){super(i,void 0===s?t instanceof n?t.style:Hs.Regular:s),this.dictionaryProperties=new Rn,this.encodings=["Unknown","StandardEncoding","MacRomanEncoding","MacExpertEncoding","WinAnsiEncoding","PDFDocEncoding","IdentityH"],this.pdfFontFamily=void 0===t?ma.Helvetica:t instanceof n?t.fontFamily:t,this.checkStyle(),this.initializeInternals()}get fontFamily(){return this.pdfFontFamily}checkStyle(){if(this.fontFamily===ma.Symbol||this.fontFamily===ma.ZapfDingbats){let t=this.style;t&=~(Hs.Bold|Hs.Italic),this.setStyle(t)}}getLineWidth(t,i){if(null==t)throw new Error("ArgumentNullException:line");let s=0;for(let a=0,l=(t=n.convert(t)).length;a<l;a++)s+=this.getCharWidthInternal(t[a],i);let o=this.metrics.getSize(i);return s*=tl.charSizeMultiplier*o,s=this.applyFormatSettings(t,i,s),s}equalsToFont(t){let i=!1;if(null!=t){let o=~(Hs.Underline|Hs.Strikeout),a=(this.style&o)==(t.style&o);i=this.fontFamily===t.fontFamily&&a}return i}initializeInternals(){let t=null;t=Sp.cache.search(this);let i=null,s=eye.getMetrics(this.pdfFontFamily,this.style,this.size);this.metrics=s,i=this.createInternals(),this.setInternals(i)}createInternals(){let t=new vs;return t.items.setValue(this.dictionaryProperties.type,new Si(this.dictionaryProperties.font)),t.items.setValue(this.dictionaryProperties.subtype,new Si(this.dictionaryProperties.type1)),t.items.setValue(this.dictionaryProperties.baseFont,new Si(this.metrics.postScriptName)),this.fontFamily!==ma.Symbol&&this.fontFamily!==ma.ZapfDingbats&&t.items.setValue(this.dictionaryProperties.encoding,new Si(this.encodings[tE.WinAnsiEncoding])),t}getCharWidthInternal(t,i){let s=0,r=0;return r=t.charCodeAt(0),("0"===this.name||"1"===this.name||"2"===this.name||"3"===this.name||"4"===this.name)&&(r-=n.charOffset),r=r>=0&&128!==r?r:0,s=this.metrics.widthTable.items(r),s}static convert(t){return t}}return n.charOffset=32,n})();new Ln;class Nj{get dock(){return this.dockStyle}set dock(e){this.dockStyle=e,this.resetAlignment()}get alignment(){return this.alignmentStyle}set alignment(e){this.setAlignment(e)}get foreground(){return this.isForeground}set foreground(e){this.isForeground=e}get background(){return!this.isForeground}set background(e){this.isForeground=!e}get location(){return this.currentLocation}set location(e){this.type===is.None&&(this.currentLocation=e)}get x(){return void 0!==this.currentLocation?this.currentLocation.x:0}set x(e){this.type===is.None&&(this.currentLocation.x=e)}get y(){return void 0!==this.currentLocation?this.currentLocation.y:0}set y(e){this.type===is.None&&(this.currentLocation.y=e)}get size(){return this.template.size}set size(e){this.type===is.None&&this.template.reset(e)}get width(){return this.template.width}set width(e){if(this.template.width!==e&&this.type===is.None){let t=this.template.size;t.width=e,this.template.reset(t)}}get height(){return this.template.height}set height(e){if(this.template.height!==e&&this.type===is.None){let t=this.template.size;t.height=e,this.template.reset(t)}}get graphics(){return this.template.graphics}get template(){return this.pdfTemplate}get type(){return this.templateType}set type(e){this.updateDocking(e),this.templateType=e}get bounds(){return new Pe(new xe(this.x,this.y),this.size)}set bounds(e){this.type===is.None&&(this.location=new xe(e.x,e.y),this.size=new We(e.width,e.height))}constructor(e,t,i,s,r){e instanceof Pe&&void 0===t?this.InitiateBounds(e.x,e.y,e.width,e.height,null):e instanceof Pe&&t instanceof rd&&void 0===i?this.InitiateBounds(e.x,e.y,e.width,e.height,t):e instanceof xe&&t instanceof We&&void 0===i?this.InitiateBounds(e.x,e.y,t.width,t.height,null):e instanceof xe&&t instanceof We&&i instanceof rd&&void 0===s?this.InitiateBounds(e.x,e.y,t.width,t.height,i):e instanceof We&&void 0===t?this.InitiateBounds(0,0,e.width,e.height,null):"number"==typeof e&&"number"==typeof t&&void 0===i?this.InitiateBounds(0,0,e,t,null):"number"==typeof e&&"number"==typeof t&&i instanceof rd&&void 0===s?this.InitiateBounds(0,0,e,t,i):this.InitiateBounds(e,t,i,s,null)}InitiateBounds(e,t,i,s,r){this.x=e,this.y=t,this.pdfTemplate=new cC(i,s)}updateDocking(e){if(e!==is.None){switch(e){case is.Top:this.dock=Kn.Top;break;case is.Bottom:this.dock=Kn.Bottom;break;case is.Left:this.dock=Kn.Left;break;case is.Right:this.dock=Kn.Right}this.resetAlignment()}}resetAlignment(){this.alignment=ji.None}setAlignment(e){if(this.dock===Kn.None)this.alignmentStyle=e;else{let t=!1;switch(this.dock){case Kn.Left:t=e===ji.TopLeft||e===ji.MiddleLeft||e===ji.BottomLeft||e===ji.None;break;case Kn.Top:t=e===ji.TopLeft||e===ji.TopCenter||e===ji.TopRight||e===ji.None;break;case Kn.Right:t=e===ji.TopRight||e===ji.MiddleRight||e===ji.BottomRight||e===ji.None;break;case Kn.Bottom:t=e===ji.BottomLeft||e===ji.BottomCenter||e===ji.BottomRight||e===ji.None;break;case Kn.Fill:t=e===ji.MiddleCenter||e===ji.None}t&&(this.alignmentStyle=e)}}draw(e,t){let s=this.calculateBounds(e.page,t);-0===s.x&&(s.x=0),e.graphics.drawPdfTemplate(this.template,new xe(s.x,s.y),new We(s.width,s.height))}calculateBounds(e,t){let i=this.bounds;return this.alignmentStyle!==ji.None?i=this.getAlignmentBounds(e,t):this.dockStyle!==Kn.None&&(i=this.getDockBounds(e,t)),i}getAlignmentBounds(e,t){let i=this.bounds;return i=this.type===is.None?this.getSimpleAlignmentBounds(e,t):this.getTemplateAlignmentBounds(e,t),i}getSimpleAlignmentBounds(e,t){let i=this.bounds,r=e.section.getActualBounds(t,e,!1),o=this.x,a=this.y;switch(this.alignmentStyle){case ji.TopLeft:o=0,a=0;break;case ji.TopCenter:o=(r.width-this.width)/2,a=0;break;case ji.TopRight:o=r.width-this.width,a=0;break;case ji.MiddleLeft:o=0,a=(r.height-this.height)/2;break;case ji.MiddleCenter:o=(r.width-this.width)/2,a=(r.height-this.height)/2;break;case ji.MiddleRight:o=r.width-this.width,a=(r.height-this.height)/2;break;case ji.BottomLeft:o=0,a=r.height-this.height;break;case ji.BottomCenter:o=(r.width-this.width)/2,a=r.height-this.height;break;case ji.BottomRight:o=r.width-this.width,a=r.height-this.height}return i.x=o,i.y=a,i}getTemplateAlignmentBounds(e,t){let i=this.bounds,s=e.section,r=s.getActualBounds(t,e,!1),o=this.x,a=this.y;switch(this.alignmentStyle){case ji.TopLeft:this.type===is.Left?(o=-r.x,a=0):this.type===is.Top&&(o=-r.x,a=-r.y);break;case ji.TopCenter:o=(r.width-this.width)/2,a=-r.y;break;case ji.TopRight:this.type===is.Right?(o=r.width+s.getRightIndentWidth(t,e,!1)-this.width,a=0):this.type===is.Top&&(o=r.width+s.getRightIndentWidth(t,e,!1)-this.width,a=-r.y);break;case ji.MiddleLeft:o=-r.x,a=(r.height-this.height)/2;break;case ji.MiddleCenter:o=(r.width-this.width)/2,a=(r.height-this.height)/2;break;case ji.MiddleRight:o=r.width+s.getRightIndentWidth(t,e,!1)-this.width,a=(r.height-this.height)/2;break;case ji.BottomLeft:this.type===is.Left?(o=-r.x,a=r.height-this.height):this.type===is.Bottom&&(o=-r.x,a=r.height+s.getBottomIndentHeight(t,e,!1)-this.height);break;case ji.BottomCenter:o=(r.width-this.width)/2,a=r.height+s.getBottomIndentHeight(t,e,!1)-this.height;break;case ji.BottomRight:this.type===is.Right?(o=r.width+s.getRightIndentWidth(t,e,!1)-this.width,a=r.height-this.height):this.type===is.Bottom&&(o=r.width+s.getRightIndentWidth(t,e,!1)-this.width,a=r.height+s.getBottomIndentHeight(t,e,!1)-this.height)}return i.x=o,i.y=a,i}getDockBounds(e,t){let i=this.bounds;return i=this.type===is.None?this.getSimpleDockBounds(e,t):this.getTemplateDockBounds(e,t),i}getSimpleDockBounds(e,t){let i=this.bounds,r=e.section.getActualBounds(t,e,!1),o=this.x,a=this.y,l=this.width,h=this.height;switch(this.dockStyle){case Kn.Left:o=0,a=0,l=this.width,h=r.height;break;case Kn.Top:o=0,a=0,l=r.width,h=this.height;break;case Kn.Right:o=r.width-this.width,a=0,l=this.width,h=r.height;break;case Kn.Bottom:o=0,a=r.height-this.height,l=r.width,h=this.height;break;case Kn.Fill:o=0,o=0,l=r.width,h=r.height}return i=new Pe(o,a,l,h),i}getTemplateDockBounds(e,t){let i=this.bounds,s=e.section,r=s.getActualBounds(t,e,!1),o=s.pageSettings.getActualSize(),a=this.x,l=this.y,h=this.width,c=this.height;switch(this.dockStyle){case Kn.Left:a=-r.x,l=0,h=this.width,c=r.height;break;case Kn.Top:a=-r.x,l=-r.y,h=o.width,c=this.height,r.height<0&&(l=-r.y+o.height);break;case Kn.Right:a=r.width+s.getRightIndentWidth(t,e,!1)-this.width,l=0,h=this.width,c=r.height;break;case Kn.Bottom:a=-r.x,l=r.height+s.getBottomIndentHeight(t,e,!1)-this.height,h=o.width,c=this.height,r.height<0&&(l-=o.height);break;case Kn.Fill:a=0,a=0,h=r.width,c=r.height}return i=new Pe(a,l,h,c),i}}let as={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"};var an;function pC(n,e){const t={};if(f(n)||"string"==typeof n||"number"==typeof n||!f(n.isHeader))return n;for(const i of Object.keys(e)){const s=e[i],r=f(s)||"string"!=typeof s?void 0:Q(s,n);f(r)||(t[s]=r)}return t}function dE(n){if(n)try{if(document.querySelector(n))return Lr(document.querySelector(n).innerHTML.trim())}catch(e){return Lr(n)}}!function(n){n.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null,sortBy:null};const e={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},t={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:n.defaultMappedFields,ariaAttributes:e,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function s(H,q,G,A,R){return N(H,r(H,q,G,A,R),null,A)}function r(H,q,G,A,R){const P=[],M=fe({},t,A);as=D(M.moduleName);const L=w();for(let V=0;V<q.length;V++){if(f(q[V]))continue;let te;M.itemCreating&&"function"==typeof M.itemCreating&&M.itemCreating({dataSource:q,curData:q[V],text:q[V],options:M}),te=G?k(H,q[V],void 0,null,null,[],null,L,V,A):O(H,q[V],void 0,null,null,A,R),M.itemCreated&&"function"==typeof M.itemCreated&&M.itemCreated({dataSource:q,curData:q[V],text:q[V],item:te,options:M}),P.push(te)}return P}function o(H,q,G,A,R,P){const M=fe({},t,G);as=D(M.moduleName);const L=fe({},n.defaultMappedFields,M.fields),V=fe({},e,M.ariaAttributes);let te,pe=[];A&&(V.level=A);const ae=[];let Oe,Te;q&&q.length&&!f(m(q).item)&&!m(q).item.hasOwnProperty(L.id)&&(te=w());for(let Ge=0;Ge<q.length;Ge++){let ve=pC(q[Ge],L);if(f(q[Ge]))continue;M.itemCreating&&"function"==typeof M.itemCreating&&M.itemCreating({dataSource:q,curData:q[Ge],text:ve[L.text],options:M,fields:L});const j=q[Ge];M.itemCreating&&"function"==typeof M.itemCreating&&(ve=pC(q[Ge],L)),ve.hasOwnProperty(L.id)&&!f(ve[L.id])&&(te=ve[L.id]);const Y=[];if(M.showCheckBox&&(M.itemNavigable&&(ve[L.url]||ve[L.urlAttributes])?pe.push(H("input",{className:as.check,attrs:{type:"checkbox"}})):Y.push(H("input",{className:as.check,attrs:{type:"checkbox"}}))),!0===R)M.showIcon&&ve.hasOwnProperty(L.iconCss)&&!f(ve[L.iconCss])&&Y.push(H("span",{className:as.icon+" "+ve[L.iconCss]})),Oe=k(H,j,ve,L,M.itemClass,Y,!(!j.hasOwnProperty("isHeader")||!j.isHeader),te,Ge,G),Te=Oe.querySelector("."+as.anchorWrap),M.itemNavigable&&pe.length&&lh(pe,Oe.firstElementChild);else{if(Oe=O(H,j,ve,L,M.itemClass,G,P),Oe.classList.add(as.level+"-"+V.level),Oe.setAttribute("aria-level",V.level.toString()),Te=Oe.querySelector("."+as.anchorWrap),ve.hasOwnProperty(L.tooltip)&&Oe.setAttribute("title",ve[L.tooltip]),ve.hasOwnProperty(L.htmlAttributes)&&ve[L.htmlAttributes]&&y(Oe,ve[L.htmlAttributes]),ve.hasOwnProperty(L.enabled)&&!1===ve[L.enabled]&&Oe.classList.add(as.disabled),ve.hasOwnProperty(L.isVisible)&&!1===ve[L.isVisible]&&(Oe.style.display="none"),ve.hasOwnProperty(L.imageUrl)&&!f(ve[L.imageUrl])&&!M.template){const ge={src:ve[L.imageUrl]};ai(ge,ve[L.imageAttributes]);const Xe=H("img",{className:as.image,attrs:ge});Te?Te.insertAdjacentElement("afterbegin",Xe):lh([Xe],Oe.firstElementChild)}if(M.showIcon&&ve.hasOwnProperty(L.iconCss)&&!f(ve[L.iconCss])&&!M.template){const ge=H("div",{className:as.icon+" "+ve[L.iconCss]});Te?Te.insertAdjacentElement("afterbegin",ge):lh([ge],Oe.firstElementChild)}Y.length&&lh(Y,Oe.firstElementChild),M.itemNavigable&&pe.length&&lh(pe,Oe.firstElementChild),_(H,ve,L,0,M,Oe,V.level)}Te&&B([Oe],[as.navigable]),M.itemCreated&&"function"==typeof M.itemCreated&&M.itemCreated({dataSource:q,curData:q[Ge],text:ve[L.text],item:Oe,options:M,fields:L}),pe=[],ae.push(Oe)}return ae}function a(H,q,G,A,R,P){const M=fe({},t,G);return N(H,o(H,q,G,A,R,P),M.listClass,G)}function h(H,q){if(q&&H){let G=q;return G=Array.prototype.slice.call(q),G.indexOf(H)}}function d(H,q,G=new Ri){if("Ascending"===H)G.sortBy(q,"ascending",!0);else if("Descending"===H)G.sortBy(q,"descending",!0);else for(let A=0;A<G.queries.length;A++)"onSortBy"===G.queries[A].fn&&G.queries.splice(A,1);return G}function u(H,q){return new Ot(H).executeLocal(q)}function m(H){for(let G=0;G<H.length;G++)if(!f(H[G]))return{typeof:typeof H[G],item:H[G]};return{typeof:null,item:null}}function y(H,q){const G={};ai(G,q),G.class&&(B([H],G.class.split(" ")),delete G.class),we(H,G)}function b(H){const q={},G=H.attributes;for(let A=0;A<G.length;A++)q[G[A].nodeName]=G[A].nodeValue;return q}function w(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function _(H,q,G,A,R,P,M){const L=q[G.child]||[];let V=q[G.hasChildren];if(L.length&&(V=!0,P.classList.add(as.hasChild),R.processSubChild)){const te=a(H,L,R,++M);P.appendChild(te)}R.expandCollapse&&V&&!R.template&&(P.firstElementChild.classList.add(as.iconWrapper),("Left"===R.expandIconPosition?lh:ys)([H("div",{className:"e-icons "+R.expandIconClass})],P.querySelector("."+as.textContent)))}function k(H,q,G,A,R,P,M,L,V,te){const pe=fe({},t,te),ae=fe({},e,pe.ariaAttributes);let Ge,ve,Oe=q,Te=q;"string"!=typeof q&&"number"!=typeof q&&"boolean"!=typeof q&&(Ge=q,Oe="boolean"==typeof G[A.text]||"number"==typeof G[A.text]?G[A.text]:G[A.text]||"",Te=G[A.value]),ve=f(Ge)||f(G[A.id])||""===G[A.id]?L+"-"+V:L;const j=H("li",{className:(!0===M?as.group:as.li)+" "+(f(R)?"":R),id:ve,attrs:""!==ae.groupItemRole&&""!==ae.itemRole?{role:!0===M?ae.groupItemRole:ae.itemRole}:{}});return Ge&&G.hasOwnProperty(A.enabled)&&"false"===G[A.enabled].toString()&&j.classList.add(as.disabled),M?j.innerText=Oe:(j.setAttribute("data-value",f(Te)?"null":Te),j.setAttribute("role","option"),Ge&&G.hasOwnProperty(A.htmlAttributes)&&G[A.htmlAttributes]&&y(j,G[A.htmlAttributes]),P.length&&!pe.itemNavigable&&ys(P,j),Ge&&(G[A.url]||G[A.urlAttributes]&&G[A.urlAttributes].href)?j.appendChild(I(H,Ge,A,Oe,P,pe.itemNavigable)):(P.length&&pe.itemNavigable&&ys(P,j),j.appendChild(document.createTextNode(Oe)))),j}function D(H){return{li:`e-${H}-item`,ul:`e-${H}-parent e-ul`,group:`e-${H}-group-item`,icon:`e-${H}-icon`,text:`e-${H}-text`,check:`e-${H}-check`,checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:`e-${H}-url`,collapsible:"e-icon-collapsible",disabled:"e-disabled",image:`e-${H}-img`,iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function I(H,q,G,A,R,P){const M=pC(q,G),L={href:M[G.url]};let V;if(M.hasOwnProperty(G.urlAttributes)&&M[G.urlAttributes]&&(ai(L,M[G.urlAttributes]),L.href=M[G.url]?M[G.url]:M[G.urlAttributes].href),P){V=H("a",{className:as.text+" "+as.url});const te=H("div",{className:as.anchorWrap});R&&R.length&&ys(R,te),te.appendChild(document.createTextNode(A)),ys([te],V)}else V=H("a",{className:as.text+" "+as.url,innerHTML:A});return y(V,L),V}function O(H,q,G,A,R,P,M){const L=fe({},t,P),V=fe({},e,L.ariaAttributes);let pe,ae,Oe,te=q;"string"!=typeof q&&"number"!=typeof q&&(Oe=q,te=G[A.text]||"",pe=f(G._id)?G[A.id]:G._id,ae=!(!q.hasOwnProperty("isHeader")||!q.isHeader)),P&&P.enableHtmlSanitizer&&(te=te);const Te=H("li",{className:(!0===ae?as.group:as.li)+" "+(f(R)?"":R),attrs:""!==V.groupItemRole&&""!==V.itemRole?{role:!0===ae?V.groupItemRole:V.itemRole}:{}});if(f(pe)?Te.setAttribute("data-uid",w()):Te.setAttribute("data-uid",pe),ae&&P&&P.groupTemplate){const Ge=dE(P.groupTemplate);if(M&&"listview"!==M.getModuleName()){const ve=Ge(q,M,"groupTemplate",L.groupTemplateID,!!L.isStringTemplate,null,Te);ve&&ys(ve,Te)}else ys(Ge(q,M,"groupTemplate",L.groupTemplateID,!!L.isStringTemplate),Te)}else if(!ae&&P&&P.template){const Ge=dE(P.template);if(M&&"listview"!==M.getModuleName()){const ve=Ge(q,M,"template",L.templateID,!!L.isStringTemplate,null,Te);ve&&ys(ve,Te)}else ys(Ge(q,M,"template",L.templateID,!!L.isStringTemplate),Te)}else{const Ge=H("div",{className:as.textContent,attrs:""!==V.wrapperRole?{role:V.wrapperRole}:{}});if(Oe&&(G[A.url]||G[A.urlAttributes]&&G[A.urlAttributes].href))Ge.appendChild(I(H,Oe,A,te,null,L.itemNavigable));else{const ve=H("span",{className:as.text,attrs:""!==V.itemText?{role:V.itemText}:{}});P&&P.enableHtmlSanitizer?ve.innerText=te:ve.innerHTML=te,Ge.appendChild(ve)}Te.appendChild(Ge)}return Te}function N(H,q,G,A){const R=fe({},t,A),P=fe({},e,R.ariaAttributes);as=D(R.moduleName);const M=H("ul",{className:as.ul+" "+(f(G)?"":G),attrs:""!==P.listRole?{role:P.listRole}:{}});return ys(q,M),M}n.createList=function(H,q,G,A,R){const P=fe({},t,G),M=fe({},e,P.ariaAttributes),L=m(q).typeof;return"string"===L||"number"===L?s(H,q,A,G,R):a(H,q,G,M.level,A,R)},n.createListFromArray=s,n.createListItemFromArray=r,n.createListItemFromJson=o,n.createListFromJson=a,n.getSiblingLI=function(H,q,G){if(as=D(t.moduleName),!H||!H.length)return;let A,R;const P=Array.prototype.slice.call(H);for(R=q?h(q,P):!0===G?P.length:-1,A=P[R+(!0===G?-1:1)];A&&(!An(A)||A.classList.contains(as.disabled));)R+=!0===G?-1:1,A=P[R];return A},n.indexOf=h,n.groupDataSource=function(H,q,G="None"){const A=fe({},n.defaultMappedFields,q);let R=(new Ri).group(A.groupBy);R=d(G,"key",R);const P=u(H,R);H=[];for(let M=0;M<P.length;M++){const L=P[M].items,V={},te="isHeader";V[A.text]=P[M].key,V[te]=!0;let pe=A.text;"id"===pe&&(pe="text",V[pe]=P[M].key),V._id="group-list-item-"+(P[M].key?P[M].key.toString().trim():"undefined"),V.items=L,H.push(V);for(let ae=0;ae<L.length;ae++)H.push(L[ae])}return H},n.addSorting=d,n.getDataSource=u,n.createJsonFromElement=function p(H,q){const G=fe({},t,q),A=fe({},n.defaultMappedFields,G.fields),R=H.cloneNode(!0),P=[];R.classList.add("json-parent");const M=R.querySelectorAll(".json-parent>li");R.classList.remove("json-parent");for(let L=0;L<M.length;L++){const V=M[L],te=V.querySelector("a"),pe=V.querySelector("ul"),ae={},Oe=te?te.childNodes:V.childNodes,Te=Object.keys(Oe);for(let ve=0;ve<Oe.length;ve++)Oe[Number(Te[ve])].hasChildNodes()||(ae[A.text]=Oe[Number(Te[ve])].textContent);let Ge=b(V);Ge.id?(ae[A.id]=Ge.id,delete Ge.id):ae[A.id]=w(),Object.keys(Ge).length&&(ae[A.htmlAttributes]=Ge),te&&(Ge=b(te),Object.keys(Ge).length&&(ae[A.urlAttributes]=Ge)),pe&&(ae[A.child]=p(pe,q)),P.push(ae)}return P},n.renderContentTemplate=function(H,q,G,A,R,P){as=D(t.moduleName);const M=H("ul",{className:as.ul,attrs:{role:"presentation"}}),L=fe({},t,R),V=fe({},n.defaultMappedFields,A),te=dE(q),pe=[];let ae;const Oe=w();for(let Te=0;Te<G.length;Te++){let Ge=pC(G[Te],V);const ve=G[Te],j=ve.isHeader;ae="string"==typeof G[Te]||"number"==typeof G[Te]?ve:Ge[V.value],L.itemCreating&&"function"==typeof L.itemCreating&&L.itemCreating({dataSource:G,curData:ve,text:ae,options:L,fields:V}),L.itemCreating&&"function"==typeof L.itemCreating&&(Ge=pC(G[Te],V),ae="string"==typeof G[Te]||"number"==typeof G[Te]?ve:Ge[V.value]);const Y=H("li",{id:Oe+"-"+Te,className:j?as.group:as.li,attrs:{role:"presentation"}});if(j)Y.innerText="string"==typeof G[Te]||"number"==typeof G[Te]?ve:Ge[V.text];else{const ge=j?L.groupTemplateID:L.templateID;if(j)if(P&&"listview"!==P.getModuleName()){const Xe=te(ve,P,"headerTemplate",ge,!!L.isStringTemplate,null,Y);Xe&&ys(Xe,Y)}else ys(te(ve,P,"headerTemplate",ge,!!L.isStringTemplate),Y);else if(P&&"listview"!==P.getModuleName()){const Xe=te(ve,P,"template",ge,!!L.isStringTemplate,null,Y);Xe&&ys(Xe,Y)}else ys(te(ve,P,"template",ge,!!L.isStringTemplate),Y);Y.setAttribute("data-value",f(ae)?"null":ae),Y.setAttribute("role","option")}L.itemCreated&&"function"==typeof L.itemCreated&&L.itemCreated({dataSource:G,curData:ve,text:ae,item:Y,options:L,fields:V}),pe.push(Y)}return ys(pe,M),M},n.renderGroupTemplate=function(H,q,G,A,R,P){const M=dE(H),L=fe({},n.defaultMappedFields,G),V=fe({},t,R),te=L.groupBy;for(const pe of A){const ae={};if(ae[te]=pe.textContent,pe.innerHTML="",P&&"listview"!==P.getModuleName()){const Oe=M(ae,P,"groupTemplate",V.groupTemplateID,!!V.isStringTemplate,null,pe);Oe&&ys(Oe,pe)}else ys(M(ae,P,"groupTemplate",V.groupTemplateID,!!V.isStringTemplate),pe)}return A},n.generateId=w,n.generateUL=N,n.generateIcon=function(H,q,G,A){const R=fe({},t,A);return as=D(R.moduleName),("Left"===R.expandIconPosition?lh:ys)([H("div",{className:"e-icons "+R.expandIconClass+" "+(f(G)?"":G)})],q.querySelector("."+as.textContent)),q}}(an||(an={}));var wR,ic=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let ch=wR=class extends ec{constructor(e,t){super(t,e),this.getHelper=i=>{let r,s=this.getSortableElement(i.sender.target);return!!this.isValidTarget(s,this)&&(this.helper?r=this.helper({sender:s,element:i.element}):(r=s.cloneNode(!0),r.style.width=`${s.offsetWidth}px`,r.style.height=`${s.offsetHeight}px`),B([r],["e-sortableclone"]),document.body.appendChild(r),r)},this.onDrag=i=>{this.trigger("drag",{event:i.event,element:this.element,target:i.target});let s=this.getSortableInstance(i.target),r=this.getSortableElement(i.target,s);if((this.isValidTarget(r,s)||i.target.className.indexOf("e-list-group-item")>-1)&&(this.curTarget!==r||!f(s.placeHolder))&&(!s.placeHolderElement||s.placeHolderElement!==i.target)){if(i.target.className.indexOf("e-list-group-item")>-1&&(r=i.target),this.curTarget=r,this.target===r)return;let o=this.getIndex(s.placeHolderElement,s);const a=this.getPlaceHolder(r,s);let l;if(a){o=f(o)?this.getIndex(this.target):o,l=this.getIndex(r,s,i.event);const h=this.isPlaceHolderPresent(s);if(h&&o===l)return;h&&Ue(s.placeHolderElement),s.placeHolderElement=a,i.target.className.indexOf("e-list-group-item")>-1?s.element.insertBefore(s.placeHolderElement,s.element.children[l]):s.element!==this.element&&l===s.element.childElementCount?s.element.appendChild(s.placeHolderElement):s.element.insertBefore(s.placeHolderElement,s.element.children[l]),this.refreshDisabled(o,l,s)}else{o=f(o)?this.getIndex(this.target):this.getIndex(r,s)<o||!o?o:o-1,l=this.getIndex(r,s);const h=s.element!==this.element?l:o<l?l+1:l;this.updateItemClass(s),s.element.insertBefore(this.target,s.element.children[h]),this.refreshDisabled(o,l,s),this.curTarget=this.target,this.trigger("drop",{droppedElement:this.target,element:s.element,previousIndex:o,currentIndex:l,target:i.target,helper:document.getElementsByClassName("e-sortableclone")[0],event:i.event,scope:this.scope})}}if(s=this.getSortableInstance(this.curTarget),f(r)&&i.target!==s.placeHolderElement)this.isPlaceHolderPresent(s)&&this.removePlaceHolder(s);else{let a;[].slice.call(document.getElementsByClassName("e-sortable-placeholder")).forEach(l=>{a=this.getSortableInstance(l),a.element&&a!==s&&this.removePlaceHolder(a)})}},this.onDragStart=i=>{this.target=this.getSortableElement(i.target);let s=!1;this.target.classList.add("e-grabbed"),this.curTarget=this.target,i.helper=document.getElementsByClassName("e-sortableclone")[0],this.trigger("beforeDragStart",{cancel:!1,element:this.element,target:this.target},o=>{o.cancel&&(s=o.cancel,this.onDragStop(i))}),!s&&this.trigger("dragStart",st?{event:i.event,element:this.element,target:this.target,bindEvents:i.bindEvents,dragElement:i.dragElement}:{event:i.event,element:this.element,target:this.target})},this.onDragStop=i=>{let r,o,a,s=this.getSortableInstance(this.curTarget);r=this.getIndex(this.target);const l=this.isPlaceHolderPresent(s);if(l){const h=this.getIndex(s.placeHolderElement,s);this.trigger("beforeDrop",{previousIndex:r,currentIndex:h,target:i.target,droppedElement:this.target,helper:i.helper,cancel:!1,handled:!1},d=>{if(!d.cancel){if(a=d.handled,this.updateItemClass(s),d.handled){const p=this.target.cloneNode(!0);this.target.classList.remove("e-grabbed"),this.target=p}s.element.insertBefore(this.target,s.placeHolderElement);const u=this.getIndex(this.target,s);r=this===s&&r-u>1?r-1:r,this.trigger("drop",{event:i.event,element:s.element,previousIndex:r,currentIndex:u,target:i.target,helper:i.helper,droppedElement:this.target,scopeName:this.scope,handled:a})}Ue(s.placeHolderElement)})}s=this.getSortableInstance(i.target),o=s.element.childElementCount,r=this.getIndex(this.target),(s.element===i.target||!l&&this.curTarget===this.target)&&this.trigger("beforeDrop",{previousIndex:r,currentIndex:this.curTarget===this.target?r:o,target:i.target,droppedElement:this.target,helper:i.helper,cancel:!1},c=>{s.element===i.target&&!c.cancel&&(this.updateItemClass(s),s.element.appendChild(this.target),this.trigger("drop",{event:i.event,element:s.element,previousIndex:r,currentIndex:o,target:i.target,helper:i.helper,droppedElement:this.target,scopeName:this.scope}))}),this.target.classList.remove("e-grabbed"),this.target=null,this.curTarget=null,Ue(i.helper),Hx(this.element,Vs).intDestroy(i.event)},this.bind()}bind(){this.element.id||(this.element.id=Us("sortable")),this.itemClass||(this.itemClass="e-sort-item",this.dataBind()),this.initializeDraggable()}initializeDraggable(){new Vs(this.element,{helper:this.getHelper,dragStart:this.onDragStart,drag:this.onDrag,dragStop:this.onDragStop,dragTarget:`.${this.itemClass}`,enableTapHold:!0,tapHoldThreshold:200,queryPositionInfo:this.queryPositionInfo,distance:5})}getPlaceHolder(e,t){if(t.placeHolder){const i=t.placeHolder({element:t.element,grabbedElement:this.target,target:e});return i.classList.add("e-sortable-placeholder"),i}return null}isValidTarget(e,t){return e&&Bx(e,t.element)&&e.classList.contains(t.itemClass)&&!e.classList.contains("e-disabled")}removePlaceHolder(e){Ue(e.placeHolderElement),e.placeHolderElement=null}updateItemClass(e){this!==e&&(this.target.classList.remove(this.itemClass),this.target.classList.add(e.itemClass))}getSortableInstance(e){if(e=K(e,`.e-${this.getModuleName()}`)){const t=Hx(e,wR);return t.scope&&this.scope&&t.scope===this.scope?t:this}return this}refreshDisabled(e,t,i){if(i===this){let s;const r=e<t;let o,a=r?e:t;const l=r?t:e;for(;a<=l;)s=this.element.children[a],s.classList.contains("e-disabled")?(o=this.getIndex(s),this.element.insertBefore(s,this.element.children[r?o+2:o-1]),a=r?o+2:o+1):a++}}getIndex(e,t=this,i){let s,r;return[].slice.call(t.element.children).forEach((o,a)=>{if(o.classList.contains("e-sortable-placeholder")&&(r=!0),o!==e);else if(s=a,!f(i)){r&&(s-=1);const l=e.getBoundingClientRect();s=i.clientY<=l.bottom-(l.bottom-l.top)/2?s:s+1}}),s}getSortableElement(e,t=this){return K(e,`.${t.itemClass}`)}queryPositionInfo(e){return e.left=pageXOffset?parseFloat(e.left)-pageXOffset+"px":e.left,e.top=pageYOffset?parseFloat(e.top)-pageYOffset+"px":e.top,e}isPlaceHolderPresent(e){return e.placeHolderElement&&!!K(e.placeHolderElement,`#${e.element.id}`)}moveTo(e,t,i){!function(n,e,t,i){let s=[];if(e||(e=n),t&&t.length?t.forEach(r=>{s.push(n.children[r])}):s=[].slice.call(n.children),f(i))s.forEach(r=>{e.appendChild(r)});else{const r=e.children[i];s.forEach(o=>{e.insertBefore(o,r)})}}(this.element,e,t,i)}destroy(){"e-sort-item"===this.itemClass&&(this.itemClass=null,this.dataBind()),Hx(this.element,Vs).destroy(),super.destroy()}getModuleName(){return"sortable"}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"itemClass":[].slice.call(this.element.children).forEach(s=>{s.classList.contains(t.itemClass)&&s.classList.remove(t.itemClass),e.itemClass&&s.classList.add(e.itemClass)})}}};function SR(n,e,t,i,s,r){let o=i;if(i.tagName===e){const a=Q("ej2_instances",i);o=n("input",{attrs:{type:t}});const l=["change","cssClass","label","labelPosition","id"];for(let h=0,c=i.attributes.length;h<c;h++)-1===l.indexOf(i.attributes[h].nodeName)&&o.setAttribute(i.attributes[h].nodeName,i.attributes[h].nodeValue);we(i,{class:s,role:r,"aria-checked":"false"}),i.appendChild(o),Oi("ej2_instances",a,o),ZL(i,"ej2_instances")}return o}function bye(n){let e;const t=n.childNodes;for(let i=0;i<t.length;i++)if(e=t[i],3===e.nodeType)return e;return null}function fC(n,e){if(e){const t=document.createEvent("MouseEvents");t.initEvent(n.type,!1,!0),e.dispatchEvent(t)}}function Vj(n,e){n.element.getAttribute("ejs-for")&&e.appendChild(n.createElement("input",{attrs:{name:n.name||n.element.name,value:"false",type:"hidden"}}))}ic([g(!1)],ch.prototype,"enableAnimation",void 0),ic([g(null)],ch.prototype,"itemClass",void 0),ic([g(null)],ch.prototype,"scope",void 0),ic([g()],ch.prototype,"helper",void 0),ic([g()],ch.prototype,"placeHolder",void 0),ic([F()],ch.prototype,"drag",void 0),ic([F()],ch.prototype,"beforeDragStart",void 0),ic([F()],ch.prototype,"dragStart",void 0),ic([F()],ch.prototype,"beforeDrop",void 0),ic([F()],ch.prototype,"drop",void 0),ch=wR=ic([ii],ch);var sc=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};new G0;let uh=(()=>{let n=class extends $i{constructor(t,i){super(t,i)}preRender(){}render(){this.initialize(),this.removeRippleEffect=rn(this.element,{selector:".e-btn"}),this.renderComplete()}initialize(){if(this.cssClass&&B([this.element],this.cssClass.split(" ")),this.isPrimary&&this.element.classList.add("e-primary"),this.content){const t=this.enableHtmlSanitizer?Zn.sanitize(this.content):this.content;this.element.innerHTML=t}this.setIconCss(),this.enableRtl&&this.element.classList.add("e-rtl"),this.disabled?this.controlStatus(this.disabled):this.wireEvents()}controlStatus(t){this.element.disabled=t}setIconCss(){if(this.iconCss){const t=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(t.classList.add("e-icon-"+this.iconPosition.toLowerCase()),("Top"===this.iconPosition||"Bottom"===this.iconPosition)&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");const i=this.element.childNodes[0];!i||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(t):this.element.insertBefore(t,i)}}wireEvents(){this.isToggle&&S.add(this.element,"click",this.btnClickHandler,this)}unWireEvents(){this.isToggle&&S.remove(this.element,"click",this.btnClickHandler)}btnClickHandler(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")}destroy(){let t=["e-primary","e-rtl","e-icon-btn","e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(t=t.concat(this.cssClass.split(" "))),super.destroy(),z([this.element],t),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));const i=this.element.querySelector("span.e-btn-icon");i&&ie(i),this.unWireEvents(),td&&this.removeRippleEffect()}getModuleName(){return"btn"}getPersistData(){return this.addOnPersist([])}static Inject(){}onPropertyChanged(t,i){let s=this.element.querySelector("span.e-btn-icon");for(const r of Object.keys(t))switch(r){case"isPrimary":t.isPrimary?this.element.classList.add("e-primary"):this.element.classList.remove("e-primary");break;case"disabled":this.controlStatus(t.disabled);break;case"iconCss":s?t.iconCss?(s.className="e-btn-icon "+t.iconCss,this.element.textContent.trim()&&s.classList.add("Left"===this.iconPosition?"e-icon-left":"e-icon-right")):ie(s):this.setIconCss();break;case"iconPosition":z([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),s=this.element.querySelector("span.e-btn-icon"),s&&ie(s),this.setIconCss();break;case"cssClass":i.cssClass&&z([this.element],i.cssClass.split(" ")),t.cssClass&&B([this.element],t.cssClass.split(" "));break;case"enableRtl":t.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl");break;case"content":bye(this.element)||this.element.classList.remove("e-icon-btn"),this.enableHtmlSanitizer&&(t.content=Zn.sanitize(t.content)),this.element.innerHTML=t.content,this.setIconCss();break;case"isToggle":t.isToggle?S.add(this.element,"click",this.btnClickHandler,this):(S.remove(this.element,"click",this.btnClickHandler),z([this.element],["e-active"]))}}click(){this.element.click()}focusIn(){this.element.focus()}};return sc([g("Left")],n.prototype,"iconPosition",void 0),sc([g("")],n.prototype,"iconCss",void 0),sc([g(!1)],n.prototype,"disabled",void 0),sc([g(!1)],n.prototype,"isPrimary",void 0),sc([g("")],n.prototype,"cssClass",void 0),sc([g("")],n.prototype,"content",void 0),sc([g(!1)],n.prototype,"isToggle",void 0),sc([g()],n.prototype,"locale",void 0),sc([g(!1)],n.prototype,"enableHtmlSanitizer",void 0),sc([F()],n.prototype,"created",void 0),n=sc([ii],n),n})();var Rl=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const _R="e-check",Hj="e-checkbox-disabled",mC="e-frame",xR="e-stop",ER="e-label",uE="e-ripple-container",DR="e-ripple-check",MR="e-ripple-stop",kR="e-rtl",AR="e-checkbox-wrapper",Sye=["title","class","style","disabled","readonly","name","value"];let sl=class extends $i{constructor(e,t){super(e,t),this.isFocused=!1,this.isMouseClick=!1}changeState(e){let t,i;const s=this.getWrapper().getElementsByClassName(mC)[0];td&&(i=this.getWrapper().getElementsByClassName(uE)[0]),"check"===e?(s.classList.remove(xR),s.classList.add(_R),i&&(i.classList.remove(MR),i.classList.add(DR)),t="true",this.element.checked=!0):"uncheck"===e?(z([s],[_R,xR]),i&&z([i],[DR,MR]),t="false",this.element.checked=!1):(s.classList.remove(_R),s.classList.add(xR),i&&(i.classList.remove(DR),i.classList.add(MR)),t="mixed",this.element.indeterminate=!0),this.getWrapper().setAttribute("aria-checked",t)}clickHandler(e){this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0);const t={checked:this.updateVueArrayModel(!1),event:e};this.trigger("change",t),e.stopPropagation()}destroy(){let e=this.getWrapper();super.destroy(),this.wrapper&&(e=this.wrapper,this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(this.getWrapper()&&e.parentNode&&e.parentNode.insertBefore(this.element,e),ie(e),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(t=>{this.element.removeAttribute(t)})):(["role","aria-checked","class"].forEach(t=>{e.removeAttribute(t)}),e.innerHTML=""))}focusHandler(){this.isFocused=!0}focusOutHandler(){const e=this.getWrapper();e&&e.classList.remove("e-focus"),this.isFocused=!1}getModuleName(){return"checkbox"}getPersistData(){return this.addOnPersist(["checked","indeterminate"])}getWrapper(){return this.element&&this.element.parentElement?this.element.parentElement.parentElement:null}initialize(){f(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&(this.element.setAttribute("value",this.value),this.isVue&&"boolean"==typeof this.value&&!0===this.value&&this.setProperties({checked:!0},!0)),this.checked&&this.changeState("check"),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()}initWrapper(){let e=this.element.parentElement;e.classList.contains(AR)||(e=this.createElement("div",{className:AR,attrs:{role:"checkbox","aria-checked":"false"}}),this.element.parentNode.insertBefore(e,this.element));const t=this.createElement("label",{attrs:{for:this.element.id}}),i=this.createElement("span",{className:"e-icons "+mC});if(e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(kR),this.cssClass&&B([e],this.cssClass.split(" ")),e.appendChild(t),t.appendChild(this.element),Vj(this,t),t.appendChild(i),td){const s=this.createElement("span",{className:uE});"Before"===this.labelPosition?t.appendChild(s):t.insertBefore(s,i),rn(s,{duration:400,isCenterRipple:!0})}this.label&&this.setText(this.label)}keyUpHandler(){this.isFocused&&this.getWrapper().classList.add("e-focus")}labelMouseDownHandler(e){this.isMouseClick=!0,fC(e,this.getWrapper().getElementsByClassName(uE)[0])}labelMouseUpHandler(e){this.isMouseClick=!0;const t=this.getWrapper().getElementsByClassName(uE)[0];if(t){const i=t.querySelectorAll(".e-ripple-element");for(let s=0;s<i.length-1;s++)t.removeChild(t.childNodes[s]);fC(e,t)}}onPropertyChanged(e,t){const i=this.getWrapper();for(const s of Object.keys(e))switch(s){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(e.checked?"check":"uncheck");break;case"indeterminate":e.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":e.disabled?(this.setDisabled(),this.wrapper=this.getWrapper(),this.unWireEvents()):(this.element.disabled=!1,i.classList.remove(Hj),i.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":t.cssClass&&z([i],t.cssClass.split(" ")),e.cssClass&&B([i],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?i.classList.add(kR):i.classList.remove(kR);break;case"label":this.setText(e.label);break;case"labelPosition":{const r=i.getElementsByClassName(ER)[0],o=i.getElementsByTagName("label")[0];ie(r),"After"===e.labelPosition?o.appendChild(r):o.insertBefore(r,i.getElementsByClassName(mC)[0]);break}case"name":this.element.setAttribute("name",e.name);break;case"value":if(this.isVue&&"object"==typeof e.value)break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper()}}preRender(){let e=this.element;this.formElement=K(this.element,"form"),this.tagName=this.element.tagName,e=SR(this.createElement,"EJS-CHECKBOX","checkbox",e,AR,"checkbox"),this.element=e,"checkbox"!==this.element.getAttribute("type")&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=Us("e-"+this.getModuleName()))}render(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.updateVueArrayModel(!0),this.renderComplete(),this.wrapper=this.getWrapper()}setDisabled(){const e=this.getWrapper();this.element.disabled=!0,e.classList.add(Hj),e.setAttribute("aria-disabled","true")}setText(e){const t=this.getWrapper();if(!t)return;let i=t.getElementsByClassName(ER)[0];if(i)i.textContent=e;else{e=this.enableHtmlSanitizer?Zn.sanitize(e):e,i=this.createElement("span",{className:ER,innerHTML:e});const s=t.getElementsByTagName("label")[0];"Before"===this.labelPosition?s.insertBefore(i,t.getElementsByClassName(mC)[0]):s.appendChild(i)}}changeHandler(e){e.stopPropagation()}formResetHandler(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue}unWireEvents(){const e=this.wrapper;S.remove(this.element,"click",this.clickHandler),S.remove(this.element,"keyup",this.keyUpHandler),S.remove(this.element,"focus",this.focusHandler),S.remove(this.element,"focusout",this.focusOutHandler);const t=e.getElementsByTagName("label")[0];S.remove(t,"mousedown",this.labelMouseDownHandler),S.remove(t,"mouseup",this.labelMouseUpHandler),this.formElement&&S.remove(this.formElement,"reset",this.formResetHandler),"EJS-CHECKBOX"===this.tagName&&S.remove(this.element,"change",this.changeHandler)}wireEvents(){const e=this.getWrapper();S.add(this.element,"click",this.clickHandler,this),S.add(this.element,"keyup",this.keyUpHandler,this),S.add(this.element,"focus",this.focusHandler,this),S.add(this.element,"focusout",this.focusOutHandler,this);const t=e.getElementsByTagName("label")[0];S.add(t,"mousedown",this.labelMouseDownHandler,this),S.add(t,"mouseup",this.labelMouseUpHandler,this),this.formElement&&S.add(this.formElement,"reset",this.formResetHandler,this),"EJS-CHECKBOX"===this.tagName&&S.add(this.element,"change",this.changeHandler,this)}updateVueArrayModel(e){if(this.isVue&&"object"==typeof this.value){const t=this.element.value;if(t&&this.value){if(!e){const i=this.value.indexOf(t);return this.checked?i<0&&this.value.push(t):i>-1&&this.value.splice(i,1),this.value}for(let i=0;i<this.value.length;i++)t===this.value[i]&&(this.changeState("check"),this.setProperties({checked:!0},!0))}}return this.element.checked}updateHtmlAttributeToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(Sye.indexOf(e)>-1){const t=this.getWrapper();"class"===e?B([t],this.htmlAttributes[e].split(" ")):"title"===e?t.setAttribute(e,this.htmlAttributes[e]):"style"===e?this.getWrapper().getElementsByClassName(mC)[0].setAttribute(e,this.htmlAttributes[e]):this.element.setAttribute(e,this.htmlAttributes[e])}}click(){this.element.click()}focusIn(){this.element.focus()}};Rl([F()],sl.prototype,"change",void 0),Rl([F()],sl.prototype,"created",void 0),Rl([g(!1)],sl.prototype,"checked",void 0),Rl([g("")],sl.prototype,"cssClass",void 0),Rl([g(!1)],sl.prototype,"disabled",void 0),Rl([g(!1)],sl.prototype,"indeterminate",void 0),Rl([g("")],sl.prototype,"label",void 0),Rl([g("After")],sl.prototype,"labelPosition",void 0),Rl([g("")],sl.prototype,"name",void 0),Rl([g("")],sl.prototype,"value",void 0),Rl([g(!1)],sl.prototype,"enableHtmlSanitizer",void 0),Rl([g({})],sl.prototype,"htmlAttributes",void 0),sl=Rl([ii],sl);var TR,ph=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const pE="e-label",jj="e-ripple-container",LR="e-rtl",RR="e-radio-wrapper",_ye=["title","class","style","disabled","readonly","name","value"];let Il=TR=class extends $i{constructor(e,t){super(e,t),this.isFocused=!1}changeHandler(e){this.checked=!0,this.dataBind();let t=this.element.getAttribute("value");t=this.isVue&&t?this.element.value:this.value,this.trigger("change",{value:t,event:e}),"EJS-RADIOBUTTON"===this.tagName&&e.stopPropagation()}updateChange(){let e,t;const i=this.getRadioGroup();for(let s=0;s<i.length;s++)e=i[s],e!==this.element&&(t=kl(e,TR),t.checked=!1,"EJS-RADIOBUTTON"===this.tagName&&(t.angularValue=this.value))}destroy(){const e=this.element.parentElement;super.destroy(),this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(e.parentNode&&e.parentNode.insertBefore(this.element,e),ie(e),this.element.checked=!1,["name","value","disabled"].forEach(t=>{this.element.removeAttribute(t)})):(["role","aria-checked","class"].forEach(t=>{e.removeAttribute(t)}),e.innerHTML="")}focusHandler(){this.isFocused=!0}focusOutHandler(){const e=this.getLabel();e&&e.classList.remove("e-focus")}getModuleName(){return"radio"}getSelectedValue(){let e;const t=this.getRadioGroup();for(let i=0,s=t.length;i<s;i++)if(e=t[i],e.checked)return e.value;return""}getRadioGroup(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')}getPersistData(){return this.addOnPersist(["checked"])}getWrapper(){return this.element?this.element.parentElement:null}getLabel(){return this.element?this.element.nextElementSibling:null}initialize(){f(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.updateHtmlAttribute(),this.name&&this.element.setAttribute("name",this.name);const e=this.element.getAttribute("value");this.isVue&&e&&e===this.value&&(this.checked=!0),(this.isVue?this.value&&!e:this.value)&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()}initWrapper(){let e,t=this.element.parentElement;t.classList.contains(RR)||(t=this.createElement("div",{className:RR}),this.element.parentNode.insertBefore(t,this.element));const i=this.createElement("label",{attrs:{for:this.element.id}});t.appendChild(this.element),t.appendChild(i),td&&(e=this.createElement("span",{className:jj}),i.appendChild(e),rn(e,{duration:400,isCenterRipple:!0})),t.classList.add("e-wrapper"),this.enableRtl&&i.classList.add(LR),this.cssClass&&B([t],this.cssClass.split(" ")),this.label&&this.setText(this.label)}keyUpHandler(){this.isFocused&&this.getLabel().classList.add("e-focus")}labelRippleHandler(e){fC(e,this.getLabel().getElementsByClassName(jj)[0])}formResetHandler(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&we(this.element,{checked:"true"})}onPropertyChanged(e,t){const i=this.getWrapper(),s=this.getLabel();for(const r of Object.keys(e))switch(r){case"checked":e.checked&&this.updateChange(),this.element.checked=e.checked;break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":t.cssClass&&z([i],t.cssClass.split(" ")),e.cssClass&&B([i],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?s.classList.add(LR):s.classList.remove(LR);break;case"label":this.setText(e.label);break;case"labelPosition":"Before"===e.labelPosition?s.classList.add("e-right"):s.classList.remove("e-right");break;case"name":this.element.setAttribute("name",e.name);break;case"value":if(!f(this.htmlAttributes)&&this.htmlAttributes.value)break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttribute()}}preRender(){let e=this.element;if(this.formElement=K(this.element,"form"),this.tagName=this.element.tagName,e=SR(this.createElement,"EJS-RADIOBUTTON","radio",e,RR,"radio"),this.element=e,"radio"!==this.element.getAttribute("type")&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=Us("e-"+this.getModuleName())),"EJS-RADIOBUTTON"===this.tagName){const t=this.element.getAttribute("formcontrolname");t&&(this.setProperties({name:t},!0),this.element.setAttribute("name",t))}}render(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}setDisabled(){this.element.disabled=!0}setText(e){const t=this.getLabel();let i=t.getElementsByClassName(pE)[0];i?i.textContent=e:(e=this.enableHtmlSanitizer?Zn.sanitize(e):e,i=this.createElement("span",{className:pE,innerHTML:e}),t.appendChild(i)),"Before"===this.labelPosition?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")}updateHtmlAttribute(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(_ye.indexOf(e)>-1){const t=this.element.parentElement;"class"===e?B([t],this.htmlAttributes[e].split(" ")):"title"===e||"style"===e?t.setAttribute(e,this.htmlAttributes[e]):this.element.setAttribute(e,this.htmlAttributes[e])}}unWireEvents(){const e=this.getLabel();S.remove(this.element,"change",this.changeHandler),S.remove(this.element,"focus",this.focusHandler),S.remove(this.element,"focusout",this.focusOutHandler),S.remove(this.element,"keyup",this.keyUpHandler);const t=e.getElementsByClassName(pE)[0];t&&(S.remove(t,"mousedown",this.labelRippleHandler),S.remove(t,"mouseup",this.labelRippleHandler)),this.formElement&&S.remove(this.formElement,"reset",this.formResetHandler)}wireEvents(){const e=this.getLabel();S.add(this.element,"change",this.changeHandler,this),S.add(this.element,"keyup",this.keyUpHandler,this),S.add(this.element,"focus",this.focusHandler,this),S.add(this.element,"focusout",this.focusOutHandler,this);const t=e.getElementsByClassName(pE)[0];t&&(S.add(t,"mousedown",this.labelRippleHandler,this),S.add(t,"mouseup",this.labelRippleHandler,this)),this.formElement&&S.add(this.formElement,"reset",this.formResetHandler,this)}click(){this.element.click()}focusIn(){this.element.focus()}};ph([F()],Il.prototype,"change",void 0),ph([F()],Il.prototype,"created",void 0),ph([g(!1)],Il.prototype,"checked",void 0),ph([g("")],Il.prototype,"cssClass",void 0),ph([g(!1)],Il.prototype,"disabled",void 0),ph([g("")],Il.prototype,"label",void 0),ph([g("After")],Il.prototype,"labelPosition",void 0),ph([g("")],Il.prototype,"name",void 0),ph([g("")],Il.prototype,"value",void 0),ph([g(!1)],Il.prototype,"enableHtmlSanitizer",void 0),ph([g({})],Il.prototype,"htmlAttributes",void 0),Il=TR=ph([ii],Il);var od=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const zj="e-switch-disabled",fE="e-ripple-container",Wj="e-ripple-check",IR="e-rtl",PR="e-switch-wrapper",Uj="e-switch-active";let nc=class extends $i{constructor(e,t){super(e,t),this.isFocused=!1,this.isDrag=!1}changeState(e){let t,i;const s=this.getWrapper(),r=s.querySelector(".e-switch-inner"),o=s.querySelector(".e-switch-handle");td&&(i=s.getElementsByClassName(fE)[0]),e?(B([r,o],Uj),t="true",this.element.checked=!0,this.checked=!0,i&&B([i],[Wj])):(z([r,o],Uj),t="false",this.element.checked=!1,this.checked=!1,i&&z([i],[Wj])),s.setAttribute("aria-checked",t)}clickHandler(e){this.isDrag=!1,this.focusOutHandler(),this.changeState(!this.checked),this.element.focus(),this.trigger("change",{checked:this.element.checked,event:e})}destroy(){super.destroy(),this.disabled||this.unWireEvents(),function(n,e,t){"INPUT"===t?(e.parentNode.insertBefore(n.element,e),ie(e),n.element.checked=!1,["name","value","disabled"].forEach(i=>{n.element.removeAttribute(i)})):(["role","aria-checked","class"].forEach(i=>{e.removeAttribute(i)}),e.innerHTML="")}(this,this.getWrapper(),this.tagName)}focusHandler(){this.isFocused=!0}focusOutHandler(){this.getWrapper().classList.remove("e-focus")}getModuleName(){return"switch"}getPersistData(){return this.addOnPersist(["checked"])}getWrapper(){return this.element.parentElement}initialize(){f(this.initialSwitchCheckedValue)&&(this.initialSwitchCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&this.element.setAttribute("value",this.value),this.checked&&this.changeState(!0),this.disabled&&this.setDisabled(),(this.onLabel||this.offLabel)&&this.setLabel(this.onLabel,this.offLabel)}initWrapper(){let e=this.element.parentElement;e.classList.contains(PR)||(e=this.createElement("div",{className:PR,attrs:{role:"switch","aria-checked":"false"}}),this.element.parentNode.insertBefore(e,this.element));const t=this.createElement("span",{className:"e-switch-inner"}),i=this.createElement("span",{className:"e-switch-on"}),s=this.createElement("span",{className:"e-switch-off"}),r=this.createElement("span",{className:"e-switch-handle"});if(e.appendChild(this.element),Vj(this,e),t.appendChild(i),t.appendChild(s),e.appendChild(t),e.appendChild(r),td){const o=this.createElement("span",{className:fE});r.appendChild(o),rn(o,{duration:400,isCenterRipple:!0})}e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(IR),this.cssClass&&B([e],this.cssClass.split(" "))}onPropertyChanged(e,t){const i=this.getWrapper();for(const s of Object.keys(e))switch(s){case"checked":this.changeState(e.checked);break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,i.classList.remove(zj),i.setAttribute("aria-disabled","false"),this.wireEvents());break;case"value":this.element.setAttribute("value",e.value);break;case"name":this.element.setAttribute("name",e.name);break;case"onLabel":case"offLabel":this.setLabel(e.onLabel,e.offLabel);break;case"enableRtl":e.enableRtl?i.classList.add(IR):i.classList.remove(IR);break;case"cssClass":t.cssClass&&z([i],t.cssClass.split(" ")),e.cssClass&&B([i],e.cssClass.split(" "))}}preRender(){const e=this.element;this.formElement=K(this.element,"form"),this.tagName=this.element.tagName,function(n,e,t,i,s){i=SR(n.createElement,"EJS-SWITCH","checkbox",i,"e-switch-wrapper",s),n.element=i,"checkbox"!==n.element.getAttribute("type")&&n.element.setAttribute("type","checkbox"),n.element.id||(n.element.id=Us("e-"+s))}(this,0,0,e,this.getModuleName())}render(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}rippleHandler(e){fC(e,this.getWrapper().getElementsByClassName(fE)[0]),"mousedown"===e.type&&e.currentTarget.classList.contains("e-switch-wrapper")&&1===e.which&&(this.isDrag=!0,this.isFocused=!1)}rippleTouchHandler(e){const t=this.getWrapper().getElementsByClassName(fE)[0];if(t){const i=document.createEvent("MouseEvents");i.initEvent(e,!1,!0),t.dispatchEvent(i)}}setDisabled(){const e=this.getWrapper();this.element.disabled=!0,e.classList.add(zj),e.setAttribute("aria-disabled","true")}setLabel(e,t){const i=this.getWrapper();e&&(i.querySelector(".e-switch-on").textContent=e),t&&(i.querySelector(".e-switch-off").textContent=t)}switchFocusHandler(){this.isFocused&&this.getWrapper().classList.add("e-focus")}switchMouseUp(e){const t=e.target;"touchmove"===e.type&&e.preventDefault(),"touchstart"===e.type&&(this.isDrag=!0,this.rippleTouchHandler("mousedown")),this.isDrag&&("mouseup"===e.type&&t.className.indexOf("e-switch")<0||"touchend"===e.type)&&(this.clickHandler(e),this.rippleTouchHandler("mouseup"),e.preventDefault())}formResetHandler(){this.checked=this.initialSwitchCheckedValue,this.element.checked=this.initialSwitchCheckedValue}toggle(){this.clickHandler()}wireEvents(){const e=this.getWrapper();this.delegateMouseUpHandler=this.switchMouseUp.bind(this),this.delegateKeyUpHandler=this.switchFocusHandler.bind(this),S.add(e,"click",this.clickHandler,this),S.add(this.element,"focus",this.focusHandler,this),S.add(this.element,"focusout",this.focusOutHandler,this),S.add(this.element,"mouseup",this.delegateMouseUpHandler,this),S.add(this.element,"keyup",this.delegateKeyUpHandler,this),S.add(e,"mousedown mouseup",this.rippleHandler,this),S.add(e,"touchstart touchmove touchend",this.switchMouseUp,this),this.formElement&&S.add(this.formElement,"reset",this.formResetHandler,this)}unWireEvents(){const e=this.getWrapper();S.remove(e,"click",this.clickHandler),S.remove(this.element,"focus",this.focusHandler),S.remove(this.element,"focusout",this.focusOutHandler),S.remove(this.element,"mouseup",this.delegateMouseUpHandler),S.remove(this.element,"keyup",this.delegateKeyUpHandler),S.remove(e,"mousedown mouseup",this.rippleHandler),S.remove(e,"touchstart touchmove touchend",this.switchMouseUp),this.formElement&&S.remove(this.formElement,"reset",this.formResetHandler)}click(){this.element.click()}focusIn(){this.element.focus()}};od([F()],nc.prototype,"change",void 0),od([F()],nc.prototype,"created",void 0),od([g(!1)],nc.prototype,"checked",void 0),od([g("")],nc.prototype,"cssClass",void 0),od([g(!1)],nc.prototype,"disabled",void 0),od([g("")],nc.prototype,"name",void 0),od([g("")],nc.prototype,"onLabel",void 0),od([g("")],nc.prototype,"offLabel",void 0),od([g("")],nc.prototype,"value",void 0),nc=od([ii],nc);var xo=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const Wt={chipSet:"e-chip-set",chip:"e-chip",avatar:"e-chip-avatar",text:"e-chip-text",icon:"e-chip-icon",delete:"e-chip-delete",deleteIcon:"e-dlt-btn",multiSelection:"e-multi-selection",singleSelection:"e-selection",active:"e-active",chipWrapper:"e-chip-avatar-wrap",iconWrapper:"e-chip-icon-wrap",focused:"e-focused",disabled:"e-disabled",rtl:"e-rtl"};let ro=class extends $i{constructor(e,t){super(e,t),this.multiSelectedChip=[]}preRender(){}chipType(){return this.chips&&this.chips.length&&this.chips.length>0}render(){this.type=this.chips.length?"chipset":this.text||this.element.innerText?"chip":"chipset",this.setAttributes(),this.createChip(),this.setRtl(),this.select(this.selectedChips,void 0),this.wireEvent(!1),this.rippleFunction=rn(this.element,{selector:".e-chip"}),this.renderComplete()}createChip(){this.innerText=this.element.innerText&&0!==this.element.innerText.length?this.element.innerText.trim():this.element.innerText,this.element.innerHTML="",this.chipCreation("chip"===this.type?[this.innerText?this.innerText:this.text]:this.chips)}setAttributes(){"chip"===this.type?(this.element.tabIndex=0,this.element.setAttribute("role","option")):(this.element.classList.add(Wt.chipSet),this.element.setAttribute("role","listbox"),"Multiple"===this.selection?(this.element.classList.add(Wt.multiSelection),this.element.setAttribute("aria-multiselectable","true")):"Single"===this.selection?(this.element.classList.add(Wt.singleSelection),this.element.setAttribute("aria-multiselectable","false")):this.element.setAttribute("aria-multiselectable","false"))}setRtl(){this.element.classList[this.enableRtl?"add":"remove"](Wt.rtl)}chipCreation(e){let t=[];for(let i=0;i<e.length;i++){const s=this.getFieldValues(e[i]),r=this.elementCreation(s),o=(Wt.chip+" "+(s.enabled?" ":Wt.disabled)+" "+(s.avatarIconCss||s.avatarText?Wt.chipWrapper:s.leadingIconCss?Wt.iconWrapper:" ")+" "+s.cssClass).split(" ").filter(a=>a);if(this.chipType()){const a=this.createElement("DIV",{className:o.join(" "),attrs:{tabIndex:"0",role:"option","aria-label":s.text,"aria-selected":"false"}});s.value&&a.setAttribute("data-value",s.value.toString()),ys(r,a),t.push(a)}else t=r,B([this.element],o),this.element.setAttribute("aria-label",s.text),s.value&&this.element.setAttribute("data-value",s.value.toString())}ys(t,this.element)}getFieldValues(e){const t="false"!==this.enabled.toString();return{text:"object"==typeof e?e.text?e.text.toString():this.text.toString():this.chipType()?e.toString():this.innerText?this.innerText:this.text.toString(),cssClass:"object"==typeof e&&e.cssClass?e.cssClass.toString():this.cssClass.toString(),leadingIconCss:"object"==typeof e&&e.leadingIconCss?e.leadingIconCss.toString():this.leadingIconCss.toString(),avatarIconCss:"object"==typeof e&&e.avatarIconCss?e.avatarIconCss.toString():this.avatarIconCss.toString(),avatarText:"object"==typeof e&&e.avatarText?e.avatarText.toString():this.avatarText.toString(),trailingIconCss:"object"==typeof e&&e.trailingIconCss?e.trailingIconCss.toString():this.trailingIconCss.toString(),enabled:"object"==typeof e?f(e.enabled)?t:"false"!==e.enabled.toString():t,value:"object"==typeof e&&e.value?e.value.toString():null,leadingIconUrl:"object"==typeof e&&e.leadingIconUrl?e.leadingIconUrl.toString():this.leadingIconUrl,trailingIconUrl:"object"==typeof e&&e.trailingIconUrl?e.trailingIconUrl.toString():this.trailingIconUrl}}elementCreation(e){const t=[];if(e.avatarText||e.avatarIconCss){const s=(Wt.avatar+" "+e.avatarIconCss).trim(),r=this.createElement("span",{className:s});r.innerText=e.avatarText,t.push(r)}else if(e.leadingIconCss){const s=(Wt.icon+" "+e.leadingIconCss).trim(),r=this.createElement("span",{className:s});t.push(r)}else if(e.leadingIconUrl){const s=(Wt.avatar+" image-url").trim(),r=this.createElement("span",{className:s});r.style.backgroundImage="url("+e.leadingIconUrl+")",t.push(r)}const i=this.createElement("span",{className:Wt.text});if(i.innerText=e.text,t.push(i),e.trailingIconCss||this.chipType()&&this.enableDelete){const s=(Wt.delete+" "+(e.trailingIconCss?e.trailingIconCss:Wt.deleteIcon)).trim(),r=this.createElement("span",{className:s});t.push(r)}else if(e.trailingIconUrl){const s="trailing-icon-url".trim(),r=this.createElement("span",{className:s});r.style.backgroundImage="url("+e.trailingIconUrl+")",t.push(r)}return t}find(e){let t;const i=e instanceof HTMLElement?e:this.element.querySelectorAll("."+Wt.chip)[e];return i&&this.chipType()&&(t={text:void 0,index:void 0,element:void 0,data:void 0},t.index=Array.prototype.slice.call(this.element.querySelectorAll("."+Wt.chip)).indexOf(i),t.text="object"==typeof this.chips[t.index]?this.chips[t.index].text?this.chips[t.index].text.toString():"":this.chips[t.index].toString(),t.data=this.chips[t.index],t.element=i),t}add(e){if("chip"!==this.type){const t=e instanceof Array?e:[e];this.chips.push(...t),this.chipCreation(t)}}select(e,t){this.onSelect(e,!1,t)}multiSelection(e){const t=this.element.querySelectorAll(".e-chip");for(let i=0;i<e.length;i++)if("string"==typeof e[i]){for(let s=0;s<t.length;s++)if(e[i]!==s&&e[i]===t[s].attributes[5].value){this.multiSelectedChip.push(s);break}}else this.multiSelectedChip.push(e[i])}onSelect(e,t,i){let s,r,o;if(this.chipType()&&"None"!==this.selection){if(t){const l=this.element.querySelectorAll("."+Wt.chip);for(let h=0;h<l.length;h++)l[h].setAttribute("aria-selected","false"),l[h].classList.remove(Wt.active)}const a=e instanceof Array?e:[e];for(let l=0;l<a.length;l++){let h=a[l]instanceof HTMLElement?a[l]:this.element.querySelectorAll("."+Wt.chip)[a[l]];if("index"!==i)for(let c=0;c<this.chips.length;c++){r=this.element.querySelectorAll("."+Wt.chip)[c];const d=this.getFieldValues(this.chips[c]);"value"===i?null!==d.value&&(o=r.dataset.value):"text"===i&&(o=r.innerText),o===a[l].toString()&&(s=c,h=this.element.querySelectorAll("."+Wt.chip)[s])}h instanceof HTMLElement&&this.selectionHandler(h)}}}remove(e){if(this.chipType()){const t=e instanceof Array?e:[e],i=[],s=this.element.querySelectorAll("."+Wt.chip);t.forEach(r=>{const o=r instanceof HTMLElement?r:s[r];o instanceof HTMLElement&&i.push(o)}),i.forEach(r=>{const o=this.element.querySelectorAll("."+Wt.chip),a=Array.prototype.slice.call(o).indexOf(r);this.deleteHandler(r,a)})}}getSelectedChips(){let e;if(this.chipType()&&"None"!==this.selection){const t={texts:[],Indexes:[],data:[],elements:[]},i=this.element.querySelectorAll("."+Wt.active);for(let r=0;r<i.length;r++){const o=i[r];t.elements.push(o);const a=Array.prototype.slice.call(this.element.querySelectorAll("."+Wt.chip)).indexOf(o);t.Indexes.push(a),t.data.push(this.chips[a]);const l="object"==typeof this.chips[a]?this.chips[a].text?this.chips[a].text.toString():null:this.chips[a].toString();t.texts.push(l)}const s={text:t.texts[0],index:t.Indexes[0],data:t.data[0],element:t.elements[0]};e=f(s.index)?void 0:"Multiple"===this.selection?t:s}return e}wireEvent(e){e?(S.remove(this.element,"click",this.clickHandler),S.remove(this.element,"focusout",this.focusOutHandler),S.remove(this.element,"keydown",this.keyHandler),S.remove(this.element,"keyup",this.keyHandler)):(S.add(this.element,"click",this.clickHandler,this),S.add(this.element,"focusout",this.focusOutHandler,this),S.add(this.element,"keydown",this.keyHandler,this),S.add(this.element,"keyup",this.keyHandler,this))}keyHandler(e){e.target.classList.contains(Wt.chip)&&("keydown"===e.type?13===e.keyCode?this.clickHandler(e):46===e.keyCode&&this.enableDelete&&this.clickHandler(e,!0):9===e.keyCode&&this.focusInHandler(e.target))}focusInHandler(e){e.classList.contains(Wt.focused)||e.classList.add(Wt.focused)}focusOutHandler(e){const t=K(e.target,"."+Wt.chip),i=this.chipType()?this.element.querySelector("."+Wt.focused):this.element.classList.contains(Wt.focused)?this.element:null;t&&i&&i.classList.remove(Wt.focused)}clickHandler(e,t=!1){const i=K(e.target,"."+Wt.chip);if(i){let s;if(this.chipType())s=this.find(i);else{const r=Array.prototype.slice.call(this.element.querySelectorAll("."+Wt.chip)).indexOf(i);s={text:this.innerText?this.innerText:this.text,element:i,data:this.text,index:r}}s.event=e,s.cancel=!1,this.trigger("beforeClick",s,r=>{r.cancel||this.clickEventHandler(r.element,e,t)})}}clickEventHandler(e,t,i){if(this.chipType()){const s=this.find(e);s.event=t,(t.target.classList.contains(Wt.deleteIcon)?t.target:i?e.querySelector("."+Wt.deleteIcon):void 0)&&this.enableDelete?(s.cancel=!1,this.trigger("delete",s,a=>{a.cancel||(this.deleteHandler(a.element,a.index),this.selectionHandler(e),s.selected=a.element.classList.contains(Wt.active),this.trigger("click",s))})):"None"!==this.selection?(this.selectionHandler(e),s.selected=e.classList.contains(Wt.active),this.trigger("click",s)):(this.focusInHandler(e),this.trigger("click",s))}else this.focusInHandler(e),this.trigger("click",{text:this.innerText?this.innerText:this.text,element:e,data:this.text,event:t})}selectionHandler(e){if("Single"===this.selection){const t=this.element.querySelector("."+Wt.active);t&&t!==e&&(t.classList.remove(Wt.active),t.setAttribute("aria-selected","false")),this.setProperties({selectedChips:null},!0)}else this.setProperties({selectedChips:[]},!0);e.classList.contains(Wt.active)?(e.classList.remove(Wt.active),e.setAttribute("aria-selected","false")):(e.classList.add(Wt.active),e.setAttribute("aria-selected","true")),this.updateSelectedChips()}updateSelectedChips(){const e=this.element.querySelectorAll(".e-chip"),t=[],i=[];let r,s=null;for(let o=0;o<e.length;o++){const a=this.element.querySelectorAll(".e-chip")[o];if("true"===a.getAttribute("aria-selected")){if(r=a.getAttribute("data-value"),"Single"===this.selection&&a.classList.contains("e-active")){s=r||o;break}s=r?i.push(r):t.push(o)}}this.setProperties({selectedChips:"Single"===this.selection?s:r?i:t},!0)}deleteHandler(e,t){this.chips.splice(t,1),this.setProperties({chips:this.chips},!0),ie(e)}destroy(){z([this.element],[Wt.chipSet,Wt.chip,Wt.rtl,Wt.multiSelection,Wt.singleSelection,Wt.disabled,Wt.chipWrapper,Wt.iconWrapper,Wt.active,Wt.focused].concat(this.cssClass.toString().split(" ").filter(e=>e))),this.removeMultipleAttributes(["tabindex","role","aria-label","aria-multiselectable"],this.element),this.wireEvent(!0),this.rippleFunction(),super.destroy(),this.element.innerHTML="",this.element.innerText=this.innerText}removeMultipleAttributes(e,t){e.forEach(i=>{t.removeAttribute(i)})}getPersistData(){return this.addOnPersist([])}getModuleName(){return"chip-list"}onPropertyChanged(e,t){let i;for(const s of Object.keys(e))switch(s){case"chips":case"text":case"avatarText":case"avatarIconCss":case"leadingIconCss":case"trailingIconCss":case"selection":case"enableDelete":case"enabled":this.refresh();break;case"cssClass":this.chipType()?this.refresh():(z([this.element],t.cssClass.toString().split(" ").filter(r=>r)),B([this.element],e.cssClass.toString().split(" ").filter(r=>r)));break;case"selectedChips":z(this.element.querySelectorAll(".e-active"),"e-active"),"Multiple"===this.selection?(this.multiSelectedChip=[],this.multiSelection(e.selectedChips),this.onSelect(this.multiSelectedChip,!0,i),this.updateSelectedChips()):this.onSelect(e.selectedChips,!0,i);break;case"enableRtl":this.setRtl()}}};xo([g([])],ro.prototype,"chips",void 0),xo([g("")],ro.prototype,"text",void 0),xo([g("")],ro.prototype,"avatarText",void 0),xo([g("")],ro.prototype,"avatarIconCss",void 0),xo([g("")],ro.prototype,"leadingIconCss",void 0),xo([g("")],ro.prototype,"trailingIconCss",void 0),xo([g("")],ro.prototype,"leadingIconUrl",void 0),xo([g("")],ro.prototype,"trailingIconUrl",void 0),xo([g("")],ro.prototype,"cssClass",void 0),xo([g(!0)],ro.prototype,"enabled",void 0),xo([g([])],ro.prototype,"selectedChips",void 0),xo([g("None")],ro.prototype,"selection",void 0),xo([g(!1)],ro.prototype,"enableDelete",void 0),xo([F()],ro.prototype,"created",void 0),xo([F()],ro.prototype,"click",void 0),xo([F()],ro.prototype,"beforeClick",void 0),xo([F()],ro.prototype,"delete",void 0),ro=xo([ii],ro);let ad,Jf,mE,gC,em,Pl,OR=!1;function Eo(n,e,t,i,s){return Jf=void 0,Jf=s,OR=!!i,n?(e||(e="left"),t||(t="top"),gC=n.ownerDocument,mE=n,function(n,e,t){switch(ad=mE.getBoundingClientRect(),e+n){case"topcenter":uu(VR(),t),pu(gE(),t);break;case"topright":uu(BR(),t),pu(gE(),t);break;case"centercenter":uu(VR(),t),pu(NR(),t);break;case"centerright":uu(BR(),t),pu(NR(),t);break;case"centerleft":uu(yE(),t),pu(NR(),t);break;case"bottomcenter":uu(VR(),t),pu(FR(),t);break;case"bottomright":uu(BR(),t),pu(FR(),t);break;case"bottomleft":uu(yE(),t),pu(FR(),t);break;default:case"topleft":uu(yE(),t),pu(gE(),t)}return t}(e.toLowerCase(),t.toLowerCase(),{left:0,top:0})):{left:0,top:0}}function uu(n,e){e.left=n}function pu(n,e){e.top=n}function Gj(){return gC.documentElement.scrollTop||gC.body.scrollTop}function Yj(){return gC.documentElement.scrollLeft||gC.body.scrollLeft}function FR(){return OR?ad.bottom:ad.bottom+Gj()}function NR(){return gE()+ad.height/2}function gE(){return OR?ad.top:ad.top+Gj()}function yE(){return ad.left+Yj()}function BR(){const n=mE&&mE.classList.contains("e-date-range-wrapper")?Jf?Jf.width:0:Jf&&ad.width>=Jf.width?Jf.width:0;return ad.right+Yj()-n}function VR(){return yE()+ad.width/2}function HR(n,e=null,t={X:!1,Y:!1},i){if(!t.Y&&!t.X)return{left:0,top:0};const s=n.getBoundingClientRect();if(Pl=e,em=n.ownerDocument,i||(i=Eo(n,"left","top")),t.X){const r=Pl?Kj():i9(),o=WR(),a=UR(),l=o-i.left,h=i.left+s.width-a;s.width>r?i.left=l>0&&h<=0?a-s.width:h>0&&l<=0?o:l>h?a-s.width:o:l>0?i.left+=l:h>0&&(i.left-=h)}if(t.Y){const r=Pl?Qj():t9(),o=zR(),a=GR(),l=o-i.top,h=i.top+s.height-a;s.height>r?i.top=l>0&&h<=0?a-s.height:h>0&&l<=0?o:l>h?a-s.height:o:l>0?i.top+=l:h>0&&(i.top-=h)}return i}function tm(n,e=null,t,i){const s=Eo(n,"left","top");t&&(s.left=t),i&&(s.top=i);const r=[];Pl=e,em=n.ownerDocument;const o=n.getBoundingClientRect(),l=s.left,h=s.left+o.width,d=Zj(s.top,s.top+o.height),u=qj(l,h);return d.topSide&&r.push("top"),u.rightSide&&r.push("right"),u.leftSide&&r.push("left"),d.bottomSide&&r.push("bottom"),r}function Dye(n,e,t,i,s,r,o=null,a={X:!0,Y:!0},l){if(!(e&&n&&s&&r&&(a.X||a.Y)))return;const h={TL:null,TR:null,BL:null,BR:null},c={TL:null,TR:null,BL:null,BR:null};let d;if("none"===window.getComputedStyle(n).display){const p=n.style.visibility;n.style.visibility="hidden",n.style.display="block",d=n.getBoundingClientRect(),n.style.removeProperty("display"),n.style.visibility=p}else d=n.getBoundingClientRect();const u={posX:s,posY:r,offsetX:t,offsetY:i,position:{left:0,top:0}};Pl=o,em=e.ownerDocument,function(n,e,t,i,s){t.position=Eo(n,t.posX,t.posY,i,s),e.TL=Eo(n,"left","top",i,s),e.TR=Eo(n,"right","top",i,s),e.BR=Eo(n,"left","bottom",i,s),e.BL=Eo(n,"right","bottom",i,s)}(e,h,u,l,d),jR(c,u,d),a.X&&$j(e,c,h,u,d,!0),a.Y&&h.TL.top>-1&&Xj(e,c,h,u,d,!0),function(n,e,t){let i=0,s=0;if(null!=n.offsetParent&&("absolute"===getComputedStyle(n.offsetParent).position||"relative"===getComputedStyle(n.offsetParent).position)){const r=Eo(n.offsetParent,"left","top",!1,t);i=r.left,s=r.top}n.style.top=e.position.top+e.offsetY-s+"px",n.style.left=e.position.left+e.offsetX-i+"px"}(n,u,d)}function jR(n,e,t){n.TL={top:e.position.top+e.offsetY,left:e.position.left+e.offsetX},n.TR={top:n.TL.top,left:n.TL.left+t.width},n.BL={top:n.TL.top+t.height,left:n.TL.left},n.BR={top:n.TL.top+t.height,left:n.TL.left+t.width}}function qj(n,e){let t=!1,i=!1;return n-vE()<WR()&&(t=!0),e>UR()&&(i=!0),{leftSide:t,rightSide:i}}function $j(n,e,t,i,s,r){const o=qj(e.TL.left,e.TR.left);t.TL.left-vE()<=WR()&&(o.leftSide=!1),t.TR.left>UR()&&(o.rightSide=!1),(o.leftSide&&!o.rightSide||!o.leftSide&&o.rightSide)&&(i.posX="right"===i.posX?"left":"right",i.offsetX=i.offsetX+s.width,i.offsetX=-1*i.offsetX,i.position=Eo(n,i.posX,i.posY,!1),jR(e,i,s),r&&$j(n,e,t,i,s,!1))}function Xj(n,e,t,i,s,r){const o=Zj(e.TL.top,e.BL.top);t.TL.top-bE()<=zR()&&(o.topSide=!1),t.BL.top>=GR()&&n.getBoundingClientRect().bottom<window.innerHeight&&(o.bottomSide=!1),(o.topSide&&!o.bottomSide||!o.topSide&&o.bottomSide)&&(i.posY="top"===i.posY?"bottom":"top",i.offsetY=i.offsetY+s.height,i.offsetY=-1*i.offsetY,i.position=Eo(n,i.posX,i.posY,!1,s),jR(e,i,s),r&&Xj(n,e,t,i,s,!1))}function Zj(n,e){let t=!1,i=!1;return n-bE()<zR()&&(t=!0),e>GR()&&(i=!0),{topSide:t,bottomSide:i}}function Kj(){return Pl.getBoundingClientRect().width}function Qj(){return Pl.getBoundingClientRect().height}function Jj(){return Pl.getBoundingClientRect().left}function e9(){return Pl.getBoundingClientRect().top}function zR(){return Pl?e9():0}function WR(){return Pl?Jj():0}function UR(){return Pl?vE()+Jj()+Kj():vE()+i9()}function GR(){return Pl?bE()+e9()+Qj():bE()+t9()}function bE(){return em.documentElement.scrollTop||em.body.scrollTop}function vE(){return em.documentElement.scrollLeft||em.body.scrollLeft}function t9(){return window.innerHeight}function i9(){const n=window.innerWidth;let e=document.documentElement.getBoundingClientRect();return n-(n-(f(document.documentElement)?0:e.width))}var Ir=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let s9=(()=>{class n extends he{}return Ir([g("left")],n.prototype,"X",void 0),Ir([g("top")],n.prototype,"Y",void 0),n})();const oo_OPEN="e-popup-open",oo_CLOSE="e-popup-close";let rc=(()=>{let n=class extends $i{constructor(t,i){super(i,t)}onPropertyChanged(t,i){for(const s of Object.keys(t))switch(s){case"width":qe(this.element,{width:Be(t.width)});break;case"height":qe(this.element,{height:Be(t.height)});break;case"zIndex":qe(this.element,{zIndex:t.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":let r=t.offsetX-i.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+r).toString()+"px";break;case"offsetY":let o=t.offsetY-i.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+o).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==t.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}}getModuleName(){return"popup"}resolveCollision(){this.checkCollision()}getPersistData(){return this.addOnPersist([])}destroy(){this.element.classList.remove("e-popup","e-rtl",oo_OPEN,oo_CLOSE),this.unwireEvents(),super.destroy()}render(){this.element.classList.add("e-popup");const t={};1e3!==this.zIndex&&(t.zIndex=this.zIndex),"auto"!==this.width&&(t.width=Be(this.width)),"auto"!==this.height&&(t.height=Be(this.height)),qe(this.element,t),this.fixedParent=!1,this.setEnableRtl(),this.setContent()}wireEvents(){T.isDevice&&S.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()}wireScrollEvents(){if(this.getRelateToElement())for(const t of this.getScrollableParent(this.getRelateToElement()))S.add(t,"scroll",this.scrollRefresh,this)}unwireEvents(){T.isDevice&&S.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()}unwireScrollEvents(){if(this.getRelateToElement())for(const t of this.getScrollableParent(this.getRelateToElement()))S.remove(t,"scroll",this.scrollRefresh)}getRelateToElement(){const t=""===this.relateTo||f(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:t},!0),"string"==typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo}scrollRefresh(t){if("reposition"===this.actionOnScroll?!f(this.element)&&!(this.element.offsetParent===t.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==t.target.parentElement)&&this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){const i=this.isElementOnViewport(this.getRelateToElement(),t.target);i||this.targetInvisibleStatus?i&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}}isElementOnViewport(t,i){const s=this.getScrollableParent(t);for(let r=0;r<s.length;r++)if(!this.isElementVisible(t,s[r]))return!1;return!0}isElementVisible(t,i){const s=this.checkGetBoundingClientRect(t);if(!s.height||!s.width)return!1;if(f(this.checkGetBoundingClientRect(i))){const r=window,o={top:r.scrollY,left:r.scrollX,right:r.scrollX+r.outerWidth,bottom:r.scrollY+r.outerHeight},a=Eo(t),l={top:a.top,left:a.left,right:a.left+s.width,bottom:a.top+s.height},h={top:o.bottom-l.top,left:o.right-l.left,bottom:l.bottom-o.top,right:l.right-o.left};return h.top>0&&h.left>0&&h.right>0&&h.bottom>0}{const r=i.getBoundingClientRect();return!(s.bottom<r.top||s.bottom>r.bottom||s.right>r.right||s.left<r.left)}}preRender(){}setEnableRtl(){this.reposition(),this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")}setContent(){f(this.content)||(this.element.innerHTML="","string"==typeof this.content?this.element.textContent=this.content:this.element.appendChild(this.content))}orientationOnChange(){setTimeout(()=>{this.refreshPosition()},200)}refreshPosition(t,i){f(t)||this.checkFixedParent(t),this.reposition(),i||this.checkCollision()}reposition(){let t,i;const s=this.getRelateToElement();if("number"==typeof this.position.X&&"number"==typeof this.position.Y)t={left:this.position.X,top:this.position.Y};else if("string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y){let r;const o=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(r=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),i=this.getAnchorPosition(s,this.element,this.position,this.offsetX,this.offsetY),t="string"==typeof this.position.X?{left:i.left,top:this.position.Y}:{left:this.position.X,top:i.top},this.element.style.display=o,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=r)}else if(s){const r=this.element.style.display;this.element.style.display="block",t=this.getAnchorPosition(s,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=r}else t={left:0,top:0};f(t)||(this.element.style.left=t.left+"px",this.element.style.top=t.top+"px")}checkGetBoundingClientRect(t){let i;try{return i=t.getBoundingClientRect(),i}catch(s){return null}}getAnchorPosition(t,i,s,r,o){const a=this.checkGetBoundingClientRect(i),l=this.checkGetBoundingClientRect(t);if(f(a)||f(l))return null;const h=t;let c={left:0,top:0};switch(i.offsetParent&&"BODY"===i.offsetParent.tagName&&"BODY"===t.tagName?c=Eo(t):(i.classList.contains("e-dlg-modal")&&"BODY"!==h.tagName&&(i=i.parentElement),c=function(n,e){let t=!1;const i={left:0,top:0},s=n;if(!n||!e)return i;for(f(e.offsetParent)&&"fixed"===e.style.position&&(t=!0);(e.offsetParent||t)&&n&&e.offsetParent!==n;)i.left+=n.offsetLeft,i.top+=n.offsetTop,n=n.offsetParent;for(n=s;(e.offsetParent||t)&&n&&e.offsetParent!==n;)i.left-=n.scrollLeft,i.top-=n.scrollTop,n=n.parentElement;return i}(h,i)),s.X){default:case"left":break;case"center":i.classList.contains("e-dlg-modal")&&"BODY"===h.tagName&&"container"===this.targetType?c.left+=window.innerWidth/2-a.width/2:c.left+="container"===this.targetType?l.width/2-a.width/2:l.width/2;break;case"right":i.classList.contains("e-dlg-modal")&&"BODY"===h.tagName&&"container"===this.targetType?c.left+=window.innerWidth-a.width:c.left+="container"===this.targetType?l.width-a.width:l.width}switch(s.Y){default:case"top":break;case"center":i.classList.contains("e-dlg-modal")&&"BODY"===h.tagName&&"container"===this.targetType?c.top+=window.innerHeight/2-a.height/2:c.top+="container"===this.targetType?l.height/2-a.height/2:l.height/2;break;case"bottom":i.classList.contains("e-dlg-modal")&&"BODY"===h.tagName&&"container"===this.targetType?c.top+=window.innerHeight-a.height:c.top+="container"===this.targetType?l.height-a.height:l.height}return c.left+=r,c.top+=o,c}callFlip(t){const i=this.getRelateToElement();Dye(this.element,i,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,t,this.fixedParent)}callFit(t){if(0!==tm(this.element,this.viewPortElement).length)if(f(this.viewPortElement)){const i=HR(this.element,this.viewPortElement,t);t.X&&(this.element.style.left=i.left+"px"),t.Y&&(this.element.style.top=i.top+"px")}else{const i=this.checkGetBoundingClientRect(this.element),s=this.checkGetBoundingClientRect(this.viewPortElement);if(f(i)||f(s))return null;t&&!0===t.Y&&(s.top>i.top?this.element.style.top="0px":s.bottom<i.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(i.bottom-s.bottom)+"px")),t&&!0===t.X&&(s.right<i.right?this.element.style.left=parseInt(this.element.style.left,10)-(i.right-s.right)+"px":s.left>i.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(s.left-i.left)+"px"))}}checkCollision(){const t=this.collision.X,i=this.collision.Y;"none"===t&&"none"===i||("flip"===t&&"flip"===i?this.callFlip({X:!0,Y:!0}):"fit"===t&&"fit"===i?this.callFit({X:!0,Y:!0}):("flip"===t?this.callFlip({X:!0,Y:!1}):"flip"===i&&this.callFlip({Y:!0,X:!1}),"fit"===t?this.callFit({X:!0,Y:!1}):"fit"===i&&this.callFit({X:!1,Y:!0})))}show(t,i){if(this.wireEvents(),1e3===this.zIndex||!f(i)){const s=f(i)?this.element:i;this.zIndex=im(s),qe(this.element,{zIndex:this.zIndex})}t=f(t)||"object"!=typeof t?this.showAnimation:t,("none"!==this.collision.X||"none"!==this.collision.Y)&&(z([this.element],oo_CLOSE),B([this.element],oo_OPEN),this.checkCollision(),z([this.element],oo_OPEN),B([this.element],oo_CLOSE)),f(t)?(z([this.element],oo_CLOSE),B([this.element],oo_OPEN),this.trigger("open")):(t.begin=()=>{this.isDestroyed||(z([this.element],oo_CLOSE),B([this.element],oo_OPEN))},t.end=()=>{this.isDestroyed||this.trigger("open")},new qt(t).animate(this.element))}hide(t){t=f(t)||"object"!=typeof t?this.hideAnimation:t,f(t)?(z([this.element],oo_OPEN),B([this.element],oo_CLOSE),this.trigger("close")):(t.end=()=>{this.isDestroyed||(z([this.element],oo_OPEN),B([this.element],oo_CLOSE),this.trigger("close"))},new qt(t).animate(this.element)),this.unwireEvents()}getScrollableParent(t){return this.checkFixedParent(t),YR(t,this.fixedParent)}checkFixedParent(t){let i=t.parentElement;for(;i&&"HTML"!==i.tagName;){const s=getComputedStyle(i);"fixed"===s.position&&!f(this.element)&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top)?Be(window.scrollY-parseInt(this.element.style.top)):Be(parseInt(this.element.style.top)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),i=i.parentElement,!f(this.element)&&f(this.element.offsetParent)&&"fixed"===s.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}}};return Ir([g("auto")],n.prototype,"height",void 0),Ir([g("auto")],n.prototype,"width",void 0),Ir([g(null)],n.prototype,"content",void 0),Ir([g("container")],n.prototype,"targetType",void 0),Ir([g(null)],n.prototype,"viewPortElement",void 0),Ir([g({X:"none",Y:"none"})],n.prototype,"collision",void 0),Ir([g("")],n.prototype,"relateTo",void 0),Ir([U({},s9)],n.prototype,"position",void 0),Ir([g(0)],n.prototype,"offsetX",void 0),Ir([g(0)],n.prototype,"offsetY",void 0),Ir([g(1e3)],n.prototype,"zIndex",void 0),Ir([g(!1)],n.prototype,"enableRtl",void 0),Ir([g("reposition")],n.prototype,"actionOnScroll",void 0),Ir([g(null)],n.prototype,"showAnimation",void 0),Ir([g(null)],n.prototype,"hideAnimation",void 0),Ir([F()],n.prototype,"open",void 0),Ir([F()],n.prototype,"close",void 0),Ir([F()],n.prototype,"targetExitViewport",void 0),n=Ir([ii],n),n})();function YR(n,e){const t=getComputedStyle(n),i=[],s=/(auto|scroll)/;let r=n.parentElement;for(;r&&"HTML"!==r.tagName;){const o=getComputedStyle(r);!("absolute"===t.position&&"static"===o.position)&&s.test(o.overflow+o.overflowY+o.overflowX)&&i.push(r),r=r.parentElement}return e||i.push(document),i}function im(n){let e=n.parentElement;const t=[];for(;e&&"BODY"!==e.tagName;){const a=document.defaultView.getComputedStyle(e,null).getPropertyValue("z-index"),l=document.defaultView.getComputedStyle(e,null).getPropertyValue("position");"auto"!==a&&"static"!==l&&t.push(a),e=e.parentElement}const i=[];for(let a=0;a<document.body.children.length;a++)if(!n.isEqualNode(document.body.children[a])){const l=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("z-index"),h=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("position");"auto"!==l&&"static"!==h&&i.push(l)}i.push("999");const s=[];if(!f(n.parentElement)&&"BODY"!==n.parentElement.tagName){const a=[].slice.call(n.parentElement.children);for(let l=0;l<a.length;l++)if(!n.isEqualNode(a[l])){const h=document.defaultView.getComputedStyle(a[l],null).getPropertyValue("z-index"),c=document.defaultView.getComputedStyle(a[l],null).getPropertyValue("position");"auto"!==h&&"static"!==c&&s.push(h)}}const r=t.concat(i,s),o=Math.max.apply(Math,r)+1;return o>2147483647?2147483647:o}const qR=["north-west","north","north-east","west","east","south-west","south","south-east"],CE="e-resize-handle",sm="e-focused-handle",n9=["e-restrict-left"],r9="e-resize-viewport",Aye=["north","west","east","south"];let ln,ld,Wy,nm,ZR,Ep,ls,Dp,Mp,$R=0,XR=0,o9=0,a9=0,yC=0,bC=0,vC=null,KR=null,QR=null,wE=!0,l9=0,JR=!0;function Lye(n){eI();const e=Ve("span",{attrs:{unselectable:"on",contenteditable:"false"}});e.setAttribute("class","e-dialog-border-resize e-"+n),"south"===n&&(e.style.height="2px",e.style.width="100%",e.style.bottom="0px",e.style.left="0px"),"north"===n&&(e.style.height="2px",e.style.width="100%",e.style.top="0px",e.style.left="0px"),"east"===n&&(e.style.height="100%",e.style.width="2px",e.style.right="0px",e.style.top="0px"),"west"===n&&(e.style.height="100%",e.style.width="2px",e.style.left="0px",e.style.top="0px"),ln.appendChild(e)}function h9(n){let e;return f(n)||(e="string"==typeof n?document.querySelector(n):n),e}function c9(n){f(n)&&(n=this);const e=ln.querySelectorAll("."+CE);for(let i=0;i<e.length;i++)ld=e[i],S.add(ld,"mousedown",u9,n),S.add(ld,"msie"===T.info.name?"pointerdown":"touchstart",p9,n);const t=ln.querySelectorAll(".e-dialog-border-resize");if(!f(t))for(let i=0;i<t.length;i++)ld=t[i],S.add(ld,"mousedown",u9,n),S.add(ld,"msie"===T.info.name?"pointerdown":"touchstart",p9,n)}function d9(n){return n.indexOf("mouse")>-1?"mouse":"touch"}function u9(n){if(n.preventDefault(),ln=n.target.parentElement,eI(),yC=n.pageX,bC=n.pageY,n.target.classList.add(sm),!f(vC)&&(Mp=this,!0===vC(n,Mp)))return;const e=f(ls)?document:ls;S.add(e,"mousemove",CC,this),S.add(document,"mouseup",SE,this);for(let t=0;t<n9.length;t++)wE=!ln.classList.contains(n9[t])}function SE(n){const e="msie"===T.info.name?"pointermove":"touchmove",t="msie"===T.info.name?"pointerup":"touchend",i=f(ls)?document:ls,s="msie"===T.info.name?"pointerdown":"touchstart";S.remove(i,"mousemove",CC),S.remove(i,e,CC),S.remove(i,s,CC),f(document.body.querySelector("."+sm))||document.body.querySelector("."+sm).classList.remove(sm),f(QR)||(Mp=this,QR(n,Mp)),S.remove(document,"mouseup",SE),S.remove(document,t,SE)}function eI(){$R=parseFloat(getComputedStyle(ln,null).getPropertyValue("width").replace("px","")),XR=parseFloat(getComputedStyle(ln,null).getPropertyValue("height").replace("px","")),o9=ln.getBoundingClientRect().left,a9=ln.getBoundingClientRect().top}function p9(n){ln=n.target.parentElement,eI();const e=n.touches?n.changedTouches[0]:n;if(yC=e.pageX,bC=e.pageY,!f(vC)&&(Mp=this,!0===vC(n,Mp)))return;const t="msie"===T.info.name?"pointermove":"touchmove",i="msie"===T.info.name?"pointerup":"touchend",s=f(ls)?document:ls;S.add(s,t,CC,this),S.add(document,i,SE)}function CC(n){if(n.target.classList.contains(CE)&&n.target.classList.contains(sm)?ld=n.target:f(document.body.querySelector("."+sm))||(ld=document.body.querySelector("."+sm)),!f(ld)){let e="";for(let t=0;t<qR.length;t++)ld.classList.contains("e-"+qR[t])&&(e=qR[t]);switch(f(KR)||(Mp=this,KR(n,Mp)),e){case"south":tI(n);break;case"north":iI(n);break;case"west":sI(n);break;case"east":nI(n);break;case"south-east":tI(n),nI(n);break;case"south-west":tI(n),sI(n);break;case"north-east":iI(n),nI(n);break;case"north-west":iI(n),sI(n)}}}function kp(n){return n.getBoundingClientRect()}function tI(n){const e=document.documentElement.clientHeight;let t=!1;const s=(n.touches?n.changedTouches[0]:n).pageY,r=kp(ln);let o;f(ls)||(o=kp(ls)),f(ls)?f(ls)&&(e-s>=0||r.top<0)&&(t=!0):t=!0;let a=XR+(s-bC);a=a>Wy?a:Wy;let l=0;f(ls)||(l=o.top);const h=f(ls)?0:ls.offsetHeight-ls.clientHeight;let c=r.top-l-h/2;if(c=c<0?0:c,r.top>0&&c+a>nm){if(t=!1,ln.classList.contains(r9))return;return void(ln.style.height=nm-parseInt(c.toString(),10)+"px")}let d=0;if(t){r.top<0&&e+(r.height+r.top)>0&&(d=r.top,a+d<=30&&(a=r.height-(r.height+r.top)+30)),a+r.top>=nm&&(ln.style.height=r.height+(e-(r.height+r.top))+"px");const u=f(ls)?d:c;a>=Wy&&a+u<=nm&&(ln.style.height=a+"px")}}function iI(n){let t,e=!1;const i="mouse"===d9(n.type)?n.pageY:n.touches[0].pageY,s=kp(ln);f(ls)||(t=kp(ls)),(!f(ls)&&s.top-t.top>0||f(ls)&&i>0)&&(e=!0);const r=XR-(i-bC);if(e&&r>=Wy&&r<=nm){let o=0;f(ls)||(o=t.top);let a=a9-o+(i-bC);a=a>0?a:1,ln.style.height=r+"px",ln.style.top=a+"px"}}function sI(n){const e=document.documentElement.clientWidth;let i,t=!1;f(ls)||(i=kp(ls));const s="mouse"===d9(n.type)?n.pageX:n.touches[0].pageX,r=kp(ln),o=f(ls)?0:ls.offsetWidth-ls.clientWidth;let a=f(ls)?0:i.left,l=f(ls)?0:i.width;f(Dp)&&(f(ls)?Dp=e:(Dp=r.left-a-o/2+r.width,Dp+=l-o-Dp)),(!f(ls)&&Math.floor(r.left-i.left+r.width+(i.right-r.right))-o<=Ep||f(ls)&&s>=0)&&(t=!0);let h=$R-(s-yC);if(wE&&(h=h>Dp?Dp:h),t&&h>=ZR&&h<=Ep){let c=0;f(ls)||(c=i.left);let d=o9-c+(s-yC);d=d>0?d:1,h!==l9&&JR&&(ln.style.width=h+"px"),wE&&(ln.style.left=d+"px",JR=1!==d)}l9=h}function nI(n){const e=document.documentElement.clientWidth;let i,t=!1;f(ls)||(i=kp(ls));const r=(n.touches?n.changedTouches[0]:n).pageX,o=kp(ln);(!f(ls)&&(o.left-i.left+o.width<=Ep||o.right-i.left>=o.width)||f(ls)&&e-r>0)&&(t=!0);const a=$R+(r-yC);let l=0;if(f(ls)||(l=i.left),o.left-l+a>Ep){if(t=!1,ln.classList.contains(r9))return;ln.style.width=Ep-(o.left-l)+"px"}t&&a>=ZR&&a<=Ep&&(ln.style.width=a+"px")}function f9(){const n=ln.querySelectorAll("."+CE);for(let t=0;t<n.length;t++)ie(n[t]);const e=ln.querySelectorAll(".e-dialog-border-resize");if(!f(e))for(let t=0;t<e.length;t++)ie(e[t])}var Ni=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class wC extends he{}Ni([g(!0)],wC.prototype,"isFlat",void 0),Ni([g()],wC.prototype,"buttonModel",void 0),Ni([g("Button")],wC.prototype,"type",void 0),Ni([F()],wC.prototype,"click",void 0);class _E extends he{}Ni([g("Fade")],_E.prototype,"effect",void 0),Ni([g(400)],_E.prototype,"duration",void 0),Ni([g(0)],_E.prototype,"delay",void 0);const xE="e-dialog",rI="e-rtl",oI="e-dlg-header-content",m9="e-dlg-header",SC="e-footer-content",aI="e-dlg-modal",g9="e-icon-dlg-close",hd="e-dlg-target",oc="e-scroll-disabled",y9="e-device",EE="e-dlg-fullscreen",b9="e-dlg-closeicon-btn",v9="e-popup-open",lI="Information",C9="e-scroll-disabled",w9="e-alert-dialog",S9="e-confirm-dialog",hI="e-dlg-resizable",DE="e-restrict-left",_9="e-resize-viewport",cI="user action";let hs=class extends $i{constructor(e,t){super(e,t),this.dlgClosedBy=cI}render(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=Be(this.minHeight)),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()}preRender(){if(this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=t=>{this.dlgClosedBy="close icon",this.hide(t)},this.dlgOverlayClickEventHandler=t=>{this.dlgClosedBy="overlayClick",t.preventFocus=!1,this.trigger("overlayClick",t,i=>{i.preventFocus||this.focusContent(),this.dlgClosedBy=cI})},this.l10n=new Na("dialog",{close:"Close"},this.locale),this.checkPositionData(),f(this.target)){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=t}}isNumberValue(e){return/^[-+]?\d*\.?\d+$/.test(e)}checkPositionData(){if(!f(this.position)){if(!f(this.position.X)&&"number"!=typeof this.position.X&&this.isNumberValue(this.position.X)){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=t}if(!f(this.position.Y)&&"number"!=typeof this.position.Y&&this.isNumberValue(this.position.Y)){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=t}}}getEle(e,t){let i;for(let s=0;s<e.length;s++)if(e[s].classList.contains(t)){i=e[s];break}return i}getMinHeight(){let e="0px",t="0px";f(this.element.querySelector("."+oI))||(e=getComputedStyle(this.headerContent).height);const i=this.getEle(this.element.children,SC);f(i)||(t=getComputedStyle(i).height);const s=parseInt(e.slice(0,e.indexOf("p")),10),r=parseInt(t.slice(0,t.indexOf("p")),10);return function(n){Wy=n}(s+30+(isNaN(r)?0:r)),s+30+r}onResizeStart(e,t){return t.trigger("resizeStart",e),e.cancel}onResizing(e,t){t.trigger("resizing",e)}onResizeComplete(e,t){t.trigger("resizeStop",e)}setResize(){if(this.enableResize){if(this.isBlazorServerRender()&&!f(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add(hI);const e=getComputedStyle(this.element).minHeight,t=getComputedStyle(this.element).minWidth;let i="";for(let s=0;s<this.resizeHandles.length;s++){if("All"===this.resizeHandles[s]){i="south north east west north-east north-west south-east south-west";break}{let r="";switch(this.resizeHandles[s].toString()){case"SouthEast":r="south-east";break;case"SouthWest":r="south-west";break;case"NorthEast":r="north-east";break;case"NorthWest":r="north-west";break;default:r=this.resizeHandles[s].toString()}i+=r.toLocaleLowerCase()+" "}}this.enableRtl&&"south-east"===i.trim()?i="south-west":this.enableRtl&&"south-west"===i.trim()&&(i="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(DE):this.isModal&&this.target===document.body&&this.element.classList.add(_9),function(n){vC=n.resizeBegin,KR=n.resizing,QR=n.resizeComplete,ln=h9(n.element),ls=h9(n.boundary);const e=n.direction.split(" ");for(let t=0;t<e.length;t++)if(Aye.indexOf(e[t])>=0&&e[t])Lye(e[t]);else if(""!==e[t].trim()){const i=Ve("div",{className:"e-icons "+CE+" e-"+e[t]});ln.appendChild(i)}Wy=n.minHeight,ZR=n.minWidth,Ep=n.maxWidth,nm=n.maxHeight,n.proxy&&n.proxy.element&&n.proxy.element.classList.contains("e-dialog")?c9(n.proxy):c9()}({element:this.element,direction:i,minHeight:parseInt(e.slice(0,t.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(t.slice(0,t.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else f9(),this.unWireWindowResizeEvent(),this.element.classList.remove(this.isModal?DE:_9),this.element.classList.remove(hI)}getFocusElement(e){const i=e.querySelectorAll('input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]');return{element:i[i.length-1]}}keyDown(e){if(9===e.keyCode&&this.isModal){let r;f(this.btnObj)||(r=this.btnObj[this.btnObj.length-1]),f(this.btnObj)&&!f(this.ftrTemplateContent)&&(r=this.getFocusElement(this.ftrTemplateContent)),f(this.btnObj)&&f(this.ftrTemplateContent)&&!f(this.contentEle)&&(r=this.getFocusElement(this.contentEle)),!f(r)&&document.activeElement===r.element&&!e.shiftKey&&(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),f(r)||r.element.focus())}const t=document.activeElement,i=["input","textarea"].indexOf(t.tagName.toLowerCase())>-1;let s=!1;if(i||(s=t.hasAttribute("contenteditable")&&"true"===t.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape&&(this.dlgClosedBy="escape",this.hide(e)),13===e.keyCode&&!e.ctrlKey&&"textarea"!==t.tagName.toLowerCase()&&i&&!f(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===t.tagName.toLowerCase()||s)&&!f(this.primaryButtonEle)){let r;this.buttons.some((a,l)=>{r=l;let h=a.buttonModel;return!f(h)&&!0===h.isPrimary})&&"function"==typeof this.buttons[r].click&&setTimeout(()=>{this.buttons[r].click.call(this,e)})}}initialize(){f(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||B([this.element],xE),T.isDevice&&B([this.element],y9),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()}initRender(){if(this.initialRender=!0,this.isBlazorServerRender()||we(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&f(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&f(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),""!==this.header&&!f(this.header)&&this.setHeader(),this.showCloseIcon&&this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||f(this.footerTemplate)?f(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate()),this.isBlazorServerRender()&&!f(this.buttons[0].buttonModel)&&""===this.footerTemplate&&this.setButton(),this.allowDragging&&!f(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(we(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&f(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(let e=0,t=this.dlgContainer.children;e<t.length;e++)t[e].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=t[e])}if(!0!==this.element.classList.contains(w9)&&!0!==this.element.classList.contains(S9)&&!f(this.element.parentElement)){const e=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),e.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}f(this.targetEle)||this.targetEle.appendChild(this.isModal?this.dlgContainer:this.element),this.popupObj=new rc(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:e=>{const t={container:this.isModal?this.dlgContainer:this.element,element:this.element,target:this.target,preventFocus:!1};this.enableResize&&this.resetResizeIcon(),this.trigger("open",t,i=>{i.preventFocus||this.focusContent()})},close:e=>{this.isModal&&B([this.dlgOverlay],"e-fade"),this.unBindEvent(this.element),this.isModal&&(this.dlgContainer.style.display="none"),this.trigger("close",this.closeArgs);const t=document.activeElement;!f(t)&&!f(t.blur)&&t.blur(),!f(this.storeActiveElement)&&!f(this.storeActiveElement.focus)&&this.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(B([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible?this.show():this.isModal&&(this.dlgOverlay.style.display="none"),this.initialRender=!1}resetResizeIcon(){const e=this.getMinHeight();if(this.targetEle.offsetHeight<e){const i=this.element.querySelector("."+(this.enableRtl?"e-south-west":"e-south-east"));f(i)||(i.style.bottom="-"+e.toString()+"px")}}setOverlayZindex(e){let t;t=f(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(t-1).toString(),this.dlgContainer.style.zIndex=t.toString()}positionChange(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()}setPopupPosition(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})}setAllowDragging(){this.dragObj=new Vs(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:".e-dlg-header-content",dragStart:t=>{this.trigger("dragStart",t,i=>{})},dragStop:t=>{this.isModal&&(f(this.position)||this.dlgContainer.classList.remove("e-dlg-"+this.position.X+"-"+this.position.Y),this.element.style.position="relative"),this.trigger("dragStop",t),this.element.classList.remove(DE)},drag:t=>{this.trigger("drag",t)}}),f(this.targetEle)||(this.dragObj.dragArea=this.targetEle)}setButton(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(let t=0;t<this.buttons.length;t++){const i=f(this.buttons[t].type)?"button":this.buttons[t].type.toLowerCase(),s=this.createElement("button",{attrs:{type:i}});this.buttonContent.push(s.outerHTML)}this.setFooterTemplate()}let e;for(let t=0,i=this.element.children;t<i.length;t++)i[t].classList.contains(SC)&&(e=i[t].querySelectorAll("button"));for(let t=0;t<this.buttons.length;t++)this.isBlazorServerRender()||(this.btnObj[t]=new uh(this.buttons[t].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector("."+SC)),!f(this.ftrTemplateContent)&&e.length>0&&("function"==typeof this.buttons[t].click&&S.add(e[t],"click",this.buttons[t].click,this),"object"==typeof this.buttons[t].click&&S.add(e[t],"click",this.buttonClickHandler.bind(this,t),this)),!this.isBlazorServerRender()&&!f(this.ftrTemplateContent)&&(this.btnObj[t].appendTo(this.ftrTemplateContent.children[t]),this.buttons[t].isFlat&&this.btnObj[t].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])}buttonClickHandler(e){this.trigger("buttons["+e+"].click",{})}setContent(){we(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(!f(this.content)&&""!==this.content||!this.initialRender)&&("string"!=typeof this.content?this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content"):this.contentEle.innerHTML=this.sanitizeHelper(this.content)),f(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(!this.isBlazorServerRender()&&T.isIE&&""===this.element.style.width&&!f(this.width)&&(this.element.style.width=Be(this.width)),this.setMaxHeight())}setTemplate(e,t,i){let s,r,o;r=t.classList.contains(m9)?this.element.id+"header":t.classList.contains(SC)?this.element.id+"footerTemplate":this.element.id+"content",f(e.outerHTML)?"string"!=typeof e?(s=Lr(e),o=e):t.innerHTML=this.sanitizeHelper(e):t.appendChild(e);const a=[];if(!f(s)){const l=!0;for(const h of s({},this,i,r,l))a.push(h);ys([].slice.call(a),t)}}sanitizeHelper(e){if(this.enableHtmlSanitizer){const t=Zn.beforeSanitize();fe(t,t,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",t),t.cancel&&!f(t.helper)?e=t.helper(e):t.cancel||(e=Zn.serializeValue(t,e))}return e}setMaxHeight(){if(!this.allowMaxHeight)return;const e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!f(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,T.isIE&&"auto"===this.height&&!f(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}setEnableRTL(){this.isBlazorServerRender()||(this.enableRtl?B([this.element],rI):z([this.element],rI)),f(this.element.querySelector(".e-resize-handle"))||(f9(),this.setResize())}setTargetContent(){if(f(this.content)||""===this.content){const e=""!==this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"");(this.element.children.length>0||e)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(t=>{8!==t.nodeType&&this.innerContentElement.appendChild(t)}))}}setHeader(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:m9}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),we(this.element,{"aria-labelledby":this.element.id}),this.element.insertBefore(this.headerContent,this.element.children[0])}setFooterTemplate(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:SC}),""===this.footerTemplate||f(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"),this.element.appendChild(this.ftrTemplateContent)}createHeaderContent(){f(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:oI}))}renderCloseIcon(){this.closeIcon=this.createElement("button",{className:b9,attrs:{type:"button"}}),this.closeIconBtnObj=new uh({cssClass:"e-flat",iconCss:g9+" e-icons"}),this.closeIconTitle(),f(this.headerContent)?(this.createHeaderContent(),lh([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):lh([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon)}closeIconTitle(){this.l10n.setLocale(this.locale);const e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)}setCSSClass(e){this.cssClass&&B([this.element],this.cssClass.split(" ")),e&&z([this.element],e.split(" "))}setIsModal(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.element.classList.remove(v9),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),B([this.element],aI),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)}getValidFocusNode(e){let t;for(let i=0;i<e.length;i++){if(t=e[i],(t.clientHeight>0||"a"===t.tagName.toLowerCase()&&t.hasAttribute("href"))&&t.tabIndex>-1&&!t.disabled&&!this.disableElement(t,'[disabled],[aria-disabled="true"],[type="hidden"]'))return t;t=null}return t}focusableElements(e){if(!f(e)){const i=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(i)}return null}getAutoFocusNode(e){let t=e.querySelector("."+b9);const s=e.querySelectorAll("[autofocus]");let r=this.getValidFocusNode(s);if(f(r)){if(r=this.focusableElements(this.contentEle),!f(r))return r;if(!f(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else t=r;return t}disableElement(e,t){const i=e?e.matches||e.webkitMatchesSelector||e.msGetRegionContent:null;if(i)for(;e;e=e.parentNode)if(e instanceof Element&&i.call(e,t))return e;return null}focusContent(){const e=this.getAutoFocusNode(this.element),t=f(e)?this.element:e,i=T.userAgent;(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0)&&this.element.focus(),t.focus(),this.bindEvent(this.element)}bindEvent(e){S.add(e,"keydown",this.keyDown,this)}unBindEvent(e){S.remove(e,"keydown",this.keyDown)}updateSanitizeContent(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))}isBlazorServerRender(){return!1}getModuleName(){return"dialog"}onPropertyChanged(e,t){if(this.element.classList.contains(xE))for(const i of Object.keys(e))switch(i){case"content":f(this.content)||""===this.content?f(this.contentEle)||(ie(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),f(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?(!this.isBlazorServerRender()||f(this.element.querySelector(".e-dlg-content")))&&this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"function"==typeof this.content?(this.clearTemplate(["content"]),ie(this.contentEle),this.contentEle=null,this.setContent()):"string"==typeof this.content?this.isBlazorServerRender()&&""===this.contentEle.innerText?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||f(this.header)?this.headerEle&&(ie(this.headerEle),this.headerEle=null):(!this.isBlazorServerRender()||f(this.element.querySelector(".e-dlg-header-content")))&&this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||f(this.footerTemplate)){if(!this.ftrTemplateContent)return;ie(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else(!this.isBlazorServerRender()||f(this.element.querySelector(".e-footer-content")))&&this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(g9).length>0?this.showCloseIcon||""!==this.header&&!f(this.header)?this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():ie(this.closeIcon):(ie(this.headerContent),this.headerContent=null):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":qe(this.element,{height:Be(e.height)});break;case"width":qe(this.element,{width:Be(e.width)});break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(t.cssClass);break;case"buttons":{const s=this.buttons.length;!f(this.ftrTemplateContent)&&!this.isBlazorServerRender()&&(ie(this.ftrTemplateContent),this.ftrTemplateContent=null);for(let r=0;r<s;r++)f(this.buttons[r].buttonModel)||(this.footerTemplate="",this.setButton());break}case"allowDragging":this.allowDragging&&!f(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){const s=f(t.position.X)?this.position.X:t.position.X,r=f(t.position.Y)?this.position.Y:t.position.Y;this.dlgContainer.classList.contains("e-dlg-"+s+"-"+r)&&this.dlgContainer.classList.remove("e-dlg-"+s+"-"+r)}this.positionChange();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize()}}setTarget(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()}updateIsModal(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)f(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",f(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for(z([this.element],aI),z([document.body],[hd,oc]),ie(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&S.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)}setzIndex(e,t){const i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.zIndex=im(e),this.isProtectedOnChange=i,t&&(this.popupObj.zIndex=this.zIndex)}windowResizeHandler(){(function(n){Ep=n})(this.targetEle.clientWidth),function(n){nm=n}(this.targetEle.clientHeight),this.setMaxHeight()}getPersistData(){return this.addOnPersist([])}destroy(){if(this.isDestroyed)return;const e=[rI,aI,hI,DE,EE,y9],t=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(z([this.targetEle],[hd,oc]),!f(this.element)&&this.element.classList.contains(EE)&&z([document.body],[hd,oc]),this.isModal&&z([f(this.targetEle)?document.body:this.targetEle],oc),this.unWireEvents(),!f(this.btnObj))for(let i=0;i<this.btnObj.length;i++)this.btnObj[i].destroy();if(f(this.dragObj)||this.dragObj.destroy(),!f(this.popupObj.element)&&this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),z([this.element],e),!f(this.cssClass)&&""!==this.cssClass&&z([this.element],this.cssClass.split(" ")),!f(this.refElement)&&!f(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),ie(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(ie(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),ie(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!f(this.element.children))for(let i=0;i<=this.element.children.length;i++)i-=i,ie(this.element.children[i]);for(let i=0;i<t.length;i++)this.element.removeAttribute(t[i]);this.isBlazorServerRender()?this.isDestroyed=!0:super.destroy(),this.isReact&&this.clearTemplate()}wireWindowResizeEvent(){window.addEventListener("resize",this.windowResizeHandler.bind(this))}unWireWindowResizeEvent(){window.removeEventListener("resize",this.windowResizeHandler.bind(this))}wireEvents(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&S.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&S.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)}unWireEvents(){if(this.showCloseIcon&&S.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&S.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!f(this.buttons[0].buttonModel)&&""===this.footerTemplate)for(let e=0;e<this.buttons.length;e++)"function"==typeof this.buttons[e].click&&S.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)}refreshPosition(){this.popupObj.refreshPosition()}show(e){if(this.element.classList.contains(xE)){if(!this.element.classList.contains(v9)||!f(e)){f(e)||this.fullScreen(e);const t={cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",t,i=>{if(!i.cancel){this.element.style.maxHeight!==t.maxHeight&&(this.allowMaxHeight=!1,this.element.style.maxHeight=t.maxHeight),this.storeActiveElement=document.activeElement,this.element.tabIndex=-1,this.isModal&&!f(this.dlgOverlay)&&(this.dlgOverlay.style.display="block",this.dlgContainer.style.display="flex",z([this.dlgOverlay],"e-fade"),f(this.targetEle)?B([document.body],[hd,oc]):(this.dlgContainer.style.position=this.targetEle===document.body?"fixed":"absolute",this.dlgOverlay.style.position="absolute",this.element.style.position="relative",B([this.targetEle],[hd,oc])));const s={name:this.animationSettings.effect+"In",duration:this.animationSettings.duration,delay:this.animationSettings.delay},r=this.isModal?this.element.parentElement:this.element;this.calculatezIndex&&(this.setzIndex(r,!0),qe(this.element,{zIndex:this.zIndex}),this.isModal&&this.setOverlayZindex(this.zIndex)),"None"===this.animationSettings.effect?this.popupObj.show():this.popupObj.show(s),this.dialogOpen=!0;const o=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!0,this.preventVisibility=!0,this.isProtectedOnChange=o}})}this.isReact&&this.renderReactTemplates()}}hide(e){if(this.element.classList.contains(xE)&&this.preventVisibility){const t={cancel:!1,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e,closedBy:this.dlgClosedBy};this.closeArgs=t,this.trigger("beforeClose",t,i=>{if(!i.cancel){this.isModal&&(f(this.targetEle)||z([this.targetEle],[hd,oc])),document.body.classList.contains(hd)&&document.body.classList.contains(oc)&&z([document.body],[hd,oc]);const s={name:this.animationSettings.effect+"Out",duration:this.animationSettings.duration,delay:this.animationSettings.delay};"None"===this.animationSettings.effect?this.popupObj.hide():this.popupObj.hide(s),this.dialogOpen=!1;const r=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.visible=!1,this.preventVisibility=!1,this.isProtectedOnChange=r}this.dlgClosedBy=cI})}}fullScreen(e){if(e){B([this.element],EE);const s=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=f(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=s,B([document.body],[hd,oc]),this.allowDragging&&!f(this.dragObj)&&this.dragObj.destroy()}else z([this.element],EE),z([document.body],[hd,oc]),this.allowDragging&&!f(this.headerContent)&&this.setAllowDragging();return e}getButtons(e){return f(e)?this.btnObj:this.btnObj[e]}};var x9;Ni([g("")],hs.prototype,"content",void 0),Ni([g(!0)],hs.prototype,"enableHtmlSanitizer",void 0),Ni([g(!1)],hs.prototype,"showCloseIcon",void 0),Ni([g(!1)],hs.prototype,"isModal",void 0),Ni([g("")],hs.prototype,"header",void 0),Ni([g(!0)],hs.prototype,"visible",void 0),Ni([g(!1)],hs.prototype,"enableResize",void 0),Ni([g(["South-East"])],hs.prototype,"resizeHandles",void 0),Ni([g("auto")],hs.prototype,"height",void 0),Ni([g("")],hs.prototype,"minHeight",void 0),Ni([g("100%")],hs.prototype,"width",void 0),Ni([g("")],hs.prototype,"cssClass",void 0),Ni([g(1e3)],hs.prototype,"zIndex",void 0),Ni([g(null)],hs.prototype,"target",void 0),Ni([g("")],hs.prototype,"footerTemplate",void 0),Ni([g(!1)],hs.prototype,"allowDragging",void 0),Ni([Di([{}],wC)],hs.prototype,"buttons",void 0),Ni([g(!0)],hs.prototype,"closeOnEscape",void 0),Ni([U({},_E)],hs.prototype,"animationSettings",void 0),Ni([U({X:"center",Y:"center"},s9)],hs.prototype,"position",void 0),Ni([F()],hs.prototype,"created",void 0),Ni([F()],hs.prototype,"open",void 0),Ni([F()],hs.prototype,"beforeSanitizeHtml",void 0),Ni([F()],hs.prototype,"beforeOpen",void 0),Ni([F()],hs.prototype,"close",void 0),Ni([F()],hs.prototype,"beforeClose",void 0),Ni([F()],hs.prototype,"dragStart",void 0),Ni([F()],hs.prototype,"dragStop",void 0),Ni([F()],hs.prototype,"drag",void 0),Ni([F()],hs.prototype,"overlayClick",void 0),Ni([F()],hs.prototype,"resizeStart",void 0),Ni([F()],hs.prototype,"resizing",void 0),Ni([F()],hs.prototype,"resizeStop",void 0),Ni([F()],hs.prototype,"destroyed",void 0),hs=Ni([ii],hs),function(n){function i(c,d){const u=new hs(c);return u.appendTo(d),u}function o(c,d){return c.header=f(d.title)?lI:d.title,c.content=f(d.content)?"":d.content,c.isModal=!!f(d.isModal)||d.isModal,c.showCloseIcon=!f(d.showCloseIcon)&&d.showCloseIcon,c.allowDragging=!f(d.isDraggable)&&d.isDraggable,c.closeOnEscape=!f(d.closeOnEscape)&&d.closeOnEscape,c.position=f(d.position)?{X:"center",Y:"top"}:d.position,c.animationSettings=f(d.animationSettings)?{effect:"Fade",duration:400,delay:0}:d.animationSettings,c.cssClass=f(d.cssClass)?"":d.cssClass,c.zIndex=f(d.zIndex)?1e3:d.zIndex,c.open=f(d.open)?null:d.open,c}function h(c,d,u){const p=u;return f(d.text)||(p.buttonModel.content=d.text),f(d.icon)||(p.buttonModel.iconCss=d.icon),f(d.cssClass)||(p.buttonModel.cssClass=d.cssClass),f(d.click)||(p.click=d.click),p}n.alert=function(c){const d=Ve("div",{className:w9});let u;return document.body.appendChild(d),u=i("string"==typeof c?{content:c,position:{X:"center",Y:"top"},isModal:!0,header:lI,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function(c){let d={buttons:[]};return d=o(d,c),d=function(c,d){const u=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return f(d.okButton)?c.buttons=u:c.buttons[0]=h(0,d.okButton,u[0]),c}(d,c),d}(c),d),u.close=()=>{c&&c.close&&c.close.apply(u),u.destroy(),u.element.classList.contains("e-dlg-modal")?(u.element.parentElement.remove(),u.target.classList.remove(C9)):u.element.remove()},u},n.confirm=function(c){const d=Ve("div",{className:S9});let u;return document.body.appendChild(d),u=i("string"==typeof c?{position:{X:"center",Y:"top"},content:c,isModal:!0,header:lI,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function(c){let d={buttons:[]};return d=o(d,c),d=function(c,d){const u={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},p={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return c.buttons[0]=f(d.okButton)?u:h(0,d.okButton,u),c.buttons[1]=f(d.cancelButton)?p:h(0,d.cancelButton,p),c}(d,c),d}(c),d),u.close=()=>{c&&c.close&&c.close.apply(u),u.destroy(),u.element.classList.contains("e-dlg-modal")?(u.element.parentElement.remove(),u.target.classList.remove(C9)):u.element.remove()},u}}(x9||(x9={}));var en=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const dI="e-tooltip",uI="e-tooltip-wrap",D9="e-tip-content",_C="e-arrow-tip",M9="e-arrow-tip-outer",ME="e-arrow-tip-inner",xC="e-tip-bottom",pI="e-tip-top",k9="e-tip-left",fI="e-tip-right",mI="e-popup",kE="e-popup-open",gI="e-popup-close";class yI extends he{}en([g({effect:"FadeIn",duration:150,delay:0})],yI.prototype,"open",void 0),en([g({effect:"FadeOut",duration:150,delay:0})],yI.prototype,"close",void 0);let js=class extends $i{constructor(e,t){super(e,t),this.mouseMoveEvent=null,this.mouseMoveTarget=null}initialize(){this.formatPosition(),B([this.element],dI)}formatPosition(){0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?[this.tooltipPositionY,this.tooltipPositionX]=this.position.split(/(?=[A-Z])/):[this.tooltipPositionX,this.tooltipPositionY]=this.position.split(/(?=[A-Z])/)}renderArrow(){this.setTipClass(this.position);const e=this.createElement("div",{className:_C+" "+this.tipClass});e.appendChild(this.createElement("div",{className:M9+" "+this.tipClass})),e.appendChild(this.createElement("div",{className:ME+" "+this.tipClass})),this.tooltipEle.appendChild(e)}setTipClass(e){this.tipClass=0===e.indexOf("Right")?k9:0===e.indexOf("Bottom")?pI:0===e.indexOf("Left")?fI:xC}renderPopup(e){const t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove("e-lib"),this.popupObj=new rc(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})}getTooltipPosition(e){this.tooltipEle.style.display="block";const t=Eo(e,this.tooltipPositionX,this.tooltipPositionY),i=this.calculateTooltipOffset(this.position),s=this.collisionFlipFit(e,t.left+i.left,t.top+i.top);return this.tooltipEle.style.display="",s}windowResize(){this.reposition(this.findTarget())}reposition(e){if(this.popupObj&&e){const t=this.getTooltipPosition(e);this.popupObj.position={X:t.left,Y:t.top},this.popupObj.dataBind()}}openPopupHandler(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs)}closePopupHandler(){this.clearTemplate(["content"]),this.clear(),this.trigger("afterClose",this.tooltipEventArgs)}calculateTooltipOffset(e){const t={top:0,left:0},i=this.tooltipEle.offsetWidth,s=this.tooltipEle.offsetHeight,r=W("."+_C,this.tooltipEle),o=r?r.offsetWidth:0,a=r?r.offsetHeight:0;let l=this.showTipPointer?0:8;const h=a/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),c=o/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(l+=2),e){case"RightTop":t.left+=o+l,t.top-=s-h;break;case"RightCenter":t.left+=o+l,t.top-=s/2;break;case"RightBottom":t.left+=o+l,t.top-=h;break;case"BottomRight":t.top+=a+l,t.left-=c;break;case"BottomCenter":t.top+=a+l,t.left-=i/2;break;case"BottomLeft":t.top+=a+l,t.left-=i-c;break;case"LeftBottom":t.left-=o+i+l,t.top-=h;break;case"LeftCenter":t.left-=o+i+l,t.top-=s/2;break;case"LeftTop":t.left-=o+i+l,t.top-=s-h;break;case"TopLeft":t.top-=s+a+l,t.left-=i-c;break;case"TopRight":t.top-=s+a+l,t.left-=c;break;default:t.top-=s+a+l,t.left-=i/2}return t.left+=this.offsetX,t.top+=this.offsetY,t}updateTipPosition(e){const t=Ae("."+_C+",."+M9+",."+ME,this.tooltipEle);z(t,[xC,pI,k9,fI]),this.setTipClass(e),B(t,this.tipClass)}adjustArrow(e,t,i,s){if(!1===this.showTipPointer)return;let r,o;this.updateTipPosition(t),this.tooltipEle.style.display="block";const a=this.tooltipEle.clientWidth,l=this.tooltipEle.clientHeight,h=W("."+_C,this.tooltipEle),c=W("."+ME,this.tooltipEle),d=h.offsetWidth,u=h.offsetHeight;if(this.tooltipEle.style.display="",this.tipClass===xC||this.tipClass===pI){if(this.tipClass===xC?(o="99.9%",c.style.top="-"+(u-2)+"px"):(o=-(u-1)+"px",c.style.top="-"+(u-6)+"px"),e){const p="Center"!==i||a>e.offsetWidth||this.mouseTrail;r=p&&"Left"===i||!p&&"End"===this.tipPointerPosition?a-d-2+"px":p&&"Right"===i||!p&&"Start"===this.tipPointerPosition?"2px":a/2-d/2+"px"}}else{this.tipClass===fI?(r="99.9%",c.style.left="-"+(d-2)+"px"):(r=-(d-1)+"px",c.style.left=d-2-d+"px");const p="Center"!==s||l>e.offsetHeight||this.mouseTrail;o=p&&"Top"===s||!p&&"End"===this.tipPointerPosition?l-u-2+"px":p&&"Bottom"===s||!p&&"Start"===this.tipPointerPosition?"2px":l/2-u/2+"px"}h.style.top=o,h.style.left=r}renderContent(e){const t=W("."+D9,this.tooltipEle);if(this.cssClass&&B([this.tooltipEle],this.cssClass.split(" ")),e&&!f(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),f(this.content))e&&!f(e.getAttribute("data-content"))&&(t.innerHTML=e.getAttribute("data-content"));else if(t.innerHTML="",this.content instanceof HTMLElement)t.appendChild(this.content);else if("string"==typeof this.content)this.enableHtmlSanitizer&&this.setProperties({content:Zn.sanitize(this.content)},!0),t[this.enableHtmlParse?"innerHTML":"textContent"]=this.content;else{const s=Lr(this.content)({},this,"content",this.element.id+"content",void 0,void 0,t);s&&ys(s,t),this.renderReactTemplates()}}renderCloseIcon(){if(!this.isSticky)return;const e=this.createElement("div",{className:"e-icons e-tooltip-close"});this.tooltipEle.appendChild(e),S.add(e,T.touchStartEvent,this.onStickyClose,this)}addDescribedBy(e,t){const i=(e.getAttribute("aria-describedby")||"").split(/\s+/);i.indexOf(t)<0&&i.push(t),we(e,{"aria-describedby":i.join(" ").trim(),"data-tooltip-id":t})}removeDescribedBy(e){const t=e.getAttribute("data-tooltip-id"),i=(e.getAttribute("aria-describedby")||"").split(/\s+/),s=i.indexOf(t);-1!==s&&i.splice(s,1),e.removeAttribute("data-tooltip-id");const r=i.join(" ").trim();r?e.setAttribute("aria-describedby",r):e.removeAttribute("aria-describedby")}tapHoldHandler(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)}touchEndHandler(e){this.isSticky||(this.autoCloseTimer=setTimeout(()=>{this.close()},1500))}targetClick(e){let t;t=this.target?K(e.target,this.target):this.element,!f(t)&&(null===t.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,t))}targetHover(e){let t;if(t=this.target?K(e.target,this.target):this.element,f(t)||null!==t.getAttribute("data-tooltip-id")&&0===this.closeDelay)return;const i=[].slice.call(Ae('[data-tooltip-id= "'+this.ctrlId+'_content"]',document));for(const s of i)this.restoreElement(s);this.showTooltip(t,this.animation.open,e)}mouseMoveBeforeOpen(e){this.mouseMoveEvent=e}mouseMoveBeforeRemove(){this.mouseMoveTarget&&S.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)}showTooltip(e,t,i){clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=e,S.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:e,event:i||null,element:this.tooltipEle,isInteracted:!f(i)},this.trigger("beforeRender",this.tooltipEventArgs,(r=>{this.beforeRenderCallback(r,e,i,t)}).bind(this))}beforeRenderCallback(e,t,i,s){e.cancel?(this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove()):(this.isHidden=!1,f(this.tooltipEle)?(this.ctrlId=this.element.getAttribute("id")?Us(this.element.getAttribute("id")):Us("tooltip"),this.tooltipEle=this.createElement("div",{className:uI+" "+mI+" e-lib",attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+Be(this.width)+";height:"+Be(this.height)+";position:absolute;"}),this.tooltipBeforeRender(t,this),this.tooltipAfterRender(t,i,s,this)):t&&(this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),qt.stop(this.tooltipEle),this.reposition(t),this.tooltipAfterRender(t,i,s,this)))}tooltipBeforeRender(e,t){e&&(T.isDevice&&B([t.tooltipEle],"e-bigger"),"auto"!==t.width&&(t.tooltipEle.style.maxWidth=Be(t.width)),t.tooltipEle.appendChild(t.createElement("div",{className:D9})),document.body.appendChild(t.tooltipEle),z([t.tooltipEle],"e-hidden"),t.addDescribedBy(e,t.ctrlId+"_content"),t.renderContent(e),B([t.tooltipEle],kE),t.showTipPointer&&t.renderArrow(),t.renderCloseIcon(),t.renderPopup(e),t.adjustArrow(e,t.position,t.tooltipPositionX,t.tooltipPositionY),qt.stop(t.tooltipEle),t.reposition(e))}tooltipAfterRender(e,t,i,s){if(e){z([s.tooltipEle],kE),B([s.tooltipEle],gI),s.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:e,event:t||null,element:s.tooltipEle,isInteracted:!f(t)},s.needTemplateReposition()&&!s.mouseTrail&&(s.tooltipEle.style.display="none");const r=o=>{s.beforeOpenCallback(o,e,i,t)};s.trigger("beforeOpen",s.tooltipEventArgs,r.bind(s))}}beforeOpenCallback(e,t,i,s){if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(t);else{let r={name:i.effect,duration:i.duration,delay:i.delay,timingFunction:"easeOut"};"None"===i.effect&&(r=void 0),this.openDelay>0?this.showTimer=setTimeout(()=>{this.mouseTrail&&S.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this),this.popupObj&&(this.popupObj.show(r,t),this.mouseMoveEvent&&this.mouseTrail&&this.onMouseMove(this.mouseMoveEvent))},this.openDelay):this.popupObj&&this.popupObj.show(r,t)}s&&this.wireMouseEvents(s,t)}needTemplateReposition(){return!f(this.viewContainerRef)&&"string"!=typeof this.viewContainerRef}checkCollision(e,t,i){const s={left:t,top:i,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},r=tm(this.tooltipEle,this.checkCollideTarget(),t,i);return r.length>0&&(s.horizontal=r.indexOf("left")>=0?"Right":r.indexOf("right")>=0?"Left":this.tooltipPositionX,s.vertical=r.indexOf("top")>=0?"Bottom":r.indexOf("bottom")>=0?"Top":this.tooltipPositionY),s}collisionFlipFit(e,t,i){const s=this.checkCollision(e,t,i);let r=s.position;if(this.tooltipPositionY!==s.vertical&&(r=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?s.vertical+this.tooltipPositionX:this.tooltipPositionX+s.vertical),this.tooltipPositionX!==s.horizontal&&(0===r.indexOf("Left")&&(s.vertical="LeftTop"===r||"LeftCenter"===r?"Top":"Bottom",r=s.vertical+"Left"),0===r.indexOf("Right")&&(s.vertical="RightTop"===r||"RightCenter"===r?"Top":"Bottom",r=s.vertical+"Right"),s.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:r},this.trigger("beforeCollision",this.tooltipEventArgs),s.position!==r){const l=Eo(e,s.horizontal,s.vertical);this.adjustArrow(e,r,s.horizontal,s.vertical);const h=this.calculateTooltipOffset(r);h.top-=-1!=="TopBottom".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="TopBottom".indexOf(r.split(/(?=[A-Z])/)[0])?2*this.offsetY:0,h.left-=-1!=="RightLeft".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="RightLeft".indexOf(r.split(/(?=[A-Z])/)[0])?2*this.offsetX:0,s.position=r,s.left=l.left+h.left,s.top=l.top+h.top}else this.adjustArrow(e,r,s.horizontal,s.vertical);const o={left:s.left,top:s.top},a=HR(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:!1},o).left;if(this.tooltipEle.style.display="block",this.showTipPointer&&(0===r.indexOf("Bottom")||0===r.indexOf("Top"))){const l=W("."+_C,this.tooltipEle);let h=parseInt(l.style.left,10)-(a-s.left);h<0?h=0:h+l.offsetWidth>this.tooltipEle.clientWidth&&(h=this.tooltipEle.clientWidth-l.offsetWidth),l.style.left=h.toString()+"px"}return this.tooltipEle.style.display="",o.left=a,o}checkCollideTarget(){return!this.windowCollision&&this.target?this.element:null}hideTooltip(e,t,i){this.closeDelay>0?(clearTimeout(this.hideTimer),clearTimeout(this.showTimer),this.hideTimer=setTimeout(()=>{this.closeDelay&&this.tooltipEle&&this.isTooltipOpen||this.tooltipHide(e,t,i)},this.closeDelay)):this.tooltipHide(e,t,i)}tooltipHide(e,t,i){let s;s=t?this.target?i||t.target:this.element:W('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:s,event:t||null,element:this.tooltipEle,isInteracted:!f(t)},this.trigger("beforeClose",this.tooltipEventArgs,r=>{r.cancel?this.isHidden=!1:(this.mouseMoveBeforeRemove(),this.popupHide(e,s))})}popupHide(e,t){t&&this.restoreElement(t),this.isHidden=!0;let i={name:e.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};"None"===e.effect&&(i=void 0),this.popupObj&&this.popupObj.hide(i)}restoreElement(e){this.unwireMouseEvents(e),f(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)}clear(){this.tooltipEle&&(z([this.tooltipEle],gI),B([this.tooltipEle],kE)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&Ue(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)}tooltipHover(e){this.tooltipEle&&(this.isTooltipOpen=!0)}tooltipMouseOut(e){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,e,this.findTarget())}onMouseOut(e){const t=e.relatedTarget;if(t&&!this.mouseTrail){const i=K(t,`.${uI}.e-lib.${mI}`);i?S.add(i,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear()}tooltipElementMouseOut(e){this.hideTooltip(this.animation.close,e,this.findTarget()),S.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()}onStickyClose(e){this.close()}onMouseMove(e){let t=0,i=0;e.type.indexOf("touch")>-1?(e.preventDefault(),t=e.touches[0].pageX,i=e.touches[0].pageY):(t=e.pageX,i=e.pageY),qt.stop(this.tooltipEle),z([this.tooltipEle],gI),B([this.tooltipEle],kE),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);const s=this.calculateTooltipOffset(this.position),a=this.checkCollision(e.target,t+s.left+this.offsetX,i+s.top+this.offsetY);if(this.tooltipPositionX!==a.horizontal||this.tooltipPositionY!==a.vertical){const l=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?a.vertical+a.horizontal:a.horizontal+a.vertical;a.position=l,this.adjustArrow(e.target,a.position,a.horizontal,a.vertical);const h=this.calculateTooltipOffset(a.position);a.left=t+h.left-this.offsetX,a.top=i+h.top-this.offsetY}this.tooltipEle.style.left=a.left+"px",this.tooltipEle.style.top=a.top+"px"}keyDown(e){this.tooltipEle&&27===e.keyCode&&this.close()}touchEnd(e){this.tooltipEle&&null===K(e.target,"."+dI)&&!this.isSticky&&this.close()}scrollHandler(e){this.tooltipEle&&(K(e.target,`.${uI}.e-lib.${mI}`)||this.close())}render(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()}preRender(){this.tipClass=xC,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0}wireEvents(e){const t=this.getTriggerList(e);for(const i of t){if("Custom"===i)return;"Focus"===i&&this.wireFocusEvents(),"Click"===i&&S.add(this.element,T.touchStartEvent,this.targetClick,this),"Hover"===i&&(T.isDevice?(this.touchModule=new wn(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),S.add(this.element,T.touchEndEvent,this.touchEndHandler,this)):S.add(this.element,"mouseover",this.targetHover,this))}S.add(document,"touchend",this.touchEnd,this),S.add(document,"scroll wheel",this.scrollHandler,this),S.add(window,"resize",this.windowResize,this),S.add(document,"keydown",this.keyDown,this)}getTriggerList(e){return"Auto"===e&&(e=T.isDevice?"Hover":"Hover Focus"),e.split(" ")}wireFocusEvents(){if(f(this.target))S.add(this.element,"focus",this.targetHover,this);else{const e=[].slice.call(Ae(this.target,this.element));for(const t of e)S.add(t,"focus",this.targetHover,this)}}wireMouseEvents(e,t){this.tooltipEle&&(this.isSticky||("focus"===e.type&&S.add(t,"blur",this.onMouseOut,this),"mouseover"===e.type&&S.add(t,"mouseleave",this.onMouseOut,this),this.closeDelay&&(S.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),S.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&0===this.openDelay&&S.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))}unwireEvents(e){const t=this.getTriggerList(e);for(const i of t){if("Custom"===i)return;"Focus"===i&&this.unwireFocusEvents(),"Click"===i&&S.remove(this.element,T.touchStartEvent,this.targetClick),"Hover"===i&&(T.isDevice?(this.touchModule&&this.touchModule.destroy(),S.remove(this.element,T.touchEndEvent,this.touchEndHandler)):S.remove(this.element,"mouseover",this.targetHover))}S.remove(document,"touchend",this.touchEnd),S.remove(document,"scroll wheel",this.scrollHandler),S.remove(window,"resize",this.windowResize),S.remove(document,"keydown",this.keyDown)}unwireFocusEvents(){if(f(this.target))S.remove(this.element,"focus",this.targetHover);else{const e=[].slice.call(Ae(this.target,this.element));for(const t of e)S.remove(t,"focus",this.targetHover)}}unwireMouseEvents(e){if(!this.isSticky){const t=this.getTriggerList(this.opensOn);for(const i of t)"Focus"===i&&S.remove(e,"blur",this.onMouseOut),"Hover"===i&&!T.isDevice&&S.remove(e,"mouseleave",this.onMouseOut);this.closeDelay&&(S.remove(e,"mouseenter",this.tooltipHover),S.remove(e,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&S.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)}findTarget(){return W('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)}getModuleName(){return"tooltip"}getPersistData(){return this.addOnPersist([])}onPropertyChanged(e,t){const i=this.findTarget();for(const s of Object.keys(e))switch(s){case"width":this.tooltipEle&&i&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=Be(e.width),this.reposition(i));break;case"height":this.tooltipEle&&i&&(this.tooltipEle.style.height=Be(e.height),this.reposition(i));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(t.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&i){const r=W("."+ME,this.tooltipEle);r.style.top=r.style.left=null,this.reposition(i)}break;case"tipPointerPosition":this.tooltipEle&&i&&this.reposition(i);break;case"offsetX":if(this.tooltipEle){const r=e.offsetX-t.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+r).toString()+"px"}break;case"offsetY":if(this.tooltipEle){const r=e.offsetY-t.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+r).toString()+"px"}break;case"cssClass":this.tooltipEle&&(t.cssClass&&z([this.tooltipEle],t.cssClass.split(" ")),e.cssClass&&B([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?B([this.tooltipEle],"e-rtl"):z([this.tooltipEle],"e-rtl"))}}open(e,t){f(t)&&(t=this.animation.open),f(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,t)}close(e){e||(e=this.animation.close),this.hideTooltip(e)}refresh(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e)}destroy(){super.destroy(),this.tooltipEle&&Ue(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),z([this.element],dI),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null}};en([g("auto")],js.prototype,"width",void 0),en([g("auto")],js.prototype,"height",void 0),en([g()],js.prototype,"content",void 0),en([g()],js.prototype,"target",void 0),en([g("TopCenter")],js.prototype,"position",void 0),en([g(0)],js.prototype,"offsetX",void 0),en([g(0)],js.prototype,"offsetY",void 0),en([g(!0)],js.prototype,"showTipPointer",void 0),en([g(!0)],js.prototype,"enableHtmlParse",void 0),en([g(!1)],js.prototype,"windowCollision",void 0),en([g("Auto")],js.prototype,"tipPointerPosition",void 0),en([g("Auto")],js.prototype,"opensOn",void 0),en([g(!1)],js.prototype,"mouseTrail",void 0),en([g(!1)],js.prototype,"isSticky",void 0),en([U({},yI)],js.prototype,"animation",void 0),en([g(0)],js.prototype,"openDelay",void 0),en([g(0)],js.prototype,"closeDelay",void 0),en([g()],js.prototype,"cssClass",void 0),en([g(!1)],js.prototype,"enableHtmlSanitizer",void 0),en([F()],js.prototype,"beforeRender",void 0),en([F()],js.prototype,"beforeOpen",void 0),en([F()],js.prototype,"afterOpen",void 0),en([F()],js.prototype,"beforeClose",void 0),en([F()],js.prototype,"afterClose",void 0),en([F()],js.prototype,"beforeCollision",void 0),en([F()],js.prototype,"created",void 0),en([F()],js.prototype,"destroyed",void 0),js=en([ii],js);const Wo={},EC="e-spin-show",DC="e-spin-hide",T9="e-spin-material",L9="e-spin-fabric",R9="e-spin-tailwind",rbe="e-spin-bootstrap",I9="e-spin-bootstrap4",P9="e-spin-bootstrap5",O9="e-spin-high-contrast",TE="e-spinner-pane",bI="e-spinner-inner",LE="e-path-circle",RE="e-spin-template";function Gy(n,e){if(!n.target)return;let t;const i=f(e)?Ve:e;let s=function(n,e){const t=e("div",{}),i=e("div",{});return t.classList.add(TE),i.classList.add(bI),n.appendChild(t),t.appendChild(i),{wrap:t,inner_wrap:i}}(n.target,i);if(f(n.cssClass)||s.wrap.classList.add(n.cssClass),f(n.template)&&f(null)){const r=f(n.type)?function(n){return window.getComputedStyle(n,":after").getPropertyValue("content").replace(/['"]+/g,"")}(s.wrap):n.type;t=function(n,e){let t;switch(e){case"Material":case"Fabric":t=30;break;case"Tailwind":case"Tailwind-dark":t=30;break;case"Bootstrap4":case"Bootstrap5":t=36;break;default:t=30}return n=n?parseFloat(n+""):t,"Bootstrap"===e?n:n/2}(f(n.width)?void 0:n.width,r),function(n,e,t,i){const s=e.querySelector("."+bI),r=s.querySelector("svg");switch(f(r)||s.removeChild(r),n){case"Material":!function(n,e,t){const i=rm();Wo[i]={timeOut:0,type:"Material",radius:e},wI(n,i,0,T9),SI(e,n,"Material",T9)}(s,t);break;case"Fabric":!function(n,e,t){const i=rm();Wo[i]={timeOut:0,type:"Fabric",radius:e},CI(n,i,L9),_I(e,n,L9)}(s,t);break;case"Bootstrap":!function(n,e,t){const i=rm();Wo[i]={timeOut:0,type:"Bootstrap",radius:e},function(n,e,t){const i=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=64,r=32,o=2;i.setAttribute("id",e),i.setAttribute("class",rbe),i.setAttribute("viewBox","0 0 "+s+" "+s),n.insertBefore(i,n.firstChild);for(let a=0;a<=7;a++){const l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("class",LE+"_"+a),l.setAttribute("r",o+""),l.setAttribute("transform","translate("+r+","+r+")"),i.appendChild(l)}}(n,i),function(n,e){const t=n.querySelector("svg.e-spin-bootstrap"),i=0,s=0,r=24;t.style.width=t.style.height=e+"px";let o=90;for(let a=0;a<=7;a++){const l=xI(i,s,r,o),h=t.querySelector("."+LE+"_"+a);h.setAttribute("cx",l.x+""),h.setAttribute("cy",l.y+""),o=o>=360?0:o,o+=45}}(n,e)}(s,t);break;case"HighContrast":!function(n,e,t){const i=rm();Wo[i]={timeOut:0,type:"HighContrast",radius:e},CI(n,i,O9),_I(e,n,O9)}(s,t);break;case"Bootstrap4":!function(n,e,t){const i=rm();Wo[i]={timeOut:0,type:"Bootstrap4",radius:e},wI(n,i,0,I9),SI(e,n,"Bootstrap4",I9)}(s,t);break;case"Bootstrap5":!function(n,e,t){const i=rm();Wo[i]={timeOut:0,type:"Bootstrap5",radius:e},wI(n,i,0,P9),SI(e,n,"Bootstrap5",P9)}(s,t);break;case"Tailwind":case"Tailwind-dark":!function(n,e,t){const i=rm();Wo[i]={timeOut:0,type:"Tailwind",radius:e},CI(n,i,R9),_I(e,n,R9)}(s,t)}}(r,s.wrap,t),f(n.label)||function(n,e,t){const i=t("div",{});i.classList.add("e-spin-label"),i.innerHTML=e,n.appendChild(i)}(s.inner_wrap,n.label,i)}else{const r=f(n.template)?null:n.template;s.wrap.classList.add(RE),function(n,e,t){f(null)||n.classList.add(null),n.querySelector(".e-spinner-inner").innerHTML=e}(s.wrap,r)}s.wrap.classList.add(DC),s=null}function Cbe(n,e){const t=[],i=n,s=e;let r=!1,o=1;return function a(l){t.push(l),(l!==s||1===o)&&(l<=i&&l>1&&!r?l=parseFloat((l-.2).toFixed(2)):1===l?(l=7,l=parseFloat((l+.2).toFixed(2)),r=!0):l<8&&r?8===(l=parseFloat((l+.2).toFixed(2)))&&(r=!1):l<=8&&!r&&(l=parseFloat((l-.2).toFixed(2))),++o,a(l))}(i),t}function rm(){let n="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let t=0;t<5;t++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}function CI(n,e,t,i){const s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("id",e),s.setAttribute("class",t);const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("class",LE);const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("class","e-path-arc"),n.insertBefore(s,n.firstChild),s.appendChild(r),s.appendChild(o)}function wI(n,e,t,i){const s=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class",i),s.setAttribute("id",e),r.setAttribute("class",LE),n.insertBefore(s,n.firstChild),s.appendChild(r)}function N9(n){(function(n,e,t,i,s,r,o){const a=++o.globalInfo[o.uniqueID].previousId,l=(new Date).getTime(),c=function(n){return parseFloat(n)}(2*o.globalInfo[o.uniqueID].radius+""),d=B9(c),u=-90*(o.globalInfo[o.uniqueID].count||0);!function p(y){const b=Math.max(0,Math.min((new Date).getTime()-l,i));(function(y,b){if(!f(b.querySelector("svg.e-spin-material"))&&!f(b.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))){const C=b.querySelector("svg.e-spin-material").querySelector("path.e-path-circle");C.setAttribute("stroke-dashoffset",V9(c,d,y,75)+""),C.setAttribute("transform","rotate("+u+" "+c/2+" "+c/2+")")}})(t(b,1,148,i),y.container),a===y.globalInfo[y.uniqueID].previousId&&b<i?Wo[y.uniqueID].timeOut=setTimeout(p.bind(null,y),1):N9(y)}(o)})(0,0,Abe,1333,0,0,n),n.globalInfo[n.uniqueID].count=++n.globalInfo[n.uniqueID].count%4}function SI(n,e,t,i){const s=2*n,r=e.querySelector("svg."+i),o=r.querySelector("path.e-path-circle"),a=B9(s),l=s/2+"px";r.setAttribute("viewBox","0 0 "+s+" "+s),r.style.width=r.style.height=s+"px",r.style.transformOrigin=l+" "+l+" "+l,o.setAttribute("d",function(n,e){const t=n/2,i=e/2;return"M"+t+","+i+"A"+(t-i)+","+(t-i)+" 0 1 1 "+i+","+t}(s,a)),"Material"===t&&(o.setAttribute("stroke-width",a+""),o.setAttribute("stroke-dasharray",(s-a)*Math.PI*.75+""),o.setAttribute("stroke-dashoffset",V9(s,a,1,75)+""))}function B9(n){return.1*n}function V9(n,e,t,i){return(n-e)*Math.PI*(3*i/100-t/100)}function Abe(n,e,t,i){const s=(n/=i)*n,r=s*n;return e+t*(6*r*s+-15*s*s+10*r)}function _I(n,e,t){const i=n,s=n,r=2*n,l=e.querySelector("."+t),h=l.querySelector(".e-path-circle"),c=l.querySelector(".e-path-arc"),d=r/2+"px";h.setAttribute("d",function(n,e,t){return["M",n,e,"m",-t,0,"a",t,t,0,1,0,2*t,0,"a",t,t,0,1,0,2*-t,0].join(" ")}(i,s,n)),c.setAttribute("d",function(n,e,t,i,s){const r=xI(n,e,t,45),o=xI(n,e,t,315);return["M",r.x,r.y,"A",t,t,0,0,0,o.x,o.y].join(" ")}(i,s,n)),l.setAttribute("viewBox","0 0 "+r+" "+r),l.style.transformOrigin=d+" "+d+" "+d,l.style.width=l.style.height=r+"px"}function xI(n,e,t,i){const s=(i-90)*Math.PI/180;return{x:n+t*Math.cos(s),y:e+t*Math.sin(s)}}function Ap(n){H9(n,!1),n=null}function H9(n,e){let t;if(n&&(t=n.classList.contains(TE)?n:n.querySelector("."+TE)),n&&t){const i=t.querySelector("."+bI);let s;if(s=e?!t.classList.contains(RE)&&!t.classList.contains(DC):!t.classList.contains(RE)&&!t.classList.contains(EC),s){const r=t.querySelector("svg");if(f(r))return;const o=r.getAttribute("id");switch(Wo[o].isAnimate=!e,Wo[o].type){case"Material":e?clearTimeout(Wo[o].timeOut):function(n,e,t){const i={};Wo[e].timeOut=0,i[e]=function(n,e,t,i){return{radius:e,count:0,previousId:0}}(0,t),N9({uniqueID:e,container:n,globalInfo:i,timeOutVar:0})}(i,o,Wo[o].radius);break;case"Bootstrap":e?clearTimeout(Wo[o].timeOut):function(n){const t=n.querySelector("svg.e-spin-bootstrap").getAttribute("id");for(let s=1;s<=8;s++)i(n.getElementsByClassName("e-path-circle_"+(8===s?0:s))[0],s,0,Cbe(s,s),t);function i(s,r,o,a,l){let h=0;!function c(d){Wo[l].isAnimate&&(++h,s.setAttribute("r",d+""),h>=a.length&&(h=0),Wo[l].timeOut=setTimeout(c.bind(null,a[h]),18))}(r)}}(i)}}e?Al(t,[DC],[EC]):Al(t,[EC],[DC]),n=null}}function cd(n){H9(n,!0),n=null}var Yy=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};function MC(n,e){const t=fe({},n);for(const i of Object.keys(t))e.indexOf(i)<0&&ZL(t,i);return t}function Obe(n,e){const t=40===e?0:n.childElementCount-1;let s,i=t;const r=n.querySelector(".e-selected");r&&r.classList.remove("e-selected");for(let o=0,a=n.children.length;o<a;o++)n.children[o].classList.contains("e-focused")&&(s=n.children[o],i=o,s.classList.remove("e-focused"),40===e?i++:i--,i===(40===e?n.childElementCount:-1)&&(i=t));s=n.children[i],i=j9(n,s,i,e),-1!==i&&(B([n.children[i]],"e-focused"),n.children[i].focus())}function j9(n,e,t,i,s=0){if((e.classList.contains("e-separator")||e.classList.contains("e-disabled"))&&(t===(40===i?n.childElementCount-1:0)?t=40===i?0:n.childElementCount-1:40===i?t++:t--),(e=n.children[t]).classList.contains("e-separator")||e.classList.contains("e-disabled")){if(++s===n.childElementCount)return-1;t=j9(n,e,t,i,s)}return t}let EI=(()=>{class n extends he{}return Yy([g("")],n.prototype,"iconCss",void 0),Yy([g("")],n.prototype,"id",void 0),Yy([g(!1)],n.prototype,"separator",void 0),Yy([g("")],n.prototype,"text",void 0),Yy([g("")],n.prototype,"url",void 0),Yy([g(!1)],n.prototype,"disabled",void 0),n})();var Uo=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Qn=class extends $i{constructor(e,t){super(e,t),this.isPopupCreated=!0}preRender(){}getPersistData(){return this.addOnPersist([])}toggle(){this.canOpen()?this.openPopUp():this.closePopup()}render(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}addItems(e,t){let i,s=this.items.length;for(let r=0,o=this.items.length;r<o;r++)if(t===this.items[r].text){s=r;break}for(let r=e.length-1;r>=0;r--)i=new EI(this,"items",e[r],!0),this.items.splice(s,0,i);this.canOpen()||this.createItems()}removeItems(e,t){let i=!1;for(let s=0,r=e.length;s<r;s++)for(let o=0,a=this.items.length;o<a;o++)if(e[s]===(t?this.items[o].id:this.items[o].text)){this.items.splice(o,1),i=!0;break}i&&this.getULElement()&&this.createItems()}createPopup(){const e=this.createElement("div",{className:"e-dropdown-popup",id:this.element.id+"-popup"});document.body.appendChild(e),this.dropDown=new rc(e,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),"fixed"===this.dropDown.element.style.position&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),we(this.element,{"aria-haspopup":this.items.length||this.target?"true":"false","aria-expanded":"false","aria-owns":this.getPopUpElement().id,type:"button","aria-label":this.element.textContent+" dropdownbutton"}),this.cssClass&&B([e],this.cssClass.split(" ")),this.isPopupCreated=!0}getTargetElement(){return"string"==typeof this.target?W(this.target):this.target}createItems(e){const t=this.items,i=this.hasIcon(this.items,"iconCss");let s,r,o,a,l=this.getULElement();l?l.innerHTML="":l=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}});for(let h=0;h<t.length;h++){r=t[h];const c=this.enableHtmlSanitizer?Zn.sanitize(r.text):r.text;o=this.createElement("li",{innerHTML:r.url?"":c,className:r.separator?"e-item e-separator":"e-item",attrs:{role:"menuItem",tabindex:"-1"},id:r.id?r.id:Us("e-"+this.getModuleName()+"-item")}),r.url&&(o.appendChild(this.createAnchor(r)),o.classList.add("e-url")),r.iconCss?(s=this.createElement("span",{className:"e-menu-icon "+r.iconCss}),r.url?o.childNodes[0].appendChild(s):o.insertBefore(s,o.childNodes[0])):i&&!r.separator&&o.classList.add("e-blank-icon"),r.disabled&&o.classList.add("e-disabled"),a={item:r,element:o},this.trigger("beforeItemRender",a),l.appendChild(o)}e&&this.getPopUpElement().appendChild(l),i&&function(n){const e=[].slice.call(n.getElementsByClassName("e-blank-icon"));if(!e.length)return;let t=n.querySelector(".e-item:not(.e-blank-icon):not(.e-separator)");t.classList.contains("e-url")&&(t=t.querySelector(".e-menu-url"));const i=t.querySelector(".e-menu-icon");let s;const r=n.classList.contains("e-rtl");s=r?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"};let o=`${parseInt(getComputedStyle(i).fontSize,10)+parseInt(getComputedStyle(i)[s.margin],10)+parseInt(getComputedStyle(t).paddingLeft,10)}px`;e.forEach(a=>{a.classList.contains("e-url")?a.querySelector(".e-menu-url").style[s.padding]=o:a.style[s.padding]=o})}(this.getPopUpElement())}hasIcon(e,t){for(let i=0,s=e.length;i<s;i++)if(e[i][t])return!0;return!1}createAnchor(e){const t=this.enableHtmlSanitizer?Zn.sanitize(e.text):e.text;return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:t,attrs:{href:e.url}})}initialize(){this.button=new uh({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=Us("e-"+this.getModuleName())),this.appendArrowSpan(),this.setActiveElem([this.element]),this.target&&!this.isColorPicker()||!this.createPopupOnClick?this.createPopup():this.isPopupCreated=!1}isColorPicker(){if(!this.element)return!1;const e=this.element.previousSibling;return!!(e&&e.classList&&e.classList.contains("e-split-colorpicker"))}appendArrowSpan(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf("e-vertical")>-1?"bottom":"right")+" e-caret"}))}setActiveElem(e){this.activeElem=e}getModuleName(){return"dropdown-btn"}canOpen(){let e=!1;return this.isPopupCreated&&(e=this.getPopUpElement().classList.contains("e-popup-close")),e}destroy(){if(super.destroy(),"dropdown-btn"===this.getModuleName()){let e;this.element.querySelector("span.e-caret")&&ie(this.element.querySelector("span.e-caret")),this.cssClass&&(e=this.cssClass.split(" ")),this.button.destroy(),e&&z([this.element],e),z(this.activeElem,["e-active"]),(this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"]).forEach(i=>{this.element.removeAttribute(i)}),this.popupUnWireEvents(),this.destroyPopup(),this.isPopupCreated=!1,this.disabled||this.unWireEvents()}}destroyPopup(){if(this.isPopupCreated){if(this.dropDown.destroy(),this.getPopUpElement()){const e=document.getElementById(this.getPopUpElement().id);e&&(z([e],["e-popup-open","e-popup-close"]),ie(e))}S.remove(this.getPopUpElement(),"click",this.clickHandler),S.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.isPopupCreated&&(this.dropDown=void 0)}this.isPopupCreated=!1}getPopUpElement(){let e=null;return this.dropDown&&(e=this.dropDown.element),e}getULElement(){let e=null;return this.getPopUpElement()&&(e=this.getPopUpElement().children[0]),e}wireEvents(){this.delegateMousedownHandler=this.mousedownHandler.bind(this),this.createPopupOnClick||S.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),S.add(this.element,"click",this.clickHandler,this),S.add(this.element,"keydown",this.keyBoardHandler,this)}popupWireEvents(){const e=this.getPopUpElement();this.createPopupOnClick&&S.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),e&&(S.add(e,"click",this.clickHandler,this),S.add(e,"keydown",this.keyBoardHandler,this)),this.rippleFn=rn(e,{selector:".e-item"})}popupUnWireEvents(){const e=this.getPopUpElement();this.createPopupOnClick&&S.remove(document,"mousedown touchstart",this.delegateMousedownHandler),e&&e.parentElement&&(S.remove(e,"click",this.clickHandler),S.remove(e,"keydown",this.keyBoardHandler))}keyBoardHandler(e){if(e.target!==this.element||9!==e.keyCode&&(e.altKey||40!==e.keyCode)&&38!==e.keyCode)switch(e.keyCode){case 38:case 40:!e.altKey||38!==e.keyCode&&40!==e.keyCode?this.upDownKeyHandler(e):this.keyEventHandler(e);break;case 9:case 13:case 27:case 32:this.keyEventHandler(e)}}upDownKeyHandler(e){this.target&&(38===e.keyCode||40===e.keyCode)||(e.preventDefault(),Obe(this.getULElement(),e.keyCode))}keyEventHandler(e){this.target&&(13===e.keyCode||9===e.keyCode)||e.target&&e.target.className.indexOf("e-edit-template")>-1&&32===e.keyCode||(9!==e.keyCode&&e.preventDefault(),27===e.keyCode||38===e.keyCode||9===e.keyCode?this.canOpen()||this.closePopup(e,this.element):this.clickHandler(e))}getLI(e){return"LI"===e.tagName?e:K(e,"li")}mousedownHandler(e){const t=e.target;this.dropDown&&!this.canOpen()&&!K(t,'[id="'+this.getPopUpElement().id+'"]')&&!K(t,'[id="'+this.element.id+'"]')&&this.closePopup(e)}clickHandler(e){const t=e.target;if(K(t,'[id="'+this.element.id+'"]'))!this.createPopupOnClick||this.target&&!this.isColorPicker()?this.getPopUpElement().classList.contains("e-popup-close")?this.openPopUp(e):this.closePopup(e):this.isPopupCreated?this.closePopup(e,this.activeElem[0]):(this.createPopup(),this.openPopUp(e));else if(K(t,'[id="'+this.getPopUpElement().id+'"]')){let i,s,r;const o=this.getLI(t);o&&(s=Array.prototype.indexOf.call(this.getULElement().children,o),r=this.items[s],r&&(i={element:o,item:r},this.trigger("select",i)),this.closePopup(e,this.activeElem[0]))}}openPopUp(e=null){this.target||this.createItems(!0);const t=this.getULElement();this.popupWireEvents(),this.trigger("beforeOpen",{element:t,items:this.items,event:e,cancel:!1},s=>{if(!s.cancel){const r=this.getULElement();this.dropDown.show(null,this.element),B([this.element],"e-active"),this.element.setAttribute("aria-expanded","true"),r.focus(),this.trigger("open",{element:r,items:this.items})}})}closePopup(e=null,t){const s={element:this.getULElement(),items:this.items,event:e,cancel:!1};let r=this.getPopUpElement();r&&S.remove(r,"keydown",this.keyBoardHandler),this.trigger("beforeClose",s,o=>{if(!o.cancel){this.popupUnWireEvents();const a=this.getULElement(),l=a.querySelector(".e-selected");l&&l.classList.remove("e-selected"),this.dropDown.hide(),z(this.activeElem,"e-active"),this.element.setAttribute("aria-expanded","false"),t&&t.focus(),this.trigger("close",{element:a,items:this.items}),!this.target&&a&&ie(a),this.target||this.createPopupOnClick&&this.destroyPopup(),this.target&&(this.isPopupCreated=!this.createPopupOnClick)}})}unWireEvents(){this.createPopupOnClick||S.remove(document,"mousedown touchstart",this.delegateMousedownHandler),S.remove(this.element,"click",this.clickHandler),S.remove(this.element,"keydown",this.keyBoardHandler),this.isPopupCreated&&(S.remove(this.getPopUpElement(),"click",this.clickHandler),S.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler))}onPropertyChanged(e,t){let s;this.button.setProperties(MC(e,["content","cssClass","iconCss","iconPosition","disabled","enableRtl"])),this.isPopupCreated&&(s=this.getPopUpElement(),this.dropDown.setProperties(MC(e,["enableRtl"])));for(const r of Object.keys(e))switch(r){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":e.disabled?(this.unWireEvents(),this.isPopupCreated&&!this.canOpen()&&this.closePopup()):this.wireEvents();break;case"cssClass":e.cssClass.indexOf("e-vertical")>-1&&Al(this.element.querySelector("span.e-caret"),["e-icon-bottom"],["e-icon-right"]),this.isPopupCreated&&(t.cssClass&&z([s],t.cssClass.split(" ")),e.cssClass&&B([s],e.cssClass.split(" ")));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.isPopupCreated&&this.getULElement()&&this.createItems();break;case"createPopupOnClick":e.createPopupOnClick?this.destroyPopup():this.createPopup()}}focusIn(){this.element.focus()}};Uo([g("")],Qn.prototype,"content",void 0),Uo([g("")],Qn.prototype,"cssClass",void 0),Uo([g(!1)],Qn.prototype,"disabled",void 0),Uo([g("")],Qn.prototype,"iconCss",void 0),Uo([g("Left")],Qn.prototype,"iconPosition",void 0),Uo([g(!1)],Qn.prototype,"enableHtmlSanitizer",void 0),Uo([Di([],EI)],Qn.prototype,"items",void 0),Uo([g(!1)],Qn.prototype,"createPopupOnClick",void 0),Uo([g("")],Qn.prototype,"target",void 0),Uo([F()],Qn.prototype,"beforeItemRender",void 0),Uo([F()],Qn.prototype,"beforeOpen",void 0),Uo([F()],Qn.prototype,"beforeClose",void 0),Uo([F()],Qn.prototype,"close",void 0),Uo([F()],Qn.prototype,"open",void 0),Uo([F()],Qn.prototype,"select",void 0),Uo([F()],Qn.prototype,"created",void 0),Qn=Uo([ii],Qn);var Go=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const PE="e-rtl",DI="EJS-SPLITBUTTON";let ao=class extends Qn{constructor(e,t){super(e,t)}preRender(){let e=this.element;if(e.tagName===DI){const t=Q("ej2_instances",e),i=this.createElement("button",{attrs:{type:"button"}}),s=this.createElement(DI,{className:"e-"+this.getModuleName()+"-wrapper"});for(let r=0,o=e.attributes.length;r<o;r++)i.setAttribute(e.attributes[r].nodeName,e.attributes[r].nodeValue);e.parentNode.insertBefore(s,e),ie(e),e=i,s.appendChild(e),Oi("ej2_instances",t,e),this.wrapper=s,this.element=e}this.element.id||(this.element.id=Us("e-"+this.getModuleName()))}render(){this.initWrapper(),this.createPrimaryButton(),this.renderControl()}renderControl(){this.createSecondaryButton(),this.setActiveElem([this.element,this.secondaryBtnObj.element]),this.setAria(),this.wireEvents(),this.renderComplete()}addItems(e,t){super.addItems(e,t),this.secondaryBtnObj.items=this.items}removeItems(e,t){super.removeItems(e,t),this.secondaryBtnObj.items=this.items}initWrapper(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element)),this.element.classList.remove("e-"+this.getModuleName()),this.enableRtl&&this.wrapper.classList.add(PE),this.cssClass&&B([this.wrapper],this.cssClass.split(" "))}createPrimaryButton(){this.primaryBtnObj=new uh({cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled}),this.primaryBtnObj.createElement=this.createElement,this.primaryBtnObj.appendTo(this.element),this.element.classList.add("e-"+this.getModuleName()),this.element.type="button",this.wrapper.appendChild(this.element)}createSecondaryButton(){const e=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"});this.wrapper.appendChild(e);const t={cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target,createPopupOnClick:this.createPopupOnClick};t.beforeItemRender=i=>{this.createPopupOnClick&&(this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown),this.trigger("beforeItemRender",i)},t.open=i=>{this.trigger("open",i)},t.close=i=>{this.trigger("close",i)},t.select=i=>{this.trigger("select",i)},t.beforeOpen=i=>{const s=new OE;return this.trigger("beforeOpen",i,r=>{s.resolve(r)}),s},t.beforeClose=i=>{const s=new OE;return this.trigger("beforeClose",i,r=>{s.resolve(r)}),s},this.secondaryBtnObj=new Qn(t),this.secondaryBtnObj.createElement=this.createElement,this.secondaryBtnObj.appendTo(e),this.createPopupOnClick||(this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown),this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element],this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right")}setAria(){we(this.element,{"aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent+" splitbutton","aria-owns":this.element.id+"_dropdownbtn-popup"})}getModuleName(){return"split-btn"}toggle(){this.secondaryBtnObj.toggle()}destroy(){let e=[PE];if(this.cssClass&&(e=e.concat(this.cssClass.split(" "))),this.element){const t=document.getElementById(this.element.id);t&&t.parentElement===this.wrapper&&(this.wrapper.tagName===DI?(this.wrapper.innerHTML="",z([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),z([this.wrapper],this.cssClass.split(" "))):(z([this.element],e),["aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach(i=>{this.element.removeAttribute(i)}),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),Ue(this.wrapper)),this.unWireEvents())}this.primaryBtnObj.destroy(),this.secondaryBtnObj.destroy(),super.destroy(),this.element.getAttribute("class")||this.element.removeAttribute("class")}wireEvents(){S.add(this.element,"click",this.primaryBtnClickHandler,this),new Ds(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow"}})}unWireEvents(){S.remove(this.element,"click",this.primaryBtnClickHandler),kl(this.element,Ds).destroy()}primaryBtnClickHandler(){this.trigger("click",{element:this.element})}btnKeyBoardHandler(e){switch(e.action){case"altdownarrow":this.clickHandler(e)}}onPropertyChanged(e,t){let i=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"];this.primaryBtnObj.setProperties(MC(e,i)),i=["beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl","createPopupOnClick"],Object.keys(e).indexOf("items")>-1&&(this.secondaryBtnObj.items=e.items,this.secondaryBtnObj.dataBind()),this.secondaryBtnObj.setProperties(MC(e,i));for(const s of Object.keys(e))switch(s){case"cssClass":t.cssClass&&z([this.wrapper],t.cssClass.split(" ")),B([this.wrapper],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?B([this.wrapper],PE):z([this.wrapper],PE)}}focusIn(){this.element.focus()}};Go([g("")],ao.prototype,"content",void 0),Go([g("")],ao.prototype,"cssClass",void 0),Go([g(!1)],ao.prototype,"disabled",void 0),Go([g("")],ao.prototype,"iconCss",void 0),Go([g("Left")],ao.prototype,"iconPosition",void 0),Go([g(!1)],ao.prototype,"createPopupOnClick",void 0),Go([Di([],EI)],ao.prototype,"items",void 0),Go([g("")],ao.prototype,"target",void 0),Go([F()],ao.prototype,"beforeItemRender",void 0),Go([F()],ao.prototype,"beforeOpen",void 0),Go([F()],ao.prototype,"beforeClose",void 0),Go([F()],ao.prototype,"click",void 0),Go([F()],ao.prototype,"close",void 0),Go([F()],ao.prototype,"open",void 0),Go([F()],ao.prototype,"select",void 0),Go([F()],ao.prototype,"created",void 0),ao=Go([ii],ao);class OE{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.catch=this.promise.catch.bind(this.promise),this.then=this.promise.then.bind(this.promise)}}var Jn=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const MI="e-hide-spinner",z9="e-progress",kC="e-progress-active",om="e-btn-content";class FE extends he{}Jn([g(null)],FE.prototype,"template",void 0),Jn([g(16)],FE.prototype,"width",void 0),Jn([g("Left")],FE.prototype,"position",void 0);class NE extends he{}Jn([g(400)],NE.prototype,"duration",void 0),Jn([g("None")],NE.prototype,"effect",void 0),Jn([g("ease")],NE.prototype,"easing",void 0);let lo=class extends uh{constructor(e,t){super(e,t),this.step=1}preRender(){super.preRender()}render(){super.render(),this.init(),this.wireEvents(),this.setAria(),this.renderComplete()}start(e){this.isPaused=!1,this.startProgress(e||this.percent,this.progressTime)}stop(){this.isPaused=!0,cancelAnimationFrame(this.timerId)}progressComplete(){this.isPaused=!1,this.finishProgress()}getModuleName(){return"progress-btn"}destroy(){let e=[MI,kC,"e-round-corner","e-"+super.getModuleName(),"e-spin-"+this.spinSettings.position.toLowerCase()];super.destroy(),this.unWireEvents(),this.element.innerHTML="",this.cssClass&&(e=e.concat(this.cssClass.split(" "))),z([this.element],e),(this.element.getAttribute("class")?["aria-label","aria-valuemin","aria-valuemax","aria-valuenow"]:["aria-label","aria-valuemin","aria-valuemax","aria-valuenow","class"]).forEach(i=>{this.element.removeAttribute(i)}),this.disabled&&this.element.removeAttribute("disabled")}init(){this.element.classList.add("e-"+super.getModuleName()),this.setContent(),this.createSpinner(),this.enableProgress&&this.createProgress()}createSpinner(){const e=this.createElement("span",{className:"e-spinner"});this.setSpinPosition(e),Gy({target:e,width:this.spinSettings.width||16,template:this.spinSettings.template},this.createElement)}getSpinner(){return this.element.getElementsByClassName("e-spinner")[0]}getProgress(){return this.element.getElementsByClassName(z9)[0]}setSpinPosition(e){const t=this.spinSettings.position||"Left";"Left"===t||"Top"===t?this.element.insertBefore(e,this.element.getElementsByClassName(om)[0]):this.element.appendChild(e),this.element.classList.add("e-spin-"+t.toLowerCase())}createProgress(){this.element.appendChild(this.createElement("span",{className:z9}))}setContent(){let e;e=this.element.innerHTML,this.enableHtmlSanitizer&&(e=Zn.sanitize(this.element.innerHTML)),this.element.innerHTML="",this.element.appendChild(this.createElement("span",{className:om,innerHTML:e}))}setContentIcon(e){const t=this.createElement("span",{className:om,innerHTML:e});if(this.iconCss){const i=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(i.classList.add("e-icon-"+this.iconPosition.toLowerCase()),("Top"===this.iconPosition||"Bottom"===this.iconPosition)&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");const s=t.childNodes[0];!s||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?t.appendChild(i):t.insertBefore(i,s)}this.element.appendChild(t)}clickHandler(){this.element.classList.contains(kC)||this.startProgress()}startProgress(e,t){const i=this.element.classList,s=i.contains("e-vertical");i.add(kC),i.contains(MI)||Ap(this.element),this.startAnimate(Date.now(),t||0,t?Date.now()-1*this.duration/100:Date.now(),e||0,0,this.step,0,s),this.startContAnimate()}startAnimate(e,t,i,s,r,o,a,l){try{const h=e-i,c=this.duration*o/100,d=h?h<c?h-c:h%c:0;this.progressTime=t=t+h-d,i=e-d,s+=(h-d)/this.duration*100;const u={percent:r=(t-a)%c==0||100===s?s:r,currentDuration:t,step:o};this.eIsVertical=l,this.trigger(0===s?"begin":100===s||t===this.duration?"end":"progress",u,p=>{this.successCallback(p,s,r,t,a,d,i)})}catch(h){cancelAnimationFrame(this.timerId),this.trigger("fail",h)}}successCallback(e,t,i,s,r,o,a){let l=t,h=i;const c=o,d=s;let u=r;const p=a,m=this.eIsVertical;l!==e.percent&&e.percent!==h&&(l=e.percent),this.percent=l,this.step=e.step,((d-u)%(this.duration*e.step/100)==0||100===l)&&(this.timerId=requestAnimationFrame(()=>{this.enableProgress&&(this.getProgress().style[m?"height":"width"]=l+"%"),this.element.setAttribute("aria-valuenow",l.toString())}),h=l,u=d),this.isPaused||(this.interval=d<this.duration&&l<100?window.setTimeout(()=>{this.startAnimate(Date.now(),d,p,l,h,e.step,u,m)},this.duration/100-c):window.setTimeout(()=>{this.progressTime=this.percent=0,this.enableProgress&&(this.getProgress().style[m?"height":"width"]="0%"),this.element.setAttribute("aria-valuenow","0"),this.hideSpin()},100))}startContAnimate(){const e=this.element.getElementsByClassName(om)[0];"None"!==this.animationSettings.effect?new qt({}).animate(e,{duration:this.animationSettings.duration,name:"Progress"+this.animationSettings.effect,timingFunction:this.animationSettings.easing,begin:()=>{"Center"===this.spinSettings.position&&this.setSpinnerSize()},end:()=>{e.classList.add("e-animate-end")}}):"Center"===this.spinSettings.position&&this.setSpinnerSize()}finishProgress(){const e=this.element.classList,t=e.contains("e-vertical");e.add(kC);for(let r=this.percent;r<100;r++)r+=10,r>100&&(r=100),this.enableProgress&&(this.getProgress().style[t?"height":"width"]=this.percent<100?r+"%":"100%");this.element.setAttribute("aria-valuenow","0"),this.hideSpin();const s={step:this.step,currentDuration:this.progressTime,percent:100};clearTimeout(this.interval),this.trigger("end",s),this.progressTime=this.percent=0}setSpinnerSize(){const e=this.element.getElementsByClassName(om)[0],t=this.getSpinner();t.style.width=Math.max(t.offsetWidth,e.offsetWidth)+"px",t.style.height=Math.max(t.offsetHeight,e.offsetHeight)+"px",e.classList.add("e-cont-animate")}hideSpin(){const e=this.element.getElementsByClassName(om)[0];if(this.element.classList.contains(MI)||cd(this.element),this.element.classList.remove(kC),"None"!==this.animationSettings.effect&&e.classList.remove("e-animate-end"),"Center"===this.spinSettings.position){const t=this.getSpinner();e.classList.remove("e-cont-animate"),t.style.width="auto",t.style.height="auto"}}setIconSpan(){const e=this.element.getElementsByClassName(om)[0],t=this.element.getElementsByClassName("e-btn-icon")[0];!e.childNodes[0]||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?e.appendChild(t):e.insertBefore(t,e.childNodes[0])}setAria(){we(this.element,{"aria-label":this.element.textContent+" progress","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0"})}wireEvents(){S.add(this.element,"click",this.clickHandler,this)}unWireEvents(){S.remove(this.element,"click",this.clickHandler)}onPropertyChanged(e,t){const i=this.element;let s=!1;this.element.querySelector(".e-spinner-pane").classList.contains("e-spin-show")&&(s=!0),super.onPropertyChanged(e,t);for(const o of Object.keys(e))switch(o){case"content":this.setContent(),this.createSpinner(),s&&(Ap(this.element),s=!1),this.enableProgress&&this.createProgress(),i.setAttribute("aria-label",i.textContent+" progress");break;case"iconCss":t.iconCss||this.setIconSpan();break;case"iconPosition":this.setIconSpan();break;case"enableProgress":e.enableProgress?this.createProgress():Ue(this.getProgress());break;case"spinSettings":e.spinSettings.position&&(i.classList.remove("e-spin-"+t.spinSettings.position.toLowerCase()),this.setSpinPosition(this.getSpinner())),(e.spinSettings.template||e.spinSettings.width)&&(i.removeChild(this.getSpinner()),this.createSpinner())}}focusIn(){this.element.focus()}};Jn([g(!1)],lo.prototype,"enableProgress",void 0),Jn([g(2e3)],lo.prototype,"duration",void 0),Jn([g("Left")],lo.prototype,"iconPosition",void 0),Jn([g("")],lo.prototype,"iconCss",void 0),Jn([g(!1)],lo.prototype,"disabled",void 0),Jn([g(!1)],lo.prototype,"isPrimary",void 0),Jn([g("")],lo.prototype,"cssClass",void 0),Jn([g("")],lo.prototype,"content",void 0),Jn([g(!1)],lo.prototype,"isToggle",void 0),Jn([g(!1)],lo.prototype,"enableHtmlSanitizer",void 0),Jn([U({},FE)],lo.prototype,"spinSettings",void 0),Jn([U({},NE)],lo.prototype,"animationSettings",void 0),Jn([F()],lo.prototype,"created",void 0),Jn([F()],lo.prototype,"begin",void 0),Jn([F()],lo.prototype,"progress",void 0),Jn([F()],lo.prototype,"end",void 0),Jn([F()],lo.prototype,"fail",void 0),lo=Jn([ii],lo);var be;!function(n){let e,t=!0;function s(j){r(j.floatLabelType,j.element),j.element.addEventListener("focus",function(){const Y=y(this);(Y.classList.contains("e-input-group")||Y.classList.contains("e-outline")||Y.classList.contains("e-filled"))&&Y.classList.add("e-input-focus")}),j.element.addEventListener("blur",function(){const Y=y(this);(Y.classList.contains("e-input-group")||Y.classList.contains("e-outline")||Y.classList.contains("e-filled"))&&Y.classList.remove("e-input-focus")}),j.element.addEventListener("input",()=>{r(e,j.element)})}function r(j,Y){const ge=Y.value;""!==ge&&!f(ge)&&Y.parentElement?Y.parentElement.classList.add("e-valid-input"):"Always"!==j&&Y.parentElement&&Y.parentElement.classList.remove("e-valid-input")}function o(){const j=y(this).getElementsByClassName("e-float-text")[0];f(j)||(B([j],"e-label-top"),j.classList.contains("e-label-bottom")&&z([j],"e-label-bottom"))}function a(){const j=y(this);if(j.getElementsByTagName("textarea")[0]?""===j.getElementsByTagName("textarea")[0].value:""===j.getElementsByTagName("input")[0].value){const Y=j.getElementsByClassName("e-float-text")[0];f(Y)||(Y.classList.contains("e-label-top")&&z([Y],"e-label-top"),B([Y],"e-label-bottom"))}}function l(j){j.addEventListener("focus",o),j.addEventListener("blur",a)}function c(j,Y,ge){const Xe=f(ge)?Ve:ge;"Auto"===j.floatLabelType&&l(j.element),f(Y.container)?(Y.container=w(j,"e-float-input","e-float-custom-tag","div",Xe),j.element.parentNode&&j.element.parentNode.insertBefore(Y.container,j.element)):(f(j.customTag)||Y.container.classList.add("e-float-custom-tag"),Y.container.classList.add("e-float-input"));const Pi=Xe("span",{className:"e-float-line"}),Ct=Xe("label",{className:"e-float-text"});if(!f(j.element.id)&&""!==j.element.id&&(Ct.id="label_"+j.element.id.replace(/ /g,"_"),we(j.element,{"aria-labelledby":Ct.id})),!f(j.element.placeholder)&&""!==j.element.placeholder&&(Ct.innerText=_(j.element.placeholder),j.element.removeAttribute("placeholder")),!f(j.properties)&&!f(j.properties.placeholder)&&""!==j.properties.placeholder&&(Ct.innerText=_(j.properties.placeholder)),Ct.innerText||Y.container.classList.add("e-no-float-label"),Y.container.classList.contains("e-float-icon-left")){const Ts=Y.container.querySelector(".e-input-in-wrap");Ts.appendChild(j.element),Ts.appendChild(Pi),Ts.appendChild(Ct)}else Y.container.appendChild(j.element),Y.container.appendChild(Pi),Y.container.appendChild(Ct);m(j.element.value,Ct),"Always"===j.floatLabelType&&(Ct.classList.contains("e-label-bottom")&&z([Ct],"e-label-bottom"),B([Ct],"e-label-top")),"Auto"===j.floatLabelType&&(j.element.addEventListener("input",Ts=>{m(j.element.value,Ct)}),j.element.addEventListener("blur",Ts=>{m(j.element.value,Ct)})),f(j.element.getAttribute("id"))||Ct.setAttribute("for",j.element.getAttribute("id"))}function d(j,Y){"Always"===j&&Y.classList.contains("e-outline")&&Y.classList.add("e-valid-input")}function p(j,Y){j?z([Y],"e-clear-icon-hide"):B([Y],"e-clear-icon-hide")}function m(j,Y){j?(B([Y],"e-label-top"),Y.classList.contains("e-label-bottom")&&z([Y],"e-label-bottom")):(Y.classList.contains("e-label-top")&&z([Y],"e-label-top"),B([Y],"e-label-bottom"))}function y(j){let Y=f(j.parentNode)?j:j.parentNode;return Y&&Y.classList.contains("e-input-in-wrap")&&(Y=Y.parentNode),Y}function v(j,Y,ge){(null==t||t)&&Y.addEventListener("click",Xe=>{j.classList.contains("e-disabled")||j.readOnly||(Xe.preventDefault(),j!==document.activeElement&&j.focus(),j.value="",B([Y],"e-clear-icon-hide"))}),j.addEventListener("input",Xe=>{p(j.value,Y)}),j.addEventListener("focus",Xe=>{p(j.value,Y)}),j.addEventListener("blur",Xe=>{setTimeout(()=>{B([Y],"e-clear-icon-hide")},200)})}function C(j,Y){if(y(j).classList.contains("e-float-input")&&"Auto"===Y){const Xe=y(j).getElementsByClassName("e-float-text")[0];m(j.value,Xe)}}function w(j,Y,ge,Xe,Pi){const Ct=f(Pi)?Ve:Pi;let Ts;return f(j.customTag)?Ts=Ct(Xe,{className:Y}):(Ts=Ct(j.customTag,{className:Y}),Ts.classList.add(ge)),Ts.classList.add("e-control-wrapper"),Ts}function _(j){let Y="";if(!f(j)&&""!==j){const ge=document.createElement("span");ge.innerHTML='<input  placeholder="'+j+'"/>',Y=ge.children[0].placeholder}return Y}function D(j,Y,ge){!f(ge)&&""!==ge&&z(Y,ge.split(" ")),!f(j)&&""!==j&&B(Y,j.split(" "))}function O(j,Y){j=_(j);const ge=y(Y);ge.classList.contains("e-float-input")?f(j)||""===j?(ge.classList.add("e-no-float-label"),ge.getElementsByClassName("e-float-text")[0].textContent=""):(ge.getElementsByClassName("e-float-text")[0].textContent=j,ge.classList.remove("e-no-float-label"),Y.removeAttribute("placeholder")):f(j)||""===j?(Y.removeAttribute("placeholder"),Y.removeAttribute("aria-placeholder")):we(Y,{placeholder:j,"aria-placeholder":j})}function N(j,Y,ge){j?we(Y,{readonly:""}):Y.removeAttribute("readonly"),f(ge)||C(Y,ge)}function X(j,Y){j?B(Y,"e-rtl"):z(Y,"e-rtl")}function H(j,Y,ge,Xe){const Pi={disabled:"disabled","aria-disabled":"true"},Ct=!f(Xe);j?(Y.classList.remove("e-disabled"),G(Pi,Y),Ct&&z([Xe],"e-disabled")):(Y.classList.add("e-disabled"),A(Pi,Y),Ct&&B([Xe],"e-disabled")),f(ge)||C(Y,ge)}function q(j,Y,ge,Xe,Pi){const Ct=f(Pi)?Ve:Pi;j?ge.clearButton=function(j,Y,ge,Xe){const Ct=(f(Xe)?Ve:Xe)("span",{className:"e-clear-icon"}),Ts=Y.container;return f(ge)?(Y.container.classList.contains("e-float-input")?Y.container.querySelector(".e-float-text"):j).insertAdjacentElement("afterend",Ct):Ts.appendChild(Ct),!f(Ts)&&Ts.classList.contains("e-float-input")&&B([Ts],"e-input-group"),B([Ct],"e-clear-icon-hide"),v(j,Ct),Ct.setAttribute("aria-label","close"),Ct}(Y,ge,Xe,Ct):(Ue(ge.clearButton),ge.clearButton=null)}function G(j,Y){for(const ge of Object.keys(j)){const Xe=y(Y);"disabled"===ge&&Y.classList.remove("e-disabled"),"disabled"===ge&&Xe.classList.contains("e-input-group")&&Xe.classList.remove("e-disabled"),"placeholder"===ge&&Xe.classList.contains("e-float-input")?Xe.getElementsByClassName("e-float-text")[0].textContent="":Y.removeAttribute(ge)}}function A(j,Y){for(const ge of Object.keys(j)){const Xe=y(Y);"disabled"===ge&&Y.classList.add("e-disabled"),"disabled"===ge&&Xe.classList.contains("e-input-group")&&Xe.classList.add("e-disabled"),"placeholder"===ge&&Xe.classList.contains("e-float-input")?Xe.getElementsByClassName("e-float-text")[0].textContent=j[ge]:Y.setAttribute(ge,j[ge])}}function L(j,Y,ge){const Xe=[];Xe.push(ge);const Pi=f(ge)?Y.querySelectorAll(".e-input-group-icon"):Xe;if(j&&Pi.length>0)for(let Ct=0;Ct<Pi.length;Ct++)Pi[Ct].addEventListener("mousedown",te,!1),Pi[Ct].addEventListener("mouseup",pe,!1);else if(Pi.length>0)for(let Ct=0;Ct<Pi.length;Ct++)Pi[Ct].removeEventListener("mousedown",te,this),Pi[Ct].removeEventListener("mouseup",pe,this)}function te(){let Y=this.parentElement;for(;!Y.classList.contains("e-input-group");)Y=Y.parentElement;!function(j,Y){!j.classList.contains("e-disabled")&&!j.querySelector("input").readOnly&&Y.classList.add("e-input-btn-ripple")}(Y,this)}function pe(){const j=this;setTimeout(()=>{j.classList.remove("e-input-btn-ripple")},500)}function ae(j,Y){const ge=Y("span",{className:j});return ge.classList.add("e-input-group-icon"),ge}function Te(j,Y,ge,Xe){const Pi=f(Xe)?Ve:Xe,Ct=ae(j,Pi);Y.classList.add("e-float-icon-left");let Ts=Y.querySelector(".e-input-in-wrap");if(f(Ts)){Ts=Pi("span",{className:"e-input-in-wrap"}),ge.parentNode.insertBefore(Ts,ge);const NS=Y.querySelectorAll(ge.tagName+" ~ *");Ts.appendChild(ge);for(let Yl=0;Yl<NS.length;Yl++)Ts.appendChild(NS[Yl])}return Ts.parentNode.insertBefore(Ct,Ts),Y.classList.contains("e-input-group")||Y.classList.add("e-input-group"),L(!0,Y,Ct),Ct}function Ge(j,Y,ge){const Pi=ae(j,f(ge)?Ve:ge);return Y.classList.contains("e-input-group")||Y.classList.add("e-input-group"),(Y.classList.contains("e-float-icon-left")?Y.querySelector(".e-input-in-wrap"):Y).appendChild(Pi),L(!0,Y,Pi),Pi}function ve(j,Y){"hidden"===Y.type?j.classList.add("e-hidden"):j.classList.contains("e-hidden")&&j.classList.remove("e-hidden")}n.createInput=function(j,Y){const ge=f(Y)?Ve:Y;let Xe={container:null,buttons:[],clearButton:null};if(e=j.floatLabelType,t=j.bindClearAction,f(j.floatLabelType)||"Never"===j.floatLabelType?(Xe.container=w(j,"e-input-group","e-input-custom-tag","span",ge),j.element.parentNode.insertBefore(Xe.container,j.element),B([j.element],"e-input"),Xe.container.appendChild(j.element)):c(j,Xe,ge),s(j),!f(j.properties)&&!f(j.properties.showClearButton)&&j.properties.showClearButton&&"TEXTAREA"!==j.element.tagName&&(q(j.properties.showClearButton,j.element,Xe,!0,ge),Xe.clearButton.setAttribute("role","button"),Xe.container.classList.contains("e-float-input")&&B([Xe.container],"e-input-group")),!f(j.buttons)&&"TEXTAREA"!==j.element.tagName)for(let Pi=0;Pi<j.buttons.length;Pi++)Xe.buttons.push(Ge(j.buttons[Pi],Xe.container,ge));return!f(j.element)&&"TEXTAREA"===j.element.tagName&&B([Xe.container],"e-multi-line-input"),ve(Xe.container,j.element),Xe=function(j,Y){if(!f(j.properties))for(const ge of Object.keys(j.properties))switch(ge){case"cssClass":D(j.properties.cssClass,[Y.container]),d(j.floatLabelType,Y.container);break;case"enabled":H(j.properties.enabled,j.element,j.floatLabelType,Y.container);break;case"enableRtl":X(j.properties.enableRtl,[Y.container]);break;case"placeholder":O(j.properties.placeholder,j.element);break;case"readonly":N(j.properties.readonly,j.element)}return Y}(j,Xe),Xe},n.bindInitialEvent=s,n.wireFloatingEvents=l,n.wireClearBtnEvents=v,n.setValue=function(j,Y,ge,Xe){if(Y.value=j,!f(ge)&&"Auto"===ge&&C(Y,ge),!f(Xe)&&Xe){const Pi=y(Y);if(!f(Pi)){const Ct=Pi.getElementsByClassName("e-clear-icon")[0];f(Ct)||(Y.value&&Pi.classList.contains("e-input-focus")?z([Ct],"e-clear-icon-hide"):B([Ct],"e-clear-icon-hide"))}}r(ge,Y)},n.setCssClass=D,n.setWidth=function(j,Y){"number"==typeof j?Y.style.width=Be(j):"string"==typeof j&&(Y.style.width=j.match(/px|%|em/)?j:Be(j))},n.setPlaceholder=O,n.setReadonly=N,n.setEnableRtl=X,n.setEnabled=H,n.setClearButton=q,n.removeAttributes=G,n.addAttributes=A,n.removeFloating=function(j){const Y=j.container;if(!f(Y)&&Y.classList.contains("e-float-input")){const ge=Y.querySelector("textarea")?Y.querySelector("textarea"):Y.querySelector("input"),Xe=Y.querySelector(".e-float-text").textContent,Pi=null!==Y.querySelector(".e-clear-icon");ie(Y.querySelector(".e-float-line")),ie(Y.querySelector(".e-float-text")),Al(Y,["e-input-group"],["e-float-input"]),function(j){j.removeEventListener("focus",o),j.removeEventListener("blur",a)}(ge),we(ge,{placeholder:Xe}),ge.classList.add("e-input"),!Pi&&"INPUT"===ge.tagName&&ge.removeAttribute("required")}},n.addFloating=function(j,Y,ge,Xe){const Pi=f(Xe)?Ve:Xe,Ct=K(j,".e-input-group");if(e=Y,"Never"!==Y){let Ts=Ct.tagName;Ts="DIV"!==Ts&&"SPAN"!==Ts?Ts:null;const NS={element:j,floatLabelType:Y,customTag:Ts,properties:{placeholder:ge}};let Yl=Ct.querySelector(".e-clear-icon");const vBe={container:Ct};j.classList.remove("e-input"),c(NS,vBe,Pi);const c5=Ct.classList.contains("e-float-icon-left");if(f(Yl)&&(Yl=c5?Ct.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon"):Ct.querySelector(".e-input-group-icon")),f(Yl))c5&&(Yl=Ct.querySelector(".e-input-group-icon")),f(Yl)&&Ct.classList.remove("e-input-group");else{const _J=Ct.querySelector(".e-float-line"),CBe=Ct.querySelector(".e-float-text"),d5=c5?Ct.querySelector(".e-input-in-wrap"):Ct;d5.insertBefore(j,Yl),d5.insertBefore(_J,Yl),d5.insertBefore(CBe,Yl)}}d(Y,j.parentElement)},n.setRipple=function(j,Y){for(let ge=0;ge<Y.length;ge++)L(j,Y[ge].container)},n.addIcon=function(j,Y,ge,Xe,Pi){const Ct="string"==typeof Y?Y.split(","):Y;if("append"===j.toLowerCase())for(const Ts of Ct)Ge(Ts,ge,Pi);else for(const Ts of Ct)Te(Ts,ge,Xe,Pi)},n.prependSpan=Te,n.appendSpan=Ge,n.validateInputType=ve}(be||(be={}));var In=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const kI="e-input-group-icon",AI="e-spin-up",TI="e-error",qy="increment",AC="decrement",Vbe=new RegExp("^(-)?(\\d*)$"),W9="e-input-focus",U9=["title","style","class"];let LI=(()=>{let n=class extends $i{constructor(t,i){super(t,i),this.isVue=!1,this.preventChange=!1,this.isAngular=!1,this.isDynamicChange=!1,this.numericOptions=t}preRender(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;const t=Q("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),z([this.cloneElement],["e-control","e-numerictextbox","e-lib"]),this.angularTagName=null,this.formEle=K(this.element,"form"),"EJS-NUMERICTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;const s=this.createElement("input");let r=0;for(;r<this.element.attributes.length;r++)"id"!==this.element.attributes[r].nodeName&&(s.setAttribute(this.element.attributes[r].nodeName,this.element.attributes[r].nodeValue),s.innerHTML=this.element.innerHTML);this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(s),this.element=s,Oi("ej2_instances",t,this.element)}we(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off","aria-live":"assertive"}),this.l10n=new Na("numerictextbox",{incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),null===this.placeholder&&this.updatePlaceholder()}render(){"input"===this.element.tagName.toLowerCase()&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(null===this.value||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),null!==this.value&&!isNaN(this.value)&&this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete())}checkAttributes(t){const i=t?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"];for(const s of i)if(!f(this.element.getAttribute(s)))switch(s){case"disabled":if(f(this.numericOptions)||void 0===this.numericOptions.enabled||t){const r=!("disabled"===this.element.getAttribute(s)||""===this.element.getAttribute(s)||"true"===this.element.getAttribute(s));this.setProperties({enabled:r},!t)}break;case"readonly":if(f(this.numericOptions)||void 0===this.numericOptions.readonly||t){const r="readonly"===this.element.getAttribute(s)||""===this.element.getAttribute(s)||"true"===this.element.getAttribute(s);this.setProperties({readonly:r},!t)}break;case"placeholder":(f(this.numericOptions)||void 0===this.numericOptions.placeholder||t)&&this.setProperties({placeholder:this.element.placeholder},!t);break;case"value":if(f(this.numericOptions)||void 0===this.numericOptions.value||t){const r=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(s));this.setProperties(Oi(s,r,{}),!t)}break;case"min":if(f(this.numericOptions)||void 0===this.numericOptions.min||t){const r=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(s));null!==r&&!isNaN(r)&&this.setProperties(Oi(s,r,{}),!t)}break;case"max":if(f(this.numericOptions)||void 0===this.numericOptions.max||t){const r=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(s));null!==r&&!isNaN(r)&&this.setProperties(Oi(s,r,{}),!t)}break;case"step":if(f(this.numericOptions)||void 0===this.numericOptions.step||t){const r=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(s));null!==r&&!isNaN(r)&&this.setProperties(Oi(s,r,{}),!t)}break;case"style":this.inputStyle=this.element.getAttribute(s);break;case"name":this.inputName=this.element.getAttribute(s);break;default:{const r=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(s));(null!==r&&!isNaN(r)||"value"===s)&&this.setProperties(Oi(s,r,{}),!0)}}}updatePlaceholder(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)}initCultureFunc(){this.instance=new Gs(this.locale)}initCultureInfo(){this.cultureInfo.format=this.format,null!==Q("currency",this)&&(Oi("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))}createWrapper(){let t=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(t=this.getNumericValidClassList(this.cssClass));const i=be.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:t,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=i,this.container=i.container,this.container.setAttribute("class","e-control-wrapper e-numeric "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&we(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text",validateHidden:"true",class:"e-numeric-hidden"}}),this.inputName=null!==this.inputName?this.inputName:this.element.id,this.element.removeAttribute("name"),we(this.hiddenInput,{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),null!==this.inputStyle&&we(this.container,{style:this.inputStyle})}updateDataAttribute(t){let i={};if(t)i=this.htmlAttributes;else for(let s=0;s<this.element.attributes.length;s++)i[this.element.attributes[s].name]=this.element.getAttribute(this.element.attributes[s].name);for(const s of Object.keys(i))0===s.indexOf("data")&&this.hiddenInput.setAttribute(s,i[s])}updateHTMLAttrToElement(){if(!f(this.htmlAttributes))for(const t of Object.keys(this.htmlAttributes))U9.indexOf(t)<0&&this.element.setAttribute(t,this.htmlAttributes[t])}updateCssClass(t,i){be.setCssClass(this.getNumericValidClassList(t),[this.container],this.getNumericValidClassList(i))}getNumericValidClassList(t){let i=t;return!f(t)&&""!==t&&(i=t.replace(/\s+/g," ").trim()),i}updateHTMLAttrToWrapper(){if(!f(this.htmlAttributes))for(const t of Object.keys(this.htmlAttributes))if(U9.indexOf(t)>-1)if("class"===t){const i=this.getNumericValidClassList(this.htmlAttributes[t]);""!==i&&B([this.container],i.split(" "))}else if("style"===t){let i=this.container.getAttribute(t);i=f(i)?this.htmlAttributes[t]:i+this.htmlAttributes[t],this.container.setAttribute(t,i)}else this.container.setAttribute(t,this.htmlAttributes[t])}setElementWidth(t){f(t)||("number"==typeof t?this.container.style.width=Be(t):"string"==typeof t&&(this.container.style.width=t.match(/px|%|em/)?t:Be(t)))}spinBtnCreation(){this.spinDown=be.appendSpan(kI+" e-spin-down",this.container,this.createElement),we(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),this.spinUp=be.appendSpan(kI+" "+AI,this.container,this.createElement),we(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()}validateMinMax(){"number"==typeof this.min&&!isNaN(this.min)||this.setProperties({min:-Number.MAX_VALUE},!0),"number"==typeof this.max&&!isNaN(this.max)||this.setProperties({max:Number.MAX_VALUE},!0),null!==this.decimals&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),we(this.element,{"aria-valuemin":this.min.toString(),"aria-valuemax":this.max.toString()})}formattedValue(t,i){return this.instance.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(i)}validateStep(){null!==this.decimals&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)}action(t,i){this.isInteract=!0;const s=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(s,this.step,t)),this.raiseChangeEvent(i)}checkErrorClass(){this.isValidState?z([this.container],TI):B([this.container],TI),we(this.element,{"aria-invalid":this.isValidState?"false":"true"})}bindClearEvent(){this.showClearButton&&S.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)}resetHandler(t){t.preventDefault(),this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.clear(t),this.isInteract=!0,this.raiseChangeEvent(t)}clear(t){if(this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="",K(this.element,"form")){const s=this.element.nextElementSibling,r=document.createEvent("KeyboardEvent");r.initEvent("keyup",!1,!0),s.dispatchEvent(r)}}resetFormHandler(){this.updateValue("EJS-NUMERICTEXTBOX"===this.element.tagName?null:this.inputEleValue)}setSpinButton(){f(this.spinDown)||we(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),f(this.spinUp)||we(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})}wireEvents(){S.add(this.element,"focus",this.focusHandler,this),S.add(this.element,"blur",this.focusOutHandler,this),S.add(this.element,"keydown",this.keyDownHandler,this),S.add(this.element,"keyup",this.keyUpHandler,this),S.add(this.element,"input",this.inputHandler,this),S.add(this.element,"keypress",this.keyPressHandler,this),S.add(this.element,"change",this.changeHandler,this),S.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&S.add(this.formEle,"reset",this.resetFormHandler,this))}wireSpinBtnEvents(){S.add(this.spinUp,T.touchStartEvent,this.mouseDownOnSpinner,this),S.add(this.spinDown,T.touchStartEvent,this.mouseDownOnSpinner,this),S.add(this.spinUp,T.touchEndEvent,this.mouseUpOnSpinner,this),S.add(this.spinDown,T.touchEndEvent,this.mouseUpOnSpinner,this),S.add(this.spinUp,T.touchMoveEvent,this.touchMoveOnSpinner,this),S.add(this.spinDown,T.touchMoveEvent,this.touchMoveOnSpinner,this)}unwireEvents(){S.remove(this.element,"focus",this.focusHandler),S.remove(this.element,"blur",this.focusOutHandler),S.remove(this.element,"keyup",this.keyUpHandler),S.remove(this.element,"input",this.inputHandler),S.remove(this.element,"keydown",this.keyDownHandler),S.remove(this.element,"keypress",this.keyPressHandler),S.remove(this.element,"change",this.changeHandler),S.remove(this.element,"paste",this.pasteHandler),this.formEle&&S.remove(this.formEle,"reset",this.resetFormHandler)}unwireSpinBtnEvents(){S.remove(this.spinUp,T.touchStartEvent,this.mouseDownOnSpinner),S.remove(this.spinDown,T.touchStartEvent,this.mouseDownOnSpinner),S.remove(this.spinUp,T.touchEndEvent,this.mouseUpOnSpinner),S.remove(this.spinDown,T.touchEndEvent,this.mouseUpOnSpinner),S.remove(this.spinUp,T.touchMoveEvent,this.touchMoveOnSpinner),S.remove(this.spinDown,T.touchMoveEvent,this.touchMoveOnSpinner)}changeHandler(t){t.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);const i=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(i,t)}raiseChangeEvent(t){if(this.prevValue!==this.value){const i={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:t},t&&(this.changeEventArgs.event=t),void 0===this.changeEventArgs.event&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),ai(i,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",i)}}pasteHandler(){if(!this.enabled||this.readonly)return;const t=this.element.value;setTimeout(()=>{this.numericRegex().test(this.element.value)||this.setElementValue(t)})}preventHandler(){const t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout(()=>{if(this.element.selectionStart>0){const i=this.element.selectionStart,s=this.element.selectionStart-1,r=0,o=this.element.value.split(""),h=Q("decimal",Vx(this.locale)).charCodeAt(0);" "===this.element.value[s]&&this.element.selectionStart>0&&!t?(f(this.prevVal)?this.element.value=this.element.value.trim():0!==s?this.element.value=this.prevVal:0===s&&(this.element.value=this.element.value.trim()),this.element.setSelectionRange(s,s)):isNaN(parseFloat(this.element.value[this.element.selectionStart-1]))&&45!==this.element.value[this.element.selectionStart-1].charCodeAt(0)?(o.indexOf(this.element.value[this.element.selectionStart-1])!==o.lastIndexOf(this.element.value[this.element.selectionStart-1])&&this.element.value[this.element.selectionStart-1].charCodeAt(0)===h||this.element.value[this.element.selectionStart-1].charCodeAt(0)!==h)&&(this.element.value=this.element.value.substring(0,s)+this.element.value.substring(i,this.element.value.length),this.element.setSelectionRange(s,s),isNaN(parseFloat(this.element.value[this.element.selectionStart-1]))&&this.element.selectionStart>0&&this.element.value.length&&this.preventHandler()):isNaN(parseFloat(this.element.value[this.element.selectionStart-2]))&&this.element.selectionStart>1&&45!==this.element.value[this.element.selectionStart-2].charCodeAt(0)&&(o.indexOf(this.element.value[this.element.selectionStart-2])!==o.lastIndexOf(this.element.value[this.element.selectionStart-2])&&this.element.value[this.element.selectionStart-2].charCodeAt(0)===h||this.element.value[this.element.selectionStart-2].charCodeAt(0)!==h)&&(this.element.setSelectionRange(s,s),this.nextEle=this.element.value[this.element.selectionStart],this.cursorPosChanged=!0,this.preventHandler()),!0===this.cursorPosChanged&&this.element.value[this.element.selectionStart]===this.nextEle&&isNaN(parseFloat(this.element.value[this.element.selectionStart-1]))&&(this.element.setSelectionRange(this.element.selectionStart+1,this.element.selectionStart+1),this.cursorPosChanged=!1,this.nextEle=null),""===this.element.value.trim()&&this.element.setSelectionRange(r,r),this.element.selectionStart>0&&45===this.element.value[this.element.selectionStart-1].charCodeAt(0)&&this.element.selectionStart>1&&(this.element.value=f(this.prevVal)?this.element.value:this.prevVal,this.element.setSelectionRange(this.element.selectionStart,this.element.selectionStart)),this.prevVal=this.element.value}})}keyUpHandler(){if(!this.enabled||this.readonly)return;(!navigator.platform||!/iPad|iPhone|iPod/.test(navigator.platform))&&T.isDevice&&this.preventHandler();let i=this.instance.getNumberParser({format:"n"})(this.element.value);if(i=null===i||isNaN(i)?null:i,this.hiddenInput.value=i||0===i?i.toString():null,K(this.element,"form")){const r=this.element.nextElementSibling,o=document.createEvent("KeyboardEvent");o.initEvent("keyup",!1,!0),r.dispatchEvent(o)}}inputHandler(t){const i=this;if(!this.enabled||this.readonly)return;const s=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if((navigator.userAgent.toLowerCase().indexOf("firefox")>-1||s)&&T.isDevice&&this.preventHandler(),this.isAngular&&this.element.value!==Q("decimal",Vx(this.locale))&&this.element.value!==Q("minusSign",Vx(this.locale))){let o=this.instance.getNumberParser({format:"n"})(this.element.value);o=isNaN(o)?null:o,i.localChange({value:o}),this.preventChange=!0}if(this.isVue){const o=this.instance.getNumberParser({format:"n"})(this.element.value),a=this.instance.getNumberParser({format:"n"})(this.elementPrevValue),l={event:t,value:null===o||isNaN(o)?null:o,previousValue:null===a||isNaN(a)?null:a};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",l)}}keyDownHandler(t){if(!this.readonly)switch(t.keyCode){case 38:t.preventDefault(),this.action(qy,t);break;case 40:t.preventDefault(),this.action(AC,t)}}performAction(t,i,s){(null===t||isNaN(t))&&(t=0);let r=s===qy?t+i:t-i;return r=this.correctRounding(t,i,r),this.strictMode?this.trimValue(r):r}correctRounding(t,i,s){const r=new RegExp("[,.](.*)"),o=r.test(t.toString()),a=r.test(i.toString());if(o||a){const l=o?r.exec(t.toString())[0].length:0,h=a?r.exec(i.toString())[0].length:0,c=Math.max(l,h);return this.roundValue(s,c)}return s}roundValue(t,i){i=i||0;const s=Math.pow(10,i);return Math.round(t*=s)/s}updateValue(t,i){i&&(this.isInteract=!0),null!==t&&!isNaN(t)&&this.decimals&&(t=this.roundNumber(t,this.decimals)),this.changeValue(null===t||isNaN(t)?null:this.strictMode?this.trimValue(t):t),this.isDynamicChange||this.raiseChangeEvent(i)}updateCurrency(t,i){Oi(t,i,this.cultureInfo),this.updateValue(this.value)}changeValue(t){if(t||0===t){const i=this.getNumberOfDecimals(t);this.setProperties({value:this.roundNumber(t,i)},!0)}else this.setProperties({value:t=null},!0);this.modifyText(),this.strictMode||this.validateState()}modifyText(){if(this.value||0===this.value){const t=this.formatNumber(),i=this.isFocused?t:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(i),we(this.element,{"aria-valuenow":t}),this.hiddenInput.value=this.value.toString(),null!==this.value&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null}setElementValue(t,i){be.setValue(t,i||this.element,this.floatLabelType,this.showClearButton)}validateState(){this.isValidState=!0,(this.value||0===this.value)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()}getNumberOfDecimals(t){let i;const s=new RegExp("[eE][-+]?([0-9]+)");let r=t.toString();if(s.test(r)){const a=s.exec(r);f(a)||(r=t.toFixed(Math.min(parseInt(a[1],10),20)))}const o=r.split(".")[1];return i=o&&o.length?o.length:0,null!==this.decimals&&(i=i<this.decimals?i:this.decimals),i}formatNumber(){const t=this.getNumberOfDecimals(this.value);return this.instance.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(this.value)}trimValue(t){return t>this.max?this.max:t<this.min?this.min:t}roundNumber(t,i){let s=t;const r=i||0,o=s.toString().split("e");s=Math.round(Number(o[0]+"e"+(o[1]?Number(o[1])+r:r)));const a=s.toString().split("e");return s=Number(a[0]+"e"+(a[1]?Number(a[1])-r:-r)),Number(s.toFixed(r))}cancelEvent(t){return t.preventDefault(),!1}keyPressHandler(t){if(!this.enabled||this.readonly)return!0;if(!T.isDevice&&"11.0"===T.info.version&&13===t.keyCode){const r=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(r,t),!0}if(0===t.which||t.metaKey||t.ctrlKey||8===t.keyCode||13===t.keyCode)return!0;const i=String.fromCharCode(t.which);let s=this.element.value;return s=s.substring(0,this.element.selectionStart)+i+s.substring(this.element.selectionEnd),!!this.numericRegex().test(s)||(t.preventDefault(),t.stopPropagation(),!1)}numericRegex(){let i=Q("decimal",Vx(this.locale)),s="*";return"."===i&&(i="\\"+i),0===this.decimals&&this.validateDecimalOnType?Vbe:(this.decimals&&this.validateDecimalOnType&&(s="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+i+"\\d"+s+")?)|("+i+"\\d"+s+")))?$"))}mouseWheel(t){let i;t.preventDefault(),t.wheelDelta?i=t.wheelDelta/120:t.detail&&(i=-t.detail/3),i>0?this.action(qy,t):i<0&&this.action(AC,t),this.cancelEvent(t)}focusHandler(t){if(this.focusEventArgs={event:t,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),this.enabled&&!this.readonly){if(this.isFocused=!0,z([this.container],TI),this.prevValue=this.value,this.value||0===this.value){const i=this.formatNumber();this.setElementValue(i),this.isPrevFocused||(T.isDevice||"11.0"!==T.info.version?setTimeout(()=>{this.element.setSelectionRange(0,i.length)},T.isDevice&&T.isIos?600:0):this.element.setSelectionRange(0,i.length))}T.isDevice||S.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}}focusOutHandler(t){if(this.blurEventArgs={event:t,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),this.enabled&&!this.readonly){if(this.isPrevFocused){if(t.preventDefault(),T.isDevice){const s=this.element.value;this.element.focus(),this.isPrevFocused=!1;const r=this.element;setTimeout(()=>{this.setElementValue(s,r)},200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);const s=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(s),T.isDevice||S.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}if(K(this.element,"form")){const s=this.element.nextElementSibling,r=document.createEvent("FocusEvent");r.initEvent("focusout",!1,!0),s.dispatchEvent(r)}}}mouseDownOnSpinner(t){if(this.isFocused&&(this.isPrevFocused=!0,t.preventDefault()),!this.getElementData(t))return;this.getElementData(t);const s=t.currentTarget,r=s.classList.contains(AI)?qy:AC;S.add(s,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval(()=>{this.isCalled=!0,this.action(r,t)},150),S.add(document,"mouseup",this.mouseUpClick,this)}touchMoveOnSpinner(t){let i;if("touchmove"===t.type){let s=t.touches;i=s.length&&document.elementFromPoint(s[0].pageX,s[0].pageY)}else i=document.elementFromPoint(t.clientX,t.clientY);i.classList.contains(kI)||clearInterval(this.timeOut)}mouseUpOnSpinner(t){if(this.isPrevFocused&&(this.element.focus(),T.isDevice||(this.isPrevFocused=!1)),T.isDevice||t.preventDefault(),!this.getElementData(t))return;const i=t.currentTarget,s=i.classList.contains(AI)?qy:AC;if(S.remove(i,"mouseleave",this.mouseUpClick),this.isCalled||this.action(s,t),this.isCalled=!1,S.remove(document,"mouseup",this.mouseUpClick),K(this.element,"form")){const o=this.element.nextElementSibling,a=document.createEvent("KeyboardEvent");a.initEvent("keyup",!1,!0),o.dispatchEvent(a)}}getElementData(t){return!(t.which&&3===t.which||t.button&&2===t.button||!this.enabled||this.readonly||(clearInterval(this.timeOut),0))}floatLabelTypeUpdate(){be.removeFloating(this.inputWrapper);const t=this.hiddenInput;this.hiddenInput.remove(),be.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(t,this.container.childNodes[1])}mouseUpClick(t){t.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,S.remove(this.spinUp,"mouseleave",this.mouseUpClick),S.remove(this.spinDown,"mouseleave",this.mouseUpClick)}increment(t=this.step){this.isInteract=!1,this.changeValue(this.performAction(this.value,t,qy)),this.raiseChangeEvent()}decrement(t=this.step){this.isInteract=!1,this.changeValue(this.performAction(this.value,t,AC)),this.raiseChangeEvent()}destroy(){this.unwireEvents(),ie(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),ie(this.spinUp),ie(this.spinDown));const t=["aria-labelledby","role","autocomplete","aria-readonly","autocorrect","aria-disabled","aria-placeholder","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-live","aria-valuenow","aria-invalid"];for(let i=0;i<t.length;i++)this.element.removeAttribute(t[i]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),ie(this.container),super.destroy()}getText(){return this.element.value}focusIn(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),B([this.container],[W9]))}focusOut(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),z([this.container],[W9]))}getPersistData(){return this.addOnPersist(["value"])}onPropertyChanged(t,i){for(const s of Object.keys(t))switch(s){case"width":this.setElementWidth(t.width);break;case"cssClass":this.updateCssClass(t.cssClass,i.cssClass);break;case"enabled":be.setEnabled(t.enabled,this.element);break;case"enableRtl":be.setEnableRtl(t.enableRtl,[this.container]);break;case"readonly":be.setReadonly(t.readonly,this.element),this.readonly?we(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0),be.validateInputType(this.container,this.element);break;case"placeholder":be.setPlaceholder(t.placeholder,this.element);break;case"step":this.step=t.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(t);break;case"showClearButton":this.updateClearButton(t);break;case"floatLabelType":this.floatLabelType=t.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.isDynamicChange=(this.isAngular||this.isVue)&&this.preventChange,this.updateValue(t.value),this.isDynamicChange&&(this.preventChange=!1,this.isDynamicChange=!1);break;case"min":case"max":Oi(s,Q(s,t),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=t.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),be.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":{const r=Q(s,t);this.setProperties({currencyCode:r},!0),this.updateCurrency(s,r)}break;case"currencyCode":{const r=Q(s,t);this.setProperties({currency:r},!0),this.updateCurrency("currency",r)}break;case"format":Oi(s,Q(s,t),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=t.decimals,this.updateValue(this.value)}}updateClearButton(t){be.setClearButton(t.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()}updateSpinButton(t){t.showSpinButton?this.spinBtnCreation():(ie(this.spinUp),ie(this.spinDown))}getModuleName(){return"numerictextbox"}};return In([g("")],n.prototype,"cssClass",void 0),In([g(null)],n.prototype,"value",void 0),In([g(-Number.MAX_VALUE)],n.prototype,"min",void 0),In([g(Number.MAX_VALUE)],n.prototype,"max",void 0),In([g(1)],n.prototype,"step",void 0),In([g(null)],n.prototype,"width",void 0),In([g(null)],n.prototype,"placeholder",void 0),In([g({})],n.prototype,"htmlAttributes",void 0),In([g(!0)],n.prototype,"showSpinButton",void 0),In([g(!1)],n.prototype,"readonly",void 0),In([g(!0)],n.prototype,"enabled",void 0),In([g(!1)],n.prototype,"showClearButton",void 0),In([g(!1)],n.prototype,"enablePersistence",void 0),In([g("n2")],n.prototype,"format",void 0),In([g(null)],n.prototype,"decimals",void 0),In([g(null)],n.prototype,"currency",void 0),In([g(null)],n.prototype,"currencyCode",void 0),In([g(!0)],n.prototype,"strictMode",void 0),In([g(!1)],n.prototype,"validateDecimalOnType",void 0),In([g("Never")],n.prototype,"floatLabelType",void 0),In([F()],n.prototype,"created",void 0),In([F()],n.prototype,"destroyed",void 0),In([F()],n.prototype,"change",void 0),In([F()],n.prototype,"focus",void 0),In([F()],n.prototype,"blur",void 0),n=In([ii],n),n})();const BE="e-error",VE="e-label-top",Y9={0:"[0-9]",9:"[0-9 ]","#":"[0-9 +-]",L:"[A-Za-z]","?":"[A-Za-z ]","&":"[^\x7f ]+",C:"[^\x7f]+",A:"[A-Za-z0-9]",a:"[A-Za-z0-9 ]"};function q9(){if(we(this.element,{role:"textbox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-live":"assertive","aria-valuenow":""}),this.mask){const n=this.mask.split("]");for(let t=0;t<n.length;t++)if("\\"===n[t][n[t].length-1]){n[t]=n[t]+"]";const i=n[t].split("[");for(let s=0;s<i.length;s++)"\\"===i[s][i[s].length-1]&&(i[s]=i[s]+"["),II.call(this,i[s])}else{const i=n[t].split("[");if(i.length>1){let s=!1;for(let r=0;r<i.length;r++)"\\"===i[r]?(this.customRegExpCollec.push("["),this.hiddenMask+=i[r]+"["):""===i[r]?s=!0:""!==i[r]&&s||r===i.length-1?(this.customRegExpCollec.push("["+i[r]+"]"),this.hiddenMask+=this.promptChar,s=!1):II.call(this,i[r])}else II.call(this,i[0])}if(this.escapeMaskValue=this.hiddenMask,this.promptMask=this.hiddenMask.replace(/[09?LCAa#&]/g,this.promptChar),!f(this.customCharacters))for(let t=0;t<this.promptMask.length;t++)f(this.customCharacters[this.promptMask[t]])||(this.promptMask=this.promptMask.replace(new RegExp(this.promptMask[t],"g"),this.promptChar));let e=0;if(this.hiddenMask.match(new RegExp(/\\/)))for(let t=0;t<this.hiddenMask.length;t++){let i=0;t>=1&&(i=t),e=this.hiddenMask.length-this.promptMask.length,i-=e,t>0&&"\\"!==this.hiddenMask[t-1]&&(">"===this.hiddenMask[t]||"<"===this.hiddenMask[t]||"|"===this.hiddenMask[t])&&(this.promptMask=this.promptMask.substring(0,i)+this.promptMask.substring(t+1-e,this.promptMask.length),this.escapeMaskValue=this.escapeMaskValue.substring(0,i)+this.escapeMaskValue.substring(t+1-e,this.escapeMaskValue.length)),"\\"===this.hiddenMask[t]&&(this.promptMask=this.promptMask.substring(0,i)+this.hiddenMask[t+1]+this.promptMask.substring(t+2-e,this.promptMask.length),this.escapeMaskValue=this.escapeMaskValue.substring(0,i)+this.escapeMaskValue[t+1]+this.escapeMaskValue.substring(t+2-e,this.escapeMaskValue.length))}else this.promptMask=this.promptMask.replace(/[>|<]/g,""),this.escapeMaskValue=this.hiddenMask.replace(/[>|<]/g,"");we(this.element,{"aria-invalid":"false"})}}function $9(){hn.call(this,this.promptMask),HE.call(this,this.value)}function X9(){S.add(this.element,"keydown",oz,this),S.add(this.element,"keypress",hz,this),S.add(this.element,"keyup",cz,this),S.add(this.element,"input",rz,this),S.add(this.element,"focus",tz,this),S.add(this.element,"blur",iz,this),S.add(this.element,"paste",sz,this),S.add(this.element,"cut",nz,this),S.add(this.element,"drop",Xbe,this),S.add(this.element,"mousedown",J9,this),S.add(this.element,"mouseup",ez,this),this.enabled&&(Z9.call(this),this.formElement&&S.add(this.formElement,"reset",K9,this))}function RI(){S.remove(this.element,"keydown",oz),S.remove(this.element,"keypress",hz),S.remove(this.element,"keyup",cz),S.remove(this.element,"input",rz),S.remove(this.element,"focus",tz),S.remove(this.element,"blur",iz),S.remove(this.element,"paste",sz),S.remove(this.element,"cut",nz),S.remove(this.element,"mousedown",J9),S.remove(this.element,"mouseup",ez),this.formElement&&S.remove(this.formElement,"reset",K9)}function Z9(){this.showClearButton&&S.add(this.inputObj.clearButton,"mousedown touchstart",qbe,this)}function qbe(n){n.preventDefault(),this.inputObj.clearButton.classList.contains("e-clear-icon-hide")||($be.call(this,n),this.value="")}function $be(n){const e=this.element.value;hn.call(this,this.promptMask),this.redoCollec.unshift({value:this.promptMask,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),fu.call(this,n,e),this.element.setSelectionRange(0,0)}function K9(){"EJS-MASKEDTEXTBOX"===this.element.tagName?hn.call(this,this.promptMask):this.value=this.initInputValue}function Q9(n){return n.value}function ac(n,e){let t="",i=0,s=!1;const r=!f(e)||f(n)||f(this)?e:n.value;if(r!==this.promptMask)for(let o=0;o<this.customRegExpCollec.length;o++)s&&(s=!1),(">"===this.customRegExpCollec[i]||"<"===this.customRegExpCollec[i]||"|"===this.customRegExpCollec[i]||"\\"===this.customRegExpCollec[i])&&(--o,s=!0),s||r[o]!==this.promptChar&&!f(this.customRegExpCollec[i])&&(this._callPasteHandler||!f(this.regExpCollec[this.customRegExpCollec[i]])||this.customRegExpCollec[i].length>2&&"["===this.customRegExpCollec[i][0]&&"]"===this.customRegExpCollec[i][this.customRegExpCollec[i].length-1]||!f(this.customCharacters)&&!f(this.customCharacters[this.customRegExpCollec[i]]))&&""!==r&&(t+=r[o]),++i;return(null===this.mask||""===this.mask&&void 0!==this.value)&&(t=r),t}function II(n){for(let e=0;e<n.length;e++)this.hiddenMask+=n[e],"\\"!==n[e]&&this.customRegExpCollec.push(n[e])}function J9(){this.isClicked=!0}function ez(){this.isClicked=!1}function tz(n){const e=this.element;let t=0;const i=ac.call(this,e);let s=!1,r=!1,o={selectionStart:e.selectionStart,event:n,value:this.value,maskedValue:e.value,container:this.inputObj.container,selectionEnd:e.selectionEnd};if(this.isClicked||PI.call(this,o,e),this.mask&&(!(null===i||""===i)||"Always"===this.floatLabelType||null===this.placeholder||""===this.placeholder||(e.value=this.promptMask),setTimeout(()=>{if(e.selectionStart===this.promptMask.length||e.value[e.selectionStart]===this.promptChar)s=!0;else for(let a=e.selectionStart;a<this.promptMask.length;a++){if(e.value[a]===this.promptChar){s=!0;break}if(e.value[a]!==this.promptMask[a]){s=!1;break}}}),setTimeout(()=>{const a=e.selectionStart-1;if(a===this.promptMask.length-1||e.value[a]===this.promptChar)r=!0;else for(let l=a;l>=0;l--){if(e.value[l]===this.promptChar){r=!0;break}if(e.value[l]!==this.promptMask[l]){r=!1;break}}}),this.isClicked||"Always"!==this.floatLabelType&&(null===i||""===i)&&null!==this.placeholder&&""!==this.placeholder)){for(t=0;t<this.promptMask.length;t++)if(e.value[t]===this.promptChar){setTimeout(()=>{(s||r)&&(e.selectionEnd=t,e.selectionStart=t),o={selectionStart:e.selectionStart,event:n,value:this.value,maskedValue:e.value,container:this.inputObj.container,selectionEnd:e.selectionEnd},PI.call(this,o,e)});break}f(e.value.match(this.promptChar))&&(o={selectionStart:e.selectionStart,event:n,value:this.value,maskedValue:e.value,container:this.inputObj.container,selectionEnd:e.selectionEnd},PI.call(this,o,e)),this.isClicked=!1}}function PI(n,e){this.trigger("focus",n,t=>{e.selectionStart=t.selectionStart,e.selectionEnd=t.selectionEnd})}function iz(n){if(this.blurEventArgs={event:n,value:this.value,maskedValue:this.element.value,container:this.inputObj.container},this.trigger("blur",this.blurEventArgs),this.mask&&(this.isFocus=!1,this.placeholder&&this.element.value===this.promptMask&&"Always"!==this.floatLabelType)){hn.call(this,"");const e=this.element.parentNode.querySelector(".e-float-text");"Auto"===this.floatLabelType&&!f(e)&&e.classList.contains(VE)&&z([e],VE)}}function sz(n){if(this.mask&&!this.readonly){const e=this.element.selectionStart,t=this.element.selectionEnd,i=this.element.value;hn.call(this,""),this._callPasteHandler=!0,setTimeout(()=>{let s=this.element.value.replace(/ /g,"");this.redoCollec.length>0&&this.redoCollec[0].value===this.element.value&&(s=ac.call(this,this.element)),hn.call(this,i),this.element.selectionStart=e,this.element.selectionEnd=t;let r=0;this.maskKeyPress=!0;do{Lp.call(this,s[r],!1,null),++r}while(r<s.length);if(this.maskKeyPress=!1,this._callPasteHandler=!1,this.element.value===i){let o=0;this.maskKeyPress=!0;do{Lp.call(this,s[o],!1,null),++o}while(o<s.length);this.maskKeyPress=!1}else fu.call(this,n,i)},1)}}function nz(n){if(this.mask&&!this.readonly){const e=this.element.value,t=this.element.selectionStart,i=this.element.selectionEnd;this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd});const s=this.element.value.substring(0,t)+this.promptMask.substring(t,i)+this.element.value.substring(i);setTimeout(()=>{hn.call(this,s),this.element.selectionStart=this.element.selectionEnd=t,this.element.value!==e&&fu.call(this,n,null)},0)}}function Xbe(n){n.preventDefault()}function rz(n){if((!0!==T.isIE||""!==this.element.value||"Never"!==this.floatLabelType)&&(fe(n,{ctrlKey:!1,keyCode:229}),this.mask)){if(""===this.element.value&&this.redoCollec.unshift({value:this.promptMask,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),1===this.element.value.length&&(this.element.value=this.element.value+this.promptMask,this.element.setSelectionRange(1,1)),this._callPasteHandler||lz.call(this,n),this.element.value.length>this.promptMask.length){const i=this.element.selectionStart,r=this.element.value.substring(i-(this.element.value.length-this.promptMask.length),i);this.maskKeyPress=!1;let o=0;do{Lp.call(this,r[o],n.ctrlKey,n),++o}while(o<r.length);this.element.value!==this.preEleVal&&fu.call(this,n,null)}const t=ac.call(this,this.element);this.prevValue=t,this.value=t,""===t&&(hn.call(this,this.promptMask),this.element.setSelectionRange(0,0))}}function oz(n){if(this.mask&&!this.readonly){229!==n.keyCode&&(n.ctrlKey&&(89===n.keyCode||90===n.keyCode)&&n.preventDefault(),lz.call(this,n));const e=this.element.value;if(n.ctrlKey&&(89===n.keyCode||90===n.keyCode)){let t;90===n.keyCode&&this.undoCollec.length>0&&e!==this.undoCollec[this.undoCollec.length-1].value?(t=this.undoCollec[this.undoCollec.length-1],this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),hn.call(this,t.value),this.element.selectionStart=t.startIndex,this.element.selectionEnd=t.endIndex,this.undoCollec.splice(this.undoCollec.length-1,1)):89===n.keyCode&&this.redoCollec.length>0&&e!==this.redoCollec[0].value&&(t=this.redoCollec[0],this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),hn.call(this,t.value),this.element.selectionStart=t.startIndex,this.element.selectionEnd=t.endIndex,this.redoCollec.splice(0,1))}}}function Zbe(){let n;const e=this.element.selectionStart,t=this.element.selectionEnd;this.redoCollec.length>0?(n=this.redoCollec[0],hn.call(this,n.value),n.startIndex-e==1?(this.element.selectionStart=n.startIndex,this.element.selectionEnd=n.endIndex):(this.element.selectionStart=e+1,this.element.selectionEnd=t+1)):(hn.call(this,this.promptMask),this.element.selectionStart=this.element.selectionEnd=e)}function az(n,e,t){return"input"===t.type&&(n=!1,e=this.element.value,hn.call(this,this.promptMask),HE.call(this,e)),n}function lz(n){let t,e=!1,i=!1;this.element.value.length<this.promptMask.length&&(e=!0,t=this.element.value,e=az.call(this,e,t,n),Zbe.call(this)),this.element.value.length>=this.promptMask.length&&"input"===n.type&&(e=az.call(this,e,t,n));const s=this.element.selectionStart,r=this.element.selectionEnd;let o=this.element.selectionStart;const a=this.element.selectionEnd,l=this.hiddenMask.replace(/[>|\\<]/g,"");let h=l[o-1];const c=this.element.selectionEnd;if(e||8===n.keyCode||46===n.keyCode){this.undoCollec.push({value:this.element.value,startIndex:this.element.selectionStart,endIndex:a});let d=!1;const u=this.element.value;if(o>0||(8===n.keyCode||46===n.keyCode)&&o<this.element.value.length&&this.element.selectionEnd-o!==this.element.value.length){let p=o;o!==a?(o=a,46===n.keyCode&&(d=!0)):46===n.keyCode?++p:--p;for(let m=o;8===n.keyCode||e||d?m>p:m<p;8===n.keyCode||e||d?m--:m++)for(let y=o;8===n.keyCode||e||d?y>0:y<this.element.value.length;8===n.keyCode||e||d?y--:y++){let b;(8===n.keyCode||d)&&(s!==r&&s!==o||s===r)||e?(h=l[y-1],b=o-1):(h=l[y],b=o,++o);let v=this.element.value[b];if(f(this.regExpCollec[h])&&!f(this.customCharacters)&&f(this.customCharacters[h])&&this.hiddenMask[b]!==this.promptChar&&"["!==this.customRegExpCollec[b][0]&&"]"!==this.customRegExpCollec[b][this.customRegExpCollec[b].length-1]||this.promptMask[b]!==this.promptChar&&f(this.customCharacters))this.element.selectionStart=this.element.selectionEnd=b,n.preventDefault(),46===n.keyCode&&!d&&++this.element.selectionStart;else{const C=this.element.value,w=this.promptChar,_=C.substring(0,b)+w+C.substring(o,C.length);hn.call(this,_),n.preventDefault(),46===n.keyCode&&!d&&b++,this.element.selectionStart=this.element.selectionEnd=b,i=!0}if(o=this.element.selectionStart,!i&&8===n.keyCode||d||!i&&46!==n.keyCode?b=o-1:(b=o,i=!1),v=this.element.value[b],s!==r&&this.element.selectionStart===s||this.promptMask[b]===this.promptChar||v!==this.promptMask[b]&&this.promptMask[b]!==this.promptChar&&!f(this.customCharacters))break}}46===n.keyCode&&d&&i&&(this.element.selectionStart=this.element.selectionEnd=c),0===this.element.selectionStart&&this.element.selectionEnd===this.element.value.length&&(hn.call(this,this.promptMask),n.preventDefault(),this.element.selectionStart=this.element.selectionEnd=o),this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),this.element.value!==u&&fu.call(this,n,t)}}function hz(n){if(this.mask&&!this.readonly){const e=this.element.value;if(!n.ctrlKey||n.ctrlKey&&"KeyA"!==n.code&&"KeyY"!==n.code&&"KeyZ"!==n.code&&"KeyX"!==n.code&&"KeyC"!==n.code&&"KeyV"!==n.code){this.maskKeyPress=!0;let t=n.key;"Spacebar"===t&&(t=String.fromCharCode(n.keyCode)),t?t&&1===t.length&&(Lp.call(this,t,n.ctrlKey,n),n.preventDefault()):(this.isIosInvalid=!0,Lp.call(this,String.fromCharCode(n.keyCode),n.ctrlKey,n),n.preventDefault(),this.isIosInvalid=!1),32===n.keyCode&&" "===t&&" "===this.promptChar&&(this.element.selectionStart=this.element.selectionEnd=this.element.selectionStart-t.length)}this.element.value!==e&&fu.call(this,n,e)}}function fu(n,e){const t=this.isProtectedOnChange;if(!f(this.changeEventArgs)&&!this.isInitial){const i={};this.changeEventArgs={value:this.element.value,maskedValue:this.element.value,isInteraction:!1,isInteracted:!1},this.mask&&(this.changeEventArgs.value=ac.call(this,this.element)),f(n)||(this.changeEventArgs.isInteracted=!0,this.changeEventArgs.isInteraction=!0,this.changeEventArgs.event=n),this.isProtectedOnChange=!0,this.value=this.changeEventArgs.value,this.isProtectedOnChange=t,ai(i,this.changeEventArgs),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",i)}this.preEleVal=this.element.value,this.prevValue=ac.call(this,this.element),we(this.element,{"aria-valuenow":this.element.value})}function cz(n){if(this.mask&&!this.readonly){let e;if(this.maskKeyPress||229!==n.keyCode)uz.call(this);else{let i;if(1===this.element.value.length&&(this.element.value=this.element.value+this.promptMask,this.element.setSelectionRange(1,1)),this.element.value.length>this.promptMask.length){const s=this.element.selectionStart,r=this.element.value.length-this.promptMask.length;let o=this.element.value.substring(s-r,s);if(this.undoCollec.length>0){e=this.undoCollec[this.undoCollec.length-1];const a=this.element.selectionStart;i=e.value;const l=e.value.substring(a-r,a);e=this.redoCollec[0],o=o.trim();const h=T.isAndroid&&""===o;h||l===o||e.value.substring(a-r,a)===o?h&&dz.call(this,n,a-1,this.element.selectionEnd-1,o,n.ctrlKey,!1):Lp.call(this,o,n.ctrlKey,n)}else i=this.promptMask,Lp.call(this,o,n.ctrlKey,n);this.maskKeyPress=!1,fu.call(this,n,i)}}const t=ac.call(this,this.element);(0!==this.element.selectionStart||this.promptMask!==this.element.value||""!==t||""===t&&this.value!==t)&&(this.prevValue=t,this.value=t)}else fu.call(this,n);if(0===this.element.selectionStart&&0===this.element.selectionEnd){const e=this.element;setTimeout(()=>{e.setSelectionRange(0,0)},0)}}function Kbe(n){if(n.length>1&&this.promptMask.length+n.length<this.element.value.length){const e=this.redoCollec[0].value.substring(0,this.redoCollec[0].startIndex)+n+this.redoCollec[0].value.substring(this.redoCollec[0].startIndex,this.redoCollec[0].value.length);hn.call(this,e),this.element.selectionStart=this.element.selectionEnd=this.redoCollec[0].startIndex+n.length}this.element.selectionStart=this.element.selectionStart-n.length,this.element.selectionEnd=this.element.selectionEnd-n.length}function Qbe(n){this.maskKeyPress||Kbe.call(this,n)}function Lp(n,e,t){if(Qbe.call(this,n),f(this)||f(n))return;let i=this.element.selectionStart;const s=i;let r,o=!1;const a=this.element.value;let l,h=!1,c=!1;for(let d=0;d<n.length;d++){const u=n[d];if(i=this.element.selectionStart,!this.maskKeyPress&&s===i&&(i+=d),!this.maskKeyPress||i<this.promptMask.length){for(let p=i;p<this.promptMask.length;p++)r=this.escapeMaskValue[i],"\\"===this.hiddenMask[i]&&this.hiddenMask[i+1]===n&&(c=!0),(f(this.regExpCollec[r])&&(f(this.customCharacters)||!f(this.customCharacters)&&f(this.customCharacters[r]))&&this.hiddenMask[i]!==this.promptChar&&"["!==this.customRegExpCollec[i][0]&&"]"!==this.customRegExpCollec[i][this.customRegExpCollec[i].length-1]||this.promptMask[i]!==this.promptChar&&f(this.customCharacters)||this.promptChar===r&&this.escapeMaskValue===this.mask)&&(this.element.selectionStart=this.element.selectionEnd=i+1,i=this.element.selectionStart,r=this.hiddenMask[i]);if(f(this.customCharacters)||f(this.customCharacters[r]))(!f(this.regExpCollec[r])&&u.match(new RegExp(this.regExpCollec[r]))&&this.promptMask[i]===this.promptChar||this.promptMask[i]===this.promptChar&&"["===this.customRegExpCollec[i][0]&&"]"===this.customRegExpCollec[i][this.customRegExpCollec[i].length-1]&&u.match(new RegExp(this.customRegExpCollec[i])))&&(o=!0);else{const m=this.customCharacters[r].split(",");for(let y=0;y<m.length;y++)if(u.match(new RegExp("["+m[y]+"]"))){o=!0;break}}if((!this.maskKeyPress||i<this.hiddenMask.length)&&o){if(0===d)if(this.maskKeyPress)this.undoCollec.push({value:a,startIndex:i,endIndex:i});else{const p=this.element.selectionStart,m=this.element.selectionEnd;this.redoCollec.length>0?(l=this.redoCollec[0].value,hn.call(this,l),this.undoCollec.push(this.redoCollec[0])):(this.undoCollec.push({value:this.promptMask,startIndex:i,endIndex:i}),l=this.promptMask,hn.call(this,l)),this.element.selectionStart=p,this.element.selectionEnd=m}i=this.element.selectionStart,Jbe.call(this,t,i,u,l,c),h=!0,d===n.length-1&&this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd}),o=!1}else i=this.element.selectionStart,dz.call(this,t,i,s,n,e,h);d===n.length-1&&!o&&(!T.isAndroid||T.isAndroid&&i<this.promptMask.length)&&this.redoCollec.unshift({value:this.element.value,startIndex:this.element.selectionStart,endIndex:this.element.selectionEnd})}else 1===n.length&&!e&&!f(t)&&OI.call(this)}}function Jbe(n,e,t,i,s){if(this.hiddenMask.length>this.promptMask.length&&(t=eve.call(this,t,this.element.value)),!s){const r=this.element.value,o=r.substring(0,e)+t+r.substring(e+1,r.length);hn.call(this,o),this.element.selectionStart=this.element.selectionEnd=e+1}}function dz(n,e,t,i,s,r){if(!this.maskKeyPress){const o=this.element.value;e>=this.promptMask.length?hn.call(this,o.substring(0,e)):(hn.call(this,t===e?o.substring(0,e)+o.substring(e+1,o.length):this.promptMask.length===this.element.value.length?o.substring(0,e)+o.substring(e,o.length):o.substring(0,t)+o.substring(t+1,o.length)),this.element.selectionStart=this.element.selectionEnd=r||this.element.value[t]!==this.promptChar?e:t),OI.call(this)}1===i.length&&!s&&!f(n)&&OI.call(this)}function OI(){const n=this.element.parentNode;let e=200;n.classList.contains("e-input-group")||n.classList.contains("e-float-input")?B([n],BE):B([this.element],BE),!0===this.isIosInvalid&&(e=400),we(this.element,{"aria-invalid":"true"}),setTimeout(()=>{this.maskKeyPress||uz.call(this)},e)}function uz(){const n=this.element.parentNode;f(n)||z([n],BE),z([this.element],BE),we(this.element,{"aria-invalid":"false"})}function eve(n,e){let t,i,s=e,r=0;for(i=0;i<this.hiddenMask.length;i++)if("\\"===this.hiddenMask[i]&&(t=s.substring(0,i)+"\\"+s.substring(i,s.length)),(">"===this.hiddenMask[i]||"<"===this.hiddenMask[i]||"|"===this.hiddenMask[i])&&(this.hiddenMask[i]!==s[i]&&(t=s.substring(0,i)+this.hiddenMask[i]+s.substring(i,s.length)),++r),t){if(t[i]===this.promptChar&&i>this.element.selectionStart||this.element.value.indexOf(this.promptChar)<0&&this.element.selectionStart+r===i){r=0;break}s=t}for(;i>=0&&t;){if(0===i||"\\"!==t[i-1]){if(">"===t[i]){n=n.toUpperCase();break}if("<"===t[i]){n=n.toLowerCase();break}if("|"===t[i])break}--i}return n}function HE(n){if(this.mask&&void 0!==n&&(void 0===this.prevValue||this.prevValue!==n)){if(this.maskKeyPress=!0,hn.call(this,this.promptMask),""!==n&&!(null===n&&"Never"===this.floatLabelType&&this.placeholder)&&(this.element.selectionStart=0,this.element.selectionEnd=0),null!==n)for(let i=0;i<n.length;i++)Lp.call(this,n[i],!1,null);const e=ac.call(this,this.element);this.prevValue=e,this.value=e,fu.call(this,null,null),this.maskKeyPress=!1;const t=this.element.parentNode.querySelector(".e-float-text");this.element.value===this.promptMask&&"Auto"===this.floatLabelType&&this.placeholder&&!f(t)&&t.classList.contains(VE)&&!this.isFocus&&(z([t],VE),B([t],"e-label-bottom"),hn.call(this,""))}(null===this.mask||""===this.mask&&void 0!==this.value)&&hn.call(this,this.value)}function hn(n,e){!this.isFocus&&"Auto"===this.floatLabelType&&this.placeholder&&f(this.value)&&(n="");const t=ac.call(this,e||this.element,n);null===t||""===t?(be.setValue(n,e||this.element,this.floatLabelType,!1),this.showClearButton&&this.inputObj.clearButton.classList.add("e-clear-icon-hide")):be.setValue(n,e||this.element,this.floatLabelType,this.showClearButton)}var ho=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const mz="e-input-focus",gz=["title","style","class"];let Gr=class extends $i{constructor(e,t){super(e,t),this.initInputValue="",this.isAngular=!1,this.preventChange=!1,this.isClicked=!1,this.maskOptions=e}getModuleName(){return"maskedtextbox"}preRender(){this.promptMask="",this.hiddenMask="",this.escapeMaskValue="",this.regExpCollec=Y9,this.customRegExpCollec=[],this.undoCollec=[],this.redoCollec=[],this.changeEventArgs={},this.focusEventArgs={},this.blurEventArgs={},this.maskKeyPress=!1,this.isFocus=!1,this.isInitial=!1,this.isIosInvalid=!1;const e=Q("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),z([this.cloneElement],["e-control","e-maskedtextbox","e-lib"]),this.angularTagName=null,this.formElement=K(this.element,"form"),"EJS-MASKEDTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;const t=this.createElement("input");for(let i=0;i<this.element.attributes.length;i++)t.setAttribute(this.element.attributes[i].nodeName,this.element.attributes[i].nodeValue),t.innerHTML=this.element.innerHTML;this.element.hasAttribute("id")&&this.element.removeAttribute("id"),this.element.classList.remove("e-control","e-maskedtextbox"),this.element.classList.add("e-mask-container"),this.element.appendChild(t),this.element=t,Oi("ej2_instances",e,this.element)}this.updateHTMLAttrToElement(),this.checkHtmlAttributes(!1),this.formElement&&(this.initInputValue=this.value)}getPersistData(){return this.addOnPersist(["value"])}render(){"input"===this.element.tagName.toLowerCase()&&("Never"===this.floatLabelType&&B([this.element],"e-input"),this.createWrapper(),this.updateHTMLAttrToWrapper(),""===this.element.name&&this.element.setAttribute("name",this.element.id),this.isInitial=!0,this.resetMaskedTextBox(),this.isInitial=!1,this.setMaskPlaceholder(!0,!1),this.setWidth(this.width),this.preEleVal=this.element.value,!T.isDevice&&("11.0"===T.info.version||"edge"===T.info.name)&&this.element.blur(),T.isDevice&&T.isIos&&this.element.blur(),(this.element.getAttribute("value")||this.value)&&this.element.setAttribute("value",this.element.value),this.renderComplete())}updateHTMLAttrToElement(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))gz.indexOf(e)<0&&this.element.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){be.setCssClass(this.getValidClassList(e),[this.inputObj.container],this.getValidClassList(t))}getValidClassList(e){let t=e;return!f(e)&&""!==e&&(t=e.replace(/\s+/g," ").trim()),t}updateHTMLAttrToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(gz.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&B([this.inputObj.container],t.split(" "))}else if("style"===e){let t=this.inputObj.container.getAttribute(e);t=f(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.inputObj.container.setAttribute(e,t)}else this.inputObj.container.setAttribute(e,this.htmlAttributes[e])}resetMaskedTextBox(){this.promptMask="",this.hiddenMask="",this.escapeMaskValue="",this.customRegExpCollec=[],this.undoCollec=[],this.redoCollec=[],this.promptChar.length>1&&(this.promptChar=this.promptChar[0]),q9.call(this),$9.call(this),(null===this.mask||""===this.mask&&void 0!==this.value)&&hn.call(this,this.value);const e=ac.call(this,this.element);this.prevValue=e,this.value=e,this.isInitial||RI.call(this),X9.call(this)}setMaskPlaceholder(e,t){(t||this.placeholder)&&(be.setPlaceholder(this.placeholder,this.element),(this.element.value===this.promptMask&&e&&"Always"!==this.floatLabelType||this.element.value===this.promptMask&&"Never"===this.floatLabelType)&&hn.call(this,""))}setWidth(e){if(!f(e))if("number"==typeof e)this.inputObj.container.style.width=Be(e),this.element.style.width=Be(e);else if("string"==typeof e){const t=e.match(/px|%|em/)?e:Be(e);this.inputObj.container.style.width=t,this.element.style.width=t}}checkHtmlAttributes(e){const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["placeholder","disabled","value","readonly"];for(const i of t)if(!f(this.element.getAttribute(i)))switch(i){case"placeholder":(f(this.maskOptions)||void 0===this.maskOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"disabled":if(f(this.maskOptions)||void 0===this.maskOptions.enabled||e){const s=!("disabled"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i));this.setProperties({enabled:s},!e)}break;case"value":(f(this.maskOptions)||void 0===this.maskOptions.value||e)&&this.setProperties({value:this.element.value},!e);break;case"readonly":if(f(this.maskOptions)||void 0===this.maskOptions.readonly||e){const s="readonly"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({readonly:s},!e)}}}createWrapper(){let e=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(e=this.getValidClassList(this.cssClass)),this.inputObj=be.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{enableRtl:this.enableRtl,cssClass:e,enabled:this.enabled,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}},this.createElement),this.inputObj.container.setAttribute("class","e-control-wrapper e-mask "+this.inputObj.container.getAttribute("class"))}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"value":HE.call(this,this.value),this.placeholder&&this.setMaskPlaceholder(!1,!1);break;case"placeholder":this.setMaskPlaceholder(!0,!0);break;case"width":this.setWidth(e.width);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":be.setEnabled(e.enabled,this.element,this.floatLabelType,this.inputObj.container);break;case"readonly":be.setReadonly(e.readonly,this.element);break;case"enableRtl":be.setEnableRtl(e.enableRtl,[this.inputObj.container]);break;case"customCharacters":this.customCharacters=e.customCharacters,this.resetMaskedTextBox();break;case"showClearButton":be.setClearButton(e.showClearButton,this.element,this.inputObj,void 0,this.createElement),Z9.call(this);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,be.removeFloating(this.inputObj),be.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement);break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkHtmlAttributes(!0);break;case"mask":{const s=this.value;this.mask=e.mask,this.updateValue(s)}break;case"promptChar":{e.promptChar.length>1&&(e.promptChar=e.promptChar[0]),this.promptChar=e.promptChar?e.promptChar:"_";let s=this.element.value.replace(new RegExp("["+t.promptChar+"]","g"),this.promptChar);this.promptMask===this.element.value&&(s=this.promptMask.replace(new RegExp("["+t.promptChar+"]","g"),this.promptChar)),this.promptMask=this.promptMask.replace(new RegExp("["+t.promptChar+"]","g"),this.promptChar),this.undoCollec=this.redoCollec=[],hn.call(this,s);break}}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange}updateValue(e){this.resetMaskedTextBox(),HE.call(this,e)}getMaskedValue(){return Q9.call(this,this.element)}focusIn(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),B([this.inputObj.container],[mz]))}focusOut(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),z([this.inputObj.container],[mz]))}destroy(){RI.call(this);const e=["aria-labelledby","role","autocomplete","aria-readonly","autocorrect","aria-disabled","aria-placeholder","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-valuenow","aria-invalid"];for(let t=0;t<e.length;t++)this.element.removeAttribute(e[t]);this.element.classList.remove("e-input"),this.inputObj.container.insertAdjacentElement("afterend",this.element),ie(this.inputObj.container),super.destroy()}};ho([g(null)],Gr.prototype,"cssClass",void 0),ho([g(null)],Gr.prototype,"width",void 0),ho([g(null)],Gr.prototype,"placeholder",void 0),ho([g("Never")],Gr.prototype,"floatLabelType",void 0),ho([g({})],Gr.prototype,"htmlAttributes",void 0),ho([g(!0)],Gr.prototype,"enabled",void 0),ho([g(!1)],Gr.prototype,"readonly",void 0),ho([g(!1)],Gr.prototype,"showClearButton",void 0),ho([g(!1)],Gr.prototype,"enablePersistence",void 0),ho([g(null)],Gr.prototype,"mask",void 0),ho([g("_")],Gr.prototype,"promptChar",void 0),ho([g(null)],Gr.prototype,"value",void 0),ho([g(null)],Gr.prototype,"customCharacters",void 0),ho([F()],Gr.prototype,"created",void 0),ho([F()],Gr.prototype,"destroyed",void 0),ho([F()],Gr.prototype,"change",void 0),ho([F()],Gr.prototype,"focus",void 0),ho([F()],Gr.prototype,"blur",void 0),Gr=ho([ii],Gr);var _i=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class $y extends he{}_i([g("None")],$y.prototype,"placement",void 0),_i([g(10)],$y.prototype,"largeStep",void 0),_i([g(1)],$y.prototype,"smallStep",void 0),_i([g(!1)],$y.prototype,"showSmallTicks",void 0),_i([g(null)],$y.prototype,"format",void 0);class jE extends he{}_i([g(null)],jE.prototype,"color",void 0),_i([g(null)],jE.prototype,"start",void 0),_i([g(null)],jE.prototype,"end",void 0);class Rp extends he{}_i([g(!1)],Rp.prototype,"enabled",void 0),_i([g(null)],Rp.prototype,"minStart",void 0),_i([g(null)],Rp.prototype,"minEnd",void 0),_i([g(null)],Rp.prototype,"maxStart",void 0),_i([g(null)],Rp.prototype,"maxEnd",void 0),_i([g(!1)],Rp.prototype,"startHandleFixed",void 0),_i([g(!1)],Rp.prototype,"endHandleFixed",void 0);class Xy extends he{}_i([g("")],Xy.prototype,"cssClass",void 0),_i([g("Before")],Xy.prototype,"placement",void 0),_i([g("Focus")],Xy.prototype,"showOn",void 0),_i([g(!1)],Xy.prototype,"isVisible",void 0),_i([g(null)],Xy.prototype,"format",void 0);let gn=class extends $i{constructor(e,t){super(e,t),this.horDir="left",this.verDir="bottom",this.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},this.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},this.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",this.customAriaText=null,this.drag=!0,this.isDragComplete=!1,this.initialTooltip=!0}preRender(){this.l10n=new Na("slider",{incrementTitle:"Increase",decrementTitle:"Decrease"},this.locale),this.isElementFocused=!1,this.tickElementCollection=[],this.tooltipFormatInfo={},this.ticksFormatInfo={},this.initCultureInfo(),this.initCultureFunc(),this.formChecker()}formChecker(){const e=K(this.element,"form");e?(this.isForm=!0,f(this.formResetValue)||this.setProperties({value:this.formResetValue},!0),this.formResetValue=this.value,"Range"!==this.type||!f(this.formResetValue)&&"object"==typeof this.formResetValue?f(this.formResetValue)&&(this.formResetValue=parseFloat(Be(this.min))):this.formResetValue=[parseFloat(Be(this.min)),parseFloat(Be(this.max))],this.formElement=e):this.isForm=!1}initCultureFunc(){this.internationalization=new Gs(this.locale)}initCultureInfo(){this.tooltipFormatInfo.format=f(this.tooltip.format)?null:this.tooltip.format,this.ticksFormatInfo.format=f(this.ticks.format)?null:this.ticks.format}formatString(e,t){let i=null,s=null;if(e||0===e){i=this.formatNumber(e);const r=this.numberOfDecimals(e);s=this.internationalization.getNumberFormat(t)(this.makeRoundNumber(e,r))}return{elementVal:i,formatString:s}}formatNumber(e){const t=this.numberOfDecimals(e);return this.internationalization.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(e)}numberOfDecimals(e){const t=e.toString().split(".")[1];return t&&t.length?t.length:0}makeRoundNumber(e,t){return Number(e.toFixed(t||0))}fractionalToInteger(e){e=0===this.numberOfDecimals(e)?Number(e).toFixed(this.noOfDecimals):e;let t=1;for(let i=0;i<this.noOfDecimals;i++)t*=10;return Number((e*t).toFixed(0))}render(){this.initialize(),this.initRender(),this.wireEvents(),this.setZindex(),this.renderComplete(),"EJS-SLIDER"===this.element.tagName&&"none"==this.getTheme(this.sliderContainer)&&setTimeout(()=>{this.refresh()},0)}initialize(){B([this.element],"e-slider"),this.setCSSClass()}setElementWidth(e){f(e)||("number"==typeof e?this.sliderContainer.style.width=Be(e):"string"==typeof e&&(this.sliderContainer.style.width=e.match(/px|%|em/)?e:Be(e)))}setCSSClass(e){e&&z([this.element],e.split(" ")),this.cssClass&&B([this.element],this.cssClass.split(" "))}setEnabled(){this.enabled?(z([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.remove("e-disabled"),this.wireEvents()):(B([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.add("e-disabled"),this.unwireEvents())}getTheme(e){return window.getComputedStyle(e,":after").getPropertyValue("content").replace(/['"]+/g,"")}initRender(){this.sliderContainer=this.createElement("div",{className:"e-slider-container e-control-wrapper"}),this.element.parentNode.insertBefore(this.sliderContainer,this.element),this.sliderContainer.appendChild(this.element),this.sliderTrack=this.createElement("div",{className:"e-slider-track"}),this.element.appendChild(this.sliderTrack),this.setElementWidth(this.width),this.element.tabIndex=-1,this.getThemeInitialization(),this.setHandler(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setOrientClass(),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:f(this.value)?this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(1e3*Math.random()).toFixed(0)+"slider",class:"e-slider-input"}}),this.hiddenInput.tabIndex=-1,this.sliderContainer.appendChild(this.hiddenInput),this.showButtons&&this.setButtons(),this.setEnableRTL(),"Range"===this.type?this.rangeValueUpdate():this.value=f(this.value)?parseFloat(Be(this.min.toString())):this.value,this.previousVal="Range"!==this.type?this.checkHandleValue(parseFloat(Be(this.value.toString()))):[this.checkHandleValue(parseFloat(Be(this.value[0].toString()))),this.checkHandleValue(parseFloat(Be(this.value[1].toString())))],this.previousChanged=this.previousVal,f(this.element.hasAttribute("name"))||this.element.removeAttribute("name"),this.setValue(),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.renderScale(),this.tooltip.isVisible&&this.renderTooltip(),this.enabled?z([this.sliderContainer],["e-disabled"]):B([this.sliderContainer],["e-disabled"]),this.readonly?B([this.sliderContainer],["e-read-only"]):z([this.sliderContainer],["e-read-only"])}getThemeInitialization(){this.isMaterial="material"===this.getTheme(this.sliderContainer)||"material-dark"===this.getTheme(this.sliderContainer),this.isBootstrap="bootstrap"===this.getTheme(this.sliderContainer)||"bootstrap-dark"===this.getTheme(this.sliderContainer),this.isBootstrap4="bootstrap4"===this.getTheme(this.sliderContainer),this.isTailwind="tailwind"===this.getTheme(this.sliderContainer)||"tailwind-dark"===this.getTheme(this.sliderContainer),this.isBootstrap5="bootstrap5"===this.getTheme(this.sliderContainer),this.isMaterialTooltip=this.isMaterial&&"Range"!==this.type&&this.tooltip.isVisible}createRangeBar(){"Default"!==this.type&&(this.rangeBar=this.createElement("div",{attrs:{class:"e-range"}}),this.element.appendChild(this.rangeBar),this.drag&&"Range"===this.type&&this.rangeBar.classList.add("Horizontal"===this.orientation?"e-drag-horizontal":"e-drag-vertical"))}createLimitBar(){let e="Range"!==this.type?"e-limit-bar":"e-limit-first";e+=" e-limits",this.limitBarFirst=this.createElement("div",{attrs:{class:e}}),this.element.appendChild(this.limitBarFirst),"Range"===this.type&&(this.limitBarSecond=this.createElement("div",{attrs:{class:"e-limit-second e-limits"}}),this.element.appendChild(this.limitBarSecond))}setOrientClass(){"Vertical"!==this.orientation?(this.sliderContainer.classList.remove("e-vertical"),this.sliderContainer.classList.add("e-horizontal"),this.firstHandle.setAttribute("aria-orientation","horizontal"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove("e-horizontal"),this.sliderContainer.classList.add("e-vertical"),this.firstHandle.setAttribute("aria-orientation","vertical"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","vertical"))}setAriaAttributes(e){let t=this.min,i=this.max;!f(this.customValues)&&this.customValues.length>0&&(t=this.customValues[0],i=this.customValues[this.customValues.length-1]),"Range"!==this.type?we(e,{"aria-valuemin":t.toString(),"aria-valuemax":i.toString()}):(!f(this.customValues)&&this.customValues.length>0?[[t.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),i.toString()]]:[[t.toString(),this.value[1].toString()],[this.value[0].toString(),i.toString()]]).forEach((r,o)=>{const a=0===o?this.firstHandle:this.secondHandle;a&&we(a,{"aria-valuemin":r[0],"aria-valuemax":r[1]})})}createSecondHandle(){this.secondHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0"}}),this.secondHandle.classList.add("e-handle-second"),this.element.appendChild(this.secondHandle)}createFirstHandle(){this.firstHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0"}}),this.firstHandle.classList.add("e-handle-first"),this.element.appendChild(this.firstHandle),this.isMaterialTooltip&&(this.materialHandle=this.createElement("div",{attrs:{class:"e-handle e-material-handle"}}),this.element.appendChild(this.materialHandle))}wireFirstHandleEvt(e){e?(S.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),S.remove(this.firstHandle,"transitionend",this.transitionEnd),S.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),S.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):(S.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),S.add(this.firstHandle,"transitionend",this.transitionEnd,this),S.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),S.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))}wireSecondHandleEvt(e){e?(S.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),S.remove(this.secondHandle,"transitionend",this.transitionEnd),S.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),S.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):(S.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),S.add(this.secondHandle,"transitionend",this.transitionEnd,this),S.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),S.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))}handleStart(){"Range"!==this.type&&(this.firstHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.isMaterialTooltip&&(this.materialHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.tooltipElement&&this.tooltipElement.classList[0===this.handlePos1?"add":"remove"]("e-material-tooltip-start")))}transitionEnd(e){"transform"!==e.propertyName&&(this.handleStart(),this.getHandle().style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),this.isMaterial&&this.tooltip.isVisible&&"Default"===this.type&&(this.tooltipElement.style.transition=this.transition.handle),this.tooltipToggle(this.getHandle()),this.closeTooltip())}handleFocusOut(){this.firstHandle.classList.contains("e-handle-focused")&&this.firstHandle.classList.remove("e-handle-focused"),"Range"===this.type&&this.secondHandle.classList.contains("e-handle-focused")&&this.secondHandle.classList.remove("e-handle-focused")}handleFocus(e){this.focusSliderElement(),this.sliderBarClick(e),e.currentTarget===this.firstHandle?this.firstHandle.classList.add("e-handle-focused"):this.secondHandle.classList.add("e-handle-focused"),S.add(document,"mousemove touchmove",this.sliderBarMove,this),S.add(document,"mouseup touchend",this.sliderBarUp,this)}handleOver(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&this.tooltipToggle(e.currentTarget),"Default"===this.type&&this.tooltipToggle(this.getHandle())}handleLeave(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&!e.currentTarget.classList.contains("e-handle-focused")&&!e.currentTarget.classList.contains("e-tab-handle")&&this.closeTooltip()}setHandler(){this.min>this.max&&(this.min=this.max),this.createFirstHandle(),"Range"===this.type&&this.createSecondHandle()}setEnableRTL(){this.enableRtl&&"Vertical"!==this.orientation?B([this.sliderContainer],"e-rtl"):z([this.sliderContainer],"e-rtl");let e="Vertical"!==this.orientation?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom"),e!==("Vertical"!==this.orientation?this.horDir:this.verDir)&&"Horizontal"===this.orientation&&(qe(this.firstHandle,{right:"",left:"auto"}),"Range"===this.type&&qe(this.secondHandle,{top:"",left:"auto"})),this.setBarColor()}tooltipValue(){let e;const t={value:this.value,text:""};this.initialTooltip&&(this.initialTooltip=!1,this.setTooltipContent(),t.text=e=this.tooltipObj.content,this.trigger("tooltipChange",t,i=>{this.addTooltipClass(i.text),e!==i.text&&(this.customAriaText=i.text,this.tooltipObj.content=i.text,this.setAriaAttrValue(this.firstHandle),"Range"===this.type&&this.setAriaAttrValue(this.secondHandle))}),this.isMaterialTooltip&&this.setPreviousVal("change",this.value))}setTooltipContent(){let e;e=this.formatContent(this.tooltipFormatInfo,!1),this.tooltipObj.content=e}formatContent(e,t){let i="",s=this.handleVal1,r=this.handleVal2;return!f(this.customValues)&&this.customValues.length>0&&(s=this.customValues[this.handleVal1],r=this.customValues[this.handleVal2]),t?("Range"===this.type?i=this.enableRtl&&"Vertical"!==this.orientation?f(this.tooltip)||f(this.tooltip.format)?r.toString()+" - "+s.toString():this.formatString(r,e).elementVal+" - "+this.formatString(s,e).elementVal:f(this.tooltip)||f(this.tooltip.format)?s.toString()+" - "+r.toString():this.formatString(s,e).elementVal+" - "+this.formatString(r,e).elementVal:f(s)||(i=f(this.tooltip)||f(this.tooltip.format)?s.toString():this.formatString(s,e).elementVal),i):("Range"===this.type?i=this.enableRtl&&"Vertical"!==this.orientation?f(e.format)?r.toString()+" - "+s.toString():this.formatString(r,e).formatString+" - "+this.formatString(s,e).formatString:f(e.format)?s.toString()+" - "+r.toString():this.formatString(s,e).formatString+" - "+this.formatString(r,e).formatString:f(s)||(i=f(e.format)?s.toString():this.formatString(s,e).formatString),i)}addTooltipClass(e){if(this.isMaterialTooltip){let t=e.toString().length;if(this.tooltipElement){let i=t>4?{oldCss:"e-material-default",newCss:"e-material-range"}:{oldCss:"e-material-range",newCss:"e-material-default"};this.tooltipElement.classList.remove(i.oldCss),this.tooltipElement.classList.contains(i.newCss)||(this.tooltipElement.classList.add(i.newCss),this.tooltipElement.style.transform=t>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}else this.tooltipObj.cssClass="e-slider-tooltip "+(t>4?"e-material-range":"e-material-default")}}tooltipPlacement(){return"Horizontal"===this.orientation?"Before"===this.tooltip.placement?"TopCenter":"BottomCenter":"Before"===this.tooltip.placement?"LeftCenter":"RightCenter"}tooltipBeforeOpen(e){this.tooltipElement=e.element,this.tooltip.cssClass&&B([this.tooltipElement],this.tooltip.cssClass.split(" ").filter(t=>t)),e.target.removeAttribute("aria-describedby"),this.isMaterialTooltip&&(this.tooltipElement.firstElementChild.classList.add("e-material-tooltip-hide"),this.handleStart(),this.setTooltipTransform())}tooltipCollision(e){if(this.isBootstrap||this.isBootstrap4||this.isMaterial&&!this.isMaterialTooltip){const t=this.isBootstrap4?3:6;switch(e){case"TopCenter":this.tooltipObj.setProperties({offsetY:-t},!1);break;case"BottomCenter":this.tooltipObj.setProperties({offsetY:t},!1);break;case"LeftCenter":this.tooltipObj.setProperties({offsetX:-t},!1);break;case"RightCenter":this.tooltipObj.setProperties({offsetX:t},!1)}}}materialTooltipEventCallBack(e){this.sliderBarClick(e),S.add(document,"mousemove touchmove",this.sliderBarMove,this),S.add(document,"mouseup touchend",this.sliderBarUp,this)}wireMaterialTooltipEvent(e){this.isMaterialTooltip&&(e?S.remove(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack):S.add(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack,this))}tooltipPositionCalculation(e){let t;switch(e){case"TopCenter":t="e-slider-horizontal-before";break;case"BottomCenter":t="e-slider-horizontal-after";break;case"LeftCenter":t="e-slider-vertical-before";break;case"RightCenter":t="e-slider-vertical-after"}return t}getTooltipTransformProperties(e){let t;if(this.tooltipElement){let i="Horizontal"===this.orientation?this.tooltipElement.clientHeight+14-this.tooltipElement.clientHeight/2:this.tooltipElement.clientWidth+14-this.tooltipElement.clientWidth/2;t="Horizontal"===this.orientation?"e-slider-horizontal-before"===e?{rotate:"rotate(45deg)",translate:`translateY(${i}px)`}:{rotate:"rotate(225deg)",translate:`translateY(${-i}px)`}:"e-slider-vertical-before"===e?{rotate:"rotate(-45deg)",translate:`translateX(${i}px)`}:{rotate:"rotate(-225deg)",translate:`translateX(${-i}px)`}}return t}openMaterialTooltip(){if(this.isMaterialTooltip){this.refreshTooltip(this.firstHandle);let e=this.tooltipElement.firstElementChild;e.classList.remove("e-material-tooltip-hide"),e.classList.add("e-material-tooltip-show"),this.firstHandle.style.cursor="default",this.tooltipElement.style.transition=this.scaleTransform,this.tooltipElement.classList.add("e-material-tooltip-open"),this.materialHandle.style.transform="scale(0)",this.tooltipElement.style.transform=e.innerText.length>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate,"Default"===this.type?setTimeout(()=>{this.tooltipElement.style.transition=this.transition.handle},2500):setTimeout(()=>{this.tooltipElement.style.transition="none"},2500)}}closeMaterialTooltip(){if(this.isMaterialTooltip){let e=this.tooltipElement.firstElementChild;this.tooltipElement.style.transition=this.scaleTransform,e.classList.remove("e-material-tooltip-show"),e.classList.add("e-material-tooltip-hide"),this.firstHandle.style.cursor="-webkit-grab",this.firstHandle.style.cursor="grab",this.materialHandle&&(this.materialHandle.style.transform="scale(1)"),this.tooltipElement.classList.remove("e-material-tooltip-open"),this.setTooltipTransform(),this.tooltipTarget=void 0,setTimeout(()=>{this.tooltipElement.style.transition="none"},2500)}}checkTooltipPosition(e){let t=this.tooltipPositionCalculation(e.collidedPosition);(void 0===this.tooltipCollidedPosition||this.tooltipCollidedPosition!==e.collidedPosition||!e.element.classList.contains(t))&&(this.isMaterialTooltip&&(void 0!==t&&(e.element.classList.remove(this.previousTooltipClass),e.element.classList.add(t),this.previousTooltipClass=t),e.element.style.transform&&e.element.classList.contains("e-material-tooltip-open")&&e.element.firstElementChild.innerText.length<=4&&(e.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate)),this.tooltipCollidedPosition=e.collidedPosition),this.isMaterialTooltip&&this.tooltipElement&&-1!==this.tooltipElement.style.transform.indexOf("translate")&&this.setTooltipTransform()}setTooltipTransform(){let e=this.getTooltipTransformProperties(this.previousTooltipClass);this.tooltipElement.style.transform=this.tooltipElement.firstElementChild.innerText.length>4?`${e.translate} scale(0.01)`:`${e.translate} ${e.rotate} scale(0.01)`}renderTooltip(){this.tooltipObj=new js({showTipPointer:this.isBootstrap||this.isMaterial||this.isBootstrap4||this.isTailwind||this.isBootstrap5,cssClass:"e-slider-tooltip",height:this.isMaterial?30:"auto",animation:{open:{effect:"None"},close:{effect:"FadeOut",duration:500}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),beforeClose:this.tooltipBeforeClose.bind(this),enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.firstHandle),this.initializeTooltipProps()}initializeTooltipProps(){this.setProperties({tooltip:{showOn:this.isMaterialTooltip?"Always":"Auto"===this.tooltip.showOn?"Hover":this.tooltip.showOn}},!0),this.tooltipObj.position=this.tooltipPlacement(),this.tooltipCollision(this.tooltipObj.position),[this.firstHandle,this.rangeBar,this.secondHandle].forEach(t=>{f(t)||(t.style.transition="none")}),this.isMaterialTooltip&&(this.sliderContainer.classList.add("e-material-slider"),this.tooltipValue(),this.tooltipObj.animation.close.effect="None",this.tooltipObj.open(this.firstHandle))}tooltipBeforeClose(){this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0}setButtons(){this.firstBtn=this.createElement("div",{className:"e-slider-button e-first-button"}),this.firstBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.isTailwind&&this.firstBtn.querySelector("span").classList.add("e-icons"),this.firstBtn.tabIndex=-1,this.secondBtn=this.createElement("div",{className:"e-slider-button e-second-button"}),this.secondBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.isTailwind&&this.secondBtn.querySelector("span").classList.add("e-icons"),this.secondBtn.tabIndex=-1,this.sliderContainer.classList.add("e-slider-btn"),this.sliderContainer.appendChild(this.firstBtn),this.sliderContainer.appendChild(this.secondBtn),this.sliderContainer.appendChild(this.element),this.buttonTitle()}buttonTitle(){let e=this.enableRtl&&"Vertical"!==this.orientation;this.l10n.setLocale(this.locale);let t=this.l10n.getConstant("decrementTitle"),i=this.l10n.getConstant("incrementTitle");we(e?this.secondBtn:this.firstBtn,{"aria-label":t,title:t}),we(e?this.firstBtn:this.secondBtn,{"aria-label":i,title:i})}buttonFocusOut(){this.isMaterial&&this.getHandle().classList.remove("e-large-thumb-size")}repeatButton(e){let s,t=this.handleValueUpdate(),i=this.enableRtl&&"Vertical"!==this.orientation;e.target.parentElement.classList.contains("e-first-button")||e.target.classList.contains("e-first-button")?s=this.add(t,parseFloat(this.step.toString()),!!i):(e.target.parentElement.classList.contains("e-second-button")||e.target.classList.contains("e-second-button"))&&(s=this.add(t,parseFloat(this.step.toString()),!i)),this.limits.enabled&&(s=this.getLimitCorrectedValues(s)),s>=this.min&&s<=this.max&&(this.changeHandleValue(s),this.tooltipToggle(this.getHandle()))}repeatHandlerMouse(e){e.preventDefault(),("mousedown"===e.type||"touchstart"===e.type)&&(this.buttonClick(e),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,e))}materialChange(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")}repeatHandlerUp(e){this.changeEvent("changed",e),this.closeTooltip(),clearInterval(this.repeatInterval),this.getHandle().focus()}customTickCounter(e){let t=4;return!f(this.customValues)&&this.customValues.length>0&&(e>4&&(t=3),e>7&&(t=2),e>14&&(t=1),e>28&&(t=0)),t}renderScale(){let e="Vertical"===this.orientation?"v":"h";this.noOfDecimals=this.numberOfDecimals(this.step),this.ul=this.createElement("ul",{className:"e-scale e-"+e+"-scale e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),this.ul.style.zIndex="-1",T.isAndroid&&"h"===e&&this.ul.classList.add("e-tick-pos");let t=this.ticks.smallStep;this.ticks.showSmallTicks?t<=0&&(t=parseFloat(Be(this.step))):t=this.ticks.largeStep>0?this.ticks.largeStep:parseFloat(Be(this.max))-parseFloat(Be(this.min));let i=this.fractionalToInteger(this.min),s=this.fractionalToInteger(this.max),r=this.fractionalToInteger(t),o=!f(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,a=this.customTickCounter(o),l=!f(this.customValues)&&this.customValues.length>0?o*a+o:Math.abs((s-i)/r);this.element.appendChild(this.ul);let h,c=parseFloat(this.min.toString());"v"===e&&(c=parseFloat(this.max.toString()));let u,d=0,p=100/l;p===1/0&&(p=5);for(let m=0,y=!f(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,b=0;m<=l;m++){if(h=this.createElement("li",{attrs:{class:"e-tick",role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!f(this.customValues)&&this.customValues.length>0)u=m%(a+1)==0,u&&("h"===e?(c=this.customValues[b],b++):(c=this.customValues[y],y--),h.setAttribute("title",c.toString()));else if(h.setAttribute("title",c.toString()),0===this.numberOfDecimals(this.max)&&0===this.numberOfDecimals(this.min)&&0===this.numberOfDecimals(this.step))u="h"===e?(c-parseFloat(this.min.toString()))%this.ticks.largeStep==0:Math.abs(c-parseFloat(this.max.toString()))%this.ticks.largeStep==0;else{let w=this.fractionalToInteger(this.ticks.largeStep),_=this.fractionalToInteger(c);u="h"===e?(_-i)%w==0:Math.abs(_-parseFloat(s.toString()))%w==0}u&&h.classList.add("e-large"),"h"===e?h.style.width=p+"%":h.style.height=p+"%";let C,v=u?"Both"===this.ticks.placement?2:1:0;if(u)for(let w=0;w<v;w++)this.createTick(h,c,p);else f(this.customValues)&&this.formatTicksValue(h,c);this.ul.appendChild(h),this.tickElementCollection.push(h),f(this.customValues)&&(C=this.numberOfDecimals(t)>this.numberOfDecimals(c)?this.numberOfDecimals(t):this.numberOfDecimals(c),c=this.makeRoundNumber("h"===e?c+t:c-t,C),d=this.makeRoundNumber(d+t,C))}this.ticksAlignment(e,p)}ticksAlignment(e,t,i=!0){this.firstChild=this.ul.firstElementChild,this.lastChild=this.ul.lastElementChild,this.firstChild.classList.add("e-first-tick"),this.lastChild.classList.add("e-last-tick"),this.sliderContainer.classList.add("e-scale-"+this.ticks.placement.toLowerCase()),"h"===e?(this.firstChild.style.width=t/2+"%",this.lastChild.style.width=t/2+"%"):(this.firstChild.style.height=t/2+"%",this.lastChild.style.height=t/2+"%"),i&&this.trigger("renderedTicks",{ticksWrapper:this.ul,tickElements:this.tickElementCollection}),this.scaleAlignment()}createTick(e,t,i){let s=this.createElement("span",{className:"e-tick-value e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});e.appendChild(s),f(this.customValues)?this.formatTicksValue(e,t,s,i):s.innerHTML=this.enableHtmlSanitizer?Zn.sanitize(t.toString()):t.toString()}formatTicksValue(e,t,i,s){const r=this.formatNumber(t),o=f(this.ticks)||f(this.ticks.format)?r:this.formatString(t,this.ticksFormatInfo).formatString;this.trigger("renderingTicks",{value:t,text:o,tickElement:e},l=>{e.setAttribute("title",l.text.toString()),i&&(i.innerHTML=this.enableHtmlSanitizer?Zn.sanitize(l.text.toString()):l.text.toString())})}scaleAlignment(){this.tickValuePosition(),"Vertical"===this.orientation?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size"):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size")}tickValuePosition(){this.firstChild=this.element.querySelector("ul").children[0];let t,i,e=this.firstChild.getBoundingClientRect(),s=this.ticks.smallStep,r=Math.abs(parseFloat(Be(this.max))-parseFloat(Be(this.min)))/s;this.firstChild.children.length>0&&(t=this.firstChild.children[0].getBoundingClientRect());let a,o=[this.sliderContainer.querySelectorAll(".e-tick.e-large .e-tick-value")];a=[].slice.call(o[0],"Both"===this.ticks.placement?2:1);let l="Vertical"===this.orientation?2*e.height:2*e.width;for(let h=0;h<this.firstChild.children.length;h++)"Vertical"===this.orientation?this.firstChild.children[h].style.top=-t.height/2+"px":this.firstChild.children[h].style.left=this.enableRtl?(l-this.firstChild.children[h].getBoundingClientRect().width)/2+"px":-t.width/2+"px";for(let h=0;h<a.length;h++)i=a[h].getBoundingClientRect(),qe(a[h],"Vertical"===this.orientation?{top:(l-i.height)/2+"px"}:{left:(l-i.width)/2+"px"});this.enableRtl&&this.lastChild.children.length&&0!==r&&(this.lastChild.children[0].style.left=-this.lastChild.getBoundingClientRect().width/2+"px","Both"===this.ticks.placement&&(this.lastChild.children[1].style.left=-this.lastChild.getBoundingClientRect().width/2+"px")),0===r&&("Horizontal"===this.orientation&&(this.enableRtl?(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px","Both"===this.ticks.placement&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.left=this.firstHandle.style.left)),"Vertical"===this.orientation&&this.firstChild.classList.remove("e-last-tick"))}setAriaAttrValue(e){let t;const i=!f(this.ticks)&&!f(this.ticks.format);let s=this.formatContent(i?this.tooltipFormatInfo:this.ticksFormatInfo,!1);const r=this.formatContent(i?this.ticksFormatInfo:this.tooltipFormatInfo,!0);s=this.customAriaText?this.customAriaText:s,t=2===s.split(" - ").length?s.split(" - "):[s,s],this.setAriaAttributes(e),we(e,"Range"!==this.type?{"aria-valuenow":r,"aria-valuetext":s}:this.enableRtl?e===this.firstHandle?{"aria-valuenow":r.split(" - ")[1],"aria-valuetext":t[1]}:{"aria-valuenow":r.split(" - ")[0],"aria-valuetext":t[0]}:e===this.firstHandle?{"aria-valuenow":r.split(" - ")[0],"aria-valuetext":t[0]}:{"aria-valuenow":r.split(" - ")[1],"aria-valuetext":t[1]})}handleValueUpdate(){let e;return e="Range"===this.type?1===this.activeHandle?this.handleVal1:this.handleVal2:this.handleVal1,e}getLimitCorrectedValues(e){return"MinRange"===this.type||"Default"===this.type||1===this.activeHandle?this.getLimitValueAndPosition(e,this.limits.minStart,this.limits.minEnd)[0]:this.getLimitValueAndPosition(e,this.limits.maxStart,this.limits.maxEnd)[0]}focusSliderElement(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)}buttonClick(e){let t;this.focusSliderElement();const i=this.enableRtl&&"Vertical"!==this.orientation,s=this.handleValueUpdate();40===e.keyCode||37===e.keyCode||e.currentTarget.classList.contains("e-first-button")?t=this.add(s,parseFloat(this.step.toString()),!!i):38===e.keyCode||39===e.keyCode||e.currentTarget.classList.contains("e-second-button")?t=this.add(s,parseFloat(this.step.toString()),!i):33===e.keyCode||e.currentTarget.classList.contains("e-first-button")?t=this.add(s,parseFloat(this.ticks.largeStep.toString()),!i):34===e.keyCode||e.currentTarget.classList.contains("e-second-button")?t=this.add(s,parseFloat(this.ticks.largeStep.toString()),!!i):36===e.keyCode?t=parseFloat(this.min.toString()):35===e.keyCode&&(t=parseFloat(this.max.toString())),this.limits.enabled&&(t=this.getLimitCorrectedValues(t)),this.changeHandleValue(t),this.isMaterial&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.tooltipToggle(this.getHandle()),this.getHandle().focus(),e.currentTarget.classList.contains("e-first-button")&&S.add(this.firstBtn,"mouseup touchend",this.buttonUp,this),e.currentTarget.classList.contains("e-second-button")&&S.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)}tooltipToggle(e){this.isMaterialTooltip?this.tooltipElement.classList.contains("e-material-tooltip-open")?this.refreshTooltip(this.firstHandle):this.openMaterialTooltip():this.tooltipElement?this.refreshTooltip(e):this.openTooltip(e)}buttonUp(e){e.currentTarget.classList.contains("e-first-button")&&S.remove(this.firstBtn,"mouseup touchend",this.buttonUp),e.currentTarget.classList.contains("e-second-button")&&S.remove(this.secondBtn,"mouseup touchend",this.buttonUp)}setRangeBar(){"Horizontal"===this.orientation?"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",qe(this.rangeBar,{width:f(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",qe(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):"MinRange"===this.type?(this.rangeBar.style.bottom="0px",qe(this.rangeBar,{height:f(this.handlePos1)?0:this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.handlePos1+"px",qe(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))}checkValidValueAndPos(e){return e=this.checkHandleValue(e),this.checkHandlePosition(e)}setLimitBarPositions(e,t,i,s){"Horizontal"===this.orientation?this.enableRtl?(this.limitBarFirst.style.right=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.left=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.bottom=e+"px",this.limitBarFirst.style.height=t-e+"px"),"Range"===this.type&&("Horizontal"===this.orientation?this.enableRtl?(this.limitBarSecond.style.right=i+"px",this.limitBarSecond.style.width=s-i+"px"):(this.limitBarSecond.style.left=i+"px",this.limitBarSecond.style.width=s-i+"px"):(this.limitBarSecond.style.bottom=i+"px",this.limitBarSecond.style.height=s-i+"px"))}setLimitBar(){if("Default"===this.type||"MinRange"===this.type){let e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);let t=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t),this.setLimitBarPositions(e,t)}else if("Range"===this.type){let e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);let t=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t);let i=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0];i=this.checkValidValueAndPos(i);let s=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0];s=this.checkValidValueAndPos(s),this.setLimitBarPositions(e,t,i,s)}}getLimitValueAndPosition(e,t,i,s){return f(t)&&(t=this.min,f(e)&&s&&(e=t)),f(i)&&(i=this.max,f(e)&&s&&(e=i)),e<t&&(e=t),e>i&&(e=i),[e,this.checkHandlePosition(e)]}setValue(){if(!f(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1,this.setBarColor()),this.setAriaAttributes(this.firstHandle),this.handleVal1=f(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,this.activeHandle=f(this.activeHandle)?"Range"===this.type?2:1:this.activeHandle,"Default"===this.type||"MinRange"===this.type){if(this.limits.enabled){const e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.preHandlePos1=this.handlePos1}this.setHandlePosition(null),this.handleStart(),this.value=this.handleVal1,this.setAriaAttrValue(this.firstHandle),this.changeEvent("changed",null)}else this.validateRangeValue();"Default"!==this.type&&this.setRangeBar(),this.limits.enabled&&this.setLimitBar()}rangeValueUpdate(){(null===this.value||"object"!=typeof this.value)&&(this.value=[parseFloat(Be(this.min)),parseFloat(Be(this.max))])}validateRangeValue(){this.rangeValueUpdate(),this.setRangeValue()}modifyZindex(){"Range"===this.type?1===this.activeHandle?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+""):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+""):this.isMaterialTooltip&&this.tooltipElement&&(this.tooltipElement.style.zIndex=im(this.element)+"")}setHandlePosition(e){let t;const i=1===this.activeHandle?this.handlePos1:this.handlePos2;t=this.isMaterialTooltip?[this.firstHandle,this.materialHandle]:[this.getHandle()],this.handleStart(),t.forEach(s=>{"Horizontal"===this.orientation?this.enableRtl?s.style.right=`${i}px`:s.style.left=`${i}px`:s.style.bottom=`${i}px`}),this.changeEvent("change",e)}getHandle(){return 1===this.activeHandle?this.firstHandle:this.secondHandle}setRangeValue(){this.updateRangeValue(),this.activeHandle=1,this.setHandlePosition(null),this.activeHandle=2,this.setHandlePosition(null),this.activeHandle=1}changeEvent(e,t){let i="change"===e?this.previousVal:this.previousChanged;if("Range"!==this.type)this.setProperties({value:this.handleVal1},!0),i!==this.value&&(!this.isMaterialTooltip||!this.initialTooltip)&&(this.trigger(e,this.changeEventArgs(e,t)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.firstHandle);else{let s=this.value=[this.handleVal1,this.handleVal2];this.setProperties({value:s},!0),(i.length===this.value.length&&this.value[0]!==i[0]||this.value[1]!==i[1])&&(this.initialTooltip=!1,this.trigger(e,this.changeEventArgs(e,t)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.getHandle())}this.hiddenInput.value=this.value.toString()}changeEventArgs(e,t){let i;return this.tooltip.isVisible&&this.tooltipObj&&this.initialTooltip?(this.tooltipValue(),i={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:this.tooltipObj.content,isInteracted:!f(t)}):i={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:f(this.ticksFormatInfo.format)?this.value.toString():"Range"!==this.type?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString,isInteracted:!f(t)},i}setPreviousVal(e,t){"change"===e?this.previousVal=t:this.previousChanged=t}updateRangeValue(){const e=this.value.toString().split(",").map(Number);if(this.value=this.enableRtl&&"Vertical"!==this.orientation||this.rtl?[e[1],e[0]]:[e[0],e[1]],this.enableRtl&&"Vertical"!==this.orientation?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1])),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.preHandlePos1=this.handlePos1,this.preHandlePos2=this.handlePos2,this.limits.enabled){this.activeHandle=1;let t=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=t[0],this.handlePos1=t[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,t=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=t[0],this.handlePos2=t[1],this.preHandlePos2=this.handlePos2}}checkHandlePosition(e){let t;return e=100*(e-parseFloat(Be(this.min)))/(parseFloat(Be(this.max))-parseFloat(Be(this.min))),t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(e/100):this.element.getBoundingClientRect().height*(e/100),parseFloat(Be(this.max))===parseFloat(Be(this.min))&&(t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width:this.element.getBoundingClientRect().height),t}checkHandleValue(e){if(this.min>this.max&&(this.min=this.max),this.min===this.max)return parseFloat(Be(this.max));let t=this.tempStartEnd();return e<t.start?e=t.start:e>t.end&&(e=t.end),e}reposition(){this.firstHandle.style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),"Range"===this.type&&(this.secondHandle.style.transition="none"),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2)),"Horizontal"===this.orientation?(this.enableRtl?this.firstHandle.style.right=`${this.handlePos1}px`:this.firstHandle.style.left=`${this.handlePos1}px`,this.isMaterialTooltip&&(this.enableRtl?this.materialHandle.style.right=`${this.handlePos1}px`:this.materialHandle.style.left=`${this.handlePos1}px`),"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",qe(this.rangeBar,{width:f(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.enableRtl?this.secondHandle.style.right=`${this.handlePos2}px`:this.secondHandle.style.left=`${this.handlePos2}px`,this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",qe(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))):(this.firstHandle.style.bottom=`${this.handlePos1}px`,this.isMaterialTooltip&&(this.materialHandle.style.bottom=`${this.handlePos1}px`),"MinRange"===this.type?(this.rangeBar.style.bottom="0px",qe(this.rangeBar,{height:f(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.secondHandle.style.bottom=`${this.handlePos2}px`,this.rangeBar.style.bottom=this.handlePos1+"px",qe(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.handleStart(),this.tooltip.isVisible||setTimeout(()=>{this.firstHandle.style.transition=this.scaleTransform,"Range"===this.type&&(this.secondHandle.style.transition=this.scaleTransform)}),this.refreshTooltip(this.tooltipTarget),this.setBarColor()}changeHandleValue(e){let t=null;1===this.activeHandle?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(e),this.handlePos1=this.checkHandlePosition(this.handleVal1),"Range"===this.type&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(t=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(e),this.handlePos2=this.checkHandlePosition(this.handleVal2),"Range"===this.type&&this.handlePos2<this.handlePos1&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(t=this.preHandlePos2=this.handlePos2)),this.modifyZindex()),null!==t&&("Default"!==this.type&&this.setRangeBar(),this.setHandlePosition(null))}tempStartEnd(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}}xyToPosition(e){let t;if(this.min===this.max)return 100;if("Horizontal"===this.orientation){let s=e.x-this.element.getBoundingClientRect().left;this.val=s/(this.element.offsetWidth/100)}else{let s=e.y-this.element.getBoundingClientRect().top;this.val=100-s/(this.element.offsetHeight/100)}let i=this.stepValueCalculation(this.val);return i<0?i=0:i>100&&(i=100),this.enableRtl&&"Vertical"!==this.orientation&&(i=100-i),t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(i/100):this.element.getBoundingClientRect().height*(i/100),t}stepValueCalculation(e){0===this.step&&(this.step=1);let t=parseFloat(Be(this.step))/((parseFloat(Be(this.max))-parseFloat(Be(this.min)))/100),i=e%Math.abs(t);return 0!==i&&(t/2>i?e-=i:e+=Math.abs(t)-i),e}add(e,t,i){let o,r=Math.pow(10,3);return o=i?(Math.round(e*r)+Math.round(t*r))/r:(Math.round(e*r)-Math.round(t*r))/r,o}positionToValue(e){let t,i=parseFloat(Be(this.max))-parseFloat(Be(this.min));return t="Horizontal"===this.orientation?e/this.element.getBoundingClientRect().width*i:e/this.element.getBoundingClientRect().height*i,this.add(t,parseFloat(this.min.toString()),!0)}sliderBarClick(e){let t;e.preventDefault(),"mousedown"===e.type||"mouseup"===e.type||"click"===e.type?t={x:e.clientX,y:e.clientY}:("touchend"===e.type||"touchstart"===e.type)&&(t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY});let i=this.xyToPosition(t),s=this.positionToValue(i);if("Range"===this.type&&this.handlePos2-i<i-this.handlePos1){if(this.activeHandle=2,!this.limits.enabled||!this.limits.endHandleFixed){if(this.limits.enabled){let l=this.getLimitValueAndPosition(s,this.limits.maxStart,this.limits.maxEnd);s=l[0],i=l[1]}this.secondHandle.classList.add("e-handle-active"),this.handlePos2=this.preHandlePos2=i,this.handleVal2=s}this.modifyZindex(),this.secondHandle.focus()}else{if(this.activeHandle=1,!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){let l=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd);s=l[0],i=l[1]}this.firstHandle.classList.add("e-handle-active"),this.handlePos1=this.preHandlePos1=i,this.handleVal1=s}this.modifyZindex(),this.firstHandle.focus()}this.isMaterialTooltip&&this.tooltipElement.classList.add("e-tooltip-active");let r=this.element.querySelector(".e-tab-handle");if(r&&this.getHandle()!==r&&r.classList.remove("e-tab-handle"),e.target===(1===this.activeHandle?this.firstHandle:this.secondHandle))return this.isMaterial&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.sliderBarUp(e),void this.tooltipToggle(this.getHandle());if(!this.checkRepeatedValue(s))return;let a=this.isMaterial&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition;this.getHandle().style.transition=a.handle,"Default"!==this.type&&(this.rangeBar.style.transition=a.rangeBar),this.setHandlePosition(e),this.isMaterialTooltip&&(this.initialTooltip=!1),this.changeEvent("changed",e),"Default"!==this.type&&this.setRangeBar()}handleValueAdjust(e,t,i){1===i?(this.handleVal1=t,this.handleVal2=this.handleVal1+this.minDiff):2===i&&(this.handleVal2=t,this.handleVal1=this.handleVal2-this.minDiff),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2)}dragRangeBarMove(e){let t,i,s;if("touchmove"!==e.type&&e.preventDefault(),this.rangeBarDragged=!0,this.rangeBar.style.transition="none",this.firstHandle.style.transition="none",this.secondHandle.style.transition="none",[i,s]="mousemove"===e.type?[e.clientX,e.clientY]:[e.changedTouches[0].clientX,e.changedTouches[0].clientY],!(this.limits.enabled&&this.limits.startHandleFixed||this.limits.enabled&&this.limits.endHandleFixed)){if(t=this.enableRtl?{x:i+this.secondPartRemain,y:s+this.secondPartRemain}:{x:i-this.firstPartRemain,y:s+this.secondPartRemain},this.handlePos1=this.xyToPosition(t),this.handleVal1=this.positionToValue(this.handlePos1),t=this.enableRtl?{x:i-this.firstPartRemain,y:s-this.firstPartRemain}:{x:i+this.secondPartRemain,y:s-this.firstPartRemain},this.handlePos2=this.xyToPosition(t),this.handleVal2=this.positionToValue(this.handlePos2),this.limits.enabled){let r=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=r[0],this.handlePos1=r[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),r=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=r[0],this.handlePos2=r[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)}this.handleVal2===this.max&&this.handleValueAdjust(this.handleVal2,this.max,2),this.handleVal1===this.min&&this.handleValueAdjust(this.handleVal1,this.min,1)}this.activeHandle=1,this.setHandlePosition(e),this.activeHandle=2,this.setHandlePosition(e),this.tooltipToggle(this.rangeBar),this.setRangeBar()}sliderBarUp(e){this.changeEvent("changed",e),this.handleFocusOut(),this.firstHandle.classList.remove("e-handle-active"),"Range"===this.type&&(this.initialTooltip=!1,this.secondHandle.classList.remove("e-handle-active")),this.closeTooltip(),this.isMaterial&&(this.getHandle().classList.remove("e-large-thumb-size"),this.isMaterialTooltip&&this.tooltipElement.classList.remove("e-tooltip-active")),S.remove(document,"mousemove touchmove",this.sliderBarMove),S.remove(document,"mouseup touchend",this.sliderBarUp)}sliderBarMove(e){let t;"touchmove"!==e.type&&e.preventDefault(),t="mousemove"===e.type?{x:e.clientX,y:e.clientY}:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};let i=this.xyToPosition(t),s=this.positionToValue(i);if(i=Math.round(i),"Range"!==this.type&&1===this.activeHandle){if(!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){let r=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd);i=r[1],s=r[0]}this.handlePos1=i,this.handleVal1=s}this.firstHandle.classList.add("e-handle-active")}if("Range"===this.type)if(1===this.activeHandle){if(this.firstHandle.classList.add("e-handle-active"),!(this.limits.enabled&&this.limits.startHandleFixed||(i>this.handlePos2&&(i=this.handlePos2,s=this.handleVal2),i===this.preHandlePos1))){if(this.limits.enabled){let r=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd);s=r[0],i=r[1]}this.handlePos1=this.preHandlePos1=i,this.handleVal1=s,this.activeHandle=1}}else if(2===this.activeHandle&&(this.secondHandle.classList.add("e-handle-active"),!(this.limits.enabled&&this.limits.endHandleFixed||(i<this.handlePos1&&(i=this.handlePos1,s=this.handleVal1),i===this.preHandlePos2)))){if(this.limits.enabled){let r=this.getLimitValueAndPosition(s,this.limits.maxStart,this.limits.maxEnd);s=r[0],i=r[1]}this.handlePos2=this.preHandlePos2=i,this.handleVal2=s,this.activeHandle=2}!this.checkRepeatedValue(s)||(this.getHandle().style.transition=this.scaleTransform,"Default"!==this.type&&(this.rangeBar.style.transition="none"),this.setHandlePosition(e),this.isMaterial&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.tooltipToggle(this.getHandle()),"Default"!==this.type&&this.setRangeBar())}dragRangeBarUp(e){this.rangeBarDragged?this.isDragComplete=!0:(this.focusSliderElement(),this.sliderBarClick(e)),this.changeEvent("changed",e),this.closeTooltip(),S.remove(document,"mousemove touchmove",this.dragRangeBarMove),S.remove(document,"mouseup touchend",this.dragRangeBarUp),this.rangeBarDragged=!1}checkRepeatedValue(e){if("Range"===this.type){if(e===(this.enableRtl&&"Vertical"!==this.orientation?1===this.activeHandle?this.previousVal[1]:this.previousVal[0]:1===this.activeHandle?this.previousVal[0]:this.previousVal[1]))return 0}else if(e===this.previousVal)return 0;return 1}refreshTooltip(e){this.tooltip.isVisible&&this.tooltipObj&&(this.tooltipValue(),e&&(this.tooltipObj.refresh(e),this.tooltipTarget=e))}openTooltip(e){this.tooltip.isVisible&&this.tooltipObj&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.open(e),this.tooltipTarget=e)}closeTooltip(){this.tooltip.isVisible&&this.tooltipObj&&"Always"!==this.tooltip.showOn&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.close(),this.tooltipTarget=void 0)}keyDown(e){switch(e.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:e.preventDefault(),this.buttonClick(e)}}wireButtonEvt(e){e?(S.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),S.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),S.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),S.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),S.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),S.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),S.remove(this.firstBtn,"focusout",this.sliderFocusOut),S.remove(this.secondBtn,"focusout",this.sliderFocusOut)):(S.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),S.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),S.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),S.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),S.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),S.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),S.add(this.firstBtn,"focusout",this.sliderFocusOut,this),S.add(this.secondBtn,"focusout",this.sliderFocusOut,this))}rangeBarMousedown(e){if(e.preventDefault(),this.focusSliderElement(),"Range"===this.type&&this.drag&&e.target===this.rangeBar){let t,i;"mousedown"===e.type?[t,i]=[e.clientX,e.clientY]:"touchstart"===e.type&&([t,i]=[e.changedTouches[0].clientX,e.changedTouches[0].clientY]),"Horizontal"===this.orientation?(this.firstPartRemain=t-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-t):(this.firstPartRemain=i-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-i),this.minDiff=this.handleVal2-this.handleVal1,this.tooltipToggle(this.rangeBar);let s=this.element.querySelector(".e-tab-handle");s&&s.classList.remove("e-tab-handle"),S.add(document,"mousemove touchmove",this.dragRangeBarMove,this),S.add(document,"mouseup touchend",this.dragRangeBarUp,this)}}elementClick(e){this.isDragComplete?this.isDragComplete=!1:(e.preventDefault(),this.focusSliderElement(),this.sliderBarClick(e))}wireEvents(){this.onresize=this.reposition.bind(this),window.addEventListener("resize",this.onresize),this.enabled&&!this.readonly&&(S.add(this.element,"click",this.elementClick,this),"Range"===this.type&&this.drag&&S.add(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown,this),S.add(this.sliderContainer,"keydown",this.keyDown,this),S.add(this.sliderContainer,"keyup",this.keyUp,this),S.add(this.element,"focusout",this.sliderFocusOut,this),S.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1),this.isForm&&S.add(this.formElement,"reset",this.formResetHandler,this))}unwireEvents(){S.remove(this.element,"click",this.elementClick),"Range"===this.type&&this.drag&&S.remove(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown),S.remove(this.sliderContainer,"keydown",this.keyDown),S.remove(this.sliderContainer,"keyup",this.keyUp),S.remove(this.element,"focusout",this.sliderFocusOut),S.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover),this.wireFirstHandleEvt(!0),"Range"===this.type&&this.wireSecondHandleEvt(!0),this.showButtons&&this.wireButtonEvt(!0),this.wireMaterialTooltipEvent(!0),S.remove(this.element,"reset",this.formResetHandler)}formResetHandler(){this.setProperties({value:this.formResetValue},!0),this.setValue()}keyUp(e){if(9===e.keyCode&&e.target.classList.contains("e-handle")&&(this.focusSliderElement(),!e.target.classList.contains("e-tab-handle"))){this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),e.target.classList.add("e-tab-handle");let t=e.target.parentElement;t===this.element&&(t.querySelector(".e-slider-track").classList.add("e-tab-track"),("Range"===this.type||"MinRange"===this.type)&&t.querySelector(".e-range").classList.add("e-tab-range")),"Range"===this.type&&(this.activeHandle=e.target.previousSibling.classList.contains("e-handle")?2:1),this.getHandle().focus(),this.tooltipToggle(this.getHandle())}this.closeTooltip(),this.changeEvent("changed",e)}hover(e){f(e)||("mouseover"===e.type||"touchmove"===e.type||"mousemove"===e.type||"pointermove"===e.type||"touchstart"===e.type?this.sliderContainer.classList.add("e-slider-hover"):this.sliderContainer.classList.remove("e-slider-hover"))}sliderFocusOut(e){e.relatedTarget!==this.secondHandle&&e.relatedTarget!==this.firstHandle&&e.relatedTarget!==this.element&&e.relatedTarget!==this.firstBtn&&e.relatedTarget!==this.secondBtn&&(this.closeMaterialTooltip(),this.closeTooltip(),this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),this.element.querySelector(".e-tab-track")&&(this.element.querySelector(".e-tab-track").classList.remove("e-tab-track"),("Range"===this.type||"MinRange"===this.type)&&this.element.querySelector(".e-tab-range")&&this.element.querySelector(".e-tab-range").classList.remove("e-tab-range")),this.hiddenInput.focus(),this.hiddenInput.blur(),this.isElementFocused=!1)}removeElement(e){e.parentNode&&e.parentNode.removeChild(e)}changeSliderType(e,t){this.isMaterialTooltip&&this.materialHandle&&(this.sliderContainer.classList.remove("e-material-slider"),this.removeElement(this.materialHandle),this.materialHandle=void 0),this.removeElement(this.firstHandle),this.firstHandle=void 0,"Default"!==e&&("Range"===e&&(this.removeElement(this.secondHandle),this.secondHandle=void 0),this.removeElement(this.rangeBar),this.rangeBar=void 0),this.tooltip.isVisible&&!f(this.tooltipObj)&&(this.tooltipObj.destroy(),this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0),this.limits.enabled&&("MinRange"===e||"Default"===e?f(this.limitBarFirst)||(this.removeElement(this.limitBarFirst),this.limitBarFirst=void 0):f(this.limitBarSecond)||(this.removeElement(this.limitBarSecond),this.limitBarSecond=void 0)),this.activeHandle=1,this.getThemeInitialization(),"Range"===this.type&&this.rangeValueUpdate(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setHandler(),this.setOrientClass(),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.setValue(),this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1)),this.setBarColor(),"tooltip"!==t&&this.updateConfig()}changeRtl(){if(!this.enableRtl&&"Range"===this.type&&(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&this.tooltipObj.refresh(this.firstHandle),this.showButtons){let e=this.enableRtl&&"Vertical"!==this.orientation;we(e?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"}),we(e?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}}changeOrientation(){this.changeSliderType(this.type,"null")}updateConfig(){this.setEnableRTL(),this.setValue(),this.tooltip.isVisible&&this.refreshTooltip(this.tooltipTarget),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.limitsPropertyChange()}limitsPropertyChange(){this.limits.enabled?(f(this.limitBarFirst)&&"Range"!==this.type&&this.createLimitBar(),f(this.limitBarFirst)&&f(this.limitBarSecond)&&"Range"===this.type&&this.createLimitBar(),this.setLimitBar(),this.setValue()):(f(this.limitBarFirst)||ie(this.limitBarFirst),f(this.limitBarSecond)||ie(this.limitBarSecond))}getPersistData(){return this.addOnPersist(["value"])}destroy(){super.destroy(),this.unwireEvents(),window.removeEventListener("resize",this.onresize),z([this.sliderContainer],["e-disabled"]),this.firstHandle.removeAttribute("aria-orientation"),"Range"===this.type&&this.secondHandle.removeAttribute("aria-orientation"),this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer),ie(this.sliderContainer),this.tooltip.isVisible&&this.tooltipObj.destroy(),this.element.innerHTML=""}onPropertyChanged(e,t){for(let i of Object.keys(e))switch(i){case"cssClass":this.setCSSClass(t.cssClass);break;case"value":if(e&&t){let s=f(e.value)?"Range"===this.type?[this.min,this.max]:this.min:e.value;this.setProperties({value:s},!0),!f(t.value)&&t.value.toString()!==s.toString()&&(this.setValue(),this.refreshTooltip(this.tooltipTarget),"Range"===this.type&&(this.activeHandle=f(e.value)||t.value[1]===s[1]?1:2))}break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":!f(e.tooltip)&&!f(t.tooltip)&&this.setTooltip(i);break;case"type":!f(t)&&Object.keys(t).length&&!f(t.type)&&(this.changeSliderType(t.type,i),this.setZindex());break;case"enableRtl":t.enableRtl!==e.enableRtl&&"Vertical"!==this.orientation&&(this.rtl=t.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":f(this.sliderContainer.querySelector(".e-scale"))||(ie(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,s=>{s.match(/e-scale-/)&&this.sliderContainer.classList.remove(s)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":e.showButtons?(this.setButtons(),this.reposition(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.sliderContainer.classList.remove("e-slider-btn"),this.firstBtn=void 0,this.secondBtn=void 0,this.reposition());break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValues":this.setValue(),this.reposition();break;case"colorRange":this.reposition();break;case"width":this.setElementWidth(e.width),this.setMinMaxValue(),this.limits&&this.limitsPropertyChange()}}setReadOnly(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add("e-read-only")):(this.wireEvents(),this.sliderContainer.classList.remove("e-read-only"))}setMinMaxValue(){this.setValue(),this.refreshTooltip(this.tooltipTarget),f(this.sliderContainer.querySelector(".e-scale"))||this.ul&&(ie(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,e=>{e.match(/e-scale-/)&&this.sliderContainer.classList.remove(e)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex())}setZindex(){this.zIndex=6,!f(this.ticks)&&"None"!==this.ticks.placement&&(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+""),!this.isMaterial&&!f(this.ticks)&&"Both"===this.ticks.placement&&(this.element.style.zIndex=this.zIndex+2+""),this.firstHandle.style.zIndex=this.zIndex+3+"","Range"===this.type&&(this.secondHandle.style.zIndex=this.zIndex+4+"")}setTooltip(e){this.changeSliderType(this.type,e)}setBarColor(){let e,t,i=this.sliderTrack.lastElementChild;for(;i;)this.sliderTrack.removeChild(i),i=this.sliderTrack.lastElementChild;for(let s=0;s<this.colorRange.length;s++)if(!f(this.colorRange[s].start)&&!f(this.colorRange[s].end)&&this.colorRange[s].end>this.colorRange[s].start){this.colorRange[s].start<this.min&&(this.colorRange[s].start=this.min),this.colorRange[s].end>this.max&&(this.colorRange[s].end=this.max);const r=this.checkHandlePosition(this.colorRange[s].start),o=this.checkHandlePosition(this.colorRange[s].end),a=this.createElement("div");a.style.backgroundColor=this.colorRange[s].color,a.style.border="1px solid "+this.colorRange[s].color,"Horizontal"===this.orientation?(t="e-slider-horizantal-color",e=this.enableRtl?f(this.customValues)?this.checkHandlePosition(this.max)-this.checkHandlePosition(this.colorRange[s].end):this.checkHandlePosition(this.customValues.length-this.colorRange[s].end-1):this.checkHandlePosition(this.colorRange[s].start),a.style.width=o-r+"px",a.style.left=e+"px"):(t="e-slider-vertical-color",e=this.checkHandlePosition(this.colorRange[s].start),a.style.height=o-r+"px",a.style.bottom=e+"px"),a.classList.add(t),this.sliderTrack.appendChild(a)}}getModuleName(){return"slider"}};_i([g(null)],gn.prototype,"value",void 0),_i([g(null)],gn.prototype,"customValues",void 0),_i([g(1)],gn.prototype,"step",void 0),_i([g(null)],gn.prototype,"width",void 0),_i([g(0)],gn.prototype,"min",void 0),_i([g(100)],gn.prototype,"max",void 0),_i([g(!1)],gn.prototype,"readonly",void 0),_i([g("Default")],gn.prototype,"type",void 0),_i([Di([{}],jE)],gn.prototype,"colorRange",void 0),_i([U({},$y)],gn.prototype,"ticks",void 0),_i([U({},Rp)],gn.prototype,"limits",void 0),_i([g(!0)],gn.prototype,"enabled",void 0),_i([U({},Xy)],gn.prototype,"tooltip",void 0),_i([g(!1)],gn.prototype,"showButtons",void 0),_i([g(!0)],gn.prototype,"enableAnimation",void 0),_i([g("Horizontal")],gn.prototype,"orientation",void 0),_i([g("")],gn.prototype,"cssClass",void 0),_i([g(!1)],gn.prototype,"enableHtmlSanitizer",void 0),_i([F()],gn.prototype,"created",void 0),_i([F()],gn.prototype,"change",void 0),_i([F()],gn.prototype,"changed",void 0),_i([F()],gn.prototype,"renderingTicks",void 0),_i([F()],gn.prototype,"renderedTicks",void 0),_i([F()],gn.prototype,"tooltipChange",void 0),gn=_i([ii],gn);var TC,Yo=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const Zy={EMAIL:new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),URL:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/m,DATE_ISO:new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),DIGITS:new RegExp("^[0-9]*$"),PHONE:new RegExp("^[+]?[0-9]{9,13}$"),CREDITCARD:new RegExp("^\\d{13,16}$")};var LC=(()=>(function(n){n[n.Message=0]="Message",n[n.Label=1]="Label"}(LC||(LC={})),LC))();let co=TC=class extends ec{constructor(e,t){super(t,e),this.validated=[],this.errorRules=[],this.allowSubmit=!1,this.required="required",this.infoElement=null,this.inputElement=null,this.selectQuery="input:not([type=reset]):not([type=button]), select, textarea",this.localyMessage={},this.defaultMessages={required:"This field is required.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateIso:"Please enter a valid date ( ISO ).",creditcard:"Please enter valid card number",number:"Please enter a valid number.",digits:"Please enter only digits.",maxLength:"Please enter no more than {0} characters.",minLength:"Please enter at least {0} characters.",rangeLength:"Please enter a value between {0} and {1} characters long.",range:"Please enter a value between {0} and {1}.",max:"Please enter a value less than or equal to {0}.",min:"Please enter a value greater than or equal to {0}.",regex:"Please enter a correct value.",tel:"Please enter a valid phone number.",pattern:"Please enter a correct pattern value.",equalTo:"Please enter the valid match text"},void 0===this.rules&&(this.rules={}),this.l10n=new Na("formValidator",this.defaultMessages,this.locale),this.locale&&this.localeFunc(),qf.on("notifyExternalChange",this.afterLocalization,this),e="string"==typeof e?W(e,document):e,null!=this.element&&(this.element.setAttribute("novalidate",""),this.inputElements=Ae(this.selectQuery,this.element),this.createHTML5Rules(),this.wireEvents())}addRules(e,t){e&&(this.rules.hasOwnProperty(e)?fe(this.rules[e],t,{}):this.rules[e]=t)}removeRules(e,t){if(e||t)if(this.rules[e]&&!t)delete this.rules[e];else{if(f(this.rules[e]&&t))return;for(let i=0;i<t.length;i++)delete this.rules[e][t[i]]}else this.rules={}}validate(e){const t=Object.keys(this.rules);if(e&&t.length)return this.validateRules(e),-1!==t.indexOf(e)&&0===this.errorRules.filter(i=>i.name===e).length;this.errorRules=[];for(const i of t)this.validateRules(i);return 0===this.errorRules.length}reset(){this.element.reset(),this.clearForm()}getInputElement(e){return this.inputElement=W('[name="'+e+'"]',this.element),this.inputElement}destroy(){this.reset(),this.unwireEvents(),this.rules={};const e=Ae("."+this.errorClass+", ."+this.validClass,this.element);for(const t of e)ie(t);super.destroy(),qf.off("notifyExternalChange",this.afterLocalization)}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"locale":this.localeFunc()}}localeFunc(){for(const e of Object.keys(this.defaultMessages)){this.l10n.setLocale(this.locale);const t=this.l10n.getConstant(e);this.localyMessage[e]=t}}getModuleName(){return"formValidator"}afterLocalization(e){this.locale=e.locale,this.localeFunc()}refresh(){this.unwireEvents(),this.inputElements=Ae(this.selectQuery,this.element),this.wireEvents()}clearForm(){this.errorRules=[],this.validated=[];const e=Ae(this.selectQuery,this.element);for(const t of e){const i=t;i.removeAttribute("aria-invalid"),i.classList.remove(this.errorClass),i.name.length>0&&(this.getInputElement(i.name),this.getErrorElement(i.name),this.hideMessage(i.name)),i.classList.remove(this.validClass)}}createHTML5Rules(){const e=["required","validateHidden","regex","rangeLength","maxLength","minLength","dateIso","digits","pattern","data-val-required","type","data-validation","min","max","range","equalTo","data-val-minlength-min","data-val-equalto-other","data-val-maxlength-max","data-val-range-min","data-val-regex-pattern","data-val-length-max","data-val-creditcard","data-val-phone"],t=["hidden","email","url","date","number","tel"];for(const i of this.inputElements){const s={};for(let r of e)if(null!==i.getAttribute(r))switch(r){case"required":this.defRule(i,s,r,i.required);break;case"data-validation":r=i.getAttribute(r),this.defRule(i,s,r,!0);break;case"type":-1!==t.indexOf(i.type)&&this.defRule(i,s,i.type,!0);break;case"rangeLength":case"range":this.defRule(i,s,r,JSON.parse(i.getAttribute(r)));break;case"equalTo":{const o=i.getAttribute(r);this.defRule(i,s,r,o)}break;default:"true"===i.getAttribute("data-val")?this.annotationRule(i,s,r,i.getAttribute(r)):this.defRule(i,s,r,i.getAttribute(r))}0!==Object.keys(s).length&&this.addRules(i.name,s)}}annotationRule(e,t,i,s){const r=i.split("-"),o=["required","creditcard","phone","maxlength","minlength","range","regex","equalto"],a=r[r.length-1],l=r[r.length-2];if(-1!==o.indexOf(a))switch(a){case"required":this.defRule(e,t,"required",s);break;case"creditcard":this.defRule(e,t,"creditcard",s);break;case"phone":this.defRule(e,t,"tel",s)}else if(-1!==o.indexOf(l))switch(l){case"maxlength":this.defRule(e,t,"maxLength",s);break;case"minlength":this.defRule(e,t,"minLength",s);break;case"range":{const h=e.getAttribute("data-val-range-min"),c=e.getAttribute("data-val-range-max");this.defRule(e,t,"range",[h,c])}break;case"equalto":{const h=e.getAttribute(i).split(".");this.defRule(e,t,"equalTo",h[h.length-1])}break;case"regex":this.defRule(e,t,"regex",s)}}defRule(e,t,i,s){const r=e.getAttribute("data-"+i+"-message"),o=e.getAttribute("data-val-"+i);let a;this.rules[e.name]&&"validateHidden"!==i&&"hidden"!==i&&(this.getInputElement(e.name),a=this.getErrorMessage(this.rules[e.name][i],i)),r?s=[s,r]:o?s=[s,o]:a&&(s=[s,a]),t[i]=s}wireEvents(){for(const e of this.inputElements)TC.isCheckable(e)?S.add(e,"click",this.clickHandler,this):"SELECT"===e.tagName?S.add(e,"change",this.changeHandler,this):(S.add(e,"focusout",this.focusOutHandler,this),S.add(e,"keyup",this.keyUpHandler,this));S.add(this.element,"submit",this.submitHandler,this),S.add(this.element,"reset",this.resetHandler,this)}unwireEvents(){for(const e of this.inputElements)S.clearEvents(e);S.remove(this.element,"submit",this.submitHandler),S.remove(this.element,"reset",this.resetHandler)}focusOutHandler(e){this.trigger("focusout",e);const t=e.target;this.rules[t.name]&&(this.rules[t.name][this.required]||t.value.length>0?this.validate(t.name):-1===this.validated.indexOf(t.name)&&this.validated.push(t.name))}keyUpHandler(e){this.trigger("keyup",e);const t=e.target;9===e.which&&(!this.rules[t.name]||this.rules[t.name]&&!this.rules[t.name][this.required])||-1!==this.validated.indexOf(t.name)&&this.rules[t.name]&&-1===[16,17,18,20,35,36,37,38,39,40,45,144,225].indexOf(e.which)&&this.validate(t.name)}clickHandler(e){this.trigger("click",e);const t=e.target;"submit"!==t.type?this.validate(t.name):null!==t.getAttribute("formnovalidate")&&(this.allowSubmit=!0)}changeHandler(e){this.trigger("change",e),this.validate(e.target.name)}submitHandler(e){this.trigger("submit",e),this.allowSubmit||this.validate()?this.allowSubmit=!1:e.preventDefault()}resetHandler(){this.clearForm()}validateRules(e){if(!this.rules[e])return;const t=Object.keys(this.rules[e]);let i=!1,s=!1;const r=t.indexOf("validateHidden"),o=t.indexOf("hidden");if(this.getInputElement(e),-1!==o&&(i=!0),-1!==r&&(s=!0),!i||i&&s){-1!==r&&t.splice(r,1),-1!==o&&t.splice(o-1,1),this.getErrorElement(e);for(const a of t){const l=this.getErrorMessage(this.rules[e][a],a),h={name:e,message:l},c={inputName:e,element:this.inputElement,message:l};if(!this.isValid(e,a)&&!this.inputElement.classList.contains(this.ignore)){this.removeErrorRules(e),this.errorRules.push(h),this.inputElement.setAttribute("aria-invalid","true"),this.inputElement.setAttribute("aria-describedby",this.inputElement.id+"-info"),this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass),this.infoElement?this.showMessage(h):this.createErrorElement(e,h.message,this.inputElement),c.errorElement=this.infoElement,c.status="failure",this.inputElement.classList.add(this.errorClass),this.inputElement.classList.remove(this.validClass),this.optionalValidationStatus(e,c),this.trigger("validationComplete",c),"required"===a&&this.inputElement.setAttribute("aria-required","true");break}this.hideMessage(e),c.status="success",this.trigger("validationComplete",c)}}}optionalValidationStatus(e,t){!this.rules[e][this.required]&&!this.inputElement.value.length&&!f(this.infoElement)&&(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),t.status="",this.hideMessage(e))}isValid(e,t){const i=this.rules[e][t],r=this.rules[e][t],o={value:this.inputElement.value,param:i instanceof Array&&"string"==typeof i[1]?i[0]:i,element:this.inputElement,formElement:this.element};return this.trigger("validationBegin",o),!o.param&&"required"===t||(r&&"function"==typeof r[0]?r[0].call(this,{element:this.inputElement,value:this.inputElement.value}):TC.isCheckable(this.inputElement)?"required"!==t||Ae('input[name="'+e+'"]:checked',this.element).length>0:TC.checkValidator[t](o))}getErrorMessage(e,t){let i=this.inputElement.getAttribute("data-"+t+"-message")?this.inputElement.getAttribute("data-"+t+"-message"):e instanceof Array&&"string"==typeof e[1]?e[1]:0!==Object.keys(this.localyMessage).length?this.localyMessage[t]:this.defaultMessages[t];const s=i.match(/{(\d)}/g);if(!f(s))for(let r=0;r<s.length;r++)i=i.replace(s[r],e instanceof Array?e[r]:e);return i}createErrorElement(e,t,i){let s=Ve(this.errorElement,{className:this.errorClass,innerHTML:t,attrs:{for:e}});this.errorOption===LC.Message&&(s.classList.remove(this.errorClass),s.classList.add("e-message"),s=Ve(this.errorContainer,{className:this.errorClass,innerHTML:s.outerHTML})),s.id=this.inputElement.name+"-info",this.element.querySelector('[data-valmsg-for="'+i.id+'"]')?this.element.querySelector('[data-valmsg-for="'+i.id+'"]').appendChild(s):!0===i.hasAttribute("data-msg-containerid")?W("#"+i.getAttribute("data-msg-containerid"),this.element).appendChild(s):null!=this.customPlacement?this.customPlacement.call(this,this.inputElement,s):this.inputElement.parentNode.insertBefore(s,this.inputElement.nextSibling),s.style.display="block",this.getErrorElement(e),this.validated.push(e),this.checkRequired(e)}getErrorElement(e){return this.infoElement=W(this.errorElement+"."+this.errorClass,this.inputElement.parentElement),this.infoElement||(this.infoElement=W(this.errorElement+"."+this.errorClass+'[for="'+e+'"]',this.element)),this.infoElement}removeErrorRules(e){for(let t=0;t<this.errorRules.length;t++)this.errorRules[t].name===e&&this.errorRules.splice(t,1)}showMessage(e){this.infoElement.style.display="block",this.infoElement.innerHTML=e.message,this.checkRequired(e.name)}hideMessage(e){this.infoElement&&(this.infoElement.style.display="none",this.removeErrorRules(e),this.inputElement.classList.add(this.validClass),this.inputElement.classList.remove(this.errorClass),this.inputElement.setAttribute("aria-invalid","false"))}checkRequired(e){!this.rules[e][this.required]&&!this.inputElement.value.length&&!f(this.infoElement)&&(this.infoElement.innerHTML=this.inputElement.value,this.infoElement.setAttribute("aria-invalid","false"),this.hideMessage(e))}static isCheckable(e){const t=e.getAttribute("type");return t&&("checkbox"===t||"radio"===t||"submit"===t)}};co.checkValidator={required:n=>isNaN(Date.parse(n.value))?n.value.toString().length>0:!isNaN(new Date(n.value).getTime()),email:n=>Zy.EMAIL.test(n.value),url:n=>Zy.URL.test(n.value),dateIso:n=>Zy.DATE_ISO.test(n.value),tel:n=>Zy.PHONE.test(n.value),creditcard:n=>Zy.CREDITCARD.test(n.value),number:n=>!isNaN(Number(n.value))&&-1===n.value.indexOf(" "),digits:n=>Zy.DIGITS.test(n.value),maxLength:n=>n.value.length<=n.param,minLength:n=>n.value.length>=n.param,rangeLength:n=>{const e=n.param;return n.value.length>=e[0]&&n.value.length<=e[1]},range:n=>{const e=n.param;return!isNaN(Number(n.value))&&Number(n.value)>=e[0]&&Number(n.value)<=e[1]},date:n=>!isNaN(new Date(n.value).getTime()),max:n=>isNaN(Number(n.value))?new Date(n.value).getTime()<=new Date(JSON.parse(JSON.stringify(n.param))).getTime():+n.value<=n.param,min:n=>{if(isNaN(Number(n.value))){if(-1!==n.value.indexOf(",")){const e=n.value.replace(/,/g,"");return parseFloat(e)>=n.param}return new Date(n.value).getTime()>=new Date(JSON.parse(JSON.stringify(n.param))).getTime()}return+n.value>=n.param},regex:n=>new RegExp(n.param).test(n.value),equalTo:n=>{const e=n.formElement.querySelector("#"+n.param);return n.param=e.value,n.param===n.value}},Yo([g("")],co.prototype,"locale",void 0),Yo([g("e-hidden")],co.prototype,"ignore",void 0),Yo([g()],co.prototype,"rules",void 0),Yo([g("e-error")],co.prototype,"errorClass",void 0),Yo([g("e-valid")],co.prototype,"validClass",void 0),Yo([g("label")],co.prototype,"errorElement",void 0),Yo([g("div")],co.prototype,"errorContainer",void 0),Yo([g(LC.Label)],co.prototype,"errorOption",void 0),Yo([F()],co.prototype,"focusout",void 0),Yo([F()],co.prototype,"keyup",void 0),Yo([F()],co.prototype,"click",void 0),Yo([F()],co.prototype,"change",void 0),Yo([F()],co.prototype,"submit",void 0),Yo([F()],co.prototype,"validationBegin",void 0),Yo([F()],co.prototype,"validationComplete",void 0),Yo([F()],co.prototype,"customPlacement",void 0),co=TC=Yo([ii],co);var li=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const yz="e-file-select",FI="e-file-drop",bz="e-upload-files",zE="e-upload-file-list",gr="e-file-status",vz="e-file-name",Cz="e-file-type",wz="e-file-size",Do="e-file-remove-btn",fh="e-file-delete-btn",Sz="e-spinner-pane",ar="e-file-abort-btn",dd="e-file-reload-btn",NI="e-upload-drag-hover",am="e-upload-progress-wrap",WE="e-upload-progress-bar",BI="e-progress-bar-text",mh="e-upload-progress",lc="e-upload-success",gh="e-upload-fails",VI="e-file-container",_z="e-validation-fails",HI="e-disabled",Ez="e-rtl-container",jI="e-clear-icon-focus",ga="e-file-pause-btn",lm="e-file-play-btn",RC="e-restrict-retry",Dz=["title","style","class"],Mz="e-form-upload",IC="e-file-invalid";class UE extends he{}li([g("")],UE.prototype,"name",void 0),li([g(null)],UE.prototype,"size",void 0),li([g("")],UE.prototype,"type",void 0);class GE extends he{}li([g("Browse...")],GE.prototype,"browse",void 0),li([g("Upload")],GE.prototype,"upload",void 0),li([g("Clear")],GE.prototype,"clear",void 0);class Ky extends he{}li([g("")],Ky.prototype,"saveUrl",void 0),li([g("")],Ky.prototype,"removeUrl",void 0),li([g(0)],Ky.prototype,"chunkSize",void 0),li([g(3)],Ky.prototype,"retryCount",void 0),li([g(500)],Ky.prototype,"retryAfterDelay",void 0);let Xi=class extends $i{constructor(e,t){super(e,t),this.initialAttr={accept:null,multiple:!1,disabled:!1},this.uploadedFilesData=[],this.base64String=[],this.isForm=!1,this.allTypes=!1,this.pausedData=[],this.uploadMetaData=[],this.tabIndex="0",this.btnTabIndex="0",this.disableKeyboardNavigation=!1,this.count=-1,this.actionCompleteCount=0,this.flag=!0,this.selectedFiles=[],this.uploaderName="UploadFiles",this.fileStreams=[],this.newFileRef=0,this.isFirstFileOnSelection=!1,this.dragCounter=0,this.fileList=[],this.filesData=[],this.uploaderOptions=e}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"allowedExtensions":this.setExtensions(this.allowedExtensions),this.clearAll();break;case"enabled":this.setControlStatus();break;case"multiple":this.setMultipleSelection();break;case"enableRtl":this.setRTL(),this.reRenderFileList();break;case"buttons":this.buttons.browse=f(this.buttons.browse)?"":this.buttons.browse,this.buttons.clear=f(this.buttons.clear)?"":this.buttons.clear,this.buttons.upload=f(this.buttons.upload)?"":this.buttons.upload,this.renderButtonTemplates();break;case"dropArea":this.unBindDropEvents(),this.updateDropArea();break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkHTMLAttributes(!0);break;case"files":this.renderPreLoadFiles();break;case"directoryUpload":this.updateDirectoryAttributes();break;case"template":this.clearAll();break;case"minFileSize":case"maxFileSize":case"autoUpload":case"sequentialUpload":this.clearAll();break;case"locale":this.l10n.setLocale(this.locale),this.setLocalizedTexts(),this.preLocaleObj=Q("currentLocale",this.l10n);break;case"cssClass":this.setCSSClass(t.cssClass)}}setLocalizedTexts(){f(this.template)&&("string"==typeof this.buttons.browse&&(this.browseButton.innerText="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText),this.uploadWrapper&&!f(this.uploadWrapper.querySelector("."+FI))&&(this.uploadWrapper.querySelector("."+FI).innerHTML=this.localizedTexts("dropFilesHint"))),this.updateFileList())}getKeyValue(e){let t;for(const i of Object.keys(this.preLocaleObj))this.preLocaleObj[i]===e&&(t=i);return t}updateFileList(){let e;if(this.fileList.length>0&&!f(this.uploadWrapper.querySelector("."+bz)))for(let t=0;t<this.fileList.length;t++)e=this.fileList[t].querySelector(".e-file-status"),e.innerHTML=this.localizedTexts(this.getKeyValue(this.filesData[t].status)),this.filesData[t].status=this.localizedTexts(this.getKeyValue(this.filesData[t].status)),this.fileList[t].classList.contains(lc)&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("delete")),this.fileList[t].querySelector(".e-file-play-btn")&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("resume")),this.fileList[t].querySelector(".e-file-remove-btn")&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("remove")),this.fileList[t].querySelector(".e-file-reload-btn")&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("retry")),this.autoUpload||(this.uploadButton.innerText="Upload"===this.buttons.upload?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.localizedTexts("Upload")),this.clearButton.innerText="Clear"===this.buttons.clear?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.localizedTexts("Clear")))}reRenderFileList(){this.listParent&&(ie(this.listParent),this.listParent=null,this.fileList=[],this.createFileList(this.filesData),this.actionButtons&&(this.removeActionButtons(),this.renderActionButtons(),this.checkActionButtonStatus()))}preRender(){this.localeText={Browse:"Browse...",Clear:"Clear",Upload:"Upload",dropFilesHint:"Or drop files here",invalidMaxFileSize:"File size is too large",invalidMinFileSize:"File size is too small",invalidFileType:"File type is not allowed",uploadFailedMessage:"File failed to upload",uploadSuccessMessage:"File uploaded successfully",removedSuccessMessage:"File removed successfully",removedFailedMessage:"Unable to remove file",inProgress:"Uploading",readyToUploadMessage:"Ready to upload",abort:"Abort",remove:"Remove",cancel:"Cancel",delete:"Delete file",pauseUpload:"File upload paused",pause:"Pause",resume:"Resume",retry:"Retry",fileUploadCancel:"File upload canceled",invalidFileSelection:"Invalid files selected",totalFiles:"Total files",size:"Size"},this.l10n=new Na("uploader",this.localeText,this.locale),this.preLocaleObj=Q("currentLocale",this.l10n),this.formRendered(),this.updateHTMLAttrToElement(),this.checkHTMLAttributes(!1);const e=Q("ej2_instances",this.element);if("EJS-UPLOADER"===this.element.tagName){const t=this.createElement("input",{attrs:{type:"file"}});let i=0;for(;i<this.element.attributes.length;i++)t.setAttribute(this.element.attributes[i].nodeName,this.element.attributes[i].nodeValue),t.innerHTML=this.element.innerHTML;t.hasAttribute("name")||t.setAttribute("name","UploadFiles"),this.element.appendChild(t),this.element=t,Oi("ej2_instances",e,this.element)}e[0].isPureReactComponent&&(f(e[0].props.name)?!f(e[0].props.id)&&f(e[0].props.name)?this.element.setAttribute("name",e[0].props.id):this.element.setAttribute("name","UploadFiles"):this.element.setAttribute("name",e[0].props.name)),f(this.element.getAttribute("name"))&&this.element.setAttribute("name",this.element.getAttribute("id")),this.element.hasAttribute("type")||this.element.setAttribute("type","file"),this.updateDirectoryAttributes(),this.keyConfigs={enter:"enter"},this.element.hasAttribute("tabindex")&&(this.tabIndex=this.element.getAttribute("tabindex")),this.browserName=T.info.name,this.uploaderName=this.element.getAttribute("name")}formRendered(){let e=K(this.element,"form");if(!f(e))for(;e&&e!==document.documentElement;e=e.parentElement)"FORM"===e.tagName&&(this.isForm=!0,this.formElement=e,e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data"))}getPersistData(){return this.addOnPersist(["filesData"])}getModuleName(){return"uploader"}updateDirectoryAttributes(){this.directoryUpload?(this.element.setAttribute("directory","true"),this.element.setAttribute("webkitdirectory","true")):(this.element.removeAttribute("directory"),this.element.removeAttribute("webkitdirectory"))}render(){this.renderBrowseButton(),this.initializeUpload(),this.updateHTMLAttrToWrapper(),this.wireEvents(),this.setMultipleSelection(),this.setExtensions(this.allowedExtensions),this.setRTL(),this.renderPreLoadFiles(),this.setControlStatus(),this.setCSSClass()}renderBrowseButton(){this.browseButton=this.createElement("button",{className:"e-css e-btn",attrs:{type:"button"}}),this.browseButton.setAttribute("tabindex",this.tabIndex),"string"==typeof this.buttons.browse?(this.browseButton.textContent="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText)):this.browseButton.appendChild(this.buttons.browse),this.element.setAttribute("aria-label","Uploader")}renderActionButtons(){this.element.setAttribute("tabindex","-1"),this.actionButtons=this.createElement("div",{className:"e-upload-actions"}),this.uploadButton=this.createElement("button",{className:"e-file-upload-btn e-css e-btn e-flat e-primary",attrs:{type:"button",tabindex:this.btnTabIndex}}),this.clearButton=this.createElement("button",{className:"e-file-clear-btn e-css e-btn e-flat",attrs:{type:"button",tabindex:this.btnTabIndex}}),this.actionButtons.appendChild(this.clearButton),this.actionButtons.appendChild(this.uploadButton),this.renderButtonTemplates(),this.uploadWrapper.appendChild(this.actionButtons),this.browseButton.blur(),this.isPreloadFiles||this.uploadButton.focus(),this.wireActionButtonEvents()}serverActionButtonsEventBind(e){e&&!this.isForm&&(this.browseButton.blur(),this.actionButtons=e,this.uploadButton=this.actionButtons.querySelector(".e-file-upload-btn"),this.clearButton=this.actionButtons.querySelector(".e-file-clear-btn"),this.uploadButton.focus(),this.unwireActionButtonEvents(),this.wireActionButtonEvents(),this.checkActionButtonStatus())}wireActionButtonEvents(){S.add(this.uploadButton,"click",this.uploadButtonClick,this),S.add(this.clearButton,"click",this.clearButtonClick,this)}unwireActionButtonEvents(){S.remove(this.uploadButton,"click",this.uploadButtonClick),S.remove(this.clearButton,"click",this.clearButtonClick)}removeActionButtons(){this.actionButtons&&(this.unwireActionButtonEvents(),ie(this.actionButtons),this.actionButtons=null)}renderButtonTemplates(){if("string"==typeof this.buttons.browse?(this.browseButton.textContent="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.textContent)):(this.browseButton.innerHTML="",this.browseButton.appendChild(this.buttons.browse)),this.uploadButton){const e=f(this.buttons.upload)?"Upload":this.buttons.upload;this.buttons.upload=e,"string"==typeof this.buttons.upload?(this.uploadButton.textContent="Upload"===this.buttons.upload?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.uploadButton.textContent)):(this.uploadButton.innerHTML="",this.uploadButton.appendChild(this.buttons.upload))}if(this.clearButton){const e=f(this.buttons.clear)?"Clear":this.buttons.clear;this.buttons.clear=e,"string"==typeof this.buttons.clear?(this.clearButton.textContent="Clear"===this.buttons.clear?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.clearButton.textContent)):(this.clearButton.innerHTML="",this.clearButton.appendChild(this.buttons.clear))}}initializeUpload(){this.element.setAttribute("tabindex","-1");const e=this.createElement("span",{className:yz});this.element.parentElement.insertBefore(e,this.element),this.dropAreaWrapper=this.createElement("div",{className:"e-file-select-wrap"}),this.element.parentElement.insertBefore(this.dropAreaWrapper,this.element),e.appendChild(this.element),this.dropAreaWrapper.appendChild(this.browseButton),this.dropAreaWrapper.appendChild(e),this.uploadWrapper=this.createElement("div",{className:"e-upload e-control-wrapper"}),this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper,this.dropAreaWrapper),this.uploadWrapper.appendChild(this.dropAreaWrapper),this.setDropArea()}renderPreLoadFiles(){if(this.files.length){if(this.enablePersistence&&this.filesData.length)return void this.createFileList(this.filesData);if(f(this.files[0].size))return;this.isPreloadFiles=!0;let e=[].slice.call(this.files);const t=[];this.multiple||(this.clearData(),e=[e[0]]);for(const i of e){const s={name:i.name+"."+i.type.split(".")[i.type.split(".").length-1],rawFile:"",size:i.size,status:this.localizedTexts("uploadSuccessMessage"),type:i.type,validationMessages:{minSize:"",maxSize:""},statusCode:"2"};t.push(s),this.filesData.push(s)}this.createFileList(t),!this.autoUpload&&this.listParent&&!this.actionButtons&&(!this.isForm||this.allowUpload())&&this.showFileList&&this.renderActionButtons(),this.checkActionButtonStatus(),this.sequentialUpload&&(this.count=this.filesData.length-1),this.isPreloadFiles=!1}}checkActionButtonStatus(){if(this.actionButtons){const e=this.uploadWrapper.querySelectorAll("."+_z).length+this.uploadWrapper.querySelectorAll(".e-upload-fails:not(.e-upload-progress)").length+this.uploadWrapper.querySelectorAll("span."+lc).length+this.uploadWrapper.querySelectorAll("span."+mh).length;e>0&&e===this.uploadWrapper.querySelectorAll("li").length?this.uploadButton.setAttribute("disabled","disabled"):this.uploadButton.removeAttribute("disabled")}}setDropArea(){const e=this.dropAreaWrapper.querySelector(".e-file-drop");if(this.dropArea){this.dropZoneElement="string"!=typeof this.dropArea?this.dropArea:W(this.dropArea,document);let t=this.element,i=!1;for(;t.parentNode;)t=t.parentNode,t===this.dropZoneElement&&(i=!0,e?e.innerHTML=this.localizedTexts("dropFilesHint"):this.createDropTextHint());!i&&e&&Ue(e)}else!f(this.uploaderOptions)&&void 0===this.uploaderOptions.dropArea&&(this.createDropTextHint(),this.dropZoneElement=this.uploadWrapper,this.setProperties({dropArea:this.uploadWrapper},!0));this.bindDropEvents()}updateDropArea(){if(this.dropArea)this.setDropArea();else{this.dropZoneElement=null;const e=this.dropAreaWrapper.querySelector(".e-file-drop");e&&Ue(e)}}createDropTextHint(){const e=this.createElement("span",{className:FI});e.innerHTML=this.localizedTexts("dropFilesHint"),this.dropAreaWrapper.appendChild(e)}updateHTMLAttrToElement(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))Dz.indexOf(e)<0&&this.element.setAttribute(e,this.htmlAttributes[e])}updateHTMLAttrToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(Dz.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&B([this.uploadWrapper],t.split(" "))}else if("style"===e){let t=this.uploadWrapper.getAttribute(e);t=f(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.uploadWrapper.setAttribute(e,t)}else this.uploadWrapper.setAttribute(e,this.htmlAttributes[e])}setMultipleSelection(){if(this.multiple&&!this.element.hasAttribute("multiple")){const e=document.createAttribute("multiple");e.value="multiple",this.element.setAttributeNode(e)}else this.multiple||this.element.removeAttribute("multiple")}checkAutoUpload(e){this.autoUpload?(this.sequentialUpload?this.sequenceUpload(e):this.upload(e),this.removeActionButtons()):this.actionButtons||this.renderActionButtons(),this.checkActionButtonStatus()}sequenceUpload(e){if(this.filesData.length-e.length==0||"1"!==this.filesData[this.filesData.length-e.length-1].statusCode){++this.count;const t=!this.showFileList;"object"==typeof this.filesData[this.count]?(this.isFirstFileOnSelection=!1,this.upload(this.filesData[this.count],t),"0"===this.filesData[this.count].statusCode&&this.sequenceUpload(e)):--this.count}}setCSSClass(e){let t=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(t=this.cssClass.replace(/\s+/g," ").trim()),!f(this.cssClass)&&""!==t&&B([this.uploadWrapper],t.split(t.indexOf(",")>-1?",":" "));let i=e;f(e)||(i=e.replace(/\s+/g," ").trim()),!f(e)&&""!==i&&z([this.uploadWrapper],i.split(" "))}wireEvents(){S.add(this.browseButton,"click",this.browseButtonClick,this),S.add(this.element,"change",this.onSelectFiles,this),S.add(document,"click",this.removeFocus,this),this.keyboardModule=new Ds(this.uploadWrapper,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.isForm&&S.add(this.formElement,"reset",this.resetForm,this)}unWireEvents(){S.remove(this.browseButton,"click",this.browseButtonClick),S.remove(this.element,"change",this.onSelectFiles),S.remove(document,"click",this.removeFocus),this.isForm&&S.remove(this.formElement,"reset",this.resetForm),this.keyboardModule&&this.keyboardModule.destroy()}resetForm(){this.clearAll()}keyActionHandler(e){const t=e.target;switch(e.action){case"enter":if(e.target===this.clearButton)this.clearButtonClick();else if(e.target===this.uploadButton)this.uploadButtonClick();else if(e.target===this.browseButton)this.browseButtonClick();else if(t.classList.contains(ga)){const i=this.getCurrentMetaData(null,e);i.file.statusCode="4",i.file.status=this.localizedTexts("pauseUpload"),this.abortUpload(i,!1)}else if(t.classList.contains(lm))this.resumeUpload(this.getCurrentMetaData(null,e),e);else if(t.classList.contains(dd)){const i=this.getCurrentMetaData(null,e);if(f(i)){const r=this.filesData[this.fileList.indexOf(e.target.parentElement)];this.retry(r)}else i.file.statusCode="1",i.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(i.file)}else this.removeFiles(e),t.classList.contains(ar)||this.browseButton.focus();e.preventDefault(),e.stopPropagation()}}getCurrentMetaData(e,t){let i,s;i=f(e)?this.filesData[this.fileList.indexOf(t.target.parentElement)]:e;for(let r=0;r<this.uploadMetaData.length;r++)this.uploadMetaData[r].file.name===i.name&&(s=this.uploadMetaData[r]);return s}removeFocus(){this.uploadWrapper&&this.listParent&&this.listParent.querySelector("."+jI)&&(document.activeElement.blur(),this.listParent.querySelector("."+jI).classList.remove(jI))}browseButtonClick(){this.element.click()}uploadButtonClick(){this.sequentialUpload?this.sequenceUpload(this.filesData):this.upload(this.filesData)}clearButtonClick(){this.clearAll(),this.sequentialUpload&&(this.count=-1),this.actionCompleteCount=0}bindDropEvents(){this.dropZoneElement&&(S.add(this.dropZoneElement,"drop",this.dropElement,this),S.add(this.dropZoneElement,"dragover",this.dragHover,this),S.add(this.dropZoneElement,"dragleave",this.onDragLeave,this),S.add(this.dropZoneElement,"paste",this.onPasteFile,this),S.add(this.dropZoneElement,"dragenter",this.onDragEnter,this))}unBindDropEvents(){this.dropZoneElement&&(S.remove(this.dropZoneElement,"drop",this.dropElement),S.remove(this.dropZoneElement,"dragover",this.dragHover),S.remove(this.dropZoneElement,"dragleave",this.onDragLeave),S.remove(this.dropZoneElement,"dragenter",this.onDragEnter))}onDragEnter(e){!this.enabled||(this.dropZoneElement.classList.add(NI),this.dragCounter=this.dragCounter+1,e.preventDefault(),e.stopPropagation())}onDragLeave(){!this.enabled||(this.dragCounter=this.dragCounter-1,this.dragCounter||this.dropZoneElement.classList.remove(NI))}dragHover(e){!this.enabled||("Default"!==this.dropEffect&&(e.dataTransfer.dropEffect=this.dropEffect.toLowerCase()),e.preventDefault(),e.stopPropagation())}dropElement(e){this.dragCounter=0,this.dropZoneElement.classList.remove(NI),this.onSelectFiles(e),e.preventDefault(),e.stopPropagation()}onPasteFile(e){const t=e.clipboardData.items;if(1!==t.length)return;const i=[].slice.call(t)[0];"file"===i.kind&&i.type.match("^image/")&&this.renderSelectedFiles(e,[i.getAsFile()],!1,!0)}getSelectedFiles(e){const t=[],i=this.fileList[e],s=this.getFilesData(),r=+i.getAttribute("data-files-count");let o=0;for(let a=0;a<e;a++)o+=+this.fileList[a].getAttribute("data-files-count");for(let a=o;a<o+r;a++)t.push(s[a]);return t}removeFiles(e){if(!this.enabled)return;const i=this.fileList.indexOf(e.target.parentElement),s=this.fileList[i],r=this.isFormUpload(),o=r?this.getSelectedFiles(i):this.getFilesInArray(this.filesData[i]);if(!f(o)){if(e.target.classList.contains(ar)&&!r){if(o[0].statusCode="5",!f(s)){const a=s.querySelector("."+ar);Gy({target:a,width:"20px"}),Ap(a)}this.sequentialUpload&&this.uploadSequential(),s.classList.contains(RC)||this.checkActionComplete(!0)}else K(e.target,"."+Sz)||this.remove(o,!1,!1,!0,e);this.element.value="",this.checkActionButtonStatus()}}removeFilesData(e,t){let i;if(t)return void(this.showFileList||(i=this.filesData.indexOf(e),this.filesData.splice(i,1)));const s=this.getLiElement(e);f(s)||(ie(s),i=this.fileList.indexOf(s),this.fileList.splice(i,1),this.filesData.splice(i,1),0===this.fileList.length&&!f(this.listParent)&&(ie(this.listParent),this.listParent=null,this.removeActionButtons()),this.sequentialUpload&&i<=this.count&&--this.count)}removeUploadedFile(e,t,i,s){const r=e,o=new pp(this.asyncSettings.removeUrl,"POST",!0,null);o.emitError=!1;const a=new FormData;o.beforeSend=l=>{t.currentRequest=o.httpRequest,i?this.removingEventCallback(t,a,r,e):this.trigger("removing",t,h=>{h.cancel?l.cancel=!0:this.removingEventCallback(h,a,r,e)})},o.onLoad=l=>(this.removeCompleted(l,r,s),{}),o.onError=l=>(this.removeFailed(l,r,s),{}),o.send(a)}removingEventCallback(e,t,i,s){const r=this.element.getAttribute("name"),o=this.getLiElement(s);if(!(f(o)||f(o.querySelector("."+fh))&&f(o.querySelector("."+Do)))){const a=o.querySelector("."+fh)?o.querySelector("."+fh):o.querySelector("."+Do);Gy({target:a,width:"20px"}),Ap(a)}e.postRawFile&&!f(i.rawFile)&&""!==i.rawFile?t.append(r,i.rawFile,i.name):t.append(r,i.name),this.updateFormData(t,e.customFormData)}updateFormData(e,t){if(t.length>0&&t[0])for(let i=0;i<t.length;i++){const s=t[i],r=Object.keys(s).map(function(o){return s[o]});e.append(Object.keys(s)[0],r)}}updateCustomheader(e,t){if(t.length>0&&t[0])for(let i=0;i<t.length;i++){const s=t[i],r=Object.keys(s).map(function(o){return s[o]});e.setRequestHeader(Object.keys(s)[0],r)}}removeCompleted(e,t,i){const s=e&&e.currentTarget?this.getResponse(e):null,r=e.target;if(4===r.readyState&&r.status>=200&&r.status<=299){const o={e,response:s,operation:"remove",file:this.updateStatus(t,this.localizedTexts("removedSuccessMessage"),"2")};this.trigger("success",o),this.removeFilesData(t,i);const a=this.uploadedFilesData.indexOf(t);this.uploadedFilesData.splice(a,1),this.trigger("change",{files:this.uploadedFilesData})}else this.removeFailed(e,t,i)}removeFailed(e,t,i){const r={e,response:e&&e.currentTarget?this.getResponse(e):null,operation:"remove",file:this.updateStatus(t,this.localizedTexts("removedFailedMessage"),"0")};if(!i){const a=this.filesData.indexOf(t),l=this.fileList[a];if(l){l.classList.remove(lc),l.classList.add(gh);const h=l.querySelector("."+gr);h&&(h.classList.remove(lc),h.classList.add(gh))}this.checkActionButtonStatus()}this.trigger("failure",r);const o=this.getLiElement(t);f(o)||f(o.querySelector("."+fh))||(cd(o.querySelector("."+fh)),ie(o.querySelector(".e-spinner-pane")))}getFilesFromFolder(e){this.filesEntries=[];const t=this.multiple?e.dataTransfer.items:[e.dataTransfer.items[0]];if(this.checkDirectoryUpload(t))for(let s=0;s<t.length;s++){const r=t[s].webkitGetAsEntry();if(r.isFile){const o=[];r.file(a=>{o.push({path:r.fullPath,file:a})}),this.renderSelectedFiles(e,o,!0)}else r.isDirectory&&this.traverseFileTree(r,e)}}checkDirectoryUpload(e){for(let t=0;e&&t<e.length;t++)if(e[t].webkitGetAsEntry().isDirectory)return!0;return!1}traverseFileTree(e,t){if(e.isFile)this.filesEntries.push(e);else if(e.isDirectory){const i=e.createReader();this.readFileFromDirectory(i,t)}}readFileFromDirectory(e,t){e.readEntries(i=>{for(let s=0;s<i.length;s++)this.traverseFileTree(i[s],t);this.pushFilesEntries(t),i.length&&this.readFileFromDirectory(e)})}pushFilesEntries(e){const t=[];for(let i=0;i<this.filesEntries.length;i++)this.filesEntries[i].file(s=>{this.filesEntries.length&&(t.push({path:this.filesEntries[i].fullPath,file:s}),i===this.filesEntries.length-1&&(this.filesEntries=[],this.renderSelectedFiles(e,t,!0)))})}onSelectFiles(e){if(!this.enabled)return;let t;if("drop"===e.type)if(this.directoryUpload)this.getFilesFromFolder(e);else{const i=this.sortFilesList=e.dataTransfer.files;"msie"!==this.browserName&&"edge"!==this.browserName&&"safari"!==this.browserName&&(this.element.files=i),i.length>0&&(t=this.multiple?this.sortFileList(i):[i[0]],this.renderSelectedFiles(e,t))}else t=[].slice.call(e.target.files),this.renderSelectedFiles(e,t)}getBase64(e){return new Promise((t,i)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(s.result),s.onerror=r=>i(r)})}renderSelectedFiles(e,t,i,s){this.base64String=[];const r={event:e,cancel:!1,filesData:[],isModified:!1,modifiedFilesData:[],progressInterval:"",isCanceled:!1,currentRequest:null,customFormData:null};if(t.length<1)return r.isCanceled=!0,void this.trigger("selected",r);this.flag=!0;let o=[];this.multiple||(this.clearData(!0),t=[t[0]]);for(let a=0;a<t.length;a++)this.updateInitialFileDetails(e,t,i?t[a].file:t[a],a,o,i,s);r.filesData=o,this.allowedExtensions.indexOf("*")>-1&&(this.allTypes=!0),this.allTypes||(o=this.checkExtension(o)),this.trigger("selected",r,a=>{this._internalRenderSelect(a,o)})}updateInitialFileDetails(e,t,i,s,r,o,a){const h={name:o?t[s].path.substring(1,t[s].path.length):a?Us(i.name.substring(0,i.name.lastIndexOf(".")))+"."+this.getFileType(i.name):this.directoryUpload?t[s].webkitRelativePath:i.name,rawFile:i,size:i.size,status:this.localizedTexts("readyToUploadMessage"),type:this.getFileType(i.name),validationMessages:this.validatedFileSize(i.size),statusCode:"1",id:Us(i.name.substring(0,i.name.lastIndexOf(".")))+"."+this.getFileType(i.name)};a&&(h.fileSource="paste"),h.status=""!==h.validationMessages.minSize?this.localizedTexts("invalidMinFileSize"):""!==h.validationMessages.maxSize?this.localizedTexts("invalidMaxFileSize"):h.status,(""!==h.validationMessages.minSize||""!==h.validationMessages.maxSize)&&(h.statusCode="0"),r.push(h)}_internalRenderSelect(e,t){if(!e.cancel){if(this.selectedFiles=this.selectedFiles.concat(t),this.btnTabIndex=this.disableKeyboardNavigation?"-1":"0",this.showFileList){if(e.isModified&&e.modifiedFilesData.length>0){for(let s=0;s<e.modifiedFilesData.length;s++)for(let r=0;r<t.length;r++)e.modifiedFilesData[s].id===t[r].id&&(e.modifiedFilesData[s].rawFile=t[r].rawFile);const i=this.allTypes?e.modifiedFilesData:this.checkExtension(e.modifiedFilesData);this.updateSortedFileList(i),this.filesData=i,(!this.isForm||this.allowUpload())&&this.checkAutoUpload(i)}else this.createFileList(t,!0),this.filesData=this.filesData.concat(t),(!this.isForm||this.allowUpload())&&this.checkAutoUpload(t);!f(e.progressInterval)&&""!==e.progressInterval&&(this.progressInterval=e.progressInterval)}else this.filesData=this.filesData.concat(t),this.autoUpload&&this.upload(this.filesData,!0);this.raiseActionComplete(),this.isFirstFileOnSelection=!0}}allowUpload(){let e=!1;return this.isForm&&!f(this.asyncSettings.saveUrl)&&""!==this.asyncSettings.saveUrl&&(e=!0),e}isFormUpload(){let e=!1;return this.isForm&&(f(this.asyncSettings.saveUrl)||""===this.asyncSettings.saveUrl)&&(f(this.asyncSettings.removeUrl)||""===this.asyncSettings.removeUrl)&&(e=!0),e}clearData(e){f(this.listParent)||(ie(this.listParent),this.listParent=null),"msie"!==this.browserName&&!e&&(this.element.value=""),this.fileList=[],this.filesData=[],this.removeActionButtons()}updateSortedFileList(e){const t=this.createElement("div",{id:"clonewrapper"});let s,i=-1;if(this.listParent){for(let o=0;o<this.listParent.querySelectorAll("li").length;o++){const a=this.listParent.querySelectorAll("li")[o];t.appendChild(a.cloneNode(!0))}s=this.listParent.querySelectorAll("li");for(const o of s)ie(o);this.removeActionButtons();const r=[].slice.call(t.childNodes);ie(this.listParent),this.listParent=null,this.fileList=[],this.createParentUL();for(let o=0;o<e.length;o++){for(let a=0;a<this.filesData.length;a++)this.filesData[a].name===e[o].name&&(this.listParent.appendChild(r[a]),S.add(r[a].querySelector(".e-icons"),"click",this.removeFiles,this),this.fileList.push(r[a]),i=o);i!==o&&this.createFileList([e[o]])}}else this.createFileList(e)}isBlank(e){return!e||/^\s*$/.test(e)}checkExtension(e){const t=e;if(!this.isBlank(this.allowedExtensions)){const i=[],s=this.allowedExtensions.split(",");for(const r of s)i.push(r.trim().toLocaleLowerCase());for(let r=0;r<e.length;r++)-1===i.indexOf(("."+e[r].type).toLocaleLowerCase())&&(e[r].status=this.localizedTexts("invalidFileType"),e[r].statusCode="0")}return t}validatedFileSize(e){let t="",i="";return e<this.minFileSize?t=this.localizedTexts("invalidMinFileSize"):e>this.maxFileSize?i=this.localizedTexts("invalidMaxFileSize"):(t="",i=""),{minSize:t,maxSize:i}}isPreLoadFile(e){let t=!1;for(let i=0;i<this.files.length;i++)this.files[i].name===e.name.slice(0,e.name.lastIndexOf("."))&&this.files[i].type===e.type&&(t=!0);return t}createCustomfileList(e){this.createParentUL();for(const t of e){const i=this.createElement("li",{className:zE,attrs:{"data-file-name":t.name}});this.uploadTemplateFn=this.templateComplier(this.template);const s=this.uploadTemplateFn(t,this,"template",this.element.id+"Template",this.isStringTemplate,null,i);s&&ys([].slice.call(s),i);const r=e.indexOf(t),o={element:i,fileInfo:t,index:r,isPreload:this.isPreLoadFile(t)},a={element:i,fileInfo:t,index:r,isPreload:this.isPreLoadFile(t)};this.trigger("rendering",o),this.trigger("fileListRendering",a),this.listParent.appendChild(i),this.fileList.push(i)}this.renderReactTemplates()}createParentUL(){f(this.listParent)&&(this.listParent=this.createElement("ul",{className:bz}),this.uploadWrapper.appendChild(this.listParent))}formFileList(e,t){const i=this.createElement("li",{className:zE});i.setAttribute("data-files-count",e.length+"");const s=this.createElement("span",{className:VI});let r;for(const c of e){const d=this.createElement("span",{className:vz});d.innerHTML=this.getFileNameOnly(c.name);const u=this.createElement("span",{className:Cz}),p=this.getFileType(c.name);if(u.innerHTML="."+p,p||u.classList.add("e-hidden"),this.enableRtl){const m=this.createElement("span",{className:Ez});m.appendChild(u),m.appendChild(d),s.appendChild(m)}else s.appendChild(d),s.appendChild(u);this.truncateName(d),r=this.formValidateFileInfo(c,i)}i.appendChild(s),this.setListToFileInfo(e,i);const o=this.listParent.querySelectorAll("li").length,a=this.createElement("span");if(i.classList.contains(IC)?(a.classList.add(gr),a.classList.add(IC),a.innerText=e.length>1?this.localizedTexts("invalidFileSelection"):r):(a.classList.add(e.length>1?"e-file-information":wz),a.innerText=e.length>1?this.localizedTexts("totalFiles")+": "+e.length+" , "+this.localizedTexts("size")+": "+this.bytesToSize(this.getFileSize(e)):this.bytesToSize(e[0].size),this.createFormInput(e)),s.appendChild(a),f(i.querySelector(".e-icons"))){const c=this.createElement("span",{className:"e-icons",attrs:{tabindex:this.btnTabIndex}});"msie"===this.browserName&&c.classList.add("e-msie"),c.setAttribute("title",this.localizedTexts("remove")),i.appendChild(s),i.appendChild(c),S.add(c,"click",this.removeFiles,this),c.classList.add(Do)}const l={element:i,fileInfo:this.mergeFileInfo(e,i),index:o,isPreload:this.isPreLoadFile(this.mergeFileInfo(e,i))},h={element:i,fileInfo:this.mergeFileInfo(e,i),index:o,isPreload:this.isPreLoadFile(this.mergeFileInfo(e,i))};this.trigger("rendering",l),this.trigger("fileListRendering",h),this.listParent.appendChild(i),this.fileList.push(i)}formValidateFileInfo(e,t){let i=e.status;const s=this.validatedFileSize(e.size);(""!==s.minSize||""!==s.maxSize)&&(this.addInvalidClass(t),i=""!==s.minSize?this.localizedTexts("invalidMinFileSize"):""!==s.maxSize?this.localizedTexts("invalidMaxFileSize"):i);const r=this.checkExtension(this.getFilesInArray(e))[0].status;return r===this.localizedTexts("invalidFileType")&&(this.addInvalidClass(t),i=r),i}addInvalidClass(e){e.classList.add(IC)}createFormInput(e){const t=this.element.cloneNode(!0);t.classList.add("e-hidden-file-input");for(const i of e)i.input=t;t.setAttribute("name",this.uploaderName),this.uploadWrapper.querySelector("."+yz).appendChild(t),"msie"!==this.browserName&&"edge"!==this.browserName&&(this.element.value="")}getFileSize(e){let t=0;for(const i of e)t+=i.size;return t}mergeFileInfo(e,t){const i={name:"",rawFile:"",size:0,status:"",type:"",validationMessages:{minSize:"",maxSize:""},statusCode:"1",list:t},s=[];let r="";for(const o of e)s.push(o.name),r=o.type;return i.name=s.join(", "),i.size=this.getFileSize(e),i.type=r,i.status=this.statusForFormUpload(e,t),i}statusForFormUpload(e,t){let s,i=!0;for(const r of e){s=r.status;const o=this.validatedFileSize(r.size);(""!==o.minSize||""!==o.maxSize)&&(i=!1,s=""!==o.minSize?this.localizedTexts("invalidMinFileSize"):""!==o.maxSize?this.localizedTexts("invalidMaxFileSize"):s);const a=this.checkExtension(this.getFilesInArray(r))[0].status;a===this.localizedTexts("invalidFileType")&&(i=!1,s=a)}return i?s=this.localizedTexts("totalFiles")+": "+e.length+" , "+this.localizedTexts("size")+": "+this.bytesToSize(this.getFileSize(e)):(t.classList.add(IC),s=e.length>1?this.localizedTexts("invalidFileSelection"):s),s}formCustomFileList(e,t){this.createParentUL();const i=this.createElement("li",{className:zE});i.setAttribute("data-files-count",e.length+""),this.setListToFileInfo(e,i);const s=this.mergeFileInfo(e,i);i.setAttribute("data-file-name",s.name),this.uploadTemplateFn=this.templateComplier(this.template);const r=this.uploadTemplateFn(s,this,"template",this.element.id+"Template",this.isStringTemplate,null,i);r&&ys([].slice.call(r),i);const o=this.listParent.querySelectorAll("li").length;i.classList.contains(IC)||this.createFormInput(e);const a={element:i,fileInfo:s,index:o,isPreload:this.isPreLoadFile(s)},l={element:i,fileInfo:s,index:o,isPreload:this.isPreLoadFile(s)};this.trigger("rendering",a),this.trigger("fileListRendering",l),this.listParent.appendChild(i),this.fileList.push(i),this.renderReactTemplates()}createFileList(e,t){if(this.createParentUL(),""===this.template||f(this.template))if(this.isFormUpload())this.uploadWrapper.classList.add(Mz),this.formFileList(e,this.element.files);else for(const i of e){const s=this.createElement("li",{className:zE,attrs:{"data-file-name":i.name,"data-files-count":"1"}}),r=this.createElement("span",{className:VI}),o=this.createElement("span",{className:vz,attrs:{title:i.name}});o.innerHTML=this.getFileNameOnly(i.name);const a=this.createElement("span",{className:Cz}),l=this.getFileType(i.name);if(a.innerHTML="."+l,l||a.classList.add("e-hidden"),this.enableRtl){const b=this.createElement("span",{className:Ez});b.appendChild(a),b.appendChild(o),r.appendChild(b)}else r.appendChild(o),r.appendChild(a);const h=this.createElement("span",{className:wz});h.innerHTML=this.bytesToSize(i.size),r.appendChild(h);const c=this.createElement("span",{className:gr});r.appendChild(c),c.innerHTML=i.status,s.appendChild(r);const d=this.createElement("span",{className:" e-icons",attrs:{tabindex:this.btnTabIndex}});"msie"===this.browserName&&d.classList.add("e-msie"),d.setAttribute("title",this.localizedTexts("remove")),s.appendChild(d),S.add(d,"click",this.removeFiles,this),"2"===i.statusCode?(c.classList.add(lc),d.classList.add(fh),d.setAttribute("title",this.localizedTexts("delete"))):"1"!==i.statusCode&&(c.classList.remove(lc),c.classList.add(_z)),this.autoUpload&&"1"===i.statusCode&&""!==this.asyncSettings.saveUrl&&(c.innerHTML=""),d.classList.contains(fh)||d.classList.add(Do);const u=e.indexOf(i),p={element:s,fileInfo:i,index:u,isPreload:this.isPreLoadFile(i)},m={element:s,fileInfo:i,index:u,isPreload:this.isPreLoadFile(i)};this.trigger("rendering",p),this.trigger("fileListRendering",m),this.listParent.appendChild(s),this.fileList.push(s),this.truncateName(o);const y=this.flag;this.isPreLoadFile(i)&&(this.flag=!1,this.checkActionComplete(!0),this.flag=y)}else this.isFormUpload()?(this.uploadWrapper.classList.add(Mz),this.formCustomFileList(e,this.element.files)):this.createCustomfileList(e)}getSlicedName(e){const t=e.textContent;e.dataset.tail=t.slice(t.length-10)}setListToFileInfo(e,t){for(const i of e)i.list=t}truncateName(e){("edge"!==this.browserName&&e.offsetWidth<e.scrollWidth||e.offsetWidth+1<e.scrollWidth)&&this.getSlicedName(e)}getFileType(e){let t;const i=e.lastIndexOf(".");return i>=0&&(t=e.substring(i+1)),t||""}getFileNameOnly(e){let t=this.getFileType(e);return e.split("."+t)[0]}setInitialAttributes(){if(this.initialAttr.accept&&this.element.setAttribute("accept",this.initialAttr.accept),this.initialAttr.disabled&&this.element.setAttribute("disabled","disabled"),this.initialAttr.multiple){const e=document.createAttribute("multiple");this.element.setAttributeNode(e)}}filterfileList(e){const t=[];let i;for(let s=0;s<e.length;s++)i=this.getLiElement(e[s]),i.classList.contains(lc)||t.push(e[s]);return t}updateStatus(e,t,i,s=!0){if(!(""===t||f(t))&&!(""===i||f(i))&&(e.status=t,e.statusCode=i),s){const r=this.getLiElement(e);f(r)||!f(r.querySelector("."+gr))&&""!==t&&!f(t)&&(r.querySelector("."+gr).textContent=t)}return e}getLiElement(e){let t;for(let i=0;i<this.filesData.length;i++)!f(e)&&(f(this.filesData[i].id)||f(e.id)?this.filesData[i].name===e.name:this.filesData[i].name===e.name&&this.filesData[i].id===e.id)&&(t=i);return this.fileList[t]}createProgressBar(e){const t=this.createElement("span",{className:am}),i=this.createElement("progressbar",{className:WE,attrs:{value:"0",max:"100"}}),s=this.createElement("span",{className:"e-progress-inner-wrap"});i.setAttribute("style","width: 0%");const r=this.createElement("span",{className:BI});r.textContent="0%",s.appendChild(i),t.appendChild(s),t.appendChild(r),e.querySelector("."+VI).appendChild(t)}updateProgressbar(e,t){if(!isNaN(Math.round(e.loaded/e.total*100))&&!f(t.querySelector("."+WE)))if(f(this.progressInterval)||""===this.progressInterval)this.changeProgressValue(t,Math.round(e.loaded/e.total*100).toString()+"%");else{const i=Math.round(e.loaded/e.total*100)%parseInt(this.progressInterval,10);(0===i||100===i)&&this.changeProgressValue(t,Math.round(e.loaded/e.total*100).toString()+"%")}}changeProgressValue(e,t){e.querySelector("."+WE).setAttribute("style","width:"+t),e.querySelector("."+BI).textContent=t}uploadInProgress(e,t,i,s){const r=this.getLiElement(t);if(f(r)&&!i)return;if(f(r))this.cancelUploadingFile(t,e,s);else{"5"===t.statusCode&&this.cancelUploadingFile(t,e,s,r),!(r.querySelectorAll("."+am).length>0)&&r.querySelector("."+gr)&&(r.querySelector("."+gr).classList.add(mh),this.createProgressBar(r),this.updateProgressBarClasses(r,mh),r.querySelector("."+gr).classList.remove(gh)),this.updateProgressbar(e,r);const a=r.querySelector("."+Do);f(a)||(a.classList.add(ar,mh),a.setAttribute("title",this.localizedTexts("abort")),a.classList.remove(Do))}const o={e,operation:"upload",file:this.updateStatus(t,this.localizedTexts("inProgress"),"3")};this.trigger("progress",o)}cancelUploadingFile(e,t,i,s){"5"===e.statusCode&&this.trigger("canceling",{event:t,fileData:e,cancel:!1,customFormData:[]},o=>{if(o.cancel){if(e.statusCode="3",!f(s)){const a=s.querySelector("."+ar);f(a)||(cd(a),ie(s.querySelector(".e-spinner-pane")))}}else{i.emitError=!1,i.httpRequest.abort();const a=new FormData;if("5"===e.statusCode){const l=this.element.getAttribute("name");a.append(l,e.name),a.append("cancel-uploading",e.name),this.updateFormData(a,o.customFormData);const h=new pp(this.asyncSettings.removeUrl,"POST",!0,null);h.emitError=!1,h.onLoad=c=>(this.removecanceledFile(c,e),{}),h.send(a)}}})}removecanceledFile(e,t){const i=this.getLiElement(t);if(i.querySelector("."+dd)||f(i.querySelector("."+ar)))return;this.updateStatus(t,this.localizedTexts("fileUploadCancel"),"5"),this.renderFailureState(e,t,i);const s=i.querySelector("."+Do);f(i)||(cd(s),f(i.querySelector(".e-spinner-pane"))||ie(i.querySelector(".e-spinner-pane")));const r=e&&e.currentTarget?this.getResponse(e):null;this.trigger("success",{event:e,response:r,operation:"cancel",file:t})}renderFailureState(e,t,i){this.updateProgressBarClasses(i,gh),this.removeProgressbar(i,"failure"),f(i.querySelector(".e-file-status"))||i.querySelector(".e-file-status").classList.add(gh);const s=i.querySelector("."+ar);f(s)||(s.classList.remove(ar,mh),s.classList.add(Do),s.setAttribute("title",this.localizedTexts("remove")),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}}),s.parentElement.insertBefore(this.pauseButton,s),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),i.querySelector("."+dd).addEventListener("click",o=>{this.reloadcanceledFile(o,t,i,!1)},!1))}reloadcanceledFile(e,t,i,s){t.statusCode="1",t.status=this.localizedTexts("readyToUploadMessage"),s||(f(i.querySelector("."+gr))||i.querySelector("."+gr).classList.remove(gh),f(i.querySelector("."+dd))||ie(i.querySelector("."+dd)),this.pauseButton=null),i.classList.add(RC),this.upload([t])}uploadComplete(e,t,i){const s=e.target;if(4===s.readyState&&s.status>=200&&s.status<=299){const r=this.getLiElement(t);if(f(r)&&(!i||f(i)))return;if(!f(r)){this.updateProgressBarClasses(r,lc),this.removeProgressbar(r,"success");const o=r.querySelector("."+ar);f(o)||(o.classList.add(fh),o.setAttribute("title",this.localizedTexts("delete")),o.classList.remove(ar),o.classList.remove(mh))}this.raiseSuccessEvent(e,t)}else this.uploadFailed(e,t)}getResponse(e){const t=e.currentTarget;return{readyState:t.readyState,statusCode:t.status,statusText:t.statusText,headers:t.getAllResponseHeaders(),withCredentials:t.withCredentials}}raiseSuccessEvent(e,t){const i=e&&e.currentTarget?this.getResponse(e):null,s=this.localizedTexts("uploadSuccessMessage"),r={e,response:i,operation:"upload",file:this.updateStatus(t,s,"2",!1),statusText:s},o=this.getLiElement(t);if(!f(o)){const a=o.querySelector("."+Sz);f(a)||(cd(o),ie(a))}this.trigger("success",r,a=>{this.updateStatus(t,a.statusText,"2"),this.uploadedFilesData.push(t),this.trigger("change",{file:this.uploadedFilesData}),this.checkActionButtonStatus(),this.fileList.length>0&&(this.getLiElement(t).classList.contains(RC)?this.getLiElement(t).classList.remove(RC):(this.uploadSequential(),this.checkActionComplete(!0)))})}uploadFailed(e,t){const i=this.getLiElement(t),s=e&&e.currentTarget?this.getResponse(e):null,r=this.localizedTexts("uploadFailedMessage"),o={e,response:s,operation:"upload",file:this.updateStatus(t,r,"0",!1),statusText:r};f(i)||this.renderFailureState(e,t,i),this.trigger("failure",o,a=>{this.updateStatus(t,a.statusText,"0"),this.checkActionButtonStatus(),this.uploadSequential(),this.checkActionComplete(!0)})}uploadSequential(){this.sequentialUpload&&(this.autoUpload?this.checkAutoUpload(this.filesData):this.uploadButtonClick())}checkActionComplete(e){e?++this.actionCompleteCount:--this.actionCompleteCount,this.raiseActionComplete()}raiseActionComplete(){if(this.filesData.length===this.actionCompleteCount&&this.flag){this.flag=!1;const e={fileData:[]};e.fileData=this.getSelectedFileStatus(this.selectedFiles),this.trigger("actionComplete",e)}}getSelectedFileStatus(e){const t=[];let i=0;for(let s=0;s<e.length;s++){const r=e[s];for(let o=0;o<this.filesData.length;o++)this.filesData[o].name===r.name&&(t[i]=this.filesData[o],++i)}return t}updateProgressBarClasses(e,t){const i=e.querySelector("."+WE);f(i)||i.classList.add(t)}removeProgressbar(e,t){f(e.querySelector("."+am))||(this.progressAnimation=new qt({duration:1250}),this.progressAnimation.animate(e.querySelector("."+am),{name:"FadeOut"}),this.progressAnimation.animate(e.querySelector("."+BI),{name:"FadeOut"}),setTimeout(()=>{this.animateProgressBar(e,t)},750))}animateProgressBar(e,t){"success"===t?(e.classList.add(lc),f(e.querySelector("."+gr))||(e.querySelector("."+gr).classList.remove(mh),this.progressAnimation.animate(e.querySelector("."+gr),{name:"FadeIn"}),e.querySelector("."+gr).classList.add(lc))):f(e.querySelector("."+gr))||(e.querySelector("."+gr).classList.remove(mh),this.progressAnimation.animate(e.querySelector("."+gr),{name:"FadeIn"}),e.querySelector("."+gr).classList.add(gh)),e.querySelector("."+am)&&ie(e.querySelector("."+am))}setExtensions(e){""===e||f(e)?this.element.removeAttribute("accept"):this.element.setAttribute("accept",e)}templateComplier(e){if(e)try{if(Ae(e,document).length)return Lr(W(e,document).innerHTML.trim())}catch(t){return Lr(e)}}setRTL(){this.enableRtl?B([this.uploadWrapper],"e-rtl"):z([this.uploadWrapper],"e-rtl")}localizedTexts(e){return this.l10n.setLocale(this.locale),this.l10n.getConstant(e)}setControlStatus(){this.enabled?(this.uploadWrapper.classList.contains(HI)&&this.uploadWrapper.classList.remove(HI),!f(this.browseButton)&&this.element.hasAttribute("disabled")&&(this.element.removeAttribute("disabled"),this.browseButton.removeAttribute("disabled")),!f(this.clearButton)&&this.clearButton.hasAttribute("disabled")&&this.clearButton.removeAttribute("disabled"),!f(this.uploadButton)&&this.uploadButton.hasAttribute("disabled")&&this.uploadButton.hasAttribute("disabled")):(this.uploadWrapper.classList.add(HI),this.element.setAttribute("disabled","disabled"),this.browseButton.setAttribute("disabled","disabled"),f(this.clearButton)||this.clearButton.setAttribute("disabled","disabled"),f(this.uploadButton)||this.uploadButton.setAttribute("disabled","disabled"))}checkHTMLAttributes(e){const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["accept","multiple","disabled"];for(const i of t)if(!f(this.element.getAttribute(i)))switch(i){case"accept":(f(this.uploaderOptions)||void 0===this.uploaderOptions.allowedExtensions||e)&&(this.setProperties({allowedExtensions:this.element.getAttribute("accept")},!e),this.initialAttr.accept=this.allowedExtensions);break;case"multiple":if(f(this.uploaderOptions)||void 0===this.uploaderOptions.multiple||e){const s="multiple"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({multiple:s},!e),this.initialAttr.multiple=!0}break;case"disabled":if(f(this.uploaderOptions)||void 0===this.uploaderOptions.enabled||e){const s=!("disabled"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i));this.setProperties({enabled:s},!e),this.initialAttr.disabled=!0}}}chunkUpload(e,t,i){const r=Math.min(this.asyncSettings.chunkSize,e.size),a=e.rawFile.slice(0,r);this.sendRequest(e,{chunkIndex:0,blob:a,file:e,start:0,end:r,retryCount:0,request:null},t,i)}sendRequest(e,t,i,s){const r=new FormData,o=e.rawFile.slice(t.start,t.end);r.append("chunkFile",o,e.name),r.append(this.uploaderName,o,e.name),r.append("chunk-index",t.chunkIndex.toString()),r.append("chunkIndex",t.chunkIndex.toString());const a=Math.max(Math.ceil(e.size/this.asyncSettings.chunkSize),1);r.append("total-chunk",a.toString()),r.append("totalChunk",a.toString());const l=new pp({url:this.asyncSettings.saveUrl,type:"POST",async:!0,contentType:null});l.emitError=!1,l.onLoad=c=>(this.chunkUploadComplete(c,t,i),{}),l.onUploadProgress=c=>(this.chunkUploadInProgress(c,t,i),{});const h={fileData:e,customFormData:[],cancel:!1,chunkSize:0===this.asyncSettings.chunkSize?null:this.asyncSettings.chunkSize};l.beforeSend=c=>{h.currentRequest=l.httpRequest,h.currentChunkIndex=t.chunkIndex,this.trigger(0===h.currentChunkIndex?"uploading":"chunkUploading",h,d=>{this.uploadingEventCallback(r,d,c,e)})},l.onError=c=>(this.chunkUploadFailed(c,t,i),{}),l.send(r),t.request=l}uploadingEventCallback(e,t,i,s){t.cancel?this.eventCancelByArgs(i,t,s):this.updateFormData(e,t.customFormData)}eventCancelByArgs(e,t,i){if(e.cancel=!0,"5"===t.fileData.statusCode)return;t.fileData.statusCode="5",t.fileData.status=this.localizedTexts("fileUploadCancel");const s=this.getLiElement(t.fileData);if(s){f(s.querySelector("."+gr))||(s.querySelector("."+gr).innerHTML=this.localizedTexts("fileUploadCancel"),s.querySelector("."+gr).classList.add(gh)),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}});const r=s.querySelector("."+Do);r&&r.parentElement.insertBefore(this.pauseButton,r),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),this.pauseButton.addEventListener("click",o=>{this.reloadcanceledFile(o,i,s)},!1),this.checkActionButtonStatus()}}checkChunkUpload(){return!(this.asyncSettings.chunkSize<=0||f(this.asyncSettings.chunkSize))}chunkUploadComplete(e,t,i){const s=e.target;let r;if(4===s.readyState&&s.status>=200&&s.status<300){const o=e&&e.currentTarget?this.getResponse(e):null,a=Math.max(Math.ceil(t.file.size/this.asyncSettings.chunkSize),1);if(this.trigger("chunkSuccess",{event:e,file:t.file,chunkIndex:t.chunkIndex,totalChunk:a,chunkSize:this.asyncSettings.chunkSize,response:o}),(f(i)||!i)&&(r=this.getLiElement(t.file)),this.updateMetaData(t),t.end===t.file.size&&(t.file.statusCode="3"),"5"===t.file.statusCode)this.trigger("canceling",{event:e,fileData:t.file,cancel:!1,customFormData:[]},c=>{if(c.cancel){t.file.statusCode="3";const d=r.querySelector("."+ar);!f(r)&&!f(d)&&(cd(d),ie(r.querySelector(".e-spinner-pane"))),this.sendNextRequest(t)}else{t.request.emitError=!1,s.abort();const d=new FormData,u=this.element.getAttribute("name");d.append(u,t.file.name),d.append("cancel-uploading",t.file.name),d.append("cancelUploading",t.file.name),this.updateFormData(d,c.customFormData);const p=new pp(this.asyncSettings.removeUrl,"POST",!0,null);p.emitError=!1,p.onLoad=m=>(this.removeChunkFile(m,t,i),{}),p.send(d)}});else{if(a-1===t.chunkIndex&&a>t.chunkIndex){const h=this.pausedData.indexOf(t);return h>=0&&this.pausedData.splice(h,1),f(this.template)&&(f(i)||!i)&&r&&(r&&!f(r.querySelector("."+ga))&&ie(r.querySelector("."+ga)),this.removeChunkProgressBar(t)),void this.raiseSuccessEvent(e,t.file)}"4"!==t.file.statusCode&&this.sendNextRequest(t)}}else this.chunkUploadFailed(e,t)}sendNextRequest(e){e.start=e.end,e.end+=this.asyncSettings.chunkSize,e.end=Math.min(e.end,e.file.size),e.chunkIndex+=1,this.sendRequest(e.file,e)}removeChunkFile(e,t,i){if(f(this.template)&&f(i)&&!i){const s=this.getLiElement(t.file),r=s.querySelector("."+ar),o=r;this.updateStatus(t.file,this.localizedTexts("fileUploadCancel"),"5"),this.updateProgressBarClasses(s,gh),this.removeProgressbar(s,"failure"),r&&r.classList.remove(ar),r&&r.classList.add(Do),r&&r.setAttribute("title",this.localizedTexts("remove"));const a=s.querySelector("."+ga);a&&a.classList.add(dd),a&&a.classList.remove(ga),a&&a.setAttribute("title",this.localizedTexts("retry")),!f(s)&&!f(r)&&!f(s.querySelector(".e-spinner-pane"))&&(cd(o),ie(s.querySelector(".e-spinner-pane")))}}pauseUpload(e,t,i){e.file.statusCode="4",e.file.status=this.localizedTexts("pause"),this.updateMetaData(e);const s={event:t||null,file:e.file,chunkIndex:e.chunkIndex,chunkCount:Math.round(e.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.abortUpload(e,i,s)}abortUpload(e,t,i){"4"!==e.file.statusCode&&(e.request.emitError=!1,e.request.httpRequest.abort());const s=this.getLiElement(e.file);if(f(this.template)&&(f(t)||!t)){const r=s.querySelector("."+ga);r.classList.remove(ga),r.classList.add(lm),r.setAttribute("title",this.localizedTexts("resume")),r.nextElementSibling.classList.add(Do),r.nextElementSibling.classList.remove(ar),r.nextElementSibling.setAttribute("title",this.localizedTexts("remove"))}for(let r=0;r<this.pausedData.length;r++)this.pausedData[r].file.name===e.file.name&&this.pausedData.splice(r,1);this.pausedData.push(e),this.trigger("pausing",i)}resumeUpload(e,t,i){const s=this.getLiElement(e.file);let r;f(s)||(r=s.querySelector("."+lm)),!f(r)&&(f(i)||!i)&&(r.classList.remove(lm),r.classList.add(ga),r.setAttribute("title",this.localizedTexts("pause")),r.nextElementSibling.classList.remove(Do),r.nextElementSibling.classList.add(ar),r.nextElementSibling.setAttribute("title",this.localizedTexts("abort"))),e.file.status=this.localizedTexts("inProgress"),e.file.statusCode="3",this.updateMetaData(e);const o={event:t||null,file:e.file,chunkIndex:e.chunkIndex,chunkCount:Math.round(e.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.trigger("resuming",o);for(let a=0;a<this.pausedData.length;a++)this.pausedData[a].end===this.pausedData[a].file.size?this.chunkUploadComplete(t,e,i):this.pausedData[a].file.name===e.file.name&&(this.pausedData[a].start=this.pausedData[a].end,this.pausedData[a].end=this.pausedData[a].end+this.asyncSettings.chunkSize,this.pausedData[a].end=Math.min(this.pausedData[a].end,this.pausedData[a].file.size),this.pausedData[a].chunkIndex=this.pausedData[a].chunkIndex+1,this.sendRequest(this.pausedData[a].file,this.pausedData[a],i))}updateMetaData(e){-1===this.uploadMetaData.indexOf(e)||this.uploadMetaData.splice(this.uploadMetaData.indexOf(e),1),this.uploadMetaData.push(e)}removeChunkProgressBar(e){const t=this.getLiElement(e.file);if(!f(t)){this.updateProgressBarClasses(t,lc),this.removeProgressbar(t,"success");const i=t.querySelector("."+ar);f(i)||(i.classList.add(fh),i.setAttribute("title",this.localizedTexts("delete")),i.classList.remove(ar,mh))}}chunkUploadFailed(e,t,i){const s=Math.max(Math.ceil(t.file.size/this.asyncSettings.chunkSize),1);let r;f(this.template)&&(f(i)||!i)&&(r=this.getLiElement(t.file));const o=e&&e.currentTarget?this.getResponse(e):null;this.trigger("chunkFailure",{event:e,file:t.file,chunkIndex:t.chunkIndex,totalChunk:s,chunkSize:this.asyncSettings.chunkSize,cancel:!1,response:o},l=>{if(!l.cancel)if(t.retryCount<this.asyncSettings.retryCount)setTimeout(()=>{this.retryRequest(r,t,i)},this.asyncSettings.retryAfterDelay);else{if(!f(r)){const u=r.querySelector("."+ga)?r.querySelector("."+ga):r.querySelector("."+lm);f(u)||(u.classList.add(dd),u.classList.remove(ga,lm)),this.updateProgressBarClasses(r,gh),this.removeProgressbar(r,"failure"),r.querySelector(".e-icons").classList.remove(mh);const p=r.querySelector("."+ar)?r.querySelector("."+ar):r.querySelector("."+Do);p.classList.remove(ar),f(r.querySelector("."+ga))||ie(r.querySelector("."+ga)),t.start>0?(p.classList.add(fh),p.setAttribute("title",this.localizedTexts("delete"))):(p.classList.add(Do),p.setAttribute("title",this.localizedTexts("remove")))}t.retryCount=0;const h=t.file,c=this.localizedTexts("uploadFailedMessage"),d={e,response:o,operation:"upload",file:this.updateStatus(h,c,"0",!1),statusText:c};this.trigger("failure",d,u=>{this.updateStatus(h,u.statusText,"0"),this.uploadSequential(),this.checkActionComplete(!0)})}})}retryRequest(e,t,i){f(this.template)&&(f(i)||!i)&&e&&this.updateProgressBarClasses(e,gh),t.retryCount+=1,this.sendRequest(t.file,t)}checkPausePlayAction(e){const t=e.target,s=this.fileList.indexOf(e.target.parentElement),o=this.getCurrentMetaData(this.filesData[s]);t.classList.contains(ga)?this.pauseUpload(o,e):t.classList.contains(lm)?this.resumeUpload(o,e):t.classList.contains(dd)&&(o.file.status===this.localizedTexts("fileUploadCancel")?this.retryUpload(o,!1):this.retryUpload(o,!0))}retryUpload(e,t){t?(e.end=e.end+this.asyncSettings.chunkSize,e.start=e.start+this.asyncSettings.chunkSize,this.sendRequest(e.file,e)):(e.file.statusCode="1",e.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(e.file)),this.getLiElement(e.file).classList.add(RC)}chunkUploadInProgress(e,t,i){if("4"===t.file.statusCode)return;"4"!==t.file.statusCode&&"5"!==t.file.statusCode&&(t.file.statusCode="3",t.file.status=this.localizedTexts("inProgress")),this.updateMetaData(t);const s=this.getLiElement(t.file);if(f(s))return;const r=s.querySelector("."+dd);if(f(r)||(r.classList.add(ga),r.setAttribute("title",this.localizedTexts("pause")),r.classList.remove(dd)),!f(s)){if(!(s.querySelectorAll("."+am).length>0)){const o=s.querySelector("."+gr);f(this.template)&&(o.classList.add(mh),o.classList.remove(gh),this.createProgressBar(s),this.updateProgressBarClasses(s,mh));const a=s.querySelector("."+Do)?s.querySelector("."+Do):s.querySelector("."+fh);f(a)||(a.classList.add(ar),a.setAttribute("title",this.localizedTexts("abort")),a.classList.remove(Do))}if(!isNaN(Math.round(e.loaded/e.total*100))&&f(this.template)&&"4"!==t.file.statusCode){let o,a=Math.ceil(t.file.size/this.asyncSettings.chunkSize)-1;this.asyncSettings.chunkSize&&a&&(o=Math.round(t.chunkIndex/a*100),this.changeProgressValue(s,o.toString()+"%"))}0===t.chunkIndex&&this.checkActionButtonStatus()}if(f(s.querySelector("."+ga))&&f(this.template)&&f(s.querySelector("."+fh))){this.pauseButton=this.createElement("span",{className:"e-icons e-file-pause-btn",attrs:{tabindex:this.btnTabIndex}}),"msie"===this.browserName&&this.pauseButton.classList.add("e-msie");const o=s.querySelector("."+ar);o.parentElement.insertBefore(this.pauseButton,o),this.pauseButton.setAttribute("title",this.localizedTexts("pause")),this.pauseButton.addEventListener("click",a=>{this.checkPausePlayAction(a)},!1)}}bytesToSize(e){let t=-1;if(!e)return"0.0 KB";do{e/=1024,t++}while(e>99);return t>=2&&(e*=1024,t=1),Math.max(e,0).toFixed(1)+" "+["KB","MB"][t]}sortFileList(e){const t=e=e||this.sortFilesList,i=[];for(let o=0;o<t.length;o++)i.push(t[o].name);const s=i.sort(),r=[];for(const o of s)for(let a=0;a<t.length;a++)o===t[a].name&&r.push(t[a]);return r}destroy(){this.element.value=null,this.clearTemplate(),this.clearAll(),this.unWireEvents(),this.unBindDropEvents(),this.multiple&&this.element.removeAttribute("multiple"),this.enabled||this.element.removeAttribute("disabled"),this.element.removeAttribute("accept"),this.setInitialAttributes();const e=["aria-label","directory","webkitdirectory","tabindex"];for(const t of e)this.element.removeAttribute(t);f(this.uploadWrapper)||(this.uploadWrapper.parentElement.appendChild(this.element),ie(this.uploadWrapper)),this.uploadWrapper=null,super.destroy()}upload(e,t){if(e=e||this.filesData,this.sequentialUpload&&(this.isFirstFileOnSelection||t))this.sequenceUpload(e);else{const i=this.getFilesInArray(e);this.trigger("beforeUpload",{customFormData:[],currentRequest:null,cancel:!1},r=>{r.cancel||this.uploadFiles(i,t)})}}getFilesInArray(e){let t=[];return e instanceof Array?t=e:t.push(e),t}serverReadFileBase64(e,t,i){return new Promise((s,r)=>{const o=this.fileStreams[e].rawFile;try{const a=new FileReader;a.onload=(l=a,()=>{try{const h=l.result,c=h?h.split(";base64,")[1]:null;s(c)}catch(h){r(h)}}),a.readAsDataURL(o.slice(t,t+i))}catch(a){r(a)}var l})}uploadFileCount(e){const t=this.filesData;return t&&0!==t.length?t.length:-1}getFileRead(e,t){const i=this.filesData;if(!i||0===i.length)return-1;const s=i[e],r=this.newFileRef++;return this.fileStreams[r]=s,r}getFileInfo(e,t){const i=this.filesData;return i&&0!==i.length&&i[e]?this.filesData[e]:null}uploadFiles(e,t){let i=[];if(""!==this.asyncSettings.saveUrl&&!f(this.asyncSettings.saveUrl)){if(!t||f(t))if(this.multiple)i=this.filterfileList(e);else{const s=[];s.push(e[0]),i=this.filterfileList(s)}else i=e;for(let s=0;s<i.length;s++)this.uploadFilesRequest(i,s,t)}}uploadFilesRequest(e,t,i){const s=this.checkChunkUpload(),r=new pp(this.asyncSettings.saveUrl,"POST",!0,null);r.emitError=!1;const o={fileData:e[t],customFormData:[],cancel:!1},a=new FormData;if(r.beforeSend=l=>{o.currentRequest=r.httpRequest,this.trigger("uploading",o,h=>{h.cancel&&this.eventCancelByArgs(l,h,e[t]),this.updateFormData(a,h.customFormData)})},"1"===e[t].statusCode){const l=this.element.getAttribute("name");a.append(l,e[t].rawFile,e[t].name),s&&e[t].size>this.asyncSettings.chunkSize?this.chunkUpload(e[t],i,t):(r.onLoad=h=>(o.cancel||this.uploadComplete(h,e[t],i),{}),r.onUploadProgress=h=>(o.cancel||this.uploadInProgress(h,e[t],i,r),{}),r.onError=h=>(this.uploadFailed(h,e[t]),{}),r.send(a))}}spliceFiles(e){const t=this.fileList[e],i=this.getFilesData(),s=+t.getAttribute("data-files-count");let r=0;for(let a=0;a<e;a++)r+=+this.fileList[a].getAttribute("data-files-count");for(let a=r+s-1;a>=r;a--)i.splice(a,1)}remove(e,t,i,s,r){f(s)&&(s=!0);const o={event:r,cancel:!1,filesData:[],customFormData:[],postRawFile:s,currentRequest:null};this.trigger("beforeRemove",{cancel:!1,customFormData:[],currentRequest:null},l=>{if(!l.cancel)if(this.isFormUpload())o.filesData=e,this.trigger("removing",o,h=>{if(!h.cancel){const c=this.getFilesInArray(e);let u,d=!1;for(const p of c)if(d||(u=this.fileList.indexOf(p.list)),u>-1){const m=f(p.input)?null:p.input;m&&ie(m),this.spliceFiles(u),ie(this.fileList[u]),this.fileList.splice(u,1),d=!0,u=-1}}});else if(this.isForm&&(f(this.asyncSettings.removeUrl)||""===this.asyncSettings.removeUrl))o.filesData=this.getFilesData(),this.trigger("removing",o,h=>{h.cancel||this.clearAll()});else{let h=[];(e=f(e)?this.filesData:e)instanceof Array?h=e:h.push(e),o.filesData=h;const c=this.asyncSettings.removeUrl,d=!(""===c||f(c));for(const u of h){const p=this.uploadedFilesData.indexOf(u);("2"===u.statusCode||"4"===u.statusCode||"0"===u.statusCode&&-1!==p)&&d?this.removeUploadedFile(u,o,i,t):i?this.removeFilesData(u,t):this.trigger("removing",o,m=>{m.cancel||this.removeFilesData(u,t)}),r&&!r.target.classList.contains(Do)&&this.checkActionComplete(!1)}}})}clearAll(){if(f(this.listParent))return"msie"!==this.browserName&&(this.element.value=""),void(this.filesData=[]);this.trigger("clearing",{cancel:!1,filesData:this.filesData},t=>{t.cancel||(this.clearData(),this.actionCompleteCount=0,this.count=-1)})}getFilesData(e){return f(e)?this.filesData:this.getSelectedFiles(e)}pause(e,t){const i=this.getFilesInArray(e=e||this.filesData);this.pauseUploading(i,t)}pauseUploading(e,t){const i=this.getFiles(e);for(let s=0;s<i.length;s++)"3"===i[s].statusCode&&this.pauseUpload(this.getCurrentMetaData(i[s],null),null,t)}getFiles(e){let t=[];return f(e)||e instanceof Array?t=e:t.push(e),t}resume(e,t){const i=this.getFilesInArray(e=e||this.filesData);this.resumeFiles(i,t)}resumeFiles(e,t){const i=this.getFiles(e);for(let s=0;s<i.length;s++)"4"===i[s].statusCode&&this.resumeUpload(this.getCurrentMetaData(i[s],null),null,t)}retry(e,t,i){const s=this.getFilesInArray(e=e||this.filesData);this.sequentialUpload&&this.isFirstFileOnSelection&&(this.isFirstFileOnSelection=!1),this.retryFailedFiles(s,t,i)}retryFailedFiles(e,t,i){const s=this.getFiles(e);for(let r=0;r<s.length;r++)if("5"===s[r].statusCode||"0"===s[r].statusCode)if(this.asyncSettings.chunkSize>0)this.retryUpload(this.getCurrentMetaData(s[r],null),t);else{let o;i||(o=this.fileList[this.filesData.indexOf(s[r])]),this.reloadcanceledFile(null,s[r],o,i)}}cancel(e){const t=this.getFilesInArray(e=e||this.filesData);this.cancelUpload(t)}cancelUpload(e){const t=this.getFiles(e);if(this.asyncSettings.chunkSize>0){for(let i=0;i<t.length;i++)if("3"===t[i].statusCode){const s=this.getCurrentMetaData(t[i],null);s.file.statusCode="5",s.file.status=this.localizedTexts("fileUploadCancel"),this.updateMetaData(s),this.showHideUploadSpinner(t[i])}}else for(let i=0;i<t.length;i++)"3"===t[i].statusCode&&(t[i].statusCode="5",t[i].status=this.localizedTexts("fileUploadCancel"),this.showHideUploadSpinner(t[i]))}showHideUploadSpinner(e){const t=this.getLiElement(e);if(!f(t)&&f(this.template)){const i=t.querySelector("."+ar);Gy({target:i,width:"20px"}),Ap(i)}}};li([U({saveUrl:"",removeUrl:""},Ky)],Xi.prototype,"asyncSettings",void 0),li([g(!1)],Xi.prototype,"sequentialUpload",void 0),li([g({})],Xi.prototype,"htmlAttributes",void 0),li([g("")],Xi.prototype,"cssClass",void 0),li([g(!0)],Xi.prototype,"enabled",void 0),li([g(null)],Xi.prototype,"template",void 0),li([g(!0)],Xi.prototype,"multiple",void 0),li([g(!0)],Xi.prototype,"autoUpload",void 0),li([U({},GE)],Xi.prototype,"buttons",void 0),li([g("")],Xi.prototype,"allowedExtensions",void 0),li([g(0)],Xi.prototype,"minFileSize",void 0),li([g(3e7)],Xi.prototype,"maxFileSize",void 0),li([g(null)],Xi.prototype,"dropArea",void 0),li([Di([{}],UE)],Xi.prototype,"files",void 0),li([g(!0)],Xi.prototype,"showFileList",void 0),li([g(!1)],Xi.prototype,"directoryUpload",void 0),li([g("Default")],Xi.prototype,"dropEffect",void 0),li([F()],Xi.prototype,"created",void 0),li([F()],Xi.prototype,"actionComplete",void 0),li([F()],Xi.prototype,"rendering",void 0),li([F()],Xi.prototype,"beforeUpload",void 0),li([F()],Xi.prototype,"fileListRendering",void 0),li([F()],Xi.prototype,"selected",void 0),li([F()],Xi.prototype,"uploading",void 0),li([F()],Xi.prototype,"success",void 0),li([F()],Xi.prototype,"failure",void 0),li([F()],Xi.prototype,"removing",void 0),li([F()],Xi.prototype,"beforeRemove",void 0),li([F()],Xi.prototype,"clearing",void 0),li([F()],Xi.prototype,"progress",void 0),li([F()],Xi.prototype,"change",void 0),li([F()],Xi.prototype,"chunkSuccess",void 0),li([F()],Xi.prototype,"chunkFailure",void 0),li([F()],Xi.prototype,"chunkUploading",void 0),li([F()],Xi.prototype,"canceling",void 0),li([F()],Xi.prototype,"pausing",void 0),li([F()],Xi.prototype,"resuming",void 0),Xi=li([ii],Xi);var yr=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const YE="e-apply",zI="e-cancel",WI="e-current",UI="e-ctrl-btn",Qy="e-switch-ctrl-btn",kz="e-disabled",Az="e-value-switch-btn",Tz="e-handler",GI="e-hide-hex-value",YI="e-hide-opacity",Jy="e-hide-switchable-value",hm="e-hide-value",Rz="e-hide-valueswitcher",PC="e-hsv-color",Iz="e-hsv-container",eb="e-selected-value",qE="e-mode-switch-btn",qI="e-nocolor-item",$I="e-opacity-value",OC="e-palette",$E="e-color-palette",XI="e-color-picker",XE="e-preview-container",ZE="e-previous",tb="e-show-value",FC="e-selected",ZI="e-split-preview",KE="e-tile",yve_default=["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"];let lr=class extends $i{constructor(e,t){super(e,t)}preRender(){const e=this.element;this.formElement=K(this.element,"form"),this.formElement&&S.add(this.formElement,"reset",this.formResetHandler,this),this.l10n=new Na("colorpicker",{Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"},this.locale),e.getAttribute("ejs-for")&&!e.getAttribute("name")&&e.setAttribute("name",e.id)}render(){this.initWrapper(),this.inline?this.createWidget():this.createSplitBtn(),this.enableOpacity||B([this.container.parentElement],YI),this.renderComplete()}initWrapper(){const e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"});this.element.parentNode.insertBefore(e,this.element),e.appendChild(this.element),we(this.element,{tabindex:"-1",spellcheck:"false"}),this.container=this.createElement("div",{className:"e-container"}),this.getWrapper().appendChild(this.container);let t=this.value?this.roundValue(this.value).toLowerCase():"#008000ff";this.noColor&&"Palette"===this.mode&&""===this.value&&(t="");const i=t.slice(0,7);f(this.initialInputValue)&&(this.initialInputValue=i),this.element.value=i,this.setProperties(this.enableOpacity?{value:t}:{value:i},!0),this.enableRtl&&e.classList.add("e-rtl"),this.cssClass&&B([e],this.cssClass.split(" ")),this.tileRipple=rn(this.container,{selector:"."+KE}),this.ctrlBtnRipple=rn(this.container,{selector:".e-btn"})}getWrapper(){return this.element.parentElement}createWidget(){"Palette"===this.mode?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus()),this.isRgb=!0,this.createInput(),this.createCtrlBtn(),this.disabled||this.wireEvents(),this.inline&&this.disabled&&this.toggleDisabled(!0),T.isDevice&&this.refreshPopupPos()}createSplitBtn(){const e=this.createElement("button",{className:"e-split-colorpicker"});this.getWrapper().appendChild(e),this.splitBtn=new ao({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,open:this.onOpen.bind(this),click:()=>{this.trigger("change",{currentValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},previousValue:{hex:null,rgba:null},value:this.value})}}),this.splitBtn.createElement=this.createElement,this.splitBtn.appendTo(e);const t=this.createElement("span",{className:ZI});W(".e-selected-color",e).appendChild(t),t.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));const i=this.getPopupEle();if(B([i],"e-colorpicker-popup"),this.cssClass&&B([i],this.cssClass.split(" ")),T.isDevice){const s=this.getPopupInst();s.relateTo=document.body,s.position={X:"center",Y:"center"},s.targetType="container",s.collision={X:"fit",Y:"fit"},s.offsetY=4,i.style.zIndex=im(this.splitBtn.element).toString()}this.bindCallBackEvent()}onOpen(){this.trigger("open",{element:this.container})}getPopupInst(){return kl(this.getPopupEle(),rc)}bindCallBackEvent(){this.splitBtn.beforeOpen=e=>{const t=new OE;return this.trigger("beforeOpen",e,i=>{if(!i.cancel){const s=this.getPopupEle();s.style.top=Be(0+pageYOffset),s.style.left=Be(0+pageXOffset),s.style.display="block",this.createWidget(),s.style.display="",T.isDevice&&(this.modal=this.createElement("div"),this.modal.className="e-"+this.getModuleName()+" e-modal",this.modal.style.display="none",document.body.insertBefore(this.modal,s),document.body.className+=" e-colorpicker-overflow",this.modal.style.display="block",this.modal.style.zIndex=(Number(s.style.zIndex)-1).toString())}e.cancel=i.cancel,t.resolve(i)}),t},this.splitBtn.beforeClose=e=>{const t=new OE;return f(e.event)?t.resolve(e):this.trigger("beforeClose",{element:this.container,event:e.event,cancel:!1},s=>{T.isDevice&&e.event.target===this.modal&&(s.cancel=!0),s.cancel||this.onPopupClose(),e.cancel=s.cancel,t.resolve(s)}),t}}onPopupClose(){this.unWireEvents(),this.destroyOtherComp(),this.container.style.width="",W("."+ZI,this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value)),this.container.innerHTML="",z([this.container],[XI,$E]),T.isDevice&&this.modal&&(z([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)}createPalette(){if(Al(this.container,[$E],[XI]),this.presetColors){const t=this.createElement("div",{className:"e-custom-palette"});this.appendElement(t);const i=Object.keys(this.presetColors);if(1===i.length)this.appendPalette(this.presetColors[i[0]],i[0],t);else for(let s=0,r=i.length;s<r;s++)this.appendPalette(this.presetColors[i[s]],i[s],t);Ae(".e-row",t).length>10&&B([t],"e-palette-group")}else this.appendPalette(yve_default,"default");"Palette"===this.mode&&!this.modeSwitcher&&this.noColor&&this.setNoColor();const e=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=Be(this.container.children[0].offsetWidth+e+e),this.rgb=this.hexToRgb(this.roundValue(this.value)),this.hsv=this.rgbToHsv.apply(this,this.rgb)}firstPaletteFocus(){W("."+FC,this.container.children[0])||Ae("."+OC,this.container)[0].focus()}appendPalette(e,t,i){const s=this.createElement("div",{className:OC,attrs:{tabindex:"0"}});let r,o,a;i?i.appendChild(s):this.appendElement(s);for(let l=0,h=e.length;l<h;l++)(0===l||l%this.columns==0)&&(r=this.createElement("div",{className:"e-row",attrs:{role:"presentation"}}),s.appendChild(r)),a=this.roundValue(e[l]).toLowerCase(),o=this.createElement("span",{className:KE,attrs:{role:"gridcell","aria-label":a,"aria-selected":"false"}}),this.trigger("beforeTileRender",{element:o,presetName:t,value:e[l]}),r.appendChild(o),this.value===a&&(this.addTileSelection(o),s.focus()),o.style.backgroundColor=this.convertToRgbString(this.hexToRgb(a))}setNoColor(){const e=this.container.querySelector(".e-row").children[0];e.classList.add(qI),this.value||(e.classList.add(FC),K(e,"."+OC).focus()),["aria-selected","aria-label"].forEach(t=>{e.removeAttribute(t)}),e.style.backgroundColor=""}appendElement(e,t=0){const i=this.container.children[t];i?this.container.insertBefore(e,i):this.container.appendChild(e)}addTileSelection(e){e.classList.add(FC),e.setAttribute("aria-selected","true")}createPicker(){Al(this.container,[XI],[$E]);const e=this.createElement("div",{className:Iz});this.appendElement(e),e.appendChild(this.createElement("div",{className:PC}));const t=this.createElement("span",{className:Tz,attrs:{tabindex:"0"}});e.appendChild(t),this.rgb=this.hexToRgb(this.value),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHsvContainerBg(),this.setHandlerPosition(),this.createSlider(),this.createDragTooltip()}setHsvContainerBg(e=this.hsv[0]){this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(e,100,100,1))}getHsvContainer(){return W("."+Iz,this.container)}setHandlerPosition(){const e=this.getDragHandler(),t=W("."+PC,this.container);e.style.left=Be(this.enableRtl?t.offsetWidth*Math.abs(100-this.hsv[1])/100:t.offsetWidth*this.hsv[1]/100),e.style.top=Be(t.offsetHeight*(100-this.hsv[2])/100)}createSlider(){const e=this.createElement("div",{className:"e-slider-preview"});this.appendElement(e,1),this.createPreview(e);const t=this.createElement("div",{className:"e-colorpicker-slider"});e.insertBefore(t,e.children[0]);let i=this.createElement("div",{className:"e-hue-slider"});t.appendChild(i),this.hueSlider=new gn({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)}),this.hueSlider.createElement=this.createElement,this.hueSlider.appendTo(i),this.enableOpacity&&(i=this.createElement("div",{className:"e-opacity-slider"}),t.appendChild(i),this.createOpacitySlider(i))}createOpacitySlider(e){this.opacitySlider=new gn({value:100*this.rgb[3],min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)}),this.opacitySlider.createElement=this.createElement,this.opacitySlider.appendTo(e);const t=this.createElement("div",{className:"e-opacity-empty-track"});e.appendChild(t),this.updateOpacitySliderBg()}updateOpacitySliderBg(){const e=this.enableRtl?"to left":"to right",t=W(".e-opacity-empty-track",this.opacitySlider.element);t&&(t.style.background="linear-gradient("+e+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)")}hueChange(e){this.hsv[0]=e.value,this.setHsvContainerBg(),this.convertToOtherFormat()}opacityChange(e){const t=e.value,i=this.rgbToHex(this.rgb);this.hsv[3]=t/100,this.rgb[3]=t/100;const s=this.rgbToHex(this.rgb);this.updateOpacityInput(t);const r=this.convertToRgbString(this.rgb);this.updatePreview(r),this.triggerEvent(s,i,r)}updateOpacityInput(e){if(this.enableOpacity&&!this.getWrapper().classList.contains(hm)){const t=kl(W("."+$I,this.container),LI);t.value=e,t.dataBind()}}createPreview(e){const t=this.createElement("div",{className:XE});e.appendChild(t);let i=this.createElement("span",{className:"e-preview "+WI});t.appendChild(i);const s=this.convertToRgbString(this.rgb);i.style.backgroundColor=s,i=this.createElement("span",{className:"e-preview "+ZE}),t.appendChild(i),i.style.backgroundColor=s}isPicker(){return!this.container.classList.contains($E)}getPopupEle(){return this.container.parentElement}createNumericInput(e,t,i,s){const r=new LI({value:t,placeholder:i,min:0,max:s,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker(),change:o=>{o.event&&this.inputHandler(o.event)}});r.createElement=this.createElement,r.appendTo(e)}createInput(){const e=this.isPicker(),t=this.getWrapper();if(e&&!t.classList.contains(hm)||!e&&t.classList.contains(tb)){const i=this.createElement("div",{className:eb});this.appendElement(i,e?2:1);const s=this.createElement("div",{className:"e-input-container"});if(i.appendChild(s),t.classList.contains(Rz)||this.appendValueSwitchBtn(i),!t.classList.contains(GI)){const r=this.createElement("input",{className:"e-hex",attrs:{maxlength:"7",spellcheck:"false"}});s.appendChild(r),be.createInput({element:r,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker()}},this.createElement),be.setValue(this.value.slice(0,7),r),r.addEventListener("input",this.inputHandler.bind(this))}if(!t.classList.contains(Jy)){let r,o;this.isRgb?(r="RGB",o=this.rgb):(r="HSV",o=this.hsv);const a=["rh","gs","bv"];for(let l=0;l<3;l++)this.createNumericInput(s.appendChild(this.createElement("input",{className:"e-"+a[l]+"-value"})),o[l],r[l],255);this.enableOpacity&&this.appendOpacityValue(s)}}}appendOpacityValue(e){this.createNumericInput(e.appendChild(this.createElement("input",{className:$I})),100*this.rgb[3],"A",100)}appendValueSwitchBtn(e){const t=this.createElement("button",{className:"e-icons e-css e-btn e-flat e-icon-btn "+Az});e.appendChild(t),this.isPicker()&&!this.getWrapper().classList.contains(Jy)&&t.addEventListener("click",this.formatSwitchHandler.bind(this))}createCtrlBtn(){if(this.modeSwitcher||this.showButtons){this.l10n.setLocale(this.locale);const e=this.createElement("div",{className:Qy});if(this.container.appendChild(e),this.showButtons){const t=this.createElement("div",{className:UI});e.appendChild(t);const i=this.l10n.getConstant("Apply");t.appendChild(this.createElement("button",{innerHTML:i,className:"e-btn e-css e-flat e-primary e-small "+YE,attrs:{title:i}}));const s=this.l10n.getConstant("Cancel");t.appendChild(this.createElement("button",{innerHTML:s,className:"e-btn e-css e-flat e-small "+zI,attrs:{title:s}}))}this.modeSwitcher&&this.appendModeSwitchBtn()}}appendModeSwitchBtn(){const e=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+qE,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});W("."+Qy,this.container).insertBefore(e,W("."+UI,this.container))}createDragTooltip(){const e=new js({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",beforeOpen:t=>{this.tooltipEle=t.element},animation:{open:{effect:"None"},close:{effect:"None"}}});e.createElement=this.createElement,e.appendTo(this.container),e.open(this.container),this.tooltipEle.style.zIndex=im(this.tooltipEle).toString(),W(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))}getTooltipInst(){return kl(this.container,js)}setTooltipOffset(e){this.getTooltipInst().offsetY=e}toggleDisabled(e){e?this.getWrapper().classList.add(kz):this.getWrapper().classList.remove(kz),this.showButtons&&[].slice.call(Ae(".e-btn",this.container)).forEach(t=>{e?we(t,{disabled:""}):t.removeAttribute("disabled")})}convertToRgbString(e){return e.length?4===e.length?"rgba("+e.join()+")":"rgb("+e.join()+")":""}convertToHsvString(e){return 4===e.length?"hsva("+e.join()+")":"hsv("+e.join()+")"}updateHsv(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1],this.hsv[2]=this.hsv[2]>100?100:this.hsv[2],this.setHandlerPosition()}convertToOtherFormat(e=!1){const t=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);const i=this.rgbToHex(this.rgb),s=this.convertToRgbString(this.rgb);this.updatePreview(s),this.updateInput(i),this.triggerEvent(i,t,s,e)}updateInput(e){const t=this.getWrapper();t.classList.contains(hm)||(t.classList.contains(GI)||be.setValue(e.substr(0,7),W(".e-hex",this.container)),t.classList.contains(Jy)||this.updateValue(this.isRgb?this.rgb:this.hsv,!1))}updatePreview(e){this.enableOpacity&&this.updateOpacitySliderBg(),W(".e-tip-transparent",this.tooltipEle).style.backgroundColor=e,W("."+XE+" ."+WI,this.container).style.backgroundColor=e,W("."+XE+" ."+ZE,this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))}getDragHandler(){return W("."+Tz,this.container)}removeTileSelection(){[].slice.call(Ae("."+FC,this.container.children[0])).forEach(t=>{t.classList.remove(FC),t.setAttribute("aria-selected","false")})}convertRgbToNumberArray(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map((t,i)=>3!==i?parseInt(t,10):parseFloat(t))}getValue(e,t){if(e||(e=this.value),t=t?t.toLowerCase():"hex","r"===e[0]){const i=this.convertRgbToNumberArray(e);if("hex"===t||"hexa"===t){const s=this.rgbToHex(i);return"hex"===t?s.slice(0,7):s}return"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i.slice(0,3))):"hsva"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i)):"null"}if("h"===e[0]){const i=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e));if("rgba"===t)return this.convertToRgbString(i);if("hex"===t||"hexa"===t){const s=this.rgbToHex(i);return"hex"===t?s.slice(0,7):s}return"rgb"===t?this.convertToRgbString(i.slice(0,3)):"null"}{e=this.roundValue(e);let i=this.hexToRgb(e);return("rgb"===t||"hsv"===t)&&(i=i.slice(0,3)),"rgba"===t||"rgb"===t?this.convertToRgbString(i):"hsva"===t||"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,i)):"hex"===t?e.slice(0,7):"a"===t?i[3].toString():"null"}}toggle(){this.container.parentElement.classList.contains("e-popup-close")?this.splitBtn.toggle():this.closePopup(null)}getModuleName(){return"colorpicker"}getPersistData(){return this.addOnPersist(["value"])}wireEvents(){if(this.isPicker()){const e=this.getDragHandler();S.add(e,"keydown",this.pickerKeyDown,this),S.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this),(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent(),S.add(W("."+ZE,this.container),"click",this.previewHandler,this)}else S.add(this.container,"click",this.paletteClickHandler,this),S.add(this.container,"keydown",this.paletteKeyDown,this)}formResetHandler(){this.value=this.initialInputValue,we(this.element,{value:this.initialInputValue})}addCtrlSwitchEvent(){const e=W("."+Qy,this.container);e&&S.add(e,"click",this.btnClickHandler,this)}pickerKeyDown(e){switch(e.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,e);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,e);break;case 38:this.handlerDragPosition(2,1,e);break;case 40:this.handlerDragPosition(2,-1,e);break;case 13:{e.preventDefault();const t=this.rgbToHex(this.rgb);this.enterKeyHandler(t,e)}}}enterKeyHandler(e,t){this.triggerChangeEvent(e),this.inline||(this.closePopup(t),this.splitBtn.element.focus())}closePopup(e){this.trigger("beforeClose",{element:this.container,event:e,cancel:!1},i=>{i.cancel||(this.splitBtn.toggle(),this.onPopupClose())})}triggerChangeEvent(e){const t=e.slice(0,7);this.trigger("change",{currentValue:{hex:t,rgba:this.convertToRgbString(this.rgb)},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:this.enableOpacity?e:t}),this.setProperties(this.enableOpacity?{value:e}:{value:t},!0),this.element.value=t||"#000000"}handlerDragPosition(e,t,i){i.preventDefault(),this.hsv[e]+=t*(i.ctrlKey?1:3),this.hsv[e]<0&&(this.hsv[e]=0),this.updateHsv(),this.convertToOtherFormat(!0)}handlerDown(e){e.preventDefault(),"mousedown"===e.type?(this.clientX=Math.abs(e.pageX-pageXOffset),this.clientY=Math.abs(e.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(e.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(e.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8)),this.setHsv(this.clientX,this.clientY),this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)",this.updateHsv(),this.convertToOtherFormat(),this.getDragHandler().focus(),S.add(document,"mousemove touchmove",this.handlerMove,this),S.add(document,"mouseup touchend",this.handlerEnd,this)}handlerMove(e){let t,i;"touchmove"!==e.type&&e.preventDefault(),"mousemove"===e.type?(t=Math.abs(e.pageX-pageXOffset),i=Math.abs(e.pageY-pageYOffset)):(t=Math.abs(e.changedTouches[0].pageX-pageXOffset),i=Math.abs(e.changedTouches[0].pageY-pageYOffset)),this.setHsv(t,i);const s=this.getDragHandler();this.updateHsv(),this.convertToOtherFormat(),this.getTooltipInst().refresh(s),this.tooltipEle.style.transform||(Math.abs(this.clientX-t)>8||Math.abs(this.clientY-i)>8)&&(W("."+PC,this.container).style.cursor="pointer",s.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",s.classList.add("e-hide-handler"))}setHsv(e,t){const i=W("."+PC,this.container),s=i.getBoundingClientRect();e=this.enableRtl?e>s.right?0:Math.abs(e-s.right):e>s.left?Math.abs(e-s.left):0,t=t>s.top?Math.abs(t-s.top):0,this.hsv[2]=Math.round(10*Number(100*(i.offsetHeight-Math.max(0,Math.min(i.offsetHeight,t-i.offsetTop)))/i.offsetHeight))/10,this.hsv[1]=Math.round(10*Number(100*Math.max(0,Math.min(i.offsetWidth,e-i.offsetLeft))/i.offsetWidth))/10}handlerEnd(e){"touchend"!==e.type&&e.preventDefault(),S.remove(document,"mousemove touchmove",this.handlerMove),S.remove(document,"mouseup touchend",this.handlerEnd);const t=this.getDragHandler();W("."+PC,this.container).style.cursor="",this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",t.classList.remove("e-hide-handler")),!this.inline&&!this.showButtons&&this.closePopup(e)}btnClickHandler(e){const t=e.target;K(t,"."+qE)?(e.stopPropagation(),this.switchToPalette()):(t.classList.contains(YE)||t.classList.contains(zI))&&this.ctrlBtnClick(t,e)}switchToPalette(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"}),this.unWireEvents(),this.destroyOtherComp(),ie(W(".e-slider-preview",this.container)),this.getWrapper().classList.contains(hm)||Ue(W("."+eb,this.container)),ie(this.getHsvContainer()),this.createPalette(),this.firstPaletteFocus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Palette"})}refreshPopupPos(){if(!this.inline){const e=this.getPopupEle();e.style.left=Be(0+pageXOffset),e.style.top=Be(0+pageYOffset),this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}}formatSwitchHandler(){this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)}updateValue(e,t,i,s){const r=["e-rh-value","e-gs-value","e-bv-value"];let o;for(let a=0,l=r.length;a<l;a++)o=kl(W("."+r[a],this.container),LI),o.value=Math.round(e[a]),t&&(o.placeholder=r[a].substr(i,1).toUpperCase(),o.max=s?s[a]:255),o.dataBind()}previewHandler(e){const t=e.target,i=this.rgbToHex(this.rgb);this.rgb=this.convertRgbToNumberArray(t.style.backgroundColor),this.rgb[3]||(this.rgb[3]=1);const s=this.rgbToHex(this.rgb),r=this.rgbToHsv.apply(this,this.rgb);r[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:r[0]},!0),this.hueSlider.refresh()),this.setHsvContainerBg(r[0]),this.enableOpacity&&r[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:100*r[3]},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg()),this.hsv=r,this.setHandlerPosition(),this.updateInput(s),W("."+XE+" ."+WI,this.container).style.backgroundColor=this.convertToRgbString(this.rgb),this.triggerEvent(s,i,this.convertToRgbString(this.rgb))}paletteClickHandler(e){e.preventDefault();const t=e.target;if(t.classList.contains(KE)){if(this.removeTileSelection(),this.addTileSelection(t),t.classList.contains(qI))this.noColorTile();else{const i=t.getAttribute("aria-label"),s=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(this.roundValue(i)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(tb)&&this.updateInput(i),this.triggerEvent(i,s,this.convertToRgbString(this.rgb))}!this.inline&&!this.showButtons&&this.closePopup(e)}else K(t,"."+qE)?this.switchToPicker():t.classList.contains(YE)||t.classList.contains(zI)?this.ctrlBtnClick(t,e):this.getWrapper().classList.contains(tb)&&K(t,"."+Az)&&this.formatSwitchHandler()}noColorTile(e=!1){const t=this.rgbToHex(this.rgb);this.rgb=[],this.hsv=[],this.triggerEvent("",t,"",e)}switchToPicker(){const e=this.getWrapper();this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"}),this.unWireEvents(),[].slice.call(Ae("."+OC,this.container)).forEach(i=>{ie(i)}),e.classList.contains(tb)&&ie(W("."+eb,this.container)),this.container.style.width="";const t=W(".e-custom-palette",this.container);this.presetColors&&Ue(t),this.createPicker(),this.getDragHandler().focus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Picker"})}ctrlBtnClick(e,t){if(e.classList.contains(YE)){const i=this.rgbToHex(this.rgb);this.triggerChangeEvent(i)}this.inline||(this.closePopup(t),this.splitBtn.element.focus())}paletteKeyDown(e){const t=e.target;if(!t.classList.contains(OC))return;let i,s;const r=[].slice.call(Ae("."+KE,t)),o=r.filter(a=>a.classList.contains("e-selected")).pop();switch(!e.altKey&&e.keyCode){case 39:e.preventDefault(),i=o?r[this.tilePosition(r,o,this.enableRtl?-1:1)]:r[this.enableRtl?r.length-1:0],this.keySelectionChanges(i);break;case 37:e.preventDefault(),i=o?r[this.tilePosition(r,o,this.enableRtl?1:-1)]:r[this.enableRtl?0:r.length-1],this.keySelectionChanges(i);break;case 38:e.preventDefault(),s=o?this.tilePosition(r,o,-this.columns):0,i=r[s]?r[s]:r[s-this.columns],this.keySelectionChanges(i);break;case 40:e.preventDefault(),s=o?this.tilePosition(r,o,this.columns):r.length-1,r[s]||(s%=r.length,s+=r[r.length-1].parentElement.childElementCount),i=r[s],this.keySelectionChanges(i);break;case 13:if(e.preventDefault(),o){const a=o.getAttribute("aria-label");this.enterKeyHandler(a||"",e)}}}keySelectionChanges(e){if(this.removeTileSelection(),this.addTileSelection(e),e.classList.contains(qI))this.noColorTile(!0);else{const t=e.getAttribute("aria-label"),i=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(t),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(tb)&&this.updateInput(t),this.triggerEvent(t,i,this.convertToRgbString(this.rgb),!0)}}tilePosition(e,t,i){const s=(e=Array.prototype.slice.call(e)).length,r=this.columns-e[s-1].parentElement.childElementCount;let o=e.indexOf(t);return o+=i,o<0?o+=s+r:o%=s+r,o}inputHandler(e){const t=e.target;if(!t.value.length)return;let i,s;switch(W(".e-float-text",t.parentElement).textContent){case"HEX":{let o="";if(("#"===t.value[0]&&5!==t.value.length||"#"!==t.value[0]&&4!==t.value.length)&&(o=this.roundValue(t.value)),9!==o.length)return;s=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(o+o.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),s,t.value);break}case"R":this.rgb[0]!==Number(t.value)&&(s=this.rgbToHex(this.rgb),this.rgb[0]=Number(t.value),i=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(i,s));break;case"G":this.rgb[1]!==Number(t.value)&&(s=this.rgbToHex(this.rgb),this.rgb[1]=Number(t.value),i=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(i,s));break;case"B":this.rgb[2]!==Number(t.value)&&(s=this.rgbToHex(this.rgb),this.rgb[2]=Number(t.value),i=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(i,s));break;case"H":this.hueSlider.value=Number(t.value);break;case"S":this.hsv[1]!==Number(t.value)&&(this.hsv[1]=Number(t.value),this.updateHsv(),this.convertToOtherFormat());break;case"V":this.hsv[2]!==Number(t.value)&&(this.hsv[2]=Number(t.value),this.updateHsv(),this.convertToOtherFormat());break;case"A":this.opacitySlider.value=Number(t.value)}}inputValueChange(e,t,i){e[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:e[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(e[0])),this.hsv=e;const s=this.rgbToHex(this.rgb);this.setHandlerPosition(),this.updateInput(i||s);const r=this.convertToRgbString(this.rgb);this.updatePreview(r),this.triggerEvent(s,t,r)}triggerEvent(e,t,i,s=!1){const r=e.slice(0,7);this.showButtons||s?this.trigger("select",{currentValue:{hex:r,rgba:i},previousValue:{hex:t.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(t))}}):(this.trigger("change",{currentValue:{hex:r,rgba:i},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:e}),this.setProperties({value:e},!0),this.element.value=r||"#000000")}destroy(){const e=this.getWrapper();super.destroy(),["tabindex","spellcheck"].forEach(t=>{this.element.removeAttribute(t)}),this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null),this.tileRipple(),this.tileRipple=null,this.ctrlBtnRipple(),this.ctrlBtnRipple=null,this.element.nextElementSibling&&ie(this.element.nextElementSibling),e&&(e.parentElement.insertBefore(this.element,e),ie(e)),this.container=null,this.formElement&&S.remove(this.formElement,"reset",this.formResetHandler)}destroyOtherComp(){if(this.isPicker()){this.hueSlider.destroy(),this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.hueSlider=null;const e=this.getTooltipInst();e.close(),e.destroy(),this.tooltipEle=null}}isPopupOpen(){return this.getPopupEle().classList.contains("e-popup-open")}unWireEvents(){if(this.isPicker()){const e=this.getDragHandler();S.remove(e,"keydown",this.pickerKeyDown),S.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown),(this.modeSwitcher||this.showButtons)&&S.remove(W("."+Qy,this.container),"click",this.btnClickHandler),S.remove(W("."+ZE,this.container),"click",this.previewHandler)}else S.remove(this.container,"click",this.paletteClickHandler),S.remove(this.container,"keydown",this.paletteKeyDown)}roundValue(e){if(!e)return"";"#"!==e[0]&&(e="#"+e);let t=e.length;if(4===t&&(e+="f",t=5),5===t){let i="";for(let s=1,r=e.length;s<r;s++)i+=e.charAt(s)+e.charAt(s);e="#"+i,t=9}return 7===t&&(e+="ff"),e}hexToRgb(e){if(!e)return[];9!==(e=e.trim()).length&&(e=this.roundValue(e));const t=Number((parseInt(e.slice(-2),16)/255).toFixed(2));e=e.slice(1,7);const i=parseInt(e,16),s=[];return s.push(i>>16&255),s.push(i>>8&255),s.push(255&i),s.push(t),s}rgbToHsv(e,t,i,s){if(this.rgb&&!this.rgb.length)return[];e/=255,t/=255,i/=255;const r=Math.max(e,t,i),o=Math.min(e,t,i);let a;const l=r,h=r-o,c=0===r?0:h/r;if(r===o)a=0;else{switch(r){case e:a=(t-i)/h+(t<i?6:0);break;case t:a=(i-e)/h+2;break;case i:a=(e-t)/h+4}a/=6}const d=[Math.round(360*a),Math.round(1e3*c)/10,Math.round(1e3*l)/10];return f(s)||d.push(s),d}hsvToRgb(e,t,i,s){let r,o,a;if(i/=100,0==(t/=100))return r=o=a=i,[Math.round(255*r),Math.round(255*o),Math.round(255*a),s];e/=60;const l=Math.floor(e),h=e-l,c=i*(1-t),d=i*(1-t*h),u=i*(1-t*(1-h));switch(l){case 0:r=i,o=u,a=c;break;case 1:r=d,o=i,a=c;break;case 2:r=c,o=i,a=u;break;case 3:r=c,o=d,a=i;break;case 4:r=u,o=c,a=i;break;default:r=i,o=c,a=d}const p=[Math.round(255*r),Math.round(255*o),Math.round(255*a)];return f(s)||p.push(s),p}rgbToHex(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+(f(e[3])?"":0!==e[3]?(Math.round(255*e[3])+65536).toString(16).substr(-2):"00"):""}hex(e){return("0"+e.toString(16)).slice(-2)}changeModeSwitcherProp(e){const t=W("."+Qy,this.container);e?t?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):t&&(this.showButtons?ie(W("."+qE,t)):Ue(t))}changeShowBtnProps(e){const t=W("."+Qy,this.container);e?(t&&Ue(t),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?ie(W("."+UI,t)):Ue(t)}changeValueProp(e){if(this.isPicker())this.rgb=this.hexToRgb(e),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),ie(K(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(e),4===this.rgb.length&&this.updateOpacityInput(100*this.rgb[3]);else{this.removeTileSelection();const t=this.container.querySelector('span[aria-label="'+this.roundValue(e)+'"]');t&&this.addTileSelection(t)}}setInputEleProps(){Ue(W("."+eb,this.container)),this.createInput()}changeDisabledProp(e){this.isPicker()&&(this.hueSlider.enabled=!e,this.opacitySlider.enabled=!e,this.setInputEleProps()),e?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())}changeCssClassProps(e,t){const i=this.getWrapper(),s=this.getPopupEle();t&&z([i,s],t.split(" ")),e&&B([i,s],e.split(" "))}changeRtlProps(e){e?B([this.getWrapper()],"e-rtl"):z([this.getWrapper()],"e-rtl")}changePaletteProps(){ie(this.container.children[0]),this.container.style.width="",this.createPalette()}changeOpacityProps(e){const t=this.getWrapper();e?(z([this.container.parentElement],YI),this.createOpacitySlider(W(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),!t.classList.contains(hm)&&!t.classList.contains(Jy)&&this.appendOpacityValue(W(".e-input-container",this.container))):(B([this.container.parentElement],YI),this.opacitySlider.destroy(),Ue(this.opacitySlider.element),this.opacitySlider=null,!t.classList.contains(hm)&&!t.classList.contains(Jy)&&Ue(W("."+$I,this.container).parentElement))}onPropertyChanged(e,t){if(!f(e.value)){const i=this.roundValue(e.value);if(9===i.length){this.element.value=this.roundValue(i).slice(0,7);const s=this.splitBtn&&W("."+ZI,this.splitBtn.element);s&&(s.style.backgroundColor=this.convertToRgbString(this.hexToRgb(e.value)))}else this.value=t.value}if(!this.inline&&f(e.inline)&&(this.splitBtn.setProperties(MC(e,["disabled","enableRtl"])),!this.isPopupOpen()))return this.changeCssClassProps(e.cssClass,t.cssClass),void this.changeRtlProps(e.enableRtl);for(const i of Object.keys(e))switch(i){case"inline":e.inline?(this.getWrapper().appendChild(this.container),this.splitBtn.destroy(),ie(this.element.nextElementSibling),this.container.children.length||this.createWidget()):(this.destroyOtherComp(),this.unWireEvents(),this.container.innerHTML="",this.createSplitBtn());break;case"cssClass":{this.changeCssClassProps(e.cssClass,t.cssClass);let s=e.cssClass.split(" ").concat(t.cssClass.split(" "));s=s.reduce((o,a)=>(o.indexOf(a)<0&&o.push(a),o),[]);let r=0;s.forEach(o=>{0===r&&(o===hm||o===Rz||o===tb||o===GI||o===Jy)&&(W("."+eb,this.container)&&Ue(W("."+eb,this.container)),this.createInput(),r++)});break}case"enableRtl":this.isPicker()&&(this.hueSlider.enableRtl=e.enableRtl,this.enableOpacity&&(this.opacitySlider.enableRtl=e.enableRtl),this.setInputEleProps()),this.changeRtlProps(e.enableRtl);break;case"disabled":this.changeDisabledProp(e.disabled);break;case"value":this.value!==t.value&&this.changeValueProp(e.value);break;case"showButtons":this.changeShowBtnProps(e.showButtons);break;case"mode":"Picker"===e.mode?this.switchToPicker():this.switchToPalette();break;case"modeSwitcher":this.changeModeSwitcherProp(e.modeSwitcher);break;case"columns":case"presetColors":this.isPicker()||this.changePaletteProps();break;case"noColor":e.noColor?"Palette"===this.mode&&!this.modeSwitcher&&this.setNoColor():this.changePaletteProps();break;case"enableOpacity":this.changeOpacityProps(e.enableOpacity)}}focusIn(){this.element.parentElement.focus()}};yr([g("#008000ff")],lr.prototype,"value",void 0),yr([g("")],lr.prototype,"cssClass",void 0),yr([g(!1)],lr.prototype,"disabled",void 0),yr([g("Picker")],lr.prototype,"mode",void 0),yr([g(!0)],lr.prototype,"modeSwitcher",void 0),yr([g(null)],lr.prototype,"presetColors",void 0),yr([g(!0)],lr.prototype,"showButtons",void 0),yr([g(10)],lr.prototype,"columns",void 0),yr([g(!1)],lr.prototype,"inline",void 0),yr([g(!1)],lr.prototype,"noColor",void 0),yr([g(!1)],lr.prototype,"enablePersistence",void 0),yr([g(!0)],lr.prototype,"enableOpacity",void 0),yr([F()],lr.prototype,"select",void 0),yr([F()],lr.prototype,"change",void 0),yr([F()],lr.prototype,"beforeTileRender",void 0),yr([F()],lr.prototype,"beforeOpen",void 0),yr([F()],lr.prototype,"open",void 0),yr([F()],lr.prototype,"beforeClose",void 0),yr([F()],lr.prototype,"beforeModeSwitch",void 0),yr([F()],lr.prototype,"onModeSwitch",void 0),yr([F()],lr.prototype,"created",void 0),lr=yr([ii],lr);var Yr=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const Pz="e-input-focus",KI=["title","style","class"];let Pr=class extends $i{constructor(e,t){super(e,t),this.previousValue=null,this.isAngular=!1,this.isHiddenInput=!1,this.isForm=!1,this.inputPreviousValue=null,this.isVue=!1,this.textboxOptions=e}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"floatLabelType":be.removeFloating(this.textboxWrapper),be.addFloating(this.respectiveElement,this.floatLabelType,this.placeholder);break;case"enabled":be.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container),this.bindClearEvent();break;case"width":be.setWidth(e.width,this.textboxWrapper.container);break;case"value":{const s=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.isBlank(this.value)||(this.value=this.value.toString()),this.isProtectedOnChange=s,be.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.inputPreviousValue=this.respectiveElement.value,(this.isAngular||this.isVue)&&!0===this.preventChange?(this.previousValue=this.isAngular?this.value:this.previousValue,this.preventChange=!1):(f(this.isAngular)||!this.isAngular||this.isAngular&&!this.preventChange||this.isAngular&&f(this.preventChange))&&this.raiseChangeEvent()}break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkAttributes(!0),be.validateInputType(this.textboxWrapper.container,this.element);break;case"readonly":be.setReadonly(this.readonly,this.respectiveElement);break;case"type":"TEXTAREA"!==this.respectiveElement.tagName&&(this.respectiveElement.setAttribute("type",this.type),be.validateInputType(this.textboxWrapper.container,this.element),this.raiseChangeEvent());break;case"showClearButton":"TEXTAREA"!==this.respectiveElement.tagName&&(be.setClearButton(this.showClearButton,this.respectiveElement,this.textboxWrapper),this.bindClearEvent());break;case"enableRtl":be.setEnableRtl(this.enableRtl,[this.textboxWrapper.container]);break;case"placeholder":be.setPlaceholder(this.placeholder,this.respectiveElement);break;case"autocomplete":"on"!==this.autocomplete&&""!==this.autocomplete?this.respectiveElement.autocomplete=this.autocomplete:this.removeAttributes(["autocomplete"]);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"locale":this.globalize=new Gs(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),be.setPlaceholder(this.placeholder,this.respectiveElement)}}getModuleName(){return"textbox"}isBlank(e){return!e||/^\s*$/.test(e)}preRender(){if(this.cloneElement=this.element.cloneNode(!0),this.formElement=K(this.element,"form"),f(this.formElement)||(this.isForm=!0),"EJS-TEXTBOX"===this.element.tagName){const t=Q("ej2_instances",this.element),i=this.createElement(this.multiline?"textarea":"input");let s=0;for(;s<this.element.attributes.length;s++){const r=this.element.attributes[s].nodeName;"id"!==r&&(i.setAttribute(r,this.element.attributes[s].nodeValue),i.innerHTML=this.element.innerHTML,"name"===r&&this.element.removeAttribute("name"))}this.element.appendChild(i),this.element=i,Oi("ej2_instances",t,this.element)}if(this.updateHTMLAttrToElement(),this.checkAttributes(!1),"TEXTAREA"!==this.element.tagName&&this.element.setAttribute("type",this.type),this.element.setAttribute("role","textbox"),this.globalize=new Gs(this.locale),this.l10n=new Na("textbox",{placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",Us("textbox")),this.element.hasAttribute("name")||this.element.setAttribute("name",this.element.getAttribute("id")),"INPUT"===this.element.tagName&&this.multiline){this.isHiddenInput=!0,this.textarea=this.createElement("textarea"),this.element.parentNode.insertBefore(this.textarea,this.element),this.element.setAttribute("type","hidden"),this.textarea.setAttribute("name",this.element.getAttribute("name")),this.element.removeAttribute("name"),this.textarea.setAttribute("role",this.element.getAttribute("role")),this.element.removeAttribute("role"),this.textarea.setAttribute("id",Us("textarea"));const t=["placeholder","disabled","value","readonly","type","autocomplete"];for(let i=0;i<this.element.attributes.length;i++){const s=this.element.attributes[i].nodeName;this.element.hasAttribute(s)&&KI.indexOf(s)<0&&"id"!==s&&"type"!==s&&"e-mappinguid"!==s&&(this.textarea.setAttribute(s,this.element.attributes[i].nodeValue),t.indexOf(s)<0&&(this.element.removeAttribute(s),i--))}}}checkAttributes(e){const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["placeholder","disabled","value","readonly","type","autocomplete"];for(const i of t)if(!f(this.element.getAttribute(i)))switch(i){case"disabled":if(f(this.textboxOptions)||void 0===this.textboxOptions.enabled||e){const s=!("disabled"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i));this.setProperties({enabled:s},!e)}break;case"readonly":if(f(this.textboxOptions)||void 0===this.textboxOptions.readonly||e){const s="readonly"===this.element.getAttribute(i)||""===this.element.getAttribute(i)||"true"===this.element.getAttribute(i);this.setProperties({readonly:s},!e)}break;case"placeholder":(f(this.textboxOptions)||void 0===this.textboxOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"autocomplete":(f(this.textboxOptions)||void 0===this.textboxOptions.autocomplete||e)&&this.setProperties({autocomplete:"off"===this.element.autocomplete?"off":"on"},!e);break;case"value":(f(this.textboxOptions)||void 0===this.textboxOptions.value||e)&&this.setProperties({value:this.element.value},!e);break;case"type":(f(this.textboxOptions)||void 0===this.textboxOptions.type||e)&&this.setProperties({type:this.element.type},!e)}}render(){let e=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(e=this.getInputValidClassList(this.cssClass)),this.respectiveElement=this.isHiddenInput?this.textarea:this.element,this.textboxWrapper=be.createInput({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:{enabled:this.enabled,enableRtl:this.enableRtl,cssClass:e,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}}),this.updateHTMLAttrToWrapper(),this.isHiddenInput&&this.respectiveElement.parentNode.insertBefore(this.element,this.respectiveElement),this.wireEvents(),f(this.value)||(be.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value)),f(this.value)||(this.initialValue=this.value,this.setInitialValue()),"on"!==this.autocomplete&&""!==this.autocomplete?this.respectiveElement.autocomplete=this.autocomplete:!f(this.textboxOptions)&&void 0!==this.textboxOptions.autocomplete&&this.removeAttributes(["autocomplete"]),this.previousValue=this.value,this.inputPreviousValue=this.value,this.respectiveElement.defaultValue=this.respectiveElement.value,be.setWidth(this.width,this.textboxWrapper.container),this.renderComplete()}updateHTMLAttrToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(KI.indexOf(e)>-1)if("class"===e){const t=this.getInputValidClassList(this.htmlAttributes[e]);""!==t&&B([this.textboxWrapper.container],t.split(" "))}else if("style"===e){let t=this.textboxWrapper.container.getAttribute(e);t=f(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.textboxWrapper.container.setAttribute(e,t)}else this.textboxWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHTMLAttrToElement(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))KI.indexOf(e)<0&&this.element.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){be.setCssClass(this.getInputValidClassList(e),[this.textboxWrapper.container],this.getInputValidClassList(t))}getInputValidClassList(e){let t=e;return!f(e)&&""!==e&&(t=e.replace(/\s+/g," ").trim()),t}setInitialValue(){this.isAngular||this.respectiveElement.setAttribute("value",this.initialValue)}wireEvents(){S.add(this.respectiveElement,"focus",this.focusHandler,this),S.add(this.respectiveElement,"blur",this.focusOutHandler,this),S.add(this.respectiveElement,"input",this.inputHandler,this),S.add(this.respectiveElement,"change",this.changeHandler,this),this.isForm&&S.add(this.formElement,"reset",this.resetForm,this),this.bindClearEvent(),!f(this.textboxWrapper.container.querySelector(".e-float-text"))&&"Auto"===this.floatLabelType&&this.textboxWrapper.container.classList.contains("e-autofill")&&this.textboxWrapper.container.classList.contains("e-outline")&&S.add(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler,this)}animationHandler(){this.textboxWrapper.container.classList.add("e-valid-input");const e=this.textboxWrapper.container.querySelector(".e-float-text");f(e)||(e.classList.add("e-label-top"),e.classList.contains("e-label-bottom")&&e.classList.remove("e-label-bottom"))}resetValue(e){const t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=e,this.isProtectedOnChange=t}resetForm(){if(this.resetValue(this.isAngular?"":this.initialValue),!f(this.textboxWrapper)){const e=this.textboxWrapper.container.querySelector(".e-float-text");f(e)||(f(this.initialValue)||""===this.initialValue?(e.classList.add("e-label-bottom"),e.classList.remove("e-label-top")):""!==this.initialValue&&(e.classList.add("e-label-top"),e.classList.remove("e-label-bottom")))}}focusHandler(e){this.trigger("focus",{container:this.textboxWrapper.container,event:e,value:this.value})}focusOutHandler(e){(null!==this.previousValue||null!==this.value||""!==this.respectiveElement.value)&&this.previousValue!==this.respectiveElement.value&&this.raiseChangeEvent(e,!0),this.trigger("blur",{container:this.textboxWrapper.container,event:e,value:this.value})}inputHandler(e){const i={event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};this.inputPreviousValue=this.respectiveElement.value,this.isAngular&&(this.localChange({value:this.respectiveElement.value}),this.preventChange=!0),this.isVue&&(this.preventChange=!0),this.trigger("input",i),e.stopPropagation()}changeHandler(e){this.setProperties({value:this.respectiveElement.value},!0),this.raiseChangeEvent(e,!0),e.stopPropagation()}raiseChangeEvent(e,t){const i={event:e,value:this.value,previousValue:this.previousValue,container:this.textboxWrapper.container,isInteraction:t||!1,isInteracted:t||!1};this.preventChange=!1,this.trigger("change",i),this.previousValue=this.value}bindClearEvent(){this.showClearButton&&"TEXTAREA"!==this.respectiveElement.tagName&&(this.enabled?S.add(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler,this):S.remove(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler))}resetInputHandler(e){e.preventDefault(),this.textboxWrapper.clearButton.classList.contains("e-clear-icon-hide")||(be.setValue("",this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.setProperties({value:this.respectiveElement.value},!0),this.trigger("input",{event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container}),this.inputPreviousValue=this.respectiveElement.value,this.raiseChangeEvent(e,!0))}unWireEvents(){S.remove(this.respectiveElement,"focus",this.focusHandler),S.remove(this.respectiveElement,"blur",this.focusOutHandler),S.remove(this.respectiveElement,"input",this.inputHandler),S.remove(this.respectiveElement,"change",this.changeHandler),this.isForm&&S.remove(this.formElement,"reset",this.resetForm),!f(this.textboxWrapper.container.querySelector(".e-float-text"))&&"Auto"===this.floatLabelType&&this.textboxWrapper.container.classList.contains("e-outline")&&this.textboxWrapper.container.classList.contains("e-autofill")&&S.remove(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler)}destroy(){this.unWireEvents(),"INPUT"===this.element.tagName&&this.multiline&&(ie(this.textboxWrapper.container.getElementsByTagName("textarea")[0]),this.respectiveElement=this.element,this.element.removeAttribute("type")),this.respectiveElement.value=this.respectiveElement.defaultValue,this.respectiveElement.classList.remove("e-input"),this.removeAttributes(["aria-placeholder","aria-disabled","aria-readonly","aria-labelledby"]),f(this.textboxWrapper)||(this.textboxWrapper.container.insertAdjacentElement("afterend",this.respectiveElement),ie(this.textboxWrapper.container)),this.textboxWrapper=null,super.destroy()}addIcon(e,t){be.addIcon(e,t,this.textboxWrapper.container,this.respectiveElement,this.createElement)}getPersistData(){return this.addOnPersist(["value"])}addAttributes(e){for(const t of Object.keys(e))"disabled"===t?(this.setProperties({enabled:!1},!0),be.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===t?(this.setProperties({readonly:!0},!0),be.setReadonly(this.readonly,this.respectiveElement)):"class"===t?this.respectiveElement.classList.add(e[t]):"placeholder"===t?(this.setProperties({placeholder:e[t]},!0),be.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.setAttribute(t,e[t])}removeAttributes(e){for(const t of e)"disabled"===t?(this.setProperties({enabled:!0},!0),be.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):"readonly"===t?(this.setProperties({readonly:!1},!0),be.setReadonly(this.readonly,this.respectiveElement)):"placeholder"===t?(this.setProperties({placeholder:null},!0),be.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.removeAttribute(t)}focusIn(){document.activeElement!==this.respectiveElement&&this.enabled&&(this.respectiveElement.focus(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&B([this.textboxWrapper.container],[Pz]))}focusOut(){document.activeElement===this.respectiveElement&&this.enabled&&(this.respectiveElement.blur(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&z([this.textboxWrapper.container],[Pz]))}};Yr([g("text")],Pr.prototype,"type",void 0),Yr([g(!1)],Pr.prototype,"readonly",void 0),Yr([g(null)],Pr.prototype,"value",void 0),Yr([g("Never")],Pr.prototype,"floatLabelType",void 0),Yr([g("")],Pr.prototype,"cssClass",void 0),Yr([g(null)],Pr.prototype,"placeholder",void 0),Yr([g("on")],Pr.prototype,"autocomplete",void 0),Yr([g({})],Pr.prototype,"htmlAttributes",void 0),Yr([g(!1)],Pr.prototype,"multiline",void 0),Yr([g(!0)],Pr.prototype,"enabled",void 0),Yr([g(!1)],Pr.prototype,"showClearButton",void 0),Yr([g(!1)],Pr.prototype,"enablePersistence",void 0),Yr([g(null)],Pr.prototype,"width",void 0),Yr([F()],Pr.prototype,"created",void 0),Yr([F()],Pr.prototype,"destroyed",void 0),Yr([F()],Pr.prototype,"change",void 0),Yr([F()],Pr.prototype,"blur",void 0),Yr([F()],Pr.prototype,"focus",void 0),Yr([F()],Pr.prototype,"input",void 0),Pr=Yr([ii],Pr);var Oz=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const cm="e-rtl",Ip="e-overlay",NC="e-nav-arrow",BC="e-nav-right-arrow",QE="e-nav-left-arrow",dm="e-scroll-nav",QI="e-scroll-right-nav",Fz="e-scroll-left-nav",Nz="e-scroll-device",JE="e-scroll-overlay",JI="e-scroll-right-overlay",eP="e-scroll-left-overlay";let tP=(()=>{let n=class extends $i{constructor(t,i){super(t,i)}preRender(){this.browser=T.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=T.isDevice,this.customStep=!0;const t=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===t.id&&(t.id=Us("hscroll"),this.uniqueId=!0),t.style.display="block",this.enableRtl&&t.classList.add(cm)}render(){this.touchModule=new wn(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),S.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(Nz),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()}setScrollState(){f(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0}initialize(){const t=this.createElement("div",{className:"e-hscroll-content"}),i=this.createElement("div",{className:"e-hscroll-bar"});i.setAttribute("tabindex","-1");const s=this.element,r=[].slice.call(s.children);for(const o of r)t.appendChild(o);i.appendChild(t),s.appendChild(i),i.style.overflowX="hidden",this.scrollEle=i,this.scrollItems=t}getPersistData(){return this.addOnPersist(["scrollStep"])}getModuleName(){return"hScroll"}destroy(){const t=this.element;t.style.display="",t.classList.remove("e-hscroll"),t.classList.remove(Nz);const i=Ae(".e-"+t.id+"_nav."+dm,t),s=Ae("."+JE,t);[].slice.call(s).forEach(r=>{ie(r)});for(const r of[].slice.call(this.scrollItems.children))t.appendChild(r);this.uniqueId&&this.element.removeAttribute("id"),ie(this.scrollEle),i.length>0&&(ie(i[0]),f(i[1])||ie(i[1])),S.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,super.destroy()}disable(t){const i=Ae(".e-scroll-nav:not(."+Ip+")",this.element);t?this.element.classList.add(Ip):this.element.classList.remove(Ip),[].slice.call(i).forEach(s=>{s.setAttribute("tabindex",t?"-1":"0")})}createOverlay(t){const i=t.id.concat("_nav"),s=this.createElement("div",{className:JE+" "+JI}),r="e-"+t.id.concat("_nav "+dm+" "+QI),o=this.createElement("div",{id:i.concat("_right"),className:r}),a=this.createElement("div",{className:BC+" "+NC+" e-icons"});o.appendChild(a);const l=this.createElement("div",{className:JE+" "+eP});this.ieCheck&&o.classList.add("e-ie-align"),t.appendChild(s),t.appendChild(o),t.insertBefore(l,t.firstChild),this.eventBinding([o])}createNavIcon(t){const i=t.id.concat("_nav"),s="e-"+t.id.concat("_nav "+dm+" "+QI),r=this.createElement("div",{id:i.concat("_right"),className:s});r.setAttribute("aria-disabled","false");const o=this.createElement("div",{className:BC+" "+NC+" e-icons"}),a="e-"+t.id.concat("_nav "+dm+" "+Fz),l=this.createElement("div",{id:i.concat("_left"),className:a+" "+Ip});l.setAttribute("aria-disabled","true");const h=this.createElement("div",{className:QE+" "+NC+" e-icons"});l.appendChild(h),r.appendChild(o),t.appendChild(r),t.insertBefore(l,t.firstChild),this.ieCheck&&(r.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([r,l])}onKeyPress(t){if("Enter"===t.key){const i=()=>{this.keyTimeout=!0,this.eleScrolling(10,t.target,!0)};this.keyTimer=window.setTimeout(()=>{i()},100)}}onKeyUp(t){"Enter"===t.key&&(this.keyTimeout?this.keyTimeout=!1:t.target.click(),clearTimeout(this.keyTimer))}eventBinding(t){[].slice.call(t).forEach(i=>{new wn(i,{tapHold:this.tabHoldHandler.bind(this),tapHoldThreshold:500}),i.addEventListener("keydown",this.onKeyPress.bind(this)),i.addEventListener("keyup",this.onKeyUp.bind(this)),i.addEventListener("mouseup",this.repeatScroll.bind(this)),i.addEventListener("touchend",this.repeatScroll.bind(this)),i.addEventListener("contextmenu",s=>{s.preventDefault()}),S.add(i,"click",this.clickEventHandler,this)})}repeatScroll(){clearInterval(this.timeout)}tabHoldHandler(t){let i=t.originalEvent.target;i=this.contains(i,dm)?i.firstElementChild:i;const r=()=>{this.eleScrolling(10,i,!0)};this.timeout=window.setInterval(()=>{r()},50)}contains(t,i){return t.classList.contains(i)}eleScrolling(t,i,s){const r=this.element;let o=i.classList;o.contains(dm)&&(o=i.querySelector("."+NC).classList),this.contains(r,cm)&&this.browserCheck&&(t=-t),!this.contains(r,cm)||this.browserCheck||this.ieCheck?o.contains(BC)?this.frameScrollRequest(t,"add",s):this.frameScrollRequest(t,"",s):o.contains(QE)?this.frameScrollRequest(t,"add",s):this.frameScrollRequest(t,"",s)}clickEventHandler(t){this.eleScrolling(this.scrollStep,t.target,!1)}swipeHandler(t){const i=this.scrollEle;let s;s=t.velocity<=1?t.distanceX/(10*t.velocity):t.distanceX/t.velocity;let r=.5;const o=()=>{const a=Math.sin(r);a<=0?window.cancelAnimationFrame(a):("Left"===t.swipeDirection?i.scrollLeft+=s*a:"Right"===t.swipeDirection&&(i.scrollLeft-=s*a),r-=.5,window.requestAnimationFrame(o))};o()}scrollUpdating(t,i){"add"===i?this.scrollEle.scrollLeft+=t:this.scrollEle.scrollLeft-=t}frameScrollRequest(t,i,s){if(s)return void this.scrollUpdating(t,i);this.customStep||[].slice.call(Ae("."+JE,this.element)).forEach(a=>{t-=a.offsetWidth});const o=()=>{let a,l;this.contains(this.element,cm)&&this.browserCheck?(a=-t,l=-10):(a=t,l=10),a<10?window.cancelAnimationFrame(l):(this.scrollUpdating(l,i),t-=l,window.requestAnimationFrame(o))};o()}touchHandler(t){const i=this.scrollEle;let s=t.distanceX;this.ieCheck&&this.contains(this.element,cm)&&(s=-s),"Left"===t.scrollDirection?i.scrollLeft=i.scrollLeft+s:"Right"===t.scrollDirection&&(i.scrollLeft=i.scrollLeft-s)}arrowDisabling(t,i){if(this.isDevice){const r=(f(t)?i:t).querySelector("."+NC);f(t)?Al(r,[BC],[QE]):Al(r,[QE],[BC])}else t.classList.add(Ip),t.setAttribute("aria-disabled","true"),t.removeAttribute("tabindex"),i.classList.remove(Ip),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0");this.repeatScroll()}scrollHandler(t){const i=t.target,s=i.offsetWidth,o=this.element.querySelector("."+Fz),a=this.element.querySelector("."+QI);let l=this.element.querySelector("."+eP),h=this.element.querySelector("."+JI),c=i.scrollLeft;if(c<=0&&(c=-c),this.isDevice&&(this.enableRtl&&!(this.browserCheck||this.ieCheck)&&(l=this.element.querySelector("."+JI),h=this.element.querySelector("."+eP)),l.style.width=c<40?c+"px":"40px",h.style.width=i.scrollWidth-Math.ceil(s+c)<40?i.scrollWidth-Math.ceil(s+c)+"px":"40px"),0===c)this.arrowDisabling(o,a);else if(Math.ceil(s+c+.1)>=i.scrollWidth)this.arrowDisabling(a,o);else{const d=this.element.querySelector("."+dm+"."+Ip);d&&(d.classList.remove(Ip),d.setAttribute("aria-disabled","false"),d.setAttribute("tabindex","0"))}}onPropertyChanged(t,i){for(const s of Object.keys(t))switch(s){case"scrollStep":this.setScrollState();break;case"enableRtl":t.enableRtl?this.element.classList.add(cm):this.element.classList.remove(cm)}}};return Oz([g(null)],n.prototype,"scrollStep",void 0),n=Oz([ii],n),n})();var Vz=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const iP="e-rtl",Pp="e-overlay",VC="e-nav-arrow",e1="e-nav-up-arrow",HC="e-nav-down-arrow",um="e-scroll-nav",Hz="e-scroll-up-nav",sP="e-scroll-down-nav",jz="e-scroll-device",t1="e-scroll-overlay",zz="e-scroll-up-overlay",Wz="e-scroll-down-overlay";let Op=class extends $i{constructor(e,t){super(e,t)}preRender(){this.browser=T.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=T.isDevice,this.customStep=!0;const e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=Us("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(iP)}render(){this.touchModule=new wn(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),S.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(jz),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),S.add(this.element,"wheel",this.wheelEventHandler,this)}setScrollState(){f(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0}initialize(){const e=Ve("div",{className:"e-vscroll-content"}),t=Ve("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");const i=this.element,s=[].slice.call(i.children);for(const r of s)e.appendChild(r);t.appendChild(e),i.appendChild(t),t.style.overflowY="hidden",this.scrollEle=t,this.scrollItems=e}getPersistData(){return this.addOnPersist(["scrollStep"])}getModuleName(){return"vScroll"}destroy(){const e=this.element;e.style.display="",z([this.element],["e-vscroll",jz]);const t=Ae(".e-"+e.id+"_nav."+um,e),i=Ae("."+t1,e);[].slice.call(i).forEach(s=>{ie(s)});for(const s of[].slice.call(this.scrollItems.children))e.appendChild(s);this.uniqueId&&this.element.removeAttribute("id"),ie(this.scrollEle),t.length>0&&(ie(t[0]),f(t[1])||ie(t[1])),S.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,super.destroy()}disable(e){const t=Ae(".e-scroll-nav:not(."+Pp+")",this.element);e?this.element.classList.add(Pp):this.element.classList.remove(Pp),[].slice.call(t).forEach(i=>{i.setAttribute("tabindex",e?"-1":"0")})}createOverlayElement(e){const t=e.id.concat("_nav"),i=Ve("div",{className:t1+" "+Wz}),s="e-"+e.id.concat("_nav "+um+" "+sP),r=Ve("div",{id:t.concat("down"),className:s}),o=Ve("div",{className:HC+" "+VC+" e-icons"});r.appendChild(o);const a=Ve("div",{className:t1+" "+zz});this.ieCheck&&r.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(r),e.insertBefore(a,e.firstChild),this.eventBinding([r])}createNavIcon(e){const t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav "+um+" "+sP),s=Ve("div",{id:t.concat("_down"),className:i});s.setAttribute("aria-disabled","false");const r=Ve("div",{className:HC+" "+VC+" e-icons"}),o="e-"+e.id.concat("_nav "+um+" "+Hz),a=Ve("div",{id:t.concat("_up"),className:o+" "+Pp});a.setAttribute("aria-disabled","true");const l=Ve("div",{className:e1+" "+VC+" e-icons"});a.appendChild(l),s.appendChild(r),s.setAttribute("tabindex","0"),e.appendChild(s),e.insertBefore(a,e.firstChild),this.ieCheck&&(s.classList.add("e-ie-align"),a.classList.add("e-ie-align")),this.eventBinding([s,a])}onKeyPress(e){if("Enter"===e.key){const t=()=>{this.keyTimeout=!0,this.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(()=>{t()},100)}}onKeyUp(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))}eventBinding(e){[].slice.call(e).forEach(t=>{new wn(t,{tapHold:this.tabHoldHandler.bind(this),tapHoldThreshold:500}),t.addEventListener("keydown",this.onKeyPress.bind(this)),t.addEventListener("keyup",this.onKeyUp.bind(this)),t.addEventListener("mouseup",this.repeatScroll.bind(this)),t.addEventListener("touchend",this.repeatScroll.bind(this)),t.addEventListener("contextmenu",i=>{i.preventDefault()}),S.add(t,"click",this.clickEventHandler,this)})}repeatScroll(){clearInterval(this.timeout)}tabHoldHandler(e){let t=e.originalEvent.target;t=this.contains(t,um)?t.firstElementChild:t;const s=()=>{this.eleScrolling(10,t,!0)};this.timeout=window.setInterval(()=>{s()},50)}contains(e,t){return e.classList.contains(t)}eleScrolling(e,t,i){let s=t.classList;s.contains(um)&&(s=t.querySelector("."+VC).classList),s.contains(HC)?this.frameScrollRequest(e,"add",i):s.contains(e1)&&this.frameScrollRequest(e,"",i)}clickEventHandler(e){this.eleScrolling(this.scrollStep,e.target,!1)}wheelEventHandler(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)}swipeHandler(e){const t=this.scrollEle;let i;i=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;let s=.5;const r=()=>{const o=Math.sin(s);o<=0?window.cancelAnimationFrame(o):("Up"===e.swipeDirection?t.scrollTop+=i*o:"Down"===e.swipeDirection&&(t.scrollTop-=i*o),s-=.02,window.requestAnimationFrame(r))};r()}scrollUpdating(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e}frameScrollRequest(e,t,i){if(i)return void this.scrollUpdating(e,t);this.customStep||[].slice.call(Ae("."+t1,this.element)).forEach(o=>{e-=o.offsetHeight});const r=()=>{e<10?window.cancelAnimationFrame(10):(this.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(r))};r()}touchHandler(e){const t=this.scrollEle,i=e.distanceY;"Up"===e.scrollDirection?t.scrollTop=t.scrollTop+i:"Down"===e.scrollDirection&&(t.scrollTop=t.scrollTop-i)}arrowDisabling(e,t){if(this.isDevice){const s=(f(e)?t:e).querySelector("."+VC);f(e)?Al(s,[HC],[e1]):Al(s,[e1],[HC])}else e.classList.add(Pp),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(Pp),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()}scrollEventHandler(e){const t=e.target,i=t.offsetHeight,s=this.element.querySelector("."+Hz),r=this.element.querySelector("."+sP),o=this.element.querySelector("."+zz),a=this.element.querySelector("."+Wz);let l=t.scrollTop;if(l<=0&&(l=-l),this.isDevice&&(o.style.height=l<40?l+"px":"40px",a.style.height=t.scrollHeight-Math.ceil(i+l)<40?t.scrollHeight-Math.ceil(i+l)+"px":"40px"),0===l)this.arrowDisabling(s,r);else if(Math.ceil(i+l+.1)>=t.scrollHeight)this.arrowDisabling(r,s);else{const h=this.element.querySelector("."+um+"."+Pp);h&&(h.classList.remove(Pp),h.setAttribute("aria-disabled","false"),h.setAttribute("tabindex","0"))}}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(iP):this.element.classList.remove(iP)}}};function pm(n,e,t,i,s,r){let o,a;const l=e.parentElement;if("vscroll"===i?(o=r||e.getBoundingClientRect().height,a=t.getBoundingClientRect().height):(o=e.getBoundingClientRect().width,a=t.getBoundingClientRect().width),o<a)return Gz(n,e,t,i,s,r);if(l){const h=l.getBoundingClientRect().width;return h<o&&"hscroll"===i?(a=h,e.style.maxWidth=h+"px",Gz(n,e,t,i,s,r)):t}return t}function Gz(n,e,t,i,s,r){const o=n("div",{className:"e-menu-"+i});let a;return e.appendChild(o),o.appendChild(t),r?(o.style.overflow="hidden",o.style.height=r+"px"):(o.style.maxHeight=e.style.maxHeight,e.style.overflow="hidden"),"vscroll"===i?(a=new Op({enableRtl:s},o),a.scrollStep=W(".e-"+i+"-bar",e).offsetHeight/2):(a=new tP({enableRtl:s},o),a.scrollStep=W(".e-"+i+"-bar",e).offsetWidth),o}function i1(n,e,t){if(n){const i=W(".e-menu-parent",e);i?(!t||t===i)&&(n.destroy(),e.parentElement.appendChild(i),ie(e)):(n.destroy(),ie(e))}}Vz([g(null)],Op.prototype,"scrollStep",void 0),Op=Vz([ii],Op);var Ms=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const s1="enter",nP="escape",hr="e-focused",n1="e-menu-header",Un="e-selected",r1="e-separator",jC="uparrow",mu="downarrow",fm="leftarrow",gu="rightarrow",zC="home",o1="end",Yz="e-caret",ib="e-menu-item",rP="e-disabled",sb="e-menu-hide",qz="e-icons",WC="e-menu-popup";class yu extends he{}Ms([g("id")],yu.prototype,"itemId",void 0),Ms([g("parentId")],yu.prototype,"parentId",void 0),Ms([g("text")],yu.prototype,"text",void 0),Ms([g("iconCss")],yu.prototype,"iconCss",void 0),Ms([g("url")],yu.prototype,"url",void 0),Ms([g("separator")],yu.prototype,"separator",void 0),Ms([g("items")],yu.prototype,"children",void 0);class hc extends he{}Ms([g(null)],hc.prototype,"iconCss",void 0),Ms([g("")],hc.prototype,"id",void 0),Ms([g(!1)],hc.prototype,"separator",void 0),Ms([Di([],hc)],hc.prototype,"items",void 0),Ms([g("")],hc.prototype,"text",void 0),Ms([g("")],hc.prototype,"url",void 0);class a1 extends he{}Ms([g("SlideDown")],a1.prototype,"effect",void 0),Ms([g(400)],a1.prototype,"duration",void 0),Ms([g("ease")],a1.prototype,"easing",void 0);let br=class extends $i{constructor(e,t){super(e,t),this.navIdx=[],this.animation=new qt({}),this.isTapHold=!1,this.tempItem=[],this.showSubMenuOn="Auto"}preRender(){if(!this.isMenu){let e;if("EJS-CONTEXTMENU"===this.element.tagName){e=this.createElement("ul",{id:Us(this.getModuleName()),className:"e-control e-lib e-"+this.getModuleName()});const t=Q("ej2_instances",this.element);z([this.element],["e-control","e-lib","e-"+this.getModuleName()]),this.clonedElement=this.element,this.element=e,Oi("ej2_instances",t,this.element)}else{e=this.createElement("ul",{id:Us(this.getModuleName())}),ys([].slice.call(this.element.cloneNode(!0).children),e);const t=this.element.nextElementSibling;t?this.element.parentElement.insertBefore(e,t):this.element.parentElement.appendChild(e),this.clonedElement=e}this.clonedElement.style.display="none"}if("EJS-MENU"===this.element.tagName){let e=this.element;const t=Q("ej2_instances",e),i=this.createElement("ul"),s=this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"});for(let r=0,o=e.attributes.length;r<o;r++)i.setAttribute(e.attributes[r].nodeName,e.attributes[r].nodeValue);e.parentNode.insertBefore(s,e),ie(e),e=i,s.appendChild(e),Oi("ej2_instances",t,e),this.clonedElement=s,this.element=e,this.element.id||(this.element.id=Us(this.getModuleName()))}}render(){this.initialize(),this.renderItems(),this.wireEvents(),this.renderComplete();const e=this.getWrapper();this.template&&this.enableScrolling&&(this.isReact||this.isAngular)&&requestAnimationFrame(()=>{pm(this.createElement,e,this.element,"hscroll",this.enableRtl)})}initialize(){let e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&B([e],this.cssClass.split(" ")),this.enableRtl&&e.classList.add("e-rtl"),e.appendChild(this.element),this.isMenu&&this.hamburgerMode&&(this.target||this.createHeaderContainer(e)),this.defaultOption=this.showItemOnClick}renderItems(){if(!this.items.length){const t=an.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:t},!0),this.element.innerHTML=""}const e=this.createItems(this.items);if(ys(Array.prototype.slice.call(e.children),this.element),this.element.classList.add("e-menu-parent"),this.isMenu&&(!this.hamburgerMode&&this.element.classList.contains("e-vertical")&&this.setBlankIconStyle(this.element),this.enableScrolling)){const t=this.getWrapper();this.element.classList.contains("e-vertical")?pm(this.createElement,t,this.element,"vscroll",this.enableRtl):pm(this.createElement,t,this.element,"hscroll",this.enableRtl)}}wireEvents(){const e=this.getWrapper();if(this.target){let t;const i=Ae(this.target);for(let s=0,r=i.length;s<r;s++)t=i[s],this.isMenu?S.add(t,"click",this.menuHeaderClickHandler,this):T.isIos?new wn(t,{tapHold:this.touchHandler.bind(this)}):S.add(t,"contextmenu",this.cmenuHandler,this);if(this.targetElement=t,!this.isMenu){S.add(this.targetElement,"scroll",this.scrollHandler,this);for(const s of YR(this.targetElement))S.add(s,"scroll",this.scrollHandler,this)}}T.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),S.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),S.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),S.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=rn(e,{selector:"."+ib})}wireKeyboardEvent(e){const t={downarrow:mu,uparrow:jC,enter:s1,leftarrow:fm,rightarrow:gu,escape:nP};this.isMenu&&(t.home=zC,t.end=o1),new Ds(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:t})}mouseDownHandler(e){K(e.target,".e-"+this.getModuleName()+"-wrapper")!==this.getWrapper()&&!K(e.target,".e-"+this.getModuleName()+"-popup")&&this.closeMenu(this.isMenu?null:this.navIdx.length,e)}keyBoardHandler(e){let t="";const i=e.target;let s=this.isMenu&&!this.hamburgerMode&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&i.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([hr,Un],[K(i,".e-"+this.getModuleName()+"-wrapper")]),s)switch(e.action){case gu:t=gu,e.action=mu;break;case fm:t=fm,e.action=jC;break;case mu:t=mu,e.action=gu;break;case jC:t=jC,e.action=""}else if(this.enableRtl)switch(e.action){case fm:s=!0,t=fm,e.action=gu;break;case gu:s=!0,t=gu,e.action=fm}switch(e.action){case mu:case jC:case o1:case zC:this.upDownKeyHandler(e);break;case gu:this.rightEnterKeyHandler(e);break;case fm:this.leftEscKeyHandler(e);break;case s1:this.hamburgerMode&&"SPAN"===i.tagName&&i.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):this.rightEnterKeyHandler(e);break;case nP:this.leftEscKeyHandler(e)}s&&(e.action=t)}upDownKeyHandler(e){const t=this.getUlByNavIdx(),i=e.action===mu||e.action===zC?0:t.childElementCount-1;let s=i;const r=this.getLIByClass(t,hr);r&&(e.action!==o1&&e.action!==zC&&(s=this.getIdx(t,r)),r.classList.remove(hr),e.action!==o1&&e.action!==zC&&(e.action===mu?s++:s--,s===(e.action===mu?t.childElementCount:-1)&&(s=i))),s=this.isValidLI(t.children[s],s,e.action),t.children[s].classList.add(hr),t.children[s].focus()}isValidLI(e,t,i){const s=this.getUlByNavIdx();return(e.classList.contains(r1)||e.classList.contains(rP)||e.classList.contains(sb))&&(i===mu||i===gu?t++:t--),((e=s.children[t]).classList.contains(r1)||e.classList.contains(rP)||e.classList.contains(sb))&&(t=this.isValidLI(e,t,i)),t}getUlByNavIdx(e=this.navIdx.length){if(this.isMenu){const t=[this.getWrapper()].concat([].slice.call(Ae("."+WC)))[e];return f(t)?null:W(".e-menu-parent",t)}return this.getWrapper().children[e]}rightEnterKeyHandler(e){let t;const i=this.getUlByNavIdx(),s=this.getLIByClass(i,hr);if(s){const r=this.getIdx(i,s),o=this.navIdx.concat(r),a=this.getItem(o);a.items.length?(this.navIdx.push(r),this.keyType="right",this.action=e.action,this.openMenu(s,a,-1,-1,e)):e.action===s1&&(this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([Un],[this.getWrapper()]):s.classList.remove(hr),s.classList.add(Un),t={element:s,item:a,event:e},this.trigger("select",t),this.closeMenu(null,e))}}leftEscKeyHandler(e){this.navIdx.length?(this.keyType="left",this.closeMenu(this.navIdx.length,e)):e.action===nP&&this.closeMenu(null,e)}scrollHandler(e){this.closeMenu(null,e)}touchHandler(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)}cmenuHandler(e){e.preventDefault(),this.isCMenu=!0,this.pageX=e.changedTouches?e.changedTouches[0].pageX+1:e.pageX+1,this.pageY=e.changedTouches?e.changedTouches[0].pageY+1:e.pageY+1,this.closeMenu(null,e),this.isCMenu&&(this.canOpen(e.target)&&this.openMenu(null,null,this.pageY,this.pageX,e),this.isCMenu=!1)}closeMenu(e=0,t=null,i){if(this.isMenuVisible()){let s,r;const o=this.getWrapper();let a,l;const h=this.getPopups();let c=!1;const d=this.isMenu?h.length+1:o.childElementCount,u=this.isMenu&&1!==d?W(".e-ul",h[d-2]):Ae(".e-menu-parent",o)[d-1];if(this.isMenu&&u.classList.contains("e-menu")&&(s=this.getLIByClass(u,Un),s&&s.classList.remove(Un),c=!0),!c){const p=t&&t.target&&this.getLI(t.target);r=this.navIdx.length?this.getItem(this.navIdx):null,l=r?r.items:this.items,a={element:u,parentItem:r,items:l,event:t,cancel:!1,isFocused:!0},this.trigger("beforeClose",a,m=>{let y,b,C,v="";const w=!m.cancel;let _,k,D;(w||this.isCMenu)&&(this.isMenu?(y=K(u,"."+WC),this.hamburgerMode&&(y.parentElement.style.minHeight="",K(u,".e-menu-item").setAttribute("aria-expanded","false")),this.unWireKeyboardEvent(y),i1(kl(y.children[0],Op),y.children[0]),C=kl(y,rc),C.hide(),v=y.id,C.destroy(),ie(y)):this.toggleAnimation(u,!1),b={element:u,parentItem:r,items:l},this.trigger("onClose",b),this.navIdx.pop()),this.updateReactTemplate();const I=this.getWrapper()&&this.getUlByNavIdx();this.isCMenu&&(this.canOpen(t.target)&&this.openMenu(null,null,this.pageY,this.pageX,t),this.isCMenu=!1),this.isMenu&&I&&v.length&&(_=new RegExp("(.*)-ej2menu-"+this.element.id+"-popup").exec(v)[1],k=I.querySelector('[id="'+_+'"]'),D=p&&I.querySelector('[id="'+p.id+'"]'));const O=p&&p.querySelectorAll(".e-menu-item");if(w&&this.hamburgerMode&&e&&!O.length)this.afterCloseMenu(t);else if(w&&!this.hamburgerMode&&this.navIdx.length&&k&&!D){let N=t&&t.target.classList.contains("e-vscroll")?K(t.target,".e-menu-wrapper"):null;N?(N=N.querySelector(".e-menu-item"),(this.showItemOnClick||N&&this.getIndex(N.id,!0).length<=this.navIdx.length)&&this.closeMenu(this.navIdx[this.navIdx.length-1],t,!0)):this.closeMenu(this.navIdx[this.navIdx.length-1],t)}else if(w&&!i&&!e&&(this.hamburgerMode&&this.navIdx.length||1===this.navIdx.length))this.closeMenu(null,t);else if(w&&f(e)&&this.navIdx.length)this.closeMenu(null,t);else if(!w||this.isMenu||e||0!==this.navIdx.length||this.isMenusClosed)if(w&&this.isMenu&&t&&t.target&&0!==this.navIdx.length&&K(t.target,".e-menu-parent.e-control"))this.closeMenu(0,t);else{if(!w||"right"!==this.keyType&&"click"!==this.keyType){const N=this.getUlByNavIdx(),X=this.getLIByClass(N,Un);if(X&&(X.setAttribute("aria-expanded","false"),X.classList.remove(Un),m.isFocused&&p&&(X.classList.add(hr),X.focus())),!w&&this.hamburgerMode&&p&&"false"===p.getAttribute("aria-expanded")&&"true"===p.getAttribute("aria-haspopup")){K(p,".e-menu-parent.e-control")?this.navIdx=[]:this.navIdx.pop(),this.navIdx.push(this.cliIdx);const H=this.getItem(this.navIdx);p.setAttribute("aria-expanded","true"),this.openMenu(p,H,-1,-1,t)}}else this.afterCloseMenu(t);this.navIdx.length<1&&("Hover"===this.showSubMenuOn||"Click"===this.showSubMenuOn)&&(this.showItemOnClick=this.defaultOption,this.showSubMenuOn="Auto")}else this.isMenusClosed=!0,this.closeMenu(0,t);this.removeStateWrapper()})}}}updateReactTemplate(){if(this.isReact&&this.template&&0===this.navIdx.length){const e=this.portals.splice(0,this.items.length);this.clearTemplate(["template"]),this.portals=e,this.renderReactTemplates()}}getMenuItemModel(e,t){if(f(e))return null;f(t)&&(t=0);const i=this.getFields(t);return{text:e[i.text],id:e[i.id],items:e[i.child],separator:e[i.separator],iconCss:e[i.iconCss],url:e[i.url]}}getPopups(){const e=[];return[].slice.call(document.querySelectorAll("."+WC)).forEach(t=>{!f(t.querySelector("."+ib))&&this.getIndex(t.querySelector("."+ib).id,!0).length&&e.push(t)}),e}isMenuVisible(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&An(this.element).valueOf()}canOpen(e){let t=!0;if(this.filter){t=!1;const i=this.filter.split(" ");for(let s=0,r=i.length;s<r;s++)if(K(e,"."+i[s])){t=!0;break}}return t}openMenu(e,t,i=0,s=0,r=null,o=this.targetElement){const a=this.getWrapper();this.lItem=e;const l=""!==this.element.id?this.element.id:"menu";if(this.isMenusClosed=!1,f(i)&&(i=-1),f(s)&&(s=-1),e){if(this.uList=this.createItems(t[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&T.isDevice){a.lastChild.style.display="none";const h={text:t[this.getField("text")].toString(),iconCss:qz+" e-previous"},c=new hc(this.items[0],"items",h,!0),d=this.createItems([c]).children[0];d.classList.add(n1),this.uList.insertBefore(d,this.uList.children[0])}this.isMenu?(this.popupWrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+WC,id:e.id+"-ej2menu-"+l+"-popup"}),this.hamburgerMode?(i=e.offsetHeight,e.appendChild(this.popupWrapper)):document.body.appendChild(this.popupWrapper),this.isNestedOrVertical=this.element.classList.contains("e-vertical")||1!==this.navIdx.length,this.popupObj=this.generatePopup(this.popupWrapper,this.uList,e,this.isNestedOrVertical),this.template&&this.renderReactTemplates(),this.hamburgerMode?this.calculateIndentSize(this.uList,e):(this.cssClass&&B([this.popupWrapper],this.cssClass.split(" ")),this.popupObj.hide()),this.hamburgerMode||this.showItemOnClick||!this.hoverDelay?this.triggerBeforeOpen(e,this.uList,t,r,0,0,"menu"):(window.clearInterval(this.timer),this.timer=window.setTimeout(()=>{this.triggerBeforeOpen(e,this.uList,t,r,0,0,"menu")},this.hoverDelay))):(this.uList.style.zIndex=this.element.style.zIndex,a.appendChild(this.uList),!this.showItemOnClick&&this.hoverDelay?(window.clearInterval(this.timer),this.timer=window.setTimeout(()=>{this.triggerBeforeOpen(e,this.uList,t,r,i,s,"none")},this.hoverDelay)):this.triggerBeforeOpen(e,this.uList,t,r,i,s,"none"))}else this.uList=this.element,this.uList.style.zIndex=im(o||this.element).toString(),this.triggerBeforeOpen(e,this.uList,t,r,i,s,"none")}calculateIndentSize(e,t){const i=getComputedStyle(t);let s=parseInt(i.textIndent,10);this.navIdx.length<2&&!t.classList.contains("e-blankicon")?s*=2:s+=s/4,e.style.textIndent=s+"px";const r=e.querySelectorAll(".e-blankicon");if(r&&r.length){const o=e.querySelector(".e-menu-icon"),a=getComputedStyle(o),l=parseInt(a.marginRight,10)+o.offsetWidth+s;for(let h=0;h<r.length;h++)r[h].style.textIndent=l+"px"}}generatePopup(e,t,i,s){const r=new rc(e,{actionOnScroll:this.hamburgerMode?"none":"reposition",relateTo:i,collision:this.hamburgerMode?{X:"none",Y:"none"}:{X:s||this.enableRtl?"none":"flip",Y:"fit"},position:s&&!this.hamburgerMode?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:t,open:()=>{const o=W(".e-menu-vscroll",r.element);o&&(o.style.height="inherit",o.style.maxHeight="");const a=W(".e-ul",r.element);r.element.style.maxHeight="",a.focus(),this.triggerOpen(a)}});return r}createHeaderContainer(e){e=e||this.getWrapper();const t=this.createElement("span",{className:"e-"+this.getModuleName()+"-header"}),i=this.enableHtmlSanitizer?Zn.sanitize(this.title):this.title,s=this.createElement("span",{className:"e-"+this.getModuleName()+"-title",innerHTML:i}),r=this.createElement("span",{className:"e-icons e-"+this.getModuleName()+"-icon",attrs:{tabindex:"0"}});t.appendChild(s),t.appendChild(r),e.insertBefore(t,this.element)}openHamburgerMenu(e){this.hamburgerMode&&this.triggerBeforeOpen(null,this.element,null,e,0,0,"hamburger")}closeHamburgerMenu(e){this.trigger("beforeClose",{element:this.element,parentItem:null,event:e,items:this.items,cancel:!1},i=>{i.cancel||(this.closeMenu(null,e),this.element.classList.add("e-hide-menu"),this.trigger("onClose",{element:this.element,parentItem:null,items:this.items}))})}callFit(e,t,i,s,r){return HR(e,null,{X:t,Y:i},{top:s,left:r})}triggerBeforeOpen(e,t,i,s,r,o,a){const l=e?i[this.getField("children",this.navIdx.length-1)]:this.items,c=a;this.trigger("beforeOpen",{element:t,items:l,parentItem:i,event:s,cancel:!1,top:r,left:o,showSubMenuOn:"Auto"},d=>{switch(c){case"menu":this.hamburgerMode||("Auto"!==d.showSubMenuOn&&(this.showItemOnClick=!this.defaultOption,this.showSubMenuOn=d.showSubMenuOn),this.top=d.top,this.left=d.left),this.popupWrapper.style.display="block",this.hamburgerMode||(this.popupWrapper.style.maxHeight=this.popupWrapper.getBoundingClientRect().height+"px",this.enableScrolling&&pm(this.createElement,this.popupWrapper,this.uList,"vscroll",this.enableRtl),this.checkScrollOffset(s)),this.hamburgerMode||this.left||this.top?(this.popupObj.collision={X:"none",Y:"none"},this.popupWrapper.style.display=""):(this.popupObj.refreshPosition(this.lItem,!0),this.left=parseInt(this.popupWrapper.style.left,10),this.top=parseInt(this.popupWrapper.style.top,10),this.enableRtl&&(this.left=this.isNestedOrVertical?this.left-this.popupWrapper.offsetWidth-this.lItem.parentElement.offsetWidth+2:this.left-this.popupWrapper.offsetWidth+this.lItem.offsetWidth),this.template&&(this.isReact||this.isAngular)?requestAnimationFrame(()=>{this.collision(),this.popupWrapper.style.display=""}):(this.collision(),this.popupWrapper.style.display=""));break;case"none":this.top=d.top,this.left=d.left;break;case"hamburger":d.cancel||(this.element.classList.remove("e-hide-menu"),this.triggerOpen(this.element))}if("hamburger"!==c&&(d.cancel?(this.isMenu?(this.popupObj.destroy(),ie(this.popupWrapper)):t.className.indexOf("e-ul")>-1&&ie(t),this.navIdx.pop()):this.isMenu?this.hamburgerMode?(this.popupWrapper.style.top=this.top+"px",this.popupWrapper.style.left="0px",this.toggleAnimation(this.popupWrapper)):(this.setBlankIconStyle(this.popupWrapper),this.wireKeyboardEvent(this.popupWrapper),rn(this.popupWrapper,{selector:"."+ib}),this.popupWrapper.style.left=this.left+pageXOffset+"px",this.popupWrapper.style.top=this.top+pageYOffset+"px",this.popupObj.show("None"!==this.animationSettings.effect?{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing}:null,this.lItem)):(this.setBlankIconStyle(this.uList),this.setPosition(this.lItem,this.uList,this.top,this.left),this.toggleAnimation(this.uList))),"right"===this.keyType){let u=this.getUlByNavIdx();e.classList.remove(hr),this.isMenu&&1===this.navIdx.length&&this.removeLIStateByClass([Un],[this.getWrapper()]),e.classList.add(Un),this.action===s1&&this.trigger("select",{element:e,item:i,event:s}),e.focus(),u=this.getUlByNavIdx();const p=this.isValidLI(u.children[0],0,this.action);u.children[p].classList.add(hr),u.children[p].focus()}})}collision(){let e;if(e=tm(this.popupWrapper,null,this.left,this.top),(this.isNestedOrVertical||this.enableRtl)&&(e.indexOf("right")>-1||e.indexOf("left")>-1)){this.popupObj.collision.X="none";const t=K(this.lItem,".e-"+this.getModuleName()+"-wrapper").offsetWidth;this.left=this.enableRtl?Eo(this.lItem,this.isNestedOrVertical?"right":"left","top").left:this.left-this.popupWrapper.offsetWidth-t+2}e=tm(this.popupWrapper,null,this.left,this.top),(e.indexOf("left")>-1||e.indexOf("right")>-1)&&(this.left=this.callFit(this.popupWrapper,!0,!1,this.top,this.left).left),this.popupWrapper.style.left=this.left+"px"}setBlankIconStyle(e){const t=[].slice.call(e.getElementsByClassName("e-blankicon"));if(!t.length)return;const i=e.querySelector(".e-menu-item:not(.e-blankicon):not(.e-separator)"),s=i.querySelector(".e-menu-icon");if(!s)return;const r=this.enableRtl?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"},o=getComputedStyle(s);let a=parseInt(o.fontSize,10);parseInt(o.width,10)&&parseInt(o.width,10)>a&&(a=parseInt(o.width,10));const l=`${a+parseInt(o[r.margin],10)+parseInt(getComputedStyle(i)[r.padding],10)}px`;t.forEach(h=>{h.style[r.padding]=l})}checkScrollOffset(e){const t=this.getWrapper();if(t.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){const i=f(e)?this.element:K(e.target,"."+ib),s=W(".e-hscroll-bar",t);s.scrollLeft>i.offsetLeft&&(s.scrollLeft-=s.scrollLeft-i.offsetLeft);const r=s.scrollLeft+s.offsetWidth,o=i.offsetLeft+i.offsetWidth;r<o&&(s.scrollLeft+=o-r)}}setPosition(e,t,i,s){const r="px";if(this.toggleVisiblity(t),t===this.element||s>-1&&i>-1){let o=tm(t,null,s,i);if(o.indexOf("right")>-1&&(s-=t.offsetWidth),o.indexOf("bottom")>-1&&(i=this.callFit(t,!1,!0,i,s).top-20)<0){const l=pageYOffset+document.documentElement.clientHeight-t.getBoundingClientRect().height;l>-1&&(i=l)}o=tm(t,null,s,i),o.indexOf("left")>-1&&(s=this.callFit(t,!0,!1,i,s).left)}else if(T.isDevice)i=Number(this.element.style.top.replace(r,"")),s=Number(this.element.style.left.replace(r,""));else{let a=Eo(e,this.enableRtl?"left":"right","top");s=a.left;const l=tm(t,null,this.enableRtl?s-t.offsetWidth:s,i=a.top),h=l.indexOf("left")>-1||l.indexOf("right")>-1;h&&(a=Eo(e,this.enableRtl?"right":"left","top"),s=a.left),(this.enableRtl||h)&&(s=this.enableRtl&&h?s:s-t.offsetWidth),l.indexOf("bottom")>-1&&(a=this.callFit(t,!1,!0,i,s),i=a.top)}this.toggleVisiblity(t,!1),t.style.top=i+r,t.style.left=s+r}toggleVisiblity(e,t=!0){e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"}createItems(e){const t=this.navIdx?this.navIdx.length:0,i=this.getFields(t),s=this.hasField(e,this.getField("iconCss",t)),r={showIcon:s,moduleName:"menu",fields:i,template:this.template,itemNavigable:!0,itemCreating:a=>{a.curData[a.fields[i.id]]||(a.curData[a.fields[i.id]]=Us("menuitem")),a.curData.htmlAttributes={role:"menuitem",tabindex:"-1"},this.isMenu&&!a.curData[this.getField("separator",t)]&&(a.curData.htmlAttributes["aria-label"]=a.curData[a.fields.text]),""===a.curData[a.fields[i.iconCss]]&&(a.curData[a.fields[i.iconCss]]=null)},itemCreated:a=>{if(a.curData[this.getField("separator",t)]&&(a.item.classList.add(r1),a.item.removeAttribute("role")),s&&!a.curData[a.fields.iconCss]&&!a.curData[this.getField("separator",t)]&&a.item.classList.add("e-blankicon"),a.curData[a.fields.child]&&a.curData[a.fields.child].length){const h=this.createElement("span",{className:qz+" "+Yz});a.item.appendChild(h),a.item.setAttribute("aria-haspopup","true"),a.item.setAttribute("aria-expanded","false"),this.isMenu||a.item.removeAttribute("role"),a.item.classList.add("e-menu-caret-icon")}this.isMenu&&this.template&&(a.item.setAttribute("id",a.curData[a.fields.id].toString()),a.item.removeAttribute("data-uid"),a.item.classList.contains("e-level-1")&&a.item.classList.remove("e-level-1"),a.item.classList.contains("e-has-child")&&a.item.classList.remove("e-has-child")),this.trigger("beforeItemRender",{item:a.curData,element:a.item})}};this.setProperties({items:this.items},!0),this.isMenu&&(r.templateID=this.element.id+"Template");const o=an.createList(this.createElement,e,r,!this.template,this);return o.setAttribute("tabindex","0"),this.isMenu&&o.setAttribute("role","menu"),o}moverHandler(e){const t=e.target;this.liTrgt=t;const i=this.getLI(t),s=i?K(i,".e-"+this.getModuleName()+"-wrapper"):this.getWrapper(),r=this.getWrapper(),o=new RegExp("-ej2menu-(.*)-popup");let a,l=!1;if(s){if(a=""!==s.id?o.exec(s.id)[1]:s.querySelector("ul").id,a!==this.element.id){if(this.removeLIStateByClass([hr,Un],[this.getWrapper()]),!this.navIdx.length)return;l=!0}i&&K(i,".e-"+this.getModuleName()+"-wrapper")&&!l?(this.removeLIStateByClass([hr],this.isMenu?[s].concat(this.getPopups()):[s]),this.removeLIStateByClass([hr],this.isMenu?[r].concat(this.getPopups()):[r]),i.classList.add(hr),this.showItemOnClick||this.clickHandler(e)):this.isMenu&&this.showItemOnClick&&!l&&this.removeLIStateByClass([hr],[s].concat(this.getPopups())),this.isMenu&&(this.showItemOnClick||t.parentElement===s||K(t,".e-"+this.getModuleName()+"-popup")||i&&(!i||this.getIndex(i.id,!0).length)||"Hover"===this.showSubMenuOn?l&&!this.showItemOnClick&&this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e)):(this.removeLIStateByClass([hr],[s]),this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e))),this.isClosed||this.removeStateWrapper(),this.isClosed=!1)}}removeStateWrapper(){if(this.liTrgt){const e=K(this.liTrgt,".e-menu-vscroll");"DIV"===this.liTrgt.tagName&&e&&this.removeLIStateByClass([hr,Un],[e])}}removeLIStateByClass(e,t){let i;for(let s=0;s<t.length;s++)e.forEach(r=>{i=W("."+r,t[s]),i&&i.classList.remove(r)})}getField(e,t=0){const i=this.fields[e];return"string"==typeof i?i:i[t]?i[t].toString():i[i.length-1].toString()}getFields(e=0){return{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}}hasField(e,t){for(let i=0,s=e.length;i<s;i++)if(e[i][t])return!0;return!1}menuHeaderClickHandler(e){K(e.target,".e-menu-wrapper").querySelector("ul.e-menu-parent").id===this.element.id&&(this.element.classList.contains("e-hide-menu")?this.openHamburgerMenu(e):this.closeHamburgerMenu(e))}clickHandler(e){if(this.isTapHold)this.isTapHold=!1;else{const t=this.getWrapper(),i=e.target,s=this.cli=this.getLI(i),r=new RegExp("-ej2menu-(.*)-popup"),o=s?K(s,".e-"+this.getModuleName()+"-wrapper"):null,a=s&&o&&(this.isMenu?this.getIndex(s.id,!0).length>0:t.firstElementChild.id===o.firstElementChild.id);if(T.isDevice&&this.isMenu&&(this.removeLIStateByClass([hr],[t].concat(this.getPopups())),this.mouseDownHandler(e)),s&&o&&this.isMenu){const l=o.id?r.exec(o.id)[1]:o.querySelector(".e-menu-parent").id;if(this.element.id!==l)return}if(a&&"click"===e.type&&!s.classList.contains(n1)){this.setLISelected(s);const l=this.getIndex(s.id,!0),h=this.getItem(l);this.trigger("select",{element:s,item:h,event:e})}if(a&&("mouseover"===e.type||T.isDevice||this.showItemOnClick)){let l;if(s.classList.contains(n1)){l=t.children[this.navIdx.length-1],this.toggleAnimation(l);const h=this.getLIByClass(l,Un);h&&h.classList.remove(Un),ie(s.parentNode),this.navIdx.pop()}else if(!s.classList.contains(r1)){this.showSubMenu=!0;const h=s.parentNode;if(this.cliIdx=this.getIdx(h,s),this.isMenu||!T.isDevice){const c=this.isMenu?Array.prototype.indexOf.call([t].concat(this.getPopups()),K(h,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(t,h);if(this.navIdx[c]===this.cliIdx&&(this.showSubMenu=!1),c!==this.navIdx.length&&("mouseover"!==e.type||this.showSubMenu)){const d=this.getLIByClass(h,Un);d&&d.classList.remove(Un),this.isClosed=!0,this.keyType="click",this.showItemOnClick&&this.setLISelected(s),this.closeMenu(c+1,e),this.showItemOnClick&&this.setLISelected(s)}}this.isClosed||this.afterCloseMenu(e),this.isClosed=!1}}else if(this.isMenu&&"DIV"===i.tagName&&this.navIdx.length&&K(i,".e-menu-vscroll")){const l=K(i,"."+WC),h=Array.prototype.indexOf.call(this.getPopups(),l)+1;h<this.navIdx.length&&(this.closeMenu(h+1,e),l&&this.removeLIStateByClass([hr,Un],[l]))}else this.isMenu&&this.hamburgerMode&&"SPAN"===i.tagName&&i.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):("UL"!==i.tagName||(this.isMenu?i.parentElement.classList.contains("e-menu-wrapper")&&!this.getIndex(i.querySelector("."+ib).id,!0).length:i.parentElement!==t))&&(s||this.removeLIStateByClass([Un],[t]),(!s||!s.querySelector("."+Yz))&&this.closeMenu(null,e))}}afterCloseMenu(e){let t;if(this.showSubMenu){t=K(this.showItemOnClick&&0===this.navIdx.length?e.target:this.element,".e-menu-parent.e-control");const i=this.navIdx.concat(this.cliIdx),s=this.getItem(i);if(s&&s[this.getField("children",i.length-1)]&&s[this.getField("children",i.length-1)].length?(("mouseover"===e.type||T.isDevice&&this.isMenu)&&this.setLISelected(this.cli),(!this.hamburgerMode&&t||this.hamburgerMode&&"false"===this.cli.getAttribute("aria-expanded"))&&(this.cli.setAttribute("aria-expanded","true"),this.navIdx.push(this.cliIdx),this.openMenu(this.cli,s,null,null,e))):"mouseover"!==e.type&&this.closeMenu(null,e),!t){const r=this.getUlByNavIdx(),o=this.getLIByClass(r,Un);o&&(o.setAttribute("aria-expanded","false"),o.classList.remove(Un))}}this.keyType=""}setLISelected(e){const t=this.getLIByClass(e.parentElement,Un);t&&t.classList.remove(Un),this.isMenu||e.classList.remove(hr),e.classList.add(Un)}getLIByClass(e,t){for(let i=0,s=e.children.length;i<s;i++)if(e.children[i].classList.contains(t))return e.children[i];return null}getItemIndex(e,t){let i;return i="string"==typeof e?e:e.id,this.getIndex(i,!1!==t)}setItem(e,t,i){const o=this.getIndex(t||e.id,!1!==i),a=this.getItem(o);a.iconCss=e.iconCss,a.id=e.id,a.text=e.text,a.url=e.url,a.separator=e.separator,a.items=e.items}getItem(e){const t=(e=e.slice()).pop();return this.getItems(e)[t]}getItems(e){let t=this.items;for(let i=0;i<e.length;i++)t=t[e[i]][this.getField("children",i)];return t}setItems(e,t){const i=this.getItems(t);i.splice(0,i.length);for(let s=0;s<e.length;s++)i.splice(s,0,e[s])}getIdx(e,t,i=!0){let s=Array.prototype.indexOf.call(e.children,t);return i&&e.children[0].classList.contains(n1)&&s--,s}getLI(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:K(e,"li.e-menu-item")}updateItemsByNavIdx(){let e=this.items,t=0;for(let i=0;i<this.navIdx.length&&(e=e[i].items,e);i++){t++;const s=this.getUlByNavIdx(t);if(!s)break;this.updateItem(s,e)}}removeChildElement(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);return e}onPropertyChanged(e,t){const i=this.getWrapper();for(const s of Object.keys(e))switch(s){case"cssClass":t.cssClass&&z([i],t.cssClass.split(" ")),e.cssClass&&B([i],e.cssClass.split(" "));break;case"enableRtl":i.classList.toggle("e-rtl");break;case"showItemOnClick":this.unWireEvents(),this.showItemOnClick=e.showItemOnClick,this.wireEvents();break;case"enableScrolling":if(e.enableScrolling){let r;this.element.classList.contains("e-vertical")?pm(this.createElement,i,this.element,"vscroll",this.enableRtl):pm(this.createElement,i,this.element,"hscroll",this.enableRtl),this.getPopups().forEach(o=>{r=W(".e-ul",o),pm(this.createElement,o,r,"vscroll",this.enableRtl)})}else{let r=i.children[0];this.element.classList.contains("e-vertical")?i1(kl(r,Op),r):i1(kl(r,tP),r),i.style.overflow="",i.appendChild(this.element),this.getPopups().forEach(o=>{r=o.children[0],i1(kl(r,Op),r),o.style.overflow=""})}break;case"items":{let r,o,a;if(Object.keys(t.items).length){const l=Object.keys(e.items);for(let h=0;h<l.length;h++)o=this.getChangedItemIndex(e,[],Number(l[h])),o.length<=this.getWrapper().children.length&&(r=o.pop(),a=this.getItems(o),this.insertAfter([a[r]],a[r].text),this.removeItem(a,o,r),this.setItems(a,o)),o.length=0}else{if(this.updateItem(this.element,this.items),!this.hamburgerMode)for(let l=1,h=i.childElementCount;l<h;l++)ie(i.lastElementChild);this.navIdx=[]}break}}}updateItem(e,t){e.innerHTML="",[].slice.call(this.createItems(t).children).forEach(s=>{e.appendChild(s)})}getChangedItemIndex(e,t,i){t.push(i);const s=Object.keys(e.items[i]).pop();if("items"===s){const r=e.items[i],o=Object.keys(r.items).pop();o&&this.getChangedItemIndex(r,t,Number(o))}else"isParentArray"===s&&t.length>1&&t.pop();return t}removeItem(e,t,i){e.splice(i,1);const s=this.getWrapper().children;t.length<s.length&&ie(s[t.length].children[i])}unWireEvents(e=this.target){const t=this.getWrapper();if(e){let i,s;const r=Ae(e);for(let o=0,a=r.length;o<a;o++)i=r[o],this.isMenu?S.remove(i,"click",this.menuHeaderClickHandler):T.isIos?(s=kl(i,wn),s&&s.destroy()):S.remove(i,"contextmenu",this.cmenuHandler);if(!this.isMenu){S.remove(this.targetElement,"scroll",this.scrollHandler);for(const o of YR(this.targetElement))S.remove(o,"scroll",this.scrollHandler)}}T.isDevice||(S.remove(this.isMenu?document:t,"mouseover",this.delegateMoverHandler),S.remove(document,"mousedown",this.delegateMouseDownHandler)),S.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(t),this.rippleFn()}unWireKeyboardEvent(e){const t=kl(e,Ds);t&&t.destroy()}toggleAnimation(e,t=!0){let i,s;"None"!==this.animationSettings.effect&&t?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:r=>{this.hamburgerMode?(s=r.element.parentElement,r.element.style.position="absolute",i=s.offsetHeight,r.element.style.maxHeight=r.element.offsetHeight+"px",s.style.maxHeight=""):(r.element.style.display="block",r.element.style.maxHeight=r.element.getBoundingClientRect().height+"px")},progress:r=>{this.hamburgerMode&&(s.style.minHeight=i+r.element.offsetHeight+"px")},end:r=>{this.hamburgerMode?(r.element.style.position="",r.element.style.maxHeight="",s.style.minHeight="",r.element.style.top="0px",r.element.children[0].focus(),this.triggerOpen(r.element.children[0])):this.end(r.element,t)}}):this.end(e,t)}triggerOpen(e){const t=this.navIdx.length?this.getItem(this.navIdx):null;this.trigger("onOpen",{element:e,parentItem:t,items:t?t.items:this.items})}end(e,t){if(t)if(e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+hr))e.querySelector("."+hr).focus();else{const i=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1];i?i.querySelector("."+Un).focus():this.element.focus()}else if(e===this.element){const i=this.getLIByClass(this.element,hr);i&&i.classList.remove(hr);const s=this.getLIByClass(this.element,Un);s&&s.classList.remove(Un),e.style.display="none"}else ie(e)}getPersistData(){return""}getWrapper(){return K(this.element,".e-"+this.getModuleName()+"-wrapper")}getIndex(e,t,i=this.items,s=[],r=!1,o=0){let a;o=r?o+1:0;for(let l=0,h=i.length;l<h;l++){if(a=i[l],(t?a[this.getField("itemId",o)]:a[this.getField("text",o)])===e){s.push(l);break}if(a[this.getField("children",o)]&&a[this.getField("children",o)].length){if(-1!==(s=this.getIndex(e,t,a[this.getField("children",o)],s,!0,o))[s.length-1]){s.unshift(l);break}l!==h-1&&s.pop()}else l===h-1&&s.push(-1)}return r||-1!==s[0]?s:[]}enableItems(e,t=!0,i){let s,r,o;const a=rP;let l;for(let h=0;h<e.length;h++){if(o=this.getIndex(e[h],i),this.navIdx.length){if(1!==o.length){l=!1;for(let c=0,d=o.length-1;c<d;c++)if(o[c]!==this.navIdx[c]){l=!0;break}if(l)continue}}else if(1!==o.length)continue;r=o.pop(),s=this.getUlByNavIdx(o.length),s&&(t?this.isMenu?(s.children[r].classList.remove(a),s.children[r].removeAttribute("aria-disabled")):T.isDevice&&!s.classList.contains("e-contextmenu")?s.children[r+1].classList.remove(a):s.children[r].classList.remove(a):this.isMenu?(s.children[r].classList.add(a),s.children[r].setAttribute("aria-disabled","true")):T.isDevice&&!s.classList.contains("e-contextmenu")?s.children[r+1].classList.add(a):s.children[r].classList.add(a))}}showItems(e,t){this.showHideItems(e,!1,t)}hideItems(e,t){this.showHideItems(e,!0,t)}showHideItems(e,t,i){let s,r,o;for(let a=0;a<e.length;a++)o=this.getIndex(e[a],i),r=o.pop(),s=this.getUlByNavIdx(o.length),s&&(t?T.isDevice&&!s.classList.contains("e-contextmenu")?s.children[r+1].classList.add(sb):s.children[r].classList.add(sb):T.isDevice&&!s.classList.contains("e-contextmenu")?s.children[r+1].classList.remove(sb):s.children[r].classList.remove(sb))}removeItems(e,t){let i,s,r;for(let o=0;o<e.length;o++)s=this.getIndex(e[o],t),i=s.pop(),r=this.getItems(s),this.removeItem(r,s,i)}insertAfter(e,t,i){this.insertItems(e,t,i)}insertBefore(e,t,i){this.insertItems(e,t,i,!1)}insertItems(e,t,i,s=!0){let r,o,a,l,h;for(let c=0;c<e.length;c++){a=this.getIndex(t,i),o=a.pop(),l=this.getItems(a),h=new hc(l[0],"items",e[c],!0),l.splice(s?o+1:o,0,h);const d=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(a.length<d.length){o=s?o+1:o,r=this.createItems(l).children[o];const u=this.isMenu?W(".e-menu-parent",d[a.length]):d[a.length];u.insertBefore(r,u.children[o])}}}removeAttributes(){["top","left","display","z-index"].forEach(e=>{this.element.style.removeProperty(e)}),["role","tabindex","class","style"].forEach(e=>{"class"===e&&this.element.classList.contains("e-menu-parent")&&this.element.classList.remove("e-menu-parent"),(-1===["class","style"].indexOf(e)||!this.element.getAttribute(e))&&this.element.removeAttribute(e),this.isMenu&&"class"===e&&this.element.classList.contains("e-vertical")&&this.element.classList.remove("e-vertical")})}destroy(){const e=this.getWrapper();if(e){if(this.unWireEvents(),this.isMenu)this.closeMenu(),this.element.innerHTML="",this.removeAttributes(),e.parentNode.insertBefore(this.element,e),this.clonedElement=null;else{if(this.clonedElement.style.display="","EJS-CONTEXTMENU"===this.clonedElement.tagName)B([this.clonedElement],["e-control","e-lib","e-"+this.getModuleName()]),this.element=this.clonedElement;else if(this.refreshing&&this.clonedElement.childElementCount&&"LI"===this.clonedElement.children[0].tagName&&this.setProperties({items:[]},!0),document.getElementById(this.clonedElement.id)){const t=this.clonedElement.nextElementSibling;t&&t!==e?this.clonedElement.parentElement.insertBefore(this.element,t):this.clonedElement.parentElement.appendChild(this.element),this.element.innerHTML="",ys([].slice.call(this.clonedElement.children),this.element),ie(this.clonedElement),this.removeAttributes()}this.clonedElement=null}this.isMenu&&this.clonedElement?(ie(this.element),e.style.display="",e.classList.remove("e-"+this.getModuleName()+"-wrapper"),e.removeAttribute("data-ripple")):ie(e),super.destroy(),this.template&&this.clearTemplate(["template"])}}};Ms([F()],br.prototype,"beforeItemRender",void 0),Ms([F()],br.prototype,"beforeOpen",void 0),Ms([F()],br.prototype,"onOpen",void 0),Ms([F()],br.prototype,"beforeClose",void 0),Ms([F()],br.prototype,"onClose",void 0),Ms([F()],br.prototype,"select",void 0),Ms([F()],br.prototype,"created",void 0),Ms([g("")],br.prototype,"cssClass",void 0),Ms([g(0)],br.prototype,"hoverDelay",void 0),Ms([g(!1)],br.prototype,"showItemOnClick",void 0),Ms([g("")],br.prototype,"target",void 0),Ms([g("")],br.prototype,"filter",void 0),Ms([g(null)],br.prototype,"template",void 0),Ms([g(!1)],br.prototype,"enableScrolling",void 0),Ms([g(!1)],br.prototype,"enableHtmlSanitizer",void 0),Ms([U({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},yu)],br.prototype,"fields",void 0),Ms([Di([],hc)],br.prototype,"items",void 0),Ms([U({duration:400,easing:"ease",effect:"SlideDown"},a1)],br.prototype,"animationSettings",void 0),br=Ms([ii],br);var Ys=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const oP="e-vertical",Pn="e-toolbar-items",vr="e-toolbar-item",ud="e-rtl",Cr="e-separator",l1="e-popup-up-icon",UC="e-popup-down-icon",Xz="e-popup-open",Zz="e-template",cc="e-overlay",Kz="e-toolbar-text",aP="e-popup-text",dc="e-overflow-show",h1="e-overflow-hide",za="e-hor-nav",Qz="e-scroll-nav",Jz="e-toolbar-center",uc="e-tbar-pos",eW="e-hscroll-bar",GC="e-toolbar-pop",bu="e-toolbar-popup",YC="e-nav-active",qC="e-ignore",lP="e-popup-alone",$C="e-hidden",tW="e-toolbar-multirow",iW="e-multirow-pos",hP="e-multirow-separator",cP="e-extended-separator",sW="e-extended-toolbar",dP="e-toolbar-extended",uP="e-tbar-extended";class Mo extends he{}Ys([g("")],Mo.prototype,"id",void 0),Ys([g("")],Mo.prototype,"text",void 0),Ys([g("auto")],Mo.prototype,"width",void 0),Ys([g("")],Mo.prototype,"cssClass",void 0),Ys([g(!1)],Mo.prototype,"showAlwaysInPopup",void 0),Ys([g(!1)],Mo.prototype,"disabled",void 0),Ys([g("")],Mo.prototype,"prefixIcon",void 0),Ys([g("")],Mo.prototype,"suffixIcon",void 0),Ys([g(!0)],Mo.prototype,"visible",void 0),Ys([g("None")],Mo.prototype,"overflow",void 0),Ys([g("")],Mo.prototype,"template",void 0),Ys([g("Button")],Mo.prototype,"type",void 0),Ys([g("Both")],Mo.prototype,"showTextOn",void 0),Ys([g(null)],Mo.prototype,"htmlAttributes",void 0),Ys([g("")],Mo.prototype,"tooltipText",void 0),Ys([g("Left")],Mo.prototype,"align",void 0),Ys([F()],Mo.prototype,"click",void 0);let qo=class extends $i{constructor(e,t){super(e,t),this.resizeContext=this.resize.bind(this),this.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"}}destroy(){this.isReact&&this.clearTemplate();const e=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(e).forEach(t=>{!f(t)&&!f(t.ej2_instances)&&!f(t.ej2_instances[0])&&!t.ej2_instances[0].isDestroyed&&t.ej2_instances[0].destroy()}),super.destroy(),this.unwireEvents(),this.tempId.forEach(t=>{f(this.element.querySelector(t))||(document.body.appendChild(this.element.querySelector(t)).style.display="none")});this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&this.element.appendChild(this.ctrlTem),this.clearProperty(),this.popObj=null,this.tbarAlign=null,this.remove(this.element,"e-toolpop"),this.cssClass&&z([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","aria-haspopup","role"].forEach(t=>this.element.removeAttribute(t))}preRender(){const e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains(oP),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,ud)}wireEvents(){S.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),this.allowKeyboard&&this.wireKeyboardEvent()}wireKeyboardEvent(){this.keyModule=new Ds(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),S.add(this.element,"keydown",this.docKeyDown,this),this.element.setAttribute("tabIndex","0")}unwireKeyboardEvent(){this.keyModule&&(S.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)}docKeyDown(e){if("INPUT"===e.target.tagName)return;const t=!f(this.popObj)&&An(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}unwireEvents(){S.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),S.remove(document,"scroll",this.docEvent),S.remove(document,"click",this.docEvent)}clearProperty(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}}docEvent(e){const t=K(e.target,".e-popup");this.popObj&&An(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})}destroyScroll(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,uc),this.scrollModule.destroy(),this.scrollModule=null)}destroyItems(){this.element&&[].slice.call(this.element.querySelectorAll("."+vr)).forEach(t=>{ie(t)});const e=this.element.querySelector("."+Pn);this.tbarAlign&&([].slice.call(e.children).forEach(t=>{ie(t)}),this.tbarAlign=!1,this.remove(e,uc)),this.clearProperty()}destroyMode(){this.scrollModule&&(this.remove(this.scrollModule.element,ud),this.destroyScroll()),this.remove(this.element,uP),this.remove(this.element,sW);const e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,tW),this.popObj&&this.popupRefresh(this.popObj.element,!0)}add(e,t){e.classList.add(t)}remove(e,t){e.classList.remove(t)}elementFocus(e){const t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()}clstElement(e,t){let i;return i=e&&this.popObj&&An(this.popObj.element)?this.popObj.element.querySelector("."+vr):this.element===t||e?this.element.querySelector("."+vr+":not(."+cc+" ):not(."+Cr+" ):not(."+$C+" )"):K(t,"."+vr),i}keyHandling(e,t,i,s,r){const o=this.popObj,a=this.element,l={name:"FadeOut",duration:100},h="moveUp"===t.action?"previous":"next";let c,d;switch(t.action){case"moveRight":if(this.isVertical)return;a===i?this.elementFocus(e):s||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;s||this.eleFocus(e,"previous");break;case"home":case"end":if(e){const u=K(e,".e-popup");u?An(this.popObj.element)&&(d=[].slice.call(u.children),c="home"===t.action?d[0]:d[d.length-1]):(d=this.element.querySelectorAll("."+Pn+" ."+vr),c="home"===t.action?d[0]:d[d.length-1]),c&&this.elementFocus(c)}break;case"moveUp":case"moveDown":if(this.isVertical)this.eleFocus(e,"moveUp"===t.action?"previous":"next");else if(o&&K(i,".e-popup")){const u=o.element,p=u.firstElementChild;if("previous"===h&&p===e||"next"===h&&u.lastElementChild===e)return;this.eleFocus(e,h)}else"moveDown"===t.action&&o&&An(o.element)&&this.elementFocus(e);break;case"tab":if(!r&&!s){const u=e.firstElementChild;a===i&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(u),u.focus()),this.element.removeAttribute("tabindex"))}break;case"popupClose":o&&"Extended"!==this.overflowMode&&o.hide(l);break;case"popupOpen":if(!s)return;o&&!An(o.element)?(o.element.style.top=a.offsetHeight+"px",o.show({name:"FadeIn",duration:100})):o.hide(l)}}keyActionHandler(e){const t=e.target;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||this.element.classList.contains(cc))return;e.preventDefault();const i=t.classList.contains(za),s=t.classList.contains(Qz),r=this.clstElement(i,t);(r||s)&&this.keyHandling(r,e,t,i,s)}disable(e){const t=this.element;e?t.classList.add(cc):t.classList.remove(cc),t.setAttribute("tabindex",e?"-1":"0"),this.activeEle&&this.activeEle.setAttribute("tabindex",e?"-1":"0"),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(An(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))}eleContains(e){return e.classList.contains(Cr)||e.classList.contains(cc)||e.getAttribute("disabled")||e.classList.contains($C)||!An(e)}eleFocus(e,t){const i=Object(e)[t+"ElementSibling"];if(i){if(this.eleContains(i))return void this.eleFocus(i,t);this.elementFocus(i)}else if(this.tbarAlign){let s=Object(e.parentElement)[t+"ElementSibling"];if(!f(s)&&0===s.children.length&&(s=Object(s)[t+"ElementSibling"]),!f(s)&&s.children.length>0)if("next"===t){const r=s.querySelector("."+vr);this.eleContains(r)?this.eleFocus(r,t):(r.firstElementChild.focus(),this.activeEleSwitch(r))}else{const r=s.lastElementChild;this.eleContains(r)?this.eleFocus(r,t):this.elementFocus(r)}}}clickHandler(e){const t=e.target,i=this.element,s=!f(K(t,"."+GC));let a,r=t.classList,o=K(t,"."+za);o||(o=t),!i.children[0].classList.contains("e-hscroll")&&!i.children[0].classList.contains("e-vscroll")&&r.contains(za)&&(r=t.querySelector(".e-icons").classList),(r.contains(l1)||r.contains(UC))&&this.popupClickHandler(i,o,ud);const l=K(e.target,"."+vr);if((f(l)||l.classList.contains(cc))&&!o.classList.contains(za))return;l&&(a=this.items[this.tbarEle.indexOf(l)]);const h={originalEvent:e,item:a};a&&!f(a.click)&&this.trigger("items["+this.tbarEle.indexOf(l)+"].click",h),h.cancel||this.trigger("clicked",h,c=>{!f(this.popObj)&&s&&!c.cancel&&"Popup"===this.overflowMode&&c.item&&"Input"!==c.item.type&&this.popObj.hide({name:"FadeOut",duration:100})})}popupClickHandler(e,t,i){const s=this.popObj;An(s.element)?(t.classList.remove(YC),s.hide({name:"FadeOut",duration:100})):(e.classList.contains(i)&&(s.enableRtl=!0,s.position={X:"left",Y:"top"}),0===s.offsetX&&!e.classList.contains(i)&&(s.enableRtl=!1,s.position={X:"right",Y:"top"}),s.dataBind(),s.refreshPosition(),s.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(s.element.style.minHeight="0px"),t.classList.add(YC),s.show({name:"FadeIn",duration:100}))}render(){this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()}initialize(){const e=Be(this.width),t=Be(this.height);("msie"!==T.info.name||"auto"!==this.height||"MultiRow"===this.overflowMode)&&qe(this.element,{height:t}),qe(this.element,{width:e}),we(this.element,{role:"toolbar","aria-disabled":"false","aria-haspopup":"false","aria-orientation":this.isVertical?"vertical":"horizontal"}),this.cssClass&&B([this.element],this.cssClass.split(" "))}renderControl(){const e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()}renderLayout(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()}itemsAlign(e,t){let i,s;this.tbarEle||(this.tbarEle=[]);for(let r=0;r<e.length;r++)i=this.renderSubComponent(e[r],r),-1===this.tbarEle.indexOf(i)&&this.tbarEle.push(i),this.tbarAlign||this.tbarItemAlign(e[r],t,r),s=t.querySelector(".e-toolbar-"+e[r].align.toLowerCase()),s?(e[r].showAlwaysInPopup&&"Show"!==e[r].overflow||this.tbarAlgEle[(e[r].align+"s").toLowerCase()].push(i),s.appendChild(i)):t.appendChild(i);this.isReact&&(this.notify("render-react-toolbar-template",this.portals),this.renderReactTemplates())}changeOrientation(){const e=this.element;this.isVertical?(e.classList.remove(oP),this.isVertical=!1,("auto"===this.height||"100%"===this.height)&&(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add(oP),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),qe(this.element,{height:Be(this.height),width:Be(this.width)})),this.destroyMode(),this.refreshOverflow()}initScroll(e,t){!this.scrollModule&&this.checkOverflow(e,t[0])&&(this.tbarAlign&&this.element.querySelector("."+Pn+" ."+Jz).removeAttribute("style"),this.scrollModule=this.isVertical?new Op({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):new tP({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.remove(this.scrollModule.element,uc),qe(this.element,{overflow:"hidden"}))}itemWidthCal(e){let i,t=0;return[].slice.call(Ae("."+vr,e)).forEach(s=>{An(s)&&(i=window.getComputedStyle(s),t+=this.isVertical?s.offsetHeight:s.offsetWidth,t+=parseFloat(this.isVertical?i.marginTop:i.marginRight),t+=parseFloat(this.isVertical?i.marginBottom:i.marginLeft))}),t}getScrollCntEle(e){return e.querySelector(this.isVertical?".e-vscroll-content":".e-hscroll-content")}checkOverflow(e,t){if(f(e)||f(t)||!An(e))return!1;const i=this.isVertical?e.offsetHeight:e.offsetWidth;let s=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||i===s)&&(s=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));const r=e.querySelector("."+za),o=e.querySelector("."+Qz);let a=0;return r?a=this.isVertical?r.offsetHeight:r.offsetWidth:o&&(a=this.isVertical?2*o.offsetHeight:2*o.offsetWidth),s>i-a}refreshOverflow(){this.resize()}toolbarAlign(e){this.tbarAlign&&(this.add(e,uc),this.itemPositioning())}renderOverflowMode(){const e=this.element,t=e.querySelector("."+Pn),i=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===T.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":f(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(Pn)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||i)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,tW),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,iW)),"hidden"===e.style.overflow&&(e.style.overflow=""),("msie"===T.info.name||"auto"!==e.style.height)&&(e.style.height="auto");break;case"Extended":this.add(this.element,sW),(this.checkOverflow(e,t)||i)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}}setOverflowAttributes(e){this.createPopupEle(e,[].slice.call(Ae("."+Pn+" ."+vr,e))),this.element.querySelector("."+za).setAttribute("tabIndex","0"),this.element.querySelector("."+za).setAttribute("role","list")}separator(){const e=this.element,t=[].slice.call(e.querySelectorAll("."+Cr)),i=e.querySelector("."+hP),s=e.querySelector("."+cP),r="MultiRow"===this.overflowMode?i:s;null!==r&&("MultiRow"===this.overflowMode?r.classList.remove(hP):"Extended"===this.overflowMode&&r.classList.remove(cP));for(let o=0;o<=t.length-1;o++)t[o].offsetLeft<30&&0!==t[o].offsetLeft&&("MultiRow"===this.overflowMode?t[o].classList.add(hP):"Extended"===this.overflowMode&&t[o].classList.add(cP))}createPopupEle(e,t){let i=e.querySelector("."+za);const s=this.isVertical;i||this.createPopupIcon(e),i=e.querySelector("."+za);const o=(s?e.offsetHeight:e.offsetWidth)-(s?i.offsetHeight:i.offsetWidth);this.element.classList.remove("e-rtl"),qe(this.element,{direction:"initial"}),this.checkPriority(e,t,o,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()}pushingPoppedEle(e,t,i,s,r){const o=e.element,a=[].slice.call(Ae("."+bu,o.querySelector("."+Pn)));let l=Ae("."+dc,i),h=0,c=0;a.forEach((u,p)=>{l=Ae("."+dc,i),u.classList.contains(dc)&&l.length>0?e.tbResize&&l.length>p?(i.insertBefore(u,l[p]),++c):(i.insertBefore(u,i.children[l.length]),++c):u.classList.contains(dc)||e.tbResize&&u.classList.contains(h1)&&i.children.length>0&&0===l.length?(i.insertBefore(u,i.firstChild),++c):u.classList.contains(h1)?t.push(u):e.tbResize?(i.insertBefore(u,i.childNodes[h+c]),++h):i.appendChild(u),u.classList.contains(Cr)?qe(u,{display:"",height:r+"px"}):qe(u,{display:"",height:s+"px"})}),t.forEach(u=>{i.appendChild(u)});const d=Ae("."+vr,o.querySelector("."+Pn));for(let u=d.length-1;u>=0;u--){const p=d[u];if(!p.classList.contains(Cr)||"Extended"===this.overflowMode)break;qe(p,{display:"none"})}}createPopup(){const e=this.element;let t,i;"Extended"===this.overflowMode&&(i=e.querySelector("."+Cr+":not(."+bu+")"),t="auto"===e.style.height||""===e.style.height?null:i.offsetHeight);const s=e.querySelector("."+vr+":not(."+Cr+"):not(."+bu+")"),r="auto"===e.style.height||""===e.style.height?null:s&&s.offsetHeight;let o;if(W("#"+e.id+"_popup."+GC,e))o=W("#"+e.id+"_popup."+GC,e);else{const l=this.createElement("div",{id:e.id+"_popup",className:GC+" "+dP}),h=this.createElement("div",{id:e.id+"_popup",className:GC});o="Extended"===this.overflowMode?l:h}this.pushingPoppedEle(this,[],o,r,t),this.popupInit(e,o)}getElementOffsetY(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight}popupInit(e,t){if(this.popObj){const i=this.popObj.element;qe(i,{maxHeight:"",display:"block"}),qe(i,{maxHeight:i.offsetHeight+"px",display:""})}else{e.appendChild(t),qe(this.element,{overflow:""});const i=window.getComputedStyle(this.element),s=new rc(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if(s.appendTo(t),"Extended"===this.overflowMode&&(s.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth),s.offsetX=0),S.add(document,"scroll",this.docEvent.bind(this)),S.add(document,"click ",this.docEvent.bind(this)),s.element.style.maxHeight=s.element.offsetHeight+"px",this.isVertical&&(s.element.style.visibility="hidden"),this.isExtendedOpen){const r=this.element.querySelector("."+za);r.classList.add(YC),Al(r.firstElementChild,[l1],[UC]),this.element.querySelector("."+dP).classList.add(Xz)}else s.hide();this.popObj=s,this.element.setAttribute("aria-haspopup","true")}}tbarPopupHandler(e){"Extended"===this.overflowMode&&(e?this.add(this.element,uP):this.remove(this.element,uP))}popupOpen(e){const t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());const i=this.popObj.element,s=this.popObj.element.parentElement,r=s.querySelector("."+za);qe(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");const o=i.offsetTop+i.offsetHeight+Eo(s).top,a=r.firstElementChild;r.classList.add(YC),Al(a,[l1],[UC]),this.tbarPopupHandler(!0);const l=f(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+l<o&&this.element.offsetTop<i.offsetHeight){let h=i.offsetHeight-(o-window.innerHeight-l+5);t.height=h+"px";for(let c=0;c<=i.childElementCount;c++){const d=i.children[c];if(d.offsetTop+d.offsetHeight>h){h=d.offsetTop;break}}qe(t.element,{maxHeight:h+"px"})}else if(this.isVertical){const h=this.element.getBoundingClientRect();qe(t.element,{maxHeight:h.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(t){const h=i.getBoundingClientRect();h.right>document.documentElement.clientWidth&&h.width>s.getBoundingClientRect().width&&(t.collision={Y:"none"},t.dataBind()),t.refreshPosition()}}popupClose(e){const i=this.element.querySelector("."+za),s=i.firstElementChild;i.classList.remove(YC),Al(s,[UC],[l1]),this.tbarPopupHandler(!1)}checkPriority(e,t,i,s){const r=this.popupPriCount>0,a=i;let l,h,c=0,d=0,u=0;const p=(m,y)=>{let b=!1;return y.forEach(v=>{m.classList.contains(v)&&(b=!0)}),b};for(let m=t.length-1;m>=0;m--){let y;const b=window.getComputedStyle(t[m]);this.isVertical?(y=parseFloat(b.marginTop),y+=parseFloat(b.marginBottom)):(y=parseFloat(b.marginRight),y+=parseFloat(b.marginLeft));const v=t[m]===this.tbarEle[0];v&&(this.tbarEleMrgn=y),l=this.isVertical?t[m].offsetHeight:t[m].offsetWidth;const C=v?l+y:l;if(p(t[m],[lP])&&r&&(t[m].classList.add(bu),qe(t[m],this.isVertical?{display:"none",minHeight:C+"px"}:{display:"none",minWidth:C+"px"}),u++),h=this.isVertical?t[m].offsetTop+t[m].offsetHeight+y>i:t[m].offsetLeft+t[m].offsetWidth+y>i,h){if(t[m].classList.contains(Cr)){if("Extended"===this.overflowMode)d===u&&p(t[m],[Cr,qC])&&(t[m].classList.add(bu),u++),d++;else if("Popup"===this.overflowMode){if(c>0&&d===u){const w=t[m+d+(c-1)];p(w,[Cr,qC])&&qe(w,{display:"none"})}c++,d=0,u=0}}else d++;t[m].classList.contains(dc)&&s||p(t[m],[Cr,qC])?i-=(this.isVertical?t[m].offsetHeight:t[m].offsetWidth)+y:(t[m].classList.add(bu),qe(t[m],this.isVertical?{display:"none",minHeight:C+"px"}:{display:"none",minWidth:C+"px"}),u++)}}if(s){const m=Ae("."+vr+":not(."+bu+")",this.element);this.checkPriority(e,m,a,!1)}}createPopupIcon(e){const t=e.id.concat("_nav");let i="e-"+e.id.concat("_nav e-hor-nav");i="Extended"===this.overflowMode?i+" e-expended-nav":i;const s=this.createElement("div",{id:t,className:i});("msie"===T.info.name||"edge"===T.info.name)&&s.classList.add("e-ie-align");const r=this.createElement("div",{className:UC+" e-icons"});s.appendChild(r),s.setAttribute("tabindex","0"),s.setAttribute("role","list"),e.appendChild(s)}tbarPriRef(e,t,i,s,r,o,a,l){const h=l,u=Ae("."+bu+":not(."+dc+")",this.popObj.element).length,p=(m,y)=>m.classList.contains(y);if(0===Ae(".e-toolbar-item:not(.e-separator):not(.e-overflow-show)",e).length){const m=e.children[t-(t-i)-1],y=!f(m)&&p(m,qC);if(!f(m)&&p(m,Cr)&&!An(m)||y){const b="none";m.style.display="inherit";const v=m.offsetWidth+2*parseFloat(window.getComputedStyle(m).marginRight),C=m.previousElementSibling;o+v<a||r?(e.insertBefore(s,e.children[t+h-(t-i)]),f(C)||(C.style.display="")):C.classList.contains(Cr)&&(C.style.display=b),m.style.display=""}else e.insertBefore(s,e.children[t+h-(t-i)])}else e.insertBefore(s,e.children[t+h-u])}popupRefresh(e,t){const i=this.element,s=this.isVertical,r=i.querySelector("."+Pn);let a,o=i.querySelector("."+za);if(f(o))return;r.removeAttribute("style"),e.style.display="block",a=s?i.offsetHeight-(o.offsetHeight+r.offsetHeight):i.offsetWidth-(o.offsetWidth+r.offsetWidth);let l=0;[].slice.call(e.children).forEach(h=>{l+=this.popupEleWidth(h),qe(h,{position:""})}),a+(s?o.offsetHeight:o.offsetWidth)>l&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(a,e,t),e.style.display="",0===e.children.length&&o&&this.popObj&&(ie(o),o=null,this.popObj.destroy(),ie(this.popObj.element),this.popObj=null,i.setAttribute("aria-haspopup","false"))}ignoreEleFetch(e,t){const i=[].slice.call(t.querySelectorAll("."+qC)),s=[];let r=0;return i.length>0?(i.forEach(o=>{s.push([].slice.call(t.children).indexOf(o))}),s.forEach(o=>{o<=e&&r++}),r):0}checkPopupRefresh(e,t){t.style.display="block";const i=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");const s=e.offsetWidth-e.querySelector("."+za).offsetWidth,r=e.querySelector("."+Pn).offsetWidth;return t.style.removeProperty("display"),s>i+r}popupEleWidth(e){e.style.position="absolute";let t=this.isVertical?e.offsetHeight:e.offsetWidth;const i=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains(aP)){const s=e.children[0];!f(i)&&e.classList.contains(aP)?i.style.display="none":!f(i)&&e.classList.contains(Kz)&&(i.style.display="block"),s.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),s.style.minWidth="",s.style.minHeight="",f(i)||(i.style.display="")}return t}popupEleRefresh(e,t,i){const s=this.popupPriCount>0;let o,a,r=this.tbarEle,l=this.element.querySelector("."+Pn),h=0;for(const d of[].slice.call(t.children)){if(d.classList.contains(lP)&&s&&!i)continue;let u=this.popupEleWidth(d);if(d===this.tbarEle[0]&&(u+=this.tbarEleMrgn),d.style.position="",!(u<e||i))break;{if(qe(d,{minWidth:"",height:"",minHeight:""}),d.classList.contains(h1)||d.classList.remove(bu),a=this.tbarEle.indexOf(d),this.tbarAlign){const m=this.items[a].align;a=this.tbarAlgEle[(m+"s").toLowerCase()].indexOf(d),r=this.tbarAlgEle[(m+"s").toLowerCase()],l=this.element.querySelector("."+Pn+" .e-toolbar-"+m.toLowerCase())}let p=0;"Extended"!==this.overflowMode&&r.slice(0,a).forEach(m=>{(m.classList.contains(dc)||m.classList.contains(Cr))&&(m.classList.contains(Cr)&&(m.style.display="",e-=m.offsetWidth),p++)}),h=this.ignoreEleFetch(a,l),d.classList.contains(dc)?(this.tbarPriRef(l,a,p,d,i,u,e,h),e-=d.offsetWidth):0===a?(l.insertBefore(d,l.firstChild),e-=d.offsetWidth):(o=Ae("."+dc,this.popObj.element).length,l.insertBefore(d,l.children[a+h-o]),e-=d.offsetWidth),d.style.height=""}}this.checkOverflow(this.element,this.element.getElementsByClassName(Pn)[0])&&!i&&this.renderOverflowMode()}removePositioning(){const e=this.element.querySelector("."+Pn);if(f(e)||!e.classList.contains(uc))return;this.remove(e,uc);const t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}refreshPositioning(){const e=this.element.querySelector("."+Pn);this.add(e,uc),this.itemPositioning()}itemPositioning(){const e=this.element.querySelector("."+Pn);let t;if(f(e)||!e.classList.contains(uc))return;const i=this.element.querySelector("."+za);let s;s=[].slice.call(this.scrollModule?e.querySelector("."+(this.isVertical?"e-vscroll-content":"e-hscroll-content")).children:e.childNodes),t=this.isVertical?s[0].offsetHeight+s[2].offsetHeight:s[0].offsetWidth+s[2].offsetWidth;let r=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(i){r-=this.isVertical?i.offsetHeight:i.offsetWidth;const l=(this.isVertical?i.offsetHeight:i.offsetWidth)+"px";s[2].removeAttribute("style"),this.isVertical?this.enableRtl?s[2].style.top=l:s[2].style.bottom=l:this.enableRtl?s[2].style.left=l:s[2].style.right=l}if(r<=t)return;const o=(r-t-(this.isVertical?s[1].offsetHeight:s[1].offsetWidth))/2;s[1].removeAttribute("style");const a=(this.isVertical?s[0].offsetHeight:s[0].offsetWidth)+o+"px";this.isVertical?this.enableRtl?s[1].style.marginBottom=a:s[1].style.marginTop=a:this.enableRtl?s[1].style.marginRight=a:s[1].style.marginLeft=a}tbarItemAlign(e,t,i){if(e.showAlwaysInPopup&&"Show"!==e.overflow)return;const s=[];if(s.push(this.createElement("div",{className:"e-toolbar-left"})),s.push(this.createElement("div",{className:Jz})),s.push(this.createElement("div",{className:"e-toolbar-right"})),0===i&&"Left"!==e.align)s.forEach(r=>{t.appendChild(r)}),this.tbarAlign=!0,this.add(t,uc);else if("Left"!==e.align){const o=s[0];[].slice.call(t.childNodes).forEach(a=>{this.tbarAlgEle.lefts.push(a),o.appendChild(a)}),t.appendChild(o),t.appendChild(s[1]),t.appendChild(s[2]),this.tbarAlign=!0,this.add(t,uc)}}ctrlTemplate(){this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,Pn),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach(t=>{"DIV"===t.tagName&&(this.tbarEle.push(t),t.setAttribute("aria-disabled","false"),this.add(t,vr))})}renderItems(){const e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){let i;e&&e.children.length>0&&(i=e.querySelector("."+Pn)),i||(i=this.createElement("div",{className:Pn})),this.itemsAlign(t,i),e.appendChild(i)}}setAttr(e,t){const i=Object.keys(e);let s;for(let r=0;r<i.length;r++)s=i[r],"class"===s?this.add(t,e[s]):t.setAttribute(s,e[s])}enableItems(e,t){const i=e,s=i.length;let r;f(t)&&(t=!0);const o=(a,l)=>{a?(l.classList.remove(cc),l.setAttribute("aria-disabled","false")):(l.classList.add(cc),l.setAttribute("aria-disabled","true"))};if(!f(s)&&s>=1){for(let a=0,l=[].slice.call(i);a<s;a++){const h=l[a];if("number"==typeof h){if(r=this.getElementByIndex(h),f(r))return;i[a]=r}else r=h;o(t,r)}t?z(i,cc):B(i,cc)}else{if("number"==typeof i){if(r=this.getElementByIndex(i),f(r))return}else r=e;o(t,r)}}getElementByIndex(e){return this.tbarEle[e]?this.tbarEle[e]:null}addItems(e,t){let i;this.extendedOpen();const s=this.element.querySelector("."+Pn);if(f(s))return void this.itemsRerender(e);let r,o="Left";f(t)&&(t=0),e.forEach(a=>{!f(a.align)&&"Left"!==a.align&&"Left"===o&&(o=a.align)});for(const a of e)if(f(a.type)&&(a.type="Button"),i=Ae("."+vr,this.element),a.align=o,r=this.renderSubComponent(a,t),this.tbarEle.length>=t&&i.length>=0){f(this.scrollModule)&&this.destroyMode();const l="L"===a.align[0]?0:"C"===a.align[0]?1:2;let h;this.tbarAlign||"Left"===o?this.tbarAlign?(h=K(i[0],"."+Pn).children[l],h.insertBefore(r,h.children[t]),this.tbarAlgEle[(a.align+"s").toLowerCase()].splice(t,0,r),this.refreshPositioning()):0===i.length?(i=Ae("."+Pn,this.element),i[0].appendChild(r)):i[0].parentNode.insertBefore(r,i[t]):(this.tbarItemAlign(a,s,1),this.tbarAlign=!0,h=K(i[0],"."+Pn).children[l],h.appendChild(r),this.tbarAlgEle[(a.align+"s").toLowerCase()].push(r),this.refreshPositioning()),this.items.splice(t,0,a),this.tbarEle.splice(t,0,r),t++,this.offsetWid=s.offsetWidth}s.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()}removeItems(e){const t=e;let i,s=[].slice.call(Ae("."+vr,this.element));if("number"==typeof t)i=parseInt(e.toString(),10),this.removeItemByIndex(i,s);else if(t&&t.length>1)for(const r of[].slice.call(t))i=this.tbarEle.indexOf(r),this.removeItemByIndex(i,s),s=Ae("."+vr,this.element);else i=s.indexOf(t&&t.length&&1===t.length?t[0]:e),this.removeItemByIndex(i,s);this.resize()}removeItemByIndex(e,t){if(this.tbarEle[e]&&t[e]){const i=this.tbarEle.indexOf(t[e]);if(this.tbarAlign){const r=this.tbarAlgEle[(this.items[i].align+"s").toLowerCase()].indexOf(this.tbarEle[i]);this.tbarAlgEle[(this.items[i].align+"s").toLowerCase()].splice(r,1)}this.isReact&&this.clearTemplate();const s=t[e].querySelector(".e-control.e-btn");!f(s)&&!f(s.ej2_instances[0])&&!s.ej2_instances[0].isDestroyed&&s.ej2_instances[0].destroy(),ie(t[e]),this.items.splice(i,1),this.tbarEle.splice(i,1)}}templateRender(e,t,i,s){const o=e;let a;if("object"==typeof e&&(a="function"==typeof o.appendTo),"string"!=typeof e&&a){if("Input"===i.type){const l=this.createElement("input");l.id=i.id?i.id:Us("tbr-ipt"),t.appendChild(l),o.appendTo(l)}}else{let l,c,h=e;h="string"==typeof e?e.trim():e;try{if("object"!=typeof e||f(e.tagName)){if(document.querySelectorAll(h).length){const d=document.querySelector(h),u=d.outerHTML.trim();t.appendChild(d),d.style.display="",f(u)||this.tempId.push(h)}}else t.appendChild(e)}catch(d){l=Lr(h)}f(l)||(c=l({},this,"template",this.element.id+s+"_template",this.isStringTemplate)),!f(c)&&c.length>0&&[].slice.call(c).forEach(d=>{f(d.tagName)||(d.style.display=""),t.appendChild(d)})}this.add(t,Zz),this.tbarEle.push(t)}buttonRendering(e,t){const i=this.createElement("button",{className:"e-tbar-btn"});i.setAttribute("type","button");const s=e.text;let r,o;i.id=e.id?e.id:Us("e-tbr-btn");const a=this.createElement("span",{className:"e-tbar-btn-text"});s?(a.innerHTML=this.enableHtmlSanitizer?Zn.sanitize(s):s,i.appendChild(a),i.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(r=e.prefixIcon+" e-icons",o="Left"):(r=e.suffixIcon+" e-icons",o="Right"));const l=new uh({iconCss:r,iconPosition:o});return l.createElement=this.createElement,l.appendTo(i),e.width&&qe(i,{width:Be(e.width)}),i}renderSubComponent(e,t){let i;const s=this.createElement("div",{className:vr});s.setAttribute("aria-disabled","false");const r=this.createElement("div",{innerHTML:this.enableHtmlSanitizer?Zn.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,s),e.tooltipText&&s.setAttribute("title",r.textContent),e.cssClass&&(s.className=s.className+" "+e.cssClass),e.template)this.templateRender(e.template,s,e,t);else switch(e.type){case"Button":i=this.buttonRendering(e,s),i.setAttribute("tabindex","-1"),i.setAttribute("aria-label",e.text||e.tooltipText),s.appendChild(i),s.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(s,Cr)}if(e.showTextOn){const o=e.showTextOn;"Toolbar"===o?(this.add(s,Kz),this.add(s,"e-tbtn-align")):"Overflow"===o&&this.add(s,aP)}if(e.overflow){const o=e.overflow;"Show"===o?this.add(s,dc):"Hide"===o&&(s.classList.contains(Cr)||this.add(s,h1))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!s.classList.contains(Cr)&&(this.add(s,lP),this.popupPriCount++),e.disabled&&this.add(s,cc),!1===e.visible&&this.add(s,$C),s}itemClick(e){this.activeEleSwitch(e.currentTarget)}activeEleSwitch(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()}activeEleRemove(e){f(this.activeEle)||this.activeEle.setAttribute("tabindex","-1"),this.activeEle=e,f(this.trgtEle)&&!e.parentElement.classList.contains(Zz)?e.removeAttribute("tabindex"):this.activeEle.setAttribute("tabindex","0")}getPersistData(){return this.addOnPersist([])}getModuleName(){return"toolbar"}itemsRerender(e){this.items=this.tbarItemsCol,this.isReact&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()}resize(){const e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();const t=this.checkOverflow(e,e.getElementsByClassName(Pn)[0]);if(!t){this.destroyScroll();const i=e.querySelector("."+Pn);f(i)||(this.remove(i,iW),this.tbarAlign&&this.add(i,uc))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){const i=window.getComputedStyle(this.element);this.popObj.width=parseFloat(i.width)+2*parseFloat(i.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector("."+eW)&&(this.scrollStep=this.element.querySelector("."+eW).offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}}extendedOpen(){const e=this.element.querySelector("."+dP);"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains(Xz))}onPropertyChanged(e,t){const i=this.element,s=i.offsetWidth;this.extendedOpen();for(const r of Object.keys(e))switch(r){case"items":if(e.items instanceof Array&&t.items instanceof Array)this.itemsRerender(e.items);else{const o=Object.keys(e.items);for(let a=0;a<o.length;a++){const l=parseInt(Object.keys(e.items)[a],10),h=Object.keys(e.items[l])[0],c=Object(e.items[l])[h];if("function"!=typeof c){if(this.tbarAlign||"align"===h){this.refresh(),this.trigger("created");break}const u="overflow"===h&&0!==this.popupPriCount;("showAlwaysInPopup"===h&&!c||this.items[l].showAlwaysInPopup&&u)&&--this.popupPriCount,f(this.scrollModule)&&this.destroyMode();const p=[].slice.call(Ae("."+Pn+" ."+vr,i));this.isReact&&this.clearTemplate(),ie(p[l]),this.tbarEle.splice(l,1),this.addItems([this.items[l]],l),this.items.splice(l,1),this.items[l].template&&this.tbarEle.splice(this.items.length,1)}}}break;case"width":qe(i,{width:Be(e.width)}),this.renderOverflowMode(),this.popObj&&s<i.offsetWidth&&this.popupRefresh(this.popObj.element,!1);break;case"height":qe(this.element,{height:Be(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(i,ud),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(i,ud):this.remove(i,ud),f(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,ud):this.remove(this.scrollModule.element,ud)),f(this.popObj)||(e.enableRtl?this.add(this.popObj.element,ud):this.remove(this.popObj.element,ud)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&z([this.element],t.cssClass.split(" ")),e.cssClass&&B([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}}hideItem(e,t){const i="object"==typeof e;let r,o,s=e;const a=[].slice.call(Ae("."+vr,this.element));if(i?o=e:this.tbarEle[s]&&(o=[].slice.call(Ae("."+vr,this.element))[s]),o){if(t?o.classList.add($C):o.classList.remove($C),t&&f(this.element.getAttribute("tabindex"))&&!o.classList.contains(Cr)){if(f(o.firstElementChild.getAttribute("tabindex"))){o.firstElementChild.setAttribute("tabindex","-1");const l=[].slice.call(Ae("."+vr,this.element));i&&(s=l.indexOf(o));let h=l[++s];for(;h;){if(!this.eleContains(h)){h.firstElementChild.removeAttribute("tabindex");break}h=l[++s]}}}else if(f(this.element.getAttribute("tabindex"))&&!o.classList.contains(Cr)){r=0;let l=!1,h=!1,c=a[r];for(;c;)if(c.classList.contains(Cr))c=a[++r];else if(f(c.firstElementChild.getAttribute("tabindex")))c.firstElementChild.setAttribute("tabindex","-1"),l=!0;else{if(l&&h)break;this.eleContains(c)||(c.firstElementChild.removeAttribute("tabindex"),h=!0),c=a[++r]}}this.refreshOverflow()}}};Ys([Di([],Mo)],qo.prototype,"items",void 0),Ys([g("auto")],qo.prototype,"width",void 0),Ys([g("auto")],qo.prototype,"height",void 0),Ys([g("")],qo.prototype,"cssClass",void 0),Ys([g("Scrollable")],qo.prototype,"overflowMode",void 0),Ys([g()],qo.prototype,"scrollStep",void 0),Ys([g(!0)],qo.prototype,"enableCollision",void 0),Ys([g(!0)],qo.prototype,"enableHtmlSanitizer",void 0),Ys([g(!0)],qo.prototype,"allowKeyboard",void 0),Ys([F()],qo.prototype,"clicked",void 0),Ys([F()],qo.prototype,"created",void 0),Ys([F()],qo.prototype,"destroyed",void 0),Ys([F()],qo.prototype,"beforeCreate",void 0),qo=Ys([ii],qo);var cn=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const c1="e-acrdn-root",nb="e-accordion",Ol="e-acrdn-item",nW="e-item-focus",XC="e-hide",qr="e-acrdn-header",pP="e-acrdn-header-content",yh="e-acrdn-panel",d1="e-acrdn-content",ZC="e-toggle-icon",rW="e-expand-icon",fP="e-rtl",mP="e-content-hide",gP="e-select",KC="e-selected",QC="e-active",rb="e-overlay",u1="e-toggle-animation",pc="e-expand-state",oW="e-accordion-container";class JC extends he{}cn([g("SlideDown")],JC.prototype,"effect",void 0),cn([g(400)],JC.prototype,"duration",void 0),cn([g("linear")],JC.prototype,"easing",void 0);class yP extends he{}cn([U({effect:"SlideUp",duration:400,easing:"linear"},JC)],yP.prototype,"collapse",void 0),cn([U({effect:"SlideDown",duration:400,easing:"linear"},JC)],yP.prototype,"expand",void 0);class vu extends he{}cn([g(null)],vu.prototype,"content",void 0),cn([g(null)],vu.prototype,"header",void 0),cn([g(null)],vu.prototype,"cssClass",void 0),cn([g(null)],vu.prototype,"iconCss",void 0),cn([g(!1)],vu.prototype,"expanded",void 0),cn([g(!0)],vu.prototype,"visible",void 0),cn([g(!1)],vu.prototype,"disabled",void 0),cn([g()],vu.prototype,"id",void 0);let $o=class extends $i{constructor(e,t){super(e,t),this.keyConfigs={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",space:"space",home:"home",end:"end"}}destroy(){this.isReact&&this.clearTemplate();const e=this.element;if(super.destroy(),this.unwireEvents(),this.isDestroy=!0,this.restoreContent(null),[].slice.call(e.children).forEach(t=>{e.removeChild(t)}),this.trgtEle)for(;this.ctrlTem.firstElementChild;)e.appendChild(this.ctrlTem.firstElementChild);e.classList.remove(c1),e.removeAttribute("style"),["aria-disabled","aria-multiselectable","role","data-ripple"].forEach(t=>{this.element.removeAttribute(t)}),!this.isNested&&td&&this.removeRippleEffect()}preRender(){const e=K(this.element,"."+yh);this.isNested=!1,this.templateEle=[],this.isDestroy||(this.isDestroy=!1),f(e)?this.element.classList.add(c1):(e.classList.add("e-nested"),this.isNested=!0),this.enableRtl&&this.add(this.element,fP)}add(e,t){e.classList.add(t)}remove(e,t){e.classList.remove(t)}render(){this.initializeHeaderTemplate(),this.initializeItemTemplate(),this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()}initialize(){const e=Be(this.width),t=Be(this.height);qe(this.element,{width:e,height:t}),f(this.initExpand)&&(this.initExpand=[]),this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),we(this.element,{"aria-disabled":"false",role:"presentation","aria-multiselectable":"true"}),"Single"===this.expandMode&&this.element.setAttribute("aria-multiselectable","false")}renderControl(){this.trgtEle=this.element.children.length>0?W("div",this.element):null,this.renderItems(),this.initItemExpand()}wireFocusEvents(){const e=[].slice.call(this.element.querySelectorAll("."+Ol));for(const t of e){const i=t.querySelector("."+qr);t.childElementCount>0&&i&&(S.clearEvents(i),S.add(i,"focus",this.focusIn,this),S.add(i,"blur",this.focusOut,this))}}unwireEvents(){S.remove(this.element,"click",this.clickHandler),f(this.keyModule)||this.keyModule.destroy()}wireEvents(){S.add(this.element,"click",this.clickHandler,this),!this.isNested&&!this.isDestroy&&(this.removeRippleEffect=rn(this.element,{selector:"."+qr})),this.isNested||(this.keyModule=new Ds(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}))}templateParser(e){if(e)try{if(document.querySelectorAll(e).length)return Lr(document.querySelector(e).innerHTML.trim())}catch(t){return Lr(e)}}initializeHeaderTemplate(){this.headerTemplate&&(this.headerTemplateFn=this.templateParser(this.headerTemplate))}initializeItemTemplate(){this.itemTemplate&&(this.itemTemplateFn=this.templateParser(this.itemTemplate))}getHeaderTemplate(){return this.headerTemplateFn}getItemTemplate(){return this.itemTemplateFn}focusIn(e){e.target.parentElement.classList.add(nW)}focusOut(e){e.target.parentElement.classList.remove(nW)}ctrlTemplate(){let e;this.ctrlTem=this.element.cloneNode(!0);const t=W("."+oW,this.element);e=t?t.children:this.element.children;const i=[];[].slice.call(e).forEach(s=>{i.push({header:s.childElementCount>0&&s.children[0]?s.children[0]:"",content:s.childElementCount>1&&s.children[1]?s.children[1]:""}),s.parentNode.removeChild(s)}),t&&this.element.removeChild(t),this.setProperties({items:i},!0)}toggleIconGenerate(){const e=this.createElement("div",{className:ZC}),t=this.createElement("span",{className:"e-tgl-collapse-icon e-icons"});return e.appendChild(t),e}initItemExpand(){const e=this.initExpand.length;if(0!==e){if("Single"===this.expandMode)this.expandItem(!0,this.initExpand[e-1]);else for(let t=0;t<e;t++)this.expandItem(!0,this.initExpand[t]);this.isReact&&this.renderReactTemplates()}}renderItems(){const e=this.element;let t,i;if(f(this.trgtEle)||this.ctrlTemplate(),this.dataSource.length>0)this.dataSource.forEach((s,r)=>{i=this.renderInnerItem(s,r),e.appendChild(i),i.childElementCount>0&&(S.add(i.querySelector("."+qr),"focus",this.focusIn,this),S.add(i.querySelector("."+qr),"blur",this.focusOut,this))});else{const s=this.items;e&&s.length>0&&s.forEach((r,o)=>{t=this.renderInnerItem(r,o),e.appendChild(t),t.childElementCount>0&&(S.add(t.querySelector("."+qr),"focus",this.focusIn,this),S.add(t.querySelector("."+qr),"blur",this.focusOut,this))})}this.isReact&&this.renderReactTemplates()}clickHandler(e){const t=e.target,i=this.getItems(),s={};let r;if(K(t,"."+nb)!==this.element)return;t.classList.add("e-target");const a=K(t,"."+Ol);let c,l=K(t,"."+qr),h=K(t,"."+yh);a&&(f(l)||f(h))&&(l=a.children[0],h=a.children[1]),l&&(r=W("."+ZC,l)),l?c=K(l,"."+Ol):h&&(c=K(h,"."+Ol));const d=this.getIndexByItem(a);c&&(s.item=i[this.getIndexByItem(c)]),s.originalEvent=e,!f(r)&&a.childElementCount<=1&&(f(h)||!f(W("."+qr+" ."+ZC,c)))?(a.appendChild(this.contentRendering(d)),this.ariaAttrUpdate(a),this.afterContentRender(t,s,a,l,h,c)):this.afterContentRender(t,s,a,l,h,c),this.isReact&&this.renderReactTemplates()}afterContentRender(e,t,i,s,r,o){const a=[];this.trigger("clicked",t);let l=r&&!f(W(".e-target",r));const c=r&&!f(W("."+nb,r))&&f(K(e,".e-acrdn-panel .e-accordion")),d=r&&f(W("."+nb,r))||K(e,"."+nb)!==this.element;if(l=l&&(c||d),e.classList.remove("e-target"),e.classList.contains(yh)||e.classList.contains(d1)||l)return;const u=this.element.querySelector("."+oW);[].slice.call(u?u.children:this.element.children).forEach(v=>{v.classList.contains(QC)&&a.push(v)});const m=[].slice.call(this.element.querySelectorAll("."+Ol+" [e-animate]"));if(m.length>0)for(const v of m)a.push(v.parentElement);const y=-1!==a.indexOf(o)&&"true"===r.getAttribute("e-animate");let b=!1;if(!f(i)&&!f(s)){const v=W("."+yh,i),w=K(i,"."+c1).querySelector("."+pc);if(f(v))return;b=w===i,!An(v)||y&&!o.classList.contains(KC)?(a.length>0&&"Single"===this.expandMode&&!y&&a.forEach(_=>{this.collapse(W("."+yh,_)),_.classList.remove(pc)}),this.expand(v)):this.collapse(v),!f(w)&&!b&&w.classList.remove(pc)}}eleMoveFocus(e,t,i){let s,r=K(i,"."+Ol);i===t?s=("moveUp"===e?i.lastElementChild:i).querySelector("."+qr):i.classList.contains(qr)&&(r="moveUp"===e?r.previousElementSibling:r.nextElementSibling,r&&(s=W("."+qr,r))),s&&s.focus()}keyActionHandler(e){const t=e.target;if(f(K(e.target,qr))&&!t.classList.contains(nb)&&!t.classList.contains(qr))return;let s;const r=this.element;let o;switch(e.action){case"moveUp":case"moveDown":this.eleMoveFocus(e.action,r,t);break;case"space":case"enter":o=t.nextElementSibling,!f(o)&&o.classList.contains(yh)?"true"!==o.getAttribute("e-animate")&&t.click():t.click();break;case"home":case"end":s="home"===e.action?r.firstElementChild.children[0]:r.lastElementChild.children[0],s.focus()}}headerEleGenerate(){const e=this.createElement("div",{className:qr,id:Us("acrdn_header")});return we(e,{tabindex:"0",role:"heading","aria-selected":"false","aria-label":"collapsed","aria-disabled":"false","aria-level":this.getItems().length.toString()}),e}renderInnerItem(e,t){const i=this.createElement("div",{className:Ol});if(i.id=Us("acrdn_item"),f(e.id)&&(e.id=i.id),we(i,{"aria-expanded":"false",role:"row"}),this.headerTemplate){const r=this.headerEleGenerate(),o=this.createElement("div",{className:pP});return r.appendChild(o),ys(this.getHeaderTemplate()(e,this,"headerTemplate",this.element.id+"_headerTemplate",!1),o),i.appendChild(r),r.appendChild(this.toggleIconGenerate()),this.add(i,gP),i}if(e.header&&this.angularnativeCondiCheck(e,"header")){this.enableHtmlSanitizer&&"string"==typeof e.header&&(e.header=Zn.sanitize(e.header));const r=this.headerEleGenerate(),o=this.createElement("div",{className:pP});r.appendChild(o),r.appendChild(this.fetchElement(o,e.header,t,!0)),i.appendChild(r)}let s=W("."+qr,i);if(e.expanded&&!f(t)&&!this.enablePersistence&&-1===this.initExpand.indexOf(t)&&this.initExpand.push(t),e.cssClass&&B([i],e.cssClass.split(" ")),e.disabled&&B([i],rb),!1===e.visible&&B([i],XC),e.iconCss){const r=this.createElement("div",{className:"e-acrdn-header-icon"}),o=this.createElement("span",{className:e.iconCss+" e-icons"});r.appendChild(o),f(s)?(s=this.headerEleGenerate(),s.appendChild(r),i.appendChild(s)):s.insertBefore(r,s.childNodes[0])}if(e.content&&this.angularnativeCondiCheck(e,"content")){const r=this.toggleIconGenerate();f(s)&&(s=this.headerEleGenerate(),i.appendChild(s)),s.appendChild(r),this.add(i,gP)}return i}angularnativeCondiCheck(e,t){const s="content"===t?e.content:e.header;if(this.isAngular&&!f(s.elementRef)){const r=s.elementRef.nativeElement.data;if(f(r)||""===r||-1===r.indexOf("bindings="))return!0;const o=JSON.parse(s.elementRef.nativeElement.data.replace("bindings=",""));return!(!f(o)&&"false"===o["ng-reflect-ng-if"])}return!0}fetchElement(e,t,i,s){let r,o,a;try{if(document.querySelectorAll(t).length&&"Button"!==t){const l=document.querySelector(t);o=l.outerHTML.trim(),e.appendChild(l),l.style.display=""}}catch(l){"string"==typeof t?e.innerHTML=Zn.sanitize(t):!f(this.trgtEle)&&t instanceof HTMLElement?(e.appendChild(t),e.firstElementChild.style.display=""):r=Lr(t)}if(!f(r)){let l,h;this.isReact&&this.renderReactTemplates(),e.classList.contains(pP)?(l=this.element.id+i+"_header",h="header"):e.classList.contains(d1)&&(l=this.element.id+i+"_content",h="content"),a=r({},this,h,l,this.isStringTemplate)}return f(a)||!(a.length>0)||f(a[0].tagName)&&1===a.length?0===e.childElementCount&&(e.innerHTML=Zn.sanitize(t)):[].slice.call(a).forEach(l=>{f(l.tagName)||(l.style.display=""),e.appendChild(l)}),f(o)||-1===this.templateEle.indexOf(t)&&this.templateEle.push(t),e}ariaAttrUpdate(e){const t=W("."+qr,e),i=W("."+yh,e);t.setAttribute("aria-controls",i.id),i.setAttribute("aria-labelledby",t.id),i.setAttribute("role","definition")}contentRendering(e){const t=this.createElement("div",{className:yh+" "+mP,id:Us("acrdn_panel")});we(t,{"aria-hidden":"true"});const i=this.createElement("div",{className:d1});return this.dataSource.length>0?(this.isReact&&this.renderReactTemplates(),ys(this.getItemTemplate()(this.dataSource[e],this,"itemTemplate",this.element.id+"_itemTemplate",!1),i),t.appendChild(i)):(this.enableHtmlSanitizer&&typeof this.items[e].content&&(this.items[e].content=Zn.sanitize(this.items[e].content)),t.appendChild(this.fetchElement(i,this.items[e].content,e,!1))),t}expand(e){const t=this.getItems(),i=K(e,"."+Ol);if(f(e)||An(e)&&"true"!==e.getAttribute("e-animate")||i.classList.contains(rb))return;const r=K(i,"."+c1).querySelector("."+pc),o={name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing},a=W("."+ZC,i).firstElementChild,l={element:i,item:t[this.getIndexByItem(i)],index:this.getIndexByItem(i),content:i.querySelector("."+yh),isExpanded:!0};this.trigger("expanding",l,h=>{h.cancel||(a.classList.add(u1),this.expandedItemsPush(i),f(r)||r.classList.remove(pc),i.classList.add(pc),"None"===o.name?(this.expandProgress("begin",a,e,i,h),this.expandProgress("end",a,e,i,h)):this.expandAnimation(o.name,a,e,i,o,h))})}expandAnimation(e,t,i,s,r,o){let a;this.lastActiveItemId=s.id,"SlideDown"===e?(r.begin=()=>{this.expandProgress("begin",t,i,s,o),i.style.position="absolute",a=s.offsetHeight,i.style.maxHeight=i.offsetHeight+"px",s.style.maxHeight=""},r.progress=()=>{s.style.minHeight=a+i.offsetHeight+"px"},r.end=()=>{qe(i,{position:"",maxHeight:""}),s.style.minHeight="",this.expandProgress("end",t,i,s,o)}):(r.begin=()=>{this.expandProgress("begin",t,i,s,o)},r.end=()=>{this.expandProgress("end",t,i,s,o)}),new qt(r).animate(i)}expandProgress(e,t,i,s,r){this.remove(i,mP),this.add(s,KC),this.add(t,rW),"end"===e&&(this.add(s,QC),i.setAttribute("aria-hidden","false"),we(s,{"aria-expanded":"true"}),we(i.previousElementSibling,{"aria-selected":"true","aria-label":"expanded"}),t.classList.remove(u1),this.trigger("expanded",r))}expandedItemsPush(e){const t=this.getIndexByItem(e);if(-1===this.expandedIndices.indexOf(t)){const i=[].slice.call(this.expandedIndices);i.push(t),this.setProperties({expandedIndices:i},!0)}}getIndexByItem(e){const t=this.getItemElements();return[].slice.call(t).indexOf(e)}getItemElements(){const e=[];return[].slice.call(this.element.children).forEach(i=>{i.classList.contains(Ol)&&e.push(i)}),e}expandedItemsPop(e){const t=this.getIndexByItem(e),i=[].slice.call(this.expandedIndices);i.splice(i.indexOf(t),1),this.setProperties({expandedIndices:i},!0)}collapse(e){const t=this.getItems(),i=K(e,"."+Ol);if(f(e)||!An(e)||i.classList.contains(rb))return;const s={name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing},r=W("."+ZC,i).firstElementChild,o={element:i,item:t[this.getIndexByItem(i)],index:this.getIndexByItem(i),content:i.querySelector("."+yh),isExpanded:!1};this.trigger("expanding",o,a=>{a.cancel||(this.expandedItemsPop(i),i.classList.add(pc),r.classList.add(u1),"None"===s.name?(this.collapseProgress("begin",r,e,i,a),this.collapseProgress("end",r,e,i,a)):this.collapseAnimation(s.name,e,i,r,s,a))})}collapseAnimation(e,t,i,s,r,o){let a,l,h,c;this.lastActiveItemId=i.id,"SlideUp"===e?(r.begin=()=>{h=i.offsetHeight,i.style.minHeight=h+"px",t.style.position="absolute",a=i.offsetHeight,l=t.offsetHeight,t.style.maxHeight=l+"px",this.collapseProgress("begin",s,t,i,o)},r.progress=()=>{c=a-(l-t.offsetHeight),c<h&&(i.style.minHeight=c+"px")},r.end=()=>{t.style.display="none",this.collapseProgress("end",s,t,i,o),i.style.minHeight="",qe(t,{position:"",maxHeight:"",display:""})}):(r.begin=()=>{this.collapseProgress("begin",s,t,i,o)},r.end=()=>{this.collapseProgress("end",s,t,i,o)}),new qt(r).animate(t)}collapseProgress(e,t,i,s,r){this.remove(t,rW),this.remove(s,KC),"end"===e&&(this.add(i,mP),t.classList.remove(u1),this.remove(s,QC),i.setAttribute("aria-hidden","true"),we(s,{"aria-expanded":"false"}),we(i.previousElementSibling,{"aria-selected":"false","aria-label":"collapsed"}),this.trigger("expanded",r))}getModuleName(){return"accordion"}itemAttribUpdate(){const e=this.getItems(),t=this.getItemElements(),i=e.length;t.forEach(s=>{W("."+qr,s).setAttribute("aria-level",""+i)})}getItems(){let e;return e=this.itemTemplate&&this.headerTemplate?this.dataSource:this.items,e}addItem(e,t){const i=this.element,s=this.getItemElements(),r=this.getItems();f(t)&&(t=r.length),i.childElementCount>=t&&(e instanceof Array?e:[e]).forEach((a,l)=>{const h=t+l;r.splice(h,0,a);const c=this.renderInnerItem(a,h);i.childElementCount===h?i.appendChild(c):i.insertBefore(c,s[h]),S.add(c.querySelector("."+qr),"focus",this.focusIn,this),S.add(c.querySelector("."+qr),"blur",this.focusOut,this),this.itemAttribUpdate(),this.expandedIndices=[],this.expandedItemRefresh(i),a&&a.expanded&&this.expandItem(!0,h)}),this.isReact&&this.renderReactTemplates()}expandedItemRefresh(e){const t=this.getItemElements();[].slice.call(t).forEach(i=>{i.classList.contains(KC)&&this.expandedItemsPush(i)})}removeItem(e){this.isReact&&this.clearTemplate(["headerTemplate","itemTemplate"],e);const i=this.getItemElements()[e],s=this.getItems();f(i)||(this.restoreContent(e),ie(i),s.splice(e,1),this.itemAttribUpdate(),this.expandedIndices=[],this.expandedItemRefresh(this.element))}select(e){const i=this.getItemElements()[e];f(i)||f(W("."+qr,i))||i.children[0].focus()}hideItem(e,t){const s=this.getItemElements()[e];f(s)||(f(t)&&(t=!0),t?this.add(s,XC):this.remove(s,XC))}enableItem(e,t){const s=this.getItemElements()[e];if(f(s))return;const r=s.firstElementChild;t?(this.remove(s,rb),we(r,{tabindex:"0","aria-disabled":"false"}),r.focus()):(s.classList.contains(QC)&&(this.expandItem(!1,e),this.eleMoveFocus("movedown",this.element,r)),this.add(s,rb),r.setAttribute("aria-disabled","true"),r.removeAttribute("tabindex"))}expandItem(e,t){const i=this.getItemElements();if(f(t))if("Single"===this.expandMode&&e){const s=i[i.length-1];this.itemExpand(e,s,this.getIndexByItem(s))}else{const s=W("#"+this.lastActiveItemId,this.element);[].slice.call(i).forEach(o=>{this.itemExpand(e,o,this.getIndexByItem(o)),o.classList.remove(pc)});const r=W("."+pc,this.element);r&&r.classList.remove(pc),s&&s.classList.add(pc)}else{const s=i[t];if(f(s)||!s.classList.contains(gP)||s.classList.contains(QC)&&e)return;"Single"===this.expandMode&&this.expandItem(!1),this.itemExpand(e,s,t)}}itemExpand(e,t,i){let s=t.children[1];t.classList.contains(rb)||(f(s)&&e?(s=this.contentRendering(i),t.appendChild(s),this.ariaAttrUpdate(t),this.expand(s)):f(s)||(e?this.expand(s):this.collapse(s)),this.isReact&&this.renderReactTemplates())}destroyItems(){this.restoreContent(null),this.isReact&&this.clearTemplate(),[].slice.call(this.element.querySelectorAll("."+Ol)).forEach(e=>{ie(e)})}restoreContent(e){let t;t=f(e)?this.element:this.element.querySelectorAll("."+Ol)[e],this.templateEle.forEach(i=>{f(t.querySelector(i))||(document.body.appendChild(t.querySelector(i)).style.display="none")})}updateItem(e,t){if(!f(e)){const i=this.getItems(),s=i[t];i.splice(t,1),this.restoreContent(t),ie(e),this.addItem(s,t)}}setTemplate(e,t,i){t.innerHTML="",this.templateCompile(t,e,i),this.isReact&&this.renderReactTemplates()}templateCompile(e,t,i){const s=this.createElement("div");this.fetchElement(s,t,i,!1),0!==s.childNodes.length&&[].slice.call(s.childNodes).forEach(r=>{e.appendChild(r)})}getPersistData(){return this.addOnPersist(["expandedIndices"])}onPropertyChanged(e,t){const i=this.element;let s=!1;for(const r of Object.keys(e))switch(r){case"items":if(e.items instanceof Array&&t.items instanceof Array)s=!0;else{const o=Object.keys(e.items);for(let a=0;a<o.length;a++){const l=parseInt(Object.keys(e.items)[a],10),h=Object.keys(e.items[l])[0],c=Ae("."+Ol,this.element)[l],d=Object(t.items[l])[h],u=Object(e.items[l])[h],p=h;if(("header"===p||"iconCss"===p||"expanded"===p||"content"===p&&""===d)&&this.updateItem(c,l),"cssClass"===h&&!f(c)&&(c.classList.remove(d),c.classList.add(u)),"visible"===h&&!f(c)&&(!1===Object(e.items[l])[h]?c.classList.add(XC):c.classList.remove(XC)),"disabled"===h&&!f(c)&&this.enableItem(l,!u),"content"===h&&!f(c)&&2===c.children.length)if("function"==typeof u){const m=c.querySelector("."+d1);m.innerHTML="",this.setTemplate(u,m,l)}else c.classList.contains(KC)&&this.expandItem(!1,l),ie(c.querySelector("."+yh))}}break;case"dataSource":case"expandedIndices":null===this.expandedIndices&&(this.expandedIndices=[]),s=!0;break;case"headerTemplate":this.initializeHeaderTemplate(),s=!0;break;case"itemTemplate":this.initializeItemTemplate(),s=!0;break;case"enableRtl":e.enableRtl?this.add(i,fP):this.remove(i,fP);break;case"height":qe(this.element,{height:Be(e.height)});break;case"width":qe(this.element,{width:Be(e.width)});break;case"expandMode":"Single"===e.expandMode?(this.element.setAttribute("aria-multiselectable","false"),this.expandedIndices.length>1&&this.expandItem(!1)):this.element.setAttribute("aria-multiselectable","true")}s&&(this.initExpand=[],this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),this.destroyItems(),this.renderItems(),this.initItemExpand())}};cn([Di([],vu)],$o.prototype,"items",void 0),cn([g([])],$o.prototype,"dataSource",void 0),cn([g()],$o.prototype,"itemTemplate",void 0),cn([g()],$o.prototype,"headerTemplate",void 0),cn([g("100%")],$o.prototype,"width",void 0),cn([g("auto")],$o.prototype,"height",void 0),cn([g([])],$o.prototype,"expandedIndices",void 0),cn([g("Multiple")],$o.prototype,"expandMode",void 0),cn([g(!1)],$o.prototype,"enableHtmlSanitizer",void 0),cn([U({},yP)],$o.prototype,"animation",void 0),cn([F()],$o.prototype,"clicked",void 0),cn([F()],$o.prototype,"expanding",void 0),cn([F()],$o.prototype,"expanded",void 0),cn([F()],$o.prototype,"created",void 0),cn([F()],$o.prototype,"destroyed",void 0),$o=cn([ii],$o);var p1=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let ew=class extends br{constructor(e,t){super(e,t)}preRender(){this.isMenu=!1,this.element.id=this.element.id||Us("ej2-contextmenu"),super.preRender()}initialize(){super.initialize(),we(this.element,{role:"menubar",tabindex:"0"}),this.element.style.zIndex=im(this.element).toString()}open(e,t,i){super.openMenu(null,null,e,t,null,i)}close(){super.closeMenu()}onPropertyChanged(e,t){super.onPropertyChanged(e,t);for(const i of Object.keys(e))switch(i){case"filter":this.close(),this.filter=e.filter;break;case"target":this.unWireEvents(t.target),this.wireEvents()}}getModuleName(){return"contextmenu"}};p1([g("")],ew.prototype,"target",void 0),p1([g("")],ew.prototype,"filter",void 0),p1([Di([],hc)],ew.prototype,"items",void 0),ew=p1([ii],ew);var Cu=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const fc="e-vertical",bP="e-hamburger";let pd=class extends br{constructor(e,t){super(e,t),this.tempItems=[]}getModuleName(){return"menu"}preRender(){if(this.isMenu=!0,this.element.id=this.element.id||Us("ej2-menu"),this.template)try{document.querySelectorAll(this.template).length&&(this.template=document.querySelector(this.template).innerHTML.trim(),this.clearChanges())}catch(e){}else this.updateMenuItems(this.items);super.preRender()}initialize(){super.initialize(),we(this.element,{role:"menubar",tabindex:"0"}),"Vertical"===this.orientation?(this.element.classList.add(fc),this.hamburgerMode&&!this.target&&this.element.previousElementSibling.classList.add(fc),this.element.setAttribute("aria-orientation","vertical")):T.isDevice&&!this.enableScrolling&&this.element.parentElement.classList.add("e-scrollable"),this.hamburgerMode&&(this.element.parentElement.classList.add(bP),"Horizontal"===this.orientation&&this.element.classList.add("e-hide-menu"))}updateMenuItems(e){this.tempItems=e,this.items=[],this.tempItems.map(this.createMenuItems,this),this.setProperties({items:this.items},!0),this.tempItems=[]}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"orientation":"Vertical"===e.orientation?(this.element.classList.add(fc),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.add(fc),this.element.classList.remove("e-hide-menu")),this.element.setAttribute("aria-orientation","vertical")):(this.element.classList.remove(fc),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.remove(fc),this.element.classList.add("e-hide-menu")),this.element.removeAttribute("aria-orientation"));break;case"items":Object.keys(t.items).length||this.updateMenuItems(e.items);break;case"hamburgerMode":this.element.previousElementSibling||super.createHeaderContainer(),e.hamburgerMode?(this.element.parentElement.classList.add(bP),[].slice.call(this.element.getElementsByClassName("e-blankicon")).forEach(s=>{s.style[this.enableRtl?"paddingRight":"paddingLeft"]=""})):(this.element.parentElement.classList.remove(bP),"Vertical"===this.orientation&&this.setBlankIconStyle(this.element)),"Vertical"===this.orientation?(this.target||this.element.previousElementSibling.classList.add(fc),this.element.classList.remove("e-hide-menu")):(this.target?this.element.previousElementSibling.classList.add(fc):this.element.previousElementSibling.classList.remove(fc),this.element.classList[e.hamburgerMode?"add":"remove"]("e-hide-menu"));break;case"title":this.hamburgerMode&&this.element.previousElementSibling&&(e.title=this.enableHtmlSanitizer?Zn.sanitize(e.title):e.title,this.element.previousElementSibling.querySelector(".e-menu-title").innerHTML=e.title);break;case"target":this.hamburgerMode&&(this.unWireEvents(t.target),this.wireEvents(),"Horizontal"===this.orientation&&(e.target?this.element.previousElementSibling.classList.add(fc):(this.element.previousElementSibling||super.createHeaderContainer(),this.element.previousElementSibling.classList.remove(fc)),this.element.classList.add("e-hide-menu")))}super.onPropertyChanged(e,t)}createMenuItems(e){let t,i,s=this.items;const r=this.getField("parentId");if(e[r]){for(t=this.getIndex(e[r].toString(),!0),i=0;i<t.length;i++)s[t[i]].items||(s[t[i]].items=[]),s=s[t[i]].items;s.push(e)}else this.items.push(e)}open(){super.openHamburgerMenu()}close(){super.closeHamburgerMenu()}};Cu([g("Horizontal")],pd.prototype,"orientation",void 0),Cu([g("")],pd.prototype,"target",void 0),Cu([g(null)],pd.prototype,"template",void 0),Cu([g(!1)],pd.prototype,"enableScrolling",void 0),Cu([g(!1)],pd.prototype,"hamburgerMode",void 0),Cu([g("Menu")],pd.prototype,"title",void 0),Cu([g(!1)],pd.prototype,"enableHtmlSanitizer",void 0),Cu([U({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},yu)],pd.prototype,"fields",void 0),pd=Cu([ii],pd);var Ii=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const wu="e-tab",Xo="e-tab-header",Gi="e-content",f1="e-nested",wr="e-item",vP="e-template",CP="e-rtl",cs="e-active",Fp="e-disable",On="e-hidden",wP="e-focused",SP="e-icons",_P="e-icon",aW="e-icon-tab",xP="e-close-icon",m1="e-close-show",g1="e-tab-text",ob="e-indicator",bh="e-tab-wrap",y1="e-text-wrap",lW="e-tab-icon",Fl="e-toolbar-items",Zi="e-toolbar-item",hW="e-toolbar-pop",mm="e-toolbar-popup",b1="e-progress",cW="e-ignore",EP="e-overlay",DP="e-vertical-tab",MP="e-vertical",dW="e-vertical-left",uW="e-vertical-right",pW="e-horizontal-bottom",kP="e-fill-mode";class tw extends he{}Ii([g("SlideLeftIn")],tw.prototype,"effect",void 0),Ii([g(600)],tw.prototype,"duration",void 0),Ii([g("ease")],tw.prototype,"easing",void 0);class AP extends he{}Ii([U({effect:"SlideLeftIn",duration:600,easing:"ease"},tw)],AP.prototype,"previous",void 0),Ii([U({effect:"SlideRightIn",duration:600,easing:"ease"},tw)],AP.prototype,"next",void 0);class v1 extends he{}Ii([g("")],v1.prototype,"text",void 0),Ii([g("")],v1.prototype,"iconCss",void 0),Ii([g("left")],v1.prototype,"iconPosition",void 0);class Np extends he{}Ii([U({},v1)],Np.prototype,"header",void 0),Ii([g(null)],Np.prototype,"headerTemplate",void 0),Ii([g("")],Np.prototype,"content",void 0),Ii([g("")],Np.prototype,"cssClass",void 0),Ii([g(!1)],Np.prototype,"disabled",void 0),Ii([g(!0)],Np.prototype,"visible",void 0),Ii([g()],Np.prototype,"id",void 0);let dn=class extends $i{constructor(e,t){super(e,t),this.show={},this.hide={},this.maxHeight=0,this.title="Close",this.lastIndex=0,this.isAdd=!1,this.isIconAlone=!1,this.draggableItems=[],this.resizeContext=this.refreshActElePosition.bind(this),this.keyConfigs={tab:"tab",home:"home",end:"end",enter:"enter",space:"space",delete:"delete",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"}}destroy(){if(this.isReact&&this.clearTemplate(),f(this.tbObj)||this.tbObj.destroy(),this.unWireEvents(),["role","aria-disabled","aria-activedescendant","tabindex","aria-orientation"].forEach(e=>{this.element.removeAttribute(e)}),this.expTemplateContent(),this.isTemplate){const e=W(".e-tab > ."+Gi,this.element);this.element.classList.remove(vP),f(e)||(e.innerHTML=this.cnt)}else for(;this.element.firstElementChild;)Ue(this.element.firstElementChild);super.destroy(),this.trigger("destroyed")}refresh(){this.isReact&&this.clearTemplate(),super.refresh(),this.isReact&&this.renderReactTemplates()}preRender(){const e=K(this.element,"."+Gi);this.prevIndex=0,this.isNested=!1,this.isPopup=!1,this.initRender=!0,this.isSwipeed=!1,this.itemIndexArray=[],this.templateEle=[],f(e)||(e.parentElement.classList.add(f1),this.isNested=!0);const t=T.info.name,i="msie"===t?"e-ie":"edge"===t?"e-edge":"safari"===t?"e-safari":"";qe(this.element,{width:Be(this.width),height:Be(this.height)}),this.setCssClass(this.element,this.cssClass,!0),we(this.element,{role:"tablist","aria-disabled":"false","aria-activedescendant":""}),this.setCssClass(this.element,i,!0),this.updatePopAnimationConfig()}render(){this.btnCls=this.createElement("span",{className:SP+" "+xP,attrs:{title:this.title}}),this.tabId=this.element.id.length>0?"-"+this.element.id:J8(),this.renderContainer(),this.wireEvents(),this.initRender=!1}renderContainer(){const e=this.element;if(this.items.forEach((t,i)=>{f(t.id)&&!f(t.setProperties)&&t.setProperties({id:"tabitem_"+i.toString()},!0)}),this.items.length>0&&0===e.children.length)e.appendChild(this.createElement("div",{className:Gi})),this.setOrientation(this.headerPlacement,this.createElement("div",{className:Xo})),this.isTemplate=!1;else if(this.element.children.length>0){this.isTemplate=!0,e.classList.add(vP);const t=e.querySelector("."+Xo);t&&"Bottom"===this.headerPlacement&&this.setOrientation(this.headerPlacement,t)}if(!f(W("."+Xo,this.element))&&!f(W("."+Gi,this.element))){if(this.renderHeader(),this.tbItems=W("."+Xo+" ."+Fl,this.element),f(this.tbItems)||rn(this.tbItems,{selector:".e-tab-wrap"}),this.renderContent(),Ae("."+Zi,this.element).length>0){this.tbItems=W("."+Xo+" ."+Fl,this.element),this.bdrLine=this.createElement("div",{className:ob+" "+On+" "+cW});const t=W("."+this.scrCntClass,this.tbItems);f(t)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstChild):t.insertBefore(this.bdrLine,t.firstChild),this.setContentHeight(!0),this.select(this.selectedItem)}if(!f(this.tbItem))for(let t=0;t<this.items.length;t++)this.tbItem[t].setAttribute("data-id",this.items[t].id);this.setRTL(this.enableRtl)}}serverItemsChanged(){if(this.enableAnimation=!1,this.setActive(this.selectedItem,!0),"Dynamic"!==this.loadOn&&!f(this.cntEle)){const e=[].slice.call(this.cntEle.children),t=Gi+this.tabId+"_"+this.selectedItem;e.forEach(i=>{i.classList.contains(cs)&&i.id!==t&&i.classList.remove(cs),i.id===t&&i.classList.add(cs)}),this.prevIndex=this.selectedItem,this.triggerAnimation(wr+this.tabId+"_"+this.selectedItem,!1)}this.enableAnimation=!0}headerReady(){if(this.initRender=!0,this.hdrEle=this.getTabHeader(),this.setOrientation(this.headerPlacement,this.hdrEle),f(this.hdrEle)||(this.tbObj=this.hdrEle&&this.hdrEle.ej2_instances[0]),this.tbObj.clicked=this.clickHandler.bind(this),this.tbObj.on("onItemsChanged",this.serverItemsChanged.bind(this)),this.tbItems=W("."+Xo+" ."+Fl,this.element),f(this.tbItems)||rn(this.tbItems,{selector:".e-tab-wrap"}),Ae("."+Zi,this.element).length>0){this.bdrLine=W("."+ob+"."+cW,this.element);const e=W("."+this.scrCntClass,this.tbItems);f(e)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstElementChild):e.insertBefore(this.bdrLine,e.firstElementChild),this.select(this.selectedItem)}if(this.cntEle=W(".e-tab > ."+Gi,this.element),f(this.cntEle)||(this.touchModule=new wn(this.cntEle,{swipe:this.swipeHandler.bind(this)})),"Demand"===this.loadOn){const e=this.setActiveContent();this.triggerAnimation(e,!1)}this.initRender=!1,this.renderComplete()}setActiveContent(){const e=wr+this.tabId+"_"+this.selectedItem,t=this.getTrgContent(this.cntEle,this.extIndex(e));return f(t)||t.classList.add(cs),e}renderHeader(){const e=this.headerPlacement;let t=[];if(this.hdrEle=this.getTabHeader(),this.addVerticalClass(),this.isTemplate){this.element.children.length>1&&this.element.children[1].classList.contains(Xo)&&this.setProperties({headerPlacement:"Bottom"},!0);const i=this.hdrEle.children.length,s=[];for(let r=0;r<i;r++)s.push(this.hdrEle.children.item(r).innerHTML);if(i>0){for(;this.hdrEle.firstElementChild;)ie(this.hdrEle.firstElementChild);const r=this.createElement("div",{className:"e-items"});this.hdrEle.appendChild(r),s.forEach((o,a)=>{this.lastIndex=a;const l={className:wr,id:wr+this.tabId+"_"+a,attrs:{role:"tab","aria-controls":Gi+this.tabId+"_"+a,"aria-selected":"false"}},h=this.createElement("span",{className:g1,innerHTML:o,attrs:{role:"presentation"}}).outerHTML,c=this.createElement("div",{className:y1,innerHTML:h+this.btnCls.outerHTML}).outerHTML,d=this.createElement("div",{className:bh,innerHTML:c,attrs:{tabIndex:"-1"}});r.appendChild(this.createElement("div",l)),Ae("."+wr,r)[a].appendChild(d)})}}else t=this.parseObject(this.items,0);this.tbObj=new qo({width:"Left"===e||"Right"===e?"auto":"100%",height:"Left"===e||"Right"===e?"100%":"auto",overflowMode:this.overflowMode,items:0!==t.length?t:[],clicked:this.clickHandler.bind(this),scrollStep:this.scrollStep,enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tbObj.isStringTemplate=!0,this.tbObj.createElement=this.createElement,this.tbObj.appendTo(this.hdrEle),we(this.hdrEle,{"aria-label":"tab-header"}),this.updateOrientationAttribute(),this.setCloseButton(this.showCloseButton)}renderContent(){this.cntEle=W("."+Gi,this.element);const e=Ae("."+Zi,this.element);if(this.isTemplate){this.cnt=this.cntEle.children.length>0?this.cntEle.innerHTML:"";const t=this.cntEle.children;for(let i=0;i<e.length;i++)t.length-1>=i&&(B([t.item(i)],wr),we(t.item(i),{role:"tabpanel","aria-labelledby":wr+this.tabId+"_"+i}),t.item(i).id=Gi+this.tabId+"_"+i)}}reRenderItems(){this.renderContainer(),f(this.cntEle)||(this.touchModule=new wn(this.cntEle,{swipe:this.swipeHandler.bind(this)}))}parseObject(e,t){const i=Ae("."+Zi,this.element).length,s=[];let r;const o=[];return e.forEach((a,l)=>{const h=f(a.header)||f(a.header.iconPosition)?"":a.header.iconPosition,c=f(a.header)||f(a.header.iconCss)?"":a.header.iconCss;if(f(a.headerTemplate)&&(f(a.header)||f(a.header.text)||0===a.header.text.length&&""===c))return void o.push(l);let u,d=a.headerTemplate||a.header.text;if("string"==typeof d&&this.enableHtmlSanitizer&&(d=Zn.sanitize(d)),this.isReplace&&!f(this.tbId)&&""!==this.tbId){const N=this.tbId.indexOf("_");u=parseInt(this.tbId.substring(N+1),10),this.tbId=""}else u=t+l;this.lastIndex=0===i?l:this.isReplace?u:this.isAdd?i+l:this.lastIndex+1;const m=a.disabled?" "+Fp+" "+EP:"",y=!1===a.visible?" "+On:"";r=this.createElement("div",{className:g1,attrs:{role:"presentation"}});const b=d instanceof Object?d.outerHTML:d,v=!f(b)&&""!==b;let C;f(d.tagName)?this.headerTextCompile(r,d,l):r.appendChild(d);const w=this.createElement("span",{className:SP+" "+lW+" "+_P+"-"+h+" "+c}),_=this.createElement("div",{className:y1});_.appendChild(r),""!==d&&void 0!==d&&""!==c?("left"===h||"top"===h?_.insertBefore(w,_.firstElementChild):_.appendChild(w),C=r,this.isIconAlone=!1):(C=""===c?r:w,C===w&&(ie(r),_.appendChild(w),this.isIconAlone=!0));const k=a.disabled?{}:{tabIndex:"-1"};_.appendChild(this.btnCls.cloneNode(!0));const D=this.createElement("div",{className:bh,attrs:k});D.appendChild(_),this.itemIndexArray===[]?this.itemIndexArray.push(wr+this.tabId+"_"+this.lastIndex):this.itemIndexArray.splice(t+l,0,wr+this.tabId+"_"+this.lastIndex);const O={htmlAttributes:{id:wr+this.tabId+"_"+this.lastIndex,role:"tab","aria-selected":"false"},template:D};O.cssClass=(void 0!==a.cssClass?a.cssClass:" ")+" "+m+" "+y+" "+(""!==c?"e-i"+h:"")+" "+(v?"":_P),("top"===h||"bottom"===h)&&this.element.classList.add("e-vertical-icon"),s.push(O),l++}),this.isAdd||o.forEach(a=>{this.items.splice(a,1)}),this.isIconAlone?this.element.classList.add(aW):this.element.classList.remove(aW),s}removeActiveClass(){const e=this.getTabHeader();if(e){const t=Ae("."+Zi+"."+cs,e);[].slice.call(t).forEach(i=>i.classList.remove(cs))}}checkPopupOverflow(e){this.tbPop=W("."+hW,this.element);const t=W(".e-hor-nav",this.element),i=W("."+Fl,this.element),s=i.lastChild;let r=!1;return(!this.isVertical()&&(this.enableRtl&&t.offsetLeft+t.offsetWidth>i.offsetLeft||!this.enableRtl&&t.offsetLeft<i.offsetWidth)||this.isVertical()&&t.offsetTop<s.offsetTop+s.offsetHeight)&&(r=!0),r&&(e.classList.add(mm),this.tbPop.insertBefore(e,Ae("."+mm,this.tbPop)[0])),!0}popupHandler(e){const t=e.querySelector(".e-ripple-element");f(t)||(t.outerHTML="",e.querySelector("."+bh).classList.remove("e-ripple")),this.tbItem=Ae("."+Fl+" ."+Zi,this.hdrEle);const i=this.tbItem[this.tbItem.length-1];return 0!==this.tbItem.length&&(e.classList.remove(mm),e.removeAttribute("style"),this.tbItems.appendChild(e),this.actEleId=e.id,this.checkPopupOverflow(i)&&this.checkPopupOverflow(this.tbItems.lastChild.previousElementSibling),this.isPopup=!0),Ae("."+Zi,this.tbItems).length-1}updateOrientationAttribute(){we(this.element,{"aria-orientation":this.isVertical()?"vertical":"horizontal"})}setCloseButton(e){const t=W("."+Xo,this.element);!0===e?t.classList.add(m1):t.classList.remove(m1),this.tbObj.refreshOverflow(),this.refreshActElePosition()}prevCtnAnimation(e,t){let i;return this.enableRtl||this.element.classList.contains(CP),i=this.isPopup||e<=t?"SlideLeftIn"===this.animation.previous.effect?{name:"SlideLeftOut",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}:null:"SlideRightIn"===this.animation.next.effect?{name:"SlideRightOut",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}:null,i}triggerPrevAnimation(e,t){const i=this.prevCtnAnimation(t,this.selectedItem);f(i)?e.classList.remove(cs):(i.begin=()=>{qe(e,{position:"absolute"}),e.classList.add(b1),e.classList.add("e-view")},i.end=()=>{e.style.display="none",e.classList.remove(cs),e.classList.remove(b1),e.classList.remove("e-view"),qe(e,{display:"",position:""}),0===e.childNodes.length&&!this.isTemplate&&ie(e)},new qt(i).animate(e))}triggerAnimation(e,t){const i=this.prevIndex;let s;[].slice.call(this.element.querySelector("."+Gi).children).forEach(c=>{c.id===this.prevActiveEle&&(s=c)});const o=this.tbItem[i],a=this.getTrgContent(this.cntEle,this.extIndex(e));if(f(s)&&!f(o)){const c=this.extIndex(o.id);s=this.getTrgContent(this.cntEle,c)}if(f(a)||(this.prevActiveEle=a.id),this.initRender||!1===t||this.animation==={}||f(this.animation))return void(s&&s!==a&&s.classList.remove(cs));const l=W("."+Gi,this.element);let h;if(this.prevIndex>this.selectedItem&&!this.isPopup){const c=this.animation.previous.effect;h={name:"None"===c?"":"SlideLeftIn"!==c?c:"SlideLeftIn",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}}else if(this.isPopup||this.prevIndex<this.selectedItem||this.prevIndex===this.selectedItem){const c=this.animation.next.effect;h={name:"None"===c?"":"SlideRightIn"!==c?c:"SlideRightIn",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}}h.progress=()=>{l.classList.add(b1),this.setActiveBorder()},h.end=()=>{l.classList.remove(b1),a.classList.add(cs)},!this.initRender&&!f(s)&&this.triggerPrevAnimation(s,i),this.isPopup=!1,""===h.name?a.classList.add(cs):new qt(h).animate(a)}keyPressed(e){const t=K(e,"."+Xo+" ."+Zi),i=this.getEleIndex(t);!f(this.popEle)&&e.classList.contains("e-hor-nav")?this.popEle.classList.contains("e-popup-open")?this.popObj.hide(this.hide):this.popObj.show(this.show):e.classList.contains("e-scroll-nav")?e.click():!f(t)&&!1===t.classList.contains(cs)&&(this.select(i),f(this.popEle)||this.popObj.hide(this.hide))}getTabHeader(){if(f(this.element))return;const e=[].slice.call(this.element.children).filter(t=>t.classList.contains(Xo));if(e.length>0)return e[0];{const t=[].slice.call(this.element.children).filter(i=>!i.classList.contains("blazor-template"))[0];return t?[].slice.call(t.children).filter(i=>i.classList.contains(Xo))[0]:void 0}}getEleIndex(e){return Array.prototype.indexOf.call(Ae("."+Zi,this.getTabHeader()),e)}extIndex(e){return e.replace(wr+this.tabId+"_","")}expTemplateContent(){this.templateEle.forEach(e=>{f(this.element.querySelector(e))||(document.body.appendChild(this.element.querySelector(e)).style.display="none")})}templateCompile(e,t,i){const s=this.createElement("div");this.compileElement(s,t,"content",i),0!==s.childNodes.length&&e.appendChild(s),this.isReact&&this.renderReactTemplates()}compileElement(e,t,i,s){let r,o;"string"==typeof t?(t=t.trim(),e.innerHTML=Zn.sanitize(t)):r=Lr(t),f(r)||(o=r({},this,i)),!f(r)&&o.length>0&&[].slice.call(o).forEach(a=>{e.appendChild(a)})}headerTextCompile(e,t,i){this.compileElement(e,t,"headerTemplate",i)}getContent(e,t,i,s){let r;if("string"==typeof t||f(t.innerHTML))if("string"==typeof t&&this.enableHtmlSanitizer&&(t=Zn.sanitize(t)),"."===t[0]||"#"===t[0])if(document.querySelectorAll(t).length){const o=document.querySelector(t);r=o.outerHTML.trim(),"clone"===i?e.appendChild(o.cloneNode(!0)):(e.appendChild(o),o.style.display="")}else this.templateCompile(e,t,s);else this.templateCompile(e,t,s);else e.appendChild(t);f(r)||-1===this.templateEle.indexOf(t.toString())&&this.templateEle.push(t.toString())}getTrgContent(e,t){let i;return i=this.element.classList.contains(f1)?W("."+f1+"> ."+Gi+" > #"+Gi+this.tabId+"_"+t,this.element):this.findEle(e.children,Gi+this.tabId+"_"+t),i}findEle(e,t){let i;for(let s=0;s<e.length;s++)if(e[s].id===t){i=e[s];break}return i}isVertical(){const e="Left"===this.headerPlacement||"Right"===this.headerPlacement;return this.scrCntClass=e?"e-vscroll-content":"e-hscroll-content",e}addVerticalClass(){if(this.isVertical()){const e="Left"===this.headerPlacement?dW:uW;B([this.hdrEle],[MP,e]),this.element.classList.contains(f1)?B([this.hdrEle],[DP,e]):B([this.element],[DP,e])}"Bottom"===this.headerPlacement&&B([this.hdrEle],[pW])}updatePopAnimationConfig(){this.show={name:this.isVertical()?"FadeIn":"SlideDown",duration:100},this.hide={name:this.isVertical()?"FadeOut":"SlideUp",duration:100}}changeOrientation(e){this.setOrientation(e,this.hdrEle);const t=this.hdrEle.querySelector("."+cs),i=!!this.hdrEle.classList.contains(MP);z([this.element],[DP]),z([this.hdrEle],[MP,dW,uW]),i!==this.isVertical()&&(this.changeToolbarOrientation(),!f(t)&&t.classList.contains(mm)&&this.popupHandler(t)),this.addVerticalClass(),this.updateOrientationAttribute(),this.setActiveBorder(),this.focusItem()}focusItem(){const e=W(" #"+wr+this.tabId+"_"+this.selectedItem,this.hdrEle);f(e)||e.firstElementChild.focus()}changeToolbarOrientation(){this.tbObj.setProperties({height:this.isVertical()?"100%":"auto",width:this.isVertical()?"auto":"100%"},!0),this.tbObj.changeOrientation(),this.updatePopAnimationConfig()}setOrientation(e,t){const i=Array.prototype.indexOf.call(this.element.children,t),s=Array.prototype.indexOf.call(this.element.children,this.element.querySelector("."+Gi));"Bottom"===e&&s>i?this.element.appendChild(t):(z([t],[pW]),this.element.insertBefore(t,W("."+Gi,this.element)))}setCssClass(e,t,i){if(""===t)return;const s=t.split(" ");for(let r=0;r<s.length;r++)i?e.classList.add(s[r]):e.classList.remove(s[r])}setContentHeight(e){if(this.element.classList.contains(kP)&&z([this.element],[kP]),f(this.cntEle))return;const t=this.getTabHeader();if("None"===this.heightAdjustMode){if("auto"===this.height)return;this.isVertical()||qe(this.cntEle,{height:this.element.offsetHeight-t.offsetHeight+"px"})}else if("Fill"===this.heightAdjustMode)B([this.element],[kP]),qe(this.element,{height:"100%"}),qe(this.cntEle,{height:this.element.offsetHeight-t.offsetHeight+"px"});else if("Auto"===this.heightAdjustMode){if(!0===this.isTemplate){const i=Ae("."+Gi+" > ."+wr,this.element);for(let s=0;s<i.length;s++)i[s].setAttribute("style","display:block; visibility: visible"),this.maxHeight=Math.max(this.maxHeight,this.getHeight(i[s])),i[s].style.removeProperty("display"),i[s].style.removeProperty("visibility")}else{this.cntEle=W("."+Gi,this.element),!0===e&&this.cntEle.appendChild(this.createElement("div",{id:Gi+this.tabId+"_0",className:wr+" "+cs,attrs:{role:"tabpanel","aria-labelledby":wr+this.tabId+"_0"}}));const i=this.cntEle.children.item(0);for(let s=0;s<this.items.length;s++)for(this.getContent(i,this.items[s].content,"clone",s),this.maxHeight=Math.max(this.maxHeight,this.getHeight(i));i.firstChild;)i.removeChild(i.firstChild);this.isReact&&this.clearTemplate(["content"]),this.templateEle=[],this.getContent(i,this.items[0].content,"render",0),this.prevIndex!==this.selectedItem&&i.classList.remove(cs)}qe(this.cntEle,{height:this.maxHeight+"px"})}else qe(this.cntEle,{height:"auto"})}getHeight(e){const t=window.getComputedStyle(e);return e.offsetHeight+parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}setActiveBorder(){const e=this.getTabHeader(),t=W("."+Zi+"."+cs,e);if(null===t)return;const i=K(t,"."+wu);if(this.element!==i)return;this.tbItems=W("."+Fl,e);const s=W("."+ob,e),r=W("."+Fl+" ."+this.scrCntClass,e);if(this.isVertical())qe(s,{left:"",right:""}),0!==(f(r)?this.tbItems.offsetHeight:r.offsetHeight)?qe(s,{top:t.offsetTop+"px",height:t.offsetHeight+"px"}):qe(s,{top:0,height:0});else{"MultiRow"===this.overflowMode?qe(W("."+ob,this.element),{top:t.offsetHeight+t.offsetTop+"px",height:""}):qe(s,{top:"",height:""});let o=f(r)?this.tbItems.offsetWidth:r.offsetWidth;qe(s,0!==o?{left:t.offsetLeft+"px",right:o-(t.offsetLeft+t.offsetWidth)+"px"}:{left:"auto",right:"auto"})}f(this.bdrLine)||this.bdrLine.classList.remove(On)}setActive(e,t=!1){this.tbItem=Ae("."+Zi,this.getTabHeader());const i=this.tbItem[e];if(e<0||isNaN(e)||0===this.tbItem.length)return;if(e>=0&&!t&&(this.allowServerDataBinding=!1,this.setProperties({selectedItem:e},!0),this.allowServerDataBinding=!0,this.initRender||this.serverDataBind()),i.classList.contains(cs))return void this.setActiveBorder();if(!this.isTemplate){const o=this.tbItem[this.prevIndex];f(o)||o.removeAttribute("aria-controls"),we(i,{"aria-controls":Gi+this.tabId+"_"+e})}const s=i.id;this.removeActiveClass(),i.classList.add(cs),this.tbItem[this.prevIndex].setAttribute("aria-selected","false"),i.setAttribute("aria-selected","true");const r=Number(this.extIndex(s));if(f(this.prevActiveEle)&&(this.prevActiveEle=Gi+this.tabId+"_"+r),we(this.element,{"aria-activedescendant":s}),this.isTemplate){if(W("."+Gi,this.element).children.length>0){const o=this.findEle(W("."+Gi,this.element).children,Gi+this.tabId+"_"+r);f(o)||o.classList.add(cs),this.triggerAnimation(s,this.enableAnimation)}}else{this.cntEle=W(".e-tab > ."+Gi,this.element);const o=this.getTrgContent(this.cntEle,this.extIndex(s));if(f(o)){this.cntEle.appendChild(this.createElement("div",{id:Gi+this.tabId+"_"+this.extIndex(s),className:wr+" "+cs,attrs:{role:"tabpanel","aria-labelledby":wr+this.tabId+"_"+this.extIndex(s)}}));const a=this.getTrgContent(this.cntEle,this.extIndex(s)),l=Array.prototype.indexOf.call(this.itemIndexArray,s);this.getContent(a,this.items[l].content,"render",l)}else o.classList.add(cs);this.triggerAnimation(s,this.enableAnimation)}if(this.setActiveBorder(),this.refreshItemVisibility(i),!this.initRender&&!t){i.firstElementChild.focus();const o={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:i,selectedIndex:e,selectedContent:W("#"+Gi+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwipeed};this.trigger("selected",o)}}contentReady(){const e=this.setActiveContent();this.triggerAnimation(e,this.enableAnimation)}setItems(e){this.isReplace=!0,this.tbItems=W("."+Fl,this.getTabHeader()),this.tbObj.items=this.parseObject(e,0),this.tbObj.dataBind(),this.isReplace=!1}setRTL(e){this.tbObj.enableRtl=e,this.tbObj.dataBind(),this.setCssClass(this.element,CP,e),this.refreshActiveBorder()}refreshActiveBorder(){f(this.bdrLine)||this.bdrLine.classList.add(On),this.setActiveBorder()}showPopup(e){const t=W(".e-popup.e-toolbar-pop",this.hdrEle);if(t.classList.contains("e-popup-close")){const i=t&&t.ej2_instances[0];i.position.X="Left"===this.headerPlacement?"left":"right",i.dataBind(),i.show(e)}}bindDraggable(){this.allowDragAndDrop&&this.element.querySelector("."+Xo).querySelectorAll("."+Zi).forEach(i=>{this.initializeDrag(i)})}wireEvents(){this.bindDraggable(),window.addEventListener("resize",this.resizeContext),S.add(this.element,"mouseover",this.hoverHandler,this),S.add(this.element,"keydown",this.spaceKeyDown,this),f(this.cntEle)||(this.touchModule=new wn(this.cntEle,{swipe:this.swipeHandler.bind(this)})),this.keyModule=new Ds(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs}),this.tabKeyModule=new Ds(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:{openPopup:"shift+f10",tab:"tab",shiftTab:"shift+tab"},eventName:"keydown"})}unWireEvents(){f(this.keyModule)||this.keyModule.destroy(),f(this.tabKeyModule)||this.tabKeyModule.destroy(),!f(this.cntEle)&&!f(this.touchModule)&&this.touchModule.destroy(),window.removeEventListener("resize",this.resizeContext),S.remove(this.element,"mouseover",this.hoverHandler),S.remove(this.element,"keydown",this.spaceKeyDown),this.element.classList.remove(CP),this.element.classList.remove(wP)}clickHandler(e){this.element.classList.remove(wP);const t=e.originalEvent.target,i=K(t,"."+Zi),s=this.getEleIndex(i);t.classList.contains(xP)?this.removeTab(s):this.isVertical()&&K(t,".e-hor-nav")?this.showPopup(this.show):(this.isPopup=!1,!f(i)&&(s!==this.selectedItem||s!==this.prevIndex)&&this.select(s,e.originalEvent))}swipeHandler(e){if(!(e.velocity<3&&f(e.originalEvent.changedTouches))){if(e.originalEvent&&this.isNested&&e.originalEvent.stopPropagation(),this.isSwipeed=!0,"Right"===e.swipeDirection&&0!==this.selectedItem){for(let t=this.selectedItem-1;t>=0;t--)if(!this.tbItem[t].classList.contains(On)){this.select(t);break}}else if("Left"===e.swipeDirection&&this.selectedItem!==Ae("."+Zi,this.element).length-1)for(let t=this.selectedItem+1;t<this.tbItem.length;t++)if(!this.tbItem[t].classList.contains(On)){this.select(t);break}this.isSwipeed=!1}}spaceKeyDown(e){(32===e.keyCode&&32===e.which||35===e.keyCode&&35===e.which)&&(f(K(e.target,"."+Xo))||e.preventDefault())}keyHandler(e){if(this.element.classList.contains(Fp))return;this.element.classList.add(wP);const t=e.target,i=this.getTabHeader(),s=W("."+cs,i);this.popEle=W("."+hW,i),f(this.popEle)||(this.popObj=this.popEle.ej2_instances[0]);const r=K(document.activeElement,"."+Zi),o=K(t,"."+Zi);switch(e.action){case"space":case"enter":if(t.parentElement.classList.contains(Fp))return;if("enter"===e.action&&t.classList.contains("e-hor-nav")){this.showPopup(this.show);break}this.keyPressed(t);break;case"tab":case"shiftTab":t.classList.contains(bh)&&!1===K(t,"."+Zi).classList.contains(cs)&&t.setAttribute("tabindex","-1"),this.popObj&&An(this.popObj.element)&&this.popObj.hide(this.hide),s.children.item(0).setAttribute("tabindex","0");break;case"moveLeft":case"moveRight":f(r)||this.refreshItemVisibility(r);break;case"openPopup":e.preventDefault(),!f(this.popEle)&&this.popEle.classList.contains("e-popup-close")&&this.popObj.show(this.show);break;case"delete":if(!0===this.showCloseButton&&!f(o)){const a=o.nextSibling;!f(a)&&a.classList.contains(Zi)&&a.firstElementChild.focus(),this.removeTab(this.getEleIndex(o))}this.setActiveBorder()}}refreshActElePosition(){const e=W("."+Zi+"."+mm+"."+cs,this.element);f(e)||this.select(this.getEleIndex(e)),this.refreshActiveBorder()}refreshItemVisibility(e){const t=W("."+this.scrCntClass,this.tbItems);if(!this.isVertical()&&!f(t)){const i=W(".e-hscroll-bar",this.tbItems),s=i.scrollLeft,r=s+i.offsetWidth,o=e.offsetLeft,a=e.offsetWidth,l=e.offsetLeft+e.offsetWidth;s<o&&r<l?i.scrollLeft=s+(a-(r-o)):s>o&&r>l&&(i.scrollLeft=s-(a-(l-s)))}}hoverHandler(e){const t=e.target;!f(t.classList)&&t.classList.contains(xP)&&t.setAttribute("title",new Na("tab",{closeButtonTitle:this.title},this.locale).getConstant("closeButtonTitle"))}evalOnPropertyChangeItems(e,t){if(e.items instanceof Array&&t.items instanceof Array)if(this.lastIndex=0,f(this.tbObj))this.reRenderItems();else{this.isRect&&this.clearTemplate(),this.setItems(e.items),this.templateEle.length>0&&this.expTemplateContent(),this.templateEle=[];const i=W(".e-tab > ."+Gi,this.element);for(;i.firstElementChild;)ie(i.firstElementChild);this.select(this.selectedItem)}else{const i=Object.keys(e.items);for(let s=0;s<i.length;s++){const r=parseInt(Object.keys(e.items)[s],10),o=Object.keys(e.items[r]);for(let a=0;a<o.length;a++){const l=Object(t.items[r])[o[a]],h=Object(e.items[r])[o[a]],c=this.element.querySelectorAll("."+Zi)[r];let d;if(c&&!f(c.id)&&""!==c.id){const m=c.id.indexOf("_");d=parseInt(c.id.substring(m+1),10)}else d=r;const u=W("."+Fl+" #"+wr+this.tabId+"_"+d,this.element),p=W("."+Gi+" #"+Gi+this.tabId+"_"+d,this.element);if("header"===o[a]||"headerTemplate"===o[a]){const m=f(this.items[r].header)||f(this.items[r].header.iconCss)?"":this.items[r].header.iconCss;if(""===(this.items[r].headerTemplate||this.items[r].header.text)&&""===m)this.removeTab(r);else{this.tbId=c.id;const b=[];b.push(this.items[r]),this.items.splice(r,1),this.itemIndexArray.splice(r,1),this.tbObj.items.splice(r,1);const v=u.classList.contains(On);ie(u),this.isReplace=!0,this.addTab(b,r),v&&this.hideTab(r),this.isReplace=!1}}if("content"===o[a]&&!f(p))if("string"!=typeof h&&!f(h.innerHTML)||"."!==h[0]&&"#"!==h[0]||!h.length)""===h&&"#"===l[0]?(document.body.appendChild(this.element.querySelector(l)).style.display="none",p.innerHTML=h):this.isReact?(p.innerHTML="",this.templateCompile(p,h,r)):"function"!=typeof h&&(p.innerHTML=h);else{const y=document.querySelector(h);p.appendChild(y),y.style.display=""}"cssClass"===o[a]&&(f(u)||(u.classList.remove(l),u.classList.add(h)),f(p)||(p.classList.remove(l),p.classList.add(h))),"disabled"===o[a]&&this.enableTab(r,!0!==h),"visible"===o[a]&&this.hideTab(r,!0!==h)}}}}initializeDrag(e){this.dragArea=f(this.dragArea)?"#"+this.element.id+" ."+Xo:this.dragArea;let t=new Vs(e,{dragArea:this.dragArea,dragTarget:"."+Zi,clone:!0,helper:this.helper.bind(this),dragStart:this.itemDragStart.bind(this),drag:i=>{let r,o,s=this.getEleIndex(this.dragItem),a={draggedItem:this.dragItem,event:i.event,target:i.target,droppedItem:i.target.closest("."+Zi),clonedElement:this.cloneElement,index:s};if(f(i.target.closest("."+wu))||i.target.closest("."+wu).isEqualNode(this.element)||this.dragArea==="."+Xo){if(i.target.closest(this.dragArea)||"Popup"===this.overflowMode?(document.body.style.cursor="",this.dragItem.querySelector("."+bh).style.visibility="hidden",this.cloneElement.classList.contains(On)&&z([this.cloneElement],On)):(document.body.style.cursor="not-allowed",B([this.cloneElement],On),this.dragItem.classList.contains(On)&&z([this.dragItem],On),this.dragItem.querySelector("."+bh).style.visibility="visible"),"Scrollable"===this.overflowMode&&!f(this.element.querySelector(".e-hscroll"))){let h=this.element.querySelector(".e-scroll-right-nav"),c=this.element.querySelector(".e-scroll-left-nav"),d=this.element.querySelector(".e-hscroll-bar");!f(h)&&Math.abs(h.offsetWidth/2+h.offsetLeft)>this.cloneElement.offsetLeft+this.cloneElement.offsetWidth&&(d.scrollLeft-=10),!f(c)&&Math.abs(c.offsetLeft+c.offsetWidth-this.cloneElement.offsetLeft)>c.offsetWidth/2&&(d.scrollLeft+=10)}this.cloneElement.style.pointerEvents="none",o=K(i.target,"."+Zi+".e-draggable");let l=0;"Scrollable"===this.overflowMode&&!f(this.element.querySelector(".e-hscroll"))&&(l=this.element.querySelector(".e-hscroll-content").offsetWidth),null!=o&&!o.isSameNode(this.dragItem)&&o.closest("."+wu).isSameNode(this.dragItem.closest("."+wu))&&(r=this.getEleIndex(o),r<s&&Math.abs(o.offsetLeft+o.offsetWidth-this.cloneElement.offsetLeft)>o.offsetWidth/2&&this.dragAction(o,s,r),r>s&&Math.abs(o.offsetWidth/2)+o.offsetLeft-l<this.cloneElement.offsetLeft+this.cloneElement.offsetWidth&&this.dragAction(o,s,r)),this.droppedIndex=this.getEleIndex(this.dragItem),this.trigger("dragging",a)}else this.trigger("dragging",a)},dragStop:this.itemDragStop.bind(this)});this.draggableItems.push(t)}helper(e){return this.cloneElement=this.createElement("div"),e.element&&(this.cloneElement=e.element.cloneNode(!0),B([this.cloneElement],"e-tab-clone-element"),this.element.querySelector("."+Xo).classList.contains(m1)&&B([this.cloneElement],m1),z([this.cloneElement.querySelector("."+bh)],"e-ripple"),f(this.cloneElement.querySelector(".e-ripple-element"))||Ue(this.cloneElement.querySelector(".e-ripple-element")),document.body.appendChild(this.cloneElement)),this.cloneElement}itemDragStart(e){this.draggingItems=this.items.map(i=>i),this.dragItem=e.element;let t={draggedItem:e.element,event:e.event,target:e.target,droppedItem:null,index:this.getEleIndex(this.dragItem),clonedElement:this.cloneElement,cancel:!1};this.trigger("onDragStart",t,i=>{i.cancel?ie(this.cloneElement):(this.removeActiveClass(),B([this.tbItems.querySelector("."+ob)],On),this.dragItem.querySelector("."+bh).style.visibility="hidden")})}dragAction(e,t,i){if(this.items.length>0){let s=this.draggingItems[t];this.draggingItems.splice(t,1),this.draggingItems.splice(i,0,s)}if("MultiRow"===this.overflowMode&&e.parentNode.insertBefore(this.dragItem,e.nextElementSibling),t>i)if(this.dragItem.parentElement.isSameNode(e.parentElement))this.dragItem.parentNode.insertBefore(this.dragItem,e);else if("Extended"===this.overflowMode)if(e.isSameNode(e.parentElement.lastChild)){let s=this.dragItem.parentNode;e.parentNode.insertBefore(this.dragItem,e),s.insertBefore(e.parentElement.lastChild,s.childNodes[0])}else this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e);else{let s=e.parentElement.lastChild;if(e.isSameNode(s)){let r=this.dragItem.parentNode;e.parentNode.insertBefore(this.dragItem,e),r.insertBefore(s,r.childNodes[0])}else this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e)}t<i&&(this.dragItem.parentElement.isSameNode(e.parentElement)?this.dragItem.parentNode.insertBefore(e,this.dragItem):"Extended"===this.overflowMode?(this.dragItem.parentElement.appendChild(e.parentElement.firstElementChild),e.parentNode.insertBefore(this.dragItem,e.nextSibling)):(this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e)))}itemDragStop(e){ie(this.cloneElement),this.dragItem.querySelector("."+bh).style.visibility="visible",document.body.style.cursor="",this.trigger("dragged",{draggedItem:this.dragItem,event:e.event,target:e.target,droppedItem:this.tbItem[this.droppedIndex],clonedElement:null,index:this.droppedIndex,cancel:!1},i=>{i.cancel?this.refresh():this.items.length>0&&this.draggingItems.length>0?(this.items=this.draggingItems,this.selectedItem=this.droppedIndex,this.refresh()):(this.dragItem.querySelector("."+bh).style.visibility="",z([this.tbItems.querySelector("."+ob)],On),this.select(this.droppedIndex))})}enableTab(e,t){const i=Ae("."+Zi,this.element)[e];f(i)||(!0===t?(i.classList.remove(Fp,EP),i.firstElementChild.setAttribute("tabindex","-1")):(i.classList.add(Fp,EP),i.firstElementChild.removeAttribute("tabindex"),i.classList.contains(cs)&&this.select(e+1)),f(this.items[e])||(this.items[e].disabled=!t,this.dataBind()),i.setAttribute("aria-disabled",!0===t?"false":"true"))}addTab(e,t){const i={addedItems:e,cancel:!1};this.isReplace?this.addingTabContent(e,t):this.trigger("adding",i,s=>{s.cancel||this.addingTabContent(e,t)}),this.isReact&&this.renderReactTemplates()}addingTabContent(e,t){let i=0;if(this.hdrEle=W("."+Xo,this.element),f(this.hdrEle))this.items=e,this.reRenderItems();else{const s=Ae("."+Zi,this.element).length;if(0!==s&&(i=this.lastIndex+1),f(t)&&(t=s-1),s<t||t<0||isNaN(t))return;0===s&&!f(this.hdrEle)&&(this.hdrEle.style.display=""),f(this.bdrLine)||this.bdrLine.classList.add(On),this.tbItems=W("."+Fl,this.getTabHeader()),this.isAdd=!0;const r=this.parseObject(e,t);this.isAdd=!1;let a,o=0;e.forEach((l,h)=>{if(a=l.headerTemplate||l.header.text,f(l.headerTemplate||l.header)||f(a)||0===a.length&&f(l.header.iconCss)||(this.items.splice(t+o,0,l),o++),this.isTemplate&&!f(l.header)&&!f(l.header.text)){const c=i+h,d=this.createElement("div",{id:Gi+this.tabId+"_"+c,className:wr,attrs:{role:"tabpanel","aria-labelledby":wr+"_"+c}});this.cntEle.insertBefore(d,this.cntEle.children[t+h]);const u=this.getTrgContent(this.cntEle,c.toString());this.getContent(u,l.content,"render",t)}}),this.tbObj.addItems(r,t),this.isReplace||this.trigger("added",{addedItems:e}),this.selectedItem===t?this.select(t):this.setActiveBorder(),this.bindDraggable()}}removeTab(e){const t=Ae("."+Zi,this.element)[e];f(t)||this.trigger("removing",{removedItem:t,removedIndex:e,cancel:!1},s=>{if(!s.cancel){this.tbObj.removeItems(e),this.allowDragAndDrop&&e!==Array.prototype.indexOf.call(this.itemIndexArray,t.id)&&(e=Array.prototype.indexOf.call(this.itemIndexArray,t.id)),this.items.splice(e,1),this.itemIndexArray.splice(e,1),this.refreshActiveBorder();const r=W("#"+Gi+this.tabId+"_"+this.extIndex(t.id),W("."+Gi,this.element));f(r)||ie(r),this.trigger("removed",s),t.classList.contains(cs)&&(e=e>Ae("."+Zi+":not(."+mm+")",this.element).length-1?e-1:e,this.enableAnimation=!1,this.selectedItem=e,this.select(e)),0===Ae("."+Zi,this.element).length&&(this.hdrEle.style.display="none"),this.enableAnimation=!0}})}hideTab(e,t){let i;const s=Ae("."+Zi,this.element)[e];if(!f(s)){if(f(t)&&(t=!0),this.bdrLine.classList.add(On),!0===t)if(s.classList.add(On),i=Ae("."+Zi+":not(."+On+")",this.tbItems),0!==i.length&&s.classList.contains(cs)){if(0!==e)for(let r=e-1;r>=0;r--){if(!this.tbItem[r].classList.contains(On)){this.select(r);break}if(0===r)for(let o=e+1;o<this.tbItem.length;o++)if(!this.tbItem[o].classList.contains(On)){this.select(o);break}}else for(let r=e+1;r<this.tbItem.length;r++)if(!this.tbItem[r].classList.contains(On)){this.select(r);break}}else 0===i.length&&this.element.classList.add(On);else this.element.classList.remove(On),i=Ae("."+Zi+":not(."+On+")",this.tbItems),s.classList.remove(On),0===i.length&&this.select(e);this.setActiveBorder(),s.setAttribute("aria-hidden",""+t),"Popup"===this.overflowMode&&this.tbObj&&this.tbObj.refreshOverflow()}}select(e,t){const i=this.getTabHeader();this.tbItems=W("."+Fl,i),this.tbItem=Ae("."+Zi,i),this.content=W("."+Gi,this.element),this.prevItem=this.tbItem[this.prevIndex],f(this.selectedItem)||this.selectedItem<0||this.tbItem.length<=this.selectedItem||isNaN(this.selectedItem)?this.selectedItem=0:this.selectedID=this.extIndex(this.tbItem[this.selectedItem].id);const s=this.tbItem[e];f(s)?this.selectedID="0":this.selectingID=this.extIndex(s.id),!f(this.prevItem)&&!this.prevItem.classList.contains(Fp)&&this.prevItem.children.item(0).setAttribute("tabindex","-1");const r={event:t,previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:this.tbItem[this.selectedItem],selectedIndex:this.selectedItem,selectedContent:f(this.content)?null:W("#"+Gi+this.tabId+"_"+this.selectedID,this.content),selectingItem:s,selectingIndex:e,selectingContent:f(this.content)?null:W("#"+Gi+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwipeed,cancel:!1};this.initRender?this.selectingContent(e):this.trigger("selecting",r,o=>{o.cancel||this.selectingContent(e)})}selectingContent(e){if("number"==typeof e){if(!f(this.tbItem[e])&&(this.tbItem[e].classList.contains(Fp)||this.tbItem[e].classList.contains(On)))for(let t=e+1;t<this.items.length;t++){if(!1===this.items[t].disabled&&!0===this.items[t].visible){e=t;break}e=0}if(this.tbItem.length>e&&e>=0&&!isNaN(e))if(this.prevIndex=this.selectedItem,this.tbItem[e].classList.contains(mm)){if(this.setActive(this.popupHandler(this.tbItem[e])),!f(this.items)&&this.items.length>0&&this.allowDragAndDrop){this.tbItem=Ae("."+Fl+" ."+Zi,this.hdrEle);let t=this.items[e];this.items.splice(e,1),this.items.splice(this.tbItem.length-1,0,t)}}else this.setActive(e);else this.setActive(0)}else e instanceof HTMLElement&&this.setActive(this.getEleIndex(e))}getItemIndex(e){let t;for(let i=0;i<this.tbItem.length;i++)if(e===this.tbItem[i].getAttribute("data-id")){t=i;break}return t}disable(e){this.setCssClass(this.element,Fp,e),this.element.setAttribute("aria-disabled",""+e)}getPersistData(){return this.addOnPersist(["selectedItem","actEleId"])}getModuleName(){return"tab"}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"width":qe(this.element,{width:Be(e.width)});break;case"height":qe(this.element,{height:Be(e.height)}),this.setContentHeight(!1);break;case"cssClass":""===t.cssClass||f(t.cssClass)||this.setCssClass(this.element,t.cssClass,!1),this.setCssClass(this.element,e.cssClass,!0);break;case"items":this.evalOnPropertyChangeItems(e,t);break;case"showCloseButton":this.setCloseButton(e.showCloseButton);break;case"selectedItem":this.selectedItem=t.selectedItem,this.select(e.selectedItem);break;case"headerPlacement":this.changeOrientation(e.headerPlacement);break;case"enableRtl":this.setRTL(e.enableRtl);break;case"overflowMode":this.tbObj.overflowMode=e.overflowMode,this.tbObj.dataBind(),this.refreshActElePosition();break;case"heightAdjustMode":this.setContentHeight(!1),this.select(this.selectedItem);break;case"scrollStep":this.tbObj&&(this.tbObj.scrollStep=this.scrollStep);break;case"allowDragAndDrop":this.bindDraggable();break;case"dragArea":this.allowDragAndDrop&&(this.draggableItems.forEach(s=>{s.dragArea=this.dragArea}),this.refresh())}}refreshActiveTab(){if(this.isReact&&this.clearTemplate(),this.isTemplate){const e=this.element.querySelector("."+Fl),t=this.element.querySelector("."+Zi+"."+cs),i=t.id,s=i.indexOf("_"),r=parseInt(i.substring(s+1),10),o=t.innerText,a=this.element.querySelector("."+Gi).querySelector("."+cs).children[0],l=a.innerHTML;ie(t),ie(a);const h={className:Zi+" "+vP+" "+cs,id:wr+this.tabId+"_"+r,attrs:{role:"tab","aria-controls":Gi+this.tabId+"_"+r,"aria-disabled":"false","aria-selected":"true"}},c=this.createElement("span",{className:g1,innerHTML:o,attrs:{role:"presentation"}}).outerHTML,d=this.createElement("div",{className:y1,innerHTML:c+this.btnCls.outerHTML}).outerHTML,u=this.createElement("div",{className:bh,innerHTML:d,attrs:{tabIndex:"-1"}});e.insertBefore(this.createElement("div",h),e.children[r+1]),this.element.querySelector("."+Zi+"."+cs).appendChild(u);const p=this.createElement("div",{innerHTML:l});this.element.querySelector("."+Gi).querySelector("."+cs).appendChild(p)}else if(this.element.querySelector("."+Zi+"."+cs)){ie(this.element.querySelector("."+Zi+"."+cs).children[0]),ie(this.element.querySelector("."+Gi).querySelector("."+cs).children[0]);const e=this.items[this.selectedItem],t=f(e.header)||f(e.header.iconPosition)?"":e.header.iconPosition,i=f(e.header)||f(e.header.iconCss)?"":e.header.iconCss,s=e.headerTemplate||e.header.text,r=this.createElement("div",{className:g1,attrs:{role:"presentation"}});let o;f(s.tagName)?this.headerTextCompile(r,s,this.selectedItem):r.appendChild(s);const a=this.createElement("span",{className:SP+" "+lW+" "+_P+"-"+t+" "+i}),l=this.createElement("div",{className:y1});l.appendChild(r),""!==s&&void 0!==s&&""!==i?("left"===t||"top"===t?l.insertBefore(a,l.firstElementChild):l.appendChild(a),o=r,this.isIconAlone=!1):(o=""===i?r:a,o===a&&(ie(r),l.appendChild(a),this.isIconAlone=!0));const h=e.disabled?{}:{tabIndex:"-1"};l.appendChild(this.btnCls.cloneNode(!0));const c=this.createElement("div",{className:bh,attrs:h});c.appendChild(l),("top"===t||"bottom"===t)&&this.element.classList.add("e-vertical-icon"),this.element.querySelector("."+Zi+"."+cs).appendChild(c);const d=this.createElement("div");let p,u=e.content;if("string"==typeof u||f(u.innerHTML))if("string"==typeof u&&this.enableHtmlSanitizer&&(u=Zn.sanitize(u)),"."===u[0]||"#"===u[0])if(document.querySelectorAll(u).length){const m=document.querySelector(u);p=m.outerHTML.trim(),d.appendChild(m),m.style.display=""}else this.compileElement(d,u,"content",this.selectedItem);else this.compileElement(d,u,"content",this.selectedItem);else d.appendChild(u);f(p)||-1===this.templateEle.indexOf(u.toString())&&this.templateEle.push(u.toString()),this.element.querySelector(".e-item."+cs).appendChild(d)}this.isReact&&this.renderReactTemplates()}};Ii([Di([],Np)],dn.prototype,"items",void 0),Ii([g("100%")],dn.prototype,"width",void 0),Ii([g("auto")],dn.prototype,"height",void 0),Ii([g("")],dn.prototype,"cssClass",void 0),Ii([g(0)],dn.prototype,"selectedItem",void 0),Ii([g("Top")],dn.prototype,"headerPlacement",void 0),Ii([g("Content")],dn.prototype,"heightAdjustMode",void 0),Ii([g("Scrollable")],dn.prototype,"overflowMode",void 0),Ii([g("Dynamic")],dn.prototype,"loadOn",void 0),Ii([g(!1)],dn.prototype,"enablePersistence",void 0),Ii([g(!1)],dn.prototype,"enableHtmlSanitizer",void 0),Ii([g(!1)],dn.prototype,"showCloseButton",void 0),Ii([g()],dn.prototype,"scrollStep",void 0),Ii([g()],dn.prototype,"dragArea",void 0),Ii([g(!1)],dn.prototype,"allowDragAndDrop",void 0),Ii([U({},AP)],dn.prototype,"animation",void 0),Ii([F()],dn.prototype,"created",void 0),Ii([F()],dn.prototype,"adding",void 0),Ii([F()],dn.prototype,"added",void 0),Ii([F()],dn.prototype,"selecting",void 0),Ii([F()],dn.prototype,"selected",void 0),Ii([F()],dn.prototype,"removing",void 0),Ii([F()],dn.prototype,"removed",void 0),Ii([F()],dn.prototype,"onDragStart",void 0),Ii([F()],dn.prototype,"dragging",void 0),Ii([F()],dn.prototype,"dragged",void 0),Ii([F()],dn.prototype,"destroyed",void 0),dn=Ii([ii],dn);var TP,ft=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const mc="e-treeview",fW="e-control",uo="e-icon-collapsible",un="e-icon-expandable",Ht="e-list-item",gm="e-list-text",Yi="e-list-parent",fd="e-hover",nl="e-active",LP="e-icons-spinner",Su="e-process",Sr="e-icons",$r="e-text-content",C1="e-input",mW="e-input-group",w1="e-tree-input",RP="e-editing",yW="e-interaction",bW="e-droppable",IP="e-dragging",iw="e-sibling",S1="e-drop-in",sw="e-drop-next",PP="e-drop-out",OP="e-no-drop",Bp="e-fullrow",ab="e-selected",_1="e-expanded",vW="e-node-collapsed",CW="e-disable",Zo="e-check",vh="e-stop",Ch="e-checkbox-wrapper",_u="e-frame",wW="e-ripple",lb="e-node-focus",SW="e-list-img",x1="e-animation-active",_W="e-disabled",xW={treeRole:"tree",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""};class Ko extends he{}ft([g("child")],Ko.prototype,"child",void 0),ft([g([])],Ko.prototype,"dataSource",void 0),ft([g("expanded")],Ko.prototype,"expanded",void 0),ft([g("hasChildren")],Ko.prototype,"hasChildren",void 0),ft([g("htmlAttributes")],Ko.prototype,"htmlAttributes",void 0),ft([g("iconCss")],Ko.prototype,"iconCss",void 0),ft([g("id")],Ko.prototype,"id",void 0),ft([g("imageUrl")],Ko.prototype,"imageUrl",void 0),ft([g("isChecked")],Ko.prototype,"isChecked",void 0),ft([g("parentID")],Ko.prototype,"parentID",void 0),ft([g(null)],Ko.prototype,"query",void 0),ft([g("selected")],Ko.prototype,"selected",void 0),ft([g(null)],Ko.prototype,"tableName",void 0),ft([g("text")],Ko.prototype,"text",void 0),ft([g("tooltip")],Ko.prototype,"tooltip",void 0),ft([g("navigateUrl")],Ko.prototype,"navigateUrl",void 0);class nw extends he{}ft([g("SlideDown")],nw.prototype,"effect",void 0),ft([g(400)],nw.prototype,"duration",void 0),ft([g("linear")],nw.prototype,"easing",void 0);class FP extends he{}ft([U({effect:"SlideUp",duration:400,easing:"linear"},nw)],FP.prototype,"collapse",void 0),ft([U({effect:"SlideDown",duration:400,easing:"linear"},nw)],FP.prototype,"expand",void 0);let gi=TP=class extends $i{constructor(e,t){super(e,t),this.isRefreshed=!1,this.preventExpand=!1,this.checkedElement=[],this.disableNode=[],this.validArr=[],this.validNodes=[],this.expandChildren=[],this.isFieldChange=!1,this.changeDataSource=!1,this.hasTemplate=!1,this.mouseDownStatus=!1}getModuleName(){return"treeview"}preRender(){this.checkActionNodes=[],this.parentNodeCheck=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:un,ariaAttributes:xW,expandIconPosition:"Left",itemCreated:e=>{this.beforeNodeCreate(e)},enableHtmlSanitizer:this.enableHtmlSanitizer,itemNavigable:this.fullRowNavigable},this.updateListProp(this.fields),this.aniObj=new qt({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.expandChildren=[],this.index=0,this.setTouchClass(),f(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),f(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),f(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0}getPersistData(){return this.addOnPersist(["selectedNodes","checkedNodes","expandedNodes"])}render(){this.initialRender=!0,this.initialize(),this.setDataBinding(!1),this.setDisabledMode(),this.setExpandOnType(),this.disabled||this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.disabled||this.wireEvents(),this.initialRender=!1,this.renderComplete()}initialize(){this.element.setAttribute("role","tree"),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)}setDisabledMode(){this.disabled?this.element.classList.add(_W):this.element.classList.remove(_W)}setEnableRtl(){(this.enableRtl?B:z)([this.element],"e-rtl")}setRipple(){this.rippleFn=rn(this.element,{selector:"."+Bp+",."+$r,ignore:"."+$r+" > ."+Sr+",."+mW+",."+C1+", ."+Ch}),this.rippleIconFn=rn(this.element,{selector:"."+$r+" > ."+Sr,isCenterRipple:!0})}setFullRow(e){(e?B:z)([this.element],"e-fullrow-wrap")}setMultiSelect(e){const t=W("."+Yi,this.element);e?t.setAttribute("aria-multiselectable","true"):t.removeAttribute("aria-multiselectable")}templateComplier(e){if(e){this.hasTemplate=!0,this.element.classList.add(yW);try{if(document.querySelectorAll(e).length)return Lr(document.querySelector(e).innerHTML.trim())}catch(t){return Lr(e)}}this.element.classList.remove(yW)}setDataBinding(e){this.treeList.push("false"),this.fields.dataSource instanceof Ot?(this.isOffline=this.fields.dataSource.dataSource.offline,this.fields.dataSource.ready?this.fields.dataSource.ready.then(t=>{this.isOffline=this.fields.dataSource.dataSource.offline,this.fields.dataSource instanceof Ot&&this.isOffline&&(this.treeList.pop(),this.treeData=t.result,this.isNumberTypeId=this.getType(),this.setRootData(),this.renderItems(!0),0===this.treeList.length&&!this.isLoaded&&this.finalize())}).catch(t=>{this.trigger("actionFailure",{error:t})}):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(t=>{this.treeList.pop(),this.treeData=t.result,this.isNumberTypeId=this.getType(),this.setRootData(),e&&(this.changeDataSource=!0),this.renderItems(!0),this.changeDataSource=!1,0===this.treeList.length&&!this.isLoaded&&this.finalize()}).catch(t=>{this.trigger("actionFailure",{error:t})})):(this.treeList.pop(),f(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),0===this.treeList.length&&!this.isLoaded&&this.finalize()}getQuery(e,t=null){let s,i=[];if(e.query)s=e.query.clone();else{s=new Ri;let r=this.getActualProperties(e);for(let o of Object.keys(r))"dataSource"!==o&&"tableName"!==o&&"child"!==o&&e[o]&&"url"!==o&&-1===i.indexOf(e[o])&&i.push(e[o]);s.select(i),r.hasOwnProperty("tableName")&&s.from(e.tableName)}return an.addSorting(this.sortOrder,e.text,s),!f(t)&&!f(e.parentID)&&s.where(e.parentID,"equal",this.isNumberTypeId?parseFloat(t):t),s}getType(){return!!this.treeData[0]&&"number"==typeof Q(this.fields.id,this.treeData[0])}setRootData(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);let e=this.getChildNodes(this.treeData,void 0,!0);this.rootData=f(e)?[]:e}else this.rootData=this.treeData}renderItems(e){this.listBaseOption.ariaAttributes.level=1;let t=this.getSortedData(this.rootData);this.ulElement=an.createList(this.createElement,e?this.rootData:t,this.listBaseOption),this.element.appendChild(this.ulElement);let i=this.ulElement.querySelectorAll(".e-list-item");if(!1===this.loadOnDemand){let r=0;for(;r<i.length;)this.renderChildNodes(i[r],!0,null,!0),r++}(1===Ae("."+Yi,this.element).length&&i&&0!==i.length||this.loadOnDemand)&&this.finalizeNode(this.element),this.parentNodeCheck=[],this.parentCheckData=[],this.updateCheckedStateFromDS(),this.autoCheck&&this.showCheckBox&&!this.isLoaded&&this.updateParentCheckState()}updateCheckedStateFromDS(e){if(this.validNodes=[],this.treeData&&this.showCheckBox){if(1===this.dataType){let t=this.fields,i=new Ot(this.treeData).executeLocal((new Ri).where(t.isChecked,"equal",!0,!1));for(let s=0;s<i.length;s++){let r=i[s][this.fields.id]?i[s][this.fields.id].toString():null;if(i[s][this.fields.parentID]&&i[s][this.fields.parentID].toString(),-1===this.checkedNodes.indexOf(r)&&!this.isLoaded&&this.checkedNodes.push(r),i[s][this.fields.hasChildren]){let a=i[s][this.fields.id],l=new Ot(this.treeData).executeLocal((new Ri).where(t.parentID,"equal",a,!1));for(let h=0;h<l.length;h++){let c=l[h][this.fields.id]?l[h][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(c)&&this.autoCheck&&this.checkedNodes.push(c)}}}for(let s=0;s<this.checkedNodes.length;s++){let r=this.fields,o=new Ot(this.treeData).executeLocal((new Ri).where(r.id,"equal",this.checkedNodes[s],!0));if(o[0]&&this.autoCheck&&(this.getCheckedNodeDetails(r,o),this.checkIndeterminateState(o[0])),o.length>0){let l=o[0][this.fields.id]?o[0][this.fields.id].toString():null;this.checkedNodes.indexOf(l)>-1&&-1===this.validNodes.indexOf(l)&&this.validNodes.push(l)}let a=new Ot(this.treeData).executeLocal((new Ri).where(r.parentID,"equal",this.checkedNodes[s],!0));for(let l=0;l<a.length;l++){let h=a[l][this.fields.id]?a[l][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(h)&&this.autoCheck&&this.checkedNodes.push(h),this.checkedNodes.indexOf(h)>-1&&-1===this.validNodes.indexOf(h)&&this.validNodes.push(h)}}}else if(2===this.dataType||this.fields.dataSource instanceof Ot&&this.isOffline)for(let t=0;t<this.treeData.length;t++){let i=this.treeData[t][this.fields.id]?this.treeData[t][this.fields.id].toString():"";this.treeData[t][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(i)&&this.checkedNodes.push(i),this.checkedNodes.indexOf(i)>-1&&-1===this.validNodes.indexOf(i)&&this.validNodes.push(i);let s=Q(this.fields.child.toString(),this.treeData[t]);s&&this.updateChildCheckState(s,this.treeData[t])}this.setProperties({checkedNodes:this.validNodes},!0)}}getCheckedNodeDetails(e,t){let i=t[0][this.fields.parentID]?t[0][this.fields.parentID].toString():null,s=0,r=this.element.querySelector('[data-uid="'+t[0][this.fields.id]+'"]'),o=this.element.querySelector('[data-uid="'+t[0][this.fields.parentID]+'"]');if(r||o)o&&(W("."+Zo,o)||this.changeState(o,"indeterminate",null,!0,!0));else{-1===this.parentNodeCheck.indexOf(i)&&this.parentNodeCheck.push(i);let l=this.getChildNodes(this.treeData,i);for(let c=0;c<l.length;c++){let d=l[c][this.fields.id]?l[c][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(d)&&s++,s===l.length&&-1===this.checkedNodes.indexOf(i)&&this.checkedNodes.push(i)}let h=new Ot(this.treeData).executeLocal((new Ri).where(e.id,"equal",i,!0));this.getCheckedNodeDetails(e,h)}}updateParentCheckState(){let t,e=Ae("."+vh,this.element);for(let i=0;i<e.length;i++){let s=K(e[i],"."+Ht),r=s.getAttribute("data-uid").toString();t=1===this.dataType?new Ot(this.treeData).executeLocal((new Ri).where(this.fields.parentID,"equal",r,!0)):this.getChildNodes(this.treeData,r);let o=0;if(t){for(let a=0;a<t.length;a++){let l=t[a][this.fields.id].toString();-1!==this.checkedNodes.indexOf(l)&&o++}if(o===t.length){let a=s.getAttribute("data-uid");-1===this.checkedNodes.indexOf(a)&&this.checkedNodes.push(a),this.changeState(s,"check",null,!0,!0)}else 0===o&&0===this.checkedNodes.length&&this.changeState(s,"uncheck",null,!0,!0)}}}checkIndeterminateState(e){let t;t=this.element.querySelector(1===this.dataType?'[data-uid="'+e[this.fields.parentID]+'"]':'[data-uid="'+e[this.fields.id]+'"]'),t?"true"!==t.querySelector("."+Ch).getAttribute("aria-checked")&&this.changeState(t,"indeterminate",null,!0,!0):2===this.dataType&&-1===this.parentNodeCheck.indexOf(e[this.fields.id].toString())&&this.parentNodeCheck.push(e[this.fields.id].toString())}updateChildCheckState(e,t){let i=0,s=t[this.fields.id]?t[this.fields.id].toString():"";for(let r=0;r<e.length;r++){let o=e[r][this.fields.id]?e[r][this.fields.id].toString():"";e[r][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o),-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(o)&&this.autoCheck&&this.checkedNodes.push(o),-1!==this.checkedNodes.indexOf(o)&&this.autoCheck&&i++,this.checkedNodes.indexOf(o)>-1&&-1===this.validNodes.indexOf(o)&&this.validNodes.push(o);let a=Q(this.fields.child.toString(),e[r]);a&&(this.parentCheckData.push(t),this.updateChildCheckState(a,e[r])),i===e.length&&this.autoCheck&&-1===this.checkedNodes.indexOf(s)&&this.checkedNodes.push(s)}if(0!==i&&this.autoCheck){this.checkIndeterminateState(t);for(let r=0;r<this.parentCheckData.length;r++)t!==this.parentCheckData[r]&&this.parentCheckData[r]&&this.checkIndeterminateState(this.parentCheckData[r])}this.parentCheckData=[]}beforeNodeCreate(e){if(this.showCheckBox){let s=function(n,e=!1,t={}){const i=n("div",{className:"e-checkbox-wrapper e-css"});if(t.cssClass&&B([i],t.cssClass.split(" ")),t.enableRtl&&i.classList.add("e-rtl"),e){const r=n("span",{className:"e-ripple-container"});rn(r,{isCenterRipple:!0,duration:400}),i.appendChild(r)}const s=n("span",{className:"e-frame e-icons"});if(t.checked&&s.classList.add("e-check"),i.appendChild(s),t.label){const r=n("span",{className:"e-label"});t.disableHtmlEncode?r.textContent=t.label:r.innerHTML=t.label,i.appendChild(r)}return i}(this.createElement,!0,{cssClass:this.touchClass});s.setAttribute("role","checkbox");let r=W("div."+Sr,e.item),o=e.item.getAttribute("data-uid");e.item.childNodes[0].insertBefore(s,e.item.childNodes[0].childNodes[f(r)?0:1]);let a=Q(e.fields.isChecked,e.curData);this.checkedNodes.indexOf(o)>-1?(W("."+_u,s).classList.add(Zo),s.setAttribute("aria-checked","true"),this.addCheck(e.item)):f(a)||"true"!==a.toString()?s.setAttribute("aria-checked","false"):(W("."+_u,s).classList.add(Zo),s.setAttribute("aria-checked","true"),this.addCheck(e.item));let l=W("."+_u,s);S.add(l,"mousedown",this.frameMouseHandler,this),S.add(l,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(e.item),this.allowMultiSelection&&!e.item.classList.contains(ab)&&e.item.setAttribute("aria-selected","false");let t=e.fields;if(this.addActionClass(e,t.selected,ab),this.addActionClass(e,t.expanded,_1),!f(this.nodeTemplateFn)){let s=e.item.querySelector("."+gm),r=e.item.getAttribute("data-uid");s.innerHTML="",this.renderNodeTemplate(e.curData,s,r)}this.isRefreshed||this.trigger("drawNode",{node:e.item,nodeData:e.curData,text:e.text})}frameMouseHandler(e){fC(e,W(".e-ripple-container",e.target.parentElement))}addActionClass(e,t,i){let r=Q(t,e.curData);!f(r)&&"false"!==r.toString()&&e.item.classList.add(i)}getDataType(e,t){if(this.fields.dataSource instanceof Ot){for(let i=0;i<e.length;i++)if(this.isOffline){if("string"==typeof t.child&&f(Q(t.child,e[i]))&&!f(Q(t.parentID,e[i])))return 1}else if("string"==typeof t.child&&f(Q(t.child,e[i])))return 1;return 2}for(let i=0,s=e.length;i<s;i++){if("string"==typeof t.child&&!f(Q(t.child,e[i])))return 2;if(!f(Q(t.parentID,e[i]))||!f(Q(t.hasChildren,e[i])))return 1}return 1}getGroupedData(e,t){let i=(new Ri).group(t),s=an.getDataSource(e,i),r=[];for(let o=0;o<s.length;o++)r.push(s[o].items);return r}getSortedData(e){return e&&"None"!==this.sortOrder&&(e=an.getDataSource(e,an.addSorting(this.sortOrder,this.fields.text))),e}finalizeNode(e){let t=Ae("."+SW,e);for(let r=0;r<t.length;r++)t[r].setAttribute("alt",SW);if(this.isLoaded){let r=Ae("."+ab,e);for(let o=0;o<r.length;o++){this.selectNode(r[o],null);break}z(r,ab)}let i=Ae("."+Ht+":not(."+_1+")",e);for(let r=0;r<i.length;r++){let o=W("div."+Sr,i[r]);o&&o.classList.contains(un)&&this.disableExpandAttr(i[r])}let s=Ae("."+_1,e);if(!this.isInitalExpand)for(let r=0;r<s.length;r++)this.renderChildNodes(s[r]);z(s,_1),this.updateList(),this.isLoaded&&this.updateCheckedProp()}updateCheckedProp(){if(this.showCheckBox){let e=[].concat([],this.checkedNodes);this.setProperties({checkedNodes:e},!0)}}ensureIndeterminate(){if(this.autoCheck){let t,e=Ae("li",this.element);for(let i=0;i<e.length;i++)e[i].classList.contains(Ht)&&(t=W("."+Yi,e[i]),t?this.ensureParentCheckState(e[i]):this.ensureChildCheckState(e[i]))}else{let e=Ae("."+vh,this.element);for(let t=0;t<e.length;t++)e[t].classList.remove(vh)}}ensureParentCheckState(e){if(!f(e)){if(e.classList.contains(mc))return;let t=e;e.classList.contains(Ht)&&(t=W("."+Yi,e));let i=Ae("."+Zo,t),s=Ae("."+vh,t),r=Ae("."+Ht,t),o=e.getElementsByClassName(Ch)[0];r.length===i.length?this.changeState(o,"check",null,!0,!0):i.length>0||s.length>0?this.changeState(o,"indeterminate",null,!0,!0):0===i.length&&this.changeState(o,"uncheck",null,!0,!0);let a=K(e,"."+Yi);if(!f(a)){let l=K(a,"."+Ht);this.ensureParentCheckState(l)}}}ensureChildCheckState(e,t){if(!f(e)){let s,i=W("."+Yi,e);if(!f(i)){s=Ae("."+Ch,i);let h,r=e.getElementsByClassName(_u)[0].classList.contains(Zo),o=e.getElementsByClassName(_u)[0].classList.contains(vh),a=i.querySelectorAll("li");i.parentElement.getAttribute("aria-expanded");for(let c=0;c<s.length;c++){let d=a[c].getAttribute("data-uid");if(f(this.currentLoadData)||f(Q(this.fields.isChecked,this.currentLoadData[c]))){let u=s[c].getElementsByClassName(_u)[0].classList.contains(Zo);r||u&&!this.isLoaded||-1!==this.checkedNodes.indexOf(d)&&this.isLoaded&&(o||r)?h="check":a[c].classList.contains("e-has-child")&&!St(this.parentNodeCheck)&&this.autoCheck&&(r||o)&&-1!==this.parentNodeCheck.indexOf(d)||1===this.dataType&&!St(this.parentNodeCheck)&&this.autoCheck&&(r||o)&&-1!==this.parentNodeCheck.indexOf(d)?(h="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(d),1)):h="uncheck"}else h=Q(this.fields.isChecked,this.currentLoadData[c])?"check":"uncheck",-1!==this.ele&&(h=r?"check":"uncheck"),"uncheck"===h&&!St(this.parentNodeCheck)&&this.autoCheck&&-1!==this.parentNodeCheck.indexOf(d)&&(this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(d),1),h="indeterminate");this.changeState(s[c],h,t,!0,!0)}}this.autoCheck&&this.isLoaded&&this.updateParentCheckState()}}doCheckBoxAction(e,t){if(Ae("."+Ht,this.element),f(e)){let s=Ae("."+Ch,this.element);if(this.loadOnDemand)for(let r=0;r<s.length;r++)this.updateFieldChecked(s[r],t),this.changeState(s[r],t?"check":"uncheck",null,null,null,t);else for(let r=0;r<s.length;r++)this.updateFieldChecked(s[r],t),this.changeState(s[r],t?"check":"uncheck")}else for(let s=e.length;s>=0;s--){let r;if(r=this.getElement(1===e.length?e[s-1]:e[s]),f(r)){let a;if(a=e[s-e.length]?e[s-e.length].toString():e[s]?e[s].toString():null,""!==a&&t&&a)this.setValidCheckedNode(a),this.dynamicCheckState(a,t);else if(-1!==this.checkedNodes.indexOf(a)&&""!==a&&!t){this.checkedNodes.splice(this.checkedNodes.indexOf(a),1);let l=this.getChildNodes(this.treeData,a);if(l){for(let h=0;h<l.length;h++){let c=l[h][this.fields.id]?l[h][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(c)&&this.checkedNodes.splice(this.checkedNodes.indexOf(c),1)}-1!==this.parentNodeCheck.indexOf(a)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(a),1)}a&&this.dynamicCheckState(a,t),this.updateField(this.treeData,this.fields,a,"isChecked",null)}continue}let o=W("."+Yi+" ."+Ch,r);this.validateCheckNode(o,!t,r,null)}if(e)for(let s=0;s<e.length;s++){let r=e[s]?e[s].toString():"";t||this.updateField(this.treeData,this.fields,r,"isChecked",null)}this.autoCheck&&this.updateParentCheckState()}updateFieldChecked(e,t){let i=K(e,"."+Ht),s=i.getAttribute("data-uid");"true"===this.getNodeData(i).isChecked&&!t&&this.updateField(this.treeData,this.fields,s,"isChecked",null)}dynamicCheckState(e,t){if(1===this.dataType){let i=0,s=new Ot(this.treeData).executeLocal((new Ri).where(this.fields.id,"equal",e,!0));if(s[0]){let r=s[0][this.fields.id]?s[0][this.fields.id].toString():null,o=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null,a=this.element.querySelector('[data-uid="'+o+'"]'),c=(a&&W("."+vh,a),a&&W("."+Zo,a),this.element.querySelector('[data-uid="'+r+'"]')),d=this.getChildNodes(this.treeData,o);if(d)for(let u=0;u<d.length;u++){let p=d[u][this.fields.id]?d[u][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(p)&&i++}-1!==this.checkedNodes.indexOf(e)&&a&&r===e&&this.autoCheck?this.changeState(a,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&c&&r===e&&!t?this.changeState(c,"uncheck",null):-1!==this.checkedNodes.indexOf(e)&&c&&r===e&&t?this.changeState(c,"check",null):-1===this.checkedNodes.indexOf(e)&&!c&&a&&r===e&&this.autoCheck&&0!==i?this.changeState(a,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&!c&&a&&r===e&&this.autoCheck&&0===i?this.changeState(a,"uncheck",null):!c&&!a&&r===e&&this.autoCheck&&this.updateIndeterminate(e,t)}}else if(2===this.dataType||this.fields.dataSource instanceof Ot&&this.isOffline){let i,s,r;for(let o=0;o<this.treeData.length;o++){i=this.treeData[o][this.fields.id]?this.treeData[o][this.fields.id].toString():"",s=this.element.querySelector('[data-uid="'+i+'"]'),r=s?W("."+Zo,s):null,-1===this.checkedNodes.indexOf(i)&&s&&r&&!t&&this.changeState(s,"uncheck",null);let a=Q(this.fields.child.toString(),this.treeData[o]);a&&this.updateChildIndeterminate(a,i,e,t,i)}}}updateIndeterminate(e,t){let r,i=this.getTreeData(e),s=0;1===this.dataType&&(r=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null);let o=this.getChildNodes(this.treeData,r);if(o)for(let l=0;l<o.length;l++){let h=o[l][this.fields.id]?o[l][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(h)&&s++}let a=this.element.querySelector('[data-uid="'+r+'"]');a&&t||!t&&a&&-1===this.parentNodeCheck.indexOf(r)&&0!==s?this.changeState(a,"indeterminate",null):!t&&a&&-1===this.parentNodeCheck.indexOf(r)&&0===s?this.changeState(a,"uncheck",null):a||(t||-1!==this.checkedNodes.indexOf(r)||-1===this.parentNodeCheck.indexOf(r)?(t&&-1===this.checkedNodes.indexOf(r)&&-1===this.parentNodeCheck.indexOf(r)||!t&&-1!==this.checkedNodes.indexOf(r)&&-1===this.parentNodeCheck.indexOf(r)&&0!==s)&&this.parentNodeCheck.push(r):this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(r),1),this.updateIndeterminate(r,t),-1!==this.checkedNodes.indexOf(r)&&!t&&this.checkedNodes.splice(this.checkedNodes.indexOf(r),1))}updateChildIndeterminate(e,t,i,s,r){let o=0;for(let a=0;a<e.length;a++){let l=e[a][this.fields.id]?e[a][this.fields.id].toString():"";-1!==this.checkedNodes.indexOf(l)&&o++;let h=this.element.querySelector('[data-uid="'+t+'"]'),c=h?W("."+vh,h):null,d=h?W("."+Zo,h):null,u=this.element.querySelector('[data-uid="'+l+'"]'),p=u?W("."+Zo,u):null;if(-1!==this.checkedNodes.indexOf(i)&&h&&l===i&&this.autoCheck)this.changeState(h,"indeterminate",null);else if(-1!==this.checkedNodes.indexOf(i)||!h||u||l!==i||s){if(-1===this.checkedNodes.indexOf(i)&&u&&l===i&&!s)this.changeState(u,"uncheck",null);else if(-1===this.checkedNodes.indexOf(i)&&c&&l===i&&this.autoCheck&&0===o&&!s)c.classList.remove(vh);else if(-1===this.checkedNodes.indexOf(i)&&!u&&d&&l===i&&0===o)this.changeState(h,"uncheck",null);else if(-1===this.checkedNodes.indexOf(l)&&u&&p&&0===o)this.changeState(u,"uncheck",null);else if(!u&&!h&&l===i||-1!==this.parentNodeCheck.indexOf(t)&&this.autoCheck){let y=this.element.querySelector('[data-uid="'+r+'"]');s&&0!==o?this.changeState(y,"indeterminate",null):s&&o===e.length&&-1===this.checkedNodes.indexOf(t)?this.checkedNodes.push(t):!s&&0===o&&-1!==this.parentNodeCheck.indexOf(t)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(t)),-1===this.parentNodeCheck.indexOf(t)&&this.parentNodeCheck.push(t)}}else this.changeState(h,this.autoCheck?"uncheck":0!==o?"indeterminate":"uncheck",null);let m=Q(this.fields.child.toString(),e[a]);m&&this.updateChildIndeterminate(m,l,i,s,r)}}changeState(e,t,i,s,r,o){let a,l=K(e,"."+Ht);s?this.nodeCheckAction(e,t,l,a,i,s,r,o):(this.checkActionNodes=[],a=this.getCheckEvent(l,t,i),this.trigger("nodeChecking",a,h=>{h.cancel||this.nodeCheckAction(e,t,l,h,i,s,r,o)}))}nodeCheckAction(e,t,i,s,r,o,a,l){let h,c=e.getElementsByClassName(_u)[0];if("check"!==t||c.classList.contains(Zo)?"uncheck"===t&&(c.classList.contains(Zo)||c.classList.contains(vh))?(z([c],[Zo,vh]),this.removeCheck(i),h="false"):"indeterminate"===t&&this.autoCheck&&(c.classList.remove(Zo),c.classList.add(vh),this.removeCheck(i),h="mixed"):(c.classList.remove(vh),c.classList.add(Zo),this.addCheck(i),h="true"),h="check"===t?"true":"uncheck"===t?"false":h,f(h)||e.setAttribute("aria-checked",h),a){let d=[].concat([],this.checkActionNodes);s=this.getCheckEvent(i,t,r),St(o)&&(s.data=d)}void 0!==l&&this.ensureStateChange(i,l),o||f(h)||(e.setAttribute("aria-checked",h),s.data[0].checked=h,this.trigger("nodeChecked",s),this.checkActionNodes=[])}addCheck(e){let t=e.getAttribute("data-uid");!f(t)&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t)}removeCheck(e){let t=this.checkedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.checkedNodes.splice(t,1)}getCheckEvent(e,t,i){this.checkActionNodes.push(this.getNodeData(e));let s=this.checkActionNodes;return{action:t,cancel:!1,isInteracted:!f(i),node:e,data:s}}finalize(){let e=W("."+Yi,this.element);if(!f(e)){e.setAttribute("role",xW.treeRole),this.setMultiSelect(this.allowMultiSelection);let t=W("."+Ht,this.element);t&&(B([t],lb),this.updateIdAttr(null,t)),this.renderReactTemplates(),this.hasPid=!!this.rootData[0]&&this.rootData[0].hasOwnProperty(this.fields.parentID),this.doExpandAction()}}doExpandAction(){let e=this.expandedNodes;if(this.isInitalExpand&&e.length>0)if(this.setProperties({expandedNodes:[]},!0),this.fields.dataSource instanceof Ot)this.expandGivenNodes(e);else{for(let t=0;t<e.length;t++){let i=W('[data-uid="'+e[t]+'"]',this.element);if(f(i))e[t]&&-1===this.expandChildren.indexOf(e[t])&&this.expandChildren.push(e[t].toString());else{let s=W("."+un,W("."+$r,i));f(s)||this.expandAction(i,s,null)}}this.afterFinalized()}else this.afterFinalized()}expandGivenNodes(e){let t=this;this.expandCallback(e[this.index],()=>{t.index++,t.index<e.length?t.expandGivenNodes(e):t.afterFinalized()})}expandCallback(e,t){let i=W('[data-uid="'+e+'"]',this.element);if(f(i))t();else{let s=W("."+un,W("."+$r,i));f(s)?t():this.expandAction(i,s,null,!1,t)}}afterFinalized(){this.doSelectionAction(),this.updateCheckedProp(),this.isAnimate=!0,this.isInitalExpand=!1,(!this.isLoaded||this.isFieldChange)&&this.trigger("dataBound",{data:this.treeData}),this.isLoaded=!0}doSelectionAction(){let e=Ae("."+ab,this.element),t=this.selectedNodes;if(t.length>0){this.setProperties({selectedNodes:[]},!0);for(let i=0;i<t.length;i++){let s=W('[data-uid="'+t[i]+'"]',this.element);if(s&&!s.classList.contains("e-active")?this.selectNode(s,null,!0):this.selectedNodes.push(t[i]),!this.allowMultiSelection)break}}else this.selectGivenNodes(e);z(e,ab)}selectGivenNodes(e){for(let t=0;t<e.length&&(e[t].classList.contains("e-disable")||this.selectNode(e[t],null,!0),this.allowMultiSelection);t++);}clickHandler(e){let t=e.originalEvent.target;if(S.remove(this.element,"contextmenu",this.preventContextMenu),t&&!this.dragStartAction){let i=t.classList,s=K(t,"."+Ht);if(!s)return;if(3!==e.originalEvent.which){let r=W(".e-ripple-element",s),o=W("."+Sr,s);if(this.removeHover(),this.setFocusElement(s),this.showCheckBox&&!s.classList.contains("e-disable")){let a=K(t,"."+Ch);if(!f(a)){let l=W("."+_u,a);return this.validateCheckNode(a,l.classList.contains(Zo),s,e.originalEvent),void this.triggerClickEvent(e.originalEvent,s)}}i.contains(un)?this.expandAction(s,t,e):i.contains(uo)?this.collapseNode(s,t,e):r&&o?o.classList.contains(wW)&&o.classList.contains(un)?this.expandAction(s,o,e):o.classList.contains(wW)&&o.classList.contains(uo)?this.collapseNode(s,o,e):!i.contains(Yi)&&!i.contains(Ht)&&this.toggleSelect(s,e.originalEvent,!1):!i.contains(Yi)&&!i.contains(Ht)&&this.toggleSelect(s,e.originalEvent,!1)}this.triggerClickEvent(e.originalEvent,s)}}nodeCheckedEvent(e,t,i){K(e,"."+Ht);let r=this.getCheckEvent(e,t?"uncheck":"check",i);r.data=r.data.splice(0,r.data.length-1),this.trigger("nodeChecked",r)}triggerClickEvent(e,t){this.trigger("nodeClicked",{event:e,node:t})}expandNode(e,t,i){if(this.renderReactTemplates(),t.classList.contains(LP)&&this.hideSpinner(t),this.initialRender||t.classList.add("interaction"),!0!==i||!0===i&&e.classList.contains("e-expanded")){if(!0!==this.preventExpand){z([t],un),B([t],uo);let s=0,r=0,o=this,a=W("."+Yi,e),l=e;this.setHeight(l,a);let h=W("."+Ht+"."+nl,e);this.isAnimate&&!this.isRefreshed?this.aniObj.animate(a,{name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:c=>{l.style.overflow="hidden",!f(h)&&h instanceof HTMLElement&&h.classList.add(x1),s=l.offsetHeight,r=W("."+$r,e).offsetHeight},progress:c=>{c.element.style.display="block",o.animateHeight(c,s,r)},end:c=>{c.element.style.display="block",!f(h)&&h instanceof HTMLElement&&h.classList.remove(x1),this.expandedNode(l,a,t)}}):this.expandedNode(l,a,t)}}else W("."+Yi,e).style.display="none",this.fields.dataSource instanceof Ot&&(this.preventExpand=!1);this.initialRender&&t.classList.add("interaction")}expandedNode(e,t,i){t.style.display="block",e.style.display="block",e.style.overflow="",e.style.height="",z([i],Su),this.addExpand(e),this.isLoaded&&this.expandArgs&&!this.isRefreshed&&(this.expandArgs=this.getExpandEvent(e,null),this.trigger("nodeExpanded",this.expandArgs))}addExpand(e){e.setAttribute("aria-expanded","true"),z([e],vW);let t=e.getAttribute("data-uid");!f(t)&&-1===this.expandedNodes.indexOf(t)&&this.expandedNodes.push(t)}collapseNode(e,t,i){if(t.classList.contains(Su))return;let s;B([t],Su),this.isLoaded?(s=this.getExpandEvent(e,i),this.trigger("nodeCollapsing",s,r=>{r.cancel?z([t],Su):this.nodeCollapseAction(e,t,r)})):this.nodeCollapseAction(e,t,s)}nodeCollapseAction(e,t,i){z([t],uo),B([t],un);let s=0,r=0,o=this,a=W("."+Yi,e),l=e,h=W("."+Ht+"."+nl,e);this.isAnimate?this.aniObj.animate(a,{name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:c=>{l.style.overflow="hidden",!f(h)&&h instanceof HTMLElement&&h.classList.add(x1),s=W("."+$r,e).offsetHeight,r=l.offsetHeight},progress:c=>{o.animateHeight(c,s,r)},end:c=>{c.element.style.display="none",!f(h)&&h instanceof HTMLElement&&h.classList.remove(x1),this.collapsedNode(l,a,t,i)}}):this.collapsedNode(l,a,t,i)}collapsedNode(e,t,i,s){t.style.display="none",e.style.overflow="",e.style.height="",z([i],Su),this.removeExpand(e),this.isLoaded&&(s=this.getExpandEvent(e,null),this.trigger("nodeCollapsed",s))}removeExpand(e,t){t?e.removeAttribute("aria-expanded"):this.disableExpandAttr(e);let i=this.expandedNodes.indexOf(e.getAttribute("data-uid"));i>-1&&this.expandedNodes.splice(i,1)}disableExpandAttr(e){e.setAttribute("aria-expanded","false"),B([e],vW)}setHeight(e,t){t.style.display="block",t.style.visibility="hidden",e.style.height=e.offsetHeight+"px",t.style.display="none",t.style.visibility=""}animateHeight(e,t,i){e.element.parentElement.style.height=(e.duration-e.timeStamp)/e.duration*(i-t)+t+"px"}renderChildNodes(e,t,i,s){let o,r=W("div."+Sr,e);if(!f(r))if(this.showSpinner(r),this.fields.dataSource instanceof Ot){let a=this.parents(e,"."+Yi).length,l=this.getChildFields(this.fields,a,1);if(f(l)||f(l.dataSource))return ie(r),void this.removeExpand(e,!0);this.treeList.push("false"),this.fields.dataSource instanceof Ot&&this.isOffline?(this.treeList.pop(),o=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.loadChild(o,l,r,e,t,i,s)):l.dataSource.executeQuery(this.getQuery(l,e.getAttribute("data-uid"))).then(h=>{this.treeList.pop(),o=h.result,1===this.dataType&&(this.dataType=2),this.loadChild(o,l,r,e,t,i,s)}).catch(h=>{this.trigger("actionFailure",{error:h})})}else{if(o=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.currentLoadData=this.getSortedData(o),f(o)||0===o.length)return ie(r),void this.removeExpand(e,!0);this.listBaseOption.ariaAttributes.level=parseFloat(e.getAttribute("aria-level"))+1,e.appendChild(an.createList(this.createElement,this.currentLoadData,this.listBaseOption)),this.expandNode(e,r,s),this.setSelectionForChildNodes(o),this.ensureCheckNode(e),this.finalizeNode(e),this.disableTreeNodes(o),this.renderSubChild(e,t,s)}}loadChild(e,t,i,s,r,o,a){if(this.currentLoadData=e,f(e)||0===e.length)ie(i),this.removeExpand(s,!0);else{if(this.updateListProp(t),this.fields.dataSource instanceof Ot&&!this.isOffline){let l=s.getAttribute("data-uid");Oi("child",e,this.getNodeObject(l))}this.listBaseOption.ariaAttributes.level=parseFloat(s.getAttribute("aria-level"))+1,s.appendChild(an.createList(this.createElement,e,this.listBaseOption)),this.expandNode(s,i,a),this.setSelectionForChildNodes(e),this.ensureCheckNode(s),this.finalizeNode(s),this.disableTreeNodes(e),this.renderSubChild(s,r,a)}o&&o(),0===this.treeList.length&&!this.isLoaded&&this.finalize()}disableTreeNodes(e){let t=0;for(;t<e.length;){let i=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.disableNode&&-1!==this.disableNode.indexOf(i)&&this.doDisableAction([i]),t++}}setSelectionForChildNodes(e){let t;for(t=0;t<e.length;t++){let i=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.selectedNodes&&-1!==this.selectedNodes.indexOf(i)&&this.doSelectionAction()}}ensureCheckNode(e){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(e.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(e),this.ensureParentCheckState(e))),this.currentLoadData=null}getFields(e,t,i){return t===i?e:this.getFields(this.getChildMapper(e),t,i+1)}getChildFields(e,t,i){return t===i?this.getChildMapper(e):this.getChildFields(this.getChildMapper(e),t,i+1)}getChildMapper(e){return"string"==typeof e.child||f(e.child)?e:e.child}getChildNodes(e,t,i=!1){let s;if(f(e))return s;if(1===this.dataType)return this.getChildGroup(this.groupedData,t,i);if("string"==typeof this.fields.child)for(let r=0,o=e.length;r<o;r++){let a=Q(this.fields.id,e[r]);if(a&&a.toString()===t)return Q(this.fields.child,e[r]);if(!f(Q(this.fields.child,e[r]))&&(s=this.getChildNodes(Q(this.fields.child,e[r]),t),void 0!==s))break}return s}getChildGroup(e,t,i){let s;if(f(e))return s;for(let r=0,o=e.length;r<o;r++){if(f(e[r][0])||f(Q(this.fields.parentID,e[r][0])))return i?e[r]:[];if(Q(this.fields.parentID,e[r][0]).toString()===t)return e[r]}return s}renderSubChild(e,t,i){if(t){let s=Ae("."+un,e);for(let r=0,o=s.length;r<o;r++){let a=s[r];if(e.querySelector(".e-icons")!==s[r]){let l=K(a,"."+Ht);this.expandArgs=this.getExpandEvent(l,null),!0!==i&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(l,t,null,i)}}}}toggleSelect(e,t,i){e.classList.contains("e-disable")||(this.allowMultiSelection&&(t&&t.ctrlKey||i)&&this.isActive(e)?this.unselectNode(e,t):this.selectNode(e,t,i))}isActive(e){return!!e.classList.contains(nl)}selectNode(e,t,i){if(f(e)||!this.allowMultiSelection&&this.isActive(e)&&!f(t))return void this.setFocusElement(e);let s;this.isLoaded?(s=this.getSelectEvent(e,"select",t),this.trigger("nodeSelecting",s,r=>{r.cancel||this.nodeSelectAction(e,t,r,i)})):this.nodeSelectAction(e,t,s,i)}nodeSelectAction(e,t,i,s){if((!this.allowMultiSelection||!s&&(!t||t&&!t.ctrlKey))&&this.removeSelectAll(),this.allowMultiSelection&&t&&t.shiftKey){this.startNode||(this.startNode=e);let r=this.liList.indexOf(this.startNode),o=this.liList.indexOf(e);if(r>o){let a=r;r=o,o=a}for(let a=r;a<=o;a++){let l=this.liList[a];An(l)&&!l.classList.contains("e-disable")&&this.addSelect(l)}}else this.startNode=e,this.addSelect(e);this.setFocusElement(e),this.isLoaded&&(i.nodeData=this.getNodeData(e),this.trigger("nodeSelected",i))}unselectNode(e,t){let i;this.isLoaded?(i=this.getSelectEvent(e,"un-select",t),this.trigger("nodeSelecting",i,s=>{s.cancel||this.nodeUnselectAction(e,s)})):this.nodeUnselectAction(e,i)}nodeUnselectAction(e,t){this.removeSelect(e),this.setFocusElement(e),this.isLoaded&&(t.nodeData=this.getNodeData(e),this.trigger("nodeSelected",t))}setFocusElement(e){if(!f(e)){let t=this.getFocusedNode();t&&z([t],lb),B([e],lb),this.updateIdAttr(t,e)}}addSelect(e){e.setAttribute("aria-selected","true"),B([e],nl);let t=e.getAttribute("data-uid");!f(t)&&-1===this.selectedNodes.indexOf(t)&&this.selectedNodes.push(t)}removeSelect(e){this.allowMultiSelection?e.setAttribute("aria-selected","false"):e.removeAttribute("aria-selected"),z([e],nl);let t=this.selectedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.selectedNodes.splice(t,1)}removeSelectAll(){let e=this.element.querySelectorAll("."+nl);for(let t of e)this.allowMultiSelection?t.setAttribute("aria-selected","false"):t.removeAttribute("aria-selected");z(e,nl),this.setProperties({selectedNodes:[]},!0)}getSelectEvent(e,t,i){let s=this.getNodeData(e);return{action:t,cancel:!1,isInteracted:!f(i),node:e,nodeData:s}}setExpandOnType(){this.expandOnType="Auto"===this.expandOn?T.isDevice?"Click":"DblClick":this.expandOn}expandHandler(e){let t=e.originalEvent.target;!t||t.classList.contains(C1)||t.classList.contains(mc)||t.classList.contains(Yi)||t.classList.contains(Ht)||t.classList.contains(Sr)||this.showCheckBox&&K(t,"."+Ch)||this.expandCollapseAction(K(t,"."+Ht),e)}expandCollapseAction(e,t){let i=W("div."+Sr,e);if(i&&!i.classList.contains(Su)){let s=i.classList;s.contains(un)?this.expandAction(e,i,t):s.contains(uo)&&this.collapseNode(e,i,t)}}expandAction(e,t,i,s,r){t.classList.contains(Su)||(B([t],Su),this.isLoaded&&!this.isRefreshed?(this.expandArgs=this.getExpandEvent(e,i),this.trigger("nodeExpanding",this.expandArgs,o=>{o.cancel?z([t],Su):this.nodeExpandAction(e,t,s,r)})):this.nodeExpandAction(e,t,s,r))}nodeExpandAction(e,t,i,s){let r=W("."+Yi,e);if(r&&"UL"===r.nodeName)this.expandNode(e,t);else{this.renderChildNodes(e,i,s);let o=Ae("."+Ht,e);for(let a=0;a<o.length;a++){let l=this.getId(o[a]);if(-1!==this.expandChildren.indexOf(l)&&void 0!==this.expandChildren){let h=W("."+un,W("."+$r,o[a]));f(h)||this.expandAction(o[a],h,null),this.expandChildren.splice(this.expandChildren.indexOf(l),1)}}}}keyActionHandler(e){let t=e.target,i=this.getFocusedNode();if(t&&t.classList.contains(C1)){let r=t;"enter"===e.action?(r.blur(),this.element.focus(),B([i],fd)):"escape"===e.action&&(r.value=this.oldText,r.blur(),this.element.focus(),B([i],fd))}else e.preventDefault(),this.trigger("keyPress",{cancel:!1,event:e,node:i},r=>{if(!r.cancel)switch(e.action){case"space":this.showCheckBox&&this.checkNode(e);break;case"moveRight":this.openNode(!this.enableRtl,e);break;case"moveLeft":this.openNode(!!this.enableRtl,e);break;case"shiftDown":this.shiftKeySelect(!0,e);break;case"moveDown":case"ctrlDown":case"csDown":this.navigateNode(!0);break;case"shiftUp":this.shiftKeySelect(!1,e);break;case"moveUp":case"ctrlUp":case"csUp":this.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":this.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":this.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":this.toggleSelect(i,e);break;case"f2":this.allowEditing&&!i.classList.contains("e-disable")&&this.createTextbox(i,e);break;case"ctrlA":if(this.allowMultiSelection){let o=Ae("."+Ht+":not(."+nl+")",this.element);this.selectGivenNodes(o)}}})}navigateToFocus(e){let t=this.getFocusedNode().querySelector("."+$r),i=t.getBoundingClientRect(),s=this.getScrollParent(this.element);if(!f(s)){let o=s.getBoundingClientRect();i.bottom>o.bottom?s.scrollTop+=i.bottom-o.bottom:i.top<o.top&&(s.scrollTop-=o.top-i.top)}this.isVisibleInViewport(t)||t.scrollIntoView(e)}isVisibleInViewport(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}getScrollParent(e){return f(e)?null:e.scrollHeight>e.clientHeight?e:this.getScrollParent(e.parentElement)}shiftKeySelect(e,t){if(this.allowMultiSelection){let i=this.getFocusedNode(),s=e?this.getNextNode(i):this.getPrevNode(i);this.removeHover(),this.setFocusElement(s),this.toggleSelect(s,t,!1),this.navigateToFocus(!e)}else this.navigateNode(e)}checkNode(e){let t=this.getFocusedNode(),i=W("."+Ch,t),s=W(" ."+_u,i).classList.contains(Zo);t.classList.contains("e-disable")||0==t.getElementsByClassName("e-checkbox-disabled").length&&this.validateCheckNode(i,s,t,e)}validateCheckNode(e,t,i,s){let r=K(e,"."+Ht);this.checkActionNodes=[];let o=t?"false":"true";f(o)||e.setAttribute("aria-checked",o);let a=this.getCheckEvent(r,t?"uncheck":"check",s);this.trigger("nodeChecking",a,l=>{l.cancel||this.nodeCheckingAction(e,t,i,l,s)})}nodeCheckingAction(e,t,i,s,r){if(-1===this.checkedElement.indexOf(i.getAttribute("data-uid"))){this.checkedElement.push(i.getAttribute("data-uid"));let o=this.getChildNodes(this.treeData,i.getAttribute("data-uid"));null!==o?this.allCheckNode(o,this.checkedElement,null,null,!1):o=null}if(this.changeState(e,t?"uncheck":"check",r,!0),this.autoCheck){let o;this.ensureChildCheckState(i),this.ensureParentCheckState(K(K(i,"."+Yi),"."+Ht)),"check"===s.action?o=!0:"uncheck"===s.action&&(o=!1),this.ensureStateChange(i,o)}this.nodeCheckedEvent(e,t,r)}ensureStateChange(e,t){let i=W("."+Yi,e),s=e.getAttribute("data-uid"),r=this.fields;if(1===this.dataType&&this.autoCheck){let o=new Ot(this.treeData).executeLocal((new Ri).where(r.parentID,"equal",s,!0));for(let a=0;a<o.length;a++){let l=o[a][this.fields.id]?o[a][this.fields.id].toString():null,h=o[a][this.fields.isChecked]?o[a][this.fields.isChecked].toString():null;if(-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(l)){this.checkedNodes.push(l);let c=this.getChildNodes(this.treeData,l);this.getChildItems(c,t),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}else if(-1===this.checkedNodes.indexOf(s)&&null===i&&-1!==this.checkedNodes.indexOf(l)){if(this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),"true"===h&&this.updateField(this.treeData,this.fields,l,"isChecked",null),-1===this.checkedNodes.indexOf(s)&&null===i||-1!==this.parentNodeCheck.indexOf(l)){let c=this.getChildNodes(this.treeData,l);this.getChildItems(c,t),-1!==this.parentNodeCheck.indexOf(l)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(l),1)}}else{let c=this.getChildNodes(this.treeData,l);this.getChildItems(c,t)}}}else if(1!==this.dataType||this.autoCheck){let o=this.getChildNodes(this.treeData,s);o&&this.childStateChange(o,s,i,t)}else if(t)for(let o=0;o<this.treeData.length;o++){let a=this.treeData[o][this.fields.id]?this.treeData[o][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(a)&&this.checkedNodes.push(a)}else{let o=new Ot(this.treeData).executeLocal((new Ri).where(r.isChecked,"equal",!0,!1));for(let a=0;a<o.length;a++){let l=o[a][this.fields.id]?o[a][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(l)&&this.checkedNodes.splice(this.checkedNodes.indexOf(l),1),this.updateField(this.treeData,this.fields,l,"isChecked",null)}this.checkedNodes=[]}}getChildItems(e,t){for(let i=0;i<e.length;i++){let s=e[i][this.fields.id]?e[i][this.fields.id].toString():null,r=e[i][this.fields.isChecked]?e[i][this.fields.isChecked].toString():null;-1!==this.checkedNodes.indexOf(s)&&!t&&this.checkedNodes.splice(this.checkedNodes.indexOf(s),1),-1===this.checkedNodes.indexOf(s)&&t&&this.checkedNodes.push(s),"true"===r&&!t&&this.updateField(this.treeData,this.fields,s,"isChecked",null);let o=this.getChildNodes(this.treeData,s);o.length>0&&this.getChildItems(o,t)}}childStateChange(e,t,i,s){for(let r=0;r<e.length;r++){let o=e[r][this.fields.id]?e[r][this.fields.id].toString():"",a=e[r][this.fields.isChecked]?e[r][this.fields.isChecked].toString():null;this.autoCheck?-1!==this.checkedNodes.indexOf(t)&&-1===this.checkedNodes.indexOf(o)?(this.checkedNodes.push(o),-1!==this.parentNodeCheck.indexOf(o)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(o),1)):-1===this.checkedNodes.indexOf(t)&&-1!==this.checkedNodes.indexOf(o)&&!s&&(this.checkedNodes.splice(this.checkedNodes.indexOf(o),1),"true"===a&&this.updateField(this.treeData,this.fields,o,"isChecked",null)):this.autoCheck||(s?-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o):(-1!==this.checkedNodes.indexOf(o)&&this.checkedNodes.splice(this.checkedNodes.indexOf(o),1),this.updateField(this.treeData,this.fields,o,"isChecked",null),this.checkedNodes=[]));let l=this.getChildNodes([e[r]],o);l&&this.childStateChange(l,t,i,s)}}allCheckNode(e,t,i,s,r){if(e)for(let o=0;o<e.length;o++){let a=Q(this.fields.id,e[o]),l=this.element.querySelector('[data-uid="'+a+'"]');if(!1!==r&&-1===this.checkedElement.indexOf(a.toString())&&(null===l&&!f(e[o][this.fields.isChecked])&&-1===t.indexOf(a.toString())||0===s||2===i)&&(!1!==e[o][this.fields.isChecked]||2===i?t.push(a.toString()):s=null,s=!1!==e[o][this.fields.isChecked]||2===i?0:null),-1===t.indexOf(a.toString())&&f(i)&&t.push(a.toString()),!0===Q(this.fields.hasChildren,e[o])||Q(this.fields.child.toString(),e[o])){let h=Q(this.fields.id,e[o]),c=this.getChildNodes(this.treeData,h.toString());c&&(f(r)?this.allCheckNode(c,t,i,s):this.allCheckNode(c,t,i,s,r),s=null)}s=null}}openNode(e,t){let i=this.getFocusedNode(),s=W("div."+Sr,i);if(e){if(!s)return;s.classList.contains(un)?this.expandAction(i,s,t):this.focusNextNode(i,!0)}else if(s&&s.classList.contains(uo))this.collapseNode(i,s,t);else{let r=K(K(i,"."+Yi),"."+Ht);if(!r)return;r.classList.contains("e-disable")||(this.setFocus(i,r),this.navigateToFocus(!0))}}navigateNode(e){let t=this.getFocusedNode();this.focusNextNode(t,e)}navigateRootNode(e){let t=this.getFocusedNode(),i=e?this.getRootNode():this.getEndNode();i.classList.contains("e-disable")||(this.setFocus(t,i),this.navigateToFocus(e))}getFocusedNode(){let e,t=W("."+Ht+"."+lb,this.element);return f(t)&&(e=W("."+Ht,this.element)),f(t)?f(e)?this.element.firstElementChild:e:t}focusNextNode(e,t){let i=t?this.getNextNode(e):this.getPrevNode(e);if(this.setFocus(e,i),this.navigateToFocus(!t),i.classList.contains("e-disable")){let s=i.lastChild;null==i.previousSibling&&i.classList.contains("e-level-1")?this.focusNextNode(i,!0):null==i.nextSibling&&i.classList.contains("e-node-collapsed")||null==i.nextSibling&&s.classList.contains($r)?this.focusNextNode(i,!1):this.focusNextNode(i,t)}}getNextNode(e){let i,t=this.liList.indexOf(e);do{if(t++,i=this.liList[t],f(i))return e}while(!An(i));return i}getPrevNode(e){let i,t=this.liList.indexOf(e);do{if(t--,i=this.liList[t],f(i))return e}while(!An(i));return i}getRootNode(){let t,e=0;do{t=this.liList[e],e++}while(!An(t));return t}getEndNode(){let t,e=this.liList.length-1;do{t=this.liList[e],e--}while(!An(t));return t}setFocus(e,t){z([e],[fd,lb]),t.classList.contains("e-disable")||(B([t],[fd,lb]),this.updateIdAttr(e,t))}updateIdAttr(e,t){this.element.removeAttribute("aria-activedescendant"),e&&e.removeAttribute("id"),t.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")}focusIn(){this.mouseDownStatus||B([this.getFocusedNode()],fd),this.mouseDownStatus=!1}focusOut(){z([this.getFocusedNode()],fd)}onMouseOver(e){let t=e.target,i=t.classList,s=K(t,"."+Ht);!s||i.contains(Yi)||i.contains(Ht)?this.removeHover():s&&!s.classList.contains("e-disable")&&this.setHover(s)}setHover(e){e.classList.contains(fd)||(this.removeHover(),B([e],fd))}onMouseLeave(e){this.removeHover()}removeHover(){let e=Ae("."+fd,this.element);e&&e.length&&z(e,fd)}getNodeData(e,t){if(!f(e)&&e.classList.contains(Ht)&&!f(K(e,"."+fW))&&K(e,"."+fW).classList.contains(mc)){let i=e.getAttribute("data-uid"),s=this.getText(e,t),r=K(e.parentNode,"."+Ht),o=r?r.getAttribute("data-uid"):null,a=e.classList.contains(nl),l="true"===e.getAttribute("aria-expanded"),h=null!==e.getAttribute("aria-expanded")||null!=(W("."+un,e)||W("."+uo,e)),c=null;return this.showCheckBox&&(c=W("."+Ch,e).getAttribute("aria-checked")),{id:i,text:s,parentID:o,selected:a,expanded:l,isChecked:c,hasChildren:h}}return{id:"",text:"",parentID:"",selected:!1,expanded:!1,isChecked:"",hasChildren:!1}}getText(e,t){if(t){let i=this.getNodeObject(e.getAttribute("data-uid")),s=parseFloat(e.getAttribute("aria-level"));return Q(this.getFields(this.fields,s,1).text,i)}return W("."+gm,e).textContent}getExpandEvent(e,t){let i=this.getNodeData(e);return{cancel:!1,isInteracted:!f(t),node:e,nodeData:i,event:t}}renderNodeTemplate(e,t,i){let s=this.nodeTemplateFn(e,this,"nodeTemplate"+i,this.element.id+"nodeTemplate",this.isStringTemplate,void 0,t);s&&(s=Array.prototype.slice.call(s),ys(s,t))}destroyTemplate(e){this.clearTemplate(["nodeTemplate"+e.getAttribute("data-uid")])}reRenderNodes(){this.updateListProp(this.fields),T.isIE?(this.ulElement=this.element.querySelector(".e-list-parent.e-ul"),this.ulElement.parentElement.removeChild(this.ulElement)):this.element.innerHTML="",f(this.nodeTemplateFn)||this.clearTemplate(),this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.checkedElement=[],this.isLoaded=!1,this.setDataBinding(!0)}setCssClass(e,t){!f(e)&&""!==e&&z([this.element],e.split(" ")),!f(t)&&""!==t&&B([this.element],t.split(" "))}editingHandler(e){let t=e.target;if(!(!t||t.classList.contains(mc)||t.classList.contains(Yi)||t.classList.contains(Ht)||t.classList.contains(Sr)||t.classList.contains(C1)||t.classList.contains(mW))){let i=K(t,"."+Ht);this.createTextbox(i,e)}}createTextbox(e,t){let i=W("."+w1,this.element);i&&i.blur();let s=W("."+gm,e);this.updateOldText(e);let r=this.createElement("input",{className:w1,attrs:{value:this.oldText}}),o=this.getEditEvent(e,null,r.outerHTML);this.trigger("nodeEditing",o,a=>{if(!a.cancel){let h="width:"+(s.offsetWidth+5)+"px";B([e],RP),f(this.nodeTemplateFn)||this.destroyTemplate(e),s.innerHTML=o.innerHtml;let c=W("."+w1,s);this.inputObj=be.createInput({element:c,properties:{enableRtl:this.enableRtl}},this.createElement),this.inputObj.container.setAttribute("style",h),c.focus(),c.setSelectionRange(0,c.value.length),this.wireInputEvents(c)}})}updateOldText(e){let t=e.getAttribute("data-uid");this.editData=this.getNodeObject(t);let i=parseFloat(e.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,i,1),this.oldText=Q(this.editFields.text,this.editData)}inputFocusOut(e){if(!W("."+w1,this.element))return;let t=e.target,i=t.value,s=K(t,"."+gm),r=K(t,"."+Ht);ie(this.inputObj.container),this.fields.dataSource instanceof Ot&&!this.isOffline?this.crudOperation("update",null,r,i,null,null,!0):this.appendNewText(r,s,i,!0)}appendNewText(e,t,i,s){let r=this.getEditEvent(e,i,null);this.trigger("nodeEdited",r,o=>{this.updateText(e,t,i=o.cancel?o.oldText:o.newText,s),o.oldText!==i&&this.triggerEvent()})}updateText(e,t,i,s){let r=Oi(this.editFields.text,i,this.editData);if(f(this.nodeTemplateFn))t.innerText=i;else{t.innerText="";let o=e.getAttribute("data-uid");this.renderNodeTemplate(r,t,o),this.renderReactTemplates()}s&&(z([e],RP),t.focus())}getElement(e){return f(e)?null:"string"==typeof e?this.element.querySelector('[data-uid="'+e+'"]'):"object"==typeof e?_8(e):null}getId(e){return f(e)?null:"string"==typeof e?e:"object"==typeof e?_8(e).getAttribute("data-uid"):null}getEditEvent(e,t,i){return{cancel:!1,newText:t,node:e,nodeData:this.getNodeData(e),oldText:this.oldText,innerHtml:i}}getNodeObject(e){let t;if(f(e))return t;if(1!==this.dataType)return this.getChildNodeObject(this.treeData,this.fields,e);for(let i=0,s=this.treeData.length;i<s;i++){let r=Q(this.fields.id,this.treeData[i]);if(!f(this.treeData[i])&&!f(r)&&r.toString()===e)return this.treeData[i]}return t}getChildNodeObject(e,t,i){let s;if(f(e))return s;for(let r=0,o=e.length;r<o;r++){let a=Q(t.id,e[r]);if(e[r]&&a&&a.toString()===i)return e[r];if("string"!=typeof t.child||f(Q(t.child,e[r]))){if(this.fields.dataSource instanceof Ot&&!f(Q("child",e[r]))&&(s=this.getChildNodeObject(Q("child",e[r]),this.getChildMapper(t),i),void 0!==s))break}else{let l=Q(t.child,e[r]);if(s=this.getChildNodeObject(l,this.getChildMapper(t),i),void 0!==s)break}}return s}setDragAndDrop(e){e&&!this.disabled?this.initializeDrag():this.destroyDrag()}initializeDrag(){let e,t=this;this.dragObj=new Vs(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragArea:this.dragArea,dragTarget:"."+$r,helper:i=>{this.dragTarget=i.sender.target;let s=K(this.dragTarget,"."+mc),r=K(this.dragTarget,"."+$r);if(this.dragLi=K(this.dragTarget,"."+Ht),this.fullRowSelect&&!r&&this.dragTarget.classList.contains(Bp)&&(r=this.dragTarget.nextElementSibling),!this.dragTarget||!i.element.isSameNode(s)||!r||this.dragTarget.classList.contains(mc)||this.dragTarget.classList.contains(Yi)||this.dragTarget.classList.contains(Ht)||this.dragLi.classList.contains("e-disable"))return!1;let o=r.cloneNode(!0);if(f(W("div."+Sr,o))){let h=t.createElement("div",{className:Sr+" "+un});o.insertBefore(h,o.children[0])}e=t.createElement("div",{className:"e-drag-item "+mc+" "+this.cssClass+" "+(this.enableRtl?"e-rtl":"")}),e.appendChild(o);let l=this.selectedNodes.length;if(l>1&&this.allowMultiSelection&&this.dragLi.classList.contains(nl)){let h=t.createElement("span",{className:"e-drop-count",innerHTML:""+l});e.appendChild(h)}return document.body.appendChild(e),document.body.style.cursor="",this.dragData=this.getNodeData(this.dragLi),e},dragStart:i=>{B([this.element],IP);let r,s=K(i.target,".e-list-item");s&&(r=parseInt(s.getAttribute("aria-level"),10));let o=this.getDragEvent(i.event,this,null,i.target,null,e,r);o.draggedNode.classList.contains(RP)?(this.dragObj.intDestroy(i.event),this.dragCancelAction(e)):this.trigger("nodeDragStart",o,a=>{a.cancel?(this.dragObj.intDestroy(i.event),this.dragCancelAction(e)):this.dragStartAction=!0})},drag:i=>{this.dragObj.setProperties({cursorAt:{top:!f(i.event.targetTouches)||T.isDevice?60:-20}}),this.dragAction(i,e)},dragStop:i=>{z([this.element],IP),this.removeVirtualEle();let s=i.target,o=K(s,"."+bW);(!s||!o)&&(ie(i.helper),document.body.style.cursor="");let l,a=K(s,".e-list-item");a&&(l=parseInt(a.getAttribute("aria-level"),10));let h=this.getDragEvent(i.event,this,s,s,null,i.helper,l);h.preventTargetExpand=!1,this.trigger("nodeDragStop",h,c=>{this.dragParent=c.draggedParentNode,this.preventExpand=c.preventTargetExpand,c.cancel&&(i.helper.parentNode&&ie(i.helper),document.body.style.cursor=""),this.dragStartAction=!1})}}),this.dropObj=new fp(this.element,{out:i=>{!f(i)&&!i.target.classList.contains(iw)&&(document.body.style.cursor="not-allowed")},over:i=>{document.body.style.cursor=""},drop:i=>{this.dropAction(i)}})}dragCancelAction(e){ie(e),z([this.element],IP),this.dragStartAction=!1}dragAction(e,t){let i=K(e.target,"."+bW),s=K(e.target,"."+$r),r=W("div."+Sr,t);z([r],[S1,sw,PP,OP]),this.removeVirtualEle(),document.body.style.cursor="";let o=e.target.classList;if(this.fullRowSelect&&!s&&!f(o)&&o.contains(Bp)&&(s=e.target.nextElementSibling),i){let c=K(e.target,"."+Ht),d=K(e.target,"."+Ch),u=K(e.target,"."+uo),p=K(e.target,"."+un);if(!i.classList.contains(mc)||s&&!c.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,c))if(this.hasTemplate&&c){let m=W(this.fullRowSelect?"."+Bp:"."+$r,c);e&&!p&&!u&&e.event.offsetY<7&&!d||p&&e.event.offsetY<5||u&&e.event.offsetX<3?this.appendIndicator(c,r,this.fullRowSelect?1:0):e&&!p&&!u&&!d&&m&&e.event.offsetY>m.offsetHeight-10||p&&e.event.offsetY>19||u&&e.event.offsetX>19?this.appendIndicator(c,r,this.fullRowSelect?2:1):B([r],S1)}else c&&e&&!p&&!u&&e.event.offsetY<7&&!d||p&&e.event.offsetY<5||u&&e.event.offsetX<3?this.appendIndicator(c,r,this.fullRowSelect?1:0):c&&e&&!p&&!u&&e.target.offsetHeight>0&&e.event.offsetY>e.target.offsetHeight-10&&!d||p&&e.event.offsetY>19||u&&e.event.offsetX>19?this.appendIndicator(c,r,this.fullRowSelect?2:1):B([r],S1);else"LI"!==e.target.nodeName||c.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,c)?e.target.classList.contains(iw)?B([r],sw):B([r],PP):(B([r],sw),this.renderVirtualEle(e))}else B([r],OP),document.body.style.cursor="not-allowed";let l,a=K(e.target,".e-list-item");a&&(l=parseInt(a.getAttribute("aria-level"),10));let h=this.getDragEvent(e.event,this,e.target,e.target,null,t,l);h.dropIndicator&&z([r],h.dropIndicator),this.trigger("nodeDragging",h),h.dropIndicator&&B([r],h.dropIndicator)}appendIndicator(e,t,i){B([t],sw);let s=this.createElement("div",{className:iw});e.insertBefore(s,e.children[i])}dropAction(e){let s,r,a,t=e.event.offsetY,i=e.target,o=!1;a=e.dragData.draggable;for(let l=0;l<a.ej2_instances.length;l++)if(a.ej2_instances[l]instanceof TP){s=a.ej2_instances[l];break}if(s&&s.dragTarget){let h=K(s.dragTarget,"."+Ht),c=K(i,"."+Ht);if(null==c&&i.classList.contains(mc)&&(c=i.firstElementChild),ie(e.droppedElement),document.body.style.cursor="",!c||c.isSameNode(h)||this.isDescendant(h,c))return void(this.fields.dataSource instanceof Ot||(this.preventExpand=!1));if(s.allowMultiSelection&&h.classList.contains(nl)){let d=Ae("."+nl,s.element);if(e.target.offsetHeight<=33&&t>e.target.offsetHeight-10&&t>6)for(let u=d.length-1;u>=0;u--)c.isSameNode(d[u])||this.isDescendant(d[u],c)||this.appendNode(i,d[u],c,e,s,t);else for(let u=0;u<d.length;u++)c.isSameNode(d[u])||this.isDescendant(d[u],c)||this.appendNode(i,d[u],c,e,s,t)}else this.appendNode(i,h,c,e,s,t);r=parseInt(h.getAttribute("aria-level"),10),o=!0}this.fields.dataSource instanceof Ot||(this.preventExpand=!1),this.trigger("nodeDropped",this.getDragEvent(e.event,s,i,e.target,e.dragData.draggedElement,null,r,o)),s.element.id!==this.element.id&&s.triggerEvent(),this.triggerEvent()}appendNode(e,t,i,s,r,o){let a=K(e,"."+Ch),l=K(s.target,"."+uo),h=K(s.target,"."+un);t.classList.contains("e-disable")||a||!(h&&s.event.offsetY<5||l&&s.event.offsetX<3||h&&s.event.offsetY>19||l&&s.event.offsetX>19||!h&&!l)?this.dropAsChildNode(t,i,r,null,s,o,!0):"LI"===e.nodeName?this.dropAsSiblingNode(t,i,s,r):e.firstElementChild&&e.classList.contains(mc)?"UL"===e.firstElementChild.nodeName&&this.dropAsSiblingNode(t,i,s,r):e.classList.contains("e-icon-collapsible")||e.classList.contains("e-icon-expandable")?this.dropAsSiblingNode(t,i,s,r):this.dropAsChildNode(t,i,r,null,s,o)}dropAsSiblingNode(e,t,i,s){let l,r=K(t,"."+Yi),o=K(e,"."+Yi),a=K(o,"."+Ht);if(i.target.offsetHeight>0&&i.event.offsetY>i.target.offsetHeight-2?l=!1:i.event.offsetY<2?l=!0:(i.target.classList.contains("e-icon-expandable")||i.target.classList.contains("e-icon-collapsible"))&&(i.event.offsetY<5||i.event.offsetX<3?l=!0:(i.event.offsetY>15||i.event.offsetX>17)&&(l=!1)),i.target.classList.contains("e-icon-expandable")||i.target.classList.contains("e-icon-collapsible")){let h=i.target.closest("li");r.insertBefore(e,l?h:h.nextElementSibling)}else r.insertBefore(e,l?i.target:i.target.nextElementSibling);this.moveData(e,t,r,l,s),this.updateElement(o,a),this.updateAriaLevel(e),s.element.id===this.element.id?this.updateList():(s.updateInstance(),this.updateInstance())}dropAsChildNode(e,t,i,s,r,o,a){let d,l=K(e,"."+Yi),h=K(l,"."+Ht),c=K(t,"."+Yi);if(r&&r.target&&(d=W(this.fullRowSelect?"."+Bp:"."+$r,t)),r&&o<7&&!a)c.insertBefore(e,t),this.moveData(e,t,c,!0,i);else if(r&&r.target.offsetHeight>0&&o>r.target.offsetHeight-10&&!a&&!this.hasTemplate)c.insertBefore(e,t.nextElementSibling),this.moveData(e,t,c,!1,i);else if(this.hasTemplate&&d&&o>d.offsetHeight-10&&!a)c.insertBefore(e,t.nextElementSibling),this.moveData(e,t,c,!1,i);else{let u=this.expandParent(t),p=u.childNodes[s];u.insertBefore(e,p),this.moveData(e,p,u,!0,i)}this.updateElement(l,h),this.updateAriaLevel(e),i.element.id===this.element.id?this.updateList():(i.updateInstance(),this.updateInstance())}moveData(e,t,i,s,r){let o=K(i,"."+Ht),a=this.getId(e),l=r.updateChildField(r.treeData,r.fields,a,null,null,!0),h=this.getId(t),c=this.getDataPos(this.treeData,this.fields,h),d=this.getId(o);if(1===this.dataType){this.updateField(this.treeData,this.fields,d,"hasChildren",!0);let u=f(c)?this.treeData.length:s?c:c+1;if(f(d)&&!this.hasPid)delete l[0][this.fields.parentID];else{let p=this.isNumberTypeId?parseFloat(d):d;Oi(this.fields.parentID,p,l[0])}if(this.treeData.splice(u,0,l[0]),r.element.id!==this.element.id){let p=r.removeChildNodes(a);u++;for(let m=0,y=p.length;m<y;m++)this.treeData.splice(u,0,p[m]),u++;r.groupedData=r.getGroupedData(r.treeData,r.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,d,l,s?c:c+1)}expandParent(e){let t=W("div."+Sr,e);t&&t.classList.contains(un)&&!0!==this.preventExpand&&this.expandAction(e,t,null);let i=W("."+Yi,e);if(!0===this.preventExpand&&!i&&t&&this.renderChildNodes(e),i=W("."+Yi,e),!f(i)&&!0===this.preventExpand&&(i.style.display="none"),!f(i)&&!1===this.preventExpand&&(i.style.display="block"),f(i)&&!0===this.preventExpand){f(t)&&an.generateIcon(this.createElement,e,un,this.listBaseOption);let s=W("div."+Sr,e);s&&s.classList.add("e-icon-expandable"),i=an.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(i),s?z([s],uo):an.generateIcon(this.createElement,e,un,this.listBaseOption),e.setAttribute("aria-expanded","false"),i.style.display="none"}if(f(i)){this.trigger("nodeExpanding",this.getExpandEvent(e,null)),f(t)&&an.generateIcon(this.createElement,e,uo,this.listBaseOption);let s=W("div."+Sr,e);s||(an.generateIcon(this.createElement,e,uo,this.listBaseOption),s=W("div."+Sr,e)),z([s],un),i=an.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(i),this.addExpand(e),this.trigger("nodeExpanded",this.getExpandEvent(e,null))}return i}updateElement(e,t){if(t&&0===e.childElementCount){let i=W("div."+Sr,t);ie(e),ie(i);let s=this.getId(t);this.updateField(this.treeData,this.fields,s,"hasChildren",!1),this.removeExpand(t,!0)}}updateAriaLevel(e){let t=this.parents(e,"."+Yi).length;e.setAttribute("aria-level",""+t),this.updateChildAriaLevel(W("."+Yi,e),t+1)}updateChildAriaLevel(e,t){if(!f(e)){let i=e.childNodes;for(let s=0,r=i.length;s<r;s++){let o=i[s];o.setAttribute("aria-level",""+t),this.updateChildAriaLevel(W("."+Yi,o),t+1)}}}renderVirtualEle(e){let t;e.event.offsetY>e.target.offsetHeight-2?t=!1:e.event.offsetY<2&&(t=!0);let i=this.createElement("div",{className:iw});e.target.insertBefore(i,e.target.children[this.fullRowSelect?t?1:2:t?0:1])}removeVirtualEle(){let e=W("."+iw);e&&ie(e)}destroyDrag(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())}getDragEvent(e,t,i,s,r,o,a,l){let h=i?K(i,"."+Ht):null,c=h?this.getNodeData(h):null,d=t?t.dragLi:r,u=t?t.dragData:null,p=i?this.parents(i,"."+Ht):null,m=t.dragLi.parentElement,y=t.dragLi?K(m,"."+Ht):null,b=null,v=null,C=[sw,S1,PP,OP],w=null,_=!0===l?d:h,k=_?K(_,".e-list-parent"):null,D=0,I=null;if(y=t.dragLi&&null===y?K(m,"."+mc):y,y=!0===l?this.dragParent:y,o)for(;D<4;){if(W("."+Sr,o).classList.contains(C[D])){w=C[D];break}D++}if(k){let O=0;for(D=0;D<k.childElementCount;D++){if(O=!0!==l&&k.children[D]===d&&h!==d?++O:O,!0!==l&&k.children[D].classList.contains("e-hover")){v=e.offsetY>=23?D+1:D;break}if(k.children[D]===_){v=D;break}}v=0!==O?--v:v,I="e-drop-in"==w?"Inside":e.offsetY<7?"Before":"After"}if(i&&(b=0===p.length?null:i.classList.contains(Ht)?p[0]:p[1]),h===d&&(b=h),i&&s.offsetHeight<=33&&e.offsetY<s.offsetHeight-10&&e.offsetY>6&&(b=h,!0!==l)){a=++a;let O=b?W(".e-list-parent",b):null;if(v=O?O.children.length:0,!(this.fields.dataSource instanceof Ot)&&null===O&&b){let N=b.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,b.getAttribute("data-uid").toString()):null;v=N?N.length:0}}return{cancel:!1,clonedNode:o,event:e,draggedNode:d,draggedNodeData:u,droppedNode:h,droppedNodeData:c,dropIndex:v,dropLevel:a,draggedParentNode:y,dropTarget:b,dropIndicator:w,target:s,position:I}}addFullRow(e){let t=this.liList.length;if(e)for(let i=0;i<t;i++)this.createFullRow(this.liList[i]);else for(let i=0;i<t;i++)ie(W("."+Bp,this.liList[i]))}createFullRow(e){let t=this.createElement("div",{className:Bp});e.insertBefore(t,e.childNodes[0])}addMultiSelect(e){if(e){let t=Ae("."+Ht+':not([aria-selected="true"])',this.element);for(let i of t)i.setAttribute("aria-selected","false")}else{let t=Ae("."+Ht+'[aria-selected="false"]',this.element);for(let i of t)i.removeAttribute("aria-selected")}}collapseByLevel(e,t,i){if(t>0&&!f(e)){let s=this.getVisibleNodes(i,e.childNodes);for(let r=0,o=s.length;r<o;r++){let a=s[r],l=W("."+uo,W("."+$r,a));f(l)||this.collapseNode(a,l,null),this.collapseByLevel(W("."+Yi,a),t-1,i)}}}collapseAllNodes(e){let t=this.getVisibleNodes(e,Ae("."+uo,this.element));for(let i=0,s=t.length;i<s;i++){let r=t[i],o=K(r,"."+Ht);this.collapseNode(o,r,null)}}expandByLevel(e,t,i){if(t>0&&!f(e)){let s=this.getVisibleNodes(i,e.childNodes);for(let r=0,o=s.length;r<o;r++){let a=s[r],l=W("."+un,W("."+$r,a));f(l)||this.expandAction(a,l,null),this.expandByLevel(W("."+Yi,a),t-1,i)}}}expandAllNodes(e){let t=this.getVisibleNodes(e,Ae("."+un,this.element));for(let i=0,s=t.length;i<s;i++){let r=t[i],o=K(r,"."+Ht);this.expandAction(o,r,null,!0)}}getVisibleNodes(e,t){let i=Array.prototype.slice.call(t);if(e)for(let s=0;s<i.length;s++)An(i[s])||(i.splice(s,1),s--);return i}removeNode(e){let t=K(e,"."+Yi),i=K(t,"."+Ht);f(this.nodeTemplateFn)||this.destroyTemplate(e),ie(e),this.updateElement(t,i),this.removeData(e)}updateInstance(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes()}updateList(){this.liList=Array.prototype.slice.call(Ae("."+Ht,this.element))}updateSelectedNodes(){this.setProperties({selectedNodes:[]},!0);let e=Ae("."+nl,this.element);this.selectGivenNodes(e)}updateExpandedNodes(){this.setProperties({expandedNodes:[]},!0);let e=Ae('[aria-expanded="true"]',this.element);for(let t=0,i=e.length;t<i;t++)this.addExpand(e[t])}removeData(e){if(1===this.dataType){let t=new Ot(this.treeData),i=this.getId(e),s={},r=this.isNumberTypeId?parseFloat(i):i;s[this.fields.id]=r,t.remove(this.fields.id,s),this.removeChildNodes(i)}else{let t=this.getId(e);this.updateChildField(this.treeData,this.fields,t,null,null,!0)}}removeChildNodes(e){let t=this.getChildGroup(this.groupedData,e,!1),i=[];if(t)for(let s=0,r=t.length;s<r;s++){let o=new Ot(this.treeData),a=Q(this.fields.id,t[s]).toString(),l={},h=this.isNumberTypeId?parseFloat(a):a;l[this.fields.id]=h;let c=o.remove(this.fields.id,l);i.push(c[0]),this.removeChildNodes(a)}return i}doGivenAction(e,t,i){for(let s=0,r=e.length;s<r;s++){let o=this.getElement(e[s]);if(f(o))continue;let a=W("."+t,W("."+$r,o));f(a)||(i?this.expandAction(o,a,null):this.collapseNode(o,a,null))}}addGivenNodes(e,t,i,s,r){if(0===e.length)return;let o=this.getSortedData(e),a=t?parseFloat(t.getAttribute("aria-level"))+1:1;s&&this.updateMapper(a);let h,l=an.createListItemFromJson(this.createElement,o,this.listBaseOption,a);h=r||(t?this.expandParent(t):W("."+Yi,this.element));let c=h.childNodes[i];for(let u=0;u<l.length;u++)h.insertBefore(l[u],c);let d=this.getId(t);if(1===this.dataType){this.updateField(this.treeData,this.fields,d,"hasChildren",!0);let u=this.getId(c),p=f(u)?this.treeData.length:this.getDataPos(this.treeData,this.fields,u);for(let m=0;m<e.length;m++){if(!f(d)){let y=this.isNumberTypeId?parseFloat(d):d;Oi(this.fields.parentID,y,e[m])}this.treeData.splice(p,0,e[m]),p++}}else this.addChildData(this.treeData,this.fields,d,e,i);this.finalizeNode(h)}updateMapper(e){let t=1===e?this.fields:this.getChildFields(this.fields,e-1,1);this.updateListProp(t)}updateListProp(e){let t=this.getActualProperties(e);this.listBaseOption.fields=t,this.listBaseOption.fields.url=t.hasOwnProperty("navigateUrl")?t.navigateUrl:"navigateUrl"}getDataPos(e,t,i){let s=null;for(let r=0,o=e.length;r<o;r++){let a=Q(t.id,e[r]);if(e[r]&&a&&a.toString()===i)return r;if("string"!=typeof t.child||f(Q(t.child,e[r]))){if(this.fields.dataSource instanceof Ot&&!f(Q("child",e[r]))){let l=Q("child",e[r]);if(s=this.getDataPos(l,this.getChildMapper(t),i),null!==s)break}}else{let l=Q(t.child,e[r]);if(s=this.getDataPos(l,this.getChildMapper(t),i),null!==s)break}}return s}addChildData(e,t,i,s,r){let o;if(f(i)){r=f(r)?e.length:r;for(let a=0,l=s.length;a<l;a++)e.splice(r,0,s[a]),r++;return o}for(let a=0,l=e.length;a<l;a++){let h=Q(t.id,e[a]);if(e[a]&&h&&h.toString()===i){if("string"==typeof t.child&&e[a].hasOwnProperty(t.child)&&null!==e[a][t.child]||this.fields.dataSource instanceof Ot&&e[a].hasOwnProperty("child")){let d=Q("string"==typeof t.child?t.child:"child",e[a]);f(d)&&(d=[]),r=f(r)?d.length:r;for(let u=0,p=s.length;u<p;u++)d.splice(r,0,s[u]),r++}else e[a]["string"==typeof t.child?t.child:"child"]=s;return!0}if("string"!=typeof t.child||f(Q(t.child,e[a]))){if(this.fields.dataSource instanceof Ot&&!f(Q("child",e[a]))){let c=Q("child",e[a]);if(o=this.addChildData(c,this.getChildMapper(t),i,s,r),void 0!==o)break}}else{let c=Q(t.child,e[a]);if(o=this.addChildData(c,this.getChildMapper(t),i,s,r),void 0!==o)break}}return o}doDisableAction(e){let t=this.nodeType(e),i=this.checkValidId(t);this.validArr=[];for(let s=0,r=i.length;s<r;s++){let o=i[s][this.fields.id].toString();o&&-1===this.disableNode.indexOf(o)&&this.disableNode.push(o);let a=this.getElement(o);a&&(a.setAttribute("aria-disabled","true"),B([a],CW))}}doEnableAction(e){let t=this.nodeType(e);for(let i=0,s=t.length;i<s;i++){let r=this.getElement(t[i]),o=t[i];o&&-1!==this.disableNode.indexOf(o)&&this.disableNode.splice(this.disableNode.indexOf(o),1),r&&(r.removeAttribute("aria-disabled"),z([r],CW))}}nodeType(e){let t=[];for(let i=0,s=e.length;i<s;i++){let r;"string"==typeof e[i]?r=e[i]?e[i].toString():null:"object"==typeof e[i]&&(r=e[i]?e[i].getAttribute("data-uid").toString():null),-1==t.indexOf(r)&&t.push(r)}return t}checkValidId(e){if(1===this.dataType)this.validArr=this.treeData.filter(t=>-1!==e.indexOf(t[this.fields.id]?t[this.fields.id].toString():null));else if(2===this.dataType)for(let t=0;t<this.treeData.length;t++){let i=this.treeData[t][this.fields.id]?this.treeData[t][this.fields.id].toString():null;-1!==e.indexOf(i)&&this.validArr.push(this.treeData[t]);let s=Q(this.fields.child.toString(),this.treeData[t]);s&&this.filterNestedChild(s,e)}return this.validArr}filterNestedChild(e,t){for(let i=0;i<e.length;i++){let s=e[i][this.fields.id]?e[i][this.fields.id].toString():null;-1!==t.indexOf(s)&&this.validArr.push(e[i]);let r=Q(this.fields.child.toString(),e[i]);r&&this.filterNestedChild(r,t)}}setTouchClass(){let e=K(this.element,".e-bigger");this.touchClass=f(e)?"":"e-small"}updatePersistProp(){this.removeField(this.treeData,this.fields,["selected","expanded"]);let e=this.selectedNodes;for(let i=0,s=e.length;i<s;i++)this.updateField(this.treeData,this.fields,e[i],"selected",!0);let t=this.expandedNodes;for(let i=0,s=t.length;i<s;i++)this.updateField(this.treeData,this.fields,t[i],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);let i=this.checkedNodes;for(let s=0,r=i.length;s<r;s++)this.updateField(this.treeData,this.fields,i[s],"isChecked",!0)}}removeField(e,t,i){if(!f(e)&&!f(t))for(let s=0,r=e.length;s<r;s++){for(let o=0;o<i.length;o++){let a=this.getMapperProp(t,i[o]);f(e[s][a])||delete e[s][a]}"string"!=typeof t.child||f(Q(t.child,e[s]))?this.fields.dataSource instanceof Ot&&!f(Q("child",e[s]))&&this.removeField(Q("child",e[s]),this.getChildMapper(t),i):this.removeField(Q(t.child,e[s]),this.getChildMapper(t),i)}}getMapperProp(e,t){switch(t){case"selected":return f(e.selected)?"selected":e.selected;case"expanded":return f(e.expanded)?"expanded":e.expanded;case"isChecked":return f(e.isChecked)?"isChecked":e.isChecked;case"hasChildren":return f(e.hasChildren)?"hasChildren":e.hasChildren;default:return t}}updateField(e,t,i,s,r){if(!f(i))if(1===this.dataType){let o=this.isNumberTypeId?parseFloat(i):i,a=new Ot(this.treeData).executeLocal((new Ri).where(t.id,"equal",o,!1));Oi(this.getMapperProp(t,s),r,a[0])}else this.updateChildField(e,t,i,s,r)}updateChildField(e,t,i,s,r,o){let a;if(f(e))return a;for(let l=0,h=e.length;l<h;l++){let c=Q(t.id,e[l]);if(e[l]&&c&&c.toString()===i)return o?a=e.splice(l,1):(Oi(this.getMapperProp(t,s),r,e[l]),a=[]),a;if("string"!=typeof t.child||f(Q(t.child,e[l]))){if(this.fields.dataSource instanceof Ot&&!f(Q("child",e[l]))){let d=Q("child",e[l]);if(a=this.updateChildField(d,this.getChildMapper(t),i,s,r,o),void 0!==a)break}}else{let d=Q(t.child,e[l]);if(a=this.updateChildField(d,this.getChildMapper(t),i,s,r,o),void 0!==a)break}}return a}triggerEvent(){this.renderReactTemplates(),this.trigger("dataSourceChanged",{data:this.treeData})}wireInputEvents(e){S.add(e,"blur",this.inputFocusOut,this)}wireEditingEvents(e){if(e&&!this.disabled){let t=this;this.touchEditObj=new wn(this.element,{tap:i=>{this.isDoubleTapped(i)&&2===i.tapCount&&(i.originalEvent.preventDefault(),t.editingHandler(i.originalEvent))}})}else this.touchEditObj&&this.touchEditObj.destroy()}wireClickEvent(e){if(e){let t=this;this.touchClickObj=new wn(this.element,{tap:i=>{t.clickHandler(i)}})}else this.touchClickObj&&this.touchClickObj.destroy()}wireExpandOnEvent(e){if(e){let t=this;this.touchExpandObj=new wn(this.element,{tap:i=>{("Click"===this.expandOnType||"DblClick"===this.expandOnType&&this.isDoubleTapped(i)&&2===i.tapCount)&&3!==i.originalEvent.which&&t.expandHandler(i)}})}else this.touchExpandObj&&this.touchExpandObj.destroy()}mouseDownHandler(e){this.mouseDownStatus=!0,(e.shiftKey||e.ctrlKey)&&e.preventDefault(),e.ctrlKey&&this.allowMultiSelection&&S.add(this.element,"contextmenu",this.preventContextMenu,this)}preventContextMenu(e){e.preventDefault()}wireEvents(){S.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0),S.add(this.element,"focus",this.focusIn,this),S.add(this.element,"blur",this.focusOut,this),S.add(this.element,"mouseover",this.onMouseOver,this),S.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new Ds(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})}unWireEvents(){S.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),S.remove(this.element,"focus",this.focusIn),S.remove(this.element,"blur",this.focusOut),S.remove(this.element,"mouseover",this.onMouseOver),S.remove(this.element,"mouseout",this.onMouseLeave),this.disabled||this.keyboardModule.destroy()}parents(e,t){let i=[],s=e.parentNode;for(;!f(s);)JL(s,t)&&i.push(s),s=s.parentNode;return i}isDoubleTapped(e){let i,t=e.originalEvent.target;return t&&e.tapCount&&(1===e.tapCount?this.firstTap=K(t,"."+Ht):2===e.tapCount&&(i=K(t,"."+Ht))),this.firstTap===i}isDescendant(e,t){let i=t.parentNode;for(;!f(i);){if(i===e)return!0;i=i.parentNode}return!1}showSpinner(e){B([e],LP),Gy({target:e,width:T.isDevice?16:14},this.createElement),Ap(e)}hideSpinner(e){cd(e),e.innerHTML="",z([e],LP)}setCheckedNodes(e){e=JSON.parse(JSON.stringify(e)),this.uncheckAll(this.checkedNodes),this.setIndeterminate(e),e.length>0&&this.checkAll(e)}setValidCheckedNode(e){if(1===this.dataType){let t=this.fields,i=new Ot(this.treeData).executeLocal((new Ri).where(t.id,"equal",e,!0));if(i[0]&&(this.setChildCheckState(i,e,i[0]),this.autoCheck)){let s=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null,r=this.getChildNodes(this.treeData,s),o=0;for(let a=0;a<r.length;a++){let l=r[a][this.fields.id].toString();-1!==this.checkedNodes.indexOf(l)&&o++}o===r.length&&-1===this.checkedNodes.indexOf(s)&&s&&this.checkedNodes.push(s)}}else if(2===this.dataType)for(let t=0;t<this.treeData.length;t++){if((this.treeData[t][this.fields.id]?this.treeData[t][this.fields.id].toString():"")===e&&-1===this.checkedNodes.indexOf(e)){this.checkedNodes.push(e);break}let s=Q(this.fields.child.toString(),this.treeData[t]);s&&this.setChildCheckState(s,e,this.treeData[t])}}setChildCheckState(e,t,i){let s,r=0;if(1===this.dataType){i&&(s=i[this.fields.id]?i[this.fields.id].toString():null);for(let o=0;o<e.length;o++){let a=e[o][this.fields.id]?e[o][this.fields.id].toString():null;i&&s&&this.autoCheck&&-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(a)&&this.checkedNodes.push(a),a===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t);let l=this.getChildNodes(this.treeData,a);l&&this.setChildCheckState(l,t,i)}}else{i&&(s=i[this.fields.id]?i[this.fields.id].toString():"");for(let o=0;o<e.length;o++){let a=e[o][this.fields.id]?e[o][this.fields.id].toString():"";i&&s&&this.autoCheck&&-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(a)&&this.checkedNodes.push(a),a===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t);let l=Q(this.fields.child.toString(),e[o]);l&&this.setChildCheckState(l,t,e[o]),-1!==this.checkedNodes.indexOf(a)&&this.autoCheck&&r++,r===e.length&&-1===this.checkedNodes.indexOf(s)&&this.autoCheck&&this.checkedNodes.push(s)}}}setIndeterminate(e){for(let t=0;t<e.length;t++)this.setValidCheckedNode(e[t])}updatePosition(e,t,i,s){if(1===this.dataType){let r=this.getDataPos(this.treeData,this.fields,e);if(this.treeData.splice(r,1,t),i){this.removeChildNodes(e);for(let o=0;o<s.length;o++)this.treeData.splice(r,0,s[o]),r++}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.updateChildPosition(this.treeData,this.fields,e,[t],void 0)}updateChildPosition(e,t,i,s,r){let o;for(let a=0,l=e.length;a<l;a++){let h=Q(t.id,e[a]);if(e[a]&&h&&h.toString()===i)return e[a]=s[0],!0;if("string"!=typeof t.child||f(Q(t.child,e[a]))){if(this.fields.dataSource instanceof Ot&&!f(Q("child",e[a]))){let c=Q("child",e[a]);if(o=this.updateChildPosition(c,this.getChildMapper(t),i,s,r),void 0!==o)break}}else{let c=Q(t.child,e[a]);if(o=this.updateChildPosition(c,this.getChildMapper(t),i,s,r),void 0!==o)break}}return o}dynamicState(){this.setDragAndDrop(this.allowDragAndDrop),this.wireEditingEvents(this.allowEditing),this.disabled?(this.unWireEvents(),this.rippleFn(),this.rippleIconFn()):(this.wireEvents(),this.setRipple())}crudOperation(e,t,i,s,r,o,a){let u,l=this.fields.dataSource,h=[],c=this.getQuery(this.fields),d=this.fields.id,p={addedRecords:[],deletedRecords:[],changedRecords:[]},m=[];t?m=this.nodeType(t):i&&("string"==typeof i?m[0]=i.toString():"object"==typeof i&&(m[0]=i.getAttribute("data-uid").toString()));for(let y=0,b=m.length;y<b;y++){if(f(this.getElement(m[y])))continue;let C=this.getNodeObject(m[y]);h.push(C)}switch(e){case"delete":1==t.length?u=l.remove(d,h[0],c.fromTable,c):(p.deletedRecords=h,u=l.saveChanges(p,d,c.fromTable,c)),u.then(y=>this.deleteSuccess(m)).catch(y=>this.dmFailure(y));break;case"update":h[0][this.fields.text]=s,u=l.update(d,h[0],c.fromTable,c),u.then(y=>this.editSucess(i,s,a)).catch(y=>this.dmFailure(y,i,a));break;case"insert":if(1==r.length)u=l.insert(r[0],c.fromTable,c);else{let y=[];for(let b=0,v=r.length;b<v;b++)y.push(r[b]);p.addedRecords=y,u=l.saveChanges(p,d,c.fromTable,c)}u.then(y=>{let b=this.getElement(i);this.addSuccess(r,b,o),this.preventExpand=!1}).catch(y=>this.dmFailure(y))}}deleteSuccess(e){for(let t=0,i=e.length;t<i;t++){let s=this.getElement(e[t]);f(s)||this.removeNode(s)}this.updateInstance(),1===this.dataType&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent()}editSucess(e,t,i){let s=this.getElement(e),r=W("."+gm,s);this.appendNewText(s,r,t,i)}addSuccess(e,t,i){let s,r=t?t.querySelector("."+Sr):null,o=this;t&&r&&r.classList.contains(un)&&null===t.querySelector("."+Yi)?o.renderChildNodes(t,null,()=>{s=t.querySelector("."+Yi),o.addGivenNodes(e,t,i,!0,s),o.triggerEvent()}):(this.addGivenNodes(e,t,i,!0),this.triggerEvent())}dmFailure(e,t,i){t&&this.updatePreviousText(t,i),this.trigger("actionFailure",{error:e})}updatePreviousText(e,t){let i=this.getElement(e),s=W("."+gm,i);this.updateText(i,s,this.oldText,t)}onPropertyChanged(e,t){for(let i of Object.keys(e))switch(i){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"dragArea":this.allowDragAndDrop&&(this.dragObj.dragArea=this.dragArea);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){let s=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(s,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=t.checkedNodes,this.setCheckedNodes(e.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=e.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(t.cssClass,e.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.setProperties({expandedNodes:f(e.expandedNodes)?[]:e.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),"None"!==this.expandOnType&&!this.disabled&&this.wireExpandOnEvent(!0);break;case"disabled":this.setDisabledMode(),this.dynamicState();break;case"fields":this.isAnimate=!1,this.isFieldChange=!0,this.initialRender=!0,this.reRenderNodes(),this.initialRender=!1,this.isAnimate=!0,this.isFieldChange=!1;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect);break;case"loadOnDemand":if(!1===this.loadOnDemand&&!this.onLoaded){let s=this.element.querySelectorAll("li"),r=0;for(;r<s.length;)"true"!==s[r].getAttribute("aria-expanded")&&this.renderChildNodes(s[r],!0,null,!0),r++;this.onLoaded=!0}break;case"nodeTemplate":this.hasTemplate=!1,this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:e.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes();break;case"fullRowNavigable":this.setProperties({fullRowNavigable:e.fullRowNavigable},!0),this.listBaseOption.itemNavigable=e.fullRowNavigable,this.reRenderNodes()}}destroy(){this.clearTemplate(),this.element.removeAttribute("aria-activedescendant"),this.element.removeAttribute("tabindex"),this.unWireEvents(),this.wireEditingEvents(!1),this.disabled||(this.rippleFn(),this.rippleIconFn()),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.ulElement&&this.ulElement.parentElement&&this.ulElement.parentElement.removeChild(this.ulElement),super.destroy()}addNodes(e,t,i,s){if(f(e))return;e=JSON.parse(JSON.stringify(e));let r=this.getElement(t);if(this.preventExpand=s,this.fields.dataSource instanceof Ot)this.isOffline?this.addSuccess(e,r,i):this.crudOperation("insert",null,t,null,e,i,this.preventExpand);else if(2===this.dataType)this.addGivenNodes(e,r,i);else{if(r)this.addGivenNodes(e,r,i);else{e=this.getSortedData(e);for(let o=0;o<e.length;o++){let a=Q(this.fields.parentID,e[o]);r=a&&this.getElement(a.toString()),this.addGivenNodes([e[o]],r,i)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}this.updateCheckedStateFromDS(),this.showCheckBox&&r&&this.ensureParentCheckState(r),this.fields.dataSource instanceof Ot||(this.preventExpand=!1,this.triggerEvent())}beginEdit(e){let t=this.getElement(e);f(t)||this.disabled||this.createTextbox(t,null)}checkAll(e){this.showCheckBox&&this.doCheckBoxAction(e,!0)}collapseAll(e,t,i){f(e)?t>0?this.collapseByLevel(W("."+Yi,this.element),t,i):this.collapseAllNodes(i):this.doGivenAction(e,uo,!1)}disableNodes(e){f(e)||this.doDisableAction(e)}enableNodes(e){f(e)||this.doEnableAction(e)}ensureVisible(e){let t=this.getElement(e);if(f(t))return;let i=this.parents(t,"."+Ht);this.expandAll(i),setTimeout(()=>{t.scrollIntoView(!0)},450)}expandAll(e,t,i){f(e)?t>0?this.expandByLevel(W("."+Yi,this.element),t,i):this.expandAllNodes(i):this.doGivenAction(e,un,!0)}getAllCheckedNodes(){return this.checkedNodes}getDisabledNodes(){return this.disableNode}getNode(e){let t=this.getElement(e);return this.getNodeData(t,!0)}getTreeData(e){let t=this.getId(e);if(this.updatePersistProp(),f(t))return this.treeData;{let i=this.getNodeObject(t);return f(i)?[]:[i]}}moveNodes(e,t,i,s){let r=this.getElement(t);if(!f(r)){for(let o=0;o<e.length;o++){let a=this.getElement(e[o]);f(a)||r.isSameNode(a)||this.isDescendant(a,r)||(this.preventExpand=s,this.dropAsChildNode(a,r,this,i))}this.fields.dataSource instanceof Ot||(this.preventExpand=!1),this.triggerEvent()}}refreshNode(e,t){if(f(e)||f(t))return;let i,s=!1;1==this.dataType&&t.length>1?s=!0:2==this.dataType&&1===t.length&&(f(Q(this.fields.child.toString(),t[0]))||(s=!0));let o,a,r=this.getElement(e);if(i=r?r.getAttribute("data-uid"):e?e.toString():null,this.refreshData=this.getNodeObject(i),t=JSON.parse(JSON.stringify(t)),1==this.dataType&&s){for(let u=0;u<t.length;u++)if(f(t[u][this.fields.parentID])){a=t[u],t.splice(u,1);break}o=fe({},this.refreshData,a)}else o=fe({},this.refreshData,t[0]);if(f(r))return void this.updatePosition(i,o,s,t);this.isRefreshed=!0;let l=parseFloat(r.getAttribute("aria-level")),h=an.createListItemFromJson(this.createElement,[o],this.listBaseOption,l),c=W("."+Yi,r),d=Q(this.fields.child.toString(),o);if(s&&c||s&&!f(d)){let u=r.parentElement,p=Array.prototype.indexOf.call(u.childNodes,r);Ue(r),u.insertBefore(h[0],u.childNodes[p]),this.updatePosition(i,o,s,t),s&&c&&this.expandAll([i])}else{let u=W("."+$r,r),p=W("."+$r,h[0]),m=W("div."+Sr,u),y=W("div."+Sr,p);m&&y&&(y.classList.contains(un)&&m.classList.contains(uo)?(z([y],un),B([y],uo)):y.classList.contains(uo)&&m.classList.contains(un)?(z([y],uo),B([y],un)):m.classList.contains("interaction")&&B([y],"interaction")),Ue(u);let b=W("."+Bp,r);b.parentNode.insertBefore(p,b.nextSibling),this.updatePosition(i,o,s,t)}if(r=this.getElement(e),o[this.fields.tooltip]&&r.setAttribute("title",o[this.fields.tooltip]),o.hasOwnProperty(this.fields.htmlAttributes)&&o[this.fields.htmlAttributes]){let u={};ai(u,o[this.fields.htmlAttributes]),u.class?(B([r],u.class.split(" ")),delete u.class):we(r,u)}-1!==this.selectedNodes.indexOf(i)&&(r.setAttribute("aria-selected","true"),B([r],nl)),this.isRefreshed=!1,this.triggerEvent()}removeNodes(e){f(e)||(this.fields.dataSource instanceof Ot&&!this.isOffline?this.crudOperation("delete",e):this.deleteSuccess(e))}updateNode(e,t){if(f(e)||f(t)||!this.allowEditing)return;let i=this.getElement(e);if(f(i))return;let s=W("."+gm,i);this.updateOldText(i);let r=this.getEditEvent(i,null,null);this.trigger("nodeEditing",r,o=>{o.cancel||(this.fields.dataSource instanceof Ot&&!this.isOffline?this.crudOperation("update",null,e,t,null,null,!1):this.appendNewText(i,s,t,!1))})}uncheckAll(e){this.showCheckBox&&this.doCheckBoxAction(e,!1)}};ft([g(!1)],gi.prototype,"allowDragAndDrop",void 0),ft([g(!1)],gi.prototype,"allowEditing",void 0),ft([g(!1)],gi.prototype,"allowMultiSelection",void 0),ft([U({},FP)],gi.prototype,"animation",void 0),ft([g()],gi.prototype,"checkedNodes",void 0),ft([g("")],gi.prototype,"cssClass",void 0),ft([g(!1)],gi.prototype,"disabled",void 0),ft([g(null)],gi.prototype,"dragArea",void 0),ft([g(!1)],gi.prototype,"enableHtmlSanitizer",void 0),ft([g(!1)],gi.prototype,"enablePersistence",void 0),ft([g()],gi.prototype,"expandedNodes",void 0),ft([g("Auto")],gi.prototype,"expandOn",void 0),ft([U({},Ko)],gi.prototype,"fields",void 0),ft([g(!0)],gi.prototype,"fullRowSelect",void 0),ft([g(!0)],gi.prototype,"loadOnDemand",void 0),ft([g()],gi.prototype,"locale",void 0),ft([g()],gi.prototype,"nodeTemplate",void 0),ft([g()],gi.prototype,"selectedNodes",void 0),ft([g("None")],gi.prototype,"sortOrder",void 0),ft([g(!1)],gi.prototype,"showCheckBox",void 0),ft([g(!0)],gi.prototype,"autoCheck",void 0),ft([g(!1)],gi.prototype,"fullRowNavigable",void 0),ft([F()],gi.prototype,"actionFailure",void 0),ft([F()],gi.prototype,"created",void 0),ft([F()],gi.prototype,"dataBound",void 0),ft([F()],gi.prototype,"dataSourceChanged",void 0),ft([F()],gi.prototype,"drawNode",void 0),ft([F()],gi.prototype,"destroyed",void 0),ft([F()],gi.prototype,"keyPress",void 0),ft([F()],gi.prototype,"nodeChecked",void 0),ft([F()],gi.prototype,"nodeChecking",void 0),ft([F()],gi.prototype,"nodeClicked",void 0),ft([F()],gi.prototype,"nodeCollapsed",void 0),ft([F()],gi.prototype,"nodeCollapsing",void 0),ft([F()],gi.prototype,"nodeDragging",void 0),ft([F()],gi.prototype,"nodeDragStart",void 0),ft([F()],gi.prototype,"nodeDragStop",void 0),ft([F()],gi.prototype,"nodeDropped",void 0),ft([F()],gi.prototype,"nodeEdited",void 0),ft([F()],gi.prototype,"nodeEditing",void 0),ft([F()],gi.prototype,"nodeExpanded",void 0),ft([F()],gi.prototype,"nodeExpanding",void 0),ft([F()],gi.prototype,"nodeSelected",void 0),ft([F()],gi.prototype,"nodeSelecting",void 0),gi=TP=ft([ii],gi);var cr=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const NP="e-sidebar",gc="e-close",wh="e-open",BP="e-transition",EW="e-backdrop",rw="e-right",ow="e-left",hb="e-over",ym="e-push",E1="e-slide",VP="e-visibility",DW="e-disable-animation",HP="e-sidebar-context",jP="e-sidebar-absolute";let er=class extends $i{constructor(e,t){super(e,t)}preRender(){this.setWidth()}render(){this.initialize(),this.wireEvents(),this.renderComplete()}initialize(){this.setTarget(),this.addClass(),this.setZindex(),this.enableDock&&this.setDock(),this.isOpen?this.show():this.setMediaQuery(),this.checkType(!0),this.setType(this.type),this.setCloseOnDocumentClick(),this.setEnableRTL(),T.isDevice&&(this.windowWidth=window.innerWidth)}setEnableRTL(){(this.enableRtl?B:z)([this.element],"e-rtl")}setTarget(){this.targetEle=this.element.nextElementSibling,this.sidebarEleCopy=this.element.cloneNode(!0),"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),this.target&&(this.target.insertBefore(this.element,this.target.children[0]),B([this.element],jP),B([this.target],HP),this.targetEle=this.getTargetElement())}getTargetElement(){let e=this.element.nextElementSibling;for(;!f(e)&&e.classList.contains(NP);)e=e.nextElementSibling;return e}setCloseOnDocumentClick(){this.closeOnDocumentClick?S.add(document,"mousedown touchstart",this.documentclickHandler,this):S.remove(document,"mousedown touchstart",this.documentclickHandler)}setWidth(){this.enableDock&&"Left"===this.position||this.enableDock&&"Right"===this.position?qe(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock||qe(this.element,{width:this.setDimension(this.width)})}setDimension(e){return"number"==typeof e?Be(e):"string"==typeof e?e.match(/px|%|em/)?e:Be(e):"100%"}setZindex(){qe(this.element,{"z-index":""+this.zIndex})}addClass(){"EJS-SIDEBAR"===this.element.tagName&&B([this.element],"e-sidebar-display");const e=document.querySelector(".e-main-content");f(e||this.targetEle)||B([e||this.targetEle],["e-content-animation"]),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",!this.enableDock&&"Auto"!==this.type&&B([this.element],[VP]),z([this.element],[wh,gc,rw,ow,E1,ym,hb]),this.element.classList.add(NP),B([this.element],"Right"===this.position?rw:ow),this.enableDock&&B([this.element],"e-dock"),this.element.setAttribute("tabindex",this.tabIndex),"Auto"!==this.type||T.isDevice?this.isOpen||B([this.element],gc):this.show()}checkType(e){"Push"===this.type||"Over"===this.type||"Slide"===this.type?!this.element.classList.contains(gc)&&!e&&this.hide():this.type="Auto"}transitionEnd(e){this.setDock(),f(e)||this.triggerChange(),S.remove(this.element,"transitionend",this.transitionEnd)}destroyBackDrop(){const e=document.querySelector(".e-main-content")||this.targetEle;this.target&&this.showBackdrop&&e?z([e],EW):this.showBackdrop&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)}hide(e){const t={model:this,element:this.element,cancel:!1,isInteracted:!f(e),event:e||null};this.trigger("close",t,i=>{if(!i.cancel){if(this.element.classList.contains(gc))return;this.element.classList.contains(wh)&&!this.animate&&this.triggerChange(),B([this.element],gc),z([this.element],wh),qe(this.element,{width:Be(this.enableDock?this.dockSize:this.width)}),this.setType(this.type);const s=document.querySelector(".e-main-content")||this.targetEle;!this.enableDock&&s&&(s.style.transform="translateX(0px)",s.style["Left"===this.position?"marginLeft":"marginRight"]="0px"),this.destroyBackDrop(),this.setAnimation(),"Slide"===this.type&&document.body.classList.remove("e-sidebar-overflow"),this.setProperties({isOpen:!1},!0),this.enableDock&&setTimeout(()=>this.setTimeOut(),50),S.add(this.element,"transitionend",this.transitionEnd,this)}})}setTimeOut(){const e=document.querySelector(".e-main-content")||this.targetEle,t=this.element.getBoundingClientRect().width;this.element.classList.contains(wh)&&e?"Left"===this.position?e.style.marginLeft=this.setDimension("auto"===this.width?t:this.width):e.style.marginRight=this.setDimension("auto"===this.width?t:this.width):this.element.classList.contains(gc)&&e&&("Left"===this.position?e.style.marginLeft=this.setDimension("auto"===this.dockSize?t:this.dockSize):e.style.marginRight=this.setDimension("auto"===this.dockSize?t:this.dockSize))}show(e){const t={model:this,element:this.element,cancel:!1,isInteracted:!f(e),event:e||null};this.trigger("open",t,i=>{if(!i.cancel){if(z([this.element],VP),this.element.classList.contains(wh))return;this.element.classList.contains(gc)&&!this.animate&&this.triggerChange(),B([this.element],[wh,BP]),qe(this.element,{transform:""}),z([this.element],gc),qe(this.element,{width:Be(this.width)}),this.setType(this.type),this.createBackDrop(),this.setAnimation(),"Slide"===this.type&&document.body.classList.add("e-sidebar-overflow"),this.setProperties({isOpen:!0},!0),S.add(this.element,"transitionend",this.transitionEnd,this)}})}setAnimation(){this.animate?z([this.element],DW):B([this.element],DW)}triggerChange(){this.trigger("change",{name:"change",element:this.element})}setDock(){this.enableDock&&"Left"===this.position&&!this.getState()?qe(this.element,{transform:"translateX(-100%) translateX("+this.setDimension(this.dockSize)+")"}):this.enableDock&&"Right"===this.position&&!this.getState()&&qe(this.element,{transform:"translateX(100%) translateX(-"+this.setDimension(this.dockSize)+")"}),this.element.classList.contains(gc)&&this.enableDock&&qe(this.element,{width:this.setDimension(this.dockSize)})}createBackDrop(){this.target&&this.showBackdrop&&this.getState()?B([document.querySelector(".e-main-content")||this.targetEle],EW):this.showBackdrop&&!this.modal&&this.getState()&&(this.modal=this.createElement("div"),this.modal.className="e-sidebar-overlay",this.modal.style.display="block",document.body.appendChild(this.modal))}getPersistData(){return this.addOnPersist(["type","position","isOpen"])}getModuleName(){return"sidebar"}toggle(){this.element.classList.contains(wh)?this.hide():this.show()}getState(){return!!this.element.classList.contains(wh)}setMediaQuery(){if(this.mediaQuery){let e=!1;e="string"==typeof this.mediaQuery?window.matchMedia(this.mediaQuery).matches:this.mediaQuery.matches,e&&this.windowWidth!==window.innerWidth?this.show():this.getState()&&this.windowWidth!==window.innerWidth&&this.hide()}}resize(){"Auto"===this.type&&B([this.element],T.isDevice?hb:ym),this.setMediaQuery(),T.isDevice&&(this.windowWidth=window.innerWidth)}documentclickHandler(e){K(e.target,".e-control."+NP)||this.hide(e)}enableGestureHandler(e){!this.isOpen&&"Left"===this.position&&"Right"===e.swipeDirection&&e.startX<=20&&e.distanceX>=50&&e.velocity>=.5?this.show():this.isOpen&&"Left"===this.position&&"Left"===e.swipeDirection||this.isOpen&&"Right"===this.position&&"Right"===e.swipeDirection?this.hide():!this.isOpen&&"Right"===this.position&&"Left"===e.swipeDirection&&window.innerWidth-e.startX<=20&&e.distanceX>=50&&e.velocity>=.5&&this.show()}setEnableGestures(){this.enableGestures?(this.mainContentEle=new wn(document.body,{swipe:this.enableGestureHandler.bind(this)}),this.sidebarEle=new wn(this.element,{swipe:this.enableGestureHandler.bind(this)})):this.mainContentEle&&this.sidebarEle&&(this.mainContentEle.destroy(),this.sidebarEle.destroy())}wireEvents(){this.setEnableGestures(),S.add(window,"resize",this.resize,this)}unWireEvents(){S.remove(window,"resize",this.resize),S.remove(document,"mousedown touchstart",this.documentclickHandler),this.mainContentEle&&this.mainContentEle.destroy(),this.sidebarEle&&this.sidebarEle.destroy()}onPropertyChanged(e,t){const i=document.querySelector(".e-main-content")||this.targetEle,s=this.isServerRendered;for(const r of Object.keys(e))switch(r){case"isOpen":this.isOpen?this.show():this.hide();break;case"width":this.setWidth(),this.getState()||this.setDock();break;case"animate":this.setAnimation();break;case"type":this.checkType(!1),z([this.element],[VP]),this.addClass(),B([this.element],"Auto"===this.type?T.isDevice?["e-over"]:["e-push"]:["e-"+this.type.toLowerCase()]);break;case"position":this.element.style.transform="",this.setDock(),i&&(i.style["Left"===this.position?"marginRight":"marginLeft"]="0px"),"Right"===this.position?(z([this.element],ow),B([this.element],rw)):(z([this.element],rw),B([this.element],ow)),this.setType(this.type);break;case"showBackdrop":this.showBackdrop?this.createBackDrop():this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null);break;case"target":"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),f(this.target)&&(z([this.element],jP),z([t.target],HP),qe(i,{"margin-left":0,"margin-right":0}),document.body.insertAdjacentElement("afterbegin",this.element)),this.isServerRendered=!1,super.refresh(),this.isServerRendered=s;break;case"closeOnDocumentClick":this.setCloseOnDocumentClick();break;case"enableDock":this.getState()||this.setDock();break;case"zIndex":this.setZindex();break;case"mediaQuery":this.setMediaQuery();break;case"enableGestures":this.setEnableGestures();break;case"enableRtl":this.setEnableRTL()}}setType(e){const t=this.element.getBoundingClientRect().width;this.setZindex();const i=document.querySelector(".e-main-content")||this.targetEle;i&&(i.style.transform="translateX(0px)",!T.isDevice&&"Auto"!==this.type&&(i.style["Left"===this.position?"marginLeft":"marginRight"]="0px"));const s=t+"px",r="Left"===this.position?t:-t;switch(z([this.element],[ym,hb,E1]),e){case"Push":B([this.element],[ym]),i&&(this.enableDock||this.element.classList.contains(wh))&&(i.style["Left"===this.position?"marginLeft":"marginRight"]=s);break;case"Slide":B([this.element],[E1]),i&&(this.enableDock||this.element.classList.contains(wh))&&(i.style.transform="translateX("+r+"px)");break;case"Over":B([this.element],[hb]),this.enableDock&&this.element.classList.contains(gc)&&i&&(i.style["Left"===this.position?"marginLeft":"marginRight"]=s);break;case"Auto":B([this.element],[BP]),T.isDevice?i&&this.enableDock&&!this.getState()?(i.style["Left"===this.position?"marginLeft":"marginRight"]=s,B([this.element],ym)):B([this.element],hb):(B([this.element],ym),i&&(this.enableDock||this.element.classList.contains(wh))&&(i.style["Left"===this.position?"marginLeft":"marginRight"]=s)),this.createBackDrop()}}destroy(){super.destroy(),this.target&&z([this.target],HP),this.destroyBackDrop(),this.element&&(z([this.element],[wh,gc,ym,E1,hb,ow,rw,BP]),z([this.element],jP),this.element.style.width="",this.element.style.zIndex="",this.element.style.transform="",f(this.sidebarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.windowWidth=null;const e=document.querySelector(".e-main-content")||this.targetEle;f(e)||(e.style.margin="",e.style.transform=""),this.unWireEvents()}};cr([g("auto")],er.prototype,"dockSize",void 0),cr([g(null)],er.prototype,"mediaQuery",void 0),cr([g(!1)],er.prototype,"enableDock",void 0),cr([g("en-US")],er.prototype,"locale",void 0),cr([g(!1)],er.prototype,"enablePersistence",void 0),cr([g(!0)],er.prototype,"enableGestures",void 0),cr([g(!1)],er.prototype,"isOpen",void 0),cr([g(!1)],er.prototype,"enableRtl",void 0),cr([g(!0)],er.prototype,"animate",void 0),cr([g("auto")],er.prototype,"height",void 0),cr([g(!1)],er.prototype,"closeOnDocumentClick",void 0),cr([g("Left")],er.prototype,"position",void 0),cr([g(null)],er.prototype,"target",void 0),cr([g(!1)],er.prototype,"showBackdrop",void 0),cr([g("Auto")],er.prototype,"type",void 0),cr([g("auto")],er.prototype,"width",void 0),cr([g(1e3)],er.prototype,"zIndex",void 0),cr([F()],er.prototype,"created",void 0),cr([F()],er.prototype,"close",void 0),cr([F()],er.prototype,"open",void 0),cr([F()],er.prototype,"change",void 0),cr([F()],er.prototype,"destroyed",void 0),er=cr([ii],er);var po=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const cb="e-icon-right",db="e-breadcrumb-text",zP="e-breadcrumb-icon";class D1 extends he{}po([g("")],D1.prototype,"text",void 0),po([g("")],D1.prototype,"url",void 0),po([g(null)],D1.prototype,"iconCss",void 0);let Qo=class extends $i{constructor(e,t){super(e,t)}preRender(){}render(){this.initialize(),this.renderItems(this.items),this.wireEvents()}initialize(){this._maxItems=this.maxItems,this.element.setAttribute("aria-label","breadcrumb"),this.cssClass&&B([this.element],this.cssClass.split(" ")),this.setWidth(),this.initItems(),this.initPvtProps()}initPvtProps(){"Default"===this.overflowMode&&this._maxItems>0&&(this.startIndex=this.items.length-(this._maxItems-1),this.endIndex=this.items.length-1)}setWidth(){this.width&&(this.element.style.width=this.width)}initItems(){if(!this.items.length){let e,t;const i=[];if(this.url){const s=new URL(this.url);e=s.origin+"/",t=s.href.split(e)[1].split("/")}else e=window.location.origin+"/",t=window.location.href.split(e)[1].split("/");i.push({iconCss:"e-icons e-home",url:e});for(let s=0;s<t.length;s++)i.push({text:t[s],url:e+t[s]}),e+=t[s]+"/";this.setProperties({items:i},!0)}}renderItems(e){let t,i;const s=this.element.classList.contains(cb),r=e.length;if(r){let o,a,l=0;const h=2*r-1,c=this.createElement("ol"),d=this.hasField(e,"iconCss"),u=this.element.classList.contains("e-disabled"),p="Collapsed"===this.overflowMode&&this._maxItems>0&&r>this.maxItems&&!this.isExpanded,m="Default"===this.overflowMode&&this._maxItems>0,y={moduleName:this.getModuleName(),showIcon:d,itemNavigable:!0,itemCreated:b=>{const v=b.curData.isLastItem;v&&b.item.children.length&&!this.itemTemplate&&(delete b.curData.isLastItem,b.item.innerHTML=this.createElement("span",{className:db,innerHTML:b.item.children[0].innerHTML}).outerHTML),b.curData.iconCss&&!b.curData.text&&!this.itemTemplate&&b.item.classList.add("e-icon-item"),m&&b.item.setAttribute("item-index",l.toString()),b.item.querySelector("."+db)&&(S.add(b.item.querySelector("."+db),"focus",()=>{b.item.classList.add("e-focus")},this),S.add(b.item.querySelector("."+db),"focusout",()=>{b.item.classList.remove("e-focus")},this));const C={item:fe({},b.curData.properties?b.curData.properties:b.curData),element:b.item};this.trigger("beforeItemRender",C);const w=u||C.element.classList.contains("e-disabled"),_=s||C.element.classList.contains(cb);_&&b.curData.iconCss&&!this.itemTemplate&&b.item.querySelector(".e-anchor-wrap").append(b.item.querySelector("."+zP)),w&&b.item.setAttribute("aria-disabled","true"),b.curData.isEmptyUrl&&(b.item.children[0].removeAttribute("href"),(!v||v&&this.enableActiveItemNavigation)&&!w&&(b.item.children[0].setAttribute("tabindex","0"),S.add(b.item.children[0],"keydown",this.keyDownHandler,this))),this.itemTemplate||this.beforeItemRenderChanges(b.curData,C.item,b.item,_)}};for(let b=0;b<h;b%2&&l++,b++)if(o=this.activeItem&&this.activeItem===e[l].url,!(p&&b>1&&b<h-2)&&(!m||!(l<this.startIndex||l>this.endIndex)||b%2&&l===this.startIndex-1||0===l)){if(b%2?(y.template=this.separatorTemplate?this.separatorTemplate:"/",y.itemClass="e-breadcrumb-separator",i=!1,t=[{previousItem:t.pop(),nextItem:e[l]}]):(y.itemClass="",this.itemTemplate?(y.template=this.itemTemplate,i=!1):i=!0,t=[fe({},e[l].properties?e[l].properties:e[l])],!t[0].url&&!this.itemTemplate&&(t=[fe({},t[0],{isEmptyUrl:!0,url:"#"})]),a=m&&l===this.endIndex,((b===h-1||a)&&!this.itemTemplate||o)&&!this.enableActiveItemNavigation&&(t[0].isLastItem=!0)),ys(an.createList(this.createElement,t,y,i,this).childNodes,c),p&&1===b){const v=this.createElement("li",{className:"e-icons e-breadcrumb-collapsed",attrs:{tabindex:"0"}});S.add(v,"keyup",this.expandHandler,this),c.append(v)}if(o||a)break}this.isReact&&this.renderReactTemplates(),this.element.append(c),this.calculateMaxItems()}}calculateMaxItems(){if(!this._maxItems&&("Default"===this.overflowMode||"Collapsed"===this.overflowMode)){const e=this.element.offsetWidth;let t=this.element.children[0].children[0].offsetWidth;const i=[].slice.call(this.element.children[0].children).reverse();for(let s=0;s<i.length;s++){if(t>e)return this._maxItems=Math.ceil((s-1)/2)+1,this.initPvtProps(),this.reRenderItems();t+=i[s].offsetWidth}}}hasField(e,t){for(let i=0,s=e.length;i<s;i++)if(e[i][t])return!0;return!1}beforeItemRenderChanges(e,t,i,s){const r=i.querySelector(".e-anchor-wrap");if(t.text!==e.text&&r.childNodes.forEach(o=>{o.nodeType===Node.TEXT_NODE&&(o.textContent=t.text)}),t.iconCss!==e.iconCss){const o=i.querySelector("."+zP);if(o)t.iconCss?(z([o],e.iconCss.split(" ")),B([o],t.iconCss.split(" "))):o.remove();else if(t.iconCss){const a=this.createElement("span",{className:zP+" "+t.iconCss});s?ys([a],r):r.insertBefore(a,r.childNodes[0])}}if(t.url!==e.url&&this.enableNavigation){const o=i.querySelector("a."+db);o&&(t.url?o.setAttribute("href",t.url):o.removeAttribute("href"))}}reRenderItems(){this.element.innerHTML="",this.renderItems(this.items)}clickHandler(e){const t=K(e.target,".e-breadcrumb-item");if(t&&(K(e.target,"."+db)||this.itemTemplate)){let i=[].slice.call(t.parentElement.children).indexOf(t);i=Math.floor(i/2),"Default"===this.overflowMode&&this._maxItems>0&&0!==this.endIndex&&(i=parseInt(t.getAttribute("item-index"),10),this.startIndex>1&&(this.startIndex-=this.endIndex-i),this.endIndex=i,this.reRenderItems()),this.trigger("itemClick",{element:t,item:this.items[i],event:e}),this.items[i].url&&(this.activeItem=this.items[i].url,this.dataBind())}this.enableNavigation||e.preventDefault(),e.target.classList.contains("e-breadcrumb-collapsed")&&(this.isExpanded=!0,this.reRenderItems())}resize(){this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems()}expandHandler(e){"Enter"===e.key&&(this.isExpanded=!0,this.reRenderItems())}keyDownHandler(e){"Enter"===e.key&&this.clickHandler(e)}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"activeItem":case"items":case"enableActiveItemNavigation":this.reRenderItems();break;case"overflowMode":case"maxItems":this.initPvtProps(),this.reRenderItems();break;case"url":this.initItems(),this.reRenderItems();break;case"width":this.setWidth(),this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems();break;case"cssClass":t.cssClass&&z([this.element],t.cssClass.split(" ")),e.cssClass&&B([this.element],e.cssClass.split(" ")),(t.cssClass&&t.cssClass.indexOf(cb)>-1&&!(e.cssClass&&e.cssClass.indexOf(cb)>-1)||!(t.cssClass&&t.cssClass.indexOf(cb)>-1)&&e.cssClass&&e.cssClass.indexOf(cb)>-1)&&this.reRenderItems()}}wireEvents(){S.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resize.bind(this))}unWireEvents(){S.remove(this.element,"click",this.clickHandler),window.removeEventListener("resize",this.resize.bind(this))}getPersistData(){return this.addOnPersist(["activeItem"])}getModuleName(){return"breadcrumb"}destroy(){this.unWireEvents(),this.element.innerHTML="",this.cssClass&&z([this.element],this.cssClass.split(" "))}};po([g("")],Qo.prototype,"url",void 0),po([Di([],D1)],Qo.prototype,"items",void 0),po([g("")],Qo.prototype,"activeItem",void 0),po([g(0)],Qo.prototype,"maxItems",void 0),po([g("Default")],Qo.prototype,"overflowMode",void 0),po([g("")],Qo.prototype,"cssClass",void 0),po([g("")],Qo.prototype,"width",void 0),po([g(null)],Qo.prototype,"itemTemplate",void 0),po([g("/")],Qo.prototype,"separatorTemplate",void 0),po([g(!0)],Qo.prototype,"enableNavigation",void 0),po([g(!1)],Qo.prototype,"enableActiveItemNavigation",void 0),po([g("")],Qo.prototype,"locale",void 0),po([F()],Qo.prototype,"beforeItemRender",void 0),po([F()],Qo.prototype,"itemClick",void 0),po([F()],Qo.prototype,"created",void 0),Qo=po([ii],Qo);var Gn=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const yc="e-other-month",WP="e-other-year",aw="e-calendar",MW="e-device",UP="e-year",GP="e-month",AW="e-decade",TW="e-icons",dr="e-disabled",Vp="e-overlay",YP="e-week-number",Wa="e-selected",Jo="e-focused-date",M1="e-month-hide",LW="e-today",k1="e-zoomin",PW="e-calendar-day-header-lg",qP=864e5;let OW=(()=>{let n=class extends $i{constructor(t,i){super(t,i),this.effect="",this.isPopupClicked=!1,this.isDateSelected=!0,this.isTodayClicked=!1,this.preventChange=!1,this.isAngular=!1}render(){this.rangeValidation(this.min,this.max),this.calendarEleCopy=this.element.cloneNode(!0),"Islamic"===this.calendarMode&&(+this.min.setSeconds(0)==+new Date(1900,0,1,0,0,0)&&(this.min=new Date(1944,2,18)),+this.max==+new Date(2099,11,31)&&(this.max=new Date(2069,10,16))),this.globalize=new Gs(this.locale),(f(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.todayDisabled=!1,this.todayDate=new Date((new Date).setHours(0,0,0,0)),"calendar"===this.getModuleName()?(this.element.classList.add(aw),this.enableRtl&&this.element.classList.add("e-rtl"),T.isDevice&&this.element.classList.add(MW),we(this.element,{"data-role":"calendar"}),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.setAttribute("tabindex",this.tabIndex)):(this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(aw),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),T.isDevice&&this.calendarElement.classList.add(MW),we(this.calendarElement,{role:"calendar"})),this.createHeader(),this.createContent(),this.wireEvents()}rangeValidation(t,i){f(t)&&this.setProperties({min:new Date(1900,0,1)},!0),f(i)&&this.setProperties({max:new Date(2099,11,31)},!0)}getDefaultKeyConfig(){return this.defaultKeyConfigs={controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",altUpArrow:"alt+uparrow",spacebar:"space",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"},this.defaultKeyConfigs}validateDate(t){this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.currentDate=this.currentDate?this.currentDate:new Date((new Date).setHours(0,0,0,0)),!f(t)&&this.min<=this.max&&t>=this.min&&t<=this.max&&(this.currentDate=new Date(this.checkValue(t)))}setOverlayIndex(t,i,s,r){if(r&&!f(i)&&!f(s)&&!f(t)){const o=parseInt(i.style.zIndex,10)?parseInt(i.style.zIndex,10):1e3;s.style.zIndex=(o-1).toString(),t.style.zIndex=o.toString()}}minMaxUpdate(t){+this.min<=+this.max?z([this.element],Vp):(this.setProperties({min:this.min},!0),B([this.element],Vp)),this.min=f(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=f(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,+this.min<=+this.max&&t&&+t<=+this.max&&+t>=+this.min?this.currentDate=new Date(this.checkValue(t)):+this.min<=+this.max&&!t&&+this.currentDate>+this.max?this.currentDate=new Date(this.checkValue(this.max)):+this.currentDate<+this.min&&(this.currentDate=new Date(this.checkValue(this.min)))}createHeader(){this.headerElement=this.createElement("div",{className:"e-header"});const r=this.createElement("div",{className:"e-icon-container"});this.previousIcon=this.createElement("button",{className:"e-prev",attrs:{type:"button"}}),rn(this.previousIcon,{duration:400,selector:".e-prev",isCenterRipple:!0}),we(this.previousIcon,{"aria-disabled":"false","aria-label":"previous month"}),this.nextIcon=this.createElement("button",{className:"e-next",attrs:{type:"button"}}),rn(this.nextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),we(this.nextIcon,{"aria-disabled":"false","aria-label":"next month"}),this.headerTitleElement=this.createElement("div",{className:"e-day e-title"}),we(this.headerTitleElement,{"aria-atomic":"true","aria-live":"assertive","aria-label":"title"}),this.headerElement.appendChild(this.headerTitleElement),this.previousIcon.appendChild(this.createElement("span",{className:"e-date-icon-prev "+TW})),this.nextIcon.appendChild(this.createElement("span",{className:"e-date-icon-next  "+TW})),r.appendChild(this.previousIcon),r.appendChild(this.nextIcon),this.headerElement.appendChild(r),"calendar"===this.getModuleName()?this.element.appendChild(this.headerElement):this.calendarElement.appendChild(this.headerElement),this.adjustLongHeaderSize()}createContent(){this.contentElement=this.createElement("div",{className:"e-content"}),this.table=this.createElement("table",{attrs:{tabIndex:"0",role:"grid","aria-activedescendant":""}}),"calendar"===this.getModuleName()?this.element.appendChild(this.contentElement):this.calendarElement.appendChild(this.contentElement),this.contentElement.appendChild(this.table),this.createContentHeader(),this.createContentBody(),this.showTodayButton&&this.createContentFooter()}getCultureValues(){const t=[];let i;const s="days.stand-alone."+this.dayHeaderFormat.toLowerCase();i="en"===this.locale||"en-US"===this.locale?Q(s,up()):this.getCultureObjects(Wr,""+this.locale);for(const r of Object.keys(i))t.push(Q(r,i));return t}toCapitalize(t){return!f(t)&&t.length?t[0].toUpperCase()+t.slice(1):t}createContentHeader(){"calendar"===this.getModuleName()?f(this.element.querySelectorAll(".e-content .e-week-header")[0])||ie(this.element.querySelectorAll(".e-content .e-week-header")[0]):f(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0])||ie(this.calendarElement.querySelectorAll(".e-content .e-week-header")[0]);let i="";(this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:0},!0),this.tableHeadElement=this.createElement("thead",{className:"e-week-header"}),this.weekNumber&&(i+='<th class="e-week-number"></th>',"calendar"===this.getModuleName()?B([this.element],""+YP):B([this.calendarElement],""+YP));const s=this.shiftArray(this.getCultureValues().length>0&&this.getCultureValues(),this.firstDayOfWeek);for(let r=0;r<=6;r++)i+='<th  class="">'+this.toCapitalize(s[r])+"</th>";i="<tr>"+i+"</tr>",this.tableHeadElement.innerHTML=i,this.table.appendChild(this.tableHeadElement)}createContentBody(){switch("calendar"===this.getModuleName()?f(this.element.querySelectorAll(".e-content tbody")[0])||ie(this.element.querySelectorAll(".e-content tbody")[0]):f(this.calendarElement.querySelectorAll(".e-content tbody")[0])||ie(this.calendarElement.querySelectorAll(".e-content tbody")[0]),this.start){case"Year":this.renderYears();break;case"Decade":this.renderDecades();break;default:this.renderMonths()}}updateFooter(){this.todayElement.textContent=this.l10.getConstant("today"),this.todayElement.setAttribute("aria-label",this.l10.getConstant("today"))}createContentFooter(){if(this.showTodayButton){const t=new Date(+this.min),i=new Date(+this.max),s={today:"Today"};this.globalize=new Gs(this.locale),this.l10=new Na(this.getModuleName(),s,this.locale),this.todayElement=this.createElement("button",{attrs:{role:"button"}}),rn(this.todayElement),this.updateFooter(),B([this.todayElement],["e-btn",LW,"e-flat","e-primary","e-css"]),(!(+new Date(t.setHours(0,0,0,0))<=+this.todayDate&&+this.todayDate<=+new Date(i.setHours(0,0,0,0)))||this.todayDisabled)&&B([this.todayElement],dr),this.footer=this.createElement("div",{className:"e-footer-container"}),this.footer.appendChild(this.todayElement),"calendar"===this.getModuleName()&&this.element.appendChild(this.footer),"datepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),"datetimepicker"===this.getModuleName()&&this.calendarElement.appendChild(this.footer),this.todayElement.classList.contains(dr)||S.add(this.todayElement,"click",this.todayButtonClick,this)}}wireEvents(t,i,s,r){S.add(this.headerTitleElement,"click",this.navigateTitle,this),this.defaultKeyConfigs=fe(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModule="calendar"===this.getModuleName()?new Ds(this.element,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}):new Ds(this.calendarElement,{eventName:"keydown",keyAction:this.keyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})}dateWireEvents(t,i,s,r){this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.defaultKeyConfigs=fe(this.defaultKeyConfigs,s),this.serverModuleName=r}todayButtonClick(t,i,s){this.showTodayButton&&(this.effect=this.currentView()===this.depth?"":"e-zoomin",this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?this.navigateTo(this.depth,new Date(this.checkValue(i)),s):this.navigateTo("Month",new Date(this.checkValue(i)),s))}resetCalendar(){this.calendarElement&&ie(this.calendarElement),this.tableBodyElement&&ie(this.tableBodyElement),this.table&&ie(this.table),this.tableHeadElement&&ie(this.tableHeadElement),this.nextIcon&&ie(this.nextIcon),this.previousIcon&&ie(this.previousIcon),this.footer&&ie(this.footer),this.todayElement=null,this.renderDayCellArgs=null,this.calendarElement=this.tableBodyElement=this.footer=this.tableHeadElement=this.nextIcon=this.previousIcon=this.table=null}keyActionHandle(t,i,s){const r=this.tableBodyElement.querySelector("tr td.e-focused-date");let o;o=s?f(r)||+i!==parseInt(r.getAttribute("id").split("_")[0],10)?this.tableBodyElement.querySelector("tr td.e-selected"):r:this.tableBodyElement.querySelector("tr td.e-selected");let a=this.getViewNumber(this.currentView());const l=this.getViewNumber(this.depth),h=a===l&&this.getViewNumber(this.start)>=l;switch(this.effect="",t.action){case"moveLeft":this.keyboardNavigate(-1,a,t,this.max,this.min),t.preventDefault();break;case"moveRight":this.keyboardNavigate(1,a,t,this.max,this.min),t.preventDefault();break;case"moveUp":this.keyboardNavigate(0===a?-7:-4,a,t,this.max,this.min),t.preventDefault();break;case"moveDown":this.keyboardNavigate(0===a?7:4,a,t,this.max,this.min),t.preventDefault();break;case"select":if(t.target===this.todayElement)this.todayButtonClick(t,i);else{const c=f(r)?o:r;if(!f(c)&&!c.classList.contains(dr))if(h){const d=new Date(parseInt(""+c.id,0));this.selectDate(t,d,c)}else this.contentClick(null,--a,c,i)}break;case"controlUp":this.title(),t.preventDefault();break;case"controlDown":(!f(r)||!f(o)&&!h)&&this.contentClick(null,--a,r||o,i),t.preventDefault();break;case"home":this.currentDate=this.firstDay(this.currentDate),ie(this.tableBodyElement),0===a?this.renderMonths(t):1===a?this.renderYears(t):this.renderDecades(t),t.preventDefault();break;case"end":this.currentDate=this.lastDay(this.currentDate,a),ie(this.tableBodyElement),0===a?this.renderMonths(t):1===a?this.renderYears(t):this.renderDecades(t),t.preventDefault();break;case"pageUp":this.addMonths(this.currentDate,-1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"pageDown":this.addMonths(this.currentDate,1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"shiftPageUp":this.addYears(this.currentDate,-1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"shiftPageDown":this.addYears(this.currentDate,1),this.navigateTo("Month",this.currentDate),t.preventDefault();break;case"controlHome":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),0,1)),t.preventDefault();break;case"controlEnd":this.navigateTo("Month",new Date(this.currentDate.getFullYear(),11,31)),t.preventDefault()}"calendar"===this.getModuleName()&&this.table.focus()}keyboardNavigate(t,i,s,r,o){const a=new Date(this.checkValue(this.currentDate));switch(i){case 2:this.addYears(this.currentDate,t),this.isMonthYearRange(this.currentDate)?(ie(this.tableBodyElement),this.renderDecades(s)):this.currentDate=a;break;case 1:this.addMonths(this.currentDate,t),this.isMonthYearRange(this.currentDate)?(ie(this.tableBodyElement),this.renderYears(s)):this.currentDate=a;break;case 0:this.addDay(this.currentDate,t,s,r,o),this.isMinMaxRange(this.currentDate)?(ie(this.tableBodyElement),this.renderMonths(s)):this.currentDate=a}}preRender(t){this.navigatePreviousHandler=this.navigatePrevious.bind(this),this.navigateNextHandler=this.navigateNext.bind(this),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.navigateHandler=i=>{this.triggerNavigate(i)}}minMaxDate(t){const i=new Date(new Date(+t).setHours(0,0,0,0)),s=new Date(new Date(+this.min).setHours(0,0,0,0)),r=new Date(new Date(+this.max).setHours(0,0,0,0));return(+i==+s||+i==+r)&&(+t<+this.min&&(t=new Date(+this.min)),+t>+this.max&&(t=new Date(+this.max))),t}renderMonths(t,i,s){const r=this.weekNumber?8:7;let o;o="Gregorian"===this.calendarMode?this.renderDays(this.currentDate,i,null,null,s):this.islamicModule.islamicRenderDays(this.currentDate,i),this.createContentHeader(),"Gregorian"===this.calendarMode?this.renderTemplate(o,r,GP,t,i):this.islamicModule.islamicRenderTemplate(o,r,GP,t,i)}renderDays(t,i,s,r,o){const a=[],h=o?new Date(+t):this.getDate(new Date,this.timezone);let d,c=new Date(this.checkValue(t));const u=c.getMonth();this.titleUpdate(t,"days");const p=c;for(c=new Date(p.getFullYear(),p.getMonth(),0,p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds());c.getDay()!==this.firstDayOfWeek;)this.setStartDate(c,-1*qP);for(let m=0;m<42;++m){const y=this.createElement("td",{className:"e-cell"}),b=this.createElement("span");if(m%7==0&&this.weekNumber){const X="FirstDay"===this.weekRule?6:"FirstFourDayWeek"===this.weekRule?3:0,H=new Date(c.getFullYear(),c.getMonth(),c.getDate()+X);b.textContent=""+this.getWeek(H),y.appendChild(b),B([y],""+YP),a.push(y)}d=new Date(+c),c=this.minMaxDate(c);const v={type:"dateTime",skeleton:"full"},C=this.globalize.parseDate(this.globalize.formatDate(c,v),v),w=this.dayCell(c),_=this.globalize.formatDate(c,{type:"date",skeleton:"full"}),k=this.createElement("span");k.textContent=this.globalize.formatDate(c,{format:"d",type:"date",skeleton:"yMd"});const D=this.min>c||this.max<c;D?(B([w],dr),B([w],Vp)):k.setAttribute("title",""+_),u!==c.getMonth()&&B([w],yc),(0===c.getDay()||6===c.getDay())&&B([w],"e-weekend"),w.appendChild(k),this.renderDayCellArgs={date:c,isDisabled:!1,element:w,isOutOfRange:D};const I=this.renderDayCellArgs;if(this.renderDayCellEvent(I),I.isDisabled){const X=new Date(this.checkValue(i)),H=new Date(this.checkValue(I.date));if(s){if(!f(r)&&r.length>0)for(let q=0;q<r.length;q++)+new Date(this.globalize.formatDate(I.date,{type:"date",skeleton:"yMd"}))==+new Date(this.globalize.formatDate(r[q],{type:"date",skeleton:"yMd"}))&&(r.splice(q,1),q=-1)}else X&&+X==+H&&this.setProperties({value:null},!0)}this.renderDayCellArgs.isDisabled&&!w.classList.contains(Wa)&&(B([w],dr),B([w],Vp),+this.renderDayCellArgs.date==+this.todayDate&&(this.todayDisabled=!0));const O=w.classList.contains(yc),N=w.classList.contains(dr);if(N||S.add(w,"click",this.clickHandler,this),!s||f(r)||N)!N&&this.getDateVal(c,i)&&B([w],Wa);else{for(let X=0;X<r.length;X++){const q={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};this.globalize.formatDate(c,q)===this.globalize.formatDate(r[X],q)&&this.getDateVal(c,r[X])||this.getDateVal(c,i)?B([w],Wa):this.updateFocus(O,N,c,w,t)}r.length<=0&&this.updateFocus(O,N,c,w,t)}this.updateFocus(O,N,c,w,t),C.getFullYear()===h.getFullYear()&&C.getMonth()===h.getMonth()&&C.getDate()===h.getDate()&&B([w],LW),a.push(this.renderDayCellArgs.element),c=new Date(+d),this.addDay(c,1,null,this.max,this.min)}return a}updateFocus(t,i,s,r,o){o.getDate()!==s.getDate()||t||i?(o>=this.max&&parseInt(r.id,0)===+this.max&&!t&&!i&&B([r],Jo),o<=this.min&&parseInt(r.id,0)===+this.min&&!t&&!i&&B([r],Jo)):B([r],Jo)}renderYears(t,i){this.removeTableHeadElement();const r=[],o=f(i),a=new Date(this.checkValue(this.currentDate)),l=a.getMonth(),h=a.getFullYear(),c=a,d=c.getFullYear(),u=new Date(this.checkValue(this.min)).getFullYear(),p=new Date(this.checkValue(this.min)).getMonth(),m=new Date(this.checkValue(this.max)).getFullYear(),y=new Date(this.checkValue(this.max)).getMonth();c.setMonth(0),this.titleUpdate(this.currentDate,"months"),c.setDate(1);for(let b=0;b<12;++b){const v=this.dayCell(c),C=this.createElement("span"),w=i&&i.getMonth()===c.getMonth(),_=i&&i.getFullYear()===h&&w;C.textContent=this.toCapitalize(this.globalize.formatDate(c,{format:null,type:"dateTime",skeleton:"MMM"})),this.min&&(d<u||b<p&&d===u)||this.max&&(d>m||b>y&&d>=m)?B([v],dr):!o&&_?B([v],Wa):c.getMonth()===l&&this.currentDate.getMonth()===l&&B([v],Jo),c.setDate(1),c.setMonth(c.getMonth()+1),v.classList.contains(dr)||S.add(v,"click",this.clickHandler,this),v.appendChild(C),r.push(v)}this.renderTemplate(r,4,UP,t,i)}renderDecades(t,i){this.removeTableHeadElement();const o=[],a=new Date(this.checkValue(this.currentDate));a.setMonth(0),a.setDate(1);const l=a.getFullYear(),h=new Date(a.setFullYear(l-l%10)),c=new Date(a.setFullYear(l-l%10+9)),d=h.getFullYear(),u=c.getFullYear(),p=this.globalize.formatDate(h,{format:null,type:"dateTime",skeleton:"y"}),m=this.globalize.formatDate(c,{format:null,type:"dateTime",skeleton:"y"});this.headerTitleElement.textContent=p+" - "+m;const b=new Date(l-l%10-1,0,1).getFullYear();for(let v=0;v<12;++v){const C=b+v;a.setFullYear(C);const w=this.dayCell(a);we(w,{role:"gridcell"});const _=this.createElement("span");_.textContent=this.globalize.formatDate(a,{format:null,type:"dateTime",skeleton:"y"}),C<d||C>u?(B([w],WP),!f(i)&&a.getFullYear()===i.getFullYear()&&B([w],Wa),(C<new Date(this.checkValue(this.min)).getFullYear()||C>new Date(this.checkValue(this.max)).getFullYear())&&B([w],dr)):C<new Date(this.checkValue(this.min)).getFullYear()||C>new Date(this.checkValue(this.max)).getFullYear()?B([w],dr):f(i)||a.getFullYear()!==i.getFullYear()?a.getFullYear()===this.currentDate.getFullYear()&&!w.classList.contains(dr)&&B([w],Jo):B([w],Wa),w.classList.contains(dr)||S.add(w,"click",this.clickHandler,this),w.appendChild(_),o.push(w)}this.renderTemplate(o,4,"e-decade",t,i)}dayCell(t){const s={skeleton:"full",type:"dateTime",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},a={className:"e-cell",attrs:{id:""+Us(""+this.globalize.parseDate(this.globalize.formatDate(t,s),s).valueOf()),"aria-selected":"false",role:"gridcell"}};return this.createElement("td",a)}firstDay(t){const i="Decade"!==this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+yc):this.tableBodyElement.querySelectorAll("td:not(."+WP);if(i.length)for(let s=0;s<i.length;s++)if(!i[s].classList.contains(dr)){t=new Date(parseInt(i[s].id,0));break}return t}lastDay(t,i){const s=new Date(t.getFullYear(),t.getMonth()+1,0);if(2!==i){const r=Math.abs(s.getTimezoneOffset()-this.firstDay(t).getTimezoneOffset());return r&&s.setHours(this.firstDay(t).getHours()+r/60),this.findLastDay(s)}return this.findLastDay(this.firstDay(s))}checkDateValue(t){return!f(t)&&t instanceof Date&&!isNaN(+t)?t:null}findLastDay(t){const i="Decade"===this.currentView()?this.tableBodyElement.querySelectorAll("td:not(."+WP):this.tableBodyElement.querySelectorAll("td:not(."+yc);if(i.length)for(let s=i.length-1;s>=0;s--)if(!i[s].classList.contains(dr)){t=new Date(parseInt(i[s].id,0));break}return t}removeTableHeadElement(){"calendar"===this.getModuleName()?f(this.element.querySelectorAll(".e-content table thead")[0])||ie(this.tableHeadElement):f(this.calendarElement.querySelectorAll(".e-content table thead")[0])||ie(this.tableHeadElement)}renderTemplate(t,i,s,r,o){const a=this.getViewNumber(this.currentView());let l;this.tableBodyElement=this.createElement("tbody"),this.table.appendChild(this.tableBodyElement),z([this.contentElement,this.headerElement],[GP,AW,UP]),B([this.contentElement,this.headerElement],[s]);let u=i,p=0;for(let m=0;m<t.length/i;++m){for(l=this.createElement("tr",{attrs:{role:"row"}}),p=0+p;p<u;p++)!t[p].classList.contains("e-week-number")&&!f(t[p].children[0])&&(B([t[p].children[0]],["e-day"]),rn(t[p].children[0],{duration:600,isCenterRipple:!0})),l.appendChild(t[p]),this.weekNumber&&7===p&&t[7].classList.contains(yc)&&B([l],M1),!this.weekNumber&&6===p&&t[6].classList.contains(yc)&&B([l],M1),this.weekNumber?41===p&&t[41].classList.contains(yc)&&B([l],M1):35===p&&t[35].classList.contains(yc)&&B([l],M1);u+=i,p+=0,this.tableBodyElement.appendChild(l)}this.table.querySelector("tbody").className=this.effect,"Gregorian"===this.calendarMode?this.iconHandler():this.islamicModule.islamicIconHandler(),(a!==this.getViewNumber(this.currentView())||0===a&&a!==this.getViewNumber(this.currentView()))&&this.navigateHandler(r),this.setAriaActiveDescendant()}clickHandler(t,i){this.clickEventEmitter(t);const s=t.currentTarget,r=this.getViewNumber(this.currentView());s.classList.contains(yc)?this.contentClick(t,0,null,i):r===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)||2===r?this.contentClick(t,1,null,i):s.classList.contains(yc)||0!==r?this.contentClick(t,0,s,i):this.selectDate(t,this.getIdValue(t,null),null),"calendar"===this.getModuleName()&&this.table.focus()}clickEventEmitter(t){t.preventDefault()}contentClick(t,i,s,r){const o=this.getViewNumber(this.currentView()),a=this.getIdValue(t,s);switch(i){case 0:o===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth)?(ie(this.tableBodyElement),this.currentDate=a,this.effect=k1,this.renderMonths(t)):("Gregorian"===this.calendarMode?(this.currentDate.setMonth(a.getMonth()),a.getMonth()>0&&this.currentDate.getMonth()!==a.getMonth()&&this.currentDate.setDate(0),this.currentDate.setFullYear(a.getFullYear())):this.currentDate=a,this.effect=k1,ie(this.tableBodyElement),this.renderMonths(t));break;case 1:if(o===this.getViewNumber(this.depth)&&this.getViewNumber(this.start)>=this.getViewNumber(this.depth))this.selectDate(t,a,null);else{if("Gregorian"===this.calendarMode)this.currentDate.setFullYear(a.getFullYear());else{const l=this.islamicModule.getIslamicDate(a);this.currentDate=this.islamicModule.toGregorian(l.year,l.month,1)}this.effect=k1,ie(this.tableBodyElement),this.renderYears(t)}}}switchView(t,i,s,r){switch(t){case 0:ie(this.tableBodyElement),this.renderMonths(i,null,r),s&&!f(this.tableBodyElement.querySelectorAll("."+Jo)[0])&&this.tableBodyElement.querySelectorAll("."+Jo)[0].classList.remove(Jo);break;case 1:ie(this.tableBodyElement),this.renderYears(i);break;case 2:ie(this.tableBodyElement),this.renderDecades(i)}}getModuleName(){return"calendar"}requiredModules(){const t=[];return this&&t.push({args:[this],member:"islamic"}),t}getPersistData(){return this.addOnPersist(["value"])}onPropertyChanged(t,i,s,r){this.effect="";for(const o of Object.keys(t))switch(o){case"enableRtl":t.enableRtl?"calendar"===this.getModuleName()?this.element.classList.add("e-rtl"):this.calendarElement.classList.add("e-rtl"):"calendar"===this.getModuleName()?this.element.classList.remove("e-rtl"):this.calendarElement.classList.remove("e-rtl");break;case"dayHeaderFormat":this.getCultureValues(),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentHeader(),this.adjustLongHeaderSize();break;case"min":case"max":this.rangeValidation(this.min,this.max),this.setProperties("min"===o?{min:this.checkDateValue(new Date(this.checkValue(t.min)))}:{max:this.checkDateValue(new Date(this.checkValue(t.max)))},!0),this.setProperties({start:this.currentView()},!0),this.tableBodyElement&&ie(this.tableBodyElement),this.minMaxUpdate(),s&&this.validateValues(s,r),("datepicker"!==this.getModuleName()||this.calendarElement)&&this.createContentBody(),(this.todayDate<this.min||this.max<this.todayDate)&&this.footer&&this.todayElement?(ie(this.todayElement),ie(this.footer),this.todayElement=this.footer=null,this.createContentFooter()):this.footer&&this.todayElement&&this.todayElement.classList.contains("e-disabled")&&(z([this.todayElement],dr),ie(this.todayElement),ie(this.footer),this.todayElement=this.footer=null,this.createContentFooter());break;case"start":case"depth":case"weekNumber":case"firstDayOfWeek":case"weekRule":this.checkView(),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody());break;case"locale":this.globalize=new Gs(this.locale),("datepicker"!==this.getModuleName()||this.calendarElement)&&(this.createContentHeader(),this.createContentBody()),this.l10.setLocale(this.locale),this.updateFooter();break;case"showTodayButton":t.showTodayButton?this.createContentFooter():!f(this.todayElement)&&!f(this.footer)&&(ie(this.todayElement),ie(this.footer),this.todayElement=this.footer=void 0),this.setProperties({showTodayButton:t.showTodayButton},!0)}}validateValues(t,i){if(t&&!f(i)&&i.length>0){const s=this.copyValues(i);for(let r=0;r<s.length;r++){const a="Gregorian"===this.calendarMode?"gregorian":"islamic";let l;l=this.globalize.formatDate(s[r],"Gregorian"===this.calendarMode?{type:"date",skeleton:"yMd"}:{type:"dateTime",skeleton:"full",calendar:"islamic"});const d=this.globalize.formatDate(this.min,{type:"date",skeleton:"yMd",calendar:a}),m=this.globalize.formatDate(this.max,{type:"date",skeleton:"yMd",calendar:a});(+new Date(l)<+new Date(d)||+new Date(l)>+new Date(m))&&(s.splice(r,1),r=-1)}this.setProperties({values:s},!0)}}setValueUpdate(){f(this.tableBodyElement)||(ie(this.tableBodyElement),this.setProperties({start:this.currentView()},!0),this.createContentBody())}copyValues(t){const i=[];if(!f(t)&&t.length>0)for(let s=0;s<t.length;s++)i.push(new Date(+t[s]));return i}titleUpdate(t,i){const s=new Gs(this.locale);let r,o;const a="Gregorian"===this.calendarMode?"gregorian":"islamic";switch("Gregorian"===this.calendarMode?(r=s.formatDate(t,{type:"dateTime",skeleton:"yMMMM",calendar:a}),o=s.formatDate(t,{format:null,type:"dateTime",skeleton:"y",calendar:a})):(r=s.formatDate(t,{type:"dateTime",format:"MMMM y",calendar:a}),o=s.formatDate(t,{type:"dateTime",format:"y",calendar:a})),i){case"days":this.headerTitleElement.textContent=this.toCapitalize(r);break;case"months":this.headerTitleElement.textContent=o}}setActiveDescendant(){let t;const i=this.tableBodyElement.querySelector("tr td.e-focused-date"),s=this.tableBodyElement.querySelector("tr td.e-selected"),r="Gregorian"===this.calendarMode?"gregorian":"islamic";let o;const a=this.currentView();return o=this.globalize.formatDate(this.currentDate,"Month"===a?{type:"date",skeleton:"full",calendar:r}:"Year"===a?"islamic"!==r?{type:"date",skeleton:"yMMMM",calendar:r}:{type:"date",skeleton:"GyMMM",calendar:r}:{format:null,type:"date",skeleton:"y",calendar:r}),(s||i)&&(f(s)||s.setAttribute("aria-selected","true"),(i||s).setAttribute("aria-label",o),t=(i||s).getAttribute("id")),t}iconHandler(){switch(new Date(this.checkValue(this.currentDate)).setDate(1),this.currentView()){case"Month":this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Year":this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)),this.max)>-1);break;case"Decade":this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.min)<1),this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)),this.max)>-1)}}destroy(){("calendar"===this.getModuleName()&&this.element||this.calendarElement&&this.element)&&z([this.element],[aw]),"calendar"===this.getModuleName()&&this.element&&(S.remove(this.headerTitleElement,"click",this.navigateTitle),this.todayElement&&S.remove(this.todayElement,"click",this.todayButtonClick),this.previousIconHandler(!0),this.nextIconHandler(!0),this.keyboardModule.destroy(),this.element.removeAttribute("data-role"),f(this.calendarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.element&&(this.element.innerHTML=""),super.destroy()}title(t){let i=this.getViewNumber(this.currentView());this.effect=k1,this.switchView(++i,t)}getViewNumber(t){return"Month"===t?0:"Year"===t?1:2}navigateTitle(t){t.preventDefault(),this.title(t),"calendar"===this.getModuleName()&&this.table.focus()}previous(){this.effect="";const t=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,-1),this.switchView(t);break;case"Year":this.addYears(this.currentDate,-1),this.switchView(t);break;case"Decade":this.addYears(this.currentDate,-10),this.switchView(t)}}navigatePrevious(t){t.preventDefault(),"Gregorian"===this.calendarMode?this.previous():this.islamicModule.islamicPrevious(),this.triggerNavigate(t),"calendar"===this.getModuleName()&&this.table.focus()}next(){this.effect="";const t=this.getViewNumber(this.currentView());switch(this.currentView()){case"Month":this.addMonths(this.currentDate,1),this.switchView(t);break;case"Year":this.addYears(this.currentDate,1),this.switchView(t);break;case"Decade":this.addYears(this.currentDate,10),this.switchView(t)}}navigateNext(t){t.preventDefault(),"Gregorian"===this.calendarMode?this.next():this.islamicModule.islamicNext(),this.triggerNavigate(t),"calendar"===this.getModuleName()&&this.table.focus()}navigateTo(t,i,s){+i>=+this.min&&+i<=+this.max&&(this.currentDate=i),+i<=+this.min&&(this.currentDate=new Date(this.checkValue(this.min))),+i>=+this.max&&(this.currentDate=new Date(this.checkValue(this.max))),this.getViewNumber(this.depth)>=this.getViewNumber(t)&&(this.getViewNumber(this.depth)<=this.getViewNumber(this.start)||this.getViewNumber(this.depth)===this.getViewNumber(t))&&(t=this.depth),this.switchView(this.getViewNumber(t),null,null,s)}currentView(){return this.contentElement.classList.contains(UP)?"Year":this.contentElement.classList.contains(AW)?"Decade":"Month"}getDateVal(t,i){return!f(i)&&t.getDate()===i.getDate()&&t.getMonth()===i.getMonth()&&t.getFullYear()===i.getFullYear()}getCultureObjects(t,i){const s=".dates.calendars.gregorian.days.format."+this.dayHeaderFormat.toLowerCase(),r=".dates.calendars.islamic.days.format."+this.dayHeaderFormat.toLowerCase();return Q("Gregorian"===this.calendarMode?"main."+this.locale+s:"main."+this.locale+r,t)}getWeek(t){const i=new Date(this.checkValue(t)).valueOf(),s=new Date(t.getFullYear(),0,1).valueOf();return Math.ceil((i-s+qP)/qP/7)}setStartDate(t,i){const s=t.getTimezoneOffset(),r=new Date(t.getTime()+i),o=r.getTimezoneOffset()-s;t.setTime(r.getTime()+6e4*o)}addMonths(t,i){if("Gregorian"===this.calendarMode){const s=t.getDate();t.setDate(1),t.setMonth(t.getMonth()+i),t.setDate(Math.min(s,this.getMaxDays(t)))}else{const s=this.islamicModule.getIslamicDate(t);this.currentDate=this.islamicModule.toGregorian(s.year,s.month+i,1)}}addYears(t,i){if("Gregorian"===this.calendarMode){const s=t.getDate();t.setDate(1),t.setFullYear(t.getFullYear()+i),t.setDate(Math.min(s,this.getMaxDays(t)))}else{const s=this.islamicModule.getIslamicDate(t);this.currentDate=this.islamicModule.toGregorian(s.year+i,s.month,1)}}getIdValue(t,i){let s;s=t?t.currentTarget:i;const o={type:"dateTime",skeleton:"full",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"},a=this.globalize.formatDate(new Date(parseInt(""+s.getAttribute("id"),0)),o),l=this.globalize.parseDate(a,o),h=l.valueOf()-l.valueOf()%1e3;return new Date(h)}adjustLongHeaderSize(){z([this.element],PW),"Wide"===this.dayHeaderFormat&&B(["calendar"===this.getModuleName()?this.element:this.calendarElement],PW)}selectDate(t,i,s,r,o){const a=s||t.currentTarget;if(this.isDateSelected=!1,"Decade"===this.currentView())this.setDateDecade(this.currentDate,i.getFullYear());else if("Year"===this.currentView())this.setDateYear(this.currentDate,i);else{if(r&&!this.checkPresentDate(i,o)){const h=this.copyValues(o);!f(o)&&h.length>0?(h.push(new Date(this.checkValue(i))),this.setProperties({values:h},!0),this.setProperties({value:o[o.length-1]},!0)):this.setProperties({values:[new Date(this.checkValue(i))]},!0)}else this.setProperties({value:new Date(this.checkValue(i))},!0);this.currentDate=new Date(this.checkValue(i))}let l=K(a,"."+aw);if(f(l)&&(l=this.tableBodyElement),!r&&!f(l.querySelector("."+Wa))&&z([l.querySelector("."+Wa)],Wa),!r&&!f(l.querySelector("."+Jo))&&z([l.querySelector("."+Jo)],Jo),r){const h=this.copyValues(o),c=Array.prototype.slice.call(this.tableBodyElement.querySelectorAll("td"));for(let d=0;d<c.length;d++){const u=l.querySelectorAll("td."+Jo)[0],p=l.querySelectorAll("td."+Wa)[0];c[d]===u&&z([c[d]],Jo),c[d]===p&&!this.checkPresentDate(new Date(parseInt(p.getAttribute("id").split("_")[0],10)),o)&&z([c[d]],Wa)}if(a.classList.contains(Wa)){z([a],Wa);for(let d=0;d<h.length;d++){const p={format:null,type:"date",skeleton:"short",calendar:"Gregorian"===this.calendarMode?"gregorian":"islamic"};if(this.globalize.formatDate(i,p)===this.globalize.formatDate(h[d],p)){const b=h.indexOf(h[d]);h.splice(b,1),B([a],Jo)}}this.setProperties({values:h},!0)}else B([a],Wa)}else B([a],Wa);this.isDateSelected=!0}checkPresentDate(t,i){let s=!1;if(!f(i))for(let r=0;r<i.length;r++){const o="Gregorian"===this.calendarMode?"gregorian":"islamic";this.globalize.formatDate(t,{format:null,type:"date",skeleton:"short",calendar:o})===this.globalize.formatDate(i[r],{format:null,type:"date",skeleton:"short",calendar:o})&&(s=!0)}return s}setAriaActiveDescendant(){we(this.table,{"aria-activedescendant":""+this.setActiveDescendant()})}previousIconHandler(t){t?(S.remove(this.previousIcon,"click",this.navigatePreviousHandler),B([this.previousIcon],""+dr),B([this.previousIcon],""+Vp),this.previousIcon.setAttribute("aria-disabled","true")):(S.add(this.previousIcon,"click",this.navigatePreviousHandler),z([this.previousIcon],""+dr),z([this.previousIcon],""+Vp),this.previousIcon.setAttribute("aria-disabled","false"))}renderDayCellEvent(t){fe(this.renderDayCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",t)}navigatedEvent(t){fe(this.navigatedArgs,{name:"navigated",event:t}),this.trigger("navigated",this.navigatedArgs)}triggerNavigate(t){this.navigatedArgs={view:this.currentView(),date:this.currentDate},this.navigatedEvent(t)}nextIconHandler(t){t?(S.remove(this.nextIcon,"click",this.navigateNextHandler),B([this.nextIcon],dr),B([this.nextIcon],Vp),this.nextIcon.setAttribute("aria-disabled","true")):(S.add(this.nextIcon,"click",this.navigateNextHandler),z([this.nextIcon],dr),z([this.nextIcon],Vp),this.nextIcon.setAttribute("aria-disabled","false"))}compare(t,i,s){let o,a,r=i.getFullYear();return o=r,a=0,s&&(r-=r%s,o=r-r%s+s-1),t.getFullYear()>o?a=1:t.getFullYear()<r&&(a=-1),a}isMinMaxRange(t){return+t>=+this.min&&+t<=+this.max}isMonthYearRange(t){if("Gregorian"===this.calendarMode)return t.getMonth()>=this.min.getMonth()&&t.getFullYear()>=this.min.getFullYear()&&t.getMonth()<=this.max.getMonth()&&t.getFullYear()<=this.max.getFullYear();{const i=this.islamicModule.getIslamicDate(t);return i.month>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).month&&i.year>=this.islamicModule.getIslamicDate(new Date(1944,1,18)).year&&i.month<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).month&&i.year<=this.islamicModule.getIslamicDate(new Date(2069,1,16)).year}}compareYear(t,i){return this.compare(t,i,0)}compareDecade(t,i){return this.compare(t,i,10)}shiftArray(t,i){return t.slice(i).concat(t.slice(0,i))}addDay(t,i,s,r,o){let a=i;const l=new Date(+t);if(!f(this.tableBodyElement)&&!f(s)){for(;this.findNextTD(new Date(+t),a,r,o);)a+=i;const h=new Date(l.setDate(l.getDate()+a));a=+h>+r||+h<+o?a===i?i-i:i:a}t.setDate(t.getDate()+a)}findNextTD(t,i,s,r){const o=new Date(t.setDate(t.getDate()+i));let a=[],l=!1;if((!f(o)&&o.getMonth())===(!f(this.currentDate)&&this.currentDate.getMonth())){let h;h="Gregorian"===this.calendarMode?this.renderDays(o):this.islamicModule.islamicRenderDays(this.currentDate,o),a=h.filter(c=>c.classList.contains(dr))}else a=this.tableBodyElement.querySelectorAll("td."+dr);if(+o<=+s&&+o>=+r&&a.length)for(let h=0;h<a.length&&(l=+o==+new Date(parseInt(a[h].id,0)),!l);h++);return l}getMaxDays(t){let i;const s=new Date(this.checkValue(t));i=28;const r=s.getMonth();for(;s.getMonth()===r;)++i,s.setDate(i);return i-1}setDateDecade(t,i){t.setFullYear(i),this.setProperties({value:new Date(this.checkValue(t))},!0)}setDateYear(t,i){t.setFullYear(i.getFullYear(),i.getMonth(),t.getDate()),i.getMonth()!==t.getMonth()&&(t.setDate(0),this.currentDate=new Date(this.checkValue(i))),this.setProperties({value:new Date(this.checkValue(t))},!0)}compareMonth(t,i){let s;return s=t.getFullYear()>i.getFullYear()?1:t.getFullYear()<i.getFullYear()?-1:t.getMonth()===i.getMonth()?0:t.getMonth()>i.getMonth()?1:-1,s}checkValue(t){return t instanceof Date?t.toUTCString():""+t}checkView(){"Decade"!==this.start&&"Year"!==this.start&&this.setProperties({start:"Month"},!0),"Decade"!==this.depth&&"Year"!==this.depth&&this.setProperties({depth:"Month"},!0),this.getViewNumber(this.depth)>this.getViewNumber(this.start)&&this.setProperties({depth:"Month"},!0)}getDate(t,i){return i&&(t=new Date(t.toLocaleString("en-US",{timeZone:i}))),t}};return Gn([g(new Date(1900,0,1))],n.prototype,"min",void 0),Gn([g(!0)],n.prototype,"enabled",void 0),Gn([g(null)],n.prototype,"cssClass",void 0),Gn([g(new Date(2099,11,31))],n.prototype,"max",void 0),Gn([g(null)],n.prototype,"firstDayOfWeek",void 0),Gn([g("Gregorian")],n.prototype,"calendarMode",void 0),Gn([g("Month")],n.prototype,"start",void 0),Gn([g("Month")],n.prototype,"depth",void 0),Gn([g(!1)],n.prototype,"weekNumber",void 0),Gn([g("FirstDay")],n.prototype,"weekRule",void 0),Gn([g(!0)],n.prototype,"showTodayButton",void 0),Gn([g("Short")],n.prototype,"dayHeaderFormat",void 0),Gn([g(!1)],n.prototype,"enablePersistence",void 0),Gn([g(null)],n.prototype,"keyConfigs",void 0),Gn([g(null)],n.prototype,"serverTimezoneOffset",void 0),Gn([F()],n.prototype,"created",void 0),Gn([F()],n.prototype,"destroyed",void 0),Gn([F()],n.prototype,"navigated",void 0),Gn([F()],n.prototype,"renderDayCell",void 0),n=Gn([ii],n),n})(),_0e=(()=>{let n=class extends OW{constructor(t,i){super(t,i)}render(){if("Islamic"===this.calendarMode&&void 0===this.islamicModule&&Dy("Requires the injectable Islamic modules to render Calendar in Islamic mode"),this.isMultiSelection&&"object"==typeof this.values&&!f(this.values)&&this.values.length>0){const t=[],i=[];for(let s=0;s<this.values.length;s++)-1===t.indexOf(+this.values[s])&&(t.push(+this.values[s]),i.push(this.values[s]));this.setProperties({values:i},!0);for(let s=0;s<this.values.length;s++)if(!this.checkDateValue(this.values[s]))if("string"==typeof this.values[s]&&this.checkDateValue(new Date(this.checkValue(this.values[s])))){const r=new Date(this.checkValue(this.values[s]));this.values.splice(s,1),this.values.splice(s,0,r)}else this.values.splice(s,1);this.setProperties({value:this.values[this.values.length-1]},!0),this.previousValues=this.values.length}if(this.validateDate(),this.minMaxUpdate(),"calendar"===this.getModuleName()&&(this.setEnable(this.enabled),this.setClass(this.cssClass)),super.render(),"calendar"===this.getModuleName()){const t=K(this.element,"form");t&&S.add(t,"reset",this.formResetHandler.bind(this)),this.setTimeZone(this.serverTimezoneOffset)}this.renderComplete()}setEnable(t){t?z([this.element],dr):B([this.element],dr)}setClass(t,i){f(i)||(i=i.replace(/\s+/g," ").trim()),f(t)||(t=t.replace(/\s+/g," ").trim()),!f(i)&&""!==i&&z([this.element],i.split(" ")),f(t)||B([this.element],t.split(" "))}isDayLightSaving(){const t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset(),i=new Date(this.value.getFullYear(),0,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(i,t)}setTimeZone(t){if(!f(this.serverTimezoneOffset)&&this.value){let r=t+(new Date).getTimezoneOffset()/60;r=this.isDayLightSaving()?r--:r,this.value=new Date(this.value.getTime()+60*r*60*1e3)}}formResetHandler(){this.setProperties({value:null},!0)}validateDate(){"string"==typeof this.value&&this.setProperties({value:this.checkDateValue(new Date(this.checkValue(this.value)))},!0),super.validateDate(this.value),!f(this.value)&&this.min<=this.max&&this.value>=this.min&&this.value<=this.max&&(this.currentDate=new Date(this.checkValue(this.value))),isNaN(+this.value)&&this.setProperties({value:null},!0)}minMaxUpdate(){"calendar"===this.getModuleName()&&(!f(this.value)&&this.value<=this.min&&this.min<=this.max?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!f(this.value)&&this.value>=this.max&&this.min<=this.max&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})),"calendar"===this.getModuleName()||f(this.value)?super.minMaxUpdate(this.value):!f(this.value)&&this.value<this.min&&this.min<=this.max?super.minMaxUpdate(this.min):!f(this.value)&&this.value>this.max&&this.min<=this.max&&super.minMaxUpdate(this.max)}generateTodayVal(t){let i=new Date;return f(this.timezone)||(i=super.getDate(i,this.timezone)),t&&f(this.timezone)?(i.setHours(t.getHours()),i.setMinutes(t.getMinutes()),i.setSeconds(t.getSeconds()),i.setMilliseconds(t.getMilliseconds())):i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0,0),i}todayButtonClick(t){if(this.showTodayButton){const i=this.generateTodayVal(this.value);if(this.setProperties({value:i},!0),this.isTodayClicked=!0,this.todayButtonEvent=t,this.isMultiSelection){const s=this.copyValues(this.values);super.checkPresentDate(i,this.values)||(s.push(i),this.setProperties({values:s}))}super.todayButtonClick(t,new Date(+this.value))}}keyActionHandle(t){super.keyActionHandle(t,this.value,this.isMultiSelection)}preRender(){this.changeHandler=t=>{this.triggerChange(t)},this.checkView(),super.preRender(this.value)}createContent(){this.previousDate=this.value,this.previousDateTime=this.value,super.createContent()}minMaxDate(t){return super.minMaxDate(t)}renderMonths(t,i,s){super.renderMonths(t,this.value,s)}renderDays(t,i,s,r,o){const a=super.renderDays(t,this.value,this.isMultiSelection,this.values,o);return this.isMultiSelection&&super.validateValues(this.isMultiSelection,this.values),a}renderYears(t){"Gregorian"===this.calendarMode?super.renderYears(t,this.value):this.islamicModule.islamicRenderYears(t,this.value)}renderDecades(t){"Gregorian"===this.calendarMode?super.renderDecades(t,this.value):this.islamicModule.islamicRenderDecade(t,this.value)}renderTemplate(t,i,s,r){"Gregorian"===this.calendarMode?super.renderTemplate(t,i,s,r,this.value):this.islamicModule.islamicRenderTemplate(t,i,s,r,this.value),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}clickHandler(t){const i=t.currentTarget;if(this.isPopupClicked=!0,i.classList.contains(yc))if(this.isMultiSelection){const r=this.copyValues(this.values);r.push(this.getIdValue(t,null)),this.setProperties({values:r},!0),this.setProperties({value:this.values[this.values.length-1]},!0)}else this.setProperties({value:this.getIdValue(t,null)},!0);const s=this.currentView();super.clickHandler(t,this.value),this.isMultiSelection&&this.currentDate!==this.value&&!f(this.tableBodyElement.querySelectorAll("."+Jo)[0])&&"Year"===s&&this.tableBodyElement.querySelectorAll("."+Jo)[0].classList.remove(Jo)}switchView(t,i,s,r){super.switchView(t,i,this.isMultiSelection,r)}getModuleName(){return super.getModuleName(),"calendar"}getPersistData(){return super.getPersistData(),this.addOnPersist(["value","values"])}onPropertyChanged(t,i){this.effect="",this.rangeValidation(this.min,this.max);for(const s of Object.keys(t))switch(s){case"value":this.isDateSelected&&("string"==typeof t.value?this.setProperties({value:new Date(this.checkValue(t.value))},!0):t.value=new Date(this.checkValue(t.value)),isNaN(+this.value)&&this.setProperties({value:i.value},!0),this.update());break;case"values":if(this.isDateSelected){if("string"==typeof t.values||"number"==typeof t.values)this.setProperties({values:null},!0);else{const r=this.copyValues(this.values);for(let o=0;o<r.length;o++){const a=r[o];this.checkDateValue(a)&&!super.checkPresentDate(a,r)&&r.push(a)}this.setProperties({values:r},!0),this.values.length>0&&this.setProperties({value:t.values[t.values.length-1]},!0)}this.validateValues(this.isMultiSelection,this.values),this.update()}break;case"isMultiSelection":this.isDateSelected&&(this.setProperties({isMultiSelection:t.isMultiSelection},!0),this.update());break;case"enabled":this.setEnable(this.enabled);break;case"cssClass":"calendar"===this.getModuleName()&&this.setClass(t.cssClass,i.cssClass);break;default:super.onPropertyChanged(t,i,this.isMultiSelection,this.values)}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange}destroy(){if(super.destroy(),"calendar"===this.getModuleName()){const t=K(this.element,"form");t&&S.remove(t,"reset",this.formResetHandler.bind(this))}}navigateTo(t,i,s){this.minMaxUpdate(),super.navigateTo(t,i,s)}currentView(){return super.currentView()}addDate(t){if("string"!=typeof t&&"number"!=typeof t){let i=this.copyValues(this.values);if("object"==typeof t&&t.length>0){const s=t;for(let r=0;r<s.length;r++)this.checkDateValue(s[r])&&!super.checkPresentDate(s[r],i)&&(!f(i)&&i.length>0?i.push(s[r]):i=[new Date(+s[r])])}else this.checkDateValue(t)&&!super.checkPresentDate(t,i)&&(!f(i)&&i.length>0?i.push(t):i=[new Date(+t)]);this.setProperties({values:i},!0),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.validateValues(this.isMultiSelection,i),this.update(),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}}removeDate(t){if("string"!=typeof t&&"number"!=typeof t&&!f(this.values)&&this.values.length>0){const i=this.copyValues(this.values);if("object"==typeof t&&t.length>0){const s=t;for(let r=0;r<s.length;r++)for(let o=0;o<i.length;o++)+i[o]==+s[r]&&i.splice(o,1)}else for(let s=0;s<i.length;s++)+i[s]==+t&&i.splice(s,1);this.setProperties({values:i},!1),this.update(),this.isMultiSelection&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler()}}setTodayDate(t){const i=new Date(+t);this.setProperties({value:i},!0),super.todayButtonClick(null,i,!0)}update(){this.validateDate(),this.minMaxUpdate(),super.setValueUpdate()}selectDate(t,i,s){super.selectDate(t,i,s,this.isMultiSelection,this.values),this.isMultiSelection&&!f(this.values)&&this.values.length>0&&this.setProperties({value:this.values[this.values.length-1]},!0),this.changedArgs={value:this.value,values:this.values},this.changeHandler(t)}changeEvent(t){((this.value&&this.value.valueOf())!==(this.previousDate&&+this.previousDate.valueOf())||this.isMultiSelection)&&(this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousDate=new Date(+this.value))}triggerChange(t){!f(this.todayButtonEvent)&&this.isTodayClicked&&(t=this.todayButtonEvent,this.isTodayClicked=!1),this.changedArgs.event=t||null,this.changedArgs.isInteracted=!f(t),f(this.value)||this.setProperties({value:this.value},!0),this.isMultiSelection||+this.value===Number.NaN||+this.value==+this.previousDate&&(null!=this.previousDate||isNaN(+this.value))?!f(this.values)&&this.previousValues!==this.values.length&&(this.changeEvent(t),this.previousValues=this.values.length):this.changeEvent(t)}};return Gn([g(null)],n.prototype,"value",void 0),Gn([g(null)],n.prototype,"values",void 0),Gn([g(!1)],n.prototype,"isMultiSelection",void 0),Gn([F()],n.prototype,"change",void 0),n=Gn([ii],n),n})();var pn=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const T1="e-datepicker",HW="e-popup-wrapper",$P="e-input-focus",jW="e-error",L1="e-active",zW="e-date-overflow",R1="e-selected",XP="e-non-edit",WW=["title","class","style"];let qs=class extends _0e{constructor(e,t){super(e,t),this.previousElementValue="",this.isDateIconClicked=!1,this.isAltKeyPressed=!1,this.isInteracted=!0,this.invalidValueString=null,this.checkPreviousValue=null,this.maskedDateValue="",this.isAngular=!1,this.preventChange=!1,this.isIconClicked=!1,this.isDynamicValueChanged=!1,this.moduleName=this.getModuleName(),this.datepickerOptions=e}render(){this.initialize(),this.bindEvents(),this.renderComplete(),this.setTimeZone(this.serverTimezoneOffset)}setTimeZone(e){if(!f(this.serverTimezoneOffset)&&this.value){let s=e+(new Date).getTimezoneOffset()/60;s=this.isDayLightSaving()?s--:s,this.value=new Date(this.value.getTime()+60*s*60*1e3),this.updateInput()}}isDayLightSaving(){const e=new Date(this.value.getFullYear(),0,1).getTimezoneOffset(),t=new Date(this.value.getFullYear(),6,1).getTimezoneOffset();return this.value.getTimezoneOffset()<Math.max(e,t)}setAllowEdit(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):we(this.inputElement,{readonly:""}),this.updateIconState()}updateIconState(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&z([this.inputWrapper.container],[XP]):""===this.inputElement.value?z([this.inputWrapper.container],[XP]):B([this.inputWrapper.container],[XP])}initialize(){this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.checkInvalidValue(this.value),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setAllowEdit(),this.updateInput(),this.enableMask&&!this.value&&this.maskedDateValue&&("Always"==this.floatLabelType||!this.floatLabelType||!this.placeholder)&&this.updateInputValue(this.maskedDateValue),this.previousElementValue=this.inputElement.value,this.previousDate=f(this.value)?null:new Date(+this.value),this.inputElement.setAttribute("value",this.inputElement.value),this.inputValueCopy=this.value}createInput(){const e={"aria-live":"assertive","aria-atomic":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-invalid":"false"};if("datepicker"===this.getModuleName()){const s={placeholder:this.placeholder};this.globalize=new Gs(this.locale),this.l10n=new Na("datepicker",s,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0)}let t=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(t=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=be.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,bindClearAction:!this.enableMask,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:t,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-date-icon e-icons"]},this.createElement),this.setWidth(this.width),this.inputElement.setAttribute("name",""!==this.inputElement.name?""+this.inputElement.getAttribute("name"):""+this.element.id),we(this.inputElement,e),this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1),be.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),B([this.inputWrapper.container],"e-date-wrapper")}updateInput(e=!1){let t;if(this.value&&!this.isCalendar()&&!e&&this.disabledDates(),isNaN(+new Date(this.checkValue(this.value)))&&this.setProperties({value:null},!0),this.strictMode&&(super.validateDate(),this.minMaxUpdates(),super.minMaxUpdate()),!f(this.value)){const i=this.value;let s;const r=f(this.formatString)?this.dateTimeFormat:this.formatString;if("datetimepicker"===this.getModuleName()?s=this.globalize.formatDate(this.value,"Gregorian"===this.calendarMode?{format:r,type:"dateTime",skeleton:"yMd"}:{format:r,type:"dateTime",skeleton:"yMd",calendar:"islamic"}):(t="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},s=this.globalize.formatDate(this.value,t)),+i<=+this.max&&+i>=+this.min)this.updateInputValue(s);else{const o=+i>=+this.max||!+this.value||!+this.value||+i<=+this.min;!this.strictMode&&o&&this.updateInputValue(s)}}f(this.value)&&this.strictMode&&(this.enableMask?(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime"})):this.updateInputValue("")),!this.strictMode&&f(this.value)&&this.invalidValueString&&this.updateInputValue(this.invalidValueString),this.changedArgs={value:this.value},this.errorClass(),this.updateIconState()}minMaxUpdates(){!f(this.value)&&this.value<this.min&&this.min<=this.max&&this.strictMode?(this.setProperties({value:this.min},!0),this.changedArgs={value:this.value}):!f(this.value)&&this.value>this.max&&this.min<=this.max&&this.strictMode&&(this.setProperties({value:this.max},!0),this.changedArgs={value:this.value})}checkStringValue(e){let t=null,i=null,s=null;if("datetimepicker"===this.getModuleName()){const r=new Gs(this.locale);"Gregorian"===this.calendarMode?(i={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},s={format:r.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(i={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},s={format:r.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else i="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};return t=this.checkDateValue(this.globalize.parseDate(e,i)),f(t)&&"datetimepicker"===this.getModuleName()&&(t=this.checkDateValue(this.globalize.parseDate(e,s))),t}checkInvalidValue(e){if(!(e instanceof Date||f(e))){let t=null,i=e;"number"==typeof e&&(i=e.toString());let s=null,r=null;if("datetimepicker"===this.getModuleName()){const a=new Gs(this.locale);"Gregorian"===this.calendarMode?(s={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd"},r={format:a.getDatePattern({skeleton:"yMd"}),type:"dateTime"}):(s={format:this.dateTimeFormat,type:"dateTime",skeleton:"yMd",calendar:"islamic"},r={format:a.getDatePattern({skeleton:"yMd"}),type:"dateTime",calendar:"islamic"})}else s="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};let o=!1;if("string"!=typeof i)i=null,o=!0;else if("string"==typeof i&&(i=i.trim()),t=this.checkStringValue(i),!t){let a=null,l=null;a=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,l=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!a.test(i)&&!l.test(i)||/^[a-zA-Z0-9- ]*$/.test(i)||isNaN(+new Date(this.checkValue(i)))?o=!0:t=new Date(i)}o?(this.strictMode||(this.invalidValueString=i),this.setProperties({value:null},!0)):this.setProperties({value:t},!0)}}bindInputEvent(){(!f(this.formatString)||this.enableMask)&&(this.enableMask||-1===this.formatString.indexOf("y")?S.add(this.inputElement,"input",this.inputHandler,this):S.remove(this.inputElement,"input",this.inputHandler))}bindEvents(){S.add(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler,this),S.add(this.inputElement,"mouseup",this.mouseUpHandler,this),S.add(this.inputElement,"focus",this.inputFocusHandler,this),S.add(this.inputElement,"blur",this.inputBlurHandler,this),this.enableMask&&S.add(this.inputElement,"keydown",this.keydownHandler,this),this.bindInputEvent(),S.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&S.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this),this.formElement&&S.add(this.formElement,"reset",this.resetFormHandler,this),this.defaultKeyConfigs=fe(this.defaultKeyConfigs,this.keyConfigs),this.keyboardModules=new Ds(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})}keydownHandler(e){switch(e.code){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":case"Home":case"End":case"Delete":this.enableMask&&!this.popupObj&&!this.readonly&&("Delete"!==e.code&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}))}}unBindEvents(){S.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateIconHandler),S.remove(this.inputElement,"mouseup",this.mouseUpHandler),S.remove(this.inputElement,"focus",this.inputFocusHandler),S.remove(this.inputElement,"blur",this.inputBlurHandler),S.remove(this.inputElement,"change",this.inputChangeHandler),this.enableMask&&S.remove(this.inputElement,"keydown",this.keydownHandler),this.showClearButton&&this.inputWrapper.clearButton&&S.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.formElement&&S.remove(this.formElement,"reset",this.resetFormHandler)}resetFormHandler(){if(this.enabled&&!this.inputElement.disabled){let e=this.inputElement.getAttribute("value");("EJS-DATEPICKER"===this.element.tagName||"EJS-DATETIMEPICKER"===this.element.tagName)&&(e="",this.inputValueCopy=null,this.inputElement.setAttribute("value","")),this.setProperties({value:this.inputValueCopy},!0),this.restoreValue(),this.inputElement&&(this.updateInputValue(e),this.errorClass())}}restoreValue(){this.currentDate=this.value?this.value:new Date,this.previousDate=this.value,this.previousElementValue=f(this.inputValueCopy)?"":this.globalize.formatDate(this.inputValueCopy,{format:this.formatString,type:"dateTime",skeleton:"yMd"})}inputChangeHandler(e){!this.enabled||e.stopPropagation()}bindClearEvent(){this.showClearButton&&this.inputWrapper.clearButton&&S.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)}resetHandler(e){!this.enabled||(e.preventDefault(),this.clear(e))}mouseUpHandler(e){this.enableMask&&(e.preventDefault(),this.notify("setMaskSelection",{module:"MaskedDateTime"}))}clear(e){this.setProperties({value:null},!0),this.enableMask||this.updateInputValue(""),this.trigger("cleared",{event:e}),this.invalidValueString="",this.updateInput(),this.popupUpdate(),this.changeEvent(e),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"})}preventEventBubbling(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnDateIconClick")}updateInputValue(e){be.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)}dateIconHandler(e){!this.enabled||(this.isIconClicked=!0,T.isDevice&&(this.inputElement.setAttribute("readonly",""),this.inputElement.blur()),e.preventDefault(),this.readonly||(this.isCalendar()?this.hide(e):(this.isDateIconClicked=!0,this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus(),this.inputElement.focus(),B([this.inputWrapper.container],[$P]),B(this.inputWrapper.buttons,L1))),this.isIconClicked=!1)}updateHtmlAttributeToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(!f(this.htmlAttributes[e])&&WW.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&B([this.inputWrapper.container],t.split(" "))}else if("style"===e){let t=this.inputWrapper.container.getAttribute(e);f(t)?t=this.htmlAttributes[e]:";"===t.charAt(t.length-1)?t+=this.htmlAttributes[e]:t=t+";"+this.htmlAttributes[e],this.inputWrapper.container.setAttribute(e,t)}else this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHtmlAttributeToElement(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))WW.indexOf(e)<0&&this.inputElement.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){f(t)||(t=t.replace(/\s+/g," ").trim()),f(e)||(e=e.replace(/\s+/g," ").trim()),be.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&be.setCssClass(e,[this.popupWrapper],t)}calendarKeyActionHandle(e){switch(e.action){case"escape":this.isCalendar()?this.hide(e):this.inputWrapper.container.children[this.index].blur();break;case"enter":this.isCalendar()?+this.value!=+this.currentDate&&!this.isCalendar()&&this.inputWrapper.container.children[this.index].focus():this.show(null,e),"datetimepicker"===this.getModuleName()&&this.inputElement.focus();break;case"tab":this.hide(e)}}inputFocusHandler(){if(!this.enabled)return;this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"==this.floatLabelType||"Never"==this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length);const e={model:this};this.isDateIconClicked=!1,this.trigger("focus",e),this.updateIconState(),this.openOnFocus&&!this.isIconClicked&&this.show()}inputHandler(){this.isPopupClicked=!1,this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})}inputBlurHandler(e){this.enabled&&(this.strictModeUpdate(),""===this.inputElement.value&&f(this.value)&&(this.invalidValueString=null,this.updateInputValue("")),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&this.inputElement.value==this.maskedDateValue&&!this.value&&("Auto"==this.floatLabelType||"Never"==this.floatLabelType||this.placeholder)&&this.updateInputValue(""),this.errorClass(),this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),"datepicker"===this.getModuleName()&&this.trigger("blur",{model:this}),this.isCalendar()&&(this.defaultKeyConfigs=fe(this.defaultKeyConfigs,this.keyConfigs),this.calendarKeyboardModules=new Ds(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs})),this.isPopupClicked=!1)}documentHandler(e){!f(this.popupObj)&&(this.inputWrapper.container.contains(e.target)||this.popupObj.element&&this.popupObj.element.contains(e.target))&&"touchstart"!==e.type&&e.preventDefault();const t=e.target;K(t,".e-datepicker.e-popup-wrapper")||K(t,".e-input-group")===this.inputWrapper.container||t.classList.contains("e-day")?K(t,".e-datepicker.e-popup-wrapper")&&(t.classList.contains("e-day")&&!f(e.target.parentElement)&&e.target.parentElement.classList.contains("e-selected")&&K(t,".e-content")&&K(t,".e-content").classList.contains("e-"+this.depth.toLowerCase())||K(t,".e-footer-container")&&t.classList.contains("e-today")&&t.classList.contains("e-btn")&&+new Date(+this.value)==+super.generateTodayVal(this.value))&&this.hide(e):(this.hide(e),this.focusOut())}inputKeyActionHandle(e){const t=this.currentView();switch(e.action){case"altUpArrow":this.isAltKeyPressed=!1,this.hide(e),this.inputElement.focus();break;case"altDownArrow":this.isAltKeyPressed=!0,this.strictModeUpdate(),this.updateInput(),this.changeTrigger(e),"datepicker"===this.getModuleName()&&this.show(null,e);break;case"escape":this.hide(e);break;case"enter":this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),!this.isCalendar()&&document.activeElement===this.inputElement&&this.hide(e),this.isCalendar()&&(e.preventDefault(),e.stopPropagation());break;case"tab":case"shiftTab":let i=this.inputElement.selectionStart,s=this.inputElement.selectionEnd;if(this.enableMask&&!this.popupObj&&!this.readonly){let r=this.inputElement.value.length;(0==i&&s==r||s!==r&&"tab"==e.action||0!==i&&"shiftTab"==e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}),i=this.inputElement.selectionStart,s=this.inputElement.selectionEnd}this.strictModeUpdate(),this.updateInput(),this.popupUpdate(),this.changeTrigger(e),this.errorClass(),this.enableMask&&(this.inputElement.selectionStart=i,this.inputElement.selectionEnd=s),this.hide(e);break;default:this.defaultAction(e),"select"===e.action&&t===this.depth&&this.hide(e)}}defaultAction(e){this.previousDate=!f(this.value)&&new Date(+this.value)||null,this.isCalendar()&&(super.keyActionHandle(e),this.isCalendar()&&we(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()}))}popupUpdate(){if((f(this.value)&&!f(this.previousDate)||+this.value!=+this.previousDate)&&(this.popupObj&&this.popupObj.element.querySelectorAll("."+R1).length>0&&z(this.popupObj.element.querySelectorAll("."+R1),[R1]),!f(this.value)&&+this.value>=+this.min&&+this.value<=+this.max)){const e=new Date(this.checkValue(this.value));super.navigateTo("Month",e)}}strictModeUpdate(){let e,t,i,s;e="datetimepicker"===this.getModuleName()?f(this.formatString)?this.dateTimeFormat:this.formatString:f(this.formatString)?this.formatString:this.formatString.replace("dd","d"),f(e)||e.split("M").length-1<3&&(e=e.replace("MM","M")),"datetimepicker"===this.getModuleName()?i="Gregorian"===this.calendarMode?{format:f(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:f(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:(t="Gregorian"===this.calendarMode?{format:e,type:"dateTime",skeleton:"yMd"}:{format:e,type:"dateTime",skeleton:"yMd",calendar:"islamic"},i=t),"string"==typeof this.inputElement.value&&(this.inputElement.value=this.inputElement.value.trim()),"datetimepicker"===this.getModuleName()?this.checkDateValue(this.globalize.parseDate(this.inputElement.value,i))?s=this.globalize.parseDate(this.inputElement.value,i):(t="Gregorian"===this.calendarMode?{type:"dateTime",skeleton:"yMd"}:{type:"dateTime",skeleton:"yMd",calendar:"islamic"},s=this.globalize.parseDate(this.inputElement.value,t)):(s=this.globalize.parseDate(this.inputElement.value,i),s=!f(s)&&isNaN(+s)?null:s,!f(this.formatString)&&""!==this.inputElement.value&&this.strictMode&&(this.isPopupClicked||!this.isPopupClicked&&this.inputElement.value===this.previousElementValue)&&-1===this.formatString.indexOf("y")&&s.setFullYear(this.value.getFullYear())),"datepicker"===this.getModuleName()&&this.value&&!isNaN(+this.value)&&s&&s.setHours(this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds()),this.strictMode&&s?(this.updateInputValue(this.globalize.formatDate(s,i)),this.inputElement.value!==this.previousElementValue&&this.setProperties({value:s},!0)):this.strictMode||this.inputElement.value!==this.previousElementValue&&this.setProperties({value:s},!0),this.strictMode&&!s&&""===this.inputElement.value&&this.setProperties({value:null},!0),isNaN(+this.value)&&this.setProperties({value:null},!0),f(this.value)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)))}createCalendar(){this.popupWrapper=this.createElement("div",{className:T1+" "+HW}),f(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),T.isDevice&&(this.modelHeader(),this.modal=this.createElement("div"),this.modal.className=T1+" e-date-modal",document.body.className+=" "+zW,this.modal.style.display="block",document.body.appendChild(this.modal)),this.calendarElement.querySelector("table tbody").className="",this.popupObj=new rc(this.popupWrapper,{content:this.calendarElement,relateTo:T.isDevice?document.body:this.inputWrapper.container,position:T.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},offsetY:4,targetType:"container",enableRtl:this.enableRtl,zIndex:this.zIndex,collision:T.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},open:()=>{"datetimepicker"!==this.getModuleName()&&document.activeElement!==this.inputElement&&(this.defaultKeyConfigs=fe(this.defaultKeyConfigs,this.keyConfigs),this.calendarElement.children[1].firstElementChild.focus(),this.calendarKeyboardModules=new Ds(this.calendarElement.children[1].firstElementChild,{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}),this.calendarKeyboardModules=new Ds(this.inputWrapper.container.children[this.index],{eventName:"keydown",keyAction:this.calendarKeyActionHandle.bind(this),keyConfigs:this.defaultKeyConfigs}))},close:()=>{this.isDateIconClicked&&this.inputWrapper.container.children[this.index].focus(),this.value&&this.disabledDates(),this.popupObj&&this.popupObj.destroy(),this.resetCalendar(),ie(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.preventArgs=null,this.calendarKeyboardModules=null,this.setAriaAttributes()},targetExitViewport:()=>{T.isDevice||this.hide()}}),this.popupObj.element.className+=" "+this.cssClass,this.setAriaAttributes()}setAriaDisabled(){this.enabled?(this.inputElement.setAttribute("aria-disabled","false"),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.inputElement.setAttribute("aria-disabled","true"),this.inputElement.tabIndex=-1)}modelHeader(){let e;const t=this.createElement("div",{className:"e-model-header"}),i=this.createElement("h1",{className:"e-model-year"}),s=this.createElement("div"),r=this.createElement("span",{className:"e-model-day"}),o=this.createElement("span",{className:"e-model-month"});e="Gregorian"===this.calendarMode?{format:"y",skeleton:"dateTime"}:{format:"y",skeleton:"dateTime",calendar:"islamic"},i.textContent=""+this.globalize.formatDate(this.value||new Date,e),e="Gregorian"===this.calendarMode?{format:"E",skeleton:"dateTime"}:{format:"E",skeleton:"dateTime",calendar:"islamic"},r.textContent=this.globalize.formatDate(this.value||new Date,e)+", ",e="Gregorian"===this.calendarMode?{format:"MMM d",skeleton:"dateTime"}:{format:"MMM d",skeleton:"dateTime",calendar:"islamic"},o.textContent=""+this.globalize.formatDate(this.value||new Date,e),t.appendChild(i),s.appendChild(r),s.appendChild(o),t.appendChild(s),this.calendarElement.insertBefore(t,this.calendarElement.firstElementChild)}changeTrigger(e){this.inputElement.value!==this.previousElementValue&&(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.isDynamicValueChanged&&this.isCalendar()&&this.popupUpdate(),this.changedArgs.value=this.value,this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=!f(e),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.changedArgs),this.previousElementValue=this.inputElement.value,this.previousDate=isNaN(+new Date(this.checkValue(this.value)))?null:new Date(this.checkValue(this.value)),this.isInteracted=!0)}navigatedEvent(){this.trigger("navigated",this.navigatedArgs)}changeEvent(e){(this.previousDate&&this.previousDate.valueOf())!==(this.value&&this.value.valueOf())&&(this.selectCalendar(e),this.changedArgs.event=e||null,this.changedArgs.element=this.element,this.changedArgs.isInteracted=this.isInteracted,this.isDynamicValueChanged||this.trigger("change",this.changedArgs),this.previousDate=this.value&&new Date(+this.value),this.isDynamicValueChanged||this.hide(e),this.previousElementValue=this.inputElement.value,this.errorClass())}requiredModules(){const e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e}selectCalendar(e){let t,i,s;i="datetimepicker"===this.getModuleName()&&f(this.formatString)?this.dateTimeFormat:this.formatString,this.value&&("datetimepicker"===this.getModuleName()?(s="Gregorian"===this.calendarMode?{format:i,type:"dateTime",skeleton:"yMd"}:{format:i,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,s)):(s="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},t=this.globalize.formatDate(this.changedArgs.value,s)),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})),f(t)||(this.updateInputValue(t),this.enableMask&&this.notify("setMaskSelection",{module:"MaskedDateTime"}))}isCalendar(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+HW))}setWidth(e){this.inputWrapper.container.style.width="number"==typeof e?Be(this.width):"string"==typeof e?e.match(/px|%|em/)?this.width:Be(this.width):"100%"}show(e,t){if(!(this.enabled&&this.readonly||!this.enabled||this.popupObj)){let s,i=!0;f(this.value)||+this.value>=+this.min&&+this.value<=+this.max?s=this.value||null:(s=new Date(this.checkValue(this.value)),this.setProperties({value:null},!0)),this.isCalendar()||(super.render(),this.setProperties({value:s||null},!0),this.previousDate=s,this.createCalendar()),T.isDevice&&(this.mobilePopupWrapper=this.createElement("div",{className:"e-datepick-mob-popup-wrap"}),document.body.appendChild(this.mobilePopupWrapper)),this.preventArgs={preventDefault:()=>{i=!1},popup:this.popupObj,event:t||null,cancel:!1,appendTo:T.isDevice?this.mobilePopupWrapper:document.body},this.trigger("open",this.preventArgs,o=>{if(this.preventArgs=o,i&&!this.preventArgs.cancel){B(this.inputWrapper.buttons,L1),this.preventArgs.appendTo.appendChild(this.popupWrapper),this.popupObj.refreshPosition(this.inputElement);this.popupObj.show(new qt({name:"FadeIn",duration:T.isDevice?0:300}),1e3===this.zIndex?this.element:null),super.setOverlayIndex(this.mobilePopupWrapper,this.popupObj.element,this.modal,T.isDevice),this.setAriaAttributes()}else this.popupObj.destroy(),this.popupWrapper=this.popupObj=null;!f(this.inputElement)&&""===this.inputElement.value&&!f(this.tableBodyElement)&&this.tableBodyElement.querySelectorAll("td.e-selected").length>0&&(B([this.tableBodyElement.querySelector("td.e-selected")],"e-focused-date"),z(this.tableBodyElement.querySelectorAll("td.e-selected"),R1)),S.add(document,"mousedown touchstart",this.documentHandler,this)})}}hide(e){if(f(this.popupWrapper))T.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit();else{let t=!0;this.preventArgs={preventDefault:()=>{t=!1},popup:this.popupObj,event:e||null,cancel:!1},z(this.inputWrapper.buttons,L1),z([document.body],zW);const i=this.preventArgs;this.isCalendar()?this.trigger("close",i,s=>{this.closeEventCallback(t,s)}):this.closeEventCallback(t,i)}}closeEventCallback(e,t){this.preventArgs=t,this.isCalendar()&&e&&!this.preventArgs.cancel&&(this.popupObj.hide(),this.isAltKeyPressed=!1,this.keyboardModule.destroy(),z(this.inputWrapper.buttons,L1)),this.setAriaAttributes(),T.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),T.isDevice&&(f(this.mobilePopupWrapper)||(this.mobilePopupWrapper.remove(),this.mobilePopupWrapper=null)),S.remove(document,"mousedown touchstart",this.documentHandler),T.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}focusIn(e){document.activeElement!==this.inputElement&&this.enabled&&(this.inputElement.focus(),B([this.inputWrapper.container],[$P]))}focusOut(){document.activeElement===this.inputElement&&(z([this.inputWrapper.container],[$P]),this.inputElement.blur())}currentView(){let e;return this.calendarElement&&(e=super.currentView()),e}navigateTo(e,t){this.calendarElement&&super.navigateTo(e,t)}destroy(){this.unBindEvents(),super.destroy(),this.keyboardModules.destroy(),this.popupObj&&this.popupObj.element.classList.contains("e-popup")&&super.destroy(),this.inputElement&&(be.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-disabled":"true","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},this.inputElement),f(this.inputElementCopy.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),S.remove(this.inputElement,"blur",this.inputBlurHandler),S.remove(this.inputElement,"focus",this.inputFocusHandler),this.ensureInputAttribute()),this.isCalendar()&&(this.popupWrapper&&ie(this.popupWrapper),this.popupObj=this.popupWrapper=null,this.keyboardModule.destroy()),null===this.ngTag&&(this.inputElement&&(this.inputWrapper.container.insertAdjacentElement("afterend",this.inputElement),z([this.inputElement],["e-input"])),z([this.element],[T1]),ie(this.inputWrapper.container)),this.formElement&&S.remove(this.formElement,"reset",this.resetFormHandler)}ensureInputAttribute(){const e=[];for(let t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(let t=0;t<e.length;t++)f(this.inputElementCopy.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.inputElementCopy.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.inputElementCopy.getAttribute(e[t])))}preRender(){this.inputElementCopy=this.element.cloneNode(!0),z([this.inputElementCopy],[T1,"e-control","e-lib"]),this.inputElement=this.element,this.formElement=K(this.inputElement,"form"),this.index=this.showClearButton?2:1,this.ngTag=null,("EJS-DATEPICKER"===this.element.tagName||"EJS-DATETIMEPICKER"===this.element.tagName)&&(this.ngTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.element.getAttribute("id")?null!==this.ngTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):"datetimepicker"===this.getModuleName()?(this.element.id=Us("ej2-datetimepicker"),null!==this.ngTag&&we(this.inputElement,{id:this.element.id+"_input"})):(this.element.id=Us("ej2-datepicker"),null!==this.ngTag&&we(this.inputElement,{id:this.element.id+"_input"})),null!==this.ngTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.defaultKeyConfigs=this.getDefaultKeyConfig(),this.checkHtmlAttributes(!1),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),super.preRender()}getDefaultKeyConfig(){return this.defaultKeyConfigs={altUpArrow:"alt+uparrow",altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",controlUp:"ctrl+38",controlDown:"ctrl+40",moveDown:"downarrow",moveUp:"uparrow",moveLeft:"leftarrow",moveRight:"rightarrow",select:"enter",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",shiftPageUp:"shift+pageup",shiftPageDown:"shift+pagedown",controlHome:"ctrl+home",controlEnd:"ctrl+end",shiftTab:"shift+tab",tab:"tab"},this.defaultKeyConfigs}validationAttribute(e,t){const i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");const s=["required","aria-required","form"];for(let r=0;r<s.length;r++){if(f(e.getAttribute(s[r])))continue;const o=e.getAttribute(s[r]);t.setAttribute(s[r],o),e.removeAttribute(s[r])}}checkFormat(){const e=new Gs(this.locale);if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(""===this.format.skeleton||f(this.format.skeleton))this.formatString="datetimepicker"===this.getModuleName()?this.dateTimeFormat:null;else{const t=this.format.skeleton;this.formatString="datetimepicker"===this.getModuleName()?e.getDatePattern({skeleton:t,type:"dateTime"}):e.getDatePattern({skeleton:t,type:"date"})}else this.formatString=null}checkHtmlAttributes(e){this.globalize=new Gs(this.locale),this.checkFormat(),this.checkView();const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","disabled","readonly","style","name","placeholder","type"];let i;i="datetimepicker"===this.getModuleName()?"Gregorian"===this.calendarMode?{format:f(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:f(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}:"Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"};for(const s of t)if(!f(this.inputElement.getAttribute(s)))switch(s){case"disabled":if(f(this.datepickerOptions)||void 0===this.datepickerOptions.enabled||e){const r=!("disabled"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s));this.setProperties({enabled:r},!e)}break;case"readonly":if(f(this.datepickerOptions)||void 0===this.datepickerOptions.readonly||e){const r="readonly"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s);this.setProperties({readonly:r},!e)}break;case"placeholder":(f(this.datepickerOptions)||void 0===this.datepickerOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(s)},!e);break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(s));break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(s));break;case"value":if(f(this.datepickerOptions)||void 0===this.datepickerOptions.value||e){const r=this.inputElement.getAttribute(s);this.setProperties(Oi(s,this.globalize.parseDate(r,i),{}),!e)}break;case"min":if(+this.min==+new Date(1900,0,1)||e){const r=this.inputElement.getAttribute(s);this.setProperties(Oi(s,this.globalize.parseDate(r),{}),!e)}break;case"max":if(+this.max==+new Date(2099,11,31)||e){const r=this.inputElement.getAttribute(s);this.setProperties(Oi(s,this.globalize.parseDate(r),{}),!e)}break;case"type":"text"!==this.inputElement.getAttribute(s)&&this.inputElement.setAttribute("type","text")}}getModuleName(){return"datepicker"}disabledDates(){let e,t;const i=this.checkDateValue(this.value)?new Date(+this.value):new Date(this.checkValue(this.value)),s=this.previousDate;this.minMaxUpdates(),super.render(),this.previousDate=s;const o='*[id^="/id"]'.replace("/id",""+(i&&+i));let a;this.strictMode||("string"==typeof this.value||"object"==typeof this.value&&+this.value!=+i)&&this.setProperties({value:i},!0),f(this.calendarElement.querySelectorAll(o)[0])||this.calendarElement.querySelectorAll(o)[0].classList.contains("e-disabled")&&(this.strictMode||(this.currentDate=new Date((new Date).setHours(0,0,0,0)))),"datetimepicker"===this.getModuleName()?(t=this.globalize.formatDate(i,"Gregorian"===this.calendarMode?{format:f(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:f(this.formatString)?this.dateTimeFormat:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),a=t):(e="Gregorian"===this.calendarMode?{format:this.formatString,type:"dateTime",skeleton:"yMd"}:{format:this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"},a=this.globalize.formatDate(i,e)),this.popupObj||(this.updateInputValue(a),this.enableMask&&(this.updateInputValue(this.maskedDateValue),this.notify("createMask",{module:"MaskedDateTime"})))}setAriaAttributes(){this.isCalendar()?(be.addAttributes({"aria-expanded":"true"},this.inputElement),we(this.inputElement,{"aria-activedescendant":""+this.setActiveDescendant()})):(be.addAttributes({"aria-expanded":"false"},this.inputElement),we(this.inputElement,{"aria-activedescendant":"null"}))}errorClass(){const e='*[id^="/id"]'.replace("/id",""+ +this.value),t=this.calendarElement&&this.calendarElement.querySelectorAll(e)[0]&&this.calendarElement.querySelectorAll(e)[0].classList.contains("e-disabled");!f(this.value)&&!(+new Date(+this.value).setMilliseconds(0)>=+this.min&&+new Date(+this.value).setMilliseconds(0)<=+this.max)||!this.strictMode&&""!==this.inputElement.value&&this.inputElement.value!==this.maskedDateValue&&f(this.value)||t?(B([this.inputWrapper.container],jW),we(this.inputElement,{"aria-invalid":"true"})):(z([this.inputWrapper.container],jW),we(this.inputElement,{"aria-invalid":"false"}))}onPropertyChanged(e,t){for(const i of Object.keys(e)){switch(i){case"value":this.isDynamicValueChanged=!0,this.isInteracted=!1,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.previousElementValue=this.inputElement.value,f(this.value)&&(this.updateInputValue(""),this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.updateInput(!0),+this.previousDate!=+this.value&&this.changeTrigger(null),this.isInteracted=!0,this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"format":this.checkFormat(),this.bindInputEvent(),this.updateInput(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||this.updateInputValue(this.maskedDateValue));break;case"allowEdit":this.setAllowEdit();break;case"placeholder":be.setPlaceholder(this.placeholder,this.inputElement);break;case"readonly":be.setReadonly(this.readonly,this.inputElement);break;case"enabled":be.setEnabled(this.enabled,this.inputElement),this.setAriaDisabled();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkHtmlAttributes(!0);break;case"locale":this.globalize=new Gs(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),be.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"enableRtl":be.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"start":case"depth":this.checkView(),this.calendarElement&&super.onPropertyChanged(e,t);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"showClearButton":be.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent(),this.index=this.showClearButton?2:1;break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,be.removeFloating(this.inputWrapper),be.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue),this.bindInputEvent()):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("");break;default:this.calendarElement&&this.isCalendar()&&super.onPropertyChanged(e,t)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}}};pn([g(null)],qs.prototype,"width",void 0),pn([g(null)],qs.prototype,"value",void 0),pn([g(null)],qs.prototype,"cssClass",void 0),pn([g(!1)],qs.prototype,"strictMode",void 0),pn([g(null)],qs.prototype,"format",void 0),pn([g(!0)],qs.prototype,"enabled",void 0),pn([g({})],qs.prototype,"htmlAttributes",void 0),pn([g(null)],qs.prototype,"values",void 0),pn([g(!1)],qs.prototype,"isMultiSelection",void 0),pn([g(!0)],qs.prototype,"showClearButton",void 0),pn([g(!0)],qs.prototype,"allowEdit",void 0),pn([g(null)],qs.prototype,"keyConfigs",void 0),pn([g(!1)],qs.prototype,"enablePersistence",void 0),pn([g(1e3)],qs.prototype,"zIndex",void 0),pn([g(!1)],qs.prototype,"readonly",void 0),pn([g(null)],qs.prototype,"placeholder",void 0),pn([g("Never")],qs.prototype,"floatLabelType",void 0),pn([g(null)],qs.prototype,"serverTimezoneOffset",void 0),pn([g(!1)],qs.prototype,"openOnFocus",void 0),pn([g(!1)],qs.prototype,"enableMask",void 0),pn([g({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],qs.prototype,"maskPlaceholder",void 0),pn([F()],qs.prototype,"open",void 0),pn([F()],qs.prototype,"cleared",void 0),pn([F()],qs.prototype,"close",void 0),pn([F()],qs.prototype,"blur",void 0),pn([F()],qs.prototype,"focus",void 0),pn([F()],qs.prototype,"created",void 0),pn([F()],qs.prototype,"destroyed",void 0),qs=pn([ii],qs);var yi=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const UW="e-input-group",ZP="e-popup",Or="e-left-calendar",ko="e-right-calendar",hw="e-daterangepicker",GW="e-error",$s="e-active",ea="e-start-date",rl="e-end-date",YW="e-start-btn",vm="e-input-focus",md="e-range-hover",ub="e-other-month",I1="e-start-label",P1="e-end-label",ds="e-disabled",Sh="e-selected",tr="e-calendar",O1="e-next",F1="e-prev",ya="e-header",Cm="e-title",KP="e-icon-container",QP="e-date-range-container",cw="e-presets",qW="e-today",wm="e-focused-date",pb="e-content",dw="e-day-span",uw="e-week-number",jp="e-date-disabled",ba="e-icon-disabled",$W="e-device",Ua="e-overlay",gd="e-list-item",Ga="e-hover",XW="e-range-overflow",JP="e-non-edit",QW="e-daterange-hidden",JW=["title","class","style"];class N1 extends he{}yi([g()],N1.prototype,"label",void 0),yi([g()],N1.prototype,"start",void 0),yi([g()],N1.prototype,"end",void 0);let xi=class extends OW{constructor(e,t){super(e,t),this.isCustomRange=!1,this.isCustomWindow=!1,this.presetsItem=[],this.liCollections=[],this.previousEleValue="",this.isKeyPopup=!1,this.dateDisabled=!1,this.isRangeIconClicked=!1,this.isMaxDaysClicked=!1,this.disabledDays=[],this.preventBlur=!1,this.preventFocus=!1,this.invalidValueString=null,this.isAngular=!1,this.preventChange=!1,this.dateRangeOptions=e}render(){this.initialize(),this.setProperties({startDate:this.startValue},!0),this.setProperties({endDate:this.endValue},!0),this.setModelValue(),this.setDataAttribute(!1),this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete()}preRender(){if(this.keyInputConfigs={altDownArrow:"alt+downarrow",escape:"escape",enter:"enter",tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow",moveUp:"uparrow",moveDown:"downarrow",spacebar:"space"},this.defaultConstant={placeholder:this.placeholder,startLabel:"Start Date",endLabel:"End Date",customRange:"Custom Range",applyText:"Apply",cancelText:"Cancel",selectedDays:"Selected Days",days:"days"},this.isMobile=window.matchMedia("(max-width:550px)").matches,this.inputElement=this.element,this.angularTag=null,"EJS-DATERANGEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.cloneElement=this.element.cloneNode(!0),z([this.cloneElement],[hw,"e-control","e-lib"]),this.updateHtmlAttributeToElement(),this.element.getAttribute("id")?null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"):(this.element.id=Us("ej2-datetimepicker"),null!==this.angularTag&&we(this.inputElement,{id:this.element.id+"_input"})),this.checkInvalidRange(this.value),!this.invalidValueString&&"string"==typeof this.value){const e=this.value.split(" "+this.separator+" ");this.value=[new Date(e[0]),new Date(e[1])]}this.initProperty(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),super.preRender(),this.navNextFunction=this.navNextMonth.bind(this),this.navPrevFunction=this.navPrevMonth.bind(this),this.deviceNavNextFunction=this.deviceNavNext.bind(this),this.deviceNavPrevFunction=this.deviceNavPrevious.bind(this),this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.formElement=K(this.element,"form")}updateValue(){this.value&&this.value.length>0?(this.value[0]instanceof Date&&!isNaN(+this.value[0])?(this.setProperties({startDate:this.value[0]},!0),this.startValue=this.value[0]):"string"==typeof this.value[0]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.startValue=null,this.setValue()):(this.setProperties({startDate:new Date(this.checkValue(this.value[0]))},!0),this.startValue=new Date(this.checkValue(this.value[0]))):(this.startValue=null,this.setValue()),this.value[1]instanceof Date&&!isNaN(+this.value[1])?(this.setProperties({endDate:this.value[1]},!0),this.endValue=this.value[1]):"string"==typeof this.value[1]?0==+this.value[0]||isNaN(+new Date(this.checkValue(this.value[0])))?(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue()):(this.setProperties({endDate:new Date(this.checkValue(this.value[1]))},!0),this.endValue=new Date(this.checkValue(this.value[1])),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):this.value&&this.value.start?(this.value.start instanceof Date&&!isNaN(+this.value.start)?(this.setProperties({startDate:this.value.start},!0),this.startValue=this.value.start):"string"==typeof this.value.start?(this.setProperties({startDate:new Date(this.checkValue(this.value.start))},!0),this.startValue=new Date(this.checkValue(this.value.start))):(this.startValue=null,this.setValue()),this.value.end instanceof Date&&!isNaN(+this.value.end)?(this.setProperties({endDate:this.value.end},!0),this.endValue=this.value.end):"string"==typeof this.value.end?(this.setProperties({endDate:new Date(this.checkValue(this.value.end))},!0),this.endValue=new Date(this.checkValue(this.value.end)),this.setValue()):(this.setProperties({endDate:null},!0),this.endValue=null,this.setValue())):f(this.value)&&(this.endValue=this.checkDateValue(new Date(this.checkValue(this.endDate))),this.startValue=this.checkDateValue(new Date(this.checkValue(this.startDate))),this.setValue())}initProperty(){this.globalize=new Gs(this.locale),this.checkFormat(),this.checkView(),(f(this.firstDayOfWeek)||this.firstDayOfWeek>6||this.firstDayOfWeek<0)&&this.setProperties({firstDayOfWeek:this.globalize.getFirstDayOfWeek()},!0),this.updateValue()}checkFormat(){this.formatString=this.format?"string"==typeof this.format?this.format:""===this.format.skeleton||f(this.format.skeleton)?null:this.globalize.getDatePattern({skeleton:this.format.skeleton,type:"date"}):null}initialize(){null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.checkHtmlAttributes(!1),ai(this.defaultKeyConfigs,{shiftTab:"shift+tab"});const e=this.checkDateValue(new Date(this.checkValue(this.startValue)));this.setProperties({startDate:e},!0),this.setProperties({endValue:this.checkDateValue(new Date(this.checkValue(this.endValue)))},!0),this.setValue(),this.setProperties({min:this.checkDateValue(new Date(this.checkValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkValue(this.max)))},!0),this.l10n=new Na("daterangepicker",this.defaultConstant,this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.processPresets(),this.createInput(),this.updateHtmlAttributeToWrapper(),this.setRangeAllowEdit(),this.bindEvents()}setDataAttribute(e){let t={};if(e)t=this.htmlAttributes;else for(let i=0;i<this.element.attributes.length;i++)t[this.element.attributes[i].name]=this.element.getAttribute(this.element.attributes[i].name);for(const i of Object.keys(t))0===i.indexOf("data")&&(this.firstHiddenChild.setAttribute(i,t[i]),this.secondHiddenChild.setAttribute(i,t[i]))}setRangeAllowEdit(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):we(this.inputElement,{readonly:""}),this.updateClearIconState()}updateClearIconState(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&z([this.inputWrapper.container],[JP]):""===this.inputElement.value?z([this.inputWrapper.container],[JP]):B([this.inputWrapper.container],[JP])}validationAttribute(e,t){const i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");const s=["required","aria-required","form"];for(let r=0;r<s.length;r++){if(f(e.getAttribute(s[r])))continue;const o=e.getAttribute(s[r]);t.setAttribute(s[r],o),e.removeAttribute(s[r])}}updateHtmlAttributeToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(JW.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&B([this.inputWrapper.container],t.split(" "))}else if("style"===e){let t=this.inputWrapper.container.getAttribute(e);t=f(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.inputWrapper.container.setAttribute(e,t)}else this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHtmlAttributeToElement(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))JW.indexOf(e)<0&&this.inputElement.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){f(t)||(t=t.replace(/\s+/g," ").trim()),f(e)||(e=e.replace(/\s+/g," ").trim()),be.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&be.setCssClass(e,[this.popupWrapper],t)}processPresets(){this.presetsItem=[];let e=0;if(!St(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){for(const s of this.presets){const r=s.label.replace(/\s+/g,"")+"_"+ ++e;this.presetsItem.push("string"==typeof s.end?{id:r,text:s.label,end:new Date(this.checkValue(s.end)),start:new Date(this.checkValue(s.start))}:{id:r,text:s.label,start:s.start,end:s.end})}const t=f(this.startValue)?null:new Date(+this.startValue),i=f(this.endValue)?null:new Date(+this.endValue);this.presetsItem.push({id:"custom_range",text:this.l10n.getConstant("customRange"),start:t,end:i}),!f(this.startValue)&&!f(this.endValue)&&(this.isCustomRange=!0,this.activeIndex=this.presetsItem.length-1)}}bindEvents(){S.add(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler,this),S.add(this.inputElement,"focus",this.inputFocusHandler,this),S.add(this.inputElement,"blur",this.inputBlurHandler,this),S.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&S.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this),this.isMobile||(this.keyInputConfigs=fe(this.keyInputConfigs,this.keyConfigs),this.inputKeyboardModule=new Ds(this.inputElement,{eventName:"keydown",keyAction:this.inputHandler.bind(this),keyConfigs:this.keyInputConfigs})),this.formElement&&S.add(this.formElement,"reset",this.formResetHandler,this),this.enabled?this.inputElement.setAttribute("tabindex",this.tabIndex):this.inputElement.tabIndex=-1}unBindEvents(){S.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),S.remove(this.inputElement,"blur",this.inputBlurHandler),S.remove(this.inputElement,"focus",this.inputFocusHandler),S.remove(this.inputElement,"change",this.inputChangeHandler),this.showClearButton&&this.inputWrapper.clearButton&&S.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler),this.isMobile||f(this.inputKeyboardModule)||this.inputKeyboardModule.destroy(),this.formElement&&S.remove(this.formElement,"reset",this.formResetHandler),this.inputElement.tabIndex=-1}updateHiddenInput(){if(this.firstHiddenChild&&this.secondHiddenChild){const e={type:"datetime",skeleton:"yMd"};"string"==typeof this.startDate&&(this.startDate=this.globalize.parseDate(this.startDate,e)),"string"==typeof this.endDate&&(this.endDate=this.globalize.parseDate(this.endDate,e)),this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e)||this.inputElement.value,this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e)||this.inputElement.value,this.dispatchEvent(this.firstHiddenChild,"focusout"),this.dispatchEvent(this.firstHiddenChild,"change")}}inputChangeHandler(e){!this.enabled||(e.stopPropagation(),this.updateHiddenInput())}bindClearEvent(){this.showClearButton&&this.inputWrapper.clearButton&&S.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)}resetHandler(e){if(!this.enabled)return;this.valueType=this.value,e.preventDefault(),this.clear();const t={event:e};this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.trigger("cleared",t),this.changeTrigger(e),this.clearRange(),this.hide(e)}restoreValue(){this.previousEleValue=this.inputElement.value,this.previousStartValue=this.startValue,this.previousEndValue=this.endValue,this.valueType=null,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue),this.setValue(),this.setModelValue()}formResetHandler(e){if(this.enabled&&this.formElement&&e.target===this.formElement&&!this.inputElement.disabled){let t=this.inputElement.getAttribute("value");f(this.startCopy)?(this.setProperties({value:null,startDate:null,endDate:null},!0),this.startValue=this.endValue=null):(f(this.value)||f(this.value.start)?(this.setProperties({value:[this.startCopy,this.endCopy]},!0),this.startValue=this.value[0],this.endValue=this.value[1]):(this.setProperties({value:{start:this.startCopy,end:this.endCopy}},!0),this.startValue=this.value.start,this.endValue=this.value.end),this.setProperties({startDate:this.startValue,endDate:this.endValue},!0)),"EJS-DATERANGEPICKER"===this.element.tagName&&(this.setProperties({value:null,startDate:null,endDate:null},!0),t="",this.startValue=this.endValue=null,this.inputElement.setAttribute("value","")),this.restoreValue(),this.inputElement&&(be.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.errorClass())}}clear(){null!==this.startValue&&(this.startValue=null),null!==this.endValue&&(this.endValue=null),this.value&&this.value.start&&this.setProperties({value:{start:null,end:null}},!0),null!==this.value&&this.value.length>0&&this.setProperties({value:null},!0),be.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),f(this.applyButton)||(this.applyButton.disabled=this.applyButton.element.disabled=!0),this.removeSelection()}rangeIconHandler(e){!this.enabled||(this.isMobile&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.targetElement=null,this.isPopupOpen()&&document.body.contains(this.popupObj.element)?this.applyFunction(e):(this.isRangeIconClicked=!0,this.inputWrapper.container.children[0].focus(),this.show(null,e),this.isMobile||f(this.leftCalendar)||(this.isRangeIconClicked=!1,this.calendarFocus(),this.isRangeIconClicked=!0),B([this.inputWrapper.container],[vm])))}checkHtmlAttributes(e){this.globalize=new Gs(this.locale);const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["startDate","endDate","minDays","maxDays","min","max","disabled","readonly","style","name","placeholder","type","value"],i={format:this.formatString,type:"date",skeleton:"yMd"};for(const s of t)if(!f(this.inputElement.getAttribute(s)))switch(s){case"disabled":if(f(this.dateRangeOptions)||void 0===this.dateRangeOptions.enabled||e){const r="disabled"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s);this.setProperties({enabled:!r},!e)}break;case"readonly":if(f(this.dateRangeOptions)||void 0===this.dateRangeOptions.readonly||e){const r="readonly"===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s);this.setProperties({readonly:r},!e)}break;case"placeholder":(f(this.dateRangeOptions)||void 0===this.dateRangeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(s)},!e);break;case"value":if(f(this.dateRangeOptions)||void 0===this.dateRangeOptions.value||e){const r=this.inputElement.getAttribute(s);this.setProperties(Oi(s,r,{}),!e)}break;case"style":this.inputElement.setAttribute("style",""+this.inputElement.getAttribute(s));break;case"min":if(f(this.min)||+this.min==+new Date(1900,0,1)||e){const r=this.globalize.parseDate(this.inputElement.getAttribute(s),i);this.setProperties(Oi(s,r,{}),!e)}break;case"name":this.inputElement.setAttribute("name",""+this.inputElement.getAttribute(s));break;case"max":if(f(this.max)||+this.max==+new Date(2099,11,31)||e){const r=this.globalize.parseDate(this.inputElement.getAttribute(s),i);this.setProperties(Oi(s,r,{}),!e)}break;case"startDate":if(f(this.startDate)){const r=this.globalize.parseDate(this.inputElement.getAttribute(s),i);this.startValue=r,this.setValue()}break;case"endDate":if(f(this.endDate)){const r=this.globalize.parseDate(this.inputElement.getAttribute(s),i);this.endValue=r,this.setValue()}break;case"minDays":f(this.minDays)&&this.setProperties(Oi(s,parseInt(this.inputElement.getAttribute(s),10),{}),!0);break;case"maxDays":f(this.maxDays)&&this.setProperties(Oi(s,parseInt(this.inputElement.getAttribute(s),10),{}),!0);break;case"type":"text"!==this.inputElement.getAttribute(s)&&this.inputElement.setAttribute("type","text")}}createPopup(){for(let t=0;t<this.presetsItem.length;t++)t!==this.presetsItem.length-1&&"custom_range"===this.presetsItem[t].id&&this.presetsItem.splice(t,1);this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0;for(let t=0;t<=this.presetsItem.length-2;t++){const i=this.presetsItem[t].start,s=this.presetsItem[t].end;this.startValue&&this.endValue&&+new Date(i.setHours(0,0,0,0))==+new Date(this.startValue.setHours(0,0,0,0))&&+new Date(s.setHours(0,0,0,0))==+new Date(this.endValue.setHours(0,0,0,0))&&(this.activeIndex=t,this.isCustomRange=!1)}this.popupWrapper=Ve("div",{id:this.element.id+"_popup",className:hw+" "+ZP}),this.adjustLongHeaderWidth();const e=!this.isCustomRange||this.isMobile;!St(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&e?(this.isCustomWindow=!1,this.createPresets(),this.listRippleEffect(),this.renderPopup()):(this.isCustomWindow=!0,this.renderControl())}renderControl(){this.createControl(),this.bindCalendarEvents(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),!f(this.endValue)&&!f(this.startValue)&&this.disabledDateRender(),this.updateHeader()}clearCalendarEvents(){S.clearEvents(this.leftCalPrevIcon),S.clearEvents(this.leftCalNextIcon),S.clearEvents(this.rightCalPrevIcon),S.clearEvents(this.rightCalNextIcon)}updateNavIcons(){super.iconHandler()}calendarIconEvent(){this.clearCalendarEvents(),this.leftCalPrevIcon&&!this.leftCalPrevIcon.classList.contains(ds)&&S.add(this.leftCalPrevIcon,"mousedown",this.navPrevFunction),this.leftCalNextIcon&&!this.leftCalNextIcon.classList.contains(ds)&&S.add(this.leftCalNextIcon,"mousedown",this.navNextFunction),this.rightCalPrevIcon&&!this.rightCalPrevIcon.classList.contains(ds)&&S.add(this.rightCalPrevIcon,"mousedown",this.navPrevFunction),this.rightCalNextIcon&&!this.rightCalNextIcon.classList.contains(ds)&&S.add(this.rightCalNextIcon,"mousedown",this.navNextFunction)}bindCalendarEvents(){this.isMobile?(this.deviceCalendarEvent(),S.add(this.startButton.element,"click",this.deviceHeaderClick,this),S.add(this.endButton.element,"click",this.deviceHeaderClick,this)):(this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.headerTitleElement=this.popupObj.element.querySelector("."+ko+" ."+ya+" ."+Cm),this.headerTitleElement=this.popupObj.element.querySelector("."+Or+" ."+ya+" ."+Cm),this.defaultKeyConfigs=fe(this.defaultKeyConfigs,this.keyConfigs),this.leftKeyboardModule=new Ds(this.leftCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs}),this.rightKeyboardModule=new Ds(this.rightCalendar,{eventName:"keydown",keyAction:this.keyInputHandler.bind(this),keyConfigs:this.defaultKeyConfigs})),this.start===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()}calendarIconRipple(){rn(this.leftCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),rn(this.leftCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),rn(this.rightCalPrevIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),rn(this.rightCalNextIcon,{selector:".e-next",duration:400,isCenterRipple:!0})}deviceCalendarEvent(){S.clearEvents(this.nextIcon),S.clearEvents(this.previousIcon),rn(this.nextIcon,{selector:".e-prev",duration:400,isCenterRipple:!0}),rn(this.previousIcon,{selector:".e-next",duration:400,isCenterRipple:!0}),this.nextIcon&&!this.nextIcon.classList.contains(ds)&&S.add(this.nextIcon,"mousedown",this.deviceNavNextFunction),this.previousIcon&&!this.previousIcon.classList.contains(ds)&&S.add(this.previousIcon,"mousedown",this.deviceNavPrevFunction)}deviceNavNext(e){const t=K(e.target,"."+tr);this.updateDeviceCalendar(t),this.navigateNext(e),this.deviceNavigation()}deviceNavPrevious(e){const t=K(e.target,"."+tr);this.updateDeviceCalendar(t),this.navigatePrevious(e),this.deviceNavigation()}updateDeviceCalendar(e){e&&(this.previousIcon=e.querySelector("."+F1),this.nextIcon=e.querySelector("."+O1),this.calendarElement=e,this.deviceCalendar=e,this.contentElement=e.querySelector("."+pb),this.tableBodyElement=W("."+pb+" tbody",e),this.table=e.querySelector("."+pb).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector("."+ya+" ."+Cm),this.headerElement=e.querySelector("."+ya))}deviceHeaderClick(e){if(e.currentTarget.classList.contains(YW)&&!f(this.startValue)){this.endButton.element.classList.remove($s),this.startButton.element.classList.add($s);const i=this.popupObj.element.querySelector("."+tr);this.updateDeviceCalendar(i),f(this.calendarElement.querySelector("."+ea+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.startValue),Ue(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.removeClassDisabled()}else if(!f(this.startValue)&&!f(this.endValue)){this.startButton.element.classList.remove($s),this.endButton.element.classList.add($s);const i=this.popupObj.element.querySelector("."+tr);this.updateDeviceCalendar(i),f(this.calendarElement.querySelector("."+rl+":not(.e-other-month)"))&&(this.currentDate=new Date(+this.endValue),Ue(this.tableBodyElement),this.createContentBody(),this.deviceNavigation()),this.updateMinMaxDays(this.popupObj.element.querySelector("."+tr)),this.selectableDates()}}inputFocusHandler(){this.enabled&&(this.preventBlur=!1,this.preventFocus||this.trigger("focus",{model:this}),this.updateClearIconState(),this.updateHiddenInput(),this.openOnFocus&&!this.preventFocus?(this.preventFocus=!0,this.show()):this.preventFocus=!0)}inputBlurHandler(e){if(this.enabled){if(!this.preventBlur){const t=this.inputElement.value;if(f(this.presetsItem)||this.presetsItem.length>0&&this.previousEleValue!==this.inputElement.value&&(this.activeIndex=this.presetsItem.length-1,this.isCustomRange=!0),!f(t)&&""!==t.trim()){const i=t.split(" "+this.separator+" ");if(i.length>1){this.invalidValueString=null;const s={format:this.formatString,type:"date",skeleton:"yMd"},r=this.globalize.parseDate(i[0].trim(),s),o=this.globalize.parseDate(i[1].trim(),s);if(!(f(r)||isNaN(+r)||f(o)||isNaN(+o))){const a=this.startValue;this.startValue=r;const l=this.endValue;return this.endValue=o,this.setValue(),this.refreshControl(),t!==this.previousEleValue&&this.changeTrigger(e),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this})),this.updateHiddenInput(),void(this.isMobile&&this.isPopupOpen()&&(this.startValue=a,this.endValue=l))}this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}else this.strictMode||(this.startValue=null,this.endValue=null,this.setValue())}this.strictMode?(!f(t)&&""===t.trim()&&(this.startValue=null,this.endValue=null),be.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.updateInput()):(f(this.popupObj)&&(this.currentDate=null),this.previousStartValue=this.previousEndValue=null,this.startValue=null,this.endValue=null,this.setValue()),this.errorClass(),this.changeTrigger(e),this.preventBlur||document.activeElement===this.inputElement||(this.preventFocus=!1,this.trigger("blur",{model:this}))}this.updateHiddenInput()}}clearRange(){this.previousStartValue=this.previousEndValue=null,this.currentDate=null}errorClass(){const e=this.inputElement.value.trim();(f(this.endValue)&&f(this.startValue)&&""!==e||!f(this.startValue)&&+this.startValue<+this.min||!f(this.startValue)&&!f(this.endValue)&&+this.startValue>+this.endValue||!f(this.endValue)&&+this.endValue>+this.max||this.startValue&&this.isDateDisabled(this.startValue)||this.endValue&&this.isDateDisabled(this.endValue))&&""!==e?(B([this.inputWrapper.container],GW),we(this.inputElement,{"aria-invalid":"true"})):this.inputWrapper&&(z([this.inputWrapper.container],GW),we(this.inputElement,{"aria-invalid":"false"}))}keyCalendarUpdate(e,t){return this.removeFocusedDate(),e?(this.leftCalCurrentDate=new Date(+this.currentDate),t=this.leftCalendar):(this.rightCalCurrentDate=new Date(+this.currentDate),t=this.rightCalendar),this.updateCalendarElement(t),this.table.focus(),t}navInCalendar(e,t,i,s,r){const o=this.getViewNumber(this.currentView());let a;const l=this.min;let h;switch(h=f(this.maxDays)||!this.isMaxDaysClicked||f(this.startValue)?this.max:new Date(new Date(+this.startValue).setDate(this.startValue.getDate()+(this.maxDays-1))),e.action){case"moveRight":a=new Date(+this.currentDate),this.addDay(a,1,e,h,l),t&&+a==+s&&(r=this.keyCalendarUpdate(!1,r)),this.keyboardNavigate(1,o,e,h,l),this.keyNavigation(r,e);break;case"moveLeft":a=new Date(+this.currentDate),this.addDay(a,-1,e,h,l),t||+a==+i&&(r=this.keyCalendarUpdate(!0,r)),this.keyboardNavigate(-1,o,e,h,l),this.keyNavigation(r,e);break;case"moveUp":0===o?(a=new Date(+this.currentDate),this.addDay(a,-7,e,h,l),+a<=+i&&!t&&(r=this.keyCalendarUpdate(!0,r)),this.keyboardNavigate(-7,o,e,h,l)):this.keyboardNavigate(-4,o,e,this.max,this.min),this.keyNavigation(r,e);break;case"moveDown":0===o?(a=new Date(+this.currentDate),this.addDay(a,7,e,h,l),t&&+a>=+s&&(r=this.keyCalendarUpdate(!1,r)),this.keyboardNavigate(7,o,e,h,l)):this.keyboardNavigate(4,o,e,this.max,this.min),this.keyNavigation(r,e);break;case"home":this.currentDate=this.firstDay(this.currentDate),Ue(this.tableBodyElement),0===o?this.renderMonths(e):1===o?this.renderYears(e):this.renderDecades(e),this.keyNavigation(r,e);break;case"end":this.currentDate=this.lastDay(this.currentDate,o),Ue(this.tableBodyElement),0===o?this.renderMonths(e):1===o?this.renderYears(e):this.renderDecades(e),this.keyNavigation(r,e)}}keyInputHandler(e,t){let i,s=this.getViewNumber(this.currentView());const r=new Date(this.rightCalCurrentDate.getFullYear(),this.rightCalCurrentDate.getMonth(),1),o=new Date(this.leftCalCurrentDate.getFullYear(),this.leftCalCurrentDate.getMonth()+1,0);let a=K(e.target,"."+ko);a=f(a)?this.leftCalendar:a;const l=a.classList.contains(Or);this.updateCalendarElement(a);const h=this.tableBodyElement.querySelector("tr td.e-selected"),c=a.querySelector("tr td."+wm),d=a.querySelector("tr td."+ea),u=a.querySelector("tr td."+rl),p=this.getViewNumber(this.depth),m=s===p&&this.getViewNumber(this.start)>=p,y=K(e.target,"."+Or),b=K(e.target,"."+ko),v=K(e.target,"."+cw);switch(f(c)?f(u)||this.dateDisabled?f(d)||this.dateDisabled?this.dateDisabled||this.currentDate.setDate(1):this.currentDate=new Date(+this.startValue):this.currentDate=new Date(+this.endValue):this.currentDate=this.currentDate,this.effect="",e.action){case"altUpArrow":this.isPopupOpen()&&(this.hide(e),this.preventFocus=!0,this.inputElement.focus(),B([this.inputWrapper.container],[vm]));break;case"select":if(m){const C=f(c)?d:c;!f(C)&&!C.classList.contains(ds)&&this.selectRange(null,C)}else(!f(h)&&!m||!f(c))&&(f(this.value)||(t=this.calendarElement.classList.contains(Or)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--s,c||h,t));e.preventDefault();break;case"controlHome":{const C=new Date(this.currentDate.getFullYear(),0,1);!l&&+C<+o&&(a=this.keyCalendarUpdate(!0,a)),super.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),0,1)),this.keyNavigation(a,e)}break;case"altRightArrow":f(y)?f(b)?f(v)||this.cancelButton.element.focus():f(this.presetElement)?this.cancelButton.element.focus():(this.presetElement.focus(),this.removeFocusedDate()):this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault();break;case"altLeftArrow":f(y)?f(b)||this.leftCalendar.children[1].firstElementChild.focus():!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"controlUp":this.calendarElement.classList.contains(Or),this.calendarNavigation(e,this.calendarElement),e.preventDefault();break;case"controlDown":(!f(h)||!f(c))&&!m&&(f(this.value)||(t=this.calendarElement.classList.contains(Or)?this.startDate:this.endDate),this.controlDown=e,this.contentClick(null,--s,h||c,t)),e.preventDefault();break;case"controlEnd":{const C=new Date(this.currentDate.getFullYear(),11,31);l&&+C>+r&&(a=this.keyCalendarUpdate(!1,a)),super.navigateTo.call(this,"Month",new Date(this.currentDate.getFullYear(),11,31)),this.keyNavigation(a,e)}break;case"pageUp":i=new Date(+this.currentDate),this.addMonths(i,-1),!l&&+i<=+o&&(a=this.keyCalendarUpdate(!0,a)),this.addMonths(this.currentDate,-1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"pageDown":i=new Date(+this.currentDate),this.addMonths(i,1),l&&+i>=+r&&(a=this.keyCalendarUpdate(!1,a)),this.addMonths(this.currentDate,1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"shiftPageUp":i=new Date(+this.currentDate),this.addYears(i,-1),!l&&+i<=+o&&(a=this.keyCalendarUpdate(!0,a)),this.addYears(this.currentDate,-1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"shiftPageDown":i=new Date(+this.currentDate),this.addYears(i,1),l&&+i>=+r&&(a=this.keyCalendarUpdate(!1,a)),this.addYears(this.currentDate,1),super.navigateTo.call(this,"Month",this.currentDate),this.keyNavigation(a,e);break;case"shiftTab":f(this.presetElement)||(this.presetElement.setAttribute("tabindex","0"),this.presetElement.focus(),this.removeFocusedDate()),e.preventDefault();break;case"spacebar":this.applyButton&&!this.applyButton.disabled&&this.applyFunction(e);break;default:this.navInCalendar(e,l,o,r,a),this.checkMinMaxDays()}this.presetHeight()}keyNavigation(e,t){this.bindCalendarCellEvents(e),e.classList.contains(Or)?this.leftCalCurrentDate=new Date(+this.currentDate):this.rightCalCurrentDate=new Date(+this.currentDate),this.updateNavIcons(),this.calendarIconEvent(),this.updateRange([e]),this.dateDisabled=this.isDateDisabled(this.currentDate),t.preventDefault()}inputHandler(e){switch(e.action){case"altDownArrow":this.isPopupOpen()||(""===this.inputElement.value&&(this.clear(),this.changeTrigger(e),this.clearRange()),this.show(null,e),this.isRangeIconClicked=!1,this.isMobile||f(this.leftCalendar)||this.calendarFocus(),this.isKeyPopup=!0);break;case"escape":this.isPopupOpen()&&this.hide(e);break;case"enter":document.activeElement===this.inputElement&&(this.inputBlurHandler(e),this.hide(e));break;case"tab":document.activeElement===this.inputElement&&this.isPopupOpen()&&(this.hide(e),e.preventDefault())}}bindCalendarCellEvents(e){let t;t=e?e.querySelectorAll("."+tr+" td"):this.popupObj.element.querySelectorAll("."+tr+" td");for(const i of t)S.clearEvents(i),!i.classList.contains(ds)&&!i.classList.contains(jp)&&!i.classList.contains(uw)&&(this.isMobile||S.add(i,"mouseover",this.hoverSelection,this),S.add(i,"mousedown",this.selectRange,this))}removeFocusedDate(){const e=!f(this.startValue)||!f(this.endValue),t=this.popupObj.element.querySelectorAll("."+tr+" ."+wm);for(const i of t){const s=new Date,r=this.getIdValue(null,i);("Month"===this.depth&&"Month"===this.currentView()&&(!i.classList.contains(qW)||i.classList.contains(qW)&&e)||"Year"===this.depth&&"Year"===this.currentView()&&(!this.isSameMonth(s,r)&&!this.isSameYear(s,r)||e)||"Decade"===this.depth&&"Decade"===this.currentView()&&(!this.isSameYear(s,r)||e))&&(i.classList.remove(wm),!i.classList.contains(ea)&&!i.classList.contains(rl)&&i.removeAttribute("aria-label"))}}hoverSelection(e,t){const s=this.getIdValue(null,t||e.currentTarget);if(!f(this.startValue)&&+this.startValue>=+this.min&&+this.startValue<=+this.max&&(!this.isDateDisabled(this.endValue)&&!this.isDateDisabled(this.startValue)&&f(this.endValue)&&f(this.startValue)||!f(this.startValue)&&f(this.endValue))){const r=this.popupObj.element.querySelectorAll("."+tr+" td");for(const o of r){const a=!o.classList.contains(ds)||o.classList.contains(jp);if(!o.classList.contains(uw)&&a){const l=this.getIdValue(null,o),h=new Date(+this.startValue);new Date(+l).setHours(0,0,0,0)>=h.setHours(0,0,0,0)&&+l<=+s?B([o],md):z([o],[md])}}}}isSameStartEnd(e,t){let i=!1;return"Month"===this.depth?e.setHours(0,0,0,0)===t.setHours(0,0,0,0)&&(i=!0):"Year"===this.depth?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&(i=!0):"Decade"===this.depth&&e.getFullYear()===t.getFullYear()&&(i=!0),i}updateRange(e){if(!f(this.startValue))for(const t of e){const i=t.querySelectorAll("."+tr+" td");for(const s of i)if(!s.classList.contains(uw)&&!s.classList.contains(ds)){const r=this.getIdValue(null,s),o=this.getIdValue(null,s);if(f(this.endValue)?z([s],[md]):this.currentView()===this.depth&&+o.setHours(0,0,0,0)>=+new Date(+this.startValue).setHours(0,0,0,0)&&+o.setHours(0,0,0,0)<=+new Date(+this.endValue).setHours(0,0,0,0)&&!this.isSameStartEnd(new Date(+this.startValue),new Date(+this.endValue))&&+new Date(+this.startValue).setHours(0,0,0,0)>=+this.min&&+new Date(+this.endValue).setHours(0,0,0,0)<=+this.max&&!(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue))&&B([s],md),s.classList.contains(Sh)&&s.classList.contains(rl)&&+o!=+this.endValue&&(z([s],[Sh]),z([s],[rl])),s.classList.contains(md)&&+o>+this.endValue&&z([s],[md]),!s.classList.contains(ub)){const a=new Date(+this.startValue);let l=new Date(+r);this.currentView()===this.depth&&+l.setHours(0,0,0,0)==+a.setHours(0,0,0,0)&&+l.setHours(0,0,0,0)>=+a.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!this.isDateDisabled(this.startValue)&&!this.isDateDisabled(this.endValue)&&(B([s],[ea,Sh]),this.addSelectedAttributes(s,this.startValue,!0));const h=new Date(+this.endValue);"Year"===this.currentView()?l=new Date(l.getFullYear(),l.getMonth()+1,0):"Decade"===this.currentView()&&(l=new Date(l.getFullYear(),11,31)),this.currentView()===this.depth&&!f(this.endValue)&&+l.setHours(0,0,0,0)==+h.setHours(0,0,0,0)&&+l.setHours(0,0,0,0)<=+h.setHours(0,0,0,0)&&+this.startValue>=+this.min&&!this.inputWrapper.container.classList.contains("e-error")&&!(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue))&&(B([s],[rl,Sh]),this.addSelectedAttributes(s,this.startValue,!1)),+r==+this.startValue&&!f(this.endValue)&&+r==+this.endValue&&this.addSelectedAttributes(s,this.endValue,!1,!0)}}}}checkMinMaxDays(){(!f(this.minDays)&&this.minDays>0||!f(this.maxDays)&&this.maxDays>0)&&(this.isMobile?this.updateMinMaxDays(this.popupObj.element.querySelector("."+tr)):(this.updateMinMaxDays(this.popupObj.element.querySelector("."+Or)),this.updateMinMaxDays(this.popupObj.element.querySelector("."+ko))))}rangeArgs(e){let t,i;const s=f(this.startValue)?null:this.globalize.formatDate(this.startValue,{format:this.formatString,type:"date",skeleton:"yMd"}),r=f(this.endValue)?null:this.globalize.formatDate(this.endValue,{format:this.formatString,type:"date",skeleton:"yMd"});return f(this.endValue)||f(this.startValue)?(t="",i=0):(t=s+" "+this.separator+" "+r,i=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1),{value:this.value,startDate:this.startValue,endDate:this.endValue,daySpan:i,event:e||null,element:this.element,isInteracted:!f(e),text:t}}otherMonthSelect(e,t,i){const s=+this.getIdValue(null,e),r='*[id^="/id"]:not(.e-other-month)'.replace("/id",""+s),o=this.popupObj&&this.popupObj.element.querySelector(r);f(o)||(t?(B([o],[ea,Sh]),this.addSelectedAttributes(o,this.startValue,!0)):(B([o],[rl,Sh]),this.addSelectedAttributes(o,this.endValue,!0)),i&&this.addSelectedAttributes(e,this.endValue,!1,!0))}selectRange(e,t){let i,s;e&&e.preventDefault();const r=f(e)?this.getIdValue(null,t):this.getIdValue(e,null),o=r.getFullYear(),a=r.getMonth(),l=new Date(o,a,1),h=new Date(o,a+1,0),c=new Date(o,0,1),d=new Date(o,11,31);f(this.endValue)||f(this.startValue)?this.isMobile&&this.startButton.element.classList.contains($s)&&this.removeSelection():(!this.isMobile||this.isMobile&&!this.endButton.element.classList.contains($s))&&this.removeSelection();const u=t||e.currentTarget;if(f(this.startValue))f(this.previousStartValue)||(r.setHours(this.previousStartValue.getHours()),r.setMinutes(this.previousStartValue.getMinutes()),r.setSeconds(this.previousStartValue.getSeconds())),this.startValue="Month"===this.depth?new Date(this.checkValue(r)):"Year"===this.depth?l:c,this.endValue=null,this.setValue(),B([u],ea),this.addSelectedAttributes(u,this.startValue,!0),u.classList.contains(ub)&&this.otherMonthSelect(u,!0),this.checkMinMaxDays(),this.applyButton.disabled=!0,this.applyButton.element.disabled=!0,this.isMobile&&(this.endButton.element.classList.add($s),this.startButton.element.classList.remove($s),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),this.trigger("select",this.rangeArgs(e));else if(+r==+this.startValue||+r>+this.startValue){if(+r==+this.startValue&&!f(this.minDays)&&this.minDays>1)return;this.endValue=null,this.setValue(),(this.isMobile||t)&&this.hoverSelection(e,t),f(this.previousEndValue)||(r.setHours(this.previousEndValue.getHours()),r.setMinutes(this.previousEndValue.getMinutes()),r.setSeconds(this.previousEndValue.getSeconds())),this.endValue="Month"===this.depth?new Date(this.checkValue(r)):"Year"===this.depth?h:d,this.setValue();let p=this.popupObj.element.querySelectorAll("."+rl);if(this.isMobile){this.startButton.element.classList.remove($s),this.endButton.element.classList.add($s);for(const m of p)m.removeAttribute("aria-label"),m.classList.contains(ea)?(this.addSelectedAttributes(m,this.startValue,!0),z([m],[rl])):(m.setAttribute("aria-selected","false"),z([m],[rl,Sh]))}B([u],rl),+this.endValue==+this.startValue?this.addSelectedAttributes(u,this.endValue,!1,!0):this.addSelectedAttributes(u,this.endValue,!1),u.classList.contains(ub)&&(+this.endValue==+this.startValue?this.otherMonthSelect(u,!1,!0):this.otherMonthSelect(u,!1)),p=this.popupObj.element.querySelectorAll("."+rl);for(const m of p)m.classList.contains(ea)&&z([m],[md]);this.applyButton.disabled=!1,this.applyButton.element.disabled=!1,this.isMobile||this.removeClassDisabled(),this.disabledDateRender(),this.trigger("select",this.rangeArgs(e))}else+r<+this.startValue&&(this.removeClassDisabled(),this.startValue="Month"===this.depth?new Date(this.checkValue(r)):"Year"===this.depth?l:c,this.setValue(),this.removeSelectedAttributes(),z(this.popupObj.element.querySelectorAll("."+ea),[ea,Sh]),B([u],ea),this.addSelectedAttributes(u,this.startValue,!0),u.classList.contains(ub)&&this.otherMonthSelect(u,!0),this.checkMinMaxDays());e&&(i=K(e.target,"."+Or)),f(i)?(e&&(s=e&&K(e.target,"."+ko)),f(s)||this.rightCalendar.children[1].firstElementChild.focus()):this.leftCalendar.children[1].firstElementChild.focus(),B([u],Sh),this.updateHeader(),this.removeFocusedDate()}selectableDates(){if(!f(this.startValue)){const e=this.calendarElement.querySelectorAll("."+tr+" td");let t=!1;if(this.currentView()===this.depth){for(const i of e){if(!i.classList.contains(ea)&&!i.classList.contains(uw)&&!i.classList.contains(ds)){if(+this.getIdValue(null,i)<+this.startValue){B([i],[jp,ds,Ua]),S.clearEvents(i);continue}break}if(i.classList.contains(ea)&&!i.classList.contains(ub)){t=!0;break}}t&&(this.previousIcon.classList.contains(ds)||B([this.previousIcon],[ba,ds,Ua]))}else{for(const i of e){const s=this.startValue.getMonth(),r=this.startValue.getFullYear(),o=this.getIdValue(null,i);if(this.startButton.element.classList.contains($s)||!("Year"===this.currentView()&&o.getMonth()<s&&o.getFullYear()<=r||"Decade"===this.currentView()&&o.getMonth()<=s&&o.getFullYear()<r))break;B([i],[ds])}e[0].classList.contains(ds)?this.previousIconHandler(!0):e[e.length-1].classList.contains(ds)&&this.nextIconHandler(!0)}}}updateMinMaxDays(e){if(!f(this.startValue)&&f(this.endValue)||this.isMobile&&this.endButton.element.classList.contains($s)){if(!f(this.minDays)&&this.minDays>0||!f(this.maxDays)&&this.maxDays>0){const t=this.removeTimeValueFromDate(this.startValue);let i=new Date(new Date(+t).setDate(t.getDate()+(this.minDays-1))),s=new Date(new Date(+t).setDate(t.getDate()+(this.maxDays-1)));i=!f(this.minDays)&&this.minDays>0?i:null,s=!f(this.maxDays)&&this.maxDays>0?s:null,"Year"===this.currentView()?(i=f(i)?null:new Date(i.getFullYear(),i.getMonth(),0),s=f(s)?null:new Date(s.getFullYear(),s.getMonth(),1)):"Decade"===this.currentView()&&(i=f(i)?null:new Date(i.getFullYear()-1,11,1),s=f(s)?null:new Date(s.getFullYear(),0,1));const r=e.querySelectorAll("."+tr+" td");let o;for(const a of r)if(!a.classList.contains(ea)&&!a.classList.contains(uw)){let l=this.getIdValue(null,a);if(l=this.removeTimeValueFromDate(l),!f(i)&&+l==+i&&a.classList.contains(ds)&&i.setDate(i.getDate()+1),!a.classList.contains(ds)){if(+l<=+t)continue;!f(i)&&+l<+i&&(B([a],[jp,ds,Ua]),S.clearEvents(a)),!f(s)&&+l>+s&&(B([a],[jp,ds,Ua]),this.isMaxDaysClicked=!0,S.clearEvents(a),f(o)&&!a.classList.contains(ub)&&(o=a))}}if(!f(o))if(this.isMobile)this.nextIcon.classList.contains(ds)||B([this.nextIcon],[ba,ds,Ua]);else{let a=K(o,"."+ko);a=f(a)?this.leftCalendar:a,a.classList.contains(Or)?(this.rightCalNextIcon.classList.contains(ds)||B([this.rightCalNextIcon],[ba,ds,Ua]),this.leftCalNextIcon.classList.contains(ds)||B([this.leftCalNextIcon],[ba,ds,Ua]),this.rightCalPrevIcon.classList.contains(ds)||B([this.rightCalPrevIcon],[ba,ds,Ua])):this.rightCalNextIcon.classList.contains(ds)||B([this.rightCalNextIcon],[ba,ds,Ua])}}}else this.isMaxDaysClicked=!1}removeTimeValueFromDate(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}removeClassDisabled(){const e=this.popupObj.element.querySelectorAll("."+tr+" td."+jp);for(const t of e)t.classList.contains(jp)&&(z([t],[jp,ds,Ua]),S.add(t,"click",this.selectRange,this),this.isMobile||S.add(t,"mouseover",this.hoverSelection,this));this.isMobile?(this.nextIcon.classList.contains(ba)&&z([this.nextIcon],[ba,ds,Ua]),this.previousIcon.classList.contains(ba)&&z([this.previousIcon],[ba,ds,Ua])):(this.rightCalNextIcon.classList.contains(ba)&&z([this.rightCalNextIcon],[ba,ds,Ua]),this.rightCalPrevIcon.classList.contains(ba)&&z([this.rightCalPrevIcon],[ba,ds,Ua]),this.leftCalNextIcon.classList.contains(ba)&&z([this.leftCalNextIcon],[ba,ds,Ua]))}updateHeader(){const e={type:"date",skeleton:"yMMMd"};if(f(this.endValue)||f(this.startValue))this.popupObj.element.querySelector("."+dw).textContent=this.l10n.getConstant("selectedDays");else{let t=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1;f(this.disabledDayCnt)||(t-=this.disabledDayCnt,this.disabledDayCnt=null),this.popupObj.element.querySelector("."+dw).textContent=t.toString()+" "+this.l10n.getConstant("days")}this.isMobile?(this.startButton.element.textContent=f(this.startValue)?this.l10n.getConstant("startLabel"):this.globalize.formatDate(this.startValue,e),this.endButton.element.textContent=f(this.endValue)||f(this.startValue)?this.l10n.getConstant("endLabel"):this.globalize.formatDate(this.endValue,e)):(f(this.endValue)||f(this.startValue)?this.popupObj.element.querySelector("."+P1).textContent=this.l10n.getConstant("endLabel"):this.popupObj.element.querySelector("."+P1).textContent=this.globalize.formatDate(this.endValue,e),f(this.startValue)?this.popupObj.element.querySelector("."+I1).textContent=this.l10n.getConstant("startLabel"):this.popupObj.element.querySelector("."+I1).textContent=this.globalize.formatDate(this.startValue,e)),(this.isDateDisabled(this.startValue)||this.isDateDisabled(this.endValue)||!f(this.startValue)&&+this.startValue<+this.min||!f(this.endValue)&&+this.endValue>+this.max||!f(this.startValue)&&!f(this.endValue)&&+this.startValue>+this.endValue)&&(this.isMobile?(this.startButton.element.textContent=this.l10n.getConstant("startLabel"),this.endButton.element.textContent=this.l10n.getConstant("endLabel"),this.popupObj.element.querySelector("."+dw).textContent=this.l10n.getConstant("selectedDays")):(this.popupObj.element.querySelector("."+dw).textContent=this.l10n.getConstant("selectedDays"),this.popupObj.element.querySelector("."+I1).textContent=this.l10n.getConstant("startLabel"),this.popupObj.element.querySelector("."+P1).textContent=this.l10n.getConstant("endLabel"))),this.popupObj.element.querySelector("#custom_range")&&(this.popupObj.element.querySelector("#custom_range").textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range")}removeSelection(){this.startValue=null,this.endValue=null,this.setValue(),this.removeSelectedAttributes(),this.popupObj&&(this.popupObj.element.querySelectorAll("."+Sh).length>0&&z(this.popupObj.element.querySelectorAll("."+Sh),[ea,rl,Sh]),this.popupObj.element.querySelectorAll("."+wm).length>0&&z(this.popupObj.element.querySelectorAll("."+wm),wm),this.popupObj.element.querySelectorAll("."+md).length>0&&z(this.popupObj.element.querySelectorAll("."+md),[md]))}addSelectedAttributes(e,t,i,s){if(e){const r=this.globalize.formatDate(t,{type:"date",skeleton:"full"});!f(s)&&s?e.setAttribute("aria-label","The current start and end date is "+r):e.setAttribute("aria-label","The current "+(i?"start":"end")+" date is "+r),e.setAttribute("aria-selected","true")}}removeSelectedAttributes(){if(this.popupObj){const e=this.popupObj.element.querySelectorAll("."+ea);for(const i of e)i.setAttribute("aria-selected","false"),i.removeAttribute("aria-label");const t=this.popupObj.element.querySelectorAll("."+rl);for(const i of t)i.setAttribute("aria-selected","false"),i.removeAttribute("aria-label")}}updateCalendarElement(e){e.classList.contains(Or)?(this.calendarElement=this.leftCalendar,this.currentDate=this.leftCalCurrentDate,this.previousIcon=this.leftCalPrevIcon,this.nextIcon=this.leftCalNextIcon):(this.calendarElement=this.rightCalendar,this.currentDate=this.rightCalCurrentDate,this.previousIcon=this.rightCalPrevIcon,this.nextIcon=this.rightCalNextIcon),this.contentElement=e.querySelector("."+pb),this.tableBodyElement=W("."+pb+" tbody",e),this.table=e.querySelector("."+pb).getElementsByTagName("table")[0],this.headerTitleElement=e.querySelector("."+ya+" ."+Cm),this.headerElement=e.querySelector("."+ya)}navPrevMonth(e){e.preventDefault();let t=K(e.target,"."+Or);t=f(t)?K(e.target,"."+ko):t,this.updateCalendarElement(t),this.navigatePrevious(e),!f(this.startValue)&&f(this.endValue)&&this.updateMinMaxDays(t),this.updateControl(t)}deviceNavigation(e){this.deviceCalendarEvent(),this.updateRange([this.popupObj.element.querySelector("."+tr)]),this.endButton.element.classList.contains($s)&&this.updateMinMaxDays(this.popupObj.element.querySelector("."+tr)),this.endButton.element.classList.contains($s)&&this.selectableDates(),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate()}updateControl(e){e.classList.contains(ko)?this.rightCalCurrentDate=new Date(+this.currentDate):this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarIconEvent(),("Month"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-month")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-month")||"Year"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-year")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-year")||"Decade"===this.depth&&this.leftCalendar.querySelector(".e-content").classList.contains("e-decade")&&this.rightCalendar.querySelector(".e-content").classList.contains("e-decade")||this.isMobile)&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange([e])}navNextMonth(e){e.preventDefault();let t=K(e.target,"."+Or);t=f(t)?K(e.target,"."+ko):t,this.updateCalendarElement(t),this.navigateNext(e),!f(this.startValue)&&f(this.endValue)&&this.updateMinMaxDays(t),this.updateControl(t)}isPopupOpen(){return!(f(this.popupObj)||!this.popupObj.element.classList.contains(ZP))}createRangeHeader(){const e=this.createElement("div",{className:"e-start-end"});if(this.isMobile){const t=this.createElement("button",{className:"e-end-btn"}),i=this.createElement("button",{className:YW});this.startButton=new uh({content:this.l10n.getConstant("startLabel")},i),this.endButton=new uh({content:this.l10n.getConstant("endLabel")},t),e.appendChild(i),e.appendChild(t)}else{const t=this.createElement("a",{className:I1}),i=this.createElement("a",{className:P1}),s=this.createElement("span",{className:"e-change-icon e-icons"});we(t,{"aria-atomic":"true","aria-live":"assertive","aria-label":"Start Date",role:"button"}),we(i,{"aria-atomic":"true","aria-live":"assertive","aria-label":"End Date",role:"button"}),e.appendChild(t),e.appendChild(s),e.appendChild(i),t.textContent=this.l10n.getConstant("startLabel"),i.textContent=this.l10n.getConstant("endLabel")}return e}disableInput(){this.strictMode?!f(this.previousStartValue)&&!f(this.previousEndValue)&&(this.startValue=this.previousStartValue,this.endValue=this.previousEndValue,this.setValue(),this.updateInput()):(this.updateInput(),this.clearRange(),this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),this.startValue=null,this.endValue=null,this.setValue(),this.errorClass()),this.setProperties({enabled:!1},!0),be.setEnabled(this.enabled,this.inputElement),this.bindEvents()}validateMinMax(){this.min=f(this.min)||!+this.min?this.min=new Date(1900,0,1):this.min,this.max=f(this.max)||!+this.max?this.max=new Date(2099,11,31):this.max,this.min<=this.max?(!f(this.minDays)&&!f(this.maxDays)&&this.maxDays>0&&this.minDays>0&&this.minDays>this.maxDays&&(this.maxDays=null),!f(this.minDays)&&this.minDays<0&&(this.minDays=null),!f(this.maxDays)&&this.maxDays<0&&(this.maxDays=null)):this.disableInput()}validateRangeStrict(){f(this.startValue)||(+this.startValue<=+this.min?(this.startValue=this.min,this.setValue()):+this.startValue>=+this.min&&+this.startValue>=+this.max&&(this.startValue=this.max)),f(this.endValue)||(+this.endValue>+this.max?(this.endValue=this.max,this.setValue()):+this.endValue<+this.min&&(this.endValue=this.min,this.setValue())),this.validateMinMaxDays()}validateRange(){this.validateMinMaxDays()}validateMinMaxDays(){if(!f(this.startValue)&&!f(this.endValue)){const e=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1;if(!f(this.minDays)&&this.minDays>0&&!(e>=this.minDays))if(this.strictMode){const t=new Date(+this.startValue);t.setDate(t.getDate()+(this.minDays-1)),+t>+this.max?(this.endValue=this.max,this.setValue()):(this.endValue=t,this.setValue())}else this.startValue=null,this.endValue=null,this.setValue();!f(this.maxDays)&&this.maxDays>0&&!(e<=this.maxDays)&&(this.strictMode?(this.endValue=new Date(+this.startValue),this.endValue.setDate(this.endValue.getDate()+(this.maxDays-1)),this.setValue()):(this.startValue=null,this.endValue=null,this.setValue()))}}renderCalendar(){this.calendarElement=this.createElement("div"),this.calendarElement.classList.add(tr),this.enableRtl&&this.calendarElement.classList.add("e-rtl"),we(this.calendarElement,{role:"calendar"}),super.createHeader(),super.createContent()}isSameMonth(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}isSameYear(e,t){return e.getFullYear()===t.getFullYear()}isSameDecade(e,t){const i=e.getFullYear(),s=t.getFullYear();return i-i%10==s-s%10}startMonthCurrentDate(){this.isSameMonth(this.min,this.max)||+this.currentDate>+this.max||this.isSameMonth(this.currentDate,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate<this.min&&(this.currentDate=new Date(this.checkValue(this.min)))}selectNextMonth(){if(f(this.endValue)||f(this.startValue)||this.isSameMonth(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue))return this.currentDate.setDate(1),void this.currentDate.setMonth(this.currentDate.getMonth()+1);if(this.currentDate=new Date(+this.endValue),!f(this.startValue)&&+this.startValue<+this.min||!f(this.endValue)&&+this.endValue>+this.max||!f(this.startValue)&&!f(this.endValue)&&+this.startValue>+this.endValue){this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setDate(1);const e=this.currentDate.getMonth()+1;this.currentDate.setMonth(e)}}selectNextYear(){if(f(this.endValue)||f(this.startValue)||this.isSameYear(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){this.currentDate.setMonth(0);const e=this.currentDate.getFullYear()+1;this.currentDate.setFullYear(e)}else this.currentDate=new Date(+this.endValue),(!f(this.endValue)&&+this.endValue>+this.max||!f(this.startValue)&&!f(this.endValue)&&+this.startValue>+this.endValue||!f(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setMonth(0),this.currentDate.setFullYear(this.currentDate.getFullYear()+1))}selectNextDecade(){if(f(this.endValue)||f(this.startValue)||this.isSameDecade(this.endValue,this.currentDate)||this.isDateDisabled(this.endValue)||this.isDateDisabled(this.startValue)){const e=this.currentDate.getFullYear()+10;this.currentDate.setFullYear(e)}else this.currentDate=new Date(+this.endValue),(!f(this.startValue)&&!f(this.endValue)&&+this.startValue>+this.endValue||!f(this.endValue)&&+this.endValue>+this.max||!f(this.startValue)&&+this.startValue<+this.min)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.currentDate.setFullYear(this.currentDate.getFullYear()+10))}selectStartMonth(){f(this.startValue)?(this.currentDate=new Date((new Date).setHours(0,0,0,0)),this.startMonthCurrentDate()):!f(this.max)&&this.isSameMonth(this.startValue,this.max)?(this.currentDate=new Date(+this.max),this.currentDate.setDate(1),this.currentDate.setMonth(this.currentDate.getMonth()-1)):this.currentDate=this.startValue>=this.min&&this.startValue<=this.max&&!this.isDateDisabled(this.startValue)?new Date(+this.startValue):new Date((new Date).setHours(0,0,0,0)),(!f(this.endValue)&&+this.endValue>+this.max||!f(this.startValue)&&+this.startValue<+this.min||!f(this.startValue)&&!f(this.endValue)&&+this.startValue>+this.endValue)&&(this.currentDate=new Date((new Date).setHours(0,0,0,0))),this.startMonthCurrentDate()}createCalendar(){const e=this.createElement("div",{className:"e-calendar-container"});if(this.isMobile){f(this.startValue)||(this.currentDate=new Date(+this.startValue)),super.validateDate(),super.minMaxUpdate(),super.render();const t=this.calendarElement.querySelector("."+tr+" ."+F1),i=this.calendarElement.querySelector("."+tr+" ."+O1);Ue(this.calendarElement.querySelector("."+tr+" ."+KP)),this.calendarElement.querySelector("."+tr+" ."+ya).appendChild(i),this.calendarElement.querySelector("."+tr+" ."+ya).appendChild(t),lh([t],this.calendarElement.querySelector("."+tr+" ."+ya)),this.deviceCalendar=this.calendarElement,e.appendChild(this.calendarElement),this.headerTitleElement=this.calendarElement.querySelector("."+tr+" ."+ya+" ."+Cm)}else{this.selectStartMonth(),this.renderCalendar(),this.leftCalCurrentDate=new Date(+this.currentDate),this.calendarElement.classList.add(Or),this.leftCalPrevIcon=this.calendarElement.querySelector("."+Or+" ."+F1),this.leftCalNextIcon=this.calendarElement.querySelector("."+Or+" ."+O1),this.leftTitle=this.calendarElement.querySelector("."+Or+" ."+Cm),Ue(this.calendarElement.querySelector("."+Or+" ."+KP)),this.calendarElement.querySelector("."+Or+" ."+ya).appendChild(this.leftCalNextIcon),this.calendarElement.querySelector("."+Or+" ."+ya).appendChild(this.leftCalPrevIcon),lh([this.leftCalPrevIcon],this.calendarElement.querySelector("."+Or+" ."+ya)),this.leftCalendar=this.calendarElement;const t=this.createElement("div",{className:"e-left-container"}),i=this.createElement("div",{className:"e-right-container"});t.appendChild(this.leftCalendar),e.appendChild(t),this.isMobile||S.add(this.leftTitle,"click",this.leftNavTitle,this),"Month"===this.start&&this.selectNextMonth(),"Year"===this.start&&this.selectNextYear(),"Decade"===this.start&&this.selectNextDecade(),this.renderCalendar(),this.rightCalCurrentDate=new Date(+this.currentDate),B([this.calendarElement],ko),this.rightCalendar=this.calendarElement,z([this.leftCalendar&&this.leftCalendar.querySelector(".e-content tbody")],"e-zoomin"),z([this.rightCalendar&&this.rightCalendar.querySelector(".e-content tbody")],"e-zoomin"),this.rightCalPrevIcon=this.calendarElement.querySelector("."+ko+" ."+F1),this.rightCalNextIcon=this.calendarElement.querySelector("."+ko+" ."+O1),this.rightTitle=this.calendarElement.querySelector("."+ko+" ."+Cm),Ue(this.calendarElement.querySelector("."+ko+" ."+KP)),this.calendarElement.querySelector("table").setAttribute("tabindex","-1"),this.calendarElement.querySelector("."+ko+" ."+ya).appendChild(this.rightCalNextIcon),this.calendarElement.querySelector("."+ko+" ."+ya).appendChild(this.rightCalPrevIcon),lh([this.rightCalPrevIcon],this.calendarElement.querySelector("."+ko+" ."+ya)),i.appendChild(this.rightCalendar),e.appendChild(i),this.isMobile||S.add(this.rightTitle,"click",this.rightNavTitle,this)}return e}leftNavTitle(e){this.isPopupOpen()&&(this.calendarElement=this.leftCalendar,this.calendarNavigation(e,this.calendarElement))}calendarNavigation(e,t){this.table=t.querySelector("table"),this.headerTitleElement=t.querySelector(".e-title"),this.tableBodyElement=t.querySelector("tbody"),this.tableHeadElement=t.querySelector("thead"),this.contentElement=t.querySelector(".e-content"),this.updateCalendarElement(t),super.navigateTitle(e),this.updateNavIcons()}rightNavTitle(e){this.isPopupOpen()&&(this.calendarElement=this.rightCalendar,this.calendarNavigation(e,this.calendarElement))}clickEventEmitter(e){this.isMobile||(K(e.target,".e-calendar.e-left-calendar")?(this.calendarElement=this.leftCalendar,this.updateCalendarElement(this.leftCalendar)):(this.calendarElement=this.rightCalendar,this.updateCalendarElement(this.rightCalendar)))}currentView(){return super.currentView()}getCalendarView(e){return"Year"===e?"Year":"Decade"===e?"Decade":"Month"}navigatedEvent(e){if(this.trigger("navigated",this.navigatedArgs),!f(this.popupObj)){let t;const i=this.getCalendarView(this.currentView());this.isMobile?i===this.depth?(this.bindCalendarCellEvents(),this.deviceNavigation(),this.removeFocusedDate(),this.checkMinMaxDays()):this.selectableDates():this.isMobile||i!==this.depth?(this.updateNavIcons(),this.calendarIconEvent()):(t=this.calendarElement.classList.contains("e-left-calendar")?this.leftCalendar:this.rightCalendar,t!==this.leftCalendar||(!e||e.currentTarget.children[0].classList.contains("e-icons"))&&f(this.controlDown)?(e&&!e.currentTarget.children[0].classList.contains("e-icons")||!f(this.controlDown))&&(this.rightCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.rightCalCurrentDate,this.updateCalendarElement(this.rightCalendar),this.updateControl(this.rightCalendar),this.updateCalendarElement(this.leftCalendar),this.startValue&&f(this.endValue)&&("Month"===i&&this.startValue.getMonth()<this.rightCalCurrentDate.getMonth()&&this.startValue.getFullYear()<=this.rightCalCurrentDate.getFullYear()||"Year"===i&&this.startValue.getFullYear()<this.rightCalCurrentDate.getFullYear())?super.navigateTo.call(this,i,new Date(+this.startValue)):super.navigateTo.call(this,i,this.leftCalCurrentDate),this.updateControl(this.leftCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null):(this.leftCalCurrentDate=new Date(+this.currentDate),this.effect="",this.currentDate=this.leftCalCurrentDate,this.updateCalendarElement(this.leftCalendar),this.updateControl(this.leftCalendar),this.updateCalendarElement(this.rightCalendar),super.navigateTo.call(this,i,this.rightCalCurrentDate),this.updateControl(this.rightCalendar),this.updateNavIcons(),this.calendarIconEvent(),this.calendarIconRipple(),this.controlDown=null),this.checkMinMaxDays())}}createControl(){const e=this.createElement("div",{className:QP}),t=this.createElement("div",{className:"e-range-header"}),i=this.createRangeHeader();t.appendChild(i);const s=this.createElement("div",{className:dw});we(s,{"aria-label":"Selected Days"}),s.textContent=this.l10n.getConstant("selectedDays"),t.appendChild(s);const r=this.createElement("div",{className:"e-separator"}),o=this.createCalendar();e.appendChild(t),e.appendChild(r),e.appendChild(o);const a=this.createElement("div",{className:"e-footer"}),l=this.createElement("button",{className:"e-cancel e-flat e-css"}),h=this.createElement("button");B([h],["e-apply","e-flat","e-primary","e-css"]),a.appendChild(h),a.appendChild(l);const c=!f(this.startValue)&&!f(this.endValue);this.cancelButton=new uh({content:this.l10n.getConstant("cancelText")},l),this.applyButton=new uh({content:this.l10n.getConstant("applyText"),disabled:!c},h),S.add(h,"click",this.applyFunction,this),S.add(l,"click",this.cancelFunction,this),this.popupWrapper.appendChild(e),this.isMobile||St(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||(this.createPresets(),this.listRippleEffect(),B([e],"e-range-border"),B([this.popupWrapper],"e-preset-wrapper"),this.popupWrapper.querySelector("."+cw).style.height=this.popupWrapper.querySelector("."+QP).getBoundingClientRect().height+"px"),this.popupWrapper.appendChild(a),this.isMobile&&this.deviceHeaderUpdate(),this.renderPopup()}cancelFunction(e){document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),B([this.inputWrapper.container],[vm])),e.preventDefault(),this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.startValue=null,this.endValue=null,this.removeSelection(),this.hide(e)}deviceHeaderUpdate(){f(this.startValue)&&f(this.endValue)?(this.endButton.element.setAttribute("disabled",""),this.startButton.element.classList.add($s)):f(this.startValue)||this.startButton.element.classList.add($s)}applyFunction(e){let t=!1;"touchstart"!==e.type&&e.preventDefault(),this.closeEventArgs&&this.closeEventArgs.cancel&&(this.startValue=this.popupWrapper.querySelector(".e-start-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-start-date")),this.endValue=this.popupWrapper.querySelector(".e-end-date")&&this.getIdValue(null,this.popupWrapper.querySelector(".e-end-date")),this.setValue()),document.activeElement!==this.inputElement&&(this.preventFocus=!0,this.inputElement.focus(),B([this.inputWrapper.container],[vm])),"touchstart"!==e.type&&this.closeEventArgs&&!this.closeEventArgs.cancel&&e.preventDefault(),f(this.startValue)||f(this.endValue)?this.hide(e||null):(this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue),this.previousEleValue=this.inputElement.value,be.setValue(this.rangeArgs(e).text,this.inputElement,this.floatLabelType,this.showClearButton),(+this.initStartDate!=+this.startValue||+this.initEndDate!=+this.endValue)&&(t=!0),this.changeTrigger(e),this.hide(e||null),this.errorClass(),t=!0),!K(e.target,"."+UW)&&!t&&this.focusOut(),this.isMobile||(this.isKeyPopup=!1,this.isRangeIconClicked&&(this.inputWrapper.container.children[1].focus(),this.keyInputConfigs=fe(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new Ds(this.inputWrapper.container.children[1],{eventName:"keydown",keyConfigs:this.keyInputConfigs,keyAction:this.popupKeyActionHandle.bind(this)})))}onMouseClick(e,t){if("touchstart"===e.type)return;const s=K(t||e.target,"."+gd),r=s&&s.classList.contains($s);s&&s.classList.contains(gd)&&this.setListSelection(s,e),this.preventFocus=!0,this.inputElement.focus(),this.isMobile||(this.preventFocus=!0,s&&s.classList.contains(gd)&&"custom_range"===s.getAttribute("id")?this.leftCalendar.children[1].firstElementChild.focus():!r&&"keydown"===e.type&&this.inputElement.focus())}onMouseOver(e){const t=K(e.target,"."+gd);t&&t.classList.contains(gd)&&!t.classList.contains(Ga)&&B([t],Ga)}onMouseLeave(e){const t=K(e.target,"."+Ga);f(t)||z([t],Ga)}setListSelection(e,t){if(e&&(!e.classList.contains($s)||this.isMobile&&e.classList.contains($s))){if(this.isMobile&&e.classList.contains($s))return this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),"custom_range"===this.presetsItem[this.activeIndex].id?void this.renderCustomPopup():void 0;this.removeListSelection(),this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),B([e],$s),e.setAttribute("aria-selected","true");const i=this.presetsItem[this.activeIndex];"custom_range"===i.id?this.renderCustomPopup():this.applyPresetRange(i,t)}}removeListSelection(){const e=this.presetElement.querySelector("."+$s);f(e)||(z([e],$s),e.removeAttribute("aria-selected"))}setValue(){this.modelValue=[this.startValue,this.endValue]}applyPresetRange(e,t){this.hide(null),this.presetsItem[this.presetsItem.length-1].start=null,this.presetsItem[this.presetsItem.length-1].end=null,this.startValue=e.start,this.endValue=e.end,this.setValue(),this.refreshControl(),this.trigger("select",this.rangeArgs(t)),this.changeTrigger(t),this.previousEleValue=this.inputElement.value,this.isCustomRange=!1,this.leftCalendar=this.rightCalendar=null,this.isKeyPopup&&(this.isRangeIconClicked=!1,this.inputElement.focus())}showPopup(e,t){this.presetHeight(),this.popupObj.show(null,1e3===this.zIndex?this.element:null),this.isMobile&&this.popupObj.refreshPosition()}renderCustomPopup(){this.isCustomWindow=!0,this.popupObj.hide(),this.popupWrapper=this.createElement("div",{id:this.element.id+"_popup",className:hw+" "+ZP}),this.renderControl(),this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(),this.isCustomRange=!0,this.isMobile||this.calendarFocus()}listRippleEffect(){for(const e of this.liCollections)rn(e)}createPresets(){if(!St(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)){this.presetElement=this.createElement("div",{className:cw,attrs:{tabindex:"0"}});const e=an.createList(this.createElement,this.presetsItem,null,!0);we(e,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),this.presetElement.appendChild(e),this.popupWrapper.appendChild(this.presetElement);const t=this.presetElement.querySelector("#custom_range");f(t)||(t.textContent=""!==this.l10n.getConstant("customRange")?this.l10n.getConstant("customRange"):"Custom Range"),this.liCollections=this.presetElement.querySelectorAll("."+gd),this.wireListEvents(),this.isMobile&&(this.presetElement.style.width=this.inputWrapper.container.getBoundingClientRect().width+"px"),!f(this.activeIndex)&&this.activeIndex>-1&&B([this.liCollections[this.activeIndex]],$s)}}wireListEvents(){S.add(this.presetElement,"click",this.onMouseClick,this),this.isMobile||(S.add(this.presetElement,"mouseover",this.onMouseOver,this),S.add(this.presetElement,"mouseout",this.onMouseLeave,this))}unWireListEvents(){f(this.presetElement)||(S.remove(this.presetElement,"click touchstart",this.onMouseClick),this.isMobile||(S.remove(this.presetElement,"mouseover",this.onMouseOver),S.remove(this.presetElement,"mouseout",this.onMouseLeave)))}renderPopup(){this.popupWrapper.classList.add("e-control");const e=this.popupWrapper.getBoundingClientRect().width;!f(this.cssClass)&&""!==this.cssClass.trim()&&(this.popupWrapper.className+=" "+this.cssClass),this.isMobile&&this.isCustomWindow&&(this.modal=this.createElement("div"),document.body.appendChild(this.modal)),this.popupObj=new rc(this.popupWrapper,{relateTo:this.isMobile&&this.isCustomWindow?document.body:f(this.targetElement)?this.inputWrapper.container:this.targetElement,position:this.isMobile?St(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"center",Y:"center"}:{X:"left",Y:"bottom"}:this.enableRtl?{X:"left",Y:"bottom"}:{X:"right",Y:"bottom"},offsetX:this.isMobile||this.enableRtl?0:-e,offsetY:4,collision:this.isMobile?St(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.isCustomWindow?{X:"fit",Y:"fit"}:{X:"fit"}:{X:"fit",Y:"flip"},targetType:this.isMobile&&this.isCustomWindow?"container":"relative",enableRtl:this.enableRtl,zIndex:this.zIndex,open:()=>{we(this.inputElement,{"aria-expanded":"true"}),B([this.inputWrapper.buttons[0]],$s),this.isMobile||(this.cancelButton&&(this.btnKeyboardModule=new Ds(this.cancelButton.element,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{tab:"tab",altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),this.btnKeyboardModule=new Ds(this.applyButton.element,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}})),f(this.leftCalendar)||this.isRangeIconClicked||this.calendarFocus(),f(this.presetElement)||(this.keyInputConfigs=fe(this.keyInputConfigs,this.keyConfigs),this.presetKeyboardModule=new Ds(this.presetElement,{eventName:"keydown",keyAction:this.presetKeyActionHandler.bind(this),keyConfigs:this.keyInputConfigs}),this.presetKeyboardModule=new Ds(this.presetElement,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{altRightArrow:"alt+rightarrow",altLeftArrow:"alt+leftarrow"}}),f(this.leftCalendar)?(this.preventBlur=!0,this.presetElement.focus()):this.presetElement.setAttribute("tabindex","-1")),this.popupKeyBoardHandler()),this.isMobile&&!T.isDevice&&S.add(document,"keydown",this.popupCloseHandler,this)},close:()=>{we(this.inputElement,{"aria-expanded":"false"}),z([this.inputWrapper.buttons[0]],$s),this.isRangeIconClicked&&this.inputWrapper.container.children[1].focus(),St(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)||this.unWireListEvents(),f(this.popupObj)||(f(this.popupObj.element.parentElement)||ie(this.popupObj.element),this.popupObj.destroy(),this.popupObj=null),this.isMobile&&!T.isDevice&&S.remove(document,"keydown",this.popupCloseHandler)},targetExitViewport:()=>{T.isDevice||this.hide()}}),this.isMobile&&(this.popupObj.element.classList.add($W),this.isMobile||this.popupObj.element.classList.add("e-bigger")),this.isMobile&&this.isCustomWindow&&(B([this.modal],[$W,hw,"e-range-modal"]),document.body.className+=" "+XW,this.modal.style.display="block"),S.add(document,"mousedown touchstart",this.documentHandler,this)}popupCloseHandler(e){switch(e.keyCode){case 27:this.hide(e)}}calendarFocus(){const e=this.popupObj&&this.popupObj.element.querySelector("."+ea);if(e){let t=K(e,"."+ko);t=f(t)?this.leftCalendar:t,this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,t.children[1].firstElementChild.focus()),B([e],wm)}else this.isRangeIconClicked?this.inputWrapper.container.focus():(this.preventBlur=!0,this.leftCalendar.children[1].firstElementChild.focus())}presetHeight(){const e=this.popupObj&&this.popupObj.element.querySelector("."+cw),t=this.popupObj&&this.popupObj.element.querySelector("."+QP);!f(e)&&!f(t)&&(e.style.height=t.getBoundingClientRect().height+"px")}presetKeyActionHandler(e){switch(e.action){case"moveDown":this.listMoveDown(e),this.setScrollPosition(),e.preventDefault();break;case"moveUp":this.listMoveUp(e),this.setScrollPosition(),e.preventDefault();break;case"enter":{const t=this.getHoverLI(),i=this.getActiveLI();if(!f(this.leftCalendar)&&!f(i)&&(f(t)||!f(i)&&i===t)&&(this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(i),"custom_range"===this.presetsItem[this.activeIndex].id))return this.calendarFocus(),i.classList.remove(Ga),void e.preventDefault();(!f(t)||!f(i))&&this.onMouseClick(e,t||i),e.preventDefault()}break;case"tab":if(this.leftCalendar){const t=this.getHoverLI();f(t)||t.classList.remove(Ga)}else this.hide(e),e.preventDefault()}}listMoveDown(e){const t=this.getHoverLI(),i=this.getActiveLI();if(f(t))if(f(i))B([this.liCollections[0]],Ga);else{const s=i.nextElementSibling;!f(s)&&s.classList.contains(gd)&&B([s],Ga)}else{const s=t.nextElementSibling;!f(s)&&s.classList.contains(gd)&&(z([t],Ga),B([s],Ga))}}listMoveUp(e){const t=this.getHoverLI(),i=this.getActiveLI();if(f(t)){if(!f(i)){const s=i.previousElementSibling;!f(s)&&s.classList.contains(gd)&&B([s],Ga)}}else{const s=t.previousElementSibling;!f(s)&&s.classList.contains(gd)&&(z([t],Ga),B([s],Ga))}}getHoverLI(){return this.presetElement.querySelector("."+Ga)}getActiveLI(){return this.presetElement.querySelector("."+$s)}popupKeyBoardHandler(){this.popupKeyboardModule=new Ds(this.popupWrapper,{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:{escape:"escape"}}),this.keyInputConfigs=fe(this.keyInputConfigs,this.keyConfigs),this.popupKeyboardModule=new Ds(this.inputWrapper.container.children[1],{eventName:"keydown",keyAction:this.popupKeyActionHandle.bind(this),keyConfigs:this.keyInputConfigs})}setScrollPosition(){const e=this.presetElement.getBoundingClientRect().height,t=this.presetElement.querySelector("."+Ga),i=this.presetElement.querySelector("."+$s),s=f(t)?i:t;if(!f(s)){const r=s.nextElementSibling,o=r?r.offsetTop:s.offsetTop,a=s.getBoundingClientRect().height;this.presetElement.scrollTop=o+s.offsetTop>e?r?o-(e/2+a/2):o:0}}popupKeyActionHandle(e){const t=K(e.target,"."+cw);switch(e.action){case"escape":this.isPopupOpen()?(this.isKeyPopup&&(this.inputElement.focus(),this.isKeyPopup=!1),this.hide(e)):this.inputWrapper.container.children[1].blur();break;case"enter":this.isPopupOpen()?this.inputWrapper.container.children[1].focus():this.show(null,e);break;case"tab":this.hide(e);break;case"altRightArrow":f(t)?document.activeElement===this.cancelButton.element&&!0!==this.applyButton.element.disabled?this.applyButton.element.focus():this.leftCalendar.children[1].firstElementChild.focus():this.cancelButton.element.focus(),e.preventDefault();break;case"altLeftArrow":f(t)?document.activeElement===this.applyButton.element&&!0!==this.applyButton.element.disabled?this.cancelButton.element.focus():f(this.presetElement)||document.activeElement!==this.cancelButton.element?this.rightCalendar.children[1].firstElementChild.focus():this.presetElement.focus():this.rightCalendar.children[1].firstElementChild.focus(),e.preventDefault()}}documentHandler(e){if(f(this.popupObj))return;const t=e.target;(!this.inputWrapper.container.contains(t)||!f(this.popupObj)&&!K(t,'[id="'+this.popupWrapper.id+'"]'))&&"touchstart"!==e.type&&("mousedown"===e.type||this.closeEventArgs&&!this.closeEventArgs.cancel)&&e.preventDefault(),(f(this.targetElement)||!f(this.targetElement)&&t!==this.targetElement)&&!K(t,'[id="'+this.popupWrapper.id+'"]')&&K(t,"."+UW)!==this.inputWrapper.container&&(!K(t,".e-daterangepicker.e-popup")||t.classList.contains("e-day"))&&(this.preventBlur=!1,this.isPopupOpen()&&document.body.contains(this.popupObj.element)&&(this.applyFunction(e),this.isMobile||(this.isRangeIconClicked=!1)))}createInput(){let e=this.cssClass;!f(this.cssClass)&&""!==this.cssClass&&(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=be.createInput({floatLabelType:this.floatLabelType,element:this.inputElement,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:["e-input-group-icon e-range-icon e-icons"]},this.createElement),we(this.inputElement,{"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),be.addAttributes({"aria-label":"select"},this.inputWrapper.buttons[0]),!f(this.placeholder)&&""!==this.placeholder.trim()&&be.addAttributes({"aria-placeholder":this.placeholder},this.inputElement),this.setEleWidth(this.width),B([this.inputWrapper.container],"e-date-range-wrapper"),f(this.inputElement.getAttribute("name"))&&we(this.inputElement,{name:this.element.id}),"hidden"===this.inputElement.type&&(this.inputWrapper.container.style.display="none"),this.refreshControl(),this.previousEleValue=this.inputElement.value,this.inputElement.setAttribute("value",this.inputElement.value),this.startCopy=this.startDate,this.endCopy=this.endDate}setEleWidth(e){this.inputWrapper.container.style.width="string"==typeof e?this.width:"number"==typeof e?Be(this.width):"100%"}adjustLongHeaderWidth(){"Wide"===this.dayHeaderFormat&&B([this.popupWrapper],"e-daterange-day-header-lg")}refreshControl(){this.validateMinMax(),this.strictMode&&this.validateRangeStrict();const e=this.disabledDates();this.strictMode&&e&&(this.startValue=this.previousStartValue,this.setProperties({startDate:this.startValue},!0),this.endValue=this.previousEndValue,this.setProperties({endDate:this.endValue},!0),this.setValue()),this.updateInput(),this.strictMode||this.validateRange(),!this.strictMode&&e&&this.clearRange(),!f(this.endValue)&&!f(this.startValue)&&!e&&this.disabledDateRender(),this.errorClass(),this.previousStartValue=f(this.startValue)||isNaN(+this.startValue)?null:new Date(+this.startValue),this.previousEndValue=f(this.endValue)||isNaN(+this.endValue)?null:new Date(+this.endValue)}updateInput(){if(!f(this.endValue)&&!f(this.startValue)){const e={format:this.formatString,type:"date",skeleton:"yMd"},t=this.globalize.formatDate(this.startValue,e),i=this.globalize.formatDate(this.endValue,e);be.setValue(t+" "+this.separator+" "+i,this.inputElement,this.floatLabelType,this.showClearButton),this.previousStartValue=new Date(+this.startValue),this.previousEndValue=new Date(+this.endValue)}!this.strictMode&&f(this.value)&&this.invalidValueString&&be.setValue(this.invalidValueString,this.inputElement,this.floatLabelType,this.showClearButton)}checkInvalidRange(e){if(!f(e)){let i,s,t=!1,r=null,o=null,a=null,l=!1,h=!1,c=!1;if("string"==typeof e){const d=e.split(" "+this.separator+" ");2===d.length?(r=d[0],o=d[1]):(t=!0,a=e)}else e.length>0?(i=e[0],s=e[1]):(i=e.start,s=e.end),i instanceof Date||"object"==typeof i?i instanceof Date?l=!0:f(i)||(c=!0):r=this.getstringvalue(i),s instanceof Date||"object"==typeof s?s instanceof Date?h=!0:f(s)||(c=!0):o=this.getstringvalue(s);(f(r)&&!l&&!f(o)||!f(r)&&!h&&f(o))&&(t=!0),c&&(r=o=a=null,t=!0),r&&(t=t||this.checkInvalidValue(r)),o&&(t=t||this.checkInvalidValue(o)),t&&(l&&!c&&(r=i.toLocaleDateString()),h&&!c&&(o=s.toLocaleDateString()),f(r)||f(o)?f(r)?f(o)||(a=o):a=r:a=r+" "+this.separator+" "+o,this.invalidValueString=a,this.setProperties({value:null},!0),this.setProperties({startValue:null},!0),this.setProperties({endValue:null},!0),this.startDate=null,this.endDate=null)}}getstringvalue(e){let t=null;return f(e)||"number"!=typeof e?!f(e)&&"string"==typeof e&&(t=""+e):t=e.toString(),t}checkInvalidValue(e){const t=e;let i=!1,s=null;if(s={format:this.formatString,type:"date",skeleton:"yMd"},"string"!=typeof t)i=!0;else{const r=new Gs(this.locale);if(!this.checkDateValue(r.parseDate(t,s))){let o=null,a=null;o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,a=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,(!o.test(t)&&!a.test(t)||/^[a-zA-Z0-9- ]*$/.test(t)||isNaN(+new Date(this.checkValue(t))))&&(i=!0)}}return i}isDateDisabled(e){if(f(e))return!1;const t=new Date(+e);if(+t<+this.min||+t>+this.max)return!0;this.virtualRenderCellArgs={date:t,isDisabled:!1};const i=this.virtualRenderCellArgs;return this.virtualRenderCellEvent(i),!!i.isDisabled}disabledDateRender(){this.disabledDays=[],this.disabledDayCnt=null;const e=new Date(+this.startValue);let t=0;for(;+e<=+this.endValue;){this.virtualRenderCellArgs={date:e,isDisabled:!1};const i=this.virtualRenderCellArgs;this.virtualRenderCellEvent(i),i.isDisabled&&(this.disabledDays.push(new Date(+i.date)),+e>+this.startValue&&+e<+this.endValue&&t++),this.addDay(e,1,null,this.max,this.min)}this.disabledDayCnt=t}virtualRenderCellEvent(e){fe(this.virtualRenderCellArgs,{name:"renderDayCell"}),this.trigger("renderDayCell",e)}disabledDates(){let e=!1,t=!1;return!f(this.endValue)&&!f(this.startValue)&&(e=this.isDateDisabled(this.startValue),t=this.isDateDisabled(this.endValue),this.isPopupOpen()||(this.currentDate=null),this.setValue()),e||t}setModelValue(){this.value||null!==this.startDate||null!==this.endDate?null===this.value||null===this.value.start?null===this.value?this.setProperties({value:[this.startDate,this.endDate]},!0):null===this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.value&&this.value.length>0||this.valueType&&this.valueType.length>0?((+this.startDate!=+this.value[0]||+this.endDate!=+this.value[1])&&this.setProperties({value:[this.startDate,this.endDate]},!0),this.value&&null==this.value[0]&&null==this.value[1]&&this.setProperties({value:null},!0)):this.value&&this.value.start&&this.setProperties({value:{start:this.startDate,end:this.endDate}},!0):this.setProperties({value:null},!0),this.createHiddenInput()}dispatchEvent(e,t){const i=document.createEvent("HTMLEvents");i.initEvent(t,!1,!0),e.dispatchEvent(i),this.firstHiddenChild.dispatchEvent(i)}changeTrigger(e){(+this.initStartDate!=+this.startValue||+this.initEndDate!=+this.endValue)&&(this.setProperties({endDate:this.checkDateValue(this.endValue)},!0),this.setProperties({startDate:this.checkDateValue(this.startValue)},!0),this.setModelValue(),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",this.rangeArgs(e))),this.previousEleValue=this.inputElement.value,this.initStartDate=this.checkDateValue(this.startValue),this.initEndDate=this.checkDateValue(this.endValue)}navigateTo(e,t){if(this.isPopupOpen()){if("month"===e.toLowerCase())e="Month";else if("year"===e.toLowerCase())e="Year";else{if("decade"!==e.toLowerCase())return;e="Decade"}this.getViewNumber(e)<this.getViewNumber(this.depth)&&(e=this.depth),this.isMobile?super.navigateTo.call(this,e,t):(t<this.min?t=new Date(+this.min):t>=this.max&&(t=new Date(+this.max)),"Month"===e&&this.isSameMonth(t,this.max)?t=new Date(this.max.getFullYear(),this.max.getMonth()-1,this.min.getDate()):"Year"===e&&this.isSameYear(t,this.max)?t=new Date(this.max.getFullYear()-1,this.max.getMonth(),this.max.getDate()):"Decade"===e&&this.isSameDecade(t,this.max)&&(t=new Date(this.max.getFullYear()-10,this.max.getMonth(),this.max.getDate())),this.leftCalCurrentDate=t,this.navigate(this.leftCalendar,this.leftCalCurrentDate,e),t="Month"===e?new Date(this.currentDate.setMonth(this.currentDate.getMonth()+1)):"Year"===e?new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+1)):new Date(this.currentDate.setFullYear(this.currentDate.getFullYear()+10)),this.rightCalCurrentDate=t,this.navigate(this.rightCalendar,this.rightCalCurrentDate,e),this.leftKeyboardModule=this.rightKeyboardModule=null,this.updateNavIcons()),this.currentView()===this.depth&&this.bindCalendarCellEvents(),this.removeFocusedDate(),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar])}}navigate(e,t,i){this.calendarElement=e,this.table=e.querySelector("table"),this.tableBodyElement=e.querySelector("tbody"),this.headerTitleElement=e.querySelector(".e-title"),this.tableHeadElement=e.querySelector("thead"),this.contentElement=e.querySelector(".e-content"),this.previousIcon=e.querySelector(".e-prev"),this.nextIcon=e.querySelector(".e-next"),this.effect="e-zoomin",super.navigateTo.call(this,i,t)}focusIn(){document.activeElement!==this.inputElement&&this.enabled&&(B([this.inputWrapper.container],[vm]),this.inputElement.focus())}focusOut(){const e=this.preventBlur;document.activeElement===this.inputElement&&(z([this.inputWrapper.container],[vm]),this.preventBlur=!1,this.inputElement.blur(),this.preventBlur=e)}destroy(){this.unBindEvents(),this.hide(null);const e={"aria-readonly":this.readonly?"true":"false",tabindex:"0","aria-haspopup":"true","aria-activedescendant":"null","aria-owns":this.element.id+"_popup","aria-expanded":"false",role:"combobox",autocomplete:"off","aria-disabled":this.enabled?"false":"true",autocorrect:"off",autocapitalize:"off","aria-invalid":"false",spellcheck:"false"};this.inputElement&&(z([this.inputElement],[hw]),S.remove(this.inputElement,"blur",this.inputBlurHandler),be.removeAttributes(e,this.inputElement),f(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.inputElement.classList.remove("e-input"),f(this.inputWrapper)||(S.remove(this.inputWrapper.buttons[0],"mousedown",this.rangeIconHandler),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),ie(this.inputWrapper.container))),!f(this.inputKeyboardModule)&&!this.isMobile&&this.inputKeyboardModule.destroy(),this.popupObj&&(this.isMobile||this.clearCalendarEvents()),super.destroy(),this.inputWrapper=this.popupWrapper=this.popupObj=this.cloneElement=this.presetElement=null,this.formElement&&S.remove(this.formElement,"reset",this.formResetHandler),!f(this.firstHiddenChild)&&!f(this.secondHiddenChild)&&(ie(this.firstHiddenChild),ie(this.secondHiddenChild),this.firstHiddenChild=this.secondHiddenChild=null,this.inputElement.setAttribute("name",this.element.getAttribute("data-name")),this.inputElement.removeAttribute("data-name"))}ensureInputAttribute(){const e=[];for(let t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(let t=0;t<e.length;t++)f(this.cloneElement.getAttribute(e[t]))?("value"===e[t].toLowerCase()&&(this.inputElement.value=""),this.inputElement.removeAttribute(e[t])):("value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])),this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])))}getModuleName(){return"daterangepicker"}getPersistData(){return this.addOnPersist(["startDate","endDate","value"])}getSelectedRange(){let e;return f(this.startValue)||f(this.endValue)?e=0:(e=Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime()-this.removeTimeValueFromDate(this.endValue).getTime())/864e5))+1,this.disabledDateRender(),f(this.disabledDayCnt)||(e-=this.disabledDayCnt,this.disabledDayCnt=null)),{startDate:this.startValue,endDate:this.endValue,daySpan:e}}show(e,t){this.isMobile&&this.popupObj&&this.popupObj.refreshPosition(),this.enabled&&this.readonly||!this.enabled||this.popupObj||this.isPopupOpen()||(e&&(this.targetElement=e),this.createPopup(),(this.isMobile||T.isDevice)&&(this.mobileRangePopupWrap=this.createElement("div",{className:"e-daterangepick-mob-popup-wrap"}),document.body.appendChild(this.mobileRangePopupWrap)),this.openEventArgs={popup:this.popupObj||null,cancel:!1,date:this.inputElement.value,model:this,event:t||null,appendTo:this.isMobile||T.isDevice?this.mobileRangePopupWrap:document.body},this.trigger("open",this.openEventArgs,s=>{if(this.openEventArgs=s,!this.openEventArgs.cancel){this.openEventArgs.appendTo.appendChild(this.popupWrapper),this.showPopup(e,t);const r=!this.isCustomRange||this.isMobile&&this.isCustomRange;!St(this.presets[0].start&&this.presets[0].end&&this.presets[0].label)&&r&&this.setScrollPosition(),this.checkMinMaxDays(),this.isMobile&&!f(this.startDate)&&f(this.endDate)&&(this.endButton.element.classList.add($s),this.startButton.element.classList.remove($s),this.endButton.element.removeAttribute("disabled"),this.selectableDates()),super.setOverlayIndex(this.mobileRangePopupWrap,this.popupObj.element,this.modal,this.isMobile||T.isDevice)}}))}hide(e){this.popupObj?(f(this.previousEndValue)&&f(this.previousStartValue)?this.clearRange():(f(this.previousStartValue)?(this.startValue=null,this.setValue()):(this.startValue=new Date(this.checkValue(this.previousStartValue)),this.setValue(),this.currentDate=new Date(this.checkValue(this.startValue))),f(this.previousEndValue)?(this.endValue=null,this.setValue()):(this.endValue=new Date(this.checkValue(this.previousEndValue)),this.setValue())),this.isPopupOpen()&&(this.closeEventArgs={cancel:!1,popup:this.popupObj,date:this.inputElement.value,model:this,event:e||null},this.trigger("close",this.closeEventArgs,i=>{this.closeEventArgs=i,this.closeEventArgs.cancel?z([this.inputWrapper.buttons[0]],$s):(this.isMobile&&!f(this.startButton)&&!f(this.endButton)&&(S.remove(this.startButton.element,"click touchstart",this.deviceHeaderClick),S.remove(this.endButton.element,"click touchstart",this.deviceHeaderClick)),this.popupObj&&(this.popupObj.hide(),this.preventBlur&&(this.inputElement.focus(),B([this.inputWrapper.container],[vm]))),this.isMobile||(!f(this.leftKeyboardModule)&&!f(this.rightKeyboardModule)&&(this.leftKeyboardModule.destroy(),this.rightKeyboardModule.destroy()),f(this.presetElement)||this.presetKeyboardModule.destroy(),f(this.cancelButton)||this.btnKeyboardModule.destroy()),this.targetElement=null,z([document.body],XW),S.remove(document,"mousedown touchstart",this.documentHandler),this.isMobile&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),(this.isMobile||T.isDevice)&&(f(this.mobileRangePopupWrap)||(this.mobileRangePopupWrap.remove(),this.mobileRangePopupWrap=null)),this.isKeyPopup=this.dateDisabled=!1),this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")}))):(this.updateClearIconState(),this.updateHiddenInput(),this.isMobile&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"))}setLocale(){this.globalize=new Gs(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),be.setPlaceholder(this.placeholder,this.inputElement),this.updateInput(),this.updateHiddenInput(),this.changeTrigger()}refreshChange(){this.checkView(),this.refreshControl(),this.changeTrigger()}setDate(){be.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.refreshChange()}enableInput(){+this.min<=+this.max&&(this.setProperties({enabled:!0},!0),be.setEnabled(this.enabled,this.inputElement),this.element.hasAttribute("disabled")&&this.bindEvents())}clearModelvalue(e,t){this.setProperties({startDate:null},!0),this.setProperties({endDate:null},!0),t.value&&t.value.length>0?this.setProperties({value:null},!0):(t.value&&t.value.start||t.value&&!t.value.start)&&this.setProperties({value:{start:null,end:null}},!0),this.updateValue(),this.setDate()}createHiddenInput(){f(this.firstHiddenChild)&&f(this.secondHiddenChild)&&(this.firstHiddenChild=this.createElement("input"),this.secondHiddenChild=this.createElement("input")),f(this.inputElement.getAttribute("name"))||(this.inputElement.setAttribute("data-name",this.inputElement.getAttribute("name")),this.inputElement.removeAttribute("name")),we(this.firstHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:QW}),we(this.secondHiddenChild,{type:"text",name:this.inputElement.getAttribute("data-name"),class:QW});const e={type:"datetime",skeleton:"yMd"};this.firstHiddenChild.value=this.startDate&&this.globalize.formatDate(this.startDate,e),this.secondHiddenChild.value=this.endDate&&this.globalize.formatDate(this.endDate,e),this.inputElement.parentElement.appendChild(this.firstHiddenChild),this.inputElement.parentElement.appendChild(this.secondHiddenChild)}setMinMaxDays(){this.isPopupOpen()&&(this.removeClassDisabled(),this.checkMinMaxDays(),this.isMobile&&this.selectableDates(),!this.strictMode&&f(this.startValue)&&f(this.endValue)?this.removeSelection():this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),this.updateHeader())}onPropertyChanged(e,t){const i={format:this.formatString,type:"date",skeleton:"yMd"};for(const s of Object.keys(e))switch(["maxDays","minDays","value"].indexOf(s)<0&&this.hide(null),s){case"width":this.setEleWidth(this.width);break;case"separator":this.previousEleValue=this.inputElement.value,this.setProperties({separator:e.separator},!0),this.updateInput(),this.changeTrigger();break;case"placeholder":be.setPlaceholder(e.placeholder,this.inputElement),this.setProperties({placeholder:e.placeholder},!0);break;case"readonly":be.setReadonly(this.readonly,this.inputElement),this.inputElement.setAttribute("aria-readonly",""+this.readonly),this.setRangeAllowEdit();break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":this.setProperties({enabled:e.enabled},!0),be.setEnabled(this.enabled,this.inputElement),this.enabled?this.inputElement.setAttribute("tabindex",this.tabIndex):this.inputElement.tabIndex=-1;break;case"allowEdit":this.setRangeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),be.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.updateInput(),this.changeTrigger();break;case"locale":this.globalize=new Gs(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),be.setPlaceholder(this.placeholder,this.inputElement),this.setLocale();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.setDataAttribute(!0),this.checkHtmlAttributes(!0);break;case"showClearButton":be.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"startDate":"string"==typeof e.startDate&&(e.startDate=this.globalize.parseDate(e.startDate,i)),+this.initStartDate!=+e.startDate&&(this.startValue=this.checkDateValue(new Date(this.checkValue(e.startDate))),this.setDate(),this.setValue());break;case"endDate":"string"==typeof e.endDate&&(e.endDate=this.globalize.parseDate(e.endDate,i)),+this.initEndDate!=+e.endDate&&(this.endValue=this.checkDateValue(new Date(this.checkValue(e.endDate))),this.setDate(),this.setValue());break;case"value":if(this.invalidValueString=null,this.checkInvalidRange(e.value),"string"==typeof e.value)if(this.invalidValueString)this.clearModelvalue(e,t);else{const o=e.value.split(" "+this.separator+" ");this.value=[new Date(o[0]),new Date(o[1])],this.updateValue(),this.setDate()}else!f(e.value)&&e.value.length>0||!f(e.value)&&e.value.start?(this.valueType=e.value,null===e.value[0]||null===e.value.start?(1===e.value.length||e.value.start||null===e.value[1]||null===e.value.start)&&this.clearModelvalue(e,t):(+this.initStartDate!=+e.value[0]||+this.initEndDate!=+e.value[1]||+this.initStartDate!=+(e.value.start||+this.initEndDate!=+e.value.start))&&((1===e.value.length||e.value.start)&&(this.modelValue=e.value),this.updateValue(),this.setDate())):(f(this.value)||null==e.value.start)&&(this.valueType=e.value,this.startValue=null,this.endValue=null,this.clearModelvalue(e,t));if(this.isPopupOpen()){if(f(this.startValue)&&f(this.endValue))return this.removeSelection(),void(this.isMobile&&this.deviceHeaderUpdate());this.isMobile?(this.navigate(this.deviceCalendar,this.startValue,this.currentView()),this.deviceHeaderUpdate()):(this.navigate(this.leftCalendar,this.startValue,this.currentView()),this.updateControl(this.leftCalendar),this.navigate(this.rightCalendar,this.endValue,this.currentView()),this.updateControl(this.rightCalendar)),this.updateRange(this.isMobile?[this.calendarElement]:[this.leftCalendar,this.rightCalendar]),this.updateHeader(),this.applyButton.disabled=this.applyButton.element.disabled=!1}this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange;break;case"minDays":this.setProperties({minDays:e.minDays},!0),this.refreshChange(),this.setMinMaxDays();break;case"maxDays":this.setProperties({maxDays:e.maxDays},!0),this.refreshChange(),this.setMinMaxDays();break;case"min":this.setProperties({min:this.checkDateValue(new Date(this.checkValue(e.min)))},!0),this.previousEleValue=this.inputElement.value,this.enableInput(),this.refreshChange();break;case"max":this.setProperties({max:this.checkDateValue(new Date(this.checkValue(e.max)))},!0),this.enableInput(),this.refreshChange();break;case"strictMode":this.invalidValueString=null,this.setProperties({strictMode:e.strictMode},!0),this.refreshChange();break;case"presets":this.setProperties({presets:e.presets},!0),this.processPresets();break;case"floatLabelType":this.floatLabelType=e.floatLabelType,be.removeFloating(this.inputWrapper),be.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"start":this.setProperties({start:e.start},!0),this.refreshChange();break;case"depth":this.setProperties({depth:e.depth},!0),this.refreshChange()}}};yi([g(null)],xi.prototype,"value",void 0),yi([g(!1)],xi.prototype,"enablePersistence",void 0),yi([g(new Date(1900,0,1))],xi.prototype,"min",void 0),yi([g(new Date(2099,11,31))],xi.prototype,"max",void 0),yi([g(null)],xi.prototype,"locale",void 0),yi([g(null)],xi.prototype,"firstDayOfWeek",void 0),yi([g(!1)],xi.prototype,"weekNumber",void 0),yi([g("Gregorian")],xi.prototype,"calendarMode",void 0),yi([g(!1)],xi.prototype,"openOnFocus",void 0),yi([F()],xi.prototype,"created",void 0),yi([F()],xi.prototype,"destroyed",void 0),yi([F()],xi.prototype,"change",void 0),yi([F()],xi.prototype,"cleared",void 0),yi([F()],xi.prototype,"navigated",void 0),yi([F()],xi.prototype,"renderDayCell",void 0),yi([g(null)],xi.prototype,"startDate",void 0),yi([g(null)],xi.prototype,"endDate",void 0),yi([Di([{}],N1)],xi.prototype,"presets",void 0),yi([g("")],xi.prototype,"width",void 0),yi([g(1e3)],xi.prototype,"zIndex",void 0),yi([g(!0)],xi.prototype,"showClearButton",void 0),yi([g(!0)],xi.prototype,"showTodayButton",void 0),yi([g("Month")],xi.prototype,"start",void 0),yi([g("Month")],xi.prototype,"depth",void 0),yi([g("")],xi.prototype,"cssClass",void 0),yi([g("-")],xi.prototype,"separator",void 0),yi([g(null)],xi.prototype,"minDays",void 0),yi([g(null)],xi.prototype,"maxDays",void 0),yi([g(!1)],xi.prototype,"strictMode",void 0),yi([g(null)],xi.prototype,"keyConfigs",void 0),yi([g(null)],xi.prototype,"format",void 0),yi([g(!0)],xi.prototype,"enabled",void 0),yi([g(!1)],xi.prototype,"readonly",void 0),yi([g(!0)],xi.prototype,"allowEdit",void 0),yi([g("Never")],xi.prototype,"floatLabelType",void 0),yi([g(null)],xi.prototype,"placeholder",void 0),yi([g({})],xi.prototype,"htmlAttributes",void 0),yi([F()],xi.prototype,"open",void 0),yi([F()],xi.prototype,"close",void 0),yi([F()],xi.prototype,"select",void 0),yi([F()],xi.prototype,"focus",void 0),yi([F()],xi.prototype,"blur",void 0),xi=yi([ii],xi);var Ki=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const eU="e-error",iU=(new Date).getDate(),sU=(new Date).getMonth(),nU=(new Date).getFullYear(),B1="e-timepicker",Sm="e-active",e2="e-hover",t2="e-navigation",bc="e-disabled",s2="e-input-focus",xu="e-list-item",aU="e-time-overflow",n2="e-non-edit",lU=["title","class","style"];var r2;!function(n){n.createListItems=function(t,i,s,r,o,a){let l;const h=6e4*a,c=[],d=[];l=+i.setMilliseconds(0);const u=+s.setMilliseconds(0);for(;u>=l;)d.push(l),c.push(r.formatDate(new Date(l),{format:o,type:"time"})),l+=h;return{collection:d,list:an.createList(t,c,null,!0)}}}(r2||(r2={}));class _m extends he{}Ki([g("day")],_m.prototype,"day",void 0),Ki([g("month")],_m.prototype,"month",void 0),Ki([g("year")],_m.prototype,"year",void 0),Ki([g("day of the week")],_m.prototype,"dayOfTheWeek",void 0),Ki([g("hour")],_m.prototype,"hour",void 0),Ki([g("minute")],_m.prototype,"minute",void 0),Ki([g("second")],_m.prototype,"second",void 0);let Ps=class extends $i{constructor(e,t){super(e,t),this.liCollections=[],this.timeCollections=[],this.disableItemCollection=[],this.invalidValueString=null,this.isAngular=!1,this.preventChange=!1,this.maskedDateValue="",this.moduleName=this.getModuleName(),this.timeOptions=e}preRender(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),z([this.cloneElement],[B1,"e-control","e-lib"]),this.inputElement=this.element,this.angularTag=null,this.formElement=K(this.element,"form"),"EJS-TIMEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.openPopupEventArgs={appendTo:document.body}}render(){this.initialize(),this.createInputElement(),this.updateHtmlAttributeToWrapper(),this.setTimeAllowEdit(),this.setEnable(),this.validateInterval(),this.bindEvents(),this.validateDisable(),this.setValue(this.getFormattedValue(this.value)),this.enableMask&&!this.value&&this.maskedDateValue&&("Always"==this.floatLabelType||!this.floatLabelType||!this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.checkErrorState(this.maskedDateValue)),this.anchor=this.inputElement,this.inputElement.setAttribute("value",this.inputElement.value),this.inputEleValue=this.getDateObject(this.inputElement.value),this.renderComplete()}setTimeAllowEdit(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):we(this.inputElement,{readonly:""}),this.clearIconState()}clearIconState(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&z([this.inputWrapper.container],[n2]):""===this.inputElement.value?z([this.inputWrapper.container],[n2]):B([this.inputWrapper.container],[n2])}validateDisable(){this.setMinMax(this.initMin,this.initMax),this.popupCreation(),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null,!isNaN(+this.value)&&null!==this.value&&(this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax)))}validationAttribute(e,t){const i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");const s=["required","aria-required","form"];for(let r=0;r<s.length;r++){if(f(e.getAttribute(s[r])))continue;const o=e.getAttribute(s[r]);t.setAttribute(s[r],o),e.removeAttribute(s[r])}}initialize(){this.globalize=new Gs(this.locale),this.defaultCulture=new Gs("en"),this.checkTimeFormat(),this.checkInvalidValue(this.value),this.setProperties({value:this.checkDateValue(new Date(this.checkInValue(this.value)))},!0),this.setProperties({min:this.checkDateValue(new Date(this.checkInValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkInValue(this.max)))},!0),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))},!0),null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.checkAttributes(!1),this.l10n=new Na("timepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,f(this.element.getAttribute("id"))?(this.element.id=Us("ej2_timepicker"),null!==this.angularTag&&we(this.inputElement,{id:this.element.id+"_input"})):null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),f(this.inputElement.getAttribute("name"))&&we(this.inputElement,{name:this.element.id}),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"})}checkTimeFormat(){this.formatString=this.format?"string"==typeof this.format?this.format:f(this.format.skeleton)||""===this.format.skeleton?this.globalize.getDatePattern({type:"time",skeleton:"short"}):this.globalize.getDatePattern({type:"time",skeleton:this.format.skeleton}):null}checkDateValue(e){return!f(e)&&e instanceof Date&&!isNaN(+e)?e:null}createInputElement(){let e=this.cssClass,t=!this.enableMask;!f(this.cssClass)&&""!==this.cssClass&&(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=be.createInput({element:this.inputElement,bindClearAction:t,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement),this.inputWrapper.container.style.width=this.setWidth(this.width),we(this.inputElement,{"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||be.addAttributes({style:this.inputStyle},this.inputElement),B([this.inputWrapper.container],"e-time-wrapper")}getCldrDateTimeFormat(){let t;const i=new Gs(this.locale).getDatePattern({skeleton:"yMd"});return t=this.isNullOrEmpty(this.formatString)?i+" "+this.cldrFormat("time"):this.formatString,t}checkInvalidValue(e){let t=!1;if("object"!=typeof e&&!f(e)){let i=e;"string"==typeof i&&(i=i.trim());let s=null,r=null;if("number"==typeof e?i=e.toString():"string"==typeof e&&(/^[a-zA-Z0-9- ]*$/.test(e)||(s=this.setCurrentDate(this.getDateObject(e)),f(s)&&(s=this.checkDateValue(this.globalize.parseDate(i,{format:this.getCldrDateTimeFormat(),type:"datetime"})),f(s)&&(s=this.checkDateValue(this.globalize.parseDate(i,{format:this.formatString,type:"dateTime",skeleton:"yMd"})))))),r=this.globalize.parseDate(i,{format:this.getCldrDateTimeFormat(),type:"datetime"}),s=!f(r)&&r instanceof Date&&!isNaN(+r)?r:null,f(s)&&i.replace(/\s/g,"").length){let o=null,a=null;o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,a=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!o.test(i)&&!a.test(i)||/^[a-zA-Z0-9- ]*$/.test(e)||isNaN(+new Date(""+i))?t=!0:s=new Date(""+i)}t?(this.strictMode||(this.invalidValueString=i),this.setProperties({value:null},!0),this.initValue=null):(this.setProperties({value:s},!0),this.initValue=this.value)}}requiredModules(){const e=[];return this.enableMask&&e.push({args:[this],member:"MaskedDateTime"}),e}cldrFormat(e){let t;return t="en"===this.locale||"en-US"===this.locale?Q("timeFormats.short",up()):this.getCultureTimeObject(Wr,""+this.locale),t}destroy(){this.hide(),this.unBindEvents(),this.inputElement&&(be.removeAttributes({"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"},this.inputElement),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),f(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),f(this.cloneElement.getAttribute("disabled"))&&be.setEnabled(!0,this.inputElement,this.floatLabelType)),this.inputWrapper.container&&ie(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],f(this.rippleFn)||this.rippleFn(),super.destroy(),this.formElement&&S.remove(this.formElement,"reset",this.formResetHandler)}ensureInputAttribute(){const e=[];for(let t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(let t=0;t<e.length;t++)f(this.cloneElement.getAttribute(e[t]))?(this.inputElement.removeAttribute(e[t]),"value"===e[t].toLowerCase()&&(this.inputElement.value="")):(this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])),"value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])))}popupCreation(){this.popupWrapper=this.createElement("div",{className:B1+" e-popup",attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}}),f(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),!f(this.step)&&this.step>0&&(this.generateList(),ys([this.listWrapper],this.popupWrapper)),this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper),this.addSelection(),this.renderPopup(),ie(this.popupWrapper)}getPopupHeight(){const e=parseInt("240px",10),t=this.popupWrapper.getBoundingClientRect().height;return t>e?e:t}generateList(){this.createListItems(),this.wireListEvents(),this.rippleFn=rn(this.listWrapper,{duration:300,selector:"."+xu}),this.liCollections=this.listWrapper.querySelectorAll("."+xu)}renderPopup(){this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),this.popupObj=new rc(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",position:T.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:T.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},enableRtl:this.enableRtl,relateTo:T.isDevice?document.body:this.inputWrapper.container,offsetY:4,open:()=>{this.popupWrapper.style.visibility="visible",B([this.inputWrapper.buttons[0]],Sm)},close:()=>{z([this.inputWrapper.buttons[0]],Sm),this.unWireListEvents(),this.inputElement.setAttribute("aria-activedescendant","null"),Ue(this.popupObj.element),this.popupObj.destroy(),this.popupWrapper.innerHTML="",this.listWrapper=this.popupWrapper=this.listTag=void 0},targetExitViewport:()=>{T.isDevice||this.hide()}}),T.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),this.popupObj.element.style.maxHeight="240px"}getFormattedValue(e){return f(this.checkDateValue(e))?null:this.globalize.formatDate(e,{skeleton:"medium",type:"time"})}getDateObject(e){if(!this.isNullOrEmpty(e)){const t=this.createDateObj(e),i=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(t)){const s=i?this.initValue.getDate():iU,r=i?this.initValue.getMonth():sU,o=i?this.initValue.getFullYear():nU;return new Date(o,r,s,t.getHours(),t.getMinutes(),t.getSeconds())}}return null}updateHtmlAttributeToWrapper(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(lU.indexOf(e)>-1)if("class"===e){const t=this.htmlAttributes[e].replace(/\s+/g," ").trim();""!==t&&B([this.inputWrapper.container],t.split(" "))}else if("style"===e){let t=this.inputWrapper.container.getAttribute(e);t=f(t)?this.htmlAttributes[e]:t+this.htmlAttributes[e],this.inputWrapper.container.setAttribute(e,t)}else this.inputWrapper.container.setAttribute(e,this.htmlAttributes[e])}updateHtmlAttributeToElement(){if(!f(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))lU.indexOf(e)<0&&this.inputElement.setAttribute(e,this.htmlAttributes[e])}updateCssClass(e,t){f(t)||(t=t.replace(/\s+/g," ").trim()),f(e)||(e=e.replace(/\s+/g," ").trim()),be.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&be.setCssClass(e,[this.popupWrapper],t)}removeErrorClass(){z([this.inputWrapper.container],eU),we(this.inputElement,{"aria-invalid":"false"})}checkErrorState(e){const t=this.getDateObject(e);this.validateState(t)&&!this.invalidValueString||this.enableMask&&this.inputElement.value===this.maskedDateValue?this.removeErrorClass():(B([this.inputWrapper.container],eU),we(this.inputElement,{"aria-invalid":"true"}))}validateInterval(){!f(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()}disableTimeIcon(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()}disableElement(e){B(e,bc)}enableElement(e){z(e,bc)}selectInputText(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)}setCursorToEnd(){this.inputElement.setSelectionRange(this.inputElement.value.length,this.inputElement.value.length)}getMeridianText(){let e;return e="en"===this.locale||"en-US"===this.locale?Q("dayPeriods.format.wide",up()):Q("main."+this.locale+".dates.calendars.gregorian.dayPeriods.format.abbreviated",Wr),e}getCursorSelection(){const e=this.inputElement;let t=0,i=0;return isNaN(e.selectionStart)||(t=e.selectionStart,i=e.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}}getActiveElement(){return f(this.popupWrapper)?null:this.popupWrapper.querySelectorAll("."+Sm)}isNullOrEmpty(e){return!!(f(e)||"string"==typeof e&&""===e.trim())}setWidth(e){return"number"==typeof e?Be(e):"string"==typeof e?e.match(/px|%|em/)?e:Be(e):"100%"}setPopupWidth(e){return(e=this.setWidth(e)).indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e}setScrollPosition(){const e=this.selectedElement;f(e)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)}findScrollTop(e){const t=this.getPopupHeight(),i=e.nextElementSibling,s=i?i.offsetTop:e.offsetTop,r=e.getBoundingClientRect().height;this.popupWrapper.scrollTop=s+e.offsetTop>t?i?s-(t/2+r/2):s:0}setScrollTo(){let e;if(f(this.popupWrapper))this.popupWrapper.scrollTop=0;else{const t=this.popupWrapper.querySelectorAll("."+xu);if(t.length){const i=this.timeCollections[0],s=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((s-i)/(6e4*this.step))]}}f(e)?this.popupWrapper.scrollTop=0:this.findScrollTop(e)}getText(){return f(this.checkDateValue(this.value))?"":this.getValue(this.value)}getValue(e){return f(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})}cldrDateFormat(){let e;return e="en"===this.locale||"en-US"===this.locale?Q("dateFormats.short",up()):this.getCultureDateObject(Wr,""+this.locale),e}cldrTimeFormat(){let e;return e=this.isNullOrEmpty(this.formatString)?"en"===this.locale||"en-US"===this.locale?Q("timeFormats.short",up()):this.getCultureTimeObject(Wr,""+this.locale):this.formatString,e}dateToNumeric(){let e;return e="en"===this.locale||"en-US"===this.locale?Q("timeFormats.medium",up()):Q("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",Wr),e}getExactDateTime(e){return f(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.dateToNumeric(),type:"time"})}setValue(e){const t=this.checkValue(e);this.strictMode||this.validateState(t)?this.isNullOrEmpty(t)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(t):(null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max)),this.updateInput(!0,this.initValue)}compareFormatChange(e){return f(e)?null:e!==this.getText()?this.getDateObject(e):this.getDateObject(this.value)}updatePlaceHolder(){be.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)}updateInputValue(e){be.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)}preventEventBubbling(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnTimeIconClick")}popupHandler(e){!this.enabled||(T.isDevice&&this.inputElement.setAttribute("readonly",""),e.preventDefault(),this.isPopupOpen()?this.closePopup(0,e):(this.inputElement.focus(),this.show(e)))}mouseDownHandler(){!this.enabled||this.readonly||(this.inputElement.setSelectionRange(0,0),S.add(this.inputElement,"mouseup",this.mouseUpHandler,this))}mouseUpHandler(e){if(!this.readonly){if(e.preventDefault(),this.enableMask)return e.preventDefault(),void this.notify("setMaskSelection",{module:"MaskedDateTime"});{S.remove(this.inputElement,"mouseup",this.mouseUpHandler);const t=this.getCursorSelection();0===t.start&&t.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}}}focusSelection(){const e=new RegExp("^[a-zA-Z0-9]+$"),t=this.inputElement.value.split("");t.push(" ");const i=this.getCursorSelection();let s=0,r=0,o=!1;if(this.isTextSelected)s=i.start,r=i.end,this.isTextSelected=!1;else for(let a=0;a<t.length;a++)if(e.test(t[a])||(r=a,o=!0),o){if(i.start>=s&&i.end<=r){r=r,this.isTextSelected=!0;break}s=a+1,o=!1}return{start:s,end:r}}inputHandler(e){if(!this.readonly&&this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"home":case"end":case"up":case"down":this.enableMask&&!this.readonly&&!this.isPopupOpen()&&(e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e})),(!this.enableMask||this.isPopupOpen())&&this.keyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,e)):this.updateValue(this.inputElement.value,e),this.hide(),this.isNavigate=!1,this.isPopupOpen()&&e.stopPropagation();break;case"open":this.show(e);break;case"escape":this.updateInputValue(this.objToString(this.value)),this.enableMask&&(this.value||this.updateInputValue(this.maskedDateValue),this.createMask()),this.previousState(this.value),this.hide();break;case"close":this.hide();break;case"right":case"left":case"tab":case"shiftTab":!this.isPopupOpen()&&this.enableMask&&!this.readonly&&((0==this.inputElement.selectionStart&&this.inputElement.selectionEnd==this.inputElement.value.length||this.inputElement.selectionEnd!==length&&"tab"==e.action||0!==this.inputElement.selectionStart&&"shiftTab"==e.action||"left"==e.action||"right"==e.action)&&e.preventDefault(),this.notify("keyDownHandler",{module:"MaskedDateTime",e}));break;default:this.isNavigate=!1}}onMouseClick(e){const i=this.selectedElement=K(e.target,"."+xu);this.setSelection(i,e),i&&i.classList.contains(xu)&&this.hide()}closePopup(e,t){if(this.isPopupOpen()&&this.popupWrapper){const i={popup:this.popupObj,event:t||null,cancel:!1,name:"open"};z([document.body],aU),this.trigger("close",i,s=>{s.cancel||(this.popupObj.hide(new qt({name:"FadeOut",duration:50,delay:e||0})),z([this.inputWrapper.container],["e-icon-anim"]),we(this.inputElement,{"aria-expanded":"false"}),S.remove(document,"mousedown touchstart",this.documentClickHandler)),T.isDevice&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null),T.isDevice&&(f(this.mobileTimePopupWrap)||(this.mobileTimePopupWrap.remove(),this.mobileTimePopupWrap=null)),T.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")})}else T.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")}disposeServerPopup(){this.popupWrapper&&(this.popupWrapper.style.visibility="hidden",this.popupWrapper.style.top="-9999px",this.popupWrapper.style.left="-9999px",this.popupWrapper.style.width="0px",this.popupWrapper.style.height="0px")}checkValueChange(e,t){if(this.strictMode||this.validateState(this.valueWithMinutes))if(t){const i=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+i&&this.valueProcess(e,i)}else(this.prevValue!==this.inputElement.value||f(this.checkDateValue(this.value)))&&this.valueProcess(e,this.compareFormatChange(this.inputElement.value));else null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(e)}onMouseOver(e){const t=K(e.target,"."+xu);this.setHover(t,e2)}setHover(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeHover(t),B([e],t),t===t2&&e.setAttribute("aria-selected","true"))}setSelection(e,t){this.isValidLI(e)&&(this.checkValue(e.getAttribute("data-value")),this.enableMask&&this.notify("setMaskSelection",{module:"MaskedDateTime"}),this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),B([this.selectedElement],Sm),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(t,!0))}onMouseLeave(){this.removeHover(e2)}scrollHandler(){"timepicker"===this.getModuleName()&&T.isDevice||this.hide()}setMinMax(e,t){f(this.checkDateValue(e))&&(this.initMin=this.getDateObject("12:00:00 AM")),f(this.checkDateValue(t))&&(this.initMax=this.getDateObject("11:59:59 PM"))}validateMinMax(e,t,i){const s=e instanceof Date?e:this.getDateObject(e);return f(this.checkDateValue(s))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():e=this.strictOperation(this.initMin,this.initMax,e,s),this.strictMode&&(e=this.valueIsDisable(e)?e:null),this.checkErrorState(e),e}valueIsDisable(e){if(this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;const t=e instanceof Date?this.objToString(e):e;for(let i=0;i<this.disableItemCollection.length;i++)if(t===this.disableItemCollection[i])return!1}return!0}validateState(e){if(!this.strictMode){if(!this.valueIsDisable(e))return!1;{const t=this.setCurrentDate(this.getDateObject(e)),i=this.setCurrentDate(this.getDateObject(this.initMax)),s=this.setCurrentDate(this.getDateObject(this.initMin));if(f(this.checkDateValue(t))){if(+i<+s||""!==this.inputElement.value)return!1}else if(+t>+i||+t<+s)return!1}}return!0}strictOperation(e,t,i,s){const r=this.createDateObj(this.getFormattedValue(t)),o=this.createDateObj(this.getFormattedValue(e)),a=this.createDateObj(this.getFormattedValue(s));if(this.strictMode){if(+o>+r)return this.disableTimeIcon(),this.initValue=this.getDateObject(r),this.updateInputValue(this.getValue(this.initValue)),this.enableMask&&this.createMask(),this.inputElement.value;if(+o>=+a)return this.getDateObject(o);if(+a>=+r||+o==+r)return this.getDateObject(r)}else if(+o>+r&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(i))))return i;return i}bindEvents(){S.add(this.inputWrapper.buttons[0],"mousedown",this.popupHandler,this),S.add(this.inputElement,"blur",this.inputBlurHandler,this),S.add(this.inputElement,"focus",this.inputFocusHandler,this),S.add(this.inputElement,"change",this.inputChangeHandler,this),S.add(this.inputElement,"input",this.inputEventHandler,this),this.enableMask&&S.add(this.inputElement,"keydown",this.keydownHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&S.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this),this.formElement&&S.add(this.formElement,"reset",this.formResetHandler,this),T.isDevice||(this.keyConfigure=fe(this.keyConfigure,this.keyConfigs),this.inputEvent=new Ds(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&this.inputElement&&S.add(this.inputElement,"mousedown",this.mouseDownHandler,this))}keydownHandler(e){switch(e.code){case"Delete":this.enableMask&&!this.popupObj&&!this.readonly&&this.notify("keyDownHandler",{module:"MaskedDateTime",e})}}formResetHandler(){if(this.enabled&&!this.inputElement.disabled){let e=this.inputElement.getAttribute("value"),t=this.checkDateValue(this.inputEleValue);"EJS-TIMEPICKER"===this.element.tagName&&(t=null,e="",this.inputElement.setAttribute("value","")),this.setProperties({value:t},!0),this.prevDate=this.value,this.valueWithMinutes=this.value,this.initValue=this.value,this.inputElement&&(this.updateInputValue(e),this.enableMask&&(e||this.updateInputValue(this.maskedDateValue),this.createMask()),this.checkErrorState(e),this.prevValue=this.inputElement.value)}}inputChangeHandler(e){!this.enabled||e.stopPropagation()}inputEventHandler(){this.enableMask&&this.notify("inputHandler",{module:"MaskedDateTime"})}unBindEvents(){this.inputWrapper&&S.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.popupHandler),S.remove(this.inputElement,"blur",this.inputBlurHandler),S.remove(this.inputElement,"focus",this.inputFocusHandler),S.remove(this.inputElement,"change",this.inputChangeHandler),S.remove(this.inputElement,"input",this.inputEventHandler),this.inputEvent&&this.inputEvent.destroy(),S.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),this.showClearButton&&!f(this.inputWrapper.clearButton)&&S.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler),this.formElement&&S.remove(this.formElement,"reset",this.formResetHandler)}bindClearEvent(){this.showClearButton&&this.inputWrapper.clearButton&&S.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this)}raiseClearedEvent(e){this.trigger("cleared",{event:e})}clearHandler(e){!this.enabled||(e.preventDefault(),f(this.value)?(this.resetState(),this.raiseClearedEvent(e)):this.clear(e),this.popupWrapper&&(this.popupWrapper.scrollTop=0),this.enableMask&&this.notify("clearHandler",{module:"MaskedDateTime"}))}clear(e){this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.raiseClearedEvent(e),this.changeEvent(e)}setZIndex(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())}checkAttributes(e){const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["step","disabled","readonly","style","name","value","min","max","placeholder"];let i;for(const s of t)if(!f(this.inputElement.getAttribute(s)))switch(s){case"disabled":if(f(this.timeOptions)||void 0===this.timeOptions.enabled||e){const r=!("disabled"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s));this.setProperties({enabled:r},!e)}break;case"style":this.inputStyle=this.inputElement.getAttribute(s);break;case"readonly":if(f(this.timeOptions)||void 0===this.timeOptions.readonly||e){const r="readonly"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s);this.setProperties({readonly:r},!e)}break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(s));break;case"step":this.step=parseInt(this.inputElement.getAttribute(s),10);break;case"placeholder":(f(this.timeOptions)||void 0===this.timeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(s)},!e);break;case"min":(f(this.timeOptions)||void 0===this.timeOptions.min||e)&&(i=new Date(this.inputElement.getAttribute(s)),f(this.checkDateValue(i))||this.setProperties({min:i},!e));break;case"max":(f(this.timeOptions)||void 0===this.timeOptions.max||e)&&(i=new Date(this.inputElement.getAttribute(s)),f(this.checkDateValue(i))||this.setProperties({max:i},!e));break;case"value":(f(this.timeOptions)||void 0===this.timeOptions.value||e)&&(i=new Date(this.inputElement.getAttribute(s)),f(this.checkDateValue(i))||(this.initValue=i,this.updateInput(!1,this.initValue),this.setProperties({value:i},!e)))}}setCurrentDate(e){return f(this.checkDateValue(e))?null:new Date(nU,sU,iU,e.getHours(),e.getMinutes(),e.getSeconds())}getTextFormat(){let e=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))e=1;else if(this.cldrTimeFormat().indexOf("a")<0){const t=this.cldrTimeFormat().split(" ");for(let i=0;i<t.length;i++)if(t[i].toLowerCase().indexOf("h")>=0){e=i;break}}return e}updateValue(e,t){let i;if(this.isNullOrEmpty(e))this.resetState();else if(i=this.checkValue(e),this.strictMode){const s=null===i&&e.trim().length>0?this.previousState(this.prevDate):this.inputElement.value;this.updateInputValue(s),this.enableMask&&(s||this.updateInputValue(this.maskedDateValue),this.createMask())}this.checkValueChange(t,"string"!=typeof e)}previousState(e){const t=this.getDateObject(e);for(let i=0;i<this.timeCollections.length;i++)if(+t===this.timeCollections[i]){this.activeIndex=i,this.selectedElement=this.liCollections[i],this.valueWithMinutes=new Date(this.timeCollections[i]);break}return this.prevValue}resetState(){this.removeSelection(),be.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.checkErrorState(null)}objToString(e){return f(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})}checkValue(e){if(!this.isNullOrEmpty(e)){const t=e instanceof Date?e:this.getDateObject(e);return this.validateValue(t,e)}return this.resetState(),this.valueWithMinutes=null}validateValue(e,t){let i;const s=this.validateMinMax(t,this.min,this.max),r=this.createDateObj(s);if(this.getFormattedValue(r)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=f(r)?null:r,i=this.objToString(this.valueWithMinutes)):(this.strictMode&&(e=r),this.valueWithMinutes=this.checkDateValue(e),i=this.objToString(this.valueWithMinutes)),!this.strictMode&&f(i)){const o=s.trim().length>0?s:"";this.updateInputValue(o),this.enableMask&&(o||this.updateInputValue(this.maskedDateValue))}else this.updateInputValue(i),this.enableMask&&(""==i&&this.updateInputValue(this.maskedDateValue),this.createMask());return i}createMask(){this.notify("createMask",{module:"MaskedDateTime"})}findNextElement(e){const t=this.inputElement.value,i=f(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes);let s=null;const r=this.liCollections.length,o=this.timeCollections;if(f(this.checkDateValue(i))&&f(this.activeIndex))this.selectNextItem(e);else{if("home"===e.action){const a=this.validLiElement(0);s=+this.createDateObj(new Date(this.timeCollections[a])),this.activeIndex=a}else if("end"===e.action){const a=this.validLiElement(o.length-1,!0);s=+this.createDateObj(new Date(this.timeCollections[a])),this.activeIndex=a}else if("down"===e.action)for(let a=0;a<r;a++){if(+i<this.timeCollections[a]){const l=this.validLiElement(a);s=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;break}if(a===r-1){const l=this.validLiElement(0);s=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;break}}else for(let a=r-1;a>=0;a--){if(+i>this.timeCollections[a]){const l=this.validLiElement(a,!0);s=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;break}if(0===a){const l=this.validLiElement(r-1);s=+this.createDateObj(new Date(this.timeCollections[l])),this.activeIndex=l;break}}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(f(s)?null:new Date(s))}}selectNextItem(e){const t=this.validLiElement(0,"down"!==e.action);this.activeIndex=t,this.selectedElement=this.liCollections[t],this.elementValue(new Date(this.timeCollections[t]))}elementValue(e){f(this.checkDateValue(e))||this.checkValue(e)}validLiElement(e,t){let i=null;const s=f(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+xu);let r=!0;if(s.length)if(t)for(let o=e;o>=0;o--){if(!s[o].classList.contains(bc)){i=o;break}0===o&&r&&(e=o=s.length,r=!1)}else for(let o=e;o<=s.length-1;o++){if(!s[o].classList.contains(bc)){i=o;break}o===s.length-1&&r&&(e=o=-1,r=!1)}return i}keyHandler(e){if(f(this.step)||this.step<=0||this.inputWrapper.buttons[0].classList.contains(bc))return;const t=this.timeCollections.length;if(f(this.getActiveElement())||0===this.getActiveElement().length)if(this.liCollections.length>0)if(f(this.value)&&f(this.activeIndex)){const i=this.validLiElement(0,"down"!==e.action);this.activeIndex=i,this.selectedElement=this.liCollections[i],this.elementValue(new Date(this.timeCollections[i]))}else this.findNextElement(e);else this.findNextElement(e);else{let i;if(e.keyCode>=37&&e.keyCode<=40){let s=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=s=this.activeIndex===t?0:this.activeIndex,this.activeIndex=s=this.activeIndex<0?t-1:this.activeIndex,this.activeIndex=s=this.validLiElement(this.activeIndex,!(40===e.keyCode||39===e.keyCode)),i=f(this.timeCollections[s])?this.timeCollections[0]:this.timeCollections[s]}else if("home"===e.action){const s=this.validLiElement(0);this.activeIndex=s,i=this.timeCollections[s]}else if("end"===e.action){const s=this.validLiElement(t-1,!0);this.activeIndex=s,i=this.timeCollections[s]}this.selectedElement=this.liCollections[this.activeIndex],this.elementValue(new Date(i))}this.isNavigate=!0,this.setHover(this.selectedElement,t2),this.setActiveDescendant(),this.selectInputText(),this.isPopupOpen()&&null!==this.selectedElement&&(!e||"click"!==e.type)&&this.setScrollPosition()}getCultureTimeObject(e,t){return Q("main."+t+".dates.calendars.gregorian.timeFormats.short",e)}getCultureDateObject(e,t){return Q("main."+t+".dates.calendars.gregorian.dateFormats.short",e)}wireListEvents(){S.add(this.listWrapper,"click",this.onMouseClick,this),T.isDevice||(S.add(this.listWrapper,"mouseover",this.onMouseOver,this),S.add(this.listWrapper,"mouseout",this.onMouseLeave,this))}unWireListEvents(){this.listWrapper&&(S.remove(this.listWrapper,"click",this.onMouseClick),T.isDevice||(S.remove(this.listWrapper,"mouseover",this.onMouseOver),S.remove(this.listWrapper,"mouseout",this.onMouseLeave)))}valueProcess(e,t){const i=f(this.checkDateValue(t))?null:t;+this.prevDate!=+i&&(this.initValue=i,this.changeEvent(e))}changeEvent(e){this.addSelection(),this.updateInput(!0,this.initValue);const t={event:e||null,value:this.value,text:this.inputElement.value,isInteracted:!f(e),element:this.element};t.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",t),this.invalidValueString=null,this.checkErrorState(this.value)}updateInput(e,t){e&&(this.prevValue=this.getValue(t)),this.prevDate=this.valueWithMinutes=t,("number"!=typeof t||(this.value&&+new Date(+this.value).setMilliseconds(0))!==+t)&&(this.setProperties({value:t},!0),this.enableMask&&this.createMask()),!this.strictMode&&f(this.value)&&this.invalidValueString&&(this.checkErrorState(this.invalidValueString),this.updateInputValue(this.invalidValueString)),this.clearIconState()}setActiveDescendant(){f(this.selectedElement)?we(this.inputElement,{"aria-activedescendant":"null"}):we(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})}removeSelection(){if(this.removeHover(e2),!f(this.popupWrapper)){const e=this.popupWrapper.querySelectorAll("."+Sm);e.length&&(z(e,Sm),e[0].removeAttribute("aria-selected"))}}removeHover(e){const t=this.getHoverItem(e);t&&t.length&&(z(t,e),e===t2&&t[0].removeAttribute("aria-selected"))}getHoverItem(e){let t;return f(this.popupWrapper)||(t=this.popupWrapper.querySelectorAll("."+e)),t}setActiveClass(){if(!f(this.popupWrapper)){const e=this.popupWrapper.querySelectorAll("."+xu);if(e.length)for(let t=0;t<e.length;t++)if(this.timeCollections[t]===+this.getDateObject(this.valueWithMinutes)){e[t].setAttribute("aria-selected","true"),this.selectedElement=e[t],this.activeIndex=t;break}}}addSelection(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),f(this.selectedElement)||(B([this.selectedElement],Sm),this.selectedElement.setAttribute("aria-selected","true"))}isValidLI(e){return e&&e.classList.contains(xu)&&!e.classList.contains(bc)}createDateObj(e){let i=this.globalize.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),s=null;return"string"==typeof e?e.toUpperCase().indexOf("AM")>-1||e.toUpperCase().indexOf("PM")>-1?(i=this.defaultCulture.formatDate(new Date,{format:null,skeleton:"short",type:"date"}),s=isNaN(+new Date(i+" "+e))?null:new Date(new Date(i+" "+e).setMilliseconds(0)),f(s)&&(s=this.timeParse(i,e))):s=this.timeParse(i,e):e instanceof Date&&(s=e),s}timeParse(e,t){let i;return i=this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}),i=f(i)?this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):i,i=f(i)?i:new Date(i.setMilliseconds(0)),i}createListItems(){let e;this.listWrapper=this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}});const t=6e4*this.step,i=[];this.timeCollections=[],this.disableItemCollection=[],e=+this.getDateObject(this.initMin).setMilliseconds(0);const s=+this.getDateObject(this.initMax).setMilliseconds(0);for(;s>=e;)this.timeCollections.push(e),i.push(this.globalize.formatDate(new Date(e),{format:this.cldrTimeFormat(),type:"time"})),e+=t;this.listTag=an.createList(this.createElement,i,{itemCreated:o=>{const a={element:o.item,text:o.text,value:this.getDateObject(o.text),isDisabled:!1};this.trigger("itemRender",a,l=>{l.isDisabled&&l.element.classList.add(bc),l.element.classList.contains(bc)&&this.disableItemCollection.push(l.element.getAttribute("data-value"))})}},!0),we(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),ys([this.listTag],this.listWrapper)}documentClickHandler(e){const t=e.target;!f(this.popupObj)&&(this.inputWrapper.container.contains(t)||this.popupObj.element&&this.popupObj.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),K(t,'[id="'+this.popupObj.element.id+'"]')||t===this.inputElement||t===(this.inputWrapper&&this.inputWrapper.buttons[0])||t===(this.inputWrapper&&this.inputWrapper.clearButton)||t===(this.inputWrapper&&this.inputWrapper.container)?t!==this.inputElement&&(T.isDevice||(this.isPreventBlur=(T.isIE||"edge"===T.info.name)&&document.activeElement===this.inputElement&&t===this.popupWrapper)):this.isPopupOpen()&&(this.hide(),this.focusOut())}setEnableRtl(){be.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())}setEnable(){be.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?(z([this.inputWrapper.container],bc),we(this.inputElement,{"aria-disabled":"false"}),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.hide(),B([this.inputWrapper.container],bc),we(this.inputElement,{"aria-disabled":"true"}),this.inputElement.tabIndex=-1)}getProperty(e,t){"min"===t?(this.initMin=this.checkDateValue(new Date(this.checkInValue(e.min))),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(this.checkInValue(e.max))),this.setProperties({max:this.initMax},!0)),""===this.inputElement.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)}inputBlurHandler(e){this.enabled&&(this.isPreventBlur&&this.isPopupOpen()?this.inputElement.focus():(this.closePopup(0,e),this.enableMask&&this.maskedDateValue&&this.placeholder&&"Always"!==this.floatLabelType&&this.inputElement.value==this.maskedDateValue&&!this.value&&("Auto"==this.floatLabelType||"Never"==this.floatLabelType||this.placeholder)&&this.updateInputValue(""),z([this.inputWrapper.container],[s2]),this.trigger("blur",{model:this}),this.getText()!==this.inputElement.value?this.updateValue(this.inputElement.value,e):0===this.inputElement.value.trim().length&&this.resetState(),this.cursorDetails=null,this.isNavigate=!1,""===this.inputElement.value&&(this.invalidValueString=null)))}focusOut(){document.activeElement===this.inputElement&&(this.inputElement.blur(),z([this.inputWrapper.container],[s2]),this.trigger("blur",{model:this}))}isPopupOpen(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+B1))}inputFocusHandler(){if(!this.enabled)return;const e={model:this};!this.readonly&&!T.isDevice&&!this.enableMask&&this.selectInputText(),this.enableMask&&!this.inputElement.value&&this.placeholder&&this.maskedDateValue&&!this.value&&("Auto"==this.floatLabelType||"Never"==this.floatLabelType||this.placeholder)&&(this.updateInputValue(this.maskedDateValue),this.inputElement.selectionStart=0,this.inputElement.selectionEnd=this.inputElement.value.length),this.trigger("focus",e),this.clearIconState(),this.openOnFocus&&this.show()}focusIn(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()}hide(){this.closePopup(100,null),this.clearIconState()}show(e){this.enabled&&this.readonly||!this.enabled||this.popupWrapper||(this.popupCreation(),T.isDevice&&this.listWrapper&&(this.modal=this.createElement("div"),this.modal.className=B1+" e-time-modal",document.body.className+=" "+aU,document.body.appendChild(this.modal)),T.isDevice&&(this.mobileTimePopupWrap=this.createElement("div",{className:"e-timepicker-mob-popup-wrap"}),document.body.appendChild(this.mobileTimePopupWrap)),this.openPopupEventArgs={popup:this.popupObj||null,cancel:!1,event:e||null,name:"open",appendTo:T.isDevice?this.mobileTimePopupWrap:document.body},this.trigger("open",this.openPopupEventArgs,i=>{if(this.openPopupEventArgs=i,this.openPopupEventArgs.cancel||this.inputWrapper.buttons[0].classList.contains(bc))this.popupObj.destroy(),this.popupWrapper=this.listTag=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],this.popupObj=null;else{this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper),this.popupAlignment(this.openPopupEventArgs),this.setScrollPosition(),T.isDevice||this.inputElement.focus();const s={name:"FadeIn",duration:50};this.popupObj.refreshPosition(this.anchor),this.popupObj.show(new qt(s),1e3===this.zIndex?this.element:null),this.setActiveDescendant(),we(this.inputElement,{"aria-expanded":"true"}),B([this.inputWrapper.container],s2),S.add(document,"mousedown touchstart",this.documentClickHandler,this),this.setOverlayIndex(this.mobileTimePopupWrap,this.popupObj.element,this.modal,T.isDevice)}}))}setOverlayIndex(e,t,i,s){if(s&&!f(t)&&!f(i)&&!f(e)){const r=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;i.style.zIndex=(r-1).toString(),e.style.zIndex=r.toString()}}formatValues(e){let t;return"number"==typeof e?t=Be(e):"string"==typeof e&&(t=e.match(/px|%|em/)||isNaN(parseInt(e,10))?e:Be(e)),t}popupAlignment(e){if(e.popup.position.X=this.formatValues(e.popup.position.X),e.popup.position.Y=this.formatValues(e.popup.position.Y),(!isNaN(parseFloat(e.popup.position.X))||!isNaN(parseFloat(e.popup.position.Y)))&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.targetType="container"),isNaN(parseFloat(e.popup.position.X))||(this.popupObj.offsetX=parseFloat(e.popup.position.X)),isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.offsetY=parseFloat(e.popup.position.Y)),T.isDevice)"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.offsetY=0,this.popupObj.targetType="container",this.popupObj.collision={X:"fit",Y:"fit"});else{switch(e.popup.position.X){case"left":break;case"right":e.popup.offsetX=this.containerStyle.width;break;case"center":e.popup.offsetX=-this.containerStyle.width/2}switch(e.popup.position.Y){case"top":case"bottom":break;case"center":e.popup.offsetY=-this.containerStyle.height/2}"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.inputWrapper.container,this.anchor=this.inputElement,this.popupObj.targetType="relative")}}getPersistData(){return this.addOnPersist(["value"])}getModuleName(){return"timepicker"}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"placeholder":be.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"readonly":be.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide(),this.setTimeAllowEdit();break;case"enabled":this.setProperties({enabled:e.enabled},!0),this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl();break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"min":case"max":this.getProperty(e,i);break;case"showClearButton":be.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new Gs(this.locale),this.l10n.setLocale(this.locale),this.updatePlaceHolder(),this.setValue(this.value),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"width":qe(this.inputWrapper.container,{width:this.setWidth(e.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect();break;case"format":this.setProperties({format:e.format},!0),this.checkTimeFormat(),this.setValue(this.value),this.enableMask&&(this.createMask(),this.value||this.updateInputValue(this.maskedDateValue));break;case"value":this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.invalidValueString?(this.updateInputValue(this.invalidValueString),this.checkErrorState(this.invalidValueString)):("string"==typeof e.value?(this.setProperties({value:this.checkDateValue(new Date(e.value))},!0),e.value=this.value):(e.value&&+new Date(+e.value).setMilliseconds(0))!==+this.value&&(e.value=this.checkDateValue(new Date(""+e.value))),this.initValue=e.value,e.value=this.compareFormatChange(this.checkValue(e.value))),this.checkValueChange(null,!1),this.isPopupOpen()&&this.setScrollPosition(),this.isAngular&&this.preventChange&&(this.preventChange=!1),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"});break;case"floatLabelType":this.floatLabelType=e.floatLabelType,be.removeFloating(this.inputWrapper),be.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"strictMode":this.invalidValueString=null,e.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:e.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1);break;case"scrollTo":this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),this.updateInputValue(this.maskedDateValue)):this.inputElement.value===this.maskedDateValue&&this.updateInputValue("")}}checkInValue(e){return e instanceof Date?e.toUTCString():""+e}};Ki([g(null)],Ps.prototype,"width",void 0),Ki([g(null)],Ps.prototype,"cssClass",void 0),Ki([g(!1)],Ps.prototype,"strictMode",void 0),Ki([g(null)],Ps.prototype,"keyConfigs",void 0),Ki([g(null)],Ps.prototype,"format",void 0),Ki([g(!0)],Ps.prototype,"enabled",void 0),Ki([g(!1)],Ps.prototype,"readonly",void 0),Ki([g({})],Ps.prototype,"htmlAttributes",void 0),Ki([g("Never")],Ps.prototype,"floatLabelType",void 0),Ki([g(null)],Ps.prototype,"placeholder",void 0),Ki([g(1e3)],Ps.prototype,"zIndex",void 0),Ki([g(!1)],Ps.prototype,"enablePersistence",void 0),Ki([g(!0)],Ps.prototype,"showClearButton",void 0),Ki([g(30)],Ps.prototype,"step",void 0),Ki([g(null)],Ps.prototype,"scrollTo",void 0),Ki([g(null)],Ps.prototype,"value",void 0),Ki([g(null)],Ps.prototype,"min",void 0),Ki([g(null)],Ps.prototype,"max",void 0),Ki([g(!0)],Ps.prototype,"allowEdit",void 0),Ki([g(!1)],Ps.prototype,"openOnFocus",void 0),Ki([g(!1)],Ps.prototype,"enableMask",void 0),Ki([g({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],Ps.prototype,"maskPlaceholder",void 0),Ki([F()],Ps.prototype,"change",void 0),Ki([F()],Ps.prototype,"created",void 0),Ki([F()],Ps.prototype,"destroyed",void 0),Ki([F()],Ps.prototype,"open",void 0),Ki([F()],Ps.prototype,"itemRender",void 0),Ki([F()],Ps.prototype,"close",void 0),Ki([F()],Ps.prototype,"cleared",void 0),Ki([F()],Ps.prototype,"blur",void 0),Ki([F()],Ps.prototype,"focus",void 0),Ps=Ki([ii],Ps);var ks=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const SCe=(new Date).getDate(),_Ce=(new Date).getMonth(),xCe=(new Date).getFullYear(),ECe=(new Date).getHours(),DCe=(new Date).getMinutes(),MCe=(new Date).getSeconds(),kCe=(new Date).getMilliseconds(),pw="e-datetimepicker",hU="e-datetimepopup-wrapper",cU="e-popup",fw="e-input-focus",uU="e-icon-anim",o2="e-disabled",pU="e-error",zp="e-active",a2="e-hover",Wp="e-list-item",gU="e-time-overflow";let Cs=class extends qs{constructor(e,t){super(e,t),this.valueWithMinutes=null,this.scrollInvoked=!1,this.moduleName=this.getModuleName(),this.dateTimeOptions=e}focusHandler(){!this.enabled||B([this.inputWrapper.container],fw)}focusIn(){super.focusIn()}focusOut(){document.activeElement===this.inputElement&&(this.inputElement.blur(),z([this.inputWrapper.container],[fw]))}blurHandler(e){if(!this.enabled)return;if(this.isTimePopupOpen()&&this.isPreventBlur)return void this.inputElement.focus();z([this.inputWrapper.container],fw);const t={model:this};this.isTimePopupOpen()&&this.hide(e),this.trigger("blur",t)}destroy(){this.popupObject&&this.popupObject.element.classList.contains(cU)&&(this.popupObject.destroy(),ie(this.dateTimeWrapper),this.dateTimeWrapper=void 0,this.liCollections=this.timeCollections=[],f(this.rippleFn)||this.rippleFn()),this.inputElement&&(be.removeAttributes({"aria-live":"assertive","aria-atomic":"true","aria-invalid":"false","aria-haspopup":"true","aria-activedescendant":"null",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off"},this.inputElement),this.inputElement.removeAttribute("aria-placeholder")),this.isCalendar()&&(this.popupWrapper&&ie(this.popupWrapper),this.popupObject=this.popupWrapper=null,this.keyboardHandler.destroy()),this.unBindInputEvents(),super.destroy()}render(){this.timekeyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.valueWithMinutes=null,this.previousDateTime=null,this.isPreventBlur=!1,this.cloneElement=this.element.cloneNode(!0),this.dateTimeFormat=this.cldrDateTimeFormat(),this.initValue=this.value,super.updateHtmlAttributeToElement(),this.checkAttributes(!1),this.l10n=new Na("datetimepicker",{placeholder:this.placeholder},this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),super.render(),this.createInputElement(),super.updateHtmlAttributeToWrapper(),this.bindInputEvents(),this.enableMask&&this.notify("createMask",{module:"MaskedDateTime"}),this.setValue(),this.enableMask&&!this.value&&this.maskedDateValue&&("Always"==this.floatLabelType||!this.floatLabelType||!this.placeholder)&&be.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(this.scrollTo)))},!0),this.previousDateTime=this.value&&new Date(+this.value),"EJS-DATETIMEPICKER"===this.element.tagName&&(this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.enabled||(this.inputElement.tabIndex=-1)),this.renderComplete()}setValue(){if(this.initValue=this.validateMinMaxRange(this.value),!this.strictMode&&this.isDateObject(this.initValue)){const e=this.validateMinMaxRange(this.initValue);be.setValue(this.getFormattedValue(e),this.inputElement,this.floatLabelType,this.showClearButton),this.setProperties({value:e},!0)}else f(this.value)&&(this.initValue=null,this.setProperties({value:null},!0));this.valueWithMinutes=this.value,super.updateInput()}validateMinMaxRange(e){let t=e;return this.isDateObject(e)?t=this.validateValue(e):+this.min>+this.max&&this.disablePopupButton(!0),this.checkValidState(t),t}checkValidState(e){this.isValidState=!0,this.strictMode||(+e>+this.max||+e<+this.min)&&(this.isValidState=!1),this.checkErrorState()}checkErrorState(){this.isValidState?z([this.inputWrapper.container],pU):B([this.inputWrapper.container],pU),we(this.inputElement,{"aria-invalid":this.isValidState?"false":"true"})}validateValue(e){let t=e;return this.strictMode?+this.min>+this.max?(this.disablePopupButton(!0),t=this.max):+e<+this.min?t=this.min:+e>+this.max&&(t=this.max):+this.min>+this.max&&(this.disablePopupButton(!0),t=e),t}disablePopupButton(e){e?(B([this.inputWrapper.buttons[0],this.timeIcon],o2),this.hide()):z([this.inputWrapper.buttons[0],this.timeIcon],o2)}getFormattedValue(e){let t;return f(e)?null:(t="Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd"}:{format:this.cldrDateTimeFormat(),type:"dateTime",skeleton:"yMd",calendar:"islamic"},this.globalize.formatDate(e,t))}isDateObject(e){return!f(e)&&!isNaN(+e)}createInputElement(){z([this.inputElement],"e-datepicker"),z([this.inputWrapper.container],"e-date-wrapper"),B([this.inputWrapper.container],"e-datetime-wrapper"),B([this.inputElement],pw),this.renderTimeIcon()}renderTimeIcon(){this.timeIcon=be.appendSpan("e-input-group-icon e-time-icon e-icons",this.inputWrapper.container)}bindInputEvents(){S.add(this.timeIcon,"mousedown",this.timeHandler,this),S.add(this.inputWrapper.buttons[0],"mousedown",this.dateHandler,this),S.add(this.inputElement,"blur",this.blurHandler,this),S.add(this.inputElement,"focus",this.focusHandler,this),this.defaultKeyConfigs=fe(this.defaultKeyConfigs,this.keyConfigs),this.keyboardHandler=new Ds(this.inputElement,{eventName:"keydown",keyAction:this.inputKeyAction.bind(this),keyConfigs:this.defaultKeyConfigs})}unBindInputEvents(){S.remove(this.timeIcon,"mousedown touchstart",this.timeHandler),S.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.dateHandler),this.inputElement&&(S.remove(this.inputElement,"blur",this.blurHandler),S.remove(this.inputElement,"focus",this.focusHandler)),this.keyboardHandler&&this.keyboardHandler.destroy()}cldrTimeFormat(){let e;return e=this.isNullOrEmpty(this.timeFormat)?"en"===this.locale||"en-US"===this.locale?Q("timeFormats.short",up()):this.getCultureTimeObject(Wr,""+this.locale):this.timeFormat,e}cldrDateTimeFormat(){let e;const i=new Gs(this.locale).getDatePattern({skeleton:"yMd"});return e=this.isNullOrEmpty(this.formatString)?i+" "+this.getCldrFormat("time"):this.formatString,e}getCldrFormat(e){let t;return t="en"===this.locale||"en-US"===this.locale?Q("timeFormats.short",up()):this.getCultureTimeObject(Wr,""+this.locale),t}isNullOrEmpty(e){return!!(f(e)||"string"==typeof e&&""===e.trim())}getCultureTimeObject(e,t){return Q("Gregorian"===this.calendarMode?"main."+this.locale+".dates.calendars.gregorian.timeFormats.short":"main."+this.locale+".dates.calendars.islamic.timeFormats.short",e)}timeHandler(e){!this.enabled||(this.isIconClicked=!0,T.isDevice&&this.inputElement.setAttribute("readonly",""),e.currentTarget===this.timeIcon&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isDatePopupOpen()&&super.hide(e),this.isTimePopupOpen()?this.closePopup(e):(this.inputElement.focus(),this.popupCreation("time",e),B([this.inputWrapper.container],[fw]))),this.isIconClicked=!1)}dateHandler(e){!this.enabled||(e.currentTarget===this.inputWrapper.buttons[0]&&e.preventDefault(),this.enabled&&!this.readonly&&(this.isTimePopupOpen()&&this.closePopup(e),f(this.popupWrapper)||this.popupCreation("date",e)))}show(e,t){this.enabled&&this.readonly||!this.enabled||("time"!==e||this.dateTimeWrapper?this.popupObj||(this.isTimePopupOpen()&&this.hide(t),super.show(),this.popupCreation("date",t)):(this.isDatePopupOpen()&&this.hide(t),this.popupCreation("time",t)))}toggle(e){this.isDatePopupOpen()?(super.hide(e),this.show("time",null)):this.isTimePopupOpen()?(this.hide(e),super.show(null,e),this.popupCreation("date",null)):this.show(null,e)}listCreation(){let e;e=this.globalize.parseDate(this.inputElement.value,"Gregorian"===this.calendarMode?{format:this.cldrDateTimeFormat(),type:"datetime"}:{format:this.cldrDateTimeFormat(),type:"datetime",calendar:"islamic"});const t=f(this.value)?""!==this.inputElement.value?e:new Date:this.value;this.valueWithMinutes=t,this.listWrapper=Ve("div",{className:"e-content",attrs:{tabindex:"0"}});const i=this.startTime(t),s=this.endTime(t),r=r2.createListItems(this.createElement,i,s,this.globalize,this.cldrTimeFormat(),this.step);this.timeCollections=r.collection,this.listTag=r.list,we(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),ys([r.list],this.listWrapper),this.wireTimeListEvents(),this.rippleFn=rn(this.listWrapper,{duration:300,selector:"."+Wp}),this.liCollections=this.listWrapper.querySelectorAll("."+Wp)}popupCreation(e,t){T.isDevice&&this.element.setAttribute("readonly","readonly"),"date"===e?!this.readonly&&this.popupWrapper&&(B([this.popupWrapper],hU),we(this.popupWrapper,{id:this.element.id+"_datepopup"})):this.readonly||(this.dateTimeWrapper=Ve("div",{className:pw+" "+cU,attrs:{id:this.element.id+"_timepopup",style:"visibility:hidden ; display:block"}}),f(this.cssClass)||(this.dateTimeWrapper.className+=" "+this.cssClass),!f(this.step)&&this.step>0&&(this.listCreation(),ys([this.listWrapper],this.dateTimeWrapper)),document.body.appendChild(this.dateTimeWrapper),this.addTimeSelection(),this.renderPopup(),this.setTimeScrollPosition(),this.openPopup(t),this.popupObject.refreshPosition(this.inputElement))}openPopup(e){this.preventArgs={cancel:!1,popup:this.popupObject,event:e||null},this.trigger("open",this.preventArgs,i=>{if(this.preventArgs=i,!this.preventArgs.cancel&&!this.readonly){this.popupObject.show(new qt({name:"FadeIn",duration:100}),1e3===this.zIndex?this.element:null),B([this.inputWrapper.container],[uU]),we(this.inputElement,{"aria-expanded":"true"}),S.add(document,"mousedown touchstart",this.documentClickHandler,this)}})}documentClickHandler(e){const t=e.target;!f(this.popupObject)&&(this.inputWrapper.container.contains(t)||this.popupObject.element&&this.popupObject.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),K(t,'[id="'+(this.popupObject&&this.popupObject.element.id+'"]'))||t===this.inputElement||t===this.timeIcon||t===this.inputWrapper.container?t!==this.inputElement&&(T.isDevice||(this.isPreventBlur=document.activeElement===this.inputElement&&(T.isIE||"edge"===T.info.name)&&t===this.popupObject.element)):this.isTimePopupOpen()&&(this.hide(e),this.focusOut())}isTimePopupOpen(){return!(!this.dateTimeWrapper||!this.dateTimeWrapper.classList.contains(""+pw))}isDatePopupOpen(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+hU))}renderPopup(){this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),T.isDevice&&(this.timeModal=Ve("div"),this.timeModal.className=pw+" e-time-modal",document.body.className+=" "+gU,this.timeModal.style.display="block",document.body.appendChild(this.timeModal)),this.popupObject=new rc(this.dateTimeWrapper,{width:this.setPopupWidth(),zIndex:this.zIndex,targetType:"container",collision:T.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},relateTo:T.isDevice?document.body:this.inputWrapper.container,position:T.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},enableRtl:this.enableRtl,offsetY:4,open:()=>{this.dateTimeWrapper.style.visibility="visible",B([this.timeIcon],zp),T.isDevice||(this.timekeyConfigure=fe(this.timekeyConfigure,this.keyConfigs),this.inputEvent=new Ds(this.inputWrapper.container,{keyAction:this.timeKeyActionHandle.bind(this),keyConfigs:this.timekeyConfigure,eventName:"keydown"}))},close:()=>{z([this.timeIcon],zp),this.unWireTimeListEvents(),this.inputElement.setAttribute("aria-activedescendant","null"),Ue(this.popupObject.element),this.popupObject.destroy(),this.dateTimeWrapper.innerHTML="",this.listWrapper=this.dateTimeWrapper=void 0,this.inputEvent&&this.inputEvent.destroy()},targetExitViewport:()=>{T.isDevice||this.hide()}}),this.popupObject.element.style.maxHeight="250px"}setDimension(e){return"number"==typeof e?Be(e):"string"==typeof e?e:"100%"}setPopupWidth(){let e=this.setDimension(this.width);return e.indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px"),e}wireTimeListEvents(){S.add(this.listWrapper,"click",this.onMouseClick,this),T.isDevice||(S.add(this.listWrapper,"mouseover",this.onMouseOver,this),S.add(this.listWrapper,"mouseout",this.onMouseLeave,this))}unWireTimeListEvents(){this.listWrapper&&(S.remove(this.listWrapper,"click",this.onMouseClick),S.remove(document,"mousedown touchstart",this.documentClickHandler),T.isDevice||(S.add(this.listWrapper,"mouseover",this.onMouseOver,this),S.add(this.listWrapper,"mouseout",this.onMouseLeave,this)))}onMouseOver(e){const t=K(e.target,"."+Wp);this.setTimeHover(t,a2)}onMouseLeave(){this.removeTimeHover(a2)}setTimeHover(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeTimeHover(t),B([e],t))}getPopupHeight(){const e=parseInt("250px",10),t=this.dateTimeWrapper.getBoundingClientRect().height;return t>e?e:t}changeEvent(e){(this.value&&this.value.valueOf())!==(this.previousDateTime&&+this.previousDateTime.valueOf())&&(super.changeEvent(e),this.valueWithMinutes=this.value,this.setInputValue("date"),this.previousDateTime=this.value&&new Date(+this.value))}updateValue(e){this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs={value:this.value,event:e||null,isInteracted:!f(e),element:this.element},this.addTimeSelection(),this.trigger("change",this.changedArgs),this.previousDateTime=this.value)}setTimeScrollPosition(){const e=this.selectedElement;f(e)?this.dateTimeWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)}findScrollTop(e){const t=this.getPopupHeight(),i=e.nextElementSibling,s=i?i.offsetTop:e.offsetTop,r=e.getBoundingClientRect().height;this.dateTimeWrapper.scrollTop=s+e.offsetTop>t?i?s-(t/2+r/2):s:0}setScrollTo(){let e;const t=this.dateTimeWrapper.querySelectorAll("."+Wp);if(t.length>=0){this.scrollInvoked=!0;const i=this.timeCollections[0],s=this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((s-i)/(6e4*this.step))]}else this.dateTimeWrapper.scrollTop=0;f(e)?this.dateTimeWrapper.scrollTop=0:this.findScrollTop(e)}setInputValue(e){if("date"===e)this.inputElement.value=this.previousElementValue=this.getFormattedValue(this.getFullDateTime()),this.setProperties({value:this.getFullDateTime()},!0);else{const t=this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));be.setValue(t,this.inputElement,this.floatLabelType,this.showClearButton),this.previousElementValue=this.inputElement.value,this.setProperties({value:new Date(this.timeCollections[this.activeIndex])},!0),this.enableMask&&this.createMask()}this.updateIconState()}getFullDateTime(){let e=null;return e=this.isDateObject(this.valueWithMinutes)?this.combineDateTime(this.valueWithMinutes):this.previousDate,this.validateMinMaxRange(e)}createMask(){this.notify("createMask",{module:"MaskedDateTime"})}combineDateTime(e){if(this.isDateObject(e)){const t=this.previousDate.getDate(),i=this.previousDate.getMonth(),s=this.previousDate.getFullYear(),r=e.getHours(),o=e.getMinutes(),a=e.getSeconds();return new Date(s,i,t,r,o,a)}return this.previousDate}onMouseClick(e){const i=this.selectedElement=K(e.target,"."+Wp);i&&i.classList.contains(Wp)&&(this.timeValue=i.getAttribute("data-value"),this.hide(e)),this.setSelection(i,e)}setSelection(e,t){if(this.isValidLI(e)&&!e.classList.contains(zp)){this.selectedElement=e;const i=Array.prototype.slice.call(this.liCollections).indexOf(e);this.activeIndex=i,this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),B([this.selectedElement],zp),this.selectedElement.setAttribute("aria-selected","true"),this.updateValue(t)}}setTimeActiveClass(){const e=f(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;if(!f(e)){const t=e.querySelectorAll("."+Wp);if(t.length)for(let i=0;i<t.length;i++)if(this.timeCollections[i]===+this.valueWithMinutes){t[i].setAttribute("aria-selected","true"),this.selectedElement=t[i],this.activeIndex=i,this.setTimeActiveDescendant();break}}}setTimeActiveDescendant(){f(this.selectedElement)?we(this.inputElement,{"aria-activedescendant":"null"}):we(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})}addTimeSelection(){this.selectedElement=null,this.removeTimeSelection(),this.setTimeActiveClass(),f(this.selectedElement)||(B([this.selectedElement],zp),this.selectedElement.setAttribute("aria-selected","true"))}removeTimeSelection(){if(this.removeTimeHover(a2),!f(this.dateTimeWrapper)){const e=this.dateTimeWrapper.querySelectorAll("."+zp);e.length&&(z(e,zp),e[0].removeAttribute("aria-selected"))}}removeTimeHover(e){const t=this.getTimeHoverItem(e);t&&t.length&&z(t,e)}getTimeHoverItem(e){const t=f(this.dateTimeWrapper)?this.listWrapper:this.dateTimeWrapper;let i;return f(t)||(i=t.querySelectorAll("."+e)),i}isValidLI(e){return e&&e.classList.contains(Wp)&&!e.classList.contains(o2)}calculateStartEnd(e,t,i){const s=e.getDate(),r=e.getMonth(),o=e.getFullYear(),a=e.getHours(),l=e.getMinutes(),h=e.getSeconds(),c=e.getMilliseconds();return t?"starttime"===i?new Date(o,r,s,0,0,0):new Date(o,r,s,23,59,59):new Date(o,r,s,a,l,h,c)}startTime(e){let t,i;const s=this.min,r=null===e?new Date:e;return+r.getDate()==+s.getDate()&&+r.getMonth()==+s.getMonth()&&+r.getFullYear()==+s.getFullYear()||+new Date(r.getFullYear(),r.getMonth(),r.getDate())<=+new Date(s.getFullYear(),s.getMonth(),s.getDate())?(i=!1,t=this.min):+r<+this.max&&+r>+this.min?(i=!0,t=r):+r>=+this.max&&(i=!0,t=this.max),this.calculateStartEnd(t,i,"starttime")}endTime(e){let t,i;const s=this.max,r=null===e?new Date:e;return+r.getDate()==+s.getDate()&&+r.getMonth()==+s.getMonth()&&+r.getFullYear()==+s.getFullYear()||+new Date(r.getUTCFullYear(),r.getMonth(),r.getDate())>=+new Date(s.getFullYear(),s.getMonth(),s.getDate())?(i=!1,t=this.max):+r<+this.max&&+r>+this.min?(i=!0,t=r):+r<=+this.min&&(i=!0,t=this.min),this.calculateStartEnd(t,i,"endtime")}hide(e){if(this.popupObj||this.dateTimeWrapper){this.preventArgs={cancel:!1,popup:this.popupObj||this.popupObject,event:e||null};const t=this.preventArgs;f(this.popupObj)?this.trigger("close",t,i=>{this.dateTimeCloseEventCallback(e,i)}):this.dateTimeCloseEventCallback(e,t)}else T.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}dateTimeCloseEventCallback(e,t){this.preventArgs=t,this.preventArgs.cancel||(this.isDatePopupOpen()?super.hide(e):this.isTimePopupOpen()&&(this.closePopup(e),z([document.body],gU),T.isDevice&&this.timeModal&&(this.timeModal.style.display="none",this.timeModal.outerHTML="",this.timeModal=null),this.setTimeActiveDescendant())),T.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly"),this.setAllowEdit()}closePopup(e){this.isTimePopupOpen()&&this.popupObject&&(this.popupObject.hide(new qt({name:"FadeOut",duration:100,delay:0})),this.inputWrapper.container.classList.remove(uU),we(this.inputElement,{"aria-expanded":"false"}),S.remove(document,"mousedown touchstart",this.documentClickHandler))}preRender(){this.checkFormat(),this.dateTimeFormat=this.cldrDateTimeFormat(),super.preRender(),z([this.inputElementCopy],[pw])}getProperty(e,t){this.setProperties("min"===t?{min:this.validateValue(e.min)}:{max:this.validateValue(e.max)},!0)}checkAttributes(e){const t=e?f(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["style","name","step","disabled","readonly","value","min","max","placeholder","type"];let i;for(const s of t)if(!f(this.inputElement.getAttribute(s)))switch(s){case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(s));break;case"step":this.step=parseInt(this.inputElement.getAttribute(s),10);break;case"readonly":if(f(this.dateTimeOptions)||void 0===this.dateTimeOptions.readonly||e){const r="disabled"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s);this.setProperties({readonly:r},!e)}break;case"placeholder":(f(this.dateTimeOptions)||void 0===this.dateTimeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(s)},!e);break;case"min":(f(this.dateTimeOptions)||void 0===this.dateTimeOptions.min||e)&&(i=new Date(this.inputElement.getAttribute(s)),!this.isNullOrEmpty(i)&&!isNaN(+i)&&this.setProperties({min:i},!e));break;case"disabled":if(f(this.dateTimeOptions)||void 0===this.dateTimeOptions.enabled||e){const r=!("disabled"===this.inputElement.getAttribute(s)||"true"===this.inputElement.getAttribute(s)||""===this.inputElement.getAttribute(s));this.setProperties({enabled:r},!e)}break;case"value":(f(this.dateTimeOptions)||void 0===this.dateTimeOptions.value||e)&&(i=new Date(this.inputElement.getAttribute(s)),!this.isNullOrEmpty(i)&&!isNaN(+i)&&this.setProperties({value:i},!e));break;case"max":(f(this.dateTimeOptions)||void 0===this.dateTimeOptions.max||e)&&(i=new Date(this.inputElement.getAttribute(s)),!this.isNullOrEmpty(i)&&!isNaN(+i)&&this.setProperties({max:i},!e))}}requiredModules(){const e=[];return this&&e.push({args:[this],member:"islamic"}),this.enableMask&&e.push(this.maskedDateModule()),e}maskedDateModule(){return{args:[this],member:"MaskedDateTime"}}getTimeActiveElement(){return f(this.dateTimeWrapper)?null:this.dateTimeWrapper.querySelectorAll("."+zp)}createDateObj(e){return e instanceof Date?e:null}getDateObject(e){if(!this.isNullOrEmpty(e)){const t=this.createDateObj(e),i=this.valueWithMinutes,s=!f(i);if(this.checkDateValue(t)){const r=s?i.getDate():SCe,o=s?i.getMonth():_Ce,a=s?i.getFullYear():xCe,l=s?i.getHours():ECe,h=s?i.getMinutes():DCe,c=s?i.getSeconds():MCe,d=s?i.getMilliseconds():kCe;return this.scrollInvoked?(this.scrollInvoked=!1,new Date(a,o,r,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())):new Date(a,o,r,l,h,c,d)}}return null}findNextTimeElement(e){const t=this.inputElement.value,i=f(this.valueWithMinutes)?this.createDateObj(t):this.getDateObject(this.valueWithMinutes);let s=null;const r=this.liCollections.length;if(!f(this.activeIndex)||!f(this.checkDateValue(i))){if("home"===e.action)s=+this.createDateObj(new Date(this.timeCollections[0])),this.activeIndex=0;else if("end"===e.action)s=+this.createDateObj(new Date(this.timeCollections[this.timeCollections.length-1])),this.activeIndex=this.timeCollections.length-1;else if("down"===e.action){for(let o=0;o<r;o++)if(+i<this.timeCollections[o]){s=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}}else for(let o=r-1;o>=0;o--)if(+i>this.timeCollections[o]){s=+this.createDateObj(new Date(this.timeCollections[o])),this.activeIndex=o;break}this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(f(s)?null:new Date(s))}}setTimeValue(e,t){let i,s;const r=this.validateMinMaxRange(t),o=this.createDateObj(r);return this.getFormattedValue(o)!==(f(this.value)?null:this.getFormattedValue(this.value))?(this.valueWithMinutes=f(o)?null:o,s=new Date(+this.valueWithMinutes)):(this.strictMode&&(e=o),this.valueWithMinutes=this.checkDateValue(e),s=new Date(+this.valueWithMinutes)),i=this.globalize.formatDate(s,"Gregorian"===this.calendarMode?{format:f(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd"}:{format:f(this.formatString)?this.cldrDateTimeFormat():this.formatString,type:"dateTime",skeleton:"yMd",calendar:"islamic"}),!this.strictMode&&f(s),be.setValue(i,this.inputElement,this.floatLabelType,this.showClearButton),s}timeElementValue(e){if(!f(this.checkDateValue(e))&&!this.isNullOrEmpty(e)){const t=e instanceof Date?e:this.getDateObject(e);return this.setTimeValue(t,e)}return null}timeKeyHandler(e){if(f(this.step)||this.step<=0)return;const t=this.timeCollections.length;if(f(this.getTimeActiveElement())||0===this.getTimeActiveElement().length)this.liCollections.length>0&&(f(this.value)&&f(this.activeIndex)?(this.activeIndex=0,this.selectedElement=this.liCollections[0],this.timeElementValue(new Date(this.timeCollections[0]))):this.findNextTimeElement(e));else{let i;if(e.keyCode>=37&&e.keyCode<=40){let s=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=s=this.activeIndex===t?0:this.activeIndex,this.activeIndex=s=this.activeIndex<0?t-1:this.activeIndex,i=f(this.timeCollections[s])?this.timeCollections[0]:this.timeCollections[s]}else"home"===e.action?(this.activeIndex=0,i=this.timeCollections[0]):"end"===e.action&&(this.activeIndex=t-1,i=this.timeCollections[t-1]);this.selectedElement=this.liCollections[this.activeIndex],this.timeElementValue(new Date(i))}this.isNavigate=!0,this.setTimeHover(this.selectedElement,"e-navigation"),this.setTimeActiveDescendant(),this.isTimePopupOpen()&&null!==this.selectedElement&&(!e||"click"!==e.type)&&this.setTimeScrollPosition()}timeKeyActionHandle(e){if(this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"up":case"down":case"home":case"end":this.timeKeyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.setInputValue("time"),+this.previousDateTime!=+this.value&&(this.changedArgs.value=this.value,this.addTimeSelection(),this.previousDateTime=this.value)):this.updateValue(e),this.hide(e),B([this.inputWrapper.container],fw),this.isNavigate=!1,e.stopPropagation();break;case"escape":this.hide(e);break;default:this.isNavigate=!1}}inputKeyAction(e){switch(e.action){case"altDownArrow":this.strictModeUpdate(),this.updateInput(),this.toggle(e)}}onPropertyChanged(e,t){for(const i of Object.keys(e)){switch(i){case"value":this.isDynamicValueChanged=!0,this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,e.value=this.validateValue(e.value),be.setValue(this.getFormattedValue(e.value),this.inputElement,this.floatLabelType,this.showClearButton),this.valueWithMinutes=e.value,this.setProperties({value:e.value},!0),this.popupObj&&this.popupUpdate(),this.previousDateTime=new Date(this.inputElement.value),this.updateInput(),this.changeTrigger(null),this.preventChange=this.isAngular&&this.preventChange?!this.preventChange:this.preventChange,this.enableMask&&this.value&&this.notify("createMask",{module:"MaskedDateTime"});break;case"min":case"max":this.getProperty(e,i),this.updateInput();break;case"enableRtl":be.setEnableRtl(this.enableRtl,[this.inputWrapper.container]);break;case"cssClass":f(t.cssClass)||(t.cssClass=t.cssClass.replace(/\s+/g," ").trim()),f(e.cssClass)||(e.cssClass=e.cssClass.replace(/\s+/g," ").trim()),be.setCssClass(e.cssClass,[this.inputWrapper.container],t.cssClass),this.dateTimeWrapper&&be.setCssClass(e.cssClass,[this.dateTimeWrapper],t.cssClass);break;case"locale":this.globalize=new Gs(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),be.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement),this.dateTimeFormat=this.cldrDateTimeFormat(),super.updateInput();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"format":this.setProperties({format:e.format},!0),this.checkFormat(),this.dateTimeFormat=this.formatString,this.setValue(),this.enableMask&&(this.notify("createMask",{module:"MaskedDateTime"}),this.value||be.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;case"placeholder":be.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"enabled":be.setEnabled(this.enabled,this.inputElement),this.enabled||(this.inputElement.tabIndex=-1);break;case"strictMode":this.invalidValueString=null,this.updateInput();break;case"width":this.setWidth(e.width);break;case"readonly":be.setReadonly(this.readonly,this.inputElement);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,be.removeFloating(this.inputWrapper),be.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"scrollTo":this.checkDateValue(new Date(this.checkValue(e.scrollTo)))?(this.dateTimeWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0);break;case"enableMask":this.enableMask?(this.notify("createMask",{module:"MaskedDateTime"}),be.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton)):this.inputElement.value===this.maskedDateValue&&(this.maskedDateValue="",be.setValue(this.maskedDateValue,this.inputElement,this.floatLabelType,this.showClearButton));break;default:super.onPropertyChanged(e,t)}this.isDynamicValueChanged||this.hide(null),this.isDynamicValueChanged=!1}}getModuleName(){return"datetimepicker"}restoreValue(){this.previousDateTime=this.previousDate,this.currentDate=this.value?this.value:new Date,this.valueWithMinutes=this.value,this.previousDate=this.value,this.previousElementValue=this.previousElementValue=f(this.inputValueCopy)?"":this.getFormattedValue(this.inputValueCopy)}};ks([g(null)],Cs.prototype,"timeFormat",void 0),ks([g(30)],Cs.prototype,"step",void 0),ks([g(null)],Cs.prototype,"scrollTo",void 0),ks([g(1e3)],Cs.prototype,"zIndex",void 0),ks([g(null)],Cs.prototype,"value",void 0),ks([g(null)],Cs.prototype,"keyConfigs",void 0),ks([g({})],Cs.prototype,"htmlAttributes",void 0),ks([g(!1)],Cs.prototype,"enablePersistence",void 0),ks([g(!0)],Cs.prototype,"allowEdit",void 0),ks([g(!1)],Cs.prototype,"isMultiSelection",void 0),ks([g(null)],Cs.prototype,"values",void 0),ks([g(!0)],Cs.prototype,"showClearButton",void 0),ks([g(null)],Cs.prototype,"placeholder",void 0),ks([g(!1)],Cs.prototype,"strictMode",void 0),ks([g(null)],Cs.prototype,"serverTimezoneOffset",void 0),ks([g(new Date(1900,0,1))],Cs.prototype,"min",void 0),ks([g(new Date(2099,11,31))],Cs.prototype,"max",void 0),ks([g(null)],Cs.prototype,"firstDayOfWeek",void 0),ks([g("Gregorian")],Cs.prototype,"calendarMode",void 0),ks([g("Month")],Cs.prototype,"start",void 0),ks([g("Month")],Cs.prototype,"depth",void 0),ks([g(!1)],Cs.prototype,"weekNumber",void 0),ks([g(!0)],Cs.prototype,"showTodayButton",void 0),ks([g("Short")],Cs.prototype,"dayHeaderFormat",void 0),ks([g(!1)],Cs.prototype,"openOnFocus",void 0),ks([g(!1)],Cs.prototype,"enableMask",void 0),ks([g({day:"day",month:"month",year:"year",hour:"hour",minute:"minute",second:"second",dayOfTheWeek:"day of the week"})],Cs.prototype,"maskPlaceholder",void 0),ks([F()],Cs.prototype,"open",void 0),ks([F()],Cs.prototype,"close",void 0),ks([F()],Cs.prototype,"cleared",void 0),ks([F()],Cs.prototype,"blur",void 0),ks([F()],Cs.prototype,"focus",void 0),ks([F()],Cs.prototype,"created",void 0),ks([F()],Cs.prototype,"destroyed",void 0),Cs=ks([ii],Cs);var Fr=(()=>(function(n){n.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},n.axisTitleFont={size:"14px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},n.chartTitleFont={size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},n.chartSubTitleFont={size:"11px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},n.crosshairLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},n.tooltipLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},n.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},n.legendTitleFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},n.stripLineLabelFont={size:"12px",fontWeight:"Regular",color:"#353535",fontStyle:"Normal",fontFamily:"Segoe UI"},n.stockEventFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"}}(Fr||(Fr={})),Fr))();function H1(n){let e;switch(n){case"Fabric":e=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"Bootstrap4":case"Bootstrap":e=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"HighContrastLight":case"Highcontrast":case"HighContrast":e=["#79ECE4","#E98272","#DFE6B6","#C6E773","#BA98FF","#FA83C3","#00C27A","#43ACEF","#D681EF","#D8BC6E"];break;case"MaterialDark":e=["#9ECB08","#56AEFF","#C57AFF","#61EAA9","#EBBB3E","#F45C5C","#8A77FF","#63C7FF","#FF84B0","#F7C928"];break;case"FabricDark":e=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"BootstrapDark":e=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"Tailwind":e=["#5A61F6","#65A30D","#334155","#14B8A6","#8B5CF6","#0369A1","#F97316","#9333EA","#F59E0B","#15803D"];break;case"TailwindDark":e=["#8B5CF6","#22D3EE","#F87171","#4ADE80","#E879F9","#FCD34D","#F97316","#2DD4BF","#F472B6","#10B981"];break;case"Bootstrap5":e=["#262E0B","#668E1F","#AF6E10","#862C0B","#1F2D50","#64680B","#311508","#4C4C81","#0C7DA0","#862C0B"];break;case"Bootstrap5Dark":e=["#5ECB9B","#A860F1","#EBA844","#557EF7","#E9599B","#BFC529","#3BC6CF","#7A68EC","#74B706","#EA6266"];break;default:e=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"]}return e}function l2(n){let e;const t="MaterialDark"===n?"#383838":"FabricDark"===n?"#242424":"#1b1b1b";switch(n){case"HighContrastLight":case"Highcontrast":case"HighContrast":e={axisLabel:"#ffffff",axisTitle:"#ffffff",axisLine:"#ffffff",majorGridLine:"#BFBFBF",minorGridLine:"#969696",majorTickLine:"#BFBFBF",minorTickLine:"#969696",chartTitle:"#ffffff",legendLabel:"#ffffff",background:"#000000",areaBorder:"#ffffff",errorBar:"#ffffff",crosshairLine:"#ffffff",crosshairFill:"#ffffff",crosshairLabel:"#000000",tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696",markerShadow:"#BFBFBF",selectionRectFill:"rgba(255, 217, 57, 0.3)",selectionRectStroke:"#ffffff",selectionCircleStroke:"#FFD939"};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":e={axisLabel:"#DADADA",axisTitle:"#ffffff",axisLine:" #6F6C6C",majorGridLine:"#414040",minorGridLine:"#514F4F",majorTickLine:"#414040",minorTickLine:" #4A4848",chartTitle:"#ffffff",legendLabel:"#DADADA",background:t,areaBorder:" #9A9A9A",errorBar:"#ffffff",crosshairLine:"#F4F4F4",crosshairFill:"#F4F4F4",crosshairLabel:"#282727",tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A",markerShadow:null,selectionRectFill:"rgba(56,169,255, 0.1)",selectionRectStroke:"#38A9FF",selectionCircleStroke:"#282727"};break;case"Bootstrap4":e={axisLabel:"#212529",axisTitle:"#212529",axisLine:"#CED4DA",majorGridLine:"#CED4DA",minorGridLine:"#DEE2E6",majorTickLine:"#ADB5BD",minorTickLine:"#CED4DA",chartTitle:"#212529",legendLabel:"#212529",background:"#FFFFFF",areaBorder:"#DEE2E6",errorBar:"#000000",crosshairLine:"#6C757D",crosshairFill:"#495057",crosshairLabel:"#FFFFFF",tooltipFill:"rgba(0, 0, 0, 0.9)",tooltipBoldLabel:"rgba(255,255,255)",tooltipLightLabel:"rgba(255,255,255, 0.9)",tooltipHeaderLine:"rgba(255,255,255, 0.2)",markerShadow:null,selectionRectFill:"rgba(255,255,255, 0.1)",selectionRectStroke:"rgba(0, 123, 255)",selectionCircleStroke:"#495057"};break;case"Tailwind":e={axisLabel:"#6B728",axisTitle:"#374151",axisLine:" #D1D5DB",majorGridLine:"#E5E7EB",minorGridLine:"#E5E7EB",majorTickLine:"#D1D5DB",minorTickLine:" #D1D5DB",chartTitle:"#374151",legendLabel:"#374151",background:"rgba(255,255,255, 0.0)",areaBorder:" #E5E7EB",errorBar:"#374151",crosshairLine:"#1F2937",crosshairFill:"#111827",crosshairLabel:"#F9FAFB",tooltipFill:"#111827",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280"};break;case"TailwindDark":e={axisLabel:"#9CA3AF",axisTitle:"#9CA3AF",axisLine:" #4B5563",majorGridLine:"#374151",minorGridLine:"#374151",majorTickLine:"#4B5563",minorTickLine:" #4B5563",chartTitle:"#D1D5DB",legendLabel:"#D1D5DB",background:"#1f2937",areaBorder:" #374151",errorBar:"#ffffff",crosshairLine:"#9CA3AF",crosshairFill:"#F9FAFB",crosshairLabel:"#1F2937",tooltipFill:"#F9FAFB",tooltipBoldLabel:"#6B7280",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#9CA3AF",markerShadow:null,selectionRectFill:"rgba(34,211,238, 0.1)",selectionRectStroke:"#22D3EE",selectionCircleStroke:"#282727"};break;case"Bootstrap5":e={axisLabel:"#495057",axisTitle:"#343A40",axisLine:"#D1D5DB",majorGridLine:"#E5E7EB",minorGridLine:"#E5E7EB",majorTickLine:"#D1D5DB",minorTickLine:" #D1D5DB",chartTitle:"#343A40",legendLabel:"#343A40",background:"#FFFFFF",areaBorder:" #DEE2E6",errorBar:"#1F2937",crosshairLine:"#1F2937",crosshairFill:"#212529",crosshairLabel:"#F9FAFB",tooltipFill:"#212529",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280"};break;case"Bootstrap5Dark":e={axisLabel:"#CED4DA",axisTitle:"#E9ECEF",axisLine:"#495057",majorGridLine:"#343A40",minorGridLine:"#343A40",majorTickLine:"#495057",minorTickLine:" #495057",chartTitle:"#E9ECEF",legendLabel:"#E9ECEF",background:"#212529",areaBorder:" #444C54",errorBar:"#ADB5BD",crosshairLine:"#ADB5BD",crosshairFill:"#E9ECEF",crosshairLabel:"#212529",tooltipFill:"#E9ECEF",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280"};break;default:e={axisLabel:"#686868",axisTitle:"#424242",axisLine:"#b5b5b5",majorGridLine:"#dbdbdb",minorGridLine:"#eaeaea",majorTickLine:"#b5b5b5",minorTickLine:"#d6d6d6",chartTitle:"#424242",legendLabel:"#353535",background:"#FFFFFF",areaBorder:"Gray",errorBar:"#000000",crosshairLine:"#4f4f4f",crosshairFill:"#4f4f4f",crosshairLabel:"#e5e5e5",tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff",markerShadow:null,selectionRectFill:"rgba(41, 171, 226, 0.1)",selectionRectStroke:"#29abe2",selectionCircleStroke:"#29abe2"}}return e}var dt=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class vc extends he{}dt([g("Line")],vc.prototype,"type",void 0),dt([g(null)],vc.prototype,"color",void 0),dt([g(1)],vc.prototype,"width",void 0),dt([g(null)],vc.prototype,"length",void 0),dt([g("")],vc.prototype,"dashArray",void 0);class ir extends he{}dt([g("Normal")],ir.prototype,"fontStyle",void 0),dt([g("16px")],ir.prototype,"size",void 0),dt([g("Normal")],ir.prototype,"fontWeight",void 0),dt([g("")],ir.prototype,"color",void 0),dt([g("Center")],ir.prototype,"textAlignment",void 0),dt([g("Segoe UI")],ir.prototype,"fontFamily",void 0),dt([g(1)],ir.prototype,"opacity",void 0),dt([g("Trim")],ir.prototype,"textOverflow",void 0);class Yn extends he{}dt([g("")],Yn.prototype,"color",void 0),dt([g(1)],Yn.prototype,"width",void 0);class h2 extends he{}dt([g(0)],h2.prototype,"x",void 0),dt([g(0)],h2.prototype,"y",void 0);class gw extends he{}dt([U({},Yn)],gw.prototype,"border",void 0),dt([g("transparent")],gw.prototype,"background",void 0),dt([g(1)],gw.prototype,"opacity",void 0),dt([g(null)],gw.prototype,"backgroundImage",void 0);class Cc extends he{}dt([g(10)],Cc.prototype,"left",void 0),dt([g(10)],Cc.prototype,"right",void 0),dt([g(10)],Cc.prototype,"top",void 0),dt([g(10)],Cc.prototype,"bottom",void 0);class fb extends he{}dt([g(0)],fb.prototype,"left",void 0),dt([g(0)],fb.prototype,"right",void 0),dt([g(0)],fb.prototype,"top",void 0),dt([g(0)],fb.prototype,"bottom",void 0);class Up extends he{}dt([g(!0)],Up.prototype,"enable",void 0),dt([g(1e3)],Up.prototype,"duration",void 0),dt([g(0)],Up.prototype,"delay",void 0);class j1 extends he{}dt([g(0)],j1.prototype,"series",void 0),dt([g(0)],j1.prototype,"point",void 0);class mb extends he{}dt([g(0)],mb.prototype,"topLeft",void 0),dt([g(0)],mb.prototype,"topRight",void 0),dt([g(0)],mb.prototype,"bottomLeft",void 0),dt([g(0)],mb.prototype,"bottomRight",void 0);class Gp{constructor(e,t){this.series=e,this.point=t}}class yw extends he{}dt([g(null)],yw.prototype,"fill",void 0),dt([U({color:"transparent",width:0},Yn)],yw.prototype,"border",void 0),dt([g("Gap")],yw.prototype,"mode",void 0);class bw extends he{}dt([g(!1)],bw.prototype,"enable",void 0),dt([g(null)],bw.prototype,"minY",void 0),dt([g(null)],bw.prototype,"maxY",void 0),dt([g(null)],bw.prototype,"fill",void 0);class Ao extends he{}dt([g(!1)],Ao.prototype,"enable",void 0),dt([g(!0)],Ao.prototype,"enableMarker",void 0),dt([g(!1)],Ao.prototype,"shared",void 0),dt([g(null)],Ao.prototype,"fill",void 0),dt([g(null)],Ao.prototype,"header",void 0),dt([g(.75)],Ao.prototype,"opacity",void 0),dt([U(Fr.tooltipLabelFont,ir)],Ao.prototype,"textStyle",void 0),dt([g(null)],Ao.prototype,"format",void 0),dt([g(null)],Ao.prototype,"template",void 0),dt([g(!0)],Ao.prototype,"enableAnimation",void 0),dt([g(300)],Ao.prototype,"duration",void 0),dt([g(1e3)],Ao.prototype,"fadeOutDuration",void 0),dt([g("Move")],Ao.prototype,"fadeOutMode",void 0),dt([g(!1)],Ao.prototype,"enableTextWrap",void 0),dt([U({color:"#cccccc",width:.5},Yn)],Ao.prototype,"border",void 0);class gb extends he{}dt([g("Years")],gb.prototype,"intervalType",void 0),dt([g(1)],gb.prototype,"interval",void 0),dt([g(null)],gb.prototype,"text",void 0),dt([g(!1)],gb.prototype,"selected",void 0);class z1 extends he{}dt([g(43)],z1.prototype,"height",void 0),dt([g("Bottom")],z1.prototype,"position",void 0),dt([Di([],gb)],z1.prototype,"periods",void 0);class yd{get start(){return this.mStart}get end(){return this.mEnd}get delta(){return this.mEnd-this.mStart}get median(){return this.mStart+(this.mEnd-this.mStart)/2}constructor(e,t){e<t?(this.mStart=e,this.mEnd=t):(this.mStart=t,this.mEnd=e)}}class W1{constructor(e){this.isColumn=0,this.chart=e}calculateNumericNiceInterval(e,t,i){const s=m2(i,e);let r=t/s;if(!f(e.desiredIntervals))return r;const o=Math.pow(10,Math.floor(ta(r,10)));for(const a of e.intervalDivs){const l=o*a;if(s<t/l)break;r=l}return r}getActualRange(e,t){this.initializeDoubleRange(e),!e.startFromZero&&this.isColumn>0?(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.max=e.doubleRange.end+e.actualRange.interval,e.actualRange.min=e.doubleRange.start-e.actualRange.interval<0&&e.doubleRange.start>0?0:e.doubleRange.start-e.actualRange.interval):(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end)}initializeDoubleRange(e){null!==e.minimum?this.min=e.minimum:(null===this.min||this.min===Number.POSITIVE_INFINITY)&&(this.min=0),null!==e.maximum?this.max=e.maximum:(null===this.max||this.max===Number.NEGATIVE_INFINITY)&&(this.max=5),this.min===this.max&&(this.max=e.valueType.indexOf("Category")>-1?this.max:this.min+1),e.doubleRange=new yd(this.min,this.max),e.actualRange={}}calculateRangeAndInterval(e,t){this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)}calculateRange(e){if(this.min=null,this.max=null,!Mw(e))for(const t of e.series)!t.visible||(this.paddingInterval=0,e.maxPointLength=t.points.length,((t.type.indexOf("Column")>-1||t.type.indexOf("Histogram")>-1)&&"Horizontal"===e.orientation||t.type.indexOf("Bar")>-1&&"Vertical"===e.orientation)&&("Double"===t.xAxis.valueType||"DateTime"===t.xAxis.valueType)&&"Auto"===t.xAxis.rangePadding&&(this.paddingInterval=.5*GU(t.xAxis,e.series)),"Horizontal"===e.orientation&&(this.chart.requireInvertedAxis?this.yAxisRange(e,t):this.findMinMax(t.xMin-this.paddingInterval,t.xMax+this.paddingInterval)),"Vertical"===e.orientation&&(this.isColumn+="Column"===t.type||"Bar"===t.type||"Column"===t.drawType?1:0,this.chart.requireInvertedAxis?this.findMinMax(t.xMin-this.paddingInterval,t.xMax+this.paddingInterval):this.yAxisRange(e,t)))}yAxisRange(e,t){t.dragSettings.enable&&this.chart.dragY&&(this.chart.dragY>=e.visibleRange.max&&(t.yMax=this.chart.dragY+e.visibleRange.interval),this.chart.dragY<=e.visibleRange.min&&(t.yMin=this.chart.dragY-e.visibleRange.interval)),this.findMinMax(t.yMin,t.yMax)}findMinMax(e,t){(null===this.min||this.min>e)&&(this.min=e),(null===this.max||this.max<t)&&(this.max=t),this.max===this.min&&this.max<0&&this.min<0&&(this.max=0)}applyRangePadding(e,t){const i=e.actualRange.min,s=e.actualRange.max;if(!Mw(e)){const r=e.actualRange.interval,o=e.getRangePadding(this.chart);"Additional"===o||"Round"===o?this.findAdditional(e,i,s,r):"Normal"===o?this.findNormal(e,i,s,r,t):this.updateActualRange(e,i,s,r)}e.actualRange.delta=e.actualRange.max-e.actualRange.min,this.calculateVisibleRange(t,e)}updateActualRange(e,t,i,s){e.actualRange={min:null!=e.minimum?e.minimum:t,max:null!=e.maximum?e.maximum:i,interval:null!=e.interval?e.interval:s,delta:e.actualRange.delta}}findAdditional(e,t,i,s){let r,o;r=Math.floor(t/s)*s,o=Math.ceil(i/s)*s,"Additional"===e.rangePadding&&(r-=s,o+=s),this.updateActualRange(e,r,o,s)}findNormal(e,t,i,s,r){let o,a,l,h=t;t<0?(h=0,a=t+.05*t,o=s+a%s,.365*s>=o&&(a-=s),a%s<0&&(a=a-s-a%s)):(a=t<5/6*i?0:t-.5*(i-t),a%s>0&&(a-=a%s)),l=i>0?i+.05*(i-h):i-.05*(i-h),o=s-l%s,.365*s>=o&&(l+=s),l%s>0&&(l=l+s-l%s),e.doubleRange=new yd(a,l),0===a&&(s=this.calculateNumericNiceInterval(e,e.doubleRange.delta,r),l=Math.ceil(l/s)*s),this.updateActualRange(e,a,l,s)}calculateVisibleRange(e,t){if(t.visibleRange={max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta,interval:t.actualRange.interval},"Cartesian"===this.chart.chartAreaType){const i=!f(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRangeOnZooming(e),t.calculateAxisRange(e,this.chart),t.visibleRange.interval=t.enableAutoIntervalOnZooming&&"Category"!==t.valueType?this.calculateNumericNiceInterval(t,t.doubleRange.delta,e):t.visibleRange.interval)}t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)}calculateVisibleLabels(e,t){e.visibleLabels=[];let s,i=e.visibleRange.min;("chart"!==t.getModuleName()||"PolarRadar"!==t.chartAreaType)&&(e.zoomFactor<1||e.zoomPosition>0||this.paddingInterval)&&(i=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval);const a=this.getFormat(e),l=null!==a.match("{value}");let d,h=0,c=0;for(e.labelFormat&&e.labelFormat.indexOf("n")>-1&&(c=parseInt(e.labelFormat.substring(1,e.labelFormat.length),10)),e.format=t.intl.getNumberFormat({format:l?"":a,useGrouping:t.useGroupingSeparator}),e.startLabel=e.format(e.visibleRange.min),e.endLabel=e.format(e.visibleRange.max),e.visibleRange.interval&&(e.visibleRange.interval+"").indexOf(".")>=0&&(h=(e.visibleRange.interval+"").split(".")[1].length);i<=e.visibleRange.max&&d!==i;i+=e.visibleRange.interval)d=i,s=fe({},Q("properties",e.labelStyle),null,!0),al(i,e.visibleRange)&&Mb(t,i,this.formatValue(e,l,a,i),s,e);i&&(i+"").indexOf(".")>=0&&(i+"").split(".")[1].length>10&&(i=(i+"").split(".")[1].length>(c||h)?+i.toFixed(c||h):i,i<=e.visibleRange.max&&Mb(t,i,this.formatValue(e,l,a,i),s,e)),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}getFormat(e){return e.labelFormat?0===e.labelFormat.indexOf("p")&&-1===e.labelFormat.indexOf("{value}")&&e.isStack100?"{value}%":e.labelFormat:e.isStack100?"{value}%":""}formatValue(e,t,i,s){return t?i.replace("{value}",e.format(s)):e.format(s)}}const Yp="legendClick",U1="load",yb="legendRender",G1="textRender",_h="pointRender",c2="sharedTooltipRender",Y1="seriesRender",wU="axisLabelRender",SU="axisRangeCalculated",_U="axisMultiLabelRender",Eu="tooltipRender",xU="chartMouseMove",EU="chartMouseClick",DU="pointClick",MU="pointMove",kU="chartMouseLeave",AU="chartMouseDown",TU="chartMouseUp",qp="zoomComplete",LU="dragComplete",RU="selectionComplete",bb="resized",IU="beforeResize",PU="beforePrint",OU="annotationRender",FU="scrollStart",vw="scrollEnd",xm="scrollChanged",NU="stockEventRender",BU="multiLevelLabelClick",vb=/~\d+~/g,q1=/\^\d+\^/g,VU="beforeExport",$1="afterExport",ol="onZooming";var Xt=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class wc extends he{}Xt([g("0")],wc.prototype,"x",void 0),Xt([g("0")],wc.prototype,"y",void 0),Xt([g(null)],wc.prototype,"content",void 0),Xt([g("Center")],wc.prototype,"horizontalAlignment",void 0),Xt([g("Pixel")],wc.prototype,"coordinateUnits",void 0),Xt([g("Chart")],wc.prototype,"region",void 0),Xt([g("Middle")],wc.prototype,"verticalAlignment",void 0),Xt([g(null)],wc.prototype,"xAxisName",void 0),Xt([g(null)],wc.prototype,"yAxisName",void 0),Xt([g(null)],wc.prototype,"description",void 0);class Cw extends he{}Xt([g("")],Cw.prototype,"color",void 0),Xt([g(1)],Cw.prototype,"width",void 0),Xt([g("Rectangle")],Cw.prototype,"type",void 0);class Em extends he{}Xt([g(null)],Em.prototype,"start",void 0),Xt([g(null)],Em.prototype,"end",void 0),Xt([g("")],Em.prototype,"text",void 0),Xt([g(null)],Em.prototype,"maximumTextWidth",void 0),Xt([g(null)],Em.prototype,"customAttributes",void 0),Xt([g("")],Em.prototype,"type",void 0);class sr extends he{}Xt([g(!0)],sr.prototype,"visible",void 0),Xt([g(!1)],sr.prototype,"startFromAxis",void 0),Xt([g(null)],sr.prototype,"start",void 0),Xt([g(null)],sr.prototype,"end",void 0),Xt([g(null)],sr.prototype,"size",void 0),Xt([g("#808080")],sr.prototype,"color",void 0),Xt([g(null)],sr.prototype,"dashArray",void 0),Xt([g("Auto")],sr.prototype,"sizeType",void 0),Xt([g(!1)],sr.prototype,"isRepeat",void 0),Xt([g(null)],sr.prototype,"repeatEvery",void 0),Xt([g(null)],sr.prototype,"repeatUntil",void 0),Xt([g(!1)],sr.prototype,"isSegmented",void 0),Xt([g(null)],sr.prototype,"segmentStart",void 0),Xt([g(null)],sr.prototype,"segmentEnd",void 0),Xt([g(null)],sr.prototype,"segmentAxisName",void 0),Xt([U({color:"transparent",width:1},Yn)],sr.prototype,"border",void 0),Xt([g("")],sr.prototype,"text",void 0),Xt([g(null)],sr.prototype,"rotation",void 0),Xt([g("Middle")],sr.prototype,"horizontalAlignment",void 0),Xt([g("Middle")],sr.prototype,"verticalAlignment",void 0),Xt([U(Fr.stripLineLabelFont,ir)],sr.prototype,"textStyle",void 0),Xt([g("Behind")],sr.prototype,"zIndex",void 0),Xt([g(1)],sr.prototype,"opacity",void 0);class Cb extends he{}Xt([g("Center")],Cb.prototype,"alignment",void 0),Xt([g("Wrap")],Cb.prototype,"overflow",void 0),Xt([U(Fr.axisLabelFont,ir)],Cb.prototype,"textStyle",void 0),Xt([U({color:null,width:1,type:"Rectangle"},Cw)],Cb.prototype,"border",void 0),Xt([Di([],Em)],Cb.prototype,"categories",void 0);class d2 extends he{}Xt([g(null)],d2.prototype,"minimum",void 0),Xt([g(null)],d2.prototype,"maximum",void 0);class X1 extends he{}Xt([g(!1)],X1.prototype,"enable",void 0),Xt([g(null)],X1.prototype,"pointsLength",void 0),Xt([U({},d2)],X1.prototype,"range",void 0);var He=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class u2 extends he{constructor(){super(...arguments),this.axes=[],this.nearSizes=[],this.farSizes=[]}computeSize(e,t){let i=0;e.visible&&e.internalVisibility&&(i+=e.findTickSize(e.crossInAxis)+t+e.findLabelSize(e.crossInAxis,5)+.5*e.lineStyle.width),e.opposedPosition?this.farSizes.push(i):this.nearSizes.push(i)}}He([g("100%")],u2.prototype,"height",void 0),He([U({},Yn)],u2.prototype,"border",void 0);class p2 extends he{constructor(){super(...arguments),this.axes=[],this.nearSizes=[],this.farSizes=[],this.padding=0}computeSize(e,t){let i=0;e.visible&&e.internalVisibility&&(i+=e.findTickSize(e.crossInAxis)+t+e.findLabelSize(e.crossInAxis,5)+.5*e.lineStyle.width),e.opposedPosition?this.farSizes.push(i):this.nearSizes.push(i)}}He([g("100%")],p2.prototype,"width",void 0),He([U({},Yn)],p2.prototype,"border",void 0);class wb extends he{}He([g(1)],wb.prototype,"width",void 0),He([g("")],wb.prototype,"dashArray",void 0),He([g(null)],wb.prototype,"color",void 0);class ww extends he{}He([g(.7)],ww.prototype,"width",void 0),He([g("")],ww.prototype,"dashArray",void 0),He([g(null)],ww.prototype,"color",void 0);class Sw extends he{}He([g(1)],Sw.prototype,"width",void 0),He([g("")],Sw.prototype,"dashArray",void 0),He([g(null)],Sw.prototype,"color",void 0);class Sb extends he{}He([g(1)],Sb.prototype,"width",void 0),He([g(5)],Sb.prototype,"height",void 0),He([g(null)],Sb.prototype,"color",void 0);class _w extends he{}He([g(.7)],_w.prototype,"width",void 0),He([g(5)],_w.prototype,"height",void 0),He([g(null)],_w.prototype,"color",void 0);class xw extends he{}He([g(!1)],xw.prototype,"enable",void 0),He([g(null)],xw.prototype,"fill",void 0),He([U(Fr.crosshairLabelFont,ir)],xw.prototype,"textStyle",void 0);class ut extends he{constructor(e,t,i,s){super(e,t,i,s),this.visibleLabels=[],this.series=[],this.rect=new ce(void 0,void 0,0,0),this.axisBottomLine=null,this.intervalDivs=[10,5,2,1],this.isStack100=!1,this.crossAt=null,this.updatedRect=null,this.multiLevelLabelHeight=0,this.isChart=!0,this.isIntervalInDecimal=!0,this.titleCollection=[],this.titleSize=new xt(0,0),this.internalVisibility=!0,this.angle=this.labelRotation}findTickSize(e){return"Inside"===this.tickPosition||e&&(!e.visibleRange||this.isInside(e.visibleRange))?0:this.majorTickLines.height}isInside(e){return Eb(this.crossAt,e)||!this.opposedPosition&&this.crossAt>=e.max||this.opposedPosition&&this.crossAt<=e.min}findLabelSize(e,t){let i=0;const s="Horizontal"===this.orientation;if(this.title&&(this.titleSize=Le(this.title,this.titleStyle),i=this.titleSize.height+t,this.rect.width||this.rect.height)&&(this.titleCollection=Xp(this.title,this.titleStyle,s?this.rect.width:this.rect.height),i*=this.titleCollection.length),"Inside"===this.labelPosition)return i+t;let r,o,a=i+t+this.titlePadding+this.labelPadding+("Vertical"===this.orientation?this.maxLabelSize.width:this.maxLabelSize.height)+this.multiLevelLabelHeight;if(e&&this.placeNextToAxisLine){const l=e.visibleRange,h="Horizontal"===e.orientation?e.rect.width:e.rect.height;if(!l||!h)return 0;this.isInside(l)&&(o=this.findDifference(e),r=o*(h/l.delta),r=o*((h-(r<a?a-r:0))/l.delta),a=r<a?a-r:0)}return a}updateCrossValue(){let e=this.crossAt;if(null===e||!this.isInside(this.crossInAxis.visibleRange))return this.updatedRect=this.rect,null;const t=this.crossInAxis.visibleRange;this.opposedPosition?this.crossAt<t.min&&(e=t.min):this.crossAt>t.max&&(e=t.max),this.updatedRect=fe({},this.rect,null,!0),"Horizontal"===this.orientation?(e=this.crossInAxis.rect.height-zi(e,this.crossInAxis)*this.crossInAxis.rect.height,this.updatedRect.y=this.crossInAxis.rect.y+e):(e=zi(e,this.crossInAxis)*this.crossInAxis.rect.width,this.updatedRect.x=this.crossInAxis.rect.x+e)}findDifference(e){let t=0;return t=this.opposedPosition?e.isInversed?e.visibleRange.min:e.visibleRange.max:e.isInversed?e.visibleRange.max:e.visibleRange.min,Math.abs(this.crossAt-t)}calculateVisibleRangeOnZooming(e){if(kb(this)){const t=this.actualRange;let i,s;this.isInversed?(i=this.actualRange.max-this.zoomPosition*this.actualRange.delta,s=i-this.zoomFactor*this.actualRange.delta):(i=this.actualRange.min+this.zoomPosition*this.actualRange.delta,s=i+this.zoomFactor*this.actualRange.delta),i<t.min&&(s+=t.min-i,i=t.min),s>t.max&&(i-=s-t.max,s=t.max),this.doubleRange=new yd(i,s),this.visibleRange={min:this.doubleRange.start,max:this.doubleRange.end,delta:this.doubleRange.delta,interval:this.visibleRange.interval}}}calculateAxisRange(e,t){if(t.enableAutoIntervalOnBothAxis){if("Horizontal"===this.orientation&&"X"===t.zoomSettings.mode)for(let i=0;i<this.series.length;i++){const s=[];for(const r of this.series[i].visiblePoints)r.xValue>this.visibleRange.min&&r.xValue<this.visibleRange.max&&s.push(r.yValue);for(const r of t.axisCollections)"Vertical"===r.orientation&&!f(r.series[i])&&(r.series[i].yMin=Math.min(...s),r.series[i].yMax=Math.max(...s),r.baseModule.calculateRangeAndInterval(e,r))}if("Vertical"===this.orientation&&"Y"===t.zoomSettings.mode)for(let i=0;i<this.series.length;i++){const s=[];for(const r of this.series[i].visiblePoints)r.yValue>this.visibleRange.min&&r.yValue<this.visibleRange.max&&s.push(r.xValue);for(const r of t.axisCollections)"Horizontal"===r.orientation&&!f(r.series[i])&&(r.series[i].xMin=Math.min(...s),r.series[i].xMax=Math.max(...s),r.baseModule.calculateRangeAndInterval(e,r))}}}triggerRangeRender(e,t,i,s){const r={cancel:!1,name:SU,axis:this,minimum:t,maximum:i,interval:s};e.trigger(SU,r),r.cancel||(this.visibleRange={min:r.minimum,max:r.maximum,interval:r.interval,delta:r.maximum-r.minimum})}getRangePadding(e){let t=this.rangePadding;if("Auto"!==t)return t;switch(this.orientation){case"Horizontal":t=e.requireInvertedAxis?this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal":"None";break;case"Vertical":t=e.requireInvertedAxis?"None":this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal"}return t}getMaxLabelWidth(e){let t,r,i=0,s=!1;this.angle=this.labelRotation,this.maxLabelSize=new xt(0,0);const o=this.labelIntersectAction;let a;for(let l=0,h=this.visibleLabels.length;l<h;l++){a=this.visibleLabels[l],r=_b(a.originalText),r?(a.size=Le(a.originalText.replace(/<br>/g," "),this.labelStyle),a.breakLabelSize=Le(this.enableTrim?a.text.join("<br>"):a.originalText,this.labelStyle)):a.size=Le(a.text,this.labelStyle);const c=r?a.breakLabelSize.width:a.size.width;c>this.maxLabelSize.width&&(this.maxLabelSize.width=c,this.rotatedLabel=a.text);const d=r?a.breakLabelSize.height:a.size.height;if(d>this.maxLabelSize.height&&(this.maxLabelSize.height=d),r&&(a.text=this.enableTrim?a.text:a.originalText.split("<br>")),"None"!==o&&"Hide"!==o&&"Trim"!==o&&("None"!==o||this.angle%360==0)&&"Horizontal"===this.orientation&&this.rect.width>0&&!s){const u=r?a.breakLabelSize.width:a.size.width;switch(t=zi(a.value,this)*this.rect.width+this.rect.x,t-=u/2,"Shift"===this.edgeLabelPlacement&&(0===l&&t<this.rect.x&&(t=this.rect.x),l===this.visibleLabels.length-1&&t+u>this.rect.x+this.rect.width&&(t=this.rect.x+this.rect.width-u)),o){case"MultipleRows":l>0&&this.findMultiRows(l,t,a,r);break;case"Rotate45":case"Rotate90":l>0&&(this.isInversed?t+u>=i:t<=i)&&(this.angle="Rotate45"===o?45:90,s=!0);break;default:if(r){let m;const y=[];let b;for(let v=0;v<a.text.length;v++)if(m=Rw(a.text[v],this.rect.width/this.visibleLabels.length,this.labelStyle),m.length>1)for(let C=0;C<m.length;C++)b=m[C],y.push(b);else y.push(m[0]);a.text=y}else a.text=Rw(a.text,this.rect.width/this.visibleLabels.length,this.labelStyle);const p=a.size.height*a.text.length;p>this.maxLabelSize.height&&(this.maxLabelSize.height=p)}i=this.isInversed?t:t+u}}if(0!==this.angle&&"Horizontal"===this.orientation){this.rotatedLabel=f(this.rotatedLabel)?"":this.rotatedLabel;const l=-360===this.angle||0===this.angle||-180===this.angle||180===this.angle||360===this.angle;this.maxLabelSize="Outside"===this.labelPosition&&!l&&_b(this.rotatedLabel)?new xt(this.maxLabelSize.height,this.maxLabelSize.width):function(n,e,t,i){const s=new jo(i.element.id);let r,a,l,h,c,o=[];const d={id:"rotate_text",x:i.initialClipRect.x,y:i.initialClipRect.y,"font-size":n.size,"font-style":n.fontStyle,"font-family":n.fontFamily,"font-weight":n.fontWeight,transform:"rotate("+t+", 0, 0)","text-anchor":"middle"};_b(e)?(o=e.split("<br>"),r=o[0]):r=e;const u=s.createText(d,r);if(!i.delayRedraw&&!i.redraw&&i.element.appendChild(i.svgObject),"string"!=typeof o&&o.length>1)for(let m=1,y=o.length;m<y;m++)a=Le(o[m],n).height,l=d.y+m*a,h=o[m],c=s.createTSpan({x:d.x,id:d.id,y:l},h),u.appendChild(c);i.svgObject.appendChild(u);const p=u.getBoundingClientRect();return Ue(u),!i.delayRedraw&&!i.redraw&&Ue(i.svgObject),new xt(p.right-p.left,p.bottom-p.top)}(this.labelStyle,this.rotatedLabel,this.angle,e)}e.multiLevelLabelModule&&this.multiLevelLabels.length>0&&e.multiLevelLabelModule.getMultilevelLabelsHeight(this)}findMultiRows(e,t,i,s){let r,o,a;const l=[];let h;for(let d=e-1;d>=0;d--)r=this.visibleLabels[d],a=s?r.breakLabelSize.width:r.size.width,o=zi(r.value,this)*this.rect.width+this.rect.x,h=this.isInversed?t+i.size.width>o-.5*a:t<o+.5*a,h?(l.push(r.index),i.index=i.index>r.index?i.index:r.index+1):i.index=l.indexOf(r.index)>-1?i.index:r.index;const c=(s?i.breakLabelSize.height:i.size.height)*i.index+5*(i.index-1);c>this.maxLabelSize.height&&(this.maxLabelSize.height=c)}getModule(e){this.baseModule="Double"===this.valueType?new W1(e):e[Nn(this.valueType)+"Module"]}}He([U(Fr.axisLabelFont,ir)],ut.prototype,"labelStyle",void 0),He([U({},xw)],ut.prototype,"crosshairTooltip",void 0),He([g("")],ut.prototype,"title",void 0),He([U(Fr.axisTitleFont,ir)],ut.prototype,"titleStyle",void 0),He([g("")],ut.prototype,"labelFormat",void 0),He([g("")],ut.prototype,"skeleton",void 0),He([g("DateTime")],ut.prototype,"skeletonType",void 0),He([g("Center")],ut.prototype,"lineBreakAlignment",void 0),He([g(0)],ut.prototype,"plotOffset",void 0),He([g(null)],ut.prototype,"plotOffsetLeft",void 0),He([g(null)],ut.prototype,"plotOffsetTop",void 0),He([g(null)],ut.prototype,"plotOffsetRight",void 0),He([g(null)],ut.prototype,"plotOffsetBottom",void 0),He([g(!1)],ut.prototype,"isIndexed",void 0),He([g(10)],ut.prototype,"logBase",void 0),He([g(0)],ut.prototype,"columnIndex",void 0),He([g(0)],ut.prototype,"rowIndex",void 0),He([g(1)],ut.prototype,"span",void 0),He([g(null)],ut.prototype,"desiredIntervals",void 0),He([g(3)],ut.prototype,"maximumLabels",void 0),He([g(1)],ut.prototype,"zoomFactor",void 0),He([g(0)],ut.prototype,"zoomPosition",void 0),He([g(!0)],ut.prototype,"enableScrollbarOnZooming",void 0),He([g(!1)],ut.prototype,"opposedPosition",void 0),He([g(!0)],ut.prototype,"enableAutoIntervalOnZooming",void 0),He([g("Auto")],ut.prototype,"rangePadding",void 0),He([g("Double")],ut.prototype,"valueType",void 0),He([g("None")],ut.prototype,"edgeLabelPlacement",void 0),He([g("Auto")],ut.prototype,"intervalType",void 0),He([g("BetweenTicks")],ut.prototype,"labelPlacement",void 0),He([g("Outside")],ut.prototype,"tickPosition",void 0),He([g("Outside")],ut.prototype,"labelPosition",void 0),He([g("")],ut.prototype,"name",void 0),He([g(!0)],ut.prototype,"visible",void 0),He([g(0)],ut.prototype,"minorTicksPerInterval",void 0),He([g(0)],ut.prototype,"labelRotation",void 0),He([g(null)],ut.prototype,"crossesAt",void 0),He([g(!0)],ut.prototype,"placeNextToAxisLine",void 0),He([g(null)],ut.prototype,"crossesInAxis",void 0),He([g(null)],ut.prototype,"minimum",void 0),He([g(null)],ut.prototype,"maximum",void 0),He([g(null)],ut.prototype,"interval",void 0),He([g(34)],ut.prototype,"maximumLabelWidth",void 0),He([g(!1)],ut.prototype,"enableTrim",void 0),He([g(5)],ut.prototype,"labelPadding",void 0),He([g(5)],ut.prototype,"titlePadding",void 0),He([U({},Sb)],ut.prototype,"majorTickLines",void 0),He([U({},_w)],ut.prototype,"minorTickLines",void 0),He([U({},wb)],ut.prototype,"majorGridLines",void 0),He([U({},ww)],ut.prototype,"minorGridLines",void 0),He([U({},Sw)],ut.prototype,"lineStyle",void 0),He([g("Trim")],ut.prototype,"labelIntersectAction",void 0),He([g(!1)],ut.prototype,"isInversed",void 0),He([g(100)],ut.prototype,"coefficient",void 0),He([g(0)],ut.prototype,"startAngle",void 0),He([g(!0)],ut.prototype,"startFromZero",void 0),He([g(null)],ut.prototype,"description",void 0),He([g(2)],ut.prototype,"tabIndex",void 0),He([Di([],sr)],ut.prototype,"stripLines",void 0),He([Di([],Cb)],ut.prototype,"multiLevelLabels",void 0),He([U({color:null,width:0,type:"Rectangle"},Cw)],ut.prototype,"border",void 0),He([U({},X1)],ut.prototype,"scrollbarSettings",void 0);class HU{constructor(e,t,i,s,r=new xt(0,0),o=new xt(0,0),a=1){this.text=e,this.originalText=s,this.value=t,this.labelStyle=i,this.size=r,this.breakLabelSize=o,this.index=a}}function _b(n){return-1!==n.indexOf("<br>")}function Dm(n){const e=fe([],n.points,null,!0),t=[];let i,s=0;for(let r=0;r<e.length;r++)i=e[r],!f(i.x)&&""!==i.x&&(i.index=s++,t.push(i));return t}function Qi(n){if(!n)return null;const e="string"==typeof n?se(n):n;e&&Ue(e)}function ta(n,e){return Math.log(n)/Math.log(e)}function xb(n,e,t,i,s,r,o,a){let l=document.getElementById(s);const h=Le(n,{fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"Regular"}),c=h.width+5;e=e+c>i?e-(c+15):e,t=a?t-h.height/2:t+15,l?(l.innerHTML=n,l.style.top=t.toString()+"px",l.style.left=(e+15).toString()+"px"):(l=Ve("div",{innerHTML:n,id:s,styles:"top:"+t.toString()+"px;left:"+(e+15).toString()+'px;background-color: rgb(255, 255, 255) !important; color:black !important; position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: "Segoe UI"'}),r.appendChild(l),parseInt(l.style.left.replace("px",""),10)<0&&(l.style.left="0px")),o&&setTimeout(()=>{Qi(s)},1500)}function Eb(n,e){return n<e.max&&n>e.min}function al(n,e){return n<=e.max&&n>=e.min}function Ew(n,e){return"Logarithmic"===e.valueType?ta(n,e.logBase):n}function Fn(n,e,t,i){const s=Ew(e.xValue,i.xAxis),r=n?Ew(n.xValue,i.xAxis):s,o=t?Ew(t.xValue,i.xAxis):s,a=Math.floor(i.xAxis.visibleRange.min),l=Math.ceil(i.xAxis.visibleRange.max);return r>=a&&r<=l||s>=a&&s<=l||o>=a&&o<=l||a>=r&&a<=o}function To(n){let e=0;for(const t of n)e+=t;return e}function Z1(n,e,t,i,s){let r=0;if(null!==i)for(let o=e+1;o<t;o++)-1===i.indexOf(o)&&(r+=n[o][s.yName]);else for(let o=e+1;o<t;o++)f(n[o][s.yName])||(r+=n[o][s.yName]);return r}function bd(n,e){return n.x+=e.left,n.y+=e.top,n.width-=e.left+e.right,n.height-=e.top+e.bottom,n}function ia(n,e,t){const i=n*Math.PI/180;return new Fe(Math.cos(i)*e+t.x,Math.sin(i)*e+t.y)}function K1(n){return n*(Math.PI/180)}function jU(n,e,t,i){const s=[];for(let r=0;r<4;r++){const o=n[r],a=o.x-e,l=o.y-t,h=a*Math.cos(K1(i))-l*Math.sin(K1(i)),c=a*Math.sin(K1(i))+l*Math.cos(K1(i));o.x=h+e,o.y=c+t,s.push(new Fe(o.x,o.y))}return s}function zU(n,e){const t=[n,e];let i,s,r,o,a,l,h,c;for(o=0;o<t.length;o++){const d=t[o];for(a=0;a<d.length;a++){const p=d[a],m=d[(a+1)%d.length],y=new Fe(m.y-p.y,p.x-m.x);for(i=s=void 0,l=0;l<n.length;l++)r=y.x*n[l].x+y.y*n[l].y,(f(i)||r<i)&&(i=r),(f(s)||r>s)&&(s=r);for(h=c=void 0,l=0;l<e.length;l++)r=y.x*e[l].x+y.y*e[l].y,(f(h)||r<h)&&(h=r),(f(c)||r>c)&&(c=r);if(s<h||c<i)return!1}}return!0}function Q1(n,e){const t=[];for(let i=0;i<=e-1;i++)t.push(n[i]);return t}function zi(n,e){const t=e.visibleRange,i=(n-t.min)/t.delta;return e.isInversed?1-i:i}function Mm(n,e,t,i,s,r){n="Logarithmic"===t.valueType?ta(n>1?n:1,t.logBase):n,e="Logarithmic"===i.valueType?ta(e>1?e:1,i.logBase):e,n+="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement&&"Radar"!==r.type?.5:0;const o=r.chart.radius*zi(e,i),a=Nl(ll(n,t),r.chart.primaryXAxis.startAngle);return{x:r.clipRect.width/2+r.clipRect.x+o*a.x,y:r.clipRect.height/2+r.clipRect.y+o*a.y}}function Db(n,e=!1){let t=["NaN","NaN"];return n.indexOf("_Point_")>-1?t=n.split("_Series_")[1].split("_Point_"):n.indexOf("_shape_")>-1&&(!e||e&&-1===n.indexOf("_legend_"))?(t=n.split("_shape_"),t[0]="0"):n.indexOf("_text_")>-1&&(!e||e&&-1===n.indexOf("_legend_"))&&(t=n.split("_text_"),t[0]="0"),new Gp(parseInt(t[0],10),parseInt(t[1],10))}function Nl(n,e){e=e<0?e+360:e;let t=Math.PI*(1.5-2*n);return t+=e*Math.PI/180,{x:Math.cos(t),y:Math.sin(t)}}function ll(n,e){const t=e.visibleRange;let i,s;return"Category"!==e.valueType?(i=t.max-("DateTime"===e.valueType?e.dateTimeInterval:t.interval)-t.min,s=e.visibleLabels.length-1,i=0===i?1:i):(i=1===e.visibleLabels.length?1:e.visibleLabels[e.visibleLabels.length-1].value-e.visibleLabels[0].value,s=e.visibleLabels.length),e.isInversed?(n-t.min)/i*(1-1/s):1-(n-t.min)/i*(1-1/s)}class XCe{constructor(e,t,i,s,r,o){this.verticalStandardMean=e,this.horizontalStandardMean=i,this.verticalSquareRoot=t,this.horizontalSquareRoot=s,this.verticalMean=r,this.horizontalMean=o}}class ZCe{constructor(e,t,i,s,r){this.startAngle=e,this.endAngle=t,this.innerRadius=i,this.radius=s,this.currentXPosition=r}}function zs(n,e,t,i=0,s=0){return n>=t.x-i&&n<=t.x+t.width+i&&e>=t.y-s&&e<=t.y+t.height+s}function WU(n,e,t){return(t.isInversed?1-n/e:n/e)*t.visibleRange.delta+t.visibleRange.min}function UU(n,e,t){return(t.isInversed?n/e:1-n/e)*t.visibleRange.delta+t.visibleRange.min}function f2(n){const e=n.clipRect;n.chart.requireInvertedAxis?(e.x=n.yAxis.rect.x,e.y=n.xAxis.rect.y,e.width=n.yAxis.rect.width,e.height=n.xAxis.rect.height):(e.x=n.xAxis.rect.x,e.y=n.yAxis.rect.y,e.width=n.xAxis.rect.width,e.height=n.yAxis.rect.height)}function Nn(n){return n.substr(0,1).toLowerCase()+n.substr(1)}function GU(n,e){let i,s,r,t=Number.MAX_VALUE;for(let o=0;o<e.length;o++){const a=e[o];if(i=[],a.visible&&(n.name===a.xAxisName||"primaryXAxis"===n.name&&null===a.xAxisName||n.name===a.chart.primaryXAxis.name&&!a.xAxisName))if(i=a.points.map(l=>l.xValue),i.sort((l,h)=>l-h),1===i.length)r="DateTime"===n.valueType&&a.xMin===a.xMax?a.xMin-2592e6:a.xMin,s=i[0]-(f(r)?n.visibleRange.min:r),0!==s&&(t=Math.min(t,s));else for(let l=0;l<i.length;l++){const h=i[l];l>0&&h&&(s=h-i[l-1],0!==s&&(t=Math.min(t,s)))}}return t===Number.MAX_VALUE&&(t=1),t}function Dw(n){let e;switch(n){case"Linear":e=fo}return e}function fo(n,e,t,i){return-t*Math.cos(n/i*(Math.PI/2))+t+e}function km(n,e,t,i,s,r,o){const a=r.x,l=r.y;let h=0;n.style.visibility="hidden",new qt({}).animate(n,{duration:t,delay:e,progress:c=>{c.timeStamp>c.delay&&(c.element.style.visibility="visible",h=(c.timeStamp-c.delay)/c.duration,n.setAttribute("transform","translate("+a+" "+l+") scale("+h+") translate("+-a+" "+-l+")"))},end:()=>{n.style.visibility="",("Scatter"===i.type||"Bubble"===i.type)&&!o&&s===i.points.length-1&&i.chart.trigger("animationComplete",{series:i.chart.isBlazor?{}:i})}})}function $p(n,e,t,i,s){if(!t||!i&&!n)return null;let r=300;s&&(r=s);const o=i||n.getAttribute("d"),a=o.split(/(?=[LMCZAQ])/),l=e.split(/(?=[LMCZAQ])/);let h,u,p,c=[],d=[];n.setAttribute("d",o),new qt({}).animate(Ve("div"),{duration:r,progress:m=>{h="",a.map((y,b)=>{if(c=y.split(" "),d=l[b]?l[b].split(" "):c,h+="Z"===c[0]?"Z ":c[0]+" "+fo(m.timeStamp,+c[1],+d[1]-+c[1],m.duration)+" "+fo(m.timeStamp,+c[2],+d[2]-+c[2],m.duration)+" ","C"===c[0]||"Q"===c[0])for(u=3,p="Q"===c[0]?4:6;u<p;)h+=fo(m.timeStamp,+c[u],+d[u]-+c[u],m.duration)+" "+fo(m.timeStamp,+c[++u],+d[u]-+c[u],m.duration)+" ",++u;"A"===c[0]&&(h+="0 0 1 "+fo(m.timeStamp,+c[6],+d[6]-+c[6],m.duration)+" "+fo(m.timeStamp,+c[7],+d[7]-+c[7],m.duration)+" ")}),n.setAttribute("d",h)},end:()=>{n.setAttribute("d",e)}})}function vd(n,e,t,i="drawClipPath"){const s=hl(n,e.id,e,t);if(s){const r=t.createDefs();return r.appendChild(s),r}return t[i](e)}function Mb(n,e,t,i,s){const r={cancel:!1,name:wU,axis:s,text:t,value:e,labelStyle:i};if(n.trigger(wU,r),!r.cancel){const o=-1!==r.text.indexOf("<br>"),a=s.enableTrim?o?function(n,e,t){const i=[],s=e.split("<br>");for(let r=0;r<s.length;r++){let o=Le(e=s[r],t).width;if(o>n){for(let l=e.length-1;l>=0;--l)if(o=Le(e=e.substring(0,l)+"...",t).width,o<=n){i.push(e);break}}else i.push(e)}return i}(s.maximumLabelWidth,r.text,s.labelStyle):Ya(s.maximumLabelWidth,r.text,s.labelStyle):r.text;s.visibleLabels.push(new HU(a,r.value,r.labelStyle,r.text))}}function Mw(n){return null!=n.minimum&&null!=n.maximum}function kb(n){return n.zoomFactor<1&&n.zoomPosition>=0}function m2(n,e){const t="Horizontal"===e.orientation?n.width:n.height;if(f(e.desiredIntervals)){let i=("Horizontal"===e.orientation?.533:1)*e.maximumLabels;return i=Math.max(t*(i/100),1),i}return e.desiredIntervals}function kw(n,e,t,i,s){new qt({}).animate(n,{duration:t,delay:e,name:i,progress:r=>{r.element.style.visibility="visible"},end:r=>{s?Ue(r.element):r.element.style.visibility="visible"}})}function mo(n,e,t,i,s,r,o,a,l,h){const c=o||new jo(""),d=function(n,e,t,i,s,r,o){let a,l="Path";const c=r&&"Circle"===t?e.width-2:e.width,d=r&&"Circle"===t?e.height-2:e.height,u=r?o.targetWidth:0,p=n.x,m=n.y,y=n.y+-d/2,b=n.x+-c/2;let C,w;switch(t){case"Bubble":case"Circle":l="Ellipse",ai(i,{rx:c/2,ry:d/2,cx:p,cy:m});break;case"Cross":a="M "+b+" "+m+" L "+(p+c/2)+" "+m+" M "+p+" "+(m+d/2)+" L "+p+" "+(m+-d/2),ai(i,{d:a,stroke:i.fill});break;case"Multiply":a="M "+(p-u)+" "+(m-u)+" L "+(p+u)+" "+(m+u)+" M "+(p-u)+" "+(m+u)+" L "+(p+u)+" "+(m-u),ai(i,{d:a,stroke:i.fill});break;case"HorizontalLine":a="M "+b+" "+m+" L "+(p+c/2)+" "+m,ai(i,{d:a});break;case"VerticalLine":a="M "+p+" "+(m+d/2)+" L "+p+" "+(m+-d/2),ai(i,{d:a});break;case"Diamond":a="M "+b+" "+m+" L "+p+" "+(m+-d/2)+" L "+(p+c/2)+" "+m+" L "+p+" "+(m+d/2)+" L "+b+" "+m+" z",ai(i,{d:a});break;case"ActualRect":a="M "+b+" "+(m+-d/8)+" L "+(p+u)+" "+(m+-d/8)+" L "+(p+u)+" "+(m+d/8)+" L "+b+" "+(m+d/8)+" L "+b+" "+(m+-d/8)+" z",ai(i,{d:a});break;case"TargetRect":a="M "+(b+u)+" "+(m+-d/2)+" L "+(p+u/2)+" "+(m+-d/2)+" L "+(p+u/2)+" "+(m+d/2)+" L "+(b+u)+" "+(m+d/2)+" L "+(b+u)+" "+(m+-d/2)+" z",ai(i,{d:a});break;case"Rectangle":case"Hilo":case"HiloOpenClose":case"Candle":case"Waterfall":case"BoxAndWhisker":case"StepArea":case"StackingStepArea":case"Square":case"Flag":a="M "+b+" "+(m+-d/2)+" L "+(p+c/2)+" "+(m+-d/2)+" L "+(p+c/2)+" "+(m+d/2)+" L "+b+" "+(m+d/2)+" L "+b+" "+(m+-d/2)+" z",ai(i,{d:a});break;case"Pyramid":case"Triangle":a="M "+b+" "+(m+d/2)+" L "+p+" "+(m+-d/2)+" L "+(p+c/2)+" "+(m+d/2)+" L "+b+" "+(m+d/2)+" z",ai(i,{d:a});break;case"Funnel":case"InvertedTriangle":a="M "+(p+c/2)+" "+(m-d/2)+" L "+p+" "+(m+d/2)+" L "+(p-c/2)+" "+(m-d/2)+" L "+(p+c/2)+" "+(m-d/2)+" z",ai(i,{d:a});break;case"Pentagon":for(let _=0;_<=5;_++)C=c/2*Math.cos(Math.PI/180*(72*_)),w=d/2*Math.sin(Math.PI/180*(72*_)),a=0===_?"M "+(p+C)+" "+(m+w)+" ":a.concat("L "+(p+C)+" "+(m+w)+" ");a=a.concat("Z"),ai(i,{d:a});break;case"Image":l="Image",ai(i,{href:s,height:d,width:c,x:b,y})}return{renderOption:i=hwe(n,new xt(c,d),t,i).renderOption,functionName:l}}(n,t,e,s,i,l,h);return c["draw"+d.functionName](d.renderOption,a?new Int32Array([a.x,a.y]):null)}function Du(n,e,t){return n>t?t:n<e?e:n}function se(n){return document.getElementById(n)}function nwe(n,e,t,i,s,r,o,a,l,h){let c=n.getBoundingClientRect();e.accumulationDataLabelModule.calculateLabelSize(t,n,r,i,s,o,a,l,h,c,!0)}function rwe(n,e,t,i,s,r){let o=document.getElementById(e.element.id+"_Series_"+(void 0===i.index?i.category:i.index)+"_DataLabelCollections");o&&(0===t.index&&(e.dataLabelCollections=[]),e.dataLabelModule.calculateTemplateLabelSize(o,n,t,i,i.marker.dataLabel,s,i.clipRect,r,!0))}function J1(n,e,t,i,s,r,o,a,l,h,c,d,u,p,m){const y=function(n){let e=null;try{document.querySelectorAll(n).length&&(e=Lr(document.querySelector(n).innerHTML.trim()))}catch(t){e=Lr(n)}return e}(t);let b;try{const C=window.Blazor?o?s:{point:s}:{chart:i,series:r,point:s},w=o?o+"_template":"template",_=y?y(C,i,w,o||n.id.replace(/[^a-zA-Z0-9]/g,"")):[];if(_.length){b=Array.prototype.slice.call(_);const D=b.length;for(let I=0;I<D;I++)n.appendChild(b[I])}let k;"accumulationchart"===i.getModuleName()?(k=nwe.bind(this,n,i,h,c,l,c[e],d,u,p,m),i.isReact&&i.renderReactTemplates(k)):"chart"===i.getModuleName()&&(k=s&&r?rwe.bind(this,n,i,s,r,a,m):k,i.isReact&&i.renderReactTemplates(k))}catch(v){return n}return n}function YU(n){let e="";return e="font-size:"+n.size+"; font-style:"+n.fontStyle+"; font-weight:"+n.fontWeight+"; font-family:"+n.fontFamily+";opacity:"+n.opacity+"; color:"+n.color+";",e}function g2(n,e=!1,t){t||document.body.appendChild(n);const i=n.getBoundingClientRect();return e?Ue(n):t||Qi(n.id),i}function ot(n,e,t,i,s){n="Logarithmic"===t.valueType?ta(n>0?n:Math.pow(t.logBase,t.visibleRange.min),t.logBase):n,e="Logarithmic"===i.valueType?ta(e>0?e:Math.pow(i.logBase,i.visibleRange.min),i.logBase):e,n=zi(n,t),e=zi(e,i);const r=s?t.rect.height:t.rect.width,o=s?i.rect.width:i.rect.height;return new Fe(s?e*o:n*r,s?(1-n)*r:(1-e)*o)}function y2(n,e,t=!1,i=!1,s="x",r="y"){if(!(n&&n.hasChildNodes()&&e))return null;lt(!1,e,n,t,i,s,r)}function lt(n,e,t,i,s=!1,r="x",o="y",a,l,h=!1,c=!1,d=null,u){if(n)return null;const p=e.querySelector("#"+t.id),m=p||se(t.id),y=t,b=u||300;if(i&&s&&m)if(a=a||("DIV"===m.tagName?new Fe(+m.style[r].split("px")[0],+m.style[o].split("px")[0]):new Fe(+m.getAttribute(r),+m.getAttribute(o))),l&&"undefined"!==l)$p(t,t.getAttribute("d"),i,l,b);else if(c&&d)!function(n,e,t,i,s){const r=o=>{n.setAttribute("x",o.x+""),n.setAttribute("y",o.y+""),n.setAttribute("width",o.width+""),n.setAttribute("height",o.height+"")};new qt({}).animate(Ve("div"),{duration:t,delay:0,progress:o=>{r(new ce(fo(o.timeStamp,s.x,i.x-s.x,o.duration),fo(o.timeStamp,s.y,i.y-s.y,o.duration),fo(o.timeStamp,s.width,i.width-s.width,o.duration),fo(o.timeStamp,s.height,i.height-s.height,o.duration)))},end:()=>{r(i)}})}(y,0,b,new ce(+m.getAttribute("x"),+m.getAttribute("y"),+m.getAttribute("width"),+m.getAttribute("height")),d);else{const v="DIV"===y.tagName?new Fe(+y.style[r].split("px")[0],+y.style[o].split("px")[0]):new Fe(+y.getAttribute(r),+y.getAttribute(o));ZU(y,b,a,v,r,o)}else i&&s&&!m&&h&&kw(y,0,600,"FadeIn");p?e.replaceChild(y,m):e.appendChild(y)}function b2(n,e,t,i,s){const r=Math.abs(n-t),o=Math.abs(e-i),a=Math.max(qU(Math.min(n,t),r,s.x,s.width),s.x),l=Math.max(qU(Math.min(e,i),o,s.y,s.height),s.y);return new ce(a,l,Math.min(r,s.width),Math.min(o,s.height))}function qU(n,e,t,i){return n<t?n=t:n+e>i+t&&(n=i+t-e),n}function awe(n,e,t){const i=e.yAxis.labelFormat,s=[],r=null!==i.match("{value}");switch(e.seriesType){case"XY":"PolarRadar"===e.chart.chartAreaType?-1!==e.drawType.indexOf("Stacking")?("Logarithmic"===e.yAxis.valueType&&Ew(e.stackedValues.endValues[n.index],e.yAxis)||al(e.stackedValues.endValues[n.index],e.yAxis.visibleRange))&&s.push(n.text||n.yValue.toString()):("Logarithmic"===e.yAxis.valueType&&Ew(n.yValue,e.yAxis)||al(n.yValue,e.yAxis.visibleRange))&&s.push(n.text||n.yValue.toString()):s.push(n.text||n.yValue.toString());break;case"HighLow":s.push(n.text||Math.max(n.high,n.low).toString()),s.push(n.text||Math.min(n.high,n.low).toString());break;case"HighLowOpenClose":s.push(n.text||Math.max(n.high,n.low).toString()),s.push(n.text||Math.min(n.high,n.low).toString()),s.push(n.text||Math.max(n.open,n.close).toString()),s.push(n.text||Math.min(n.open,n.close).toString());break;case"BoxPlot":s.push(n.text||n.median.toString()),s.push(n.text||n.maximum.toString()),s.push(n.text||n.minimum.toString()),s.push(n.text||n.upperQuartile.toString()),s.push(n.text||n.lowerQuartile.toString());for(const o of n.outliers)s.push(n.text||o.toString())}if(i&&!n.text){e.yAxis.format=t.intl.getNumberFormat({format:r?"":i,useGrouping:t.useGroupingSeparator});for(let o=0;o<s.length;o++)s[o]=r?i.replace("{value}",e.yAxis.format(parseFloat(s[o]))):e.yAxis.format(parseFloat(s[o]))}return s}function Aw(n){window.clearInterval(n)}function Tw(n,e,t){const i=new ce(n.x+t.x,n.y+t.y,n.width,n.height);return e.some(r=>i.x<r.x+r.width&&i.x+i.width>r.x&&i.y<r.y+r.height&&i.height+i.y>r.y)}function Nr(n,e){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.height+n.y>e.y}function eD(n,e,t){return new ce(n.x-e.width/2-t.left,n.y-e.height/2-t.top,e.width+t.left+t.right,e.height+t.top+t.bottom)}function $U(n){return"#"+v2(n.r)+v2(n.g)+v2(n.b)}function v2(n){const e=n.toString(16);return 1===e.length?"0"+e:e}function tD(n){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?new nD(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)):new nD(255,255,255)}function Bl(n){n="transparent"===n?"white":n,document.body.appendChild(Ve("text",{id:"chartmeasuretext"}));const e=document.getElementById("chartmeasuretext");e.style.color=n,n=window.getComputedStyle(e).color,Ue(e);const i=/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/.exec(n);return $U(new nD(parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)))}function XU(n,e){(n=(n=Bl(n)).replace(/[^0-9a-f]/gi,"")).length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),e=e||0;let i,t="#";for(let s=0;s<3;s++)i=parseInt(n.substr(2*s,2),16),i=Math.round(Math.min(Math.max(0,i+i*e),255)),t+=("00"+i.toString(16)).substr(i.toString(16).length);return t}function C2(n){const e=Math.floor(n.length/2);return n.length%2?n[e]:(n[e-1]+n[e])/2}function hwe(n,e,t,i){let r="";const a=e.height,l=e.width,h=n.x,c=n.y;switch(t){case"MultiColoredLine":case"Line":case"StackingLine":case"StackingLine100":r="M "+(h+-l/2)+" "+c+" L "+(h+l/2)+" "+c,ai(i,{d:r});break;case"StepLine":i.fill="transparent",r="M "+(h+-l/2-2.5)+" "+(c+a/2)+" L "+(h+-l/2+l/10)+" "+(c+a/2)+" L "+(h+-l/2+l/10)+" "+c+" L "+(h+-l/10)+" "+c+" L "+(h+-l/10)+" "+(c+a/2)+" L "+(h+l/5)+" "+(c+a/2)+" L "+(h+l/5)+" "+(c+-a/2)+" L "+(h+l/2)+" "+(c+-a/2)+"L "+(h+l/2)+" "+(c+a/2)+" L"+(h+l/2+2.5)+" "+(c+a/2),ai(i,{d:r});break;case"UpArrow":i.fill=i.stroke,i.stroke="transparent",r="M "+(h+-l/2)+" "+(c+a/2)+" L "+h+" "+(c-a/2)+" L "+(h+l/2)+" "+(c+a/2)+"L "+(h+l/2-2)+" "+(c+a/2)+" L "+h+" "+(c-a/2+4)+"L"+(h-l/2+2)+" "+(c+a/2)+" Z",ai(i,{d:r});break;case"DownArrow":r="M "+(h-l/2)+" "+(c-a/2)+" L "+h+" "+(c+a/2)+" L "+(h+l/2)+" "+(c-a/2)+"L "+(h+l/2-2)+" "+(c-a/2)+" L "+h+" "+(c+a/2-4)+"L"+(h-l/2+2)+" "+(c-a/2)+" Z",ai(i,{d:r});break;case"RightArrow":r="M "+(h+-l/2)+" "+(c-a/2)+" L "+(h+l/2)+" "+c+" L "+(h+-l/2)+" "+(c+a/2)+" L "+(h+-l/2)+" "+(c+a/2-2)+" L "+(h+l/2-4)+" "+c+" L"+(h+-l/2)+" "+(c-a/2+2)+" Z",ai(i,{d:r});break;case"LeftArrow":i.fill=i.stroke,i.stroke="transparent",r="M "+(h+l/2)+" "+(c-a/2)+" L "+(h+-l/2)+" "+c+" L "+(h+l/2)+" "+(c+a/2)+" L "+(h+l/2)+" "+(c+a/2-2)+" L "+(h+-l/2+4)+" "+c+" L"+(h+l/2)+" "+(c-a/2+2)+" Z",ai(i,{d:r});break;case"Column":case"Pareto":case"StackingColumn":case"StackingColumn100":case"RangeColumn":case"Histogram":r="M "+(h-l/5*3)+" "+(c-a/5)+" L "+(h+-l/10*3)+" "+(c-a/5)+" L "+(h+-l/10*3)+" "+(c+a/2)+" L "+(h-l/5*3)+" "+(c+a/2)+" Z M "+(h+-l/10-l/20)+" "+(c-a/4-5)+" L "+(h+l/10+l/20)+" "+(c-a/4-5)+" L "+(h+l/10+l/20)+" "+(c+a/2)+" L "+(h+-l/10-l/20)+" "+(c+a/2)+" Z M "+(h+l/10*3)+" "+c+" L "+(h+l/5*3)+" "+c+" L "+(h+l/5*3)+" "+(c+a/2)+" L "+(h+l/10*3)+" "+(c+a/2)+" Z",ai(i,{d:r});break;case"Bar":case"StackingBar":case"StackingBar100":r="M "+(h+-l/2+-2.5)+" "+(c-a/5*3)+" L "+(h+l/10*3)+" "+(c-a/5*3)+" L "+(h+l/10*3)+" "+(c-a/10*3)+" L "+(h-l/2-2.5)+" "+(c-a/10*3)+" Z M "+(h+-l/2+-2.5)+" "+(c-a/5+.5)+" L "+(h+l/2+2.5)+" "+(c-a/5+.5)+" L "+(h+l/2+2.5)+" "+(c+a/10+.5)+" L "+(h-l/2-2.5)+" "+(c+a/10+.5)+" Z M "+(h-l/2-2.5)+" "+(c+a/5+1)+" L "+(h+-l/4)+" "+(c+a/5+1)+" L "+(h+-l/4)+" "+(c+a/2+1)+" L "+(h-l/2-2.5)+" "+(c+a/2+1)+" Z",ai(i,{d:r});break;case"Spline":i.fill="transparent",r="M "+(h-l/2)+" "+(c+a/5)+" Q "+h+" "+(c-a)+" "+h+" "+(c+a/5)+" M "+h+" "+(c+a/5)+" Q "+(h+l/2)+" "+(c+a/2)+" "+(h+l/2)+" "+(c-a/2),ai(i,{d:r});break;case"Area":case"MultiColoredArea":case"RangeArea":case"StackingArea":case"StackingArea100":r="M "+(h-l/2-2.5)+" "+(c+a/2)+" L "+(h+-l/4+-1.25)+" "+(c-a/2)+" L "+h+" "+(c+a/4)+" L "+(h+l/4+1.25)+" "+(c+-a/2+a/4)+" L "+(h+a/2+2.5)+" "+(c+a/2)+" Z",ai(i,{d:r});break;case"SplineArea":case"SplineRangeArea":r="M "+(h-l/2)+" "+(c+a/5)+" Q "+h+" "+(c-a)+" "+h+" "+(c+a/5)+" Z M "+h+" "+(c+a/5)+" Q "+(h+l/2)+" "+(c+a/2)+" "+(h+l/2)+" "+(c-a/2)+"  Z",ai(i,{d:r});break;case"Pie":case"Doughnut":i.stroke="transparent",r=function(n,e,t,i,s,r){const o=ia(270,t,new Fe(n,e)),a=ia(270,t,new Fe(n+s/10,e));return"M "+n+" "+e+" L "+(n+t)+" "+e+" A "+t+" "+t+" 0 1 1 "+o.x+" "+o.y+" Z M "+(n+s/10)+" "+(e-i/10)+" L"+(n+t)+" "+(e-i/10)+" A "+t+" "+t+" 0 0 0 "+a.x+" "+a.y+" Z"}(h,c,Math.min(a,l)/2,a,l),ai(i,{d:r})}return{renderOption:i}}function Ya(n,e,t){let i=e,s=Le(e,t).width;if(s>n)for(let o=e.length-1;o>=0;--o)if(i=e.substring(0,o)+"...",s=Le(i,t).width,s<=n)return i;return i}function Ji(n,e){return null!=n?-1!==n.indexOf("%")?e/100*parseInt(n,10):parseInt(n,10):null}function hl(n,e,t,i){if(!n)return null;const s=se(e);return s&&t&&i.setElementAttributes(t,"clipPath"===s.tagName?s.childNodes[0]:s),s}function ZU(n,e,t,i,s="x",r="y"){const o="DIV"===n.tagName,a=(l,h)=>{o?(n.style[s]=l+"px",n.style[r]=h+"px"):(n.setAttribute(s,l+""),n.setAttribute(r,h+""))};a(t.x,t.y),new qt({}).animate(Ve("div"),{duration:e,progress:l=>{a(fo(l.timeStamp,t.x,i.x-t.x,l.duration),fo(l.timeStamp,t.y,i.y-t.y,l.duration))},end:()=>{a(i.x,i.y)}})}function Os(n,e,t,i,s,r=!1,o,a,l=!1,h,c,d,u,p){let y,b,v,C,m={};m={id:e.id,x:e.x,y:e.y,fill:i||"black","font-size":t.size,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":e.anchor,labelRotation:e.labelRotation,transform:e.transform,opacity:t.opacity,"dominant-baseline":e.baseLine};const D=n.createText(m,"string"==typeof e.text?e.text:r?e.text[e.text.length-1]:e.text[0],c?c.x:0,c?c.y:0);if(D.style.fontFamily=t.fontFamily,D.style.fontStyle=t.fontStyle,D.style.fontSize=t.size,D.style.fontWeight=t.fontWeight,D.style.color=t.color,D.style.textAnchor=e.anchor,"string"!=typeof e.text&&e.text.length>1)for(let I=1,O=e.text.length;I<O;I++)b=Le(e.text[I],t).height,v=e.y+(r?-I*b:I*b),C=r?e.text[e.text.length-(I+1)]:e.text[I],p?y=n.createText(m,C,null,null,v,!0):(y=n.createTSpan({x:e.x,id:e.id,y:v},C),D.appendChild(y));return u||lt(n instanceof tj,s,D,o,a,"x","y",null,null,l,!1,null,h),D}function Lw(n){let e=n.element.clientWidth||n.element.offsetWidth,t=n.element.clientHeight;n.stockChart&&(e=n.stockChart.availableSize.width,t=n.stockChart.availableSize.height);let s,i=450;if("rangeNavigator"===n.getModuleName()){const r=n,a=r.periodSelectorSettings.periods.length?r.periodSelectorSettings.height:0;s=r.margin.top+r.margin.bottom+(r.tooltip.enable?35:0);const l=Le("tempString",r.labelStyle).height,h=15;i=(n.series.length?T.isDevice?80:120:(r.enableGrouping?40+h+l:40)+s)+a,r.disableRangeSelector&&(i=a)}n.availableSize=new xt(Ji(n.width,e)||e||600,Ji(n.height,t||i)||t||i)}function w2(n){n.canvasRender=new tj(n.element.id),n.renderer=n.enableCanvas?n.canvasRender:new jo(n.element.id),Lw(n),n.svgObject=n.stockChart&&"chart"===n.getModuleName()?n.stockChart.chartObject:n.stockChart&&"rangeNavigator"===n.getModuleName()?n.stockChart.selectorObject:n.enableCanvas?n.renderer.createCanvas({id:n.element.id+"_canvas",width:n.availableSize.width,height:n.availableSize.height}):n.renderer.createSvg({id:n.element.id+"_svg",width:n.availableSize.width,height:n.availableSize.height})}function Xp(n,e,t){let i=[];switch(e.textOverflow){case"Wrap":i=Rw(n,t,e);break;case"Trim":i.push(Ya(t,n,e));break;default:i.push(n)}return i}function Am(n,e){let t;return t="Near"===e.textAlignment?n.x:"Center"===e.textAlignment?n.x+n.width/2:n.x+n.width,t}function Rw(n,e,t){const i=n.split(" ");let s="";const r=[];let o;for(let a=0,l=i.length;a<l;a++)o=i[a],Le(s.concat(o),t).width<e?s=s.concat((""===s?"":" ")+o):""!==s?(r.push(Ya(e,s,t)),s=o):(r.push(Ya(e,o,t)),o=""),s&&a===l-1&&r.push(Ya(e,s,t));return r}function iD(n,e){const t=n.replace(e," "),i=n.match(e);let s=" ",r=" ",o=0;const a={0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089"},l={0:"\u2070",1:"\xb9",2:"\xb2",3:"\xb3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079"};for(let h=0;h<=t.length-1;h++)if(" "===t[h]){s=i[o].replace(e===vb?/~/g:/\^/g,"");for(let c=0;c<s.length;c++)r+=e===vb?a[s[c]]:l[s[c]];o++}else r+=t[h];return r.trim()}function sD(n){for(let e=0;e<n.annotations.length;e++)K0((n.element.id+"_Annotation_"+e).replace(/[^a-zA-Z0-9]/g,""));K0(n.element.id+"_tooltipparent_template_blazorTemplate"),K0(n.element.id+"_DataLabel")}class dwe{constructor(e,t){this.startValues=e,this.endValues=t}}class us extends nt{constructor(e,t,i,s,r,o,a,l,h){super(e,t,i.width,i.color,s,h),this.y=r.y,this.x=r.x,this.height=r.height,this.width=r.width,this.rx=o||0,this.ry=a||0,this.transform=l||"",this.stroke=0!==i.width&&""!==this.stroke?i.color:"transparent"}}class S2{constructor(e,t,i,s,r,o,a,l){this.height=e,this.width=t,this.href=i,this.x=s,this.y=r,this.id=o,this.visibility=a,this.preserveAspectRatio=l}}class Zp extends nt{constructor(e,t,i,s,r,o,a){super(e,t,i.width,i.color,s),this.cy=o,this.cx=r,this.r=a}}class uwe{constructor(e,t,i){this.id=e,this.points=t,this.fill=i}}class Fe{constructor(e,t){this.x=e,this.y=t}}class Cd{constructor(e,t,i,s){this.left=e,this.right=t,this.top=i,this.bottom=s}}class nD{constructor(e,t,i){this.r=e,this.g=t,this.b=i}}class Tm{constructor(e,t,i=0){this.point=e,this.series=t,this.lierIndex=i}}class _2{constructor(e,t){this.controlPoint1=e,this.controlPoint2=t}}function pwe(n,e){let i,t="";return Number(e)===n.start?t=n.colors[0]:Number(e)===n.end?t=n.colors[n.colors.length-1]:(i=function(n,e){const t=e.start,i=e.end;let s=0;const r=i-t;let o,a,l;if(s=(n-t)/r,e.colors.length<=2)a="#"===e.colors[0].charAt(0)?e.colors[0]:Bl(e.colors[0]),l="#"===e.colors[e.colors.length-1].charAt(0)?e.colors[e.colors.length-1]:Bl(e.colors[e.colors.length-1]);else{a="#"===e.colors[0].charAt(0)?e.colors[0]:Bl(e.colors[0]),l="#"===e.colors[e.colors.length-1].charAt(0)?e.colors[e.colors.length-1]:Bl(e.colors[e.colors.length-1]);const h=r/(e.colors.length-1);let c,d;const u=e.colors.length-1,p=[];let m={};for(let y=1;y<u;y++)d=y*h,c=t+d,m={b:c,color:e.colors[y]},p.push(m);for(let y=0;y<p.length;y++)t<=n&&n<=p[y].b&&0===y?(o="#"===p[y].color.charAt(0)?p[y].color:Bl(p[y].color),l=o,s=n<=p[y].b?1-Math.abs((n-p[y].b)/h):(n-p[y].b)/h):p[y].b<=n&&n<=i&&y===p.length-1&&(o="#"===p[y].color.charAt(0)?p[y].color:Bl(p[y].color),a=o,s=n<p[y].b?1-Math.abs((n-p[y].b)/h):(n-p[y].b)/h),y!==p.length-1&&y<p.length&&p[y].b<=n&&n<=p[y+1].b&&(o="#"===p[y].color.charAt(0)?p[y].color:Bl(p[y].color),a=o,l="#"===p[y+1].color.charAt(0)?p[y+1].color:Bl(p[y+1].color),s=Math.abs(n-p[y+1].b)/h)}return function(n,e,t){const i=t.split("#")[1],s=e.split("#")[1],r=x2(n,parseInt(s.substr(0,2),16),parseInt(i.substr(0,2),16)),o=x2(n,parseInt(s.substr(2,2),16),parseInt(i.substr(2,2),16)),a=x2(n,parseInt(s.substr(4,2),16),parseInt(i.substr(4,2),16));return new nD(r,o,a)}(s,a,l)}(Number(e),n),t=$U(i)),t}function x2(n,e,t){return Math.round(e+(t-e)*n)}class gwe{constructor(e){this.chart=e,this.padding=5}measureAxis(e){const t=this.chart;this.crossAt(t),this.seriesClipRect=new ce(e.x,e.y,e.width,e.height),this.initialClipRect=e,this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.initialClipRect=bd(this.initialClipRect,new Cd(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.initialClipRect=bd(this.initialClipRect,new Cd(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||this.calculateAxisSize(this.initialClipRect),this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.measureRowAxis(t,this.initialClipRect),this.seriesClipRect=bd(this.seriesClipRect,new Cd(this.leftSize,this.rightSize,0,0)),this.measureColumnAxis(t,this.initialClipRect),this.seriesClipRect=bd(this.seriesClipRect,new Cd(0,0,this.topSize,this.bottomSize)),this.chart.delayRedraw||(t.refreshAxis(),this.calculateAxisSize(this.seriesClipRect))}measureRowAxis(e,t){let i;this.calculateRowSize(t);for(const s of e.rows)i=s,i.nearSizes=[],i.farSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new xt(e.availableSize.width,i.computedHeight)),this.leftSize<To(i.nearSizes)&&(this.leftSize=To(i.nearSizes)),this.rightSize<To(i.farSizes)&&(this.rightSize=To(i.farSizes))}measureColumnAxis(e,t){let i;this.calculateColumnSize(t);for(const s of e.columns)i=s,i.farSizes=[],i.nearSizes=[],this.arrangeAxis(i),this.measureDefinition(i,e,new xt(i.computedWidth,e.availableSize.height)),this.bottomSize<To(i.nearSizes)&&(this.bottomSize=To(i.nearSizes)),this.topSize<To(i.farSizes)&&(this.topSize=To(i.farSizes))}measureDefinition(e,t,i){for(const r of e.axes)r.scrollBarHeight=t.scrollBarModule&&t.zoomModule&&t.zoomSettings.enableScrollbar&&r.enableScrollbarOnZooming&&t.zoomModule.isZoomed&&(r.zoomFactor<1||r.zoomPosition>0)?16:0,r.scrollBarHeight=t.scrollBarModule&&(t.zoomModule&&t.zoomSettings.enableScrollbar&&r.enableScrollbarOnZooming&&t.zoomModule.isZoomed&&(r.zoomFactor<1||r.zoomPosition>0)||r.scrollbarSettings.enable)?16:0,r.getModule(t),r.baseModule.calculateRangeAndInterval(i,r),e.computeSize(r,r.scrollBarHeight);e.farSizes.length>0&&(e.farSizes[e.farSizes.length-1]-=10),e.nearSizes.length>0&&(e.nearSizes[e.nearSizes.length-1]-=10)}calculateAxisSize(e){const t=this.chart;let i,s,r,o,c,d,u,a=0,l=0,h=0;this.calculateRowSize(e);for(let p=0,m=t.rows.length;p<m;p++){i=t.rows[p],a=0,l=0;for(let y=0,b=i.axes.length;y<b;y++){if(o=i.axes[y],u=o.plotOffset,0===o.rect.height){o.rect.height=i.computedHeight,h=0;for(let v=p+1,C=p+o.span;v<C;v++)r=t.rows[v],h+=r.computedHeight;o.rect.y=i.computedTop-h+(o.plotOffsetTop?o.plotOffsetTop:u),o.rect.height=o.rect.height+h-this.getAxisOffsetValue(o.plotOffsetTop,o.plotOffsetBottom,o.plotOffset),o.rect.width=0}o.opposedPosition?(c=e.x+e.width+To(Q1(i.farSizes,l)),o.rect.x=o.rect.x>=c?o.rect.x:c,l++):(c=e.x-To(Q1(i.nearSizes,a)),o.rect.x=o.rect.x<=c?o.rect.x:c,a++)}}this.calculateColumnSize(e);for(let p=0,m=t.columns.length;p<m;p++){s=t.columns[p],a=0,l=0;for(let y=0,b=s.axes.length;y<b;y++){if(o=s.axes[y],u=o.plotOffset,0===o.rect.width){for(let v=p,C=p+o.span;v<C;v++)r=t.columns[v],o.rect.width+=r.computedWidth;o.rect.x=s.computedLeft+(o.plotOffsetLeft?o.plotOffsetLeft:u),o.rect.width-=this.getAxisOffsetValue(o.plotOffsetLeft,o.plotOffsetRight,o.plotOffset),o.rect.height=0}o.opposedPosition?(d=e.y-To(Q1(s.farSizes,l)),o.rect.y=o.rect.y<=d?o.rect.y:d,l++):(d=e.y+e.height+To(Q1(s.nearSizes,a)),o.rect.y=o.rect.y>=d?o.rect.y:d,a++)}}}measure(){const e=this.chart;let t,i,s,r,o;for(const a of e.axisCollections)if("Vertical"===a.orientation){e.verticalAxes.push(a),r=this.getActualRow(a),t=e.rows[r],this.pushAxis(t,a),o=r+a.span>e.rows.length?e.rows.length:r+a.span;for(let l=r+1;l<o;l++)s=e.rows[l],s.axes[t.axes.length-1]=a,e.rows[l]=s;e.rows[r]=t}else{e.horizontalAxes.push(a),r=this.getActualColumn(a),i=e.columns[r],this.pushAxis(i,a),o=r+a.span>e.columns.length?e.columns.length:r+a.span;for(let l=r+1;l<o;l++)s=e.columns[l],s.axes[i.axes.length-1]=a,e.columns[l]=s;e.columns[r]=i}}getAxisOffsetValue(e,t,i){return e?e+(t||i):t?t+i:2*i}crossAt(e){for(const t of e.axisCollections)if(null!==t.crossesAt){if(!t.crossesInAxis){t.crossInAxis=e.requireInvertedAxis?"Horizontal"===t.orientation?e.primaryXAxis:e.primaryYAxis:"Horizontal"===t.orientation?e.primaryYAxis:e.primaryXAxis,t.crossAt=this.updateCrossAt(t.crossInAxis,t.crossesAt);continue}for(let i=2,s=e.axisCollections.length;i<s;i++)if(t.crossesInAxis===e.axisCollections[i].name){t.crossInAxis=e.axisCollections[i],t.crossAt=this.updateCrossAt(t.crossInAxis,t.crossesAt);continue}}}updateCrossAt(e,t){switch(e.valueType){case"DateTime":const i={skeleton:"full",type:"dateTime"},s=this.chart.intl.getDateParser(i),r=this.chart.intl.getDateFormat(i);return Date.parse(s(r(new Date(me.parse.parseJson({val:t}).val))));case"Category":return parseFloat(t)?parseFloat(t):e.labels.indexOf(t);case"Logarithmic":return ta(t,e.logBase);default:return t}}pushAxis(e,t){for(let i=0,s=e.axes.length;i<=s;i++)if(!e.axes[i]){e.axes[i]=t;break}}arrangeAxis(e){const t=[];for(let i=0,s=e.axes.length;i<=s;i++)e.axes[i]&&t.push(e.axes[i]);e.axes=t}getActualColumn(e){const t=this.chart.columns.length,i=e.columnIndex;return i>=t?t-1:i<0?0:i}getActualRow(e){const t=this.chart.rows.length,i=e.rowIndex;return i>=t?t-1:i<0?0:i}calculateRowSize(e){const t=this.chart;let i,s=e.y+e.height,r=0,o=Math.max(0,e.height);for(let a=0,l=t.rows.length;a<l;a++)i=t.rows[a],r=-1!==i.height.indexOf("%")?Math.min(o,e.height*parseInt(i.height,10)/100):Math.min(o,parseInt(i.height,10)),r=a!==l-1?r:o,i.computedHeight=r,s-=r,i.computedTop=s,o-=r}calculateColumnSize(e){const t=this.chart;let i,s=e.x,r=0,o=Math.max(0,e.width);for(let a=0,l=t.columns.length;a<l;a++)i=t.columns[a],r=-1!==i.width.indexOf("%")?Math.min(o,e.width*parseInt(i.width,10)/100):Math.min(o,parseInt(i.width,10)),r=a!==l-1?r:o,i.computedWidth=r,i.computedLeft=s,s+=r,o-=r}renderAxes(){const e=this.chart;let t;const i=e.renderer.createGroup({id:e.element.id+"AxisInsideCollection"}),s=e.renderer.createGroup({id:e.element.id+"AxisOutsideCollection"});let r,o;for(let a=0,l=e.axisCollections.length;a<l;a++)t=e.axisCollections[a],this.element=e.renderer.createGroup({id:e.element.id+"AxisGroup"+a+"Inside"}),r=e.renderer.createGroup({id:e.element.id+"AxisGroup"+a+"Outside"}),o=this.findAxisPosition(t),"Horizontal"===t.orientation?(t.updateCrossValue(),t.visible&&t.internalVisibility&&t.lineStyle.width>0&&this.drawAxisLine(t,a,t.plotOffset,0,o?r:this.element,t.updatedRect),(t.majorGridLines.width>0||t.majorTickLines.width>0)&&this.drawXAxisGridLine(t,a,o||"Inside"===t.tickPosition?r:this.element,t.updatedRect),t.visible&&t.internalVisibility&&(this.drawXAxisLabels(t,a,o||"Inside"===t.labelPosition?r:this.element,t.placeNextToAxisLine?t.updatedRect:t.rect),this.drawXAxisBorder(t,a,o||"Inside"===t.labelPosition?r:this.element,t.placeNextToAxisLine?t.updatedRect:t.rect),this.drawXAxisTitle(t,a,o?r:this.element,t.placeNextToAxisLine?t.updatedRect:t.rect))):(t.updateCrossValue(),t.visible&&t.internalVisibility&&t.lineStyle.width>0&&this.drawAxisLine(t,a,0,t.plotOffset,o?r:this.element,t.updatedRect),(t.majorGridLines.width>0||t.majorTickLines.width>0)&&this.drawYAxisGridLine(t,a,o||"Inside"===t.tickPosition?r:this.element,t.updatedRect),t.visible&&t.internalVisibility&&(this.drawYAxisLabels(t,a,o||"Inside"===t.labelPosition?r:this.element,t.placeNextToAxisLine?t.updatedRect:t.rect),this.drawYAxisBorder(t,a,o||"Inside"===t.labelPosition?r:this.element,t.placeNextToAxisLine?t.updatedRect:t.rect),this.drawYAxisTitle(t,a,o?r:this.element,t.placeNextToAxisLine?t.updatedRect:t.rect))),this.chart.enableCanvas||(i.appendChild(this.element),r&&r.childNodes.length>0&&s.appendChild(r)),e.scrollBarModule&&(e.zoomSettings.enableScrollbar&&t.enableScrollbarOnZooming||t.scrollbarSettings.enable)&&this.renderScrollbar(e,t);this.element=e.renderer.createGroup({id:e.element.id+"DefinitionLine"});for(let a=0,l=e.rows.length;a<l;a++){const h=e.rows[a];h.border.color&&this.drawBottomLine(h,a,!0)}for(let a=0,l=e.columns.length;a<l;a++){const h=e.columns[a];h.border.color&&this.drawBottomLine(h,a,!1)}return this.chart.enableCanvas||i.appendChild(this.element),lt(e.enableCanvas,e.svgObject,i,e.redraw),s}renderScrollbar(e,t){(!f(e.zoomModule)&&e.zoomModule.isZoomed&&(t.zoomFactor<1||t.zoomPosition>0)||t.scrollbarSettings.enable&&(t.zoomFactor<=1||t.zoomPosition>=0))&&(!t.zoomingScrollBar.isScrollUI||e.visibleSeries[0].type.indexOf("Bar")>=0)?(e.scrollElement||(e.scrollElement=hl(e.redraw,e.element.id+"_scrollElement")||Ve("div",{id:e.element.id+"_scrollElement"})),lt(!1,e.scrollElement,t.zoomingScrollBar.render(!0),!0)):1===t.zoomFactor&&0===t.zoomPosition&&t.zoomingScrollBar.svgObject&&!t.scrollbarSettings.enable&&t.zoomingScrollBar.destroy(),t.zoomingScrollBar.isScrollUI&&(t.zoomingScrollBar.isScrollUI=!1)}findAxisPosition(e){return null!==e.crossAt&&e.isInside(e.crossInAxis.visibleRange)}drawBottomLine(e,t,i){const s=this.chart;let o,a,l,h,c,r={};i?(l=h=(e=e).computedTop+e.computedHeight,o=this.seriesClipRect.x,a=o+this.seriesClipRect.width,c="Row"):(o=a=(e=e).computedLeft,l=this.seriesClipRect.y,h=l+this.seriesClipRect.height,c="Column"),r={id:s.element.id+"_AxisBottom_"+c+t,x1:o,y1:l,x2:a,y2:h,"stroke-width":e.border.width,stroke:e.border.color},this.htmlObject=s.renderer.drawLine(r),this.element.appendChild(this.htmlObject)}drawAxisLine(e,t,i,s,r,o){const a=this.chart;let l={},h=se(a.element.id+"AxisLine_"+t);const c=h?h.getAttribute("d"):"";h=null,l={id:a.element.id+"AxisLine_"+t,d:"M "+(o.x-i)+" "+(o.y-s)+" L "+(o.x+o.width+i)+" "+(o.y+o.height+s),"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||a.themeStyle.axisLine},this.htmlObject=a.renderer.drawPath(l),lt(a.enableCanvas,r,this.htmlObject,a.redraw,!0,"x","y",null,c)}drawYAxisGridLine(e,t,i,s){const r="Logarithmic"===e.valueType,o=e.valueType.indexOf("Category")>-1;let a,d,l=0,h="",c="";const u=e.opposedPosition?e.majorTickLines.height:-e.majorTickLines.height,p=e.opposedPosition?.5*e.lineStyle.width:.5*-e.lineStyle.width,m="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0,y=f(e.crossesAt)?e.opposedPosition?e.scrollBarHeight:-e.scrollBarHeight:0,b="Inside"===e.tickPosition,v=b?s.x-u-p:s.x+u+p+y;let C=e.visibleLabels.length;const w=this.chart.themeStyle;e.valueType.indexOf("Category")>-1&&"BetweenTicks"===e.labelPlacement&&C>0&&(C+=1);const _=e.minorGridLines,k=e.minorTickLines;for(let D=0;D<C;D++)a=e.visibleLabels[D]?e.visibleLabels[D].value-m:e.visibleLabels[D-1].value+e.visibleRange.interval-m,l=zi(a,e)*s.height,l=-1*l+(s.y+s.height),l>=s.y&&s.y+s.height>=l&&((Eb(a,e.visibleRange)||this.isBorder(e,D,l))&&(h="M "+this.seriesClipRect.x+" "+l+" L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+l,this.renderGridLine(e,t,h,e.majorGridLines,"_MajorGridLine_",D,this.element,w.majorGridLine,e.majorGridLines.dashArray)),c="M "+(s.x+p+(b?y:0))+" "+l+" L "+v+" "+l,this.renderGridLine(e,t,c,e.majorTickLines,"_MajorTickLine_",D,i,w.majorTickLine),(_.width>0||k.width>0)&&e.minorTicksPerInterval>0&&(0===D&&kb(e)&&!r&&!o&&this.renderMinorGridOnZooming(e,a,s,D,t,w,i),d=this.drawAxisMinorLine(e,a,s,D),this.renderGridLine(e,t,d[0],_,"_MinorGridLine_",D,this.element,w.minorGridLine,_.dashArray),this.renderGridLine(e,t,d[1],k,"_MinorTickLine_",D,i,w.minorTickLine),D===C-1&&kb(e)&&r&&!o&&this.renderMinorGridOnZooming(e,a+e.visibleRange.interval,s,D,t,w,i)))}isBorder(e,t,i){const s=this.chart.chartArea.border,r=this.seriesClipRect,o=e.orientation,a="Horizontal"===o?r.x:r.y,l="Horizontal"===o?r.width:r.height;return e.plotOffset>0||(i===a||i===a+l)&&(s.width<=0||"transparent"===s.color)||i!==a&&t===("Horizontal"===o?0:e.visibleLabels.length-1)||i!==a+l&&t===("Horizontal"===o?e.visibleLabels.length-1:0)}drawYAxisLabels(e,t,i,s){const r=this.chart;let l,c,d,o=0,a=0;const u="Inside"===e.labelPosition,p=e.opposedPosition;let y=(e.labelPosition===e.tickPosition?e.majorTickLines.height:0)+e.labelPadding+.5*e.lineStyle.width;y=e.opposedPosition?y:-y;let b=p&&u||!p&&!u?"end":"start";b=r.isRtlEnabled?e.opposedPosition?"end":"start":b;const v=r.renderer.createGroup({id:r.element.id+"AxisLabels"+t}),C=f(e.crossesAt)?e.scrollBarHeight*(p?1:-1):0;let w,_,k;for(let I=0,O=e.visibleLabels.length;I<O;I++){d=_b(e.visibleLabels[I].originalText),o=u?s.x-y:s.x+y+C,l=d?e.visibleLabels[I].breakLabelSize:e.visibleLabels[I].size,a=zi(e.visibleLabels[I].value,e)*s.height+(r.stockChart?7:0),a=Math.floor(-1*a+(s.y+s.height)),w=l.height/8*e.visibleLabels[I].text.length/2,_=l.height/4*3+3,a=d?"Inside"===e.labelPosition?a-l.height/2-w+_:a-w:"Inside"===e.labelPosition?a+_:a+l.height/4,k=e.majorGridLines.width>e.majorTickLines.width?e.majorGridLines.width:e.majorTickLines.width,"Far"===e.labelStyle.textAlignment?a=a-k-10:"Near"===e.labelStyle.textAlignment?a=a+k+10:"Center"===e.labelStyle.textAlignment&&(a=a),o=d?this.getAxisLabelXvalue(o,e,l.width):o;const N=d?this.getAnchor(e):b;if(c=new bs(r.element.id+t+"_AxisLabel_"+I,o,a,N,e.visibleLabels[I].text),e.edgeLabelPlacement)switch(e.edgeLabelPlacement){case"None":break;case"Hide":((0===I||e.isInversed&&I===O-1)&&c.y>s.y+s.height||(I===O-1||e.isInversed&&0===I)&&c.y-.5*l.height<s.y)&&(c.text="");break;case"Shift":(0===I||e.isInversed&&I===O-1)&&c.y>s.y+s.height?c.y=a=s.y+s.height:(I===O-1||e.isInversed&&0===I)&&c.y-.5*l.height<s.y&&(c.y=a=s.y+.5*l.height)}Os(r.renderer,c,e.labelStyle,e.labelStyle.color||r.themeStyle.axisLabel,v,!1,r.redraw,!0,!0,null,null,0,null,r.enableCanvas)}this.chart.enableCanvas||(r.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,v,e,t,s):lt(r.enableCanvas,i,v,r.redraw))}getAxisLabelXvalue(e,t,i){const s=t.lineBreakAlignment,r="Inside"===t.labelPosition,o=t.opposedPosition;return o&&r||!o&&!r?"Right"===s?e:"Center"===s?e-i/2:e-i:"Left"===s?e:"Center"===s?e+i/2:e+i}drawYAxisBorder(e,t,i,s){if(e.border.width>0){let r,o,a="Outside"===e.labelPosition?e.scrollBarHeight:0;a*=e.opposedPosition?1:-1;const l=s.height/e.visibleRange.delta*("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval);let h;const c=e.maxLabelSize.width+10+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0);let d="";const u="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?-.5:0,p=e.opposedPosition&&"Inside"===e.labelPosition||!e.opposedPosition&&"Outside"===e.labelPosition?s.x-c+a:s.x+c+a;for(let m=0,y=e.visibleLabels.length;m<y;m++)switch(o=zi(e.visibleLabels[m].value+u,e),o=(e.isInversed?1-o:o)*s.height,"Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?(r=-1*o+(s.y+s.height),h=-1*o-l+(s.y+s.height)):(r=-1*o+l/2+(s.y+s.height),h=-1*o-l/2+(s.y+s.height)),e.border.type){case"Rectangle":case"WithoutTopBorder":r>s.y+s.height?d+="M "+p+" "+(s.y+s.height)+" L "+p+" "+h+" ":Math.floor(s.y)>h?d+="M "+(s.x+a)+" "+r+" L "+p+" "+r+" L "+p+" "+s.y+" ":(d+="M "+(s.x+a)+" "+r+" L "+p+" "+r+" L "+p+" "+h+" ",m===e.visibleLabels.length-1&&(d+="M "+(s.x+a)+" "+h+" L "+p+" "+h+" "));break;case"WithoutTopandBottomBorder":!(r>s.y+s.height)&&!(h<Math.floor(s.y))&&(d+="M "+(s.x+a)+" "+r+" L "+p+" "+r+" M "+p+" "+h+" L "+(s.x+a)+" "+h)}d+="Rectangle"===e.border.type?"M "+(s.x+a)+" "+s.y+" L "+(s.x+a)+" "+(s.y+s.height)+" ":"",""!==d&&this.createAxisBorderElement(e,t,d,i)}e.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule&&this.chart.multiLevelLabelModule.renderYAxisMultiLevelLabels(e,t,i,s)}drawYAxisTitle(e,t,i,s){if(e.title){const r=this.chart,o=e.opposedPosition?90:-90;let a=("Inside"===e.tickPosition?0:e.majorTickLines.height+e.titlePadding)+("Inside"===e.labelPosition?0:e.maxLabelSize.width+e.multiLevelLabelHeight+this.padding);a=e.opposedPosition?a+e.scrollBarHeight:-a-e.scrollBarHeight;const l=s.x+a,h=s.y+.5*s.height,d=new bs(r.element.id+"_AxisTitle_"+t,l,h-e.labelPadding-e.titleSize.height*(e.titleCollection.length-1),"middle",e.titleCollection,"rotate("+o+","+l+","+h+")",null,o),u=Os(r.renderer,d,e.titleStyle,e.titleStyle.color||r.themeStyle.axisTitle,i,null,null,null,null,null,null,0,null,r.enableCanvas);u.setAttribute("tabindex",e.tabIndex.toString()),u.setAttribute("aria-label",e.description||e.title)}}drawXAxisGridLine(e,t,i,s){const r="Logarithmic"===e.valueType,o=e.valueType.indexOf("Category")>-1;let a,d,l=0,h="",c="";const u=e.opposedPosition?-e.majorTickLines.height:e.majorTickLines.height,p=e.opposedPosition?.5*-e.lineStyle.width:.5*e.lineStyle.width,m=f(e.crossesAt)?e.opposedPosition?-e.scrollBarHeight:e.scrollBarHeight:0,y=e.valueType.indexOf("Category")>-1&&"BetweenTicks"===e.labelPlacement?.5:0;let b=e.visibleLabels.length;const v="Inside"===e.tickPosition,C=v?s.y-u-p:s.y+u+p+m,w=this.chart.themeStyle;e.valueType.indexOf("Category")>-1&&b>0&&"BetweenTicks"===e.labelPlacement&&(b+=1);for(let _=0;_<b;_++)a="DateTimeCategory"!==e.valueType?e.visibleLabels[_]?e.visibleLabels[_].value-y:e.visibleLabels[_-1].value+e.visibleRange.interval-y:e.visibleLabels[_]?e.visibleLabels[_].value-y:e.visibleRange.max,l=zi(a,e)*s.width+s.x,l>=s.x&&s.x+s.width>=l&&((Eb(a,e.visibleRange)||this.isBorder(e,_,l))&&(h="M "+l+" "+(this.seriesClipRect.y+this.seriesClipRect.height)+" L "+l+" "+this.seriesClipRect.y,this.renderGridLine(e,t,h,e.majorGridLines,"_MajorGridLine_",_,this.element,w.majorGridLine,e.majorGridLines.dashArray)),c="M "+l+" "+(s.y+p+(v?m:0))+" L "+l+" "+C,this.renderGridLine(e,t,c,e.majorTickLines,"_MajorTickLine_",_,i,w.majorTickLine),e.minorTicksPerInterval>0&&(e.minorGridLines.width>0||e.minorTickLines.width>0)&&(0===_&&kb(e)&&!r&&!o&&this.renderMinorGridOnZooming(e,a,s,_,t,w,i),d=this.drawAxisMinorLine(e,a,s,_),this.renderGridLine(e,t,d[0],e.minorGridLines,"_MinorGridLine_",_,this.element,w.minorGridLine,e.minorGridLines.dashArray),this.renderGridLine(e,t,d[1],e.minorTickLines,"_MinorTickLine_",_,i,w.minorTickLine),_===b-1&&kb(e)&&r&&!o&&this.renderMinorGridOnZooming(e,a+e.visibleRange.interval,s,_,t,w,i)))}renderMinorGridOnZooming(e,t,i,s,r,o,a){const l=this.drawAxisMinorLine(e,t,i,s,!0);this.renderGridLine(e,r,l[0],e.minorGridLines,"_MinorGridLine_",-1,this.element,o.minorGridLine,e.minorGridLines.dashArray),this.renderGridLine(e,r,l[1],e.minorTickLines,"_MinorTickLine_",-1,a,o.minorTickLine)}drawAxisMinorLine(e,t,i,s,r){let o=t,a=0,l=0;const h=e.visibleRange,c="Inside"===e.tickPosition,d=[],u=e.opposedPosition?-e.minorTickLines.height:e.minorTickLines.height;let p,m,y=1,b=1;const v=c?i.y-u:i.y+u,C=c?i.x+u:i.x-u;let w="",_="";if("Logarithmic"===e.valueType&&(p=Math.pow(e.logBase,o-h.interval),m=Math.pow(e.logBase,o),y=(m-p)/(e.minorTicksPerInterval+1),b=p+y),"Horizontal"===e.orientation)for(let k=0;k<e.minorTicksPerInterval;k++)o=this.findLogNumeric(e,b,o,s,r),b+=y,Eb(o,h)&&(l=(o-h.min)/(h.max-h.min),l=Math.ceil((e.isInversed?1-l:l)*i.width),a=Math.floor(l+i.x),w=w.concat("M "+a+" "+this.seriesClipRect.y+"L "+a+" "+(this.seriesClipRect.y+this.seriesClipRect.height)),a=Math.floor(l+i.x),_=_.concat("M "+a+" "+i.y+"L "+a+" "+(v+e.scrollBarHeight)));else for(let k=0;k<e.minorTicksPerInterval;k++)o=this.findLogNumeric(e,b,o,s,r),Eb(o,h)&&(l=(o-h.min)/(h.max-h.min),l=-1*Math.ceil((e.isInversed?1-l:l)*i.height),a=Math.floor(l+i.y+i.height),w=w.concat("M "+this.seriesClipRect.x+" "+a+"L "+(this.seriesClipRect.x+this.seriesClipRect.width)+" "+a+" "),a=Math.floor(l+i.y+i.height),_=_.concat("M "+i.x+" "+a+"L "+(C-e.scrollBarHeight)+" "+a+" ")),b+=y;return d.push(w),d.push(_),d}findLogNumeric(e,t,i,s,r){const o=e.visibleRange;let a;if("Logarithmic"===e.valueType)i=ta(t,e.logBase);else if("DateTime"===e.valueType)a=e.dateTimeInterval/(e.minorTicksPerInterval+1),i=r?i-a:i+a;else if("DateTimeCategory"===e.valueType){const l="BetweenTicks"===e.labelPlacement?.5:0;i+=((e.visibleLabels[s+1]?e.visibleLabels[s+1].value-l:e.visibleRange.max)-(e.visibleLabels[s]?e.visibleLabels[s].value-l:e.visibleRange.min))/(e.minorTicksPerInterval+1)}else a=o.interval/(e.minorTicksPerInterval+1),i=r?i-a:i+a;return i}drawXAxisLabels(e,t,i,s){const r=this.chart;let o=0,a=0;const l=e.labelPadding;let h,c,d,u;const m=r.renderer.createGroup({id:r.element.id+"AxisLabels"+t}),y="Inside"===e.labelPosition,b=e.opposedPosition,v=e.labelPosition===e.tickPosition?e.majorTickLines.height:0;let C=v+l+.5*e.lineStyle.width;const w=e.angle%360,_=0===w||-180===w||180===w;let k,D,I=e.isInversed?s.x+s.width:s.x,O=0;const N=e.visibleLabels.length;let X,H,q;const G=e.scrollbarSettings.enable||!y&&f(e.crossesAt)&&(e.zoomFactor<1||e.zoomPosition>0)?e.scrollBarHeight:0,A=[];let R=!1;C+=90===w||270===w||-90===w||-270===w?y?5:-5:0;const P=!b&&!y||b&&y,M=P?360>=w&&w>=180||-1>=w&&w>=-180:1<=w&&w<=180||-181>=w&&w>=-360;for(let L=0,V=N;L<V;L++){H=e.visibleLabels[L],q=_b(H.originalText),o=zi(H.value,e)*s.width+s.x,c=H.size,X=s.width/N,D=q?H.breakLabelSize.width:c.width,O=("Trim"===e.labelIntersectAction||"Wrap"===e.labelIntersectAction)&&0===w&&D>X?X:D,h=c.height/4,o-=q||0!==w?0:O/2,0!==w&&(o-=q?"Left"===e.lineBreakAlignment?H.breakLabelSize.width/2:"Right"===e.lineBreakAlignment?-H.breakLabelSize.width/2:0:-90===w||270===w?-h:90===w||-270===w?h:0),"Far"===e.labelStyle.textAlignment?o=o+O-10:"Near"===e.labelStyle.textAlignment?o=o-O+10:"Center"===e.labelStyle.textAlignment&&(o=o),q&&"Center"!==e.lineBreakAlignment&&0===w&&(o+="Left"===e.lineBreakAlignment?-O/2:O/2);const te=q?_?c.height:H.breakLabelSize.width/2:0;if(C=q?v+l+.5*e.lineStyle.width:C,y&&w?a=q?b?s.y+C+te:s.y-C-te:b?s.y+C+h:s.y-C-h:(d=q?P?C+G+(w?te:3*h):-(C+G+te):P?C+G+(w?1:3)*h:-(C+G+(w?h:H.index>1?2*h:0)),a=s.y+d*H.index),u=q?this.getAnchor(e):r.isRtlEnabled||M?"end":"",k=new bs(r.element.id+t+"_AxisLabel_"+L,o,a,u),e.edgeLabelPlacement&&0===w)switch(e.edgeLabelPlacement){case"None":break;case"Hide":if((0===L||e.isInversed&&L===V-1)&&k.x<s.x||(L===V-1||e.isInversed&&0===L)&&k.x+O>s.x+s.width)continue;break;case"Shift":(0===L||e.isInversed&&L===V-1)&&k.x<s.x?(X-=s.x-k.x,k.x=o=s.x):(L===V-1||e.isInversed&&0===L)&&k.x+O>s.x+s.width&&(c.width>X&&"Trim"===e.labelIntersectAction?X-=k.x+O-(s.x+s.width):X=O,k.x=o=s.x+s.width-X)}let pe,ae;if(k.text=this.getLabelText(H,e,X),q&&0===w?"Right"===e.lineBreakAlignment?(pe=k.x-O,ae=k.x):"Center"===e.lineBreakAlignment?(pe=k.x-O/2,ae=k.x+O/2):(pe=k.x,ae=k.x+O):(pe=k.x,ae=k.x+O),0!==w||"Hide"!==e.labelIntersectAction||0===L||!(e.isInversed?ae>=I:pe<=I)){if(I=q?"Right"===e.lineBreakAlignment?e.isInversed?k.x-O:k.x:"Center"===e.lineBreakAlignment?e.isInversed?k.x-O/2:k.x+O/2:e.isInversed?k.x:k.x+O:e.isInversed?k.x:k.x+O,0!==w){let Oe,Te;if(q){let Y=0,ge=0;Oe=H.breakLabelSize.height,ge=H.breakLabelSize.height-4,"Center"===e.lineBreakAlignment?Y=-H.breakLabelSize.width/2:"Right"===e.lineBreakAlignment&&(Y=-H.breakLabelSize.width),P&&(ge=H.breakLabelSize.height/(k.text.length+1)),Te=new ce(k.x+Y,k.y-ge,H.breakLabelSize.width,Oe)}else Oe=a-(k.y-(H.size.height/2+10)),Te=new ce(k.x,k.y-(H.size.height/2-5),H.size.width,Oe);const Ge=this.getRectanglePoints(Te),ve=q?Te.x+Te.width/2:o,j=q?Te.y+Te.height/2:a-Oe/2;k.transform=q?"rotate("+w+","+ve+","+j+")":"rotate("+w+","+o+","+a+")",A.push(jU(Ge,ve,j,w)),R=!1;for(let Y=L;Y>0;Y--)if(A[L]&&A[Y-1]&&zU(A[L],A[Y-1])){R=!0,A[L]=null;break}}Os(r.renderer,k,H.labelStyle,H.labelStyle.color||r.themeStyle.axisLabel,m,e.opposedPosition!==("Inside"===e.labelPosition),r.redraw,!0,null,null,null,0,R,r.enableCanvas)}}this.chart.enableCanvas||(r.delayRedraw?e.visible&&e.internalVisibility&&this.createZoomingLabel(this.chart,m,e,t,s):i.appendChild(m))}getAnchor(e){return"Center"===e.lineBreakAlignment?"middle":"Left"===e.lineBreakAlignment?"start":"end"}getRectanglePoints(e){return[new Fe(e.x,e.y),new Fe(e.x+e.width,e.y),new Fe(e.x+e.width,e.y+e.height),new Fe(e.x,e.y+e.height)]}getLabelText(e,t,i){if(_b(e.originalText)){const s=[];let r;for(let o=0;o<e.text.length;o++)r=this.findAxisLabel(t,e.text[o],i),s.push(r);return s}return this.findAxisLabel(t,e.text,i)}drawXAxisBorder(e,t,i,s){if(e.border.width>0){const r="Outside"===e.labelPosition?e.scrollBarHeight:0;let o;const a=s.y+(e.opposedPosition?-1:1)*r,l=10;let h;const c=s.width/e.visibleRange.delta*("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval);let d;const u=e.maxLabelSize.height+(e.tickPosition===e.labelPosition?e.majorTickLines.height:0);let p="";const m="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?-.5:0,y=e.opposedPosition&&"Inside"===e.labelPosition||!e.opposedPosition&&"Outside"===e.labelPosition?s.y+u+l+r:s.y-u-l-r;for(let b=0,v=e.visibleLabels.length;b<v;b++)switch(h=zi(e.visibleLabels[b].value+m,e),h=(e.isInversed?1-h:h)*s.width,"Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?(o=h+s.x,d=h+c+s.x):(o=h-.5*c+s.x,d=h+.5*c+s.x),e.border.type){case"Rectangle":case"WithoutTopBorder":o<s.x?p+="M "+s.x+" "+y+" L "+d+" "+y+" ":Math.floor(d)>s.width+s.x&&1!==e.visibleLabels.length?p+="M "+o+" "+a+" L "+o+" "+y+" L "+(s.width+s.x)+" "+y+" ":(p+="M "+o+" "+a+" L "+o+" "+y+" L "+d+" "+y+" ",0===b&&(p+="M "+o+" "+a+" L "+o+" "+y+" M "+o+" "+y+" L "+s.x+" "+y),b===e.visibleLabels.length-1&&(p+="M "+d+" "+a+" L "+d+" "+y+" M "+d+" "+y+" L "+(s.width+s.x)+" "+y));break;case"WithoutTopandBottomBorder":!(o<s.x)&&!(Math.floor(d)>s.width+s.x)&&(p+="M "+o+" "+a+" L "+o+" "+y+" M "+d+" "+a+" L "+d+" "+y)}p+="Rectangle"===e.border.type?"M  "+s.x+" "+a+"L "+(s.x+s.width)+" "+a:"",""!==p&&this.createAxisBorderElement(e,t,p,i)}this.chart.multiLevelLabelModule&&e.multiLevelLabels.length>0&&this.chart.multiLevelLabelModule.renderXAxisMultiLevelLabels(e,t,i,s)}createAxisBorderElement(e,t,i,s){const r=se(this.chart.element.id+"_BorderLine_"+t),o=r?r.getAttribute("d"):"",a=this.chart.renderer.drawPath(new nt(this.chart.element.id+"_BorderLine_"+t,"transparent",e.border.width,e.border.color||this.chart.themeStyle.axisLine,1,"",i));a.setAttribute("style","pointer-events: none"),lt(this.chart.enableCanvas,s,a,this.chart.redraw,!0,"x","y",null,o,!0)}findAxisLabel(e,t,i){return"Trim"!==e.labelIntersectAction||e.angle%360!=0||e.enableTrim?t:Ya(i,t,e.labelStyle)}drawXAxisTitle(e,t,i,s){if(e.title){const r=this.chart,o=Le(e.title,e.titleStyle),a=f(e.crossesAt)?e.scrollBarHeight:0;let l=("Inside"===e.tickPosition?0:e.majorTickLines.height+e.titlePadding)+("Inside"===e.labelPosition?0:e.maxLabelSize.height+e.multiLevelLabelHeight+e.labelPadding);const h=e.titleSize.height*(e.titleCollection.length-1);l=e.opposedPosition?-(l+o.height/4+a+h):l+3*o.height/4+a;const c=new bs(r.element.id+"_AxisTitle_"+t,s.x+.5*s.width,s.y+l,"middle",e.titleCollection),d=Os(r.renderer,c,e.titleStyle,e.titleStyle.color||r.themeStyle.axisTitle,i,null,null,null,null,null,null,0,null,r.enableCanvas);d.setAttribute("aria-label",e.description||e.title),d.setAttribute("tabindex",e.tabIndex.toString())}}renderGridLine(e,t,i,s,r,o,a,l,h=null){const c=this.chart;let d,u;s.width>0&&e.visible&&e.internalVisibility&&i&&(u=se(c.element.id+r+t+"_"+o),d=u?u.getAttribute("d"):null,u=null,this.htmlObject=c.renderer.drawPath(new nt(c.element.id+r+t+"_"+o,"transparent",s.width,s.color||l,null,h,i)),lt(c.enableCanvas,a,this.htmlObject,c.redraw,!0,"x","y",null,d,!0))}findParentNode(e,t,i){return document.getElementById(e+"AxisGroup"+i+"Inside").contains(document.getElementById(t.id))?document.getElementById(e+"AxisGroup"+i+"Inside"):document.getElementById(e+"AxisGroup"+i+"Outside")}createZoomingLabel(e,t,i,s,r){const o=this.findParentNode(e.element.id,t,s);t.setAttribute("opacity","0.3");let a=e.renderer.createGroup({id:e.element.id+"AxisLabels_Zoom"+s});a=function(n,e,t,i,s,r){const a=e.opposedPosition,l=s?"start":"auto";let h;const c=n.availableSize.width;let d,u,m,y;const b=e.scrollbarSettings.enable||e.zoomingScrollBar&&e.zoomingScrollBar.svgObject?e.scrollBarHeight:0;for(let v=0;v<2;v++)h=Le(v?e.endLabel:e.startLabel,e.labelStyle),s?(m=v?new Fe(r.x-b,r.y+3):new Fe(e.rect.x-b,r.y+r.height-3),d=r.x+(a?r.width+5+b:-(h.width+5+5+b)),u=r.y+(v?0:r.height-h.height-5),d+=d<0||c<d+h.width+5?a?-h.width/2:h.width/2:0,y=Yx(3,3,new ce(d,u,h.width+5,h.height+5),m,5,!1,!1,!a,m.x,m.y+(v?-3:3))):(m=new Fe(v?r.x+r.width-3:r.x+3,r.y+r.height+b),d=r.x+(v?r.width-h.width-5:0),u=a?r.y-h.height-10-b:r.y+r.height+5+b,y=Yx(3,3,new ce(d,u,h.width+5,h.height+5),m,5,a,!a,!1,m.x+(v?3:-3),m.y)),d+=2.5,u=u+h.height/4*3+2.5,t.appendChild(n.renderer.drawPath(new nt(n.element.id+"_Zoom_"+i+"_AxisLabel_Shape_"+v,n.themeStyle.crosshairFill,2,n.themeStyle.crosshairFill,1,null,y))),Os(n.renderer,new bs(n.element.id+"_Zoom_"+i+"_AxisLabel_"+v,d,u,l,v?e.endLabel:e.startLabel),{color:n.themeStyle.crosshairLabel,fontFamily:"Segoe UI",fontWeight:"Regular",size:"11px"},n.themeStyle.crosshairLabel,t);return t}(e,i,a,s,"Vertical"===i.orientation,r),o.replaceChild(t,document.getElementById(t.id)),se(e.element.id+"AxisLabels_Zoom"+s)?o.replaceChild(a,document.getElementById(a.id)):o.appendChild(a)}}class Iw{constructor(e){this.currentPoints=[],this.previousPoints=[],this.insideRegion=!1,this.chart=e,this.lierIndex=0}getData(){const e=this.chart;let s,r,o,a,t=null,i=null;for(let h=e.visibleSeries.length-1;h>=0;h--){if(i=e.visibleSeries[h],s="Scatter"===i.type||"Scatter"===i.drawType||i.marker.visible?(i.marker.height+5)/2:0,r="Scatter"===i.type||"Scatter"===i.drawType||i.marker.visible?(i.marker.width+5)/2:0,o=e.mouseX,a=e.mouseY,i.dragSettings.enable&&i.isRectSeries)if("Bar"===i.type&&e.isTransposed||!e.isTransposed&&"Bar"!==i.type){const c=i.marker.height/2;a=i.yAxis.isInversed?a-c:a+c}else{const c=i.marker.width/2;o=i.yAxis.isInversed?o+c:o-c}if(i.visible&&zs(o,a,i.clipRect,s,r)&&(t=this.getRectPoint(i,i.clipRect,o,a)),t)return new Tm(t,i)}return new Tm(t,i)}isSelected(e){return(e.selectionMode.indexOf("Drag")>-1||e.selectionMode.indexOf("Lasso")>-1)&&e.selectionModule&&null!==e.selectionModule.rectPoints}getRectPoint(e,t,i,s){let o,a,l,c,d,u,h=0;if(this.chart.isScrolling)return null;for(const p of e.points)if(p.regionData||p.regions&&p.regions.length){if(p.regionData&&"PolarRadar"===this.chart.chartAreaType&&e.drawType.indexOf("Column")>-1&&(o=i-(e.clipRect.width/2+e.clipRect.x),a=s-(e.clipRect.height/2+e.clipRect.y),h=2*Math.PI*(p.regionData.currentXPosition<0?1+p.regionData.currentXPosition:p.regionData.currentXPosition),l=(Math.atan2(a,o)+.5*Math.PI-h)%(2*Math.PI),l=l<0?2*Math.PI+l:l,l+=2*Math.PI*e.chart.primaryXAxis.startAngle,c=p.regionData.startAngle,c-=h,c=c<0?2*Math.PI+c:c,d=p.regionData.endAngle,d-=h,d=d<0?2*Math.PI+d:d,u=Math.sqrt(Math.pow(Math.abs(o),2)+Math.pow(Math.abs(a),2)),l>=c&&l<=d&&(u>=p.regionData.innerRadius&&u<=p.regionData.radius||u<=p.regionData.innerRadius&&u>=p.regionData.radius)&&u<=e.chart.radius))return p;if((e.dragSettings.enable&&e.isRectSeries||e.isRectSeries&&e.marker.visible)&&this.isPointInThresholdRegion(i,s,p,t,e))return this.insideRegion=!0,p;if(!this.insideRegion&&this.checkRegionContainsPoint(p.regions,t,i,s))return p;if(this.insideRegion&&this.checkRegionContainsPoint(p.regions,t,i,s))return p}return null}checkRegionContainsPoint(e,t,i,s){return e.some((r,o)=>(this.lierIndex=o,zs(i,s,new ce(("Cartesian"===this.chart.chartAreaType?t.x:0)+r.x,("Cartesian"===this.chart.chartAreaType?t.y:0)+r.y,r.width,r.height))))}isPointInThresholdRegion(e,t,i,s,r){const o="Bar"===r.type,a=r.yAxis.isInversed,l=r.chart.isTransposed,h=10;let u,c=0,d=0,p=u=20;return a&&l?o?(c=i.regions[0].height-h,u=i.regions[0].width):(d=-h,p=i.regions[0].height):a||i.yValue<0?o?(d=-h,p=i.regions[0].height):(c=i.regions[0].height-h,u=i.regions[0].width):l?o?(c=-h,u=i.regions[0].width):(d=i.regions[0].width-h,p=i.regions[0].height):o?(d=i.regions[0].width-h,p=i.regions[0].height):(c=-h,u=i.regions[0].width),i.regions.some(m=>zs(e,t,new ce(("Cartesian"===this.chart.chartAreaType?s.x:0)+m.x+d,("Cartesian"===this.chart.chartAreaType?s.y:0)+m.y+c,u,p)))}getClosest(e,t,i){let s,r;const o=i||e.xData;if(t>=e.xMin-.5&&t<=e.xMax+.5)for(let l=0;l<o.length;l++)r=o[l],(null==s||Math.abs(r-t)<Math.abs(s-t))&&(s=r);return-1!==e.xData.indexOf(s)?s:null}getClosestX(e,t,i){let s;const r=t.clipRect;s=e.requireInvertedAxis?UU(e.mouseY-r.y,r.height,t.xAxis):WU(e.mouseX-r.x,r.width,t.xAxis);const o=this.getClosest(t,s,i);for(const a of t.points)if(o===a.xValue&&a.visible)return new Tm(a,t);return null}mergeXvalues(e){let t=[];for(let i=0;i<e.length;i++)t=t.concat(e[i].xData);return t.filter((i,s)=>s===t.indexOf(i))}}var Ce=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class sa extends he{}Ce([g(!1)],sa.prototype,"visible",void 0),Ce([g(!0)],sa.prototype,"showZero",void 0),Ce([g(null)],sa.prototype,"name",void 0),Ce([g("transparent")],sa.prototype,"fill",void 0),Ce([g(1)],sa.prototype,"opacity",void 0),Ce([g(0)],sa.prototype,"angle",void 0),Ce([g(!1)],sa.prototype,"enableRotation",void 0),Ce([g("Auto")],sa.prototype,"position",void 0),Ce([g(5)],sa.prototype,"rx",void 0),Ce([g(5)],sa.prototype,"ry",void 0),Ce([g("Center")],sa.prototype,"alignment",void 0),Ce([U({width:null,color:null},Yn)],sa.prototype,"border",void 0),Ce([U({left:5,right:5,top:5,bottom:5},Cc)],sa.prototype,"margin",void 0),Ce([U({size:"11px",color:"",fontStyle:"Normal",fontWeight:"Normal",fontFamily:"Segoe UI"},ir)],sa.prototype,"font",void 0),Ce([g(null)],sa.prototype,"template",void 0),Ce([g("Hide")],sa.prototype,"labelIntersectAction",void 0);class cl extends he{}Ce([g(!1)],cl.prototype,"visible",void 0),Ce([g("Circle")],cl.prototype,"shape",void 0),Ce([g("")],cl.prototype,"imageUrl",void 0),Ce([g(5)],cl.prototype,"height",void 0),Ce([g(5)],cl.prototype,"width",void 0),Ce([U({width:2,color:null},Yn)],cl.prototype,"border",void 0),Ce([U({x:0,y:0},h2)],cl.prototype,"offset",void 0),Ce([g(null)],cl.prototype,"fill",void 0),Ce([g(1)],cl.prototype,"opacity",void 0),Ce([U({},sa)],cl.prototype,"dataLabel",void 0);class Pw{constructor(){this.symbolLocations=null,this.regions=null,this.percentage=null,this.regionData=null,this.isSelect=!1,this.marker={visible:!1},this.isPointInRange=!0}}class na extends he{constructor(){super(...arguments),this.clipRect=new ce(0,0,0,0)}setDataSource(e,t){e&&(this.points=e.points),t.trendLineModule.initDataSource(this),t.visibleSeriesCount++}}Ce([g("")],na.prototype,"name",void 0),Ce([g("0")],na.prototype,"dashArray",void 0),Ce([g(!0)],na.prototype,"visible",void 0),Ce([g("Linear")],na.prototype,"type",void 0),Ce([g(2)],na.prototype,"period",void 0),Ce([g(2)],na.prototype,"polynomialOrder",void 0),Ce([g(0)],na.prototype,"backwardForecast",void 0),Ce([g(0)],na.prototype,"forwardForecast",void 0),Ce([U({},Up)],na.prototype,"animation",void 0),Ce([U({},cl)],na.prototype,"marker",void 0),Ce([g(!0)],na.prototype,"enableTooltip",void 0),Ce([g(null)],na.prototype,"intercept",void 0),Ce([g("")],na.prototype,"fill",void 0),Ce([g(1)],na.prototype,"width",void 0),Ce([g("SeriesType")],na.prototype,"legendShape",void 0);class Ow extends he{}Ce([g(1)],Ow.prototype,"width",void 0),Ce([g(10)],Ow.prototype,"length",void 0),Ce([g(null)],Ow.prototype,"color",void 0),Ce([g(1)],Ow.prototype,"opacity",void 0);class rD extends he{}Ce([g(null)],rD.prototype,"value",void 0),Ce([g(null)],rD.prototype,"color",void 0),Ce([g("0")],rD.prototype,"dashArray",void 0);class dl extends he{}Ce([g(!1)],dl.prototype,"visible",void 0),Ce([g("Fixed")],dl.prototype,"type",void 0),Ce([g("Both")],dl.prototype,"direction",void 0),Ce([g("Vertical")],dl.prototype,"mode",void 0),Ce([g(null)],dl.prototype,"color",void 0),Ce([g(1)],dl.prototype,"verticalError",void 0),Ce([g(1)],dl.prototype,"width",void 0),Ce([g(1)],dl.prototype,"horizontalError",void 0),Ce([g(3)],dl.prototype,"verticalPositiveError",void 0),Ce([g(3)],dl.prototype,"verticalNegativeError",void 0),Ce([g(1)],dl.prototype,"horizontalPositiveError",void 0),Ce([g(1)],dl.prototype,"horizontalNegativeError",void 0),Ce([U(null,Ow)],dl.prototype,"errorBarCap",void 0);class _r extends he{constructor(){super(...arguments),this.currentViewData=[],this.clipRect=new ce(0,0,0,0),this.seriesType="XY",this.isRectTypeSeries=!1}processJsonData(){let e=0,t=new Pw;const i=this instanceof Ze&&"Histogram"===this.type?"x":this.xName,s=this instanceof Ze&&this.marker.dataLabel.name?this.marker.dataLabel.name:"";this instanceof Ze&&(("Waterfall"===this.type||"Histogram"===this.type)&&(this.currentViewData=this.chart[Nn(this.type)+"SeriesModule"].processInternalData(fe([],this.currentViewData,null,!0),this)),"Pareto"===this.category&&(this.currentViewData=function(n,e,t){const i=fe([],n,null);return i.sort((s,r)=>{let o=0,a=0;for(let l=0;l<e.length;l++)o+=s[e[l]],a+=r[e[l]];return o>a?-1:o===a?0:1}),i}(fe([],this.currentViewData,null,!0),[this.yName]),"Line"===this.type&&(this.currentViewData=this.chart.paretoSeriesModule.performCumulativeCalculation(this.currentViewData,this))),this.isRectTypeSeries=this.type.indexOf("Column")>-1||this.type.indexOf("Bar")>-1||this.type.indexOf("Histogram")>-1);const r=Object.keys(this.currentViewData).length;if(this.points=[],this.xMin=1/0,this.xMax=-1/0,this.yMin=1/0,this.yMax=-1/0,this.sizeMax=-1/0,this.getSeriesType(),"Category"===this.xAxis.valueType)for(;e<r;)t=this.dataPoint(e,s,i),this.pushCategoryData(t,e,t.x),this.pushData(t,e),this.setEmptyPoint(t,e),e++;else if(this.xAxis.valueType.indexOf("DateTime")>-1){const o={skeleton:"full",type:"dateTime"},a=this.chart.intl.getDateParser(o),l=this.chart.intl.getDateFormat(o);for(;e<r;)t=this.dataPoint(e,s,i),f(t.x)||""===t.x?t.visible=!1:(t.x=new Date(me.parse.parseJson({val:t.x}).val),"DateTime"===this.xAxis.valueType?t.xValue=Date.parse(t.x.toString()):this.pushCategoryData(t,e,this.chart.isBlazor?Date.parse(t.x.toString()).toString():Date.parse(a(l(t.x))).toString()),this.pushData(t,e),this.setEmptyPoint(t,e)),e++}else for(;e<r;)t=this.dataPoint(e,s,i),t.xValue=t.x,this.pushData(t,e),this.setEmptyPoint(t,e),e++;if(this instanceof Ze)if(this.type.indexOf("Spline")>-1||this.drawType.indexOf("Spline")>-1&&"PolarRadar"===this.chart.chartAreaType){const o=this.type.indexOf("Area")>-1||this.drawType.indexOf("Area")>-1,a=this.type.indexOf("Range")>-1;this.chart["spline"+(o?a?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(this)}else this.type.indexOf("Histogram")>-1&&(this.xAxis.maximum||this.xAxis.minimum)&&this.chart.histogramSeriesModule.calculateBinValues(this)}pushData(e,t){e.index=t,e.yValue=e.y,this.xMin=Math.min(this.xMin,e.xValue),this.xMax=Math.max(this.xMax,e.xValue),this.xData.push(e.xValue)}dataPoint(e,t,i){this.points[e]=new Pw;const s=this.points[e],r=this.currentViewData,o=this.enableComplexProperty?Q:this.getObjectValue;return s.x=o(i,r[e]),s.high=o(this.high,r[e]),s.low=o(this.low,r[e]),s.open=o(this.open,r[e]),s.close=o(this.close,r[e]),s.volume=o(this.volume,r[e]),s.interior=o(this.pointColorMapping,r[e]),this instanceof Ze&&(s.y=o(this.yName,r[e]),s.size=o(this.size,r[e]),s.text=o(t,r[e]),s.tooltip=o(this.tooltipMappingName,r[e]),this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0&&this.isAdvancedColorSupported()&&(s.colorValue=o(this.colorName&&this.colorName.length>0?this.colorName:this.yName,r[e]),s.interior=this.getPointFillColor(s.interior,s.colorValue))),s}isAdvancedColorSupported(){return 1===this.chart.visibleSeries.length&&("Column"===this.chart.series[0].type||"Bar"===this.chart.series[0].type||"Scatter"===this.chart.series[0].type||"Bubble"===this.chart.series[0].type)}getPointFillColor(e,t){let i=e;if(t&&this.chart.rangeColorSettings&&this.chart.rangeColorSettings.length>0)for(const s of this.chart.rangeColorSettings)t>=s.start&&t<=s.end&&(i=s.colors.length>1?pwe(s,t):s.colors[0]);return i}getObjectValue(e,t){return t[e]}setEmptyPoint(e,t){if(!this.findVisibility(e))return e.visible=!0,null;switch(e.isEmpty=!0,this instanceof Ze&&e.isPointInRange?this.emptyPointSettings.mode:"Drop"){case"Zero":e.visible=!0,this instanceof Ze&&this.seriesType.indexOf("HighLow")>-1?(e.high=e.low=0,this.seriesType.indexOf("HighLowOpenClose")>-1&&(e.open=e.close=0)):e.y=e.yValue=this.yData[t]=0;break;case"Average":this instanceof Ze&&(this.seriesType.indexOf("HighLow")>-1?(e.high=f(e.high)||isNaN(+e.high)?this.getAverage(this.high,t):e.high,e.low=f(e.low)||isNaN(+e.low)?this.getAverage(this.low,t):e.low,this.seriesType.indexOf("HighLowOpenClose")>-1&&(e.open=f(e.open)||isNaN(+e.open)?this.getAverage(this.open,t):e.open,e.close=f(e.close)||isNaN(+e.close)?this.getAverage(this.close,t):e.close)):e.y=e.yValue=this.yData[t]=this.getAverage(this.yName,t)),e.visible=!0;break;case"Drop":case"Gap":this.yData[t]=null,e.visible=!1}}findVisibility(e){let i;const s=this.yAxis.minimum,r=this.yAxis.maximum;switch(this instanceof Ze?this.seriesType:"HighLowOpenClose"){case"XY":return"PolarRadar"===this.chart.chartAreaType&&(!f(s)&&e.yValue<s||!f(r)&&e.yValue>r)?(e.isPointInRange=!1,!0):(this.setXYMinMax(e.yValue),this.yData.push(e.yValue),this instanceof Ze&&"Bubble"===this.type&&(this.sizeMax=Math.max(this.sizeMax,f(e.size)||isNaN(+e.size)?this.sizeMax:e.size)),f(e.x)||f(e.y)||isNaN(+e.y));case"HighLow":return this.setHiloMinMax(e.high,e.low),f(e.x)||f(e.low)||isNaN(+e.low)||f(e.high)||isNaN(+e.high);case"HighLowOpenClose":return this.setHiloMinMax(e.high,e.low),f(e.x)||f(e.low)||isNaN(+e.low)||f(e.open)||isNaN(+e.open)||f(e.close)||isNaN(+e.close)||f(e.high)||isNaN(+e.high);case"BoxPlot":return i=(e.y||[null]).filter(o=>!f(o)&&!isNaN(o)).sort((o,a)=>o-a),e.y=i,this.yMin=Math.min(this.yMin,Math.min(...i)),this.yMax=Math.max(this.yMax,Math.max(...i)),!i.length}}setXYMinMax(e){const t="Logarithmic"===this.yAxis.valueType||"Logarithmic"===this.xAxis.valueType,i=e<0;let s;s=this.isRectTypeSeries&&!Mw(this.yAxis)?t||i?e:0:e,this.yMin=t?Math.min(this.yMin,f(s)||isNaN(s)||0===s||"0"===s.toString()||""===s.toString()?this.yMin:s):Math.min(this.yMin,f(s)||isNaN(s)?this.yMin:s),this.yMax=Math.max(this.yMax,f(e)||isNaN(e)?this.yMax:e)}setHiloMinMax(e,t){this.yMin=Math.min(this.yMin,Math.min(f(t)||isNaN(t)?this.yMin:t,f(e)||isNaN(e)?this.yMin:e)),this.yMax=Math.max(this.yMax,Math.max(f(t)||isNaN(t)?this.yMax:t,f(e)||isNaN(e)?this.yMax:e))}getSeriesType(){let e;if(this instanceof Ze){const t="PolarRadar"===this.chart.chartAreaType?this.drawType:this.type;if(t)switch(t){case"RangeColumn":case"RangeArea":case"SplineRangeArea":case"Hilo":e="HighLow";break;case"HiloOpenClose":case"Candle":e="HighLowOpenClose";break;case"BoxAndWhisker":e="BoxPlot";break;default:e="XY"}}this.seriesType=e}pushCategoryData(e,t,i){if(!this.chart.tooltip.shared&&!this.visible)return null;this.xAxis.isIndexed?(this.xAxis.labels[t]?this.xAxis.labels[t]+=", "+i:this.xAxis.labels.push(i),e.xValue=t):(this.xAxis.labels.indexOf(i)<0&&this.xAxis.labels.push(i),e.xValue=this.xAxis.labels.indexOf(i))}getAverage(e,t,i=this.currentViewData){return((i[t-1]&&i[t-1][e]||0)+(i[t+1]&&i[t+1][e]||0))/2}refreshDataManager(e){let t;this.chart=e,t=e.isAngular?Object.keys(this.dataSource).length?this.dataSource:e.dataSource:this.dataSource||e.dataSource,t instanceof Ot||!f(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then(r=>this.dataManagerSuccess(r)):this.dataManagerSuccess({result:t,count:t.length},!1)}dataManagerSuccess(e,t=!0){if(this.currentViewData=e.count?e.result:[],this.chart.allowServerDataBinding=!1,this instanceof Ze){this.chart.stockChart&&(this.chart.stockChart.series[this.index].localData=this.currentViewData);const i={name:Y1,series:this,data:this.currentViewData,fill:this.interior};this.chart.trigger(Y1,i),this.interior=i.fill,this.currentViewData=i.data}this.chart.stockChart&&!(this instanceof Ze)&&(this.currentViewData=this.chart.stockChart.findCurrentData(this.chart.stockChart.series[0].localData,this.chart.stockChart.series[0].xName)),this.processJsonData(),this.recordsCount=e.count,this.refreshChart(t),this.currentViewData=null}refreshChart(e){const t=this.chart;if(this instanceof Ze&&(t.visibleSeriesCount+=e?1:0),t.refreshTechnicalIndicator(this),this instanceof Ze&&"TrendLine"!==this.category)for(const i of this.trendlines)i.setDataSource(this,t);t.visibleSeries.length===t.visibleSeriesCount&&(t.refreshBound(),t.trigger("loaded",{chart:t.isBlazor?{}:t}),this.chart.stockChart&&this.chart.stockChart.initialRender&&(this.chart.stockChart.initialRender=!1,this.chart.stockChart.stockChartDataManagerSuccess())),this instanceof Ze&&(t.visibleSeriesCount+=e?0:1)}}Ce([g("")],_r.prototype,"xName",void 0),Ce([g("")],_r.prototype,"colorName",void 0),Ce([g("")],_r.prototype,"high",void 0),Ce([g("")],_r.prototype,"low",void 0),Ce([g("")],_r.prototype,"open",void 0),Ce([g("")],_r.prototype,"close",void 0),Ce([g("")],_r.prototype,"volume",void 0),Ce([g("")],_r.prototype,"pointColorMapping",void 0),Ce([g(!0)],_r.prototype,"visible",void 0),Ce([g(null)],_r.prototype,"xAxisName",void 0),Ce([g(null)],_r.prototype,"yAxisName",void 0),Ce([U(null,Up)],_r.prototype,"animation",void 0),Ce([g(null)],_r.prototype,"fill",void 0),Ce([g(1)],_r.prototype,"width",void 0),Ce([g("0")],_r.prototype,"dashArray",void 0),Ce([g("")],_r.prototype,"dataSource",void 0),Ce([g()],_r.prototype,"query",void 0),Ce([Di([],rD)],_r.prototype,"segments",void 0),Ce([g("X")],_r.prototype,"segmentAxis",void 0),Ce([g(!1)],_r.prototype,"enableComplexProperty",void 0);class Ze extends _r{constructor(e,t,i,s){super(e,t,i,s),this.visibleSeriesCount=0,this.category="Series",this.isRectSeries=!1,this.drawPoints=[],this.lowDrawPoints=[],this.delayedAnimation=!1}refreshAxisLabel(){if("Category"!==this.xAxis.valueType)return null;this.xAxis.labels=[];for(const e of this.xAxis.series)if(e.visible&&"TrendLine"!==e.category){e.xMin=1/0,e.xMax=-1/0;for(const t of e.points)e.pushCategoryData(t,t.index,t.x),e.xMin=Math.min(e.xMin,t.xValue),e.xMax=Math.max(e.xMax,t.xValue)}}findSeriesCollection(e,t,i){const s=[];for(const r of t.axes)for(const o of r.series)for(const a of e.axes)for(const l of a.series)l===o&&l.visible&&this.rectSeriesInChart(l,i)&&s.push(l);return s}rectSeriesInChart(e,t){const i=e.type.toLowerCase();return-1!==i.indexOf("column")||-1!==i.indexOf("bar")||-1!==i.indexOf("histogram")||-1!==i.indexOf("hiloopenclose")||-1!==i.indexOf("candle")||-1!==i.indexOf("pareto")||-1!==i.indexOf("hilo")||-1!==e.drawType.indexOf("Column")||-1!==i.indexOf("waterfall")||-1!==i.indexOf("boxandwhisker")||t}calculateStackedValue(e,t){for(const i of t.columns)for(const s of t.rows)this.calculateStackingValues(this.findSeriesCollection(i,s,!0),e)}calculateStackingValues(e,t){let i,s,r=[];const o=[],a=[];let l,h,c,d=[];t&&(d=this.findFrequencies(e));const u=[],p=[];let m=[];for(const y of e)if(-1!==y.type.indexOf("Stacking")||-1!==y.drawType.indexOf("Stacking")&&"PolarRadar"===y.chart.chartAreaType){l=-1!==y.type.indexOf("StackingArea")?"StackingArea100":-1!==y.type.indexOf("StackingLine")?"StackingLine100":y.stackingGroup,o[l]||(o[l]=[],a[l]=[]),r=y.yData,i=[],s=[],u.push(y),m=Dm(y);for(let C=0,w=m.length;C<w;C++)h=0,c=+r[C],void 0===o[l][m[C].xValue]&&(o[l][m[C].xValue]=0),void 0===a[l][m[C].xValue]&&(a[l][m[C].xValue]=0),t?(c=c/d[l][m[C].xValue]*100,c=isNaN(c)?0:c,m[C].percentage=+c.toFixed(2)):p[C]=p[C]?p[C]+Math.abs(c):Math.abs(c),c>=0?(h=o[l][m[C].xValue],o[l][m[C].xValue]+=c):(h=a[l][m[C].xValue],a[l][m[C].xValue]+=c),i.push(h),s.push(c+h),t&&s[C]>100&&(s[C]=100);y.stackedValues=new dwe(i,s);let b="Logarithmic"===y.yAxis.valueType,v=-1!==y.type.indexOf("Column")||-1!==y.type.indexOf("Bar");y.yMin=b&&v&&y.yMin<1?y.yMin:Math.min.apply(0,i),y.yMax=Math.max.apply(0,s),y.yMin>Math.min.apply(0,s)&&(y.yMin=t?-100:b&&v&&y.yMin<1?y.yMin:Math.min.apply(0,s)),y.yMax<Math.max.apply(0,i)&&(y.yMax=0)}this.findPercentageOfStacking(u,p,t)}findPercentageOfStacking(e,t,i){for(const s of e){if(i)return null;for(const r of Dm(s))r.percentage=Math.abs(+(r.y/t[r.index]*100).toFixed(2))}}findFrequencies(e){const t=[];let i,s=[];for(const r of e)if(r.yAxis.isStack100=-1!==r.type.indexOf("100"),s=Dm(r),-1!==r.type.indexOf("Stacking")){i=-1!==r.type.indexOf("StackingArea")?"StackingArea100":-1!==r.type.indexOf("StackingLine")?"StackingLine100":r.stackingGroup,t[i]||(t[i]=[]);for(let o=0,a=s.length;o<a;o++)void 0===t[i][s[o].xValue]&&(t[i][s[o].xValue]=0),r.yData[o]>0?t[i][s[o].xValue]+=r.yData[o]:t[i][s[o].xValue]-=r.yData[o]}return t}renderSeries(e){let t=Nn(this.type);t=t.replace("100",""),e[t+"SeriesModule"]&&("Indicator"!==this.category&&"TrendLine"!==this.category&&this.createSeriesElements(e),this.visiblePoints=Dm(this),e[t+"SeriesModule"].render(this,this.xAxis,this.yAxis,e.requireInvertedAxis),"Indicator"!==this.category&&(this.errorBar.visible&&this.chart.errorBarModule.render(this),this.marker.dataLabel.visible&&e.dataLabelModule.render(this,this.chart,this.marker.dataLabel),this.appendSeriesElement(e.seriesElements,e)),this.chart.enableCanvas||this.performAnimation(e,t,this.errorBar,this.marker,this.marker.dataLabel))}createSeriesElements(e){if("Indicator"!==this.category){const t=e.element.id,i=this.marker.border.width+8+5,s="Scatter"===this.type||"Bubble"===this.type?e.svgRenderer:e.renderer,r=void 0===this.index?this.category:this.index;let o,a,l;if("Scatter"===this.type?(o=e.primaryYAxis.maximum||e.primaryXAxis.maximum?0:(this.marker.height+i)/2,a=e.primaryYAxis.maximum||e.primaryXAxis.maximum?0:(this.marker.width+i)/2):(o=0,a=0),"PolarRadar"===e.chartAreaType){const c="Scatter"===this.drawType?Math.max(this.marker.width,this.marker.height):0;l=new Zp(t+"_ChartSeriesClipRect_"+r,"transparent",{width:1,color:"Gray"},1,this.clipRect.width/2+this.clipRect.x,this.clipRect.height/2+this.clipRect.y,e.radius+c),this.clipRectElement=vd(e.redraw,l,s,"drawCircularClipPath")}else l=new us(t+"_ChartSeriesClipRect_"+r,"transparent",{width:1,color:"Gray"},1,{x:-a,y:-o,width:this.clipRect.width+2*a,height:this.clipRect.height+2*o}),this.clipRectElement=vd(e.redraw,l,s);const h="Cartesian"===e.chartAreaType?"translate("+this.clipRect.x+","+this.clipRect.y+")":"";this.symbolElement=null,this.seriesElement=s.createGroup({id:t+"SeriesGroup"+r,transform:h,"clip-path":"url(#"+t+"_ChartSeriesClipRect_"+r+")"}),(!this.chart.enableCanvas||"Scatter"===this.type||"Bubble"===this.type)&&this.seriesElement.appendChild(this.clipRectElement)}}appendSeriesElement(e,t){const i=this.marker,s=i.dataLabel,r=t.redraw;"TrendLine"!==this.category&&(lt(t.enableCanvas,t.seriesElements,this.seriesElement,r),this.errorBar.visible&&lt(t.enableCanvas,t.seriesElements,"PolarRadar"===t.chartAreaType?this.seriesElement:this.errorBarElement,r),("Scatter"===this.type||"Bubble"===this.type)&&lt(!1,t.seriesElements,this.seriesElement,r)),i.visible&&("Cartesian"===t.chartAreaType||"Scatter"!==this.drawType&&"PolarRadar"===t.chartAreaType)&&"Scatter"!==this.type&&"Bubble"!==this.type&&"Candle"!==this.type&&"Hilo"!==this.type&&"HiloOpenClose"!==this.type&&this.symbolElement&&lt(t.enableCanvas,t.seriesElements,this.symbolElement,r),s.visible&&this.textElement&&(lt(t.enableCanvas,t.dataLabelElements,this.shapeElement,r),lt(t.enableCanvas,t.dataLabelElements,this.textElement,r)),!t.enableCanvas&&t.dataLabelElements.hasChildNodes()&&t.seriesElements.appendChild(t.dataLabelElements)}performAnimation(e,t,i,s,r){this.animation.enable&&e.animateSeries&&(e[t+"SeriesModule"].doAnimation(this),i.visible&&e.errorBarModule.doErrorBarAnimation(this),s.visible&&e.markerRender.doMarkerAnimation(this),r.visible&&"edge"!==T.info.name&&!T.isIE&&e.dataLabelModule.doDataLabelAnimation(this))}setPointColor(e,t){return t=e.interior||t,e.isEmpty&&this.emptyPointSettings.fill||t}setBorderColor(e,t){return t.width=e.isEmpty&&this.emptyPointSettings.border.width||t.width,t.color=e.isEmpty&&this.emptyPointSettings.border.color||t.color,t}}Ce([g("")],Ze.prototype,"name",void 0),Ce([g("")],Ze.prototype,"yName",void 0),Ce([g("Line")],Ze.prototype,"drawType",void 0),Ce([g(!0)],Ze.prototype,"isClosed",void 0),Ce([g("#2ecd71")],Ze.prototype,"bearFillColor",void 0),Ce([g("#e74c3d")],Ze.prototype,"bullFillColor",void 0),Ce([g(!1)],Ze.prototype,"enableSolidCandles",void 0),Ce([g("")],Ze.prototype,"size",void 0),Ce([g(null)],Ze.prototype,"binInterval",void 0),Ce([g(!1)],Ze.prototype,"showNormalDistribution",void 0),Ce([g("")],Ze.prototype,"stackingGroup",void 0),Ce([U({color:"transparent",width:0},Yn)],Ze.prototype,"border",void 0),Ce([g(1)],Ze.prototype,"opacity",void 0),Ce([g(0)],Ze.prototype,"zOrder",void 0),Ce([g("Line")],Ze.prototype,"type",void 0),Ce([U(null,dl)],Ze.prototype,"errorBar",void 0),Ce([U(null,cl)],Ze.prototype,"marker",void 0),Ce([U({},bw)],Ze.prototype,"dragSettings",void 0),Ce([Di([],na)],Ze.prototype,"trendlines",void 0),Ce([g(!0)],Ze.prototype,"enableTooltip",void 0),Ce([g("")],Ze.prototype,"tooltipFormat",void 0),Ce([g("")],Ze.prototype,"tooltipMappingName",void 0),Ce([g("SeriesType")],Ze.prototype,"legendShape",void 0),Ce([g("")],Ze.prototype,"legendImageUrl",void 0),Ce([g(null)],Ze.prototype,"selectionStyle",void 0),Ce([g(null)],Ze.prototype,"unSelectedStyle",void 0),Ce([g(null)],Ze.prototype,"nonHighlightStyle",void 0),Ce([g(1)],Ze.prototype,"minRadius",void 0),Ce([g(3)],Ze.prototype,"maxRadius",void 0),Ce([g("Natural")],Ze.prototype,"splineType",void 0),Ce([g(.5)],Ze.prototype,"cardinalSplineTension",void 0),Ce([U(null,yw)],Ze.prototype,"emptyPointSettings",void 0),Ce([g(!0)],Ze.prototype,"showMean",void 0),Ce([g("Normal")],Ze.prototype,"boxPlotMode",void 0),Ce([g(null)],Ze.prototype,"columnWidth",void 0),Ce([g(null)],Ze.prototype,"columnWidthInPixel",void 0),Ce([g(0)],Ze.prototype,"columnSpacing",void 0),Ce([g("#C64E4A")],Ze.prototype,"negativeFillColor",void 0),Ce([g("#4E81BC")],Ze.prototype,"summaryFillColor",void 0),Ce([g()],Ze.prototype,"intermediateSumIndexes",void 0),Ce([g()],Ze.prototype,"sumIndexes",void 0),Ce([U({color:"black",width:2},vc)],Ze.prototype,"connector",void 0),Ce([U(null,mb)],Ze.prototype,"cornerRadius",void 0);class E2{constructor(e,t){this.initDataManager(e,t)}initDataManager(e,t){this.dataManager=e instanceof Ot?e:new Ot(e),this.query=t instanceof Ri?t:new Ri}generateQuery(){return this.query.clone()}getData(e){if(this.dataManager.ready){const t=new eC;return this.dataManager.ready.then(()=>{this.dataManager.executeQuery(e).then(s=>{t.resolve(s)})}).catch(s=>{t.reject(s)}),t.promise}return this.dataManager.executeQuery(e)}}class ywe extends Iw{constructor(e){super(e),this.elementId=e.element.id}addEventListener(){this.chart.isDestroyed||(this.chart.on(T.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(T.touchEndEvent,this.mouseUpHandler,this))}removeEventListener(){this.chart.isDestroyed||(this.chart.off(T.touchMoveEvent,this.mouseMoveHandler),this.chart.off(T.touchEndEvent,this.mouseUpHandler))}mouseUpHandler(){const e=this.chart;e.isTouch&&!e.crosshair.enable&&!this.isSelected(e)&&this.markerMove(!0)}mouseMoveHandler(){const e=this.chart;(!e.crosshair.enable||e.tooltip.enable)&&(!e.isTouch||e.startMove)&&!this.isSelected(e)&&this.markerMove(!1)}markerMove(e){const t=this.chart;let i,s,r,o;if(this.currentPoints=[],t.tooltip.shared&&t.tooltip.enable){if(!zs(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect))return null;if(t.tooltip.enable){const l="PolarRadar"===t.chartAreaType?this.getData():null,h=this.mergeXvalues(this.chart.visibleSeries);for(const c of t.visibleSeries)!c.enableTooltip||"Indicator"===c.category||("Cartesian"===t.chartAreaType&&c.visible?i=this.getClosestX(t,c,h):"PolarRadar"===t.chartAreaType&&c.visible&&null!==l.point&&(i=new Tm(c.points[l.point.index],c)),i&&(this.currentPoints.push(i),i=null))}}else i=this.getData(),o=i.series,s=this.previousPoints[0],r=o&&("Bubble"===o.type||"Scatter"===o.drawType||"Scatter"===o.type||"Candle"!==o.type&&"Hilo"!==o.type&&"HiloOpenClose"!==o.type&&o.marker.visible&&0!==o.marker.width&&0!==o.marker.height),i.lierIndex=this.lierIndex,i.point&&r&&(!s||s.point!==i.point||s&&s.lierIndex>3&&s.lierIndex!==this.lierIndex)&&this.currentPoints.push(i),i.point&&r&&t.isPointMouseDown&&this.currentPoints.push(i);const a=this.previousPoints.length;if(this.currentPoints.length>0&&(0===a||t.isPointMouseDown||a>0&&this.previousPoints[0].point!==this.currentPoints[0].point)){this.previousPoints.length>0&&this.removeHighlightedMarker();for(const l of this.currentPoints)(l&&l.point||"Candle"!==o.type&&"Hilo"!==o.type&&"HiloOpenClose"!==o.type)&&(Aw(this.markerExplode),this.isRemove=!0,l.point.symbolLocations.map((h,c)=>{(!l.series.isRectSeries||l.point.marker.visible)&&this.drawTrackBall(l.series,l.point,h,c)}));this.previousPoints=fe([],this.currentPoints,null,!0)}!t.tooltip.enable&&(0===this.currentPoints.length&&this.isRemove||e&&this.isRemove||!zs(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect))&&(this.isRemove=!1,this.markerExplode=+setTimeout(()=>{this.removeHighlightedMarker()},2e3)),this.currentPoints=[]}drawTrackBall(e,t,i,s){const r=t.marker,o=e.marker,a=r.shape||o.shape;if("None"===a)return null;const l=e.symbolElement||e.seriesElement;let h;this.chart.highlightModule&&"None"!==this.chart.highlightMode&&(h=this.chart.highlightModule.generateStyle(e)),this.chart.selectionModule&&"None"!==this.chart.selectionMode&&(h=this.chart.selectionModule.generateStyle(e));const c=this.elementId+"_Series_"+e.index+"_Point_"+t.index+"_Trackball"+(s||""),d=new xt((r.width||o.width)+5,(r.height||o.height)+5),u=r.border||e.border,p="BoxAndWhisker"===e.type||"Bubble"===e.type||"Scatter"===e.type,m=u.color&&"transparent"!==u.color?u.color:r.fill||t.interior||(p?t.color:e.interior),y=tD(Bl(m)),b=r.border?r.border.width:o.border.width,v=e.chart.themeStyle.markerShadow||"rgba("+y.r+","+y.g+","+y.b+",0.2)";for(let C=0;C<2;C++){const w=new nt(c+"_"+C,C?r.fill||t.color||(p?e.interior:"#ffffff"):"transparent",b+(C?0:8),C?m:v,r.opacity||o.opacity,null,null),_=mo(i,a,d,r.imageUrl,w,0,this.chart.svgRenderer,e.clipRect);_.setAttribute("class","EJ2-Trackball");const k=-1!==l.id.indexOf("Symbol")?"_Symbol":"",D=document.getElementById(this.elementId+"_Series_"+e.index+"_Point_"+t.index+k);""!==h&&!f(h)&&!f(D)&&D.hasAttribute("class")&&h===D.getAttribute("class")&&_.classList.add(h),_.setAttribute("clip-path",l.getAttribute("clip-path")),_.setAttribute("transform",l.getAttribute("transform")),this.chart.svgObject.appendChild(_)}}removeHighlightedMarker(){const e=document.getElementsByClassName("EJ2-Trackball");for(let t=0,i=e.length;t<i;t++)Ue(e[0]);this.previousPoints=[]}}class bwe extends ywe{constructor(e){super(e),this.addEventListener()}render(e){const t=e.chart.redraw;this.createElement(e,t);for(const i of e.points)i.visible&&i.symbolLocations&&i.symbolLocations.length&&i.symbolLocations.map((s,r)=>{"None"!==e.marker.shape&&this.renderMarker(e,i,s,r,t)})}renderMarker(e,t,i,s,r){const o=void 0===e.index?e.category:e.index,a=e.marker,l={color:a.border.color,width:a.border.width},h=a.border.color;let c,d,u,p;i.x=i.x+a.offset.x,i.y=i.y-a.offset.y;const m="BoxAndWhisker"===e.type,y=a.fill||(m?t.interior||e.interior:"#ffffff");let b;const v=m?function(n,e){let t;for(let i=0,s=n.length;i<s;i++)if(n[i].id.indexOf(e)>-1){t=n[i];continue}return t}(e.seriesElement.childNodes,"Series_"+e.index+"_Point_"+t.index):e.symbolElement;l.color=h||e.setPointColor(t,e.interior);const C=this.elementId+"_Series_"+o+"_Point_"+t.index+"_Symbol"+(s||""),w={cancel:!1,name:_h,series:e,point:t,fill:t.isEmpty&&e.emptyPointSettings.fill||y,border:{color:"BoxAndWhisker"===e.type?f(h)||"transparent"===h?XU(y,-.6):h:l.color,width:l.width},height:a.height,width:a.width,shape:a.shape};if(w.border=e.setBorderColor(t,{width:w.border.width,color:w.border.color}),(!e.isRectSeries||"BoxAndWhisker"===e.type)&&(this.chart.trigger(_h,w),t.color=w.fill),t.color=w.fill,w.cancel)i=null,t.marker={visible:!1};else{let _;_="RangeArea"===e.type||"RangeColumn"===e.type||"RangeColumn"===e.drawType||"SplineRangeArea"===e.type?s?t.low:t.high:m?t.outliers[s]:t.y;const k=w.point.marker.fill||w.fill;let D;D=f(w.point.marker.border)?{color:w.border.color,width:w.border.width}:{color:w.point.marker.border.color||w.border.color,width:w.point.marker.border.width||w.border.width};const I=w.point.marker.width||w.width,O=w.point.marker.height||w.height,X=w.point.marker.shape||w.shape,H=w.point.marker.imageUrl||a.imageUrl;p=new nt(C,k,D.width,D.color,w.point.marker.opacity||a.opacity,null),(null!=v||this.chart.enableCanvas)&&(r&&se(p.id)&&(b=se(p.id),u="Circle"===X?"c":"",c={x:+b.getAttribute(u+"x"),y:+b.getAttribute(u+"y")},d=b.getAttribute("d")),b=mo(i,X,new xt(I,O),H,p,(t.x.toString(),_.toString()),this.chart.renderer,e.clipRect),lt(this.chart.enableCanvas,v,b,r,!0,u+"x",u+"y",c,d,!1,!1,null,e.chart.duration)),t.marker={border:D,fill:k,height:O,visible:!0,shape:X,width:I,imageUrl:H}}}createElement(e,t){let i;const s=e.marker,r=s.border.width+8+5,o=e.chart.svgRenderer,a=void 0===e.index?e.category:e.index;let l;const h="Cartesian"===e.chart.chartAreaType?"translate("+e.clipRect.x+","+e.clipRect.y+")":"";if(s.visible){const c=(s.height+r)/2,d=(s.width+r)/2;"Cartesian"===e.chart.chartAreaType?(l=new us(this.elementId+"_ChartMarkerClipRect_"+a,"transparent",{width:1,color:"Gray"},1,{x:-d,y:-c,width:e.clipRect.width+2*d,height:e.clipRect.height+2*c}),i=vd(t,l,o)):(l=new Zp(this.elementId+"_ChartMarkerClipRect_"+a,"transparent",{width:1,color:"Gray"},1,e.clipRect.width/2+e.clipRect.x,e.clipRect.height/2+e.clipRect.y,e.chart.radius+Math.max(c,d)),i=vd(t,l,o,"drawCircularClipPath")),l={id:this.elementId+"SymbolGroup"+a,transform:h,"clip-path":"url(#"+this.elementId+"_ChartMarkerClipRect_"+a+")"},e.symbolElement=o.createGroup(l),e.symbolElement.appendChild(i),this.chart.enableCanvas&&document.getElementById(this.chart.element.id+"_tooltip_svg").appendChild(e.symbolElement)}}getRangeLowPoint(e,t){let i=e.x,s=e.y;return t.chart.requireInvertedAxis?(s+=e.height/2,i+=t.yAxis.isInversed?e.width:0):(s+=t.yAxis.isInversed?0:e.height,i+=e.width/2),{x:i,y:s}}doMarkerAnimation(e){if("Scatter"!==e.type&&"Bubble"!==e.type&&"Candle"!==e.type&&"Hilo"!==e.type&&"HiloOpenClose"!==e.type&&("PolarRadar"!==e.chart.chartAreaType||"Scatter"!==e.drawType)){const t=e.symbolElement.childNodes,i=e.animation.delay+e.animation.duration,s=e.chart.animated?e.chart.duration:200;let r=1;const o="RangeArea"===e.type||"RangeColumn"===e.type||"SplineRangeArea"===e.type?2:1;for(let a=0;a<e.points.length;a++)if(e.points[a].symbolLocations){if(!e.points[a].symbolLocations.length||!t[r])continue;if(km(t[r],i,s,e,a,e.points[a].symbolLocations[0],!1),2===o){const l=this.getRangeLowPoint(e.points[a].regions[0],e);km(t[r+1],i,s,e,a,l,!1)}r+=o}}}}var yn=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Fw extends he{}yn([g(0)],Fw.prototype,"x",void 0),yn([g(0)],Fw.prototype,"y",void 0);class bn extends he{}yn([g(!0)],bn.prototype,"visible",void 0),yn([g(null)],bn.prototype,"height",void 0),yn([g(null)],bn.prototype,"width",void 0),yn([U({x:0,y:0},Fw)],bn.prototype,"location",void 0),yn([g("Auto")],bn.prototype,"position",void 0),yn([g("Series")],bn.prototype,"mode",void 0),yn([g(8)],bn.prototype,"padding",void 0),yn([g("Center")],bn.prototype,"alignment",void 0),yn([U(Fr.legendLabelFont,ir)],bn.prototype,"textStyle",void 0),yn([g(10)],bn.prototype,"shapeHeight",void 0),yn([g(10)],bn.prototype,"shapeWidth",void 0),yn([U({},Yn)],bn.prototype,"border",void 0),yn([U({left:0,right:0,top:0,bottom:0},Cc)],bn.prototype,"margin",void 0),yn([U({left:0,right:0,top:0,bottom:0},fb)],bn.prototype,"containerPadding",void 0),yn([g(5)],bn.prototype,"shapePadding",void 0),yn([g("transparent")],bn.prototype,"background",void 0),yn([g(1)],bn.prototype,"opacity",void 0),yn([g(!0)],bn.prototype,"toggleVisibility",void 0),yn([g(null)],bn.prototype,"description",void 0),yn([g(3)],bn.prototype,"tabIndex",void 0),yn([g(null)],bn.prototype,"title",void 0),yn([U(Fr.legendTitleFont,ir)],bn.prototype,"titleStyle",void 0),yn([g("Top")],bn.prototype,"titlePosition",void 0),yn([g(100)],bn.prototype,"maximumTitleWidth",void 0),yn([g(!0)],bn.prototype,"enablePages",void 0),yn([g(!1)],bn.prototype,"isInversed",void 0);class Sc{constructor(e,t,i,s,r,o,a,l,h,c){this.location={x:0,y:0},this.text=e,this.fill=t,this.shape=i,this.url=o,this.visible=s,this.type=r,this.markerVisibility=l,this.markerShape=a,this.pointIndex=h,this.seriesIndex=c}}var Xr=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class xr extends _r{constructor(){super(...arguments),this.clipRect=new ce(0,0,0,0)}setDataSource(e,t){e&&(this.xData=e.xData,this.yData=e.yData,this.points=e.points),t[Nn(this.type)+"IndicatorModule"].initDataSource(this,t),t.visibleSeriesCount+=this.targetSeries.length}}Xr([g("Sma")],xr.prototype,"type",void 0),Xr([g(14)],xr.prototype,"period",void 0),Xr([g(14)],xr.prototype,"kPeriod",void 0),Xr([g(3)],xr.prototype,"dPeriod",void 0),Xr([g(80)],xr.prototype,"overBought",void 0),Xr([g(20)],xr.prototype,"overSold",void 0),Xr([g(2)],xr.prototype,"standardDeviation",void 0),Xr([g("Close")],xr.prototype,"field",void 0),Xr([g(12)],xr.prototype,"slowPeriod",void 0),Xr([g(26)],xr.prototype,"fastPeriod",void 0),Xr([g(!0)],xr.prototype,"showZones",void 0),Xr([U({color:"#ff9933",width:2},vc)],xr.prototype,"macdLine",void 0),Xr([g("Both")],xr.prototype,"macdType",void 0),Xr([g("#2ecd71")],xr.prototype,"macdPositiveColor",void 0),Xr([g("#e74c3d")],xr.prototype,"macdNegativeColor",void 0),Xr([g("rgba(211,211,211,0.25)")],xr.prototype,"bandColor",void 0),Xr([U({color:"#ffb735",width:1},vc)],xr.prototype,"upperLine",void 0),Xr([U({color:"#f2ec2f",width:1},vc)],xr.prototype,"lowerLine",void 0),Xr([U({color:"#f2ec2f",width:1},vc)],xr.prototype,"periodLine",void 0),Xr([g("")],xr.prototype,"seriesName",void 0);class Kp{constructor(e){this.control=e}print(e){this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight);const t={cancel:!1,htmlContent:this.getHTMLContent(e),name:PU};this.control.trigger(PU,t),t.cancel||S8(t.htmlContent,this.printWindow)}getHTMLContent(e){const t=Ve("div");if(e)if(e instanceof Array)for(let i=0;i<e.length;i++)t.appendChild(se(e[i]).cloneNode(!0));else e instanceof Element?t.appendChild(e.cloneNode(!0)):t.appendChild(se(e).cloneNode(!0));else t.appendChild(this.control.element.cloneNode(!0));return t}export(e,t,i,s,r,o,a,l,h){const c=this.getControlsValue(s,a);r=r||c.width,o=o||c.height;let d=this.control.svgObject;const u=this.control.enableCanvas;let p;u||(d=Ve("canvas",{id:"ej2-canvas",attrs:{width:r.toString(),height:o.toString()}}));const m=!(T.userAgent.toString().indexOf("HeadlessChrome")>-1);i=f(i)?lu.Landscape:i;const b=window.URL.createObjectURL(new Blob("SVG"===e?['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+c.svg.outerHTML+"</svg>"]:[(new XMLSerializer).serializeToString(c.svg)],{type:"image/svg+xml"}));if("SVG"===e)if("msie"===T.info.name){const v=new Blob([(new XMLSerializer).serializeToString(c.svg)],{type:"application/octet-stream"});window.navigator.msSaveOrOpenBlob(v,t+"."+e.toLocaleLowerCase())}else this.triggerDownload(t,e,b,m);else if("msie"===T.info.name){let v=d;u||(v=this.createCanvas()),p=v.toDataURL(),"PDF"===e?this.exportPdf(v,i,r,o,m,t,l,h):this.doexport(e,p,t)}else{const v=new Image,C=d.getContext("2d");v.onload=()=>{C.drawImage(v,0,0),window.URL.revokeObjectURL(b),"PDF"===e?this.exportPdf(d,i,r,o,m,t,l,h):window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(d.toBlob(null),t+"."+e.toLocaleLowerCase()):this.triggerDownload(t,e,d.toDataURL("image/"+e.toLowerCase()),m)},v.src=b}u||Qi(document.getElementById(this.control.element.id+"_canvas"))}getDataUrl(e){const t=this.getControlsValue([e]);let i=this.control.svgObject;const s=this.control.enableCanvas;s||(i=Ve("canvas",{id:"ej2-canvas",attrs:{width:t.width.toString(),height:t.height.toString()}}));const r=window.URL.createObjectURL(new Blob([(new XMLSerializer).serializeToString(t.svg)],{type:"image/svg+xml"}));if("msie"===T.info.name){let o=i;s||(o=this.createCanvas());const a={name:$1,cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger($1,a),{element:o,dataUrl:o.toDataURL()}}{const o=new Image,a=i.getContext("2d");return o.onload=()=>{a.drawImage(o,0,0),window.URL.revokeObjectURL(r);const l={name:$1,cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger($1,l),l.dataUrl},o.src=r,{element:i,blobUrl:r}}}triggerDownload(e,t,i,s){Ve("a",{attrs:{download:e+"."+t.toLocaleLowerCase(),href:i}}).dispatchEvent(new MouseEvent(s?"click":"move",{view:window,bubbles:!1,cancelable:!0}))}getControlsValue(e,t){let i=0,s=0;const r=this.control.enableCanvas,o=new jo("").createSvg({id:"Svg_Export_Element",width:200,height:200});return e.map(a=>{const l=a.svgObject.cloneNode(!0),h=a.renderer.createGroup({style:f(t)||t?"transform: translateY("+s+"px)":"transform: translateX("+i+"px)"}),c=l.childNodes[0].getAttribute("fill");("Tailwind"===a.theme||"TailwindDark"===a.theme)&&("rgba(255,255,255, 0.0)"===c||"transparent"===c)&&l.childNodes[0].setAttribute("fill","rgba(255,255,255, 1)"),r||h.appendChild(l);let d=0,u=0;a.stockLegendModule&&a.legendSettings.visible&&("Bottom"===a.legendSettings.position||"Top"===a.legendSettings.position||"Auto"===a.legendSettings.position?d+=a.stockLegendModule.legendBounds.height:("Left"===a.legendSettings.position||"Right"===a.legendSettings.position)&&(u+=a.stockLegendModule.legendBounds.width)),i=f(t)||t?Math.max(a.availableSize.width+u,i):i+a.availableSize.width+u,s=f(t)||t?s+a.availableSize.height+d:Math.max(a.availableSize.height+d,s),r||o.appendChild(h)}),r||(o.setAttribute("width",i+""),o.setAttribute("height",s+"")),{width:i,height:s,svg:o}}createCanvas(){const e=this.control;this.canvasRender(!0,e);const t=e.svgObject;return this.canvasRender(!1,e),t}canvasRender(e,t){t.enableCanvas=e,t.preRender(),t.render()}exportPdf(e,t,i,s,r,o,a,l){const h=new Sp,c=h.pageSettings.margins,d=h.pageSettings.width,u=h.pageSettings.height;let p=e.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");h.pageSettings.orientation=t;const m=d<i?i+c.left+c.right:d,y=u<s?s+c.top+c.bottom:u;if(void 0!==a){const b=new jy(1,a.fontSize||15),v=new Nj(m,40);v.graphics.drawString(a.content+"",b,null,new nd(new J(0,0,0)),a.x,a.y,null),h.template.top=v}if(void 0!==l){const b=new jy(1,l.fontSize||15),v=new Nj(m,40);v.graphics.drawString(l.content+"",b,null,new nd(new J(0,0,0)),l.x,l.y,null),h.template.bottom=v}h.pageSettings.size=new We(m,y),p=p.slice(p.indexOf(",")+1),h.pages.add().graphics.drawImage(new By(p),0,0,i,s),r&&(h.save(o+".pdf"),h.destroy())}doexport(e,t,i){let s=[];s=[t],this.exportImage(s,i,e||"JPG",t)}exportImage(e,t,i,s){const r=[],o=e instanceof HTMLElement?0:e.length;for(let a=0;a<o;a++){const l=e[a].replace(/^data:[a-z]*;,/,"").split(","),h=atob(l[1]),c=new ArrayBuffer(h.length),d=new Uint8Array(c);for(let u=0;u<h.length;u++)d[u]=h.charCodeAt(u);r.push(c)}for(let a=0;a<r.length;a++){const l=new Blob([r[a]],{type:"application/octet-stream"});"msie"===T.info.name&&window.navigator.msSaveOrOpenBlob(l,t+"."+i.toLocaleLowerCase())}}}var ke=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let vwe=(()=>{class n extends he{}return ke([g()],n.prototype,"start",void 0),ke([g()],n.prototype,"end",void 0),ke([g([])],n.prototype,"colors",void 0),ke([g("")],n.prototype,"label",void 0),n})(),JU=(()=>{class n extends he{}return ke([g(!1)],n.prototype,"enable",void 0),ke([g("")],n.prototype,"dashArray",void 0),ke([U({color:null,width:1},Yn)],n.prototype,"line",void 0),ke([g("Both")],n.prototype,"lineType",void 0),ke([g("")],n.prototype,"verticalLineColor",void 0),ke([g("")],n.prototype,"horizontalLineColor",void 0),ke([g(1)],n.prototype,"opacity",void 0),n})(),eG=(()=>{class n extends he{}return ke([g(!1)],n.prototype,"enableSelectionZooming",void 0),ke([g(!1)],n.prototype,"enablePinchZooming",void 0),ke([g(!1)],n.prototype,"enableMouseWheelZooming",void 0),ke([g(!0)],n.prototype,"enableDeferredZooming",void 0),ke([g("XY")],n.prototype,"mode",void 0),ke([g(["Zoom","ZoomIn","ZoomOut","Pan","Reset"])],n.prototype,"toolbarItems",void 0),ke([g(!1)],n.prototype,"enablePan",void 0),ke([g(!1)],n.prototype,"enableScrollbar",void 0),n})(),D2=(()=>{let n=class extends $i{constructor(t,i){super(t,i),this.rotatedDataLabelCollections=[],this.animated=!1,this.isPointMouseDown=!1,this.isScrolling=!1,this.checkResize=0,this.visible=0,this.clickCount=0,this.singleClickTimer=0,this.chartAreaType="Cartesian",this.isRtlEnabled=!1,this.chartid=57723,Oi("mergePersistData",this.mergePersistChartData,this)}mergePersistChartData(){const t=window.localStorage.getItem(this.getModuleName()+this.element.id);if(!f(t)&&""!==t){const i=JSON.parse(t),s=Object.keys(i);this.isProtectedOnChange=!0;for(const r of s)"object"!=typeof this[r]||f(this[r])?this[r]=i[r]:fe(this[r],i[r]);this.isProtectedOnChange=!1}}isIdHasSpecialCharacter(t){const i=/^[A-Za-z ]+$/,s=/^[0-9 ]+$/;let r="";if(i.test(t))return t;{let o=0;s.test(t[0])&&(r+="\\3"+t[0],o=1);for(let a=o;a<t.length;a++)i.test(t[a])||-1!==t.indexOf("-")||-1!==t.indexOf("_")||-1!==t.indexOf("\\")||s.test(t[a])?r+=t[a]:r+="\\"+t[a];return r}}preRender(){this.element.id=this.isIdHasSpecialCharacter(this.element.id),this.isBlazor=window.Blazor,this.allowServerDataBinding=!1,this.unWireEvents(),this.initPrivateVariable(),this.setCulture(),this.wireEvents(),this.stockChart&&(null===this.stockChart.tooltip.header&&(this.tooltip.header="<b>${point.x}</b>"),null===this.stockChart.tooltip.format&&(this.tooltip.format="High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>",""!==this.stockChart.series[0].volume&&(this.tooltip.format+="<br/>Volume : <b>${point.volume}</b>")),this.animateSeries=!1)}initPrivateVariable(){if(this.animateSeries=!0,this.delayRedraw=!1,this.horizontalAxes=[],this.verticalAxes=[],this.refreshAxis(),this.refreshDefinition(this.rows),this.refreshDefinition(this.columns),this.tooltipModule&&(this.tooltipModule.previousPoints=[]),""===this.element.id){const t=document.getElementsByClassName("e-chart").length;this.element.id="chart_"+this.chartid+"_"+t}this.svgId=this.stockChart?this.stockChart.element.id+"_stockChart_chart":this.element.id+(this.enableCanvas?"_canvas":"_svg")}render(){this.svgRenderer=new jo(this.element.id);const t={chart:this.isBlazor?{}:this,theme:this.theme,name:U1,cancel:!1};this.stockChart?(this.isRtlEnabled="rtl"===window.getComputedStyle(document.querySelector("body")).direction,this.cartesianChartRendering(t)):this.trigger(U1,t,()=>{t.cancel||this.cartesianChartRendering(t)})}cartesianChartRendering(t){this.theme=this.isBlazor?t.theme:this.theme,this.createChartSvg(),this.setTheme(),this.markerRender=new bwe(this),this.calculateAreaType(),this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.calculateVisibleAxis(),this.processData(),this.renderComplete(),this.allowServerDataBinding=!0}getLocalizedLabel(t){return this.localeObject.getConstant(t)}animate(t){this.redraw=!0,this.animated=!0,this.duration=t||1e3}refreshBound(){if(this.rotatedDataLabelCollections=[],this.legendModule&&this.legendSettings.visible&&this.legendModule.getLegendOptions(this.visibleSeries,this),this.tooltip.enable&&this.tooltipModule&&(this.tooltipModule.previousPoints=[]),this.calculateStackValues(),this.calculateBounds(),this.stockChart&&!this.stockChart.rangeFound&&(this.stockChart.enablePeriodSelector||this.stockChart.enableSelector))return null;this.renderElements(),Qi("chartmeasuretext"),this.removeSelection()}calculateStackValues(){let t,i=!1;for(let s=0,r=this.visibleSeries.length;s<r;s++)t=this.visibleSeries[s],t.position=t.rectCount=void 0,(-1!==t.type.indexOf("Stacking")||-1!==t.drawType.indexOf("Stacking")&&"PolarRadar"===this.chartAreaType)&&!i&&(t.calculateStackedValue(t.type.indexOf("100")>-1,this),i=!0)}removeSelection(){for(const t of this.visibleSeries)if(t.visible)for(const i of t.points)i.isSelect=!1;se(this.element.id+"_ej2_drag_multi_group")?(this.selectionMode.indexOf("Drag")>-1&&(this.selectionModule.filterArray=[]),Qi(this.element.id+"_ej2_drag_multi_group"),this.selectionModule.calculateDragSelectedElements(this,new ce(0,0,0,0),!0)):se(this.element.id+"_ej2_drag_group")&&("Lasso"!==this.selectionMode&&(this.selectionModule.filterArray=[]),Qi(this.element.id+"_ej2_drag_group"),this.selectionModule.calculateDragSelectedElements(this,new ce(0,0,0,0),!0))}renderElements(){this.renderBorder(),this.renderTitle(),this.renderAreaBorder(),this.renderSeriesElements(this.renderAxes()),this.renderLegend(),this.applyZoomkit(),this.performSelection(),this.setSecondaryElementPosition();for(const t of this.visibleSeries);this.renderAnnotation()}renderAxes(){let t;return this.yAxisElements=this.renderer.createGroup({id:this.element.id+"yAxisCollection"}),this.rows.length>0&&this.columns.length>0&&(t=this.chartAxisLayoutPanel.renderAxes()),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Behind",this.axisCollections),t}renderLegend(){if(this.legendModule&&this.legendModule.legendCollections.length&&this.legendSettings.visible){this.legendModule.calTotalPage=!0;const t=this.legendSettings.border.width,i=this.legendModule.legendBounds;let s=new ce(i.x,i.y,i.width,i.height);this.enableCanvas&&(s=new ce(s.x-t/2,s.y-t/2,s.width+t,s.height+t),this.renderer.canvasClip(s)),this.legendModule.renderLegend(this,this.legendSettings,i),this.enableCanvas&&this.renderer.canvasRestore()}this.redraw||(this.stockChart?se(this.stockChart.chartObject.id)||this.stockChart.mainObject.appendChild(this.svgObject):this.element.appendChild(this.svgObject))}setSecondaryElementPosition(){const t=se(this.element.id+"_Secondary_Element");if(!t)return;const i=this.element.getBoundingClientRect(),s=se(this.svgId).getBoundingClientRect();t.style.left=Math.max(s.left-i.left,0)+"px",t.style.top=Math.max(s.top-i.top,0)+"px"}initializeModuleElements(){this.dataLabelCollections=[];const t=this.element.id;this.series.length&&(this.seriesElements="Scatter"===this.series[0].type||"Bubble"===this.series[0].type?this.svgRenderer.createGroup({id:t+"SeriesCollection"}):this.renderer.createGroup({id:t+"SeriesCollection"})),this.indicators.length&&(this.indicatorElements=this.renderer.createGroup({id:t+"IndicatorCollection"})),this.hasTrendlines()&&(this.trendLineElements=this.renderer.createGroup({id:t+"TrendLineCollection"})),this.dataLabelElements=this.renderer.createGroup({id:t+"DataLabelCollection"})}hasTrendlines(){let t;for(const i of this.series)if(t=!!i.trendlines.length,t)break;return t}renderSeriesElements(t){this.initializeModuleElements();const i=this.element.id;if("g"!==this.element.tagName){const s=hl(this.redraw,i+"_Secondary_Element")||this.createElement("div");s.id=i+"_Secondary_Element",s.style="position: relative",lt(!1,this.element,s,this.redraw)}if(this.enableCanvas){let s=document.getElementById(i+"_Secondary_Element");s=s||this.createElement("div",{id:i+"_Secondary_Element",attrs:{style:"position: relative; left:0px; top:0px"}});const r=this.svgRenderer.createSvg({id:i+"_tooltip_svg",width:this.availableSize.width,height:this.availableSize.height});r.style="position: absolute; pointer-events: none",s.appendChild(r)}this.tooltip.enable&&lt(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:i+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.rows.length>0&&this.columns.length>0&&(this.initializeIndicator(),this.initializeTrendLine(),this.renderSeries(),this.trendLineElements&&lt(this.enableCanvas,this.svgObject,this.trendLineElements,this.redraw),this.appendElementsAfterSeries(t))}renderSeries(){let t;this.enableCanvas&&this.renderer.canvasClip(this.chartAxisLayoutPanel.seriesClipRect);for(const r of this.visibleSeries)t="TrendLine"===r.category?this.series[r.sourceIndex].trendlines[r.index].visible:r.visible,t&&(this.visible++,f2(r),this.enableCanvas&&this.renderCanvasSeries(r),r.renderSeries(this));if(this.enableCanvas&&this.renderer.canvasRestore(),this.visible=0,!this.seriesElements)return;this.enableCanvas||this.seriesElements.appendChild(vd(this.redraw,{id:this.element.id+"_ChartAreaClipRect_",x:this.chartAxisLayoutPanel.seriesClipRect.x,y:this.chartAxisLayoutPanel.seriesClipRect.y,width:this.chartAxisLayoutPanel.seriesClipRect.width,height:this.chartAxisLayoutPanel.seriesClipRect.height,fill:"transparent","stroke-width":1,stroke:"Gray"},this.renderer));const s=document.getElementById(this.element.id+"_series_svg");s?lt(!1,s,this.seriesElements,this.redraw):lt(this.enableCanvas,this.svgObject,this.seriesElements,this.redraw)}renderCanvasSeries(t){let i,s;if("Bubble"===t.type||"Scatter"===t.type){i=i||this.svgRenderer.createSvg({id:this.element.id+"_series_svg",width:this.availableSize.width,height:this.availableSize.height}),s=s||this.createElement("div",{id:this.element.id+"_series"}),s.style="position: absolute";const o=document.getElementById(this.element.id+"_Secondary_Element");s.appendChild(i),o.appendChild(s)}i=!this.enableCanvas||"Bubble"!==t.type&&"Scatter"!==t.type?this.svgObject:i}initializeIndicator(){for(const t of this.indicators)this[Nn(t.type)+"IndicatorModule"]&&this[Nn(t.type)+"IndicatorModule"].createIndicatorElements(this,t,t.index);this.indicatorElements&&lt(this.enableCanvas,this.svgObject,this.indicatorElements,this.redraw)}initializeTrendLine(){for(const t of this.visibleSeries)t.trendlines.length&&this.trendLineModule.getTrendLineElements(t,this)}appendElementsAfterSeries(t){"PolarRadar"===this.chartAreaType&&lt(this.enableCanvas,this.svgObject,this.yAxisElements,this.redraw),lt(this.enableCanvas,this.svgObject,t,this.redraw),(this.zoomModule&&this.zoomSettings.enableScrollbar&&this.scrollElement.childElementCount||this.scrollElement&&this.scrollElement.childElementCount)&&lt(!1,se(this.element.id+"_Secondary_Element"),this.scrollElement,this.redraw),this.stripLineModule&&this.stripLineModule.renderStripLine(this,"Over",this.axisCollections),this.tooltip.enable||lt(this.enableCanvas,this.svgObject,this.renderer.createGroup({id:this.element.id+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.stockChart&&this.stockChart.calculateStockEvents()}applyZoomkit(){"PolarRadar"!==this.chartAreaType&&!this.redraw&&this.zoomModule&&(!this.zoomSettings.enablePan||this.zoomModule.performedUI)&&this.zoomModule.applyZoomToolkit(this,this.axisCollections)}renderAnnotation(){this.annotationModule&&this.annotationModule.renderAnnotations(se((this.stockChart?this.stockChart.element.id:this.element.id)+"_Secondary_Element"))}performSelection(){let t=[];this.selectionModule&&(t=fe([],this.selectionModule.selectedDataIndexes,null,!0),this.selectionModule.invokeSelection(this)),this.highlightModule&&this.highlightModule.invokeHighlight(this),t.length>0&&(this.selectionModule.selectedDataIndexes=t,this.selectionModule.redrawSelection(this,this.selectionMode))}processData(t=!0){this.visibleSeriesCount=0;let i=!0;for(const s of this.visibleSeries)s.visible||this.legendSettings.visible?"Indicator"!==s.category&&"TrendLine"!==s.category&&this.initializeDataModule(s):this.visibleSeriesCount++;for(const s of this.indicators)s.dataSource&&(this.initializeDataModule(s),i=!1);t&&(!this.visibleSeries.length||this.visibleSeriesCount===this.visibleSeries.length&&i)&&(this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))}initializeDataModule(t){let i;t.xData=[],t.yData=[],i=this.isAngular?Object.keys(t.dataSource).length?t.dataSource:this.dataSource:t.dataSource||this.dataSource,t.dataModule=new E2(i,t.query),t.points=[],t.refreshDataManager(this)}calculateBounds(){const t=this.margin;let i=0,s=0,r=0,a=t.left;const l=this.availableSize.width-a-t.right-this.border.width;if(this.titleCollection=[],this.subTitleCollection=[],this.title&&(this.titleCollection=Xp(this.title,this.titleStyle,l),i=Le(this.title,this.titleStyle).height*this.titleCollection.length+15,this.subTitle)){let d=0;for(const u of this.titleCollection)r=Le(u,this.titleStyle).width,d=r>d?r:d;this.subTitleCollection=Xp(this.subTitle,this.subTitleStyle,d),s=Le(this.subTitle,this.subTitleStyle).height*this.subTitleCollection.length+15}let h=t.top+s+i+.5*this.chartArea.border.width;const c=this.availableSize.height-h-this.border.width-t.bottom;this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&("Top"===this.stockChart.legendSettings.position?h+=this.stockChart.stockLegendModule.legendBounds.height:"Left"===this.stockChart.legendSettings.position&&(a+=this.stockChart.stockLegendModule.legendBounds.width)),this.initialClipRect=new ce(a,h,l,c),this.legendModule&&this.legendSettings.visible&&this.legendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null),this.chartAxisLayoutPanel.measureAxis(this.initialClipRect)}print(t){new Kp(this).print(t)}initTrendLines(){this.isProtectedOnChange=!0;for(const t of this.visibleSeries){let i=0;for(const s of t.trendlines){const r=s;this.trendLineModule&&(r.index=i,r.sourceIndex=t.index,this.trendLineModule.initSeriesCollection(r,this),r.targetSeries&&(r.targetSeries.xAxisName=t.xAxisName,r.targetSeries.yAxisName=t.yAxisName,this.visibleSeries.push(r.targetSeries))),i++}}this.isProtectedOnChange=!1}calculateAreaType(){const t=this.series[0];this.chartArea.border.width=this.stockChart?0:this.chartArea.border.width,t&&(this.requireInvertedAxis=-1!==t.type.indexOf("Bar")&&!this.isTransposed||-1===t.type.indexOf("Bar")&&this.isTransposed&&"PolarRadar"!==this.chartAreaType),this.chartAxisLayoutPanel="PolarRadar"===this.chartAreaType?this.polarSeriesModule||this.radarSeriesModule:new gwe(this)}calculateVisibleAxis(){let t,i=[this.primaryXAxis,this.primaryYAxis];i="Cartesian"===this.chartAreaType?i.concat(this.axes):i,this.paretoSeriesModule&&"Pareto"===this.series[0].type&&(i=i.concat(this.paretoSeriesModule.paretoAxes)),this.axisCollections=[],this.zoomModule&&(this.zoomModule.isPanning=this.zoomModule.isAxisZoomed(i)&&this.zoomSettings.enablePan,this.svgObject.setAttribute("cursor",this.zoomModule.isPanning?"pointer":"auto"),this.scrollBarModule&&(this.scrollBarModule.axes=i)),this.scrollSettingEnabled&&this.scrollBarModule&&(this.scrollBarModule.axes=i);for(let s=0,r=i.length;s<r;s++){t=i[s],t.series=[],t.labels=[];for(const o of this.visibleSeries)this.initAxis(o,t,!0);for(const o of this.indicators)this.initAxis(o,t,!1);this.scrollBarModule&&!t.zoomingScrollBar&&this.scrollBarModule.injectTo(t,this),null!=t.orientation&&this.axisCollections.push(t)}this.rows.length>0&&this.columns.length>0&&this.chartAxisLayoutPanel.measure()}initAxis(t,i,s){t.xAxisName===i.name||null==t.xAxisName&&"primaryXAxis"===i.name?(i.orientation=this.requireInvertedAxis?"Vertical":"Horizontal",t.xAxis=i,s&&i.series.push(t)):(t.yAxisName===i.name||null==t.yAxisName&&"primaryYAxis"===i.name)&&(i.orientation=this.requireInvertedAxis?"Horizontal":"Vertical",t.yAxis=i,s&&i.series.push(t))}initTechnicalIndicators(){let t=0;for(const i of this.indicators){const s=i,r=Nn(s.type);if(this[r+"IndicatorModule"]){s.index=t,this[r+"IndicatorModule"].initSeriesCollection(s,this);for(const o of s.targetSeries)(i.seriesName||i.dataSource)&&this.visibleSeries.push(o)}t++}}refreshTechnicalIndicator(t){if(this.indicators.length){let i=null;if(t instanceof Ze&&"Indicator"!==t.category)for(const s of this.indicators)s.seriesName===t.name&&!s.dataSource&&(i=s,i.setDataSource(t,this));else t instanceof xr&&(i=t,i.setDataSource(t instanceof Ze?t:null,this))}}calculateVisibleSeries(){let t;this.visibleSeries=[];const i=this.palettes.length?this.palettes:H1(this.theme),s=i.length,r=this.series.sort((o,a)=>o.zOrder-a.zOrder);for(let o=0,a=r.length;o<a;o++){switch(t=r[o],t.category="Pareto"===r[0].type?"Pareto":"Series",t.index=o,t.interior=t.fill||i[o%s],t.type){case"Bar":case"StackingBar":case"StackingBar100":if(-1===r[0].type.indexOf("Bar"))continue;break;case"Polar":case"Radar":if("PolarRadar"!==this.chartAreaType||"PolarRadar"===this.chartAreaType&&(null===t.xAxisName&&null!==t.yAxisName||null!==t.xAxisName&&null===t.yAxisName||null!==t.xAxisName&&null!==t.yAxisName))continue;break;case"Pareto":this.visibleSeries.push(t),this.paretoSeriesModule.initSeries(t,this);continue;default:if("PolarRadar"===this.chartAreaType||r[0].type.indexOf("Bar")>-1)continue}this.visibleSeries.push(t),r[o]=t}}renderTitle(){let t;const i=this.margin;if(this.title){const s=this.titleStyle.textAlignment,r="Near"===s?"start":"Far"===s?"end":"middle",o=Le(this.title,this.titleStyle);t=new ce(i.left,0,this.availableSize.width-i.left-i.right,0);const a=new bs(this.element.id+"_ChartTitle",Am(t,this.titleStyle),this.margin.top+3*o.height/4,r,this.titleCollection,"","auto"),l=hl(this.redraw,this.element.id+"_ChartTitle",a,this.renderer)||Os(this.renderer,a,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitle,this.svgObject,null,null,null,null,null,null,0,null,this.enableCanvas);l&&(l.setAttribute("aria-label",this.description||this.title),l.setAttribute("tabindex",this.tabIndex.toString())),this.subTitle&&this.renderSubTitle(a)}}renderSubTitle(t){let i=0,s=0;const a=this.titleStyle.textAlignment;for(const u of this.titleCollection)s=Le(u,this.titleStyle).width,i=s>i?s:i;const l=Le(this.subTitle,this.subTitleStyle),h=new ce("Center"===a?t.x-.5*i:"Far"===a?t.x-i:t.x,0,i,0),c=new bs(this.element.id+"_ChartSubTitle",Am(h,this.subTitleStyle),t.y*t.text.length+3*l.height/4+10,"Near"===(u=this.subTitleStyle.textAlignment)?"start":"Far"===u?"end":"middle",this.subTitleCollection,"","auto"),d=hl(this.redraw,this.element.id+"_ChartSubTitle",c,this.renderer)||Os(this.renderer,c,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartTitle,this.svgObject,null,null,null,null,null,null,0,null,this.enableCanvas);var u;d&&(d.setAttribute("aria-label",this.description||this.subTitle),d.setAttribute("tabindex",this.tabIndex.toString()))}renderBorder(){let t=0,i=0;const s=this.border.width,r=this.backgroundImage;this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&("Top"===this.stockChart.legendSettings.position?i+=this.stockChart.stockLegendModule.legendBounds.height:"Left"===this.stockChart.legendSettings.position&&(t+=this.stockChart.stockLegendModule.legendBounds.width));const a=new us(this.element.id+"_ChartBorder",r?"transparent":this.background||this.themeStyle.background,this.border,1,new ce(.5*s+t,.5*s+i,this.availableSize.width-s,this.availableSize.height-s));if(this.htmlObject=hl(this.redraw,this.element.id+"_ChartBorder",a,this.renderer)||this.renderer.drawRectangle(a),lt(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw),r){const l=new S2(this.availableSize.height-s,this.availableSize.width-s,r,0,0,this.element.id+"_ChartBackground","visible","none");this.htmlObject=hl(this.redraw,this.element.id+"_ChartBackground",l,this.renderer)||this.renderer.drawImage(l),lt(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw)}}renderAreaBorder(){if("PolarRadar"===this.chartAreaType)return null;{const i=se(this.element.id+"_ChartAreaBorder"),s=i?new ce(+i.getAttribute("x"),+i.getAttribute("y"),+i.getAttribute("width"),+i.getAttribute("height")):null,r=new us(this.element.id+"_ChartAreaBorder",this.chartArea.background,{width:this.chartArea.border.width,color:this.chartArea.border.color||this.themeStyle.areaBorder},this.chartArea.opacity,this.chartAxisLayoutPanel.seriesClipRect);this.htmlObject=this.renderer.drawRectangle(r),lt(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0,s),this.htmlObject=null}const t=this.chartArea.backgroundImage;if(t){const i=this.chartArea.border.width,s=new S2(this.initialClipRect.height-i,this.initialClipRect.width-i,t,this.initialClipRect.x,this.initialClipRect.y,this.element.id+"_ChartAreaBackground","visible","none");this.htmlObject=this.renderer.drawImage(s),lt(this.enableCanvas,this.svgObject,this.htmlObject,this.redraw,!0,"x","y",null,null,!0,!0)}}addSeries(t){for(let i of t)i=new Ze(this,"series",i),this.series.push(i);this.refresh()}removeSeries(t){this.redraw=!1,this.series.splice(t,1),this.refresh()}clearSeries(){this.series=[],this.refresh()}addAxes(t){for(let i of t)i=new ut(this,"axes",i),this.isBlazor&&(i.interval=isNaN(i.interval)?null:i.interval,i.desiredIntervals=isNaN(i.desiredIntervals)?null:i.desiredIntervals),this.axes.push(i);this.refresh()}removeAxis(t){this.redraw=!1,this.axes.splice(t,1),this.refresh()}destroy(){this.scrollBarModule&&this.scrollBarModule.destroy(),this.markerRender&&(this.markerRender.removeEventListener(),this.markerRender=null),this.horizontalAxes=[],this.verticalAxes=[],this.visibleSeries=[],this.axisCollections=[],this.rotatedDataLabelCollections=[],this.seriesElements=null,this.chartAxisLayoutPanel=null,this.dataLabelCollections=null,this.dataLabelElements=null,this.yAxisElements=null,this.element&&(this.unWireEvents(),this.isReact&&this.clearTemplate(),super.destroy(),this.enableCanvas||(this.removeSvg(),this.svgObject=null))}getModuleName(){return"chart"}getPersistData(){return this.addOnPersist(["loaded","animationComplete","primaryXAxis","primaryYAxis"])}createChartSvg(){this.removeSvg(),w2(this)}unWireEvents(){const i=T.touchMoveEvent,s=T.touchEndEvent,r=T.isPointer?"pointerleave":"mouseleave";S.remove(this.element,T.touchStartEvent,this.chartOnMouseDown),S.remove(this.element,i,this.mouseMove),S.remove(this.element,s,this.mouseEnd),S.remove(this.element,"click",this.chartOnMouseClick),S.remove(this.element,"contextmenu",this.chartRightClick),S.remove(this.element,r,this.mouseLeave),window.removeEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.touchObject&&(this.touchObject.destroy(),this.touchObject=null)}wireEvents(){if(!this.element)return;const t=T.isPointer?"pointerleave":"mouseleave";S.add(this.element,T.touchStartEvent,this.chartOnMouseDown,this),S.add(this.element,T.touchMoveEvent,this.mouseMove,this),S.add(this.element,T.touchEndEvent,this.mouseEnd,this),S.add(this.element,"click",this.chartOnMouseClick,this),S.add(this.element,"contextmenu",this.chartRightClick,this),S.add(this.element,t,this.mouseLeave,this),this.resizeBound=this.chartResize.bind(this),window.addEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.longPressBound=this.longPress.bind(this),this.touchObject=new wn(this.element,{tapHold:this.longPressBound,tapHoldThreshold:500}),this.setStyle(this.element)}chartRightClick(t){return!this.crosshair.enable||!this.crosshairModule||2!==t.buttons&&0!==t.which&&"touch"!==t.pointerType||(t.preventDefault(),t.stopPropagation(),!1)}setStyle(t){const i=this.zoomSettings,s=i.enableSelectionZooming||i.enablePinchZooming||"None"!==this.selectionMode||this.crosshair.enable||"None"!==this.highlightMode;t.style.touchAction=s?"none":"element",t.style.msTouchAction=s?"none":"element",t.style.msContentZooming="none",t.style.msUserSelect="none",t.style.webkitUserSelect="none",t.style.position="relative",t.style.display="block",t.style.overflow="hidden"}isOrientation(){return"orientation"in window&&"onorientationchange"in window}longPress(t){return this.mouseX=t&&t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].clientX:0,this.mouseY=t&&t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].clientY:0,this.startMove=!0,this.setMouseXY(this.mouseX,this.mouseY),this.notify("tapHold",t),!1}setMouseXY(t,i){if(se(this.svgId)){const s=se(this.svgId).getBoundingClientRect(),r=this.element.getBoundingClientRect();this.mouseY=i-r.top-Math.max(s.top-r.top,0),this.mouseX=t-r.left-Math.max(s.left-r.left,0)}}export(t,i){this.exportModule&&(this.exportModule.export(t,i),this.afterExport&&this.exportModule.getDataUrl(this))}chartResize(){this.animateSeries=!1;const t={chart:this.isBlazor?{}:this,name:bb,currentSize:new xt(0,0),previousSize:new xt(this.availableSize.width,this.availableSize.height)},i={name:"beforeResize",cancelResizedEvent:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger(IU,i),i.cancelResizedEvent||(this.resizeTo=+setTimeout(()=>{this.isDestroyed||this.stockChart?clearTimeout(this.resizeTo):(this.createChartSvg(),t.currentSize=this.availableSize,this.trigger(bb,t),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))},500)),!1}mouseMove(t){let i,s,r;return"touchmove"===t.type?(this.isTouch=!0,r=t,i=r.changedTouches[0].clientX,s=r.changedTouches[0].clientY):(this.isTouch="touch"===t.pointerType||"2"===t.pointerType||this.isTouch,i=t.clientX,s=t.clientY),se(this.svgId)&&(this.setMouseXY(i,s),this.chartOnMouseMove(t)),!1}mouseLeave(t){let i,s,r;return"touchleave"===t.type?(this.isTouch=!0,r=t,i=r.changedTouches[0].clientX,s=r.changedTouches[0].clientY):(this.isTouch="touch"===t.pointerType||"2"===t.pointerType,i=t.clientX,s=t.clientY),this.setMouseXY(i,s),this.chartOnMouseLeave(t),!1}chartOnMouseLeave(t){const s=T.isPointer?"pointerleave":"mouseleave";return this.trigger(kU,{target:t.target.id,x:this.mouseX,y:this.mouseY}),Qi(this.element.id+"_EJ2_AxisLabel_Tooltip"),this.isChartDrag=this.isPointMouseDown=!1,this.notify(s,t),!1}chartOnMouseClick(t){this.trigger(EU,{target:t.target.id,x:this.mouseX,y:this.mouseY}),this.clickCount++;let s=0;return s=this.isAngular?this.pointDoubleClick.observers.length>0?400:0:this.pointDoubleClick?400:0,1===this.clickCount&&this.pointClick?this.singleClickTimer=+setTimeout(()=>{this.clickCount=0,this.triggerPointEvent(DU,t)},s):2===this.clickCount&&this.pointDoubleClick&&(clearTimeout(this.singleClickTimer),this.clickCount=0,this.triggerPointEvent("pointDoubleClick",t)),this.axisLabelClick&&this.triggerAxisLabelClickEvent("axisLabelClick",t),this.notify("click",t),!1}triggerPointEvent(t,i){const s=i,o=new Iw(this).getData();o.series&&o.point&&this.trigger(t,{series:this.isBlazor?{}:o.series,point:o.point,seriesIndex:o.series.index,pointIndex:o.point.index,x:this.mouseX,y:this.mouseY,pageX:s.pageX,pageY:s.pageY})}triggerAxisLabelClickEvent(t,i){const s=i.target,r=i;if(-1!==s.id.indexOf("_AxisLabel_")){const o=s.id.split("_AxisLabel_"),a=+o[0].slice(-1),l=+o[1],h=this.axisCollections[a];h.visible&&(0===a||1===a)&&this.trigger(t,{chart:this,axis:h,text:h.visibleLabels[l].text,labelID:s.id,index:l,location:new Fe(r.pageX,r.pageY),value:h.visibleLabels[l].value})}}chartOnMouseMove(t){return this.trigger(xU,{target:t.target.id,x:this.mouseX,y:this.mouseY}),this.pointMove&&this.triggerPointEvent(MU,t),this.isTouch||(this.titleTooltip(t,this.mouseX,this.mouseY),this.axisTooltip(t,this.mouseX,this.mouseY)),this.dataEditingModule&&this.dataEditingModule.pointMouseMove(t),this.notify(T.touchMoveEvent,t),this.isTouch=!1,!1}titleTooltip(t,i,s,r){const o=t.target.id,a=o===this.element.id+"_ChartTitle"||o===this.element.id+"_ChartSubTitle"||o.indexOf("_AxisTitle")>-1||o.indexOf("_legend_title")>-1;let l=0;o.indexOf("_AxisTitle")>-1&&(l=parseInt(o.replace(this.element.id,"").replace("AxisLabel_","").split("_")[2],10)),a&&t.target.textContent.indexOf("...")>-1?xb(o===this.element.id+"_ChartTitle"?this.title:o.indexOf("_AxisTitle")>-1?this.axisCollections[l].title:o.indexOf("_ChartSubTitle")>-1?this.subTitle:this.legendSettings.title,i,s,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",se(this.element.id+"_Secondary_Element"),r):Qi(this.element.id+"_EJ2_Title_Tooltip")}axisTooltip(t,i,s,r){const o=t.target.id;if((o.indexOf("AxisLabel")>-1||o.indexOf("Axis_MultiLevelLabel")>-1)&&t.target.textContent.indexOf("...")>-1){const a=this.legendSettings.visible||""===this.primaryXAxis.title;xb(this.findAxisLabel(o),i,s,this.element.offsetWidth,this.element.id+"_EJ2_AxisLabel_Tooltip",se(this.element.id+"_Secondary_Element"),r,a)}else Qi(this.element.id+"_EJ2_AxisLabel_Tooltip")}findAxisLabel(t){let i;return t.indexOf("AxisLabel")>-1?(i=t.replace(this.element.id,"").replace("AxisLabel_","").split("_"),this.axisCollections[parseInt(i[0],10)].visibleLabels[parseInt(i[1],10)].originalText):(i=t.replace(this.element.id,"").replace("Axis_MultiLevelLabel_Level_","").replace("Text_","").split("_"),this.axisCollections[parseInt(i[0],10)].multiLevelLabels[parseInt(i[1],10)].categories[parseInt(i[2],10)].text)}chartOnMouseDown(t){let i,s,r,o;const a=T.isDevice?20:30,l=this.element.getBoundingClientRect();this.trigger(AU,{target:t.target.id,x:this.mouseX,y:this.mouseY}),"touchstart"===t.type?(this.isTouch=!0,o=t,i=o.changedTouches[0].clientX,s=o.changedTouches[0].clientY,r=o.target):(this.isTouch="touch"===t.pointerType,i=t.clientX,s=t.clientY,r=t.target);const c=se(this.svgId).getBoundingClientRect();return this.mouseDownX=this.previousMouseMoveX=i-l.left-Math.max(c.left-l.left,0),this.mouseDownY=this.previousMouseMoveY=s-l.top-Math.max(c.top-l.top,0),this.isTouch&&(this.isDoubleTap=(new Date).getTime()<this.threshold&&-1===r.id.indexOf(this.element.id+"_Zooming_")&&(this.mouseDownX-a>=this.mouseX||this.mouseDownX+a>=this.mouseX)&&(this.mouseDownY-a>=this.mouseY||this.mouseDownY+a>=this.mouseY)&&(this.mouseX-a>=this.mouseDownX||this.mouseX+a>=this.mouseDownX)&&(this.mouseY-a>=this.mouseDownY||this.mouseY+a>=this.mouseDownY)),this.dataEditingModule&&this.dataEditingModule.pointMouseDown(),this.notify(T.touchStartEvent,t),!1}mouseEnd(t){let i,s,r;return"touchend"===t.type?(r=t,s=r.changedTouches[0].clientX,this.isTouch=!0,i=r.changedTouches[0].clientY):(i=t.clientY,s=t.clientX,this.isTouch="touch"===t.pointerType||"2"===t.pointerType),this.setMouseXY(s,i),this.chartOnMouseUp(t),!1}chartOnMouseUp(t){return this.trigger(TU,{target:t.target.id,x:this.mouseX,y:this.mouseY}),this.isChartDrag=!1,this.isTouch&&(this.titleTooltip(t,this.mouseX,this.mouseY,this.isTouch),this.axisTooltip(t,this.mouseX,this.mouseY,this.isTouch),this.threshold=(new Date).getTime()+300),this.dataEditingModule&&this.dataEditingModule.pointMouseUp(),!this.enableCanvas&&this.seriesElements&&this.seriesElements.removeAttribute("clip-path"),this.notify(T.touchEndEvent,t),!1}setCulture(){this.intl=new Gs,this.setLocaleConstants(),this.localeObject=new Na(this.getModuleName(),this.defaultLocalConstants,this.locale)}setAnnotationValue(t,i){const s=se(this.element.id+"_Annotation_Collections"),r=this.annotations[t];let o;null!==i&&(r.content=i,s?(Qi(this.element.id+"_Annotation_"+t),o=this.createElement("div"),this.annotationModule.processAnnotation(r,t,o),s.appendChild(o.children[0])):this.annotationModule.renderAnnotations(se(this.element.id+"_Secondary_Element")))}setLocaleConstants(){this.defaultLocalConstants={ZoomIn:"Zoom in",Zoom:"Zoom",ZoomOut:"Zoom out",Pan:"Pan",Reset:"Reset",ResetZoom:"Reset Zoom"}}setTheme(){this.themeStyle=l2(this.theme)}requiredModules(){let r,t=[],i=this.series,s=!1,o=!1,a=!1,l=!1,h=this.zoomSettings;return this.chartAreaType=i.length>0&&("Polar"===i[0].type||"Radar"===i[0].type)?"PolarRadar":"Cartesian",this.tooltip.enable&&t.push({member:"Tooltip",args:[this]}),i.map(c=>{this.isLegend=this.legendSettings.visible&&(""!==c.name||!!this.isLegend),r=-1!==c.type.indexOf("100")?c.type.replace("100","")+"Series":c.type+"Series",o=c.errorBar.visible||o,l=c.marker.dataLabel.visible||l,a=c.dragSettings.enable||a,t.some(d=>d.member===r)||t.push({member:r,args:[this,i]}),"PolarRadar"===this.chartAreaType&&t.push({member:c.drawType+"Series",args:[this,i]}),"Pareto"===c.type&&(t.push({member:"ColumnSeries",args:[this,i]}),t.push({member:"LineSeries",args:[this,i]}))}),this.findIndicatorModules(t),this.findTrendLineModules(t),t=this.findAxisModule(t),s=this.annotations.some(c=>null!==c.content),o&&t.push({member:"ErrorBar",args:[this,i]}),this.isLegend&&t.push({member:"Legend",args:[this]}),(this.enableExport||this.allowExport)&&t.push({member:"Export",args:[this]}),"PolarRadar"!==this.chartAreaType&&!this.scrollSettingEnabled&&(h.enableSelectionZooming||h.enableMouseWheelZooming||h.enablePinchZooming||h.enablePan||h.enableScrollbar)&&(t.push({member:"Zoom",args:[this,this.zoomSettings]}),h.enableScrollbar&&t.push({member:"ScrollBar",args:[this]})),"None"!==this.selectionMode&&!("PolarRadar"===this.chartAreaType&&this.selectionMode.indexOf("Drag")>-1)&&t.push({member:"Selection",args:[this]}),"None"!==this.highlightMode&&t.push({member:"Highlight",args:[this]}),l&&t.push({member:"DataLabel",args:[this,i]}),a&&t.push({member:"DataEditing",args:[this]}),s&&t.push({member:"Annotation",args:[this]}),"PolarRadar"!==this.chartAreaType&&this.crosshair.enable&&t.push({member:"Crosshair",args:[this]}),t}findAxisModule(t){let i=[];i.push(this.primaryXAxis),i.push(this.primaryYAxis),i=i.concat(this.axes);let s=!1,r=!1,o=!1,a=!1,l=!1,h=!1;for(let c of i)s="DateTime"===c.valueType||s,r="Category"===c.valueType||r,o="Logarithmic"===c.valueType||o,l="DateTimeCategory"===c.valueType||l,a=this.findStriplineVisibility(c.stripLines)||a,h=c.multiLevelLabels.length>0||h,this.scrollSettingEnabled=!!c.scrollbarSettings.enable||this.scrollSettingEnabled;return s&&t.push({member:"DateTime",args:[this]}),r&&t.push({member:"Category",args:[this]}),o&&t.push({member:"Logarithmic",args:[this]}),a&&t.push({member:"StripLine",args:[this]}),h&&t.push({member:"MultiLevelLabel",args:[this]}),l&&t.push({member:"DateTimeCategory",args:[this]}),this.scrollSettingEnabled&&t.push({member:"ScrollBar",args:[this]}),t}findIndicatorModules(t){let i,s,r=this.indicators;if(this.indicators.length){t.push({member:"LineSeries",args:[this]}),r.map(o=>{i=i||"Macd"===o.type,s=s||"BollingerBands"===o.type}),i&&t.push({member:"ColumnSeries",args:[this]}),s&&t.push({member:"RangeAreaSeries",args:[this]}),s&&t.push({member:"SplineRangeAreaSeries",args:[this]});for(let o of this.indicators)t.push({member:o.type+"Indicator",args:[this]})}}findTrendLineModules(t){let i,s;for(let r of this.series){let o;r.trendlines.map(a=>{o=o||a.marker.visible,i=!(!i&&"Linear"!==a.type&&"MovingAverage"!==a.type),s=!(!s&&i)}),o&&t.push({member:"Marker",args:[this,r]})}(i||s)&&t.push({member:"TrendLine",args:[this]}),i&&t.push({member:"LineSeries",args:[this]}),s&&t.push({member:"SplineSeries",args:[this]})}findStriplineVisibility(t){let i=!1;for(let s of t)if(s.visible){i=!0;break}return i}removeSvg(){if(this.redraw)return null;if(sD(this),this.enableCanvas&&this.svgObject&&"CANVAS"===this.svgObject.tagName)return this.renderer.clearRect(new ce(0,0,this.availableSize.width,this.availableSize.height)),this.svgObject.parentNode&&Ue(this.svgObject),null;Qi(this.element.id+"_Secondary_Element"),this.isReact&&this.clearTemplate();let t=0;if(this.zoomModule&&this.zoomModule.pinchTarget&&(this.zoomModule.pinchTarget.id="",this.zoomModule.pinchTarget.setAttribute("opacity","0"),this.svgObject.appendChild(this.zoomModule.pinchTarget),t=1),!f(this.resizeTo)){if(this.resizeTo!==this.checkResize&&this.isBlazor&&this.element.childElementCount){let i=document.querySelectorAll(".e-chart");for(let s=0;s<i.length;s++){let r=i[s];for(;r.firstChild;)Ue(r.firstChild)}}this.checkResize=this.resizeTo}if(this.svgObject){for(;this.svgObject.childNodes.length>t;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&!this.stockChart&&Ue(this.svgObject)}}refreshDefinition(t){for(let i of t)i.axes=[]}refreshAxis(){let t=this.primaryXAxis;t.rect=new ce(void 0,void 0,0,0),t=this.primaryYAxis,t.isStack100=!1,t.rect=new ce(void 0,void 0,0,0);for(let i of this.axes)t=i,t.rect=new ce(void 0,void 0,0,0),t.isStack100=!1;if(this.paretoSeriesModule&&"Pareto"===this.series[0].type)for(let i of this.paretoSeriesModule.paretoAxes)t=i,t.rect=new ce(void 0,void 0,0,0),t.isStack100=!1}axisChange(t){return!(!t.name&&!t.valueType||(this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(),0))}getVisibleSeries(t,i){for(let s of t)if(i===s.index)return s;return null}refreshLiveData(){this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),this.isBlazor||(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}))}removeStyles(){Qi(this.element.id+"_ej2_chart_selection"),Qi(this.element.id+"_ej2_chart_highlight")}onPropertyChanged(t,i){let s=!1,r=!1;if(this.animateSeries=!1,!this.delayRedraw){for(let o of Object.keys(t))switch(o){case"primaryXAxis":r=this.axisChange(t.primaryXAxis),t.primaryXAxis.edgeLabelPlacement&&(s=!0),t.primaryXAxis.crosshairTooltip||(r=!0);break;case"primaryYAxis":r=this.axisChange(t.primaryYAxis),t.primaryYAxis.edgeLabelPlacement&&(s=!0),t.primaryYAxis.crosshairTooltip||(r=!0);break;case"axes":for(let d of Object.keys(t.axes))r=r||this.axisChange(t.axes[d]),t.axes[d].crosshairTooltip||(r=!0);break;case"height":case"width":this.createChartSvg(),r=!0;break;case"subTitle":case"title":r=!0;break;case"titleStyle":t.titleStyle&&(t.titleStyle.size||t.titleStyle.textOverflow)?r=!0:s=!0;break;case"subTitleStyle":t.subTitleStyle&&(t.subTitleStyle.size||t.subTitleStyle.textOverflow)?r=!0:s=!0;break;case"border":s=!0;break;case"dataSource":this.processData(!1),r=!0;break;case"enableCanvas":this.refresh();break;case"series":let h,c,a=this.series.length,l=!1;for(let d=0;d<a;d++)h=t.series[d],this.isBlazor&&h&&(h.visible!==i.series[d].visible||h.isClosed||h.marker||h.emptyPointSettings||h.type||h.boxPlotMode||h.showMean)&&(c=!0),h&&(h.dataSource||h.query||h.errorBar||h.xName||h.yName||h.size||h.high||h.low||h.open||h.close||h.fill||h.name||h.marker||c)&&(fe(this.getVisibleSeries(this.visibleSeries,d),h,null,!0),l=!0);l&&(this.calculateVisibleSeries(),this.initTechnicalIndicators(),this.initTrendLines(),this.refreshDefinition(this.columns),this.refreshDefinition(this.rows),this.calculateVisibleAxis(),this.processData(!1),r=!0);break;case"indicators":r=!0;break;case"zoomSettings":(t.zoomSettings.enableScrollbar||i.zoomSettings.enableScrollbar)&&(r=!0),s=!0;break;case"background":s=!0;break;case"chartArea":t.chartArea.border&&t.chartArea.border.width&&(r=!0),s=!0;break;case"legendSettings":(!t.legendSettings.background||!t.legendSettings.opacity)&&(r=!0),s=!0;break;case"palettes":this.calculateVisibleSeries(),s=!0;break;case"selectedDataIndexes":this.selectionModule&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.selectedDataIndexes=this.selectedDataIndexes,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode,!0));break;case"selectionMode":this.selectionModule&&t.selectionMode&&-1===t.selectionMode.indexOf("Drag")&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode,!0));break;case"isMultiSelect":this.selectionModule&&!t.isMultiSelect&&this.selectionModule.selectedDataIndexes.length>1&&(this.selectionModule.currentMode=this.selectionMode,this.selectionModule.styleId=this.element.id+"_ej2_chart_selection",this.selectionModule.redrawSelection(this,i.selectionMode));break;case"highlightMode":case"selectionPattern":case"highlightPattern":this.removeStyles(),s=!0;break;case"theme":this.animateSeries=!0;break;case"locale":case"currencyCode":this.isBlazor?(this.setCulture(),s=!0):this.refresh();break;case"tooltip":this.tooltipModule&&(this.tooltipModule.previousPoints=[],this.tooltip.template&&(this.tooltipModule.template=this.tooltip.template))}!r&&s&&(this.rotatedDataLabelCollections=[],this.removeSvg(),this.renderElements(),this.trigger("loaded",{chart:this.isBlazor?{}:this})),r&&(this.enableCanvas?this.createChartSvg():this.removeSvg(),this.isReact&&this.clearTemplate(),this.refreshAxis(),this.refreshBound(),this.trigger("loaded",{chart:this.isBlazor?{}:this}),this.redraw=!1,this.animated=!1)}}};return ke([g(null)],n.prototype,"width",void 0),ke([g(null)],n.prototype,"height",void 0),ke([g("")],n.prototype,"title",void 0),ke([g("")],n.prototype,"dataSource",void 0),ke([U(Fr.chartTitleFont,ir)],n.prototype,"titleStyle",void 0),ke([g("")],n.prototype,"subTitle",void 0),ke([U(Fr.chartSubTitleFont,ir)],n.prototype,"subTitleStyle",void 0),ke([U({},Cc)],n.prototype,"margin",void 0),ke([U({color:"#DDDDDD",width:0},Yn)],n.prototype,"border",void 0),ke([g(null)],n.prototype,"background",void 0),ke([U({border:{color:null,width:.5},background:"transparent"},gw)],n.prototype,"chartArea",void 0),ke([U({name:"primaryXAxis"},ut)],n.prototype,"primaryXAxis",void 0),ke([U({name:"primaryYAxis"},ut)],n.prototype,"primaryYAxis",void 0),ke([Di([{}],u2)],n.prototype,"rows",void 0),ke([Di([{}],p2)],n.prototype,"columns",void 0),ke([Di([{}],ut)],n.prototype,"axes",void 0),ke([Di([{}],Ze)],n.prototype,"series",void 0),ke([Di([{}],wc)],n.prototype,"annotations",void 0),ke([g([])],n.prototype,"palettes",void 0),ke([g("Material")],n.prototype,"theme",void 0),ke([U({},Ao)],n.prototype,"tooltip",void 0),ke([U({},JU)],n.prototype,"crosshair",void 0),ke([U({},bn)],n.prototype,"legendSettings",void 0),ke([Di([{}],vwe)],n.prototype,"rangeColorSettings",void 0),ke([U({},eG)],n.prototype,"zoomSettings",void 0),ke([g("None")],n.prototype,"selectionMode",void 0),ke([g("None")],n.prototype,"highlightMode",void 0),ke([g("None")],n.prototype,"selectionPattern",void 0),ke([g("None")],n.prototype,"highlightPattern",void 0),ke([g(!1)],n.prototype,"isMultiSelect",void 0),ke([g(!1)],n.prototype,"allowMultiSelection",void 0),ke([g(!0)],n.prototype,"enableExport",void 0),ke([g(!1)],n.prototype,"allowExport",void 0),ke([Di([],j1)],n.prototype,"selectedDataIndexes",void 0),ke([g(!1)],n.prototype,"useGroupingSeparator",void 0),ke([g(!1)],n.prototype,"enableAutoIntervalOnBothAxis",void 0),ke([g(!1)],n.prototype,"isTransposed",void 0),ke([g(!1)],n.prototype,"enableCanvas",void 0),ke([g(null)],n.prototype,"backgroundImage",void 0),ke([Di([],xr)],n.prototype,"indicators",void 0),ke([g(!0)],n.prototype,"enableAnimation",void 0),ke([g(null)],n.prototype,"description",void 0),ke([g(1)],n.prototype,"tabIndex",void 0),ke([g(!0)],n.prototype,"enableSideBySidePlacement",void 0),ke([F()],n.prototype,"resized",void 0),ke([F()],n.prototype,"beforeResize",void 0),ke([F()],n.prototype,"annotationRender",void 0),ke([F()],n.prototype,"beforePrint",void 0),ke([F()],n.prototype,"loaded",void 0),ke([F()],n.prototype,"beforeExport",void 0),ke([F()],n.prototype,"afterExport",void 0),ke([F()],n.prototype,"load",void 0),ke([F()],n.prototype,"animationComplete",void 0),ke([F()],n.prototype,"legendRender",void 0),ke([F()],n.prototype,"textRender",void 0),ke([F()],n.prototype,"pointRender",void 0),ke([F()],n.prototype,"seriesRender",void 0),ke([F()],n.prototype,"axisLabelRender",void 0),ke([F()],n.prototype,"axisLabelClick",void 0),ke([F()],n.prototype,"axisRangeCalculated",void 0),ke([F()],n.prototype,"axisMultiLabelRender",void 0),ke([F()],n.prototype,"legendClick",void 0),ke([F()],n.prototype,"multiLevelLabelClick",void 0),ke([F()],n.prototype,"tooltipRender",void 0),ke([F()],n.prototype,"sharedTooltipRender",void 0),ke([F()],n.prototype,"chartMouseMove",void 0),ke([F()],n.prototype,"chartMouseClick",void 0),ke([F()],n.prototype,"pointClick",void 0),ke([F()],n.prototype,"pointDoubleClick",void 0),ke([F()],n.prototype,"pointMove",void 0),ke([F()],n.prototype,"chartMouseLeave",void 0),ke([F()],n.prototype,"chartMouseDown",void 0),ke([F()],n.prototype,"chartMouseUp",void 0),ke([F()],n.prototype,"dragComplete",void 0),ke([F()],n.prototype,"selectionComplete",void 0),ke([F()],n.prototype,"zoomComplete",void 0),ke([F()],n.prototype,"onZooming",void 0),ke([F()],n.prototype,"scrollStart",void 0),ke([F()],n.prototype,"scrollEnd",void 0),ke([F()],n.prototype,"scrollChanged",void 0),ke([F()],n.prototype,"dragStart",void 0),ke([F()],n.prototype,"drag",void 0),ke([F()],n.prototype,"dragEnd",void 0),ke([g("USD")],n.prototype,"currencyCode",void 0),n=ke([ii],n),n})();class M2 extends W1{calculateDateTimeNiceInterval(e,t,i,s,r=!0){const a=new Date(i),l=new Date(s),h=Math.abs((a.getTime()-l.getTime())/864e5);let c;switch(e.actualIntervalType=e.intervalType,e.intervalType){case"Years":c=this.calculateNumericNiceInterval(e,h/365,t);break;case"Quarter":c=this.calculateNumericNiceInterval(e,h/365*4,t);break;case"Months":c=this.calculateNumericNiceInterval(e,h/30,t);break;case"Weeks":c=this.calculateNumericNiceInterval(e,h/7,t);break;case"Days":c=this.calculateNumericNiceInterval(e,h,t);break;case"Hours":c=this.calculateNumericNiceInterval(e,24*h,t);break;case"Minutes":c=this.calculateNumericNiceInterval(e,24*h*60,t);break;case"Seconds":c=this.calculateNumericNiceInterval(e,24*h*60*60,t);break;case"Auto":return c=this.calculateNumericNiceInterval(e,h/365,t),c>=1?(e.actualIntervalType="Years",c):(c=this.calculateNumericNiceInterval(e,h/365*4,t),c>=1&&!r?(e.actualIntervalType="Quarter",c):(c=this.calculateNumericNiceInterval(e,h/30,t),c>=1?(e.actualIntervalType="Months",c):(c=this.calculateNumericNiceInterval(e,h/7,t),c>=1&&!r?(e.actualIntervalType="Weeks",c):(c=this.calculateNumericNiceInterval(e,h,t),c>=1?(e.actualIntervalType="Days",c):(c=this.calculateNumericNiceInterval(e,24*h,t),c>=1?(e.actualIntervalType="Hours",c):(c=this.calculateNumericNiceInterval(e,24*h*60,t),c>=1?(e.actualIntervalType="Minutes",c):(c=this.calculateNumericNiceInterval(e,24*h*60*60,t),e.actualIntervalType="Seconds",c)))))))}return c}getSkeleton(e,t,i,s){let r;const o=e.actualIntervalType;return e.skeleton?e.skeleton:(r="Years"===o?s?"y":e.isChart?"DateTime"===e.valueType&&e.isIntervalInDecimal?"y":"yMMM":"y":"Quarter"===o?s?"y":"yMMM":"Months"===o?s?"m":e.isChart?"MMMd":"MMM":"Weeks"===o?s?"m":"MEd":"Days"===o?s?"d":e.isChart?this.getDayFormat(e,t,i):"MMMd":"Hours"===o?s?"t":e.isChart?"DateTime"===e.valueType?"Hm":"EHm":"h":"Minutes"===o?s?"T":e.isChart?"Hms":"hm":s?"T":e.isChart?"Hms":"hms",r)}getMonthFormat(e,t,i){return new Date(t).getFullYear()===new Date(i).getFullYear()?e.isIntervalInDecimal?"MMM":"MMM d":"y MMM"}getDayFormat(e,t,i){return"DateTime"===e.valueType?new Date(t).getMonth()!==new Date(i).getMonth()?"MMMd":e.isIntervalInDecimal?"d":"Ehm":"yMd"}findCustomFormats(e,t,i){let s=e.labelFormat?e.labelFormat:"";return e.isChart&&!e.skeleton&&"Months"===e.actualIntervalType&&!s&&(s="DateTime"===e.valueType?this.getMonthFormat(e,t,i):"yMMM"),s}}class tG extends M2{constructor(e){super(e)}calculateRangeAndInterval(e,t){this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)}getActualRange(e,t){const i={skeleton:"full",type:"dateTime"},s=this.chart.intl.getDateParser(i),r=this.chart.intl.getDateFormat(i);null!==e.minimum?this.min=this.chart.isBlazor?Date.parse(e.minimum.toString()):Date.parse(s(r(new Date(me.parse.parseJson({val:e.minimum}).val)))):(null===this.min||this.min===Number.POSITIVE_INFINITY)&&(this.min=Date.parse(s(r(new Date(1970,1,1))))),null!==e.maximum?this.max=this.chart.isBlazor?Date.parse(e.maximum.toString()):Date.parse(s(r(new Date(me.parse.parseJson({val:e.maximum}).val)))):(null===this.max||this.max===Number.NEGATIVE_INFINITY)&&(this.max=Date.parse(s(r(new Date(1970,5,1))))),this.min===this.max&&(this.max=this.max+2592e6,this.min=this.min-2592e6),e.actualRange={},e.doubleRange=new yd(this.min,this.max);const o=this.calculateDateTimeNiceInterval(e,t,e.doubleRange.start,e.doubleRange.end);e.actualRange.interval=e.interval?e.interval:o,e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end}applyRangePadding(e,t){let i,s;this.min=e.actualRange.min,this.max=e.actualRange.max;const r=e.actualRange.interval;if(!Mw(e)){const o=e.getRangePadding(this.chart);i=new Date(this.min),s=new Date(this.max);const a=e.actualIntervalType;if("None"===o)this.min=i.getTime(),this.max=s.getTime();else if("Additional"===o||"Round"===o)switch(a){case"Years":this.getYear(i,s,o,r);break;case"Months":this.getMonth(i,s,o,r);break;case"Days":this.getDay(i,s,o,r);break;case"Hours":this.getHour(i,s,o,r);break;case"Minutes":const l=i.getMinutes()/r*r,h=s.getMinutes()+(i.getMinutes()-l);"Round"===o?(this.min=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),l,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),h,59).getTime()):(this.min=new Date(i.getFullYear(),s.getMonth(),i.getDate(),i.getHours(),l+-r,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),h+r,0).getTime());break;case"Seconds":const c=i.getSeconds()/r*r,d=s.getSeconds()+(i.getSeconds()-c);"Round"===o?(this.min=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),c,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),d,0).getTime()):(this.min=new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),c+-r,0).getTime(),this.max=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),d+r,0).getTime())}}e.actualRange.min=this.min,e.actualRange.max=this.max,e.actualRange.delta=e.actualRange.max-e.actualRange.min,e.doubleRange=new yd(e.actualRange.min,e.actualRange.max),this.calculateVisibleRange(t,e)}getYear(e,t,i,s){const r=e.getFullYear(),o=t.getFullYear();"Additional"===i?(this.min=new Date(r-s,1,1,0,0,0).getTime(),this.max=new Date(o+s,1,1,0,0,0).getTime()):(this.min=new Date(r,0,0,0,0,0).getTime(),this.max=new Date(o,11,30,23,59,59).getTime())}getMonth(e,t,i,s){const r=e.getMonth(),o=t.getMonth();"Round"===i?(this.min=new Date(e.getFullYear(),r,0,0,0,0).getTime(),this.max=new Date(t.getFullYear(),o,new Date(t.getFullYear(),t.getMonth(),0).getDate(),23,59,59).getTime()):(this.min=new Date(e.getFullYear(),r+-s,1,0,0,0).getTime(),this.max=new Date(t.getFullYear(),o+s,2===o?28:30,0,0,0).getTime())}getDay(e,t,i,s){const r=e.getDate(),o=t.getDate();"Round"===i?(this.min=new Date(e.getFullYear(),e.getMonth(),r,0,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),o,23,59,59).getTime()):(this.min=new Date(e.getFullYear(),e.getMonth(),r+-s,0,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),o+s,0,0,0).getTime())}getHour(e,t,i,s){const r=e.getHours()/s*s,o=t.getHours()+(e.getHours()-r);"Round"===i?(this.min=new Date(e.getFullYear(),e.getMonth(),e.getDate(),r,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),t.getDate(),o,59,59).getTime()):(this.min=new Date(e.getFullYear(),e.getMonth(),e.getDate(),r+-s,0,0).getTime(),this.max=new Date(t.getFullYear(),t.getMonth(),t.getDate(),o+s,0,0).getTime())}calculateVisibleRange(e,t){t.visibleRange={min:t.actualRange.min,max:t.actualRange.max,interval:t.actualRange.interval,delta:t.actualRange.delta};const i=!f(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;kb(t)&&!i&&(t.calculateVisibleRangeOnZooming(e),t.calculateAxisRange(e,this.chart),t.visibleRange.interval=t.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(t,e,t.visibleRange.min,t.visibleRange.max):t.visibleRange.interval),t.dateTimeInterval=this.increaseDateTimeInterval(t,t.visibleRange.min,t.visibleRange.interval).getTime()-t.visibleRange.min,t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)}calculateVisibleLabels(e,t){e.visibleLabels=[];let s,r,i=e.visibleRange.min;const o="chart"===t.getModuleName()&&t.isBlazor,a=e.visibleLabels;for(Mw(e)||(i=this.alignRangeStart(e,i,e.visibleRange.interval).getTime());i<=e.visibleRange.max;)s=fe({},Q("properties",e.labelStyle),null,!0),r=a.length?e.visibleLabels[a.length-1].value:i,e.format=t.intl.getDateFormat({format:this.findCustomFormats(e,i,r)||this.blazorCustomFormat(e),type:Nn(e.skeletonType),skeleton:this.getSkeleton(e,i,r,o)}),e.startLabel=e.format(new Date(e.visibleRange.min)),e.endLabel=e.format(new Date(e.visibleRange.max)),al(i,e.visibleRange)&&Mb(t,i,e.format(new Date(i)),s,e),i=this.increaseDateTimeInterval(e,i,e.visibleRange.interval).getTime();("Months"===e.actualIntervalType||"Days"===e.actualIntervalType)&&e.isChart&&(e.format=t.intl.getDateFormat({format:e.labelFormat||("Months"!==e.actualIntervalType||e.skeleton?"":"y MMM"),type:Nn(e.skeletonType),skeleton:e.skeleton||("Days"===e.actualIntervalType?"MMMd":"")})),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}blazorCustomFormat(e){return this.chart.isBlazor?"Years"===e.actualIntervalType?e.isIntervalInDecimal?"yyyy":"MMM y":"Days"!==e.actualIntervalType||e.isIntervalInDecimal?"":"ddd HH tt":""}increaseDateTimeInterval(e,t,i){let s=new Date(t);e.interval?(e.isIntervalInDecimal=i%1==0,e.visibleRange.interval=i):(i=Math.ceil(i),e.visibleRange.interval=i);const r=e.actualIntervalType;if(e.isIntervalInDecimal)switch(r){case"Years":return s.setFullYear(s.getFullYear()+i),s;case"Quarter":return s.setMonth(s.getMonth()+3*i),s;case"Months":return s.setMonth(s.getMonth()+i),s;case"Weeks":return s.setDate(s.getDate()+7*i),s;case"Days":return s.setDate(s.getDate()+i),s;case"Hours":return s.setHours(s.getHours()+i),s;case"Minutes":return s.setMinutes(s.getMinutes()+i),s;case"Seconds":return s.setSeconds(s.getSeconds()+i),s}else s=this.getDecimalInterval(s,i,r);return s}alignRangeStart(e,t,i){let s=new Date(t);switch(e.actualIntervalType){case"Years":const r=Math.floor(Math.floor(s.getFullYear()/i)*i);return s=new Date(r,s.getMonth(),s.getDate(),0,0,0),s;case"Months":const o=Math.floor(Math.floor(s.getMonth()/i)*i);return s=new Date(s.getFullYear(),o,s.getDate(),0,0,0),s;case"Days":const a=Math.floor(Math.floor(s.getDate()/i)*i);return s=new Date(s.getFullYear(),s.getMonth(),a,0,0,0),s;case"Hours":const l=Math.floor(Math.floor(s.getHours()/i)*i);return s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),l,0,0),s;case"Minutes":const h=Math.floor(Math.floor(s.getMinutes()/i)*i);return s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),h,0,0),s;case"Seconds":const c=Math.floor(Math.floor(s.getSeconds()/i)*i);return s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),c,0),s}return s}getDecimalInterval(e,t,i){const s=Math.floor(t),r=t-s;switch(i){case"Years":const o=Math.round(12*r);return e.setFullYear(e.getFullYear()+s),e.setMonth(e.getMonth()+o),e;case"Quarter":return e.setMonth(e.getMonth()+3*t),e;case"Months":const a=Math.round(30*r);return e.setMonth(e.getMonth()+s),e.setDate(e.getDate()+a),e;case"Weeks":return e.setDate(e.getDate()+7*t),e;case"Days":const l=Math.round(24*r);return e.setDate(e.getDate()+s),e.setHours(e.getHours()+l),e;case"Hours":const h=Math.round(60*r);return e.setHours(e.getHours()+s),e.setMinutes(e.getMinutes()+h),e;case"Minutes":const c=Math.round(60*r);return e.setMinutes(e.getMinutes()+s),e.setSeconds(e.getSeconds()+c),e;case"Seconds":const d=Math.round(1e3*r);return e.setSeconds(e.getSeconds()+s),e.setMilliseconds(e.getMilliseconds()+d),e}return e}getModuleName(){return"DateTime"}destroy(){}}class iG extends M2{constructor(e){super(e)}calculateRangeAndInterval(e,t){this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)}getActualRange(e,t){this.initializeDoubleRange(e),e.actualRange={},e.actualRange.interval=e.interval?Math.ceil(e.interval):Math.max(1,Math.floor(e.doubleRange.delta/m2(t,e))),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end,e.actualRange.delta=e.doubleRange.delta}applyRangePadding(e,t){const i="BetweenTicks"===e.labelPlacement&&"PolarRadar"!==this.chart.chartAreaType?.5:0;i>0?(e.actualRange.min-=i,e.actualRange.max+=i):e.actualRange.max+=e.actualRange.max?0:.5,e.doubleRange=new yd(e.actualRange.min,e.actualRange.max),e.actualRange.delta=e.doubleRange.delta,this.calculateVisibleRange(t,e)}calculateVisibleLabels(e){e.visibleLabels=[];let i,s,t=Math.ceil(e.visibleRange.min);for((e.zoomFactor<1||e.zoomPosition>0)&&(t=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval),e.startLabel=e.labels[Math.round(e.visibleRange.min)],e.endLabel=e.labels[Math.floor(e.visibleRange.max)];t<=e.visibleRange.max;t+=e.visibleRange.interval)i=fe({},Q("properties",e.labelStyle),null,!0),al(t,e.visibleRange)&&e.labels.length>0&&(s=Math.round(t),Mb(this.chart,s,e.labels[s]?e.labels[s].toString():s.toString(),i,e));e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}getModuleName(){return"Category"}destroy(){}}class _c{constructor(e){this.chart=e}enableComplexProperty(e){const t=[],i=[],s=e.xAxis.visibleRange,r=e.yAxis.visibleRange,o=e.points,a=e.clipRect,l=Math.abs(s.delta/a.width),h=Math.abs(r.delta/a.height);let m,c=o[0]&&o[0].x>l?0:l,d=o[0]&&o[0].y>h?0:h,u=0,p=0;for(const y of o)y.symbolLocations=[],u=y.xValue?y.xValue:s.min,p=y.yValue?y.yValue:r.min,(Math.abs(c-u)>=l||Math.abs(d-p)>=h)&&(t.push(y),c=u,d=p);for(let y=0;y<t.length;y++)m=t[y],!f(m.x)&&""!==m.x&&i.push(m);return i}getLineDirection(e,t,i,s,r,o){let a="";if(null!=e){const l=r(e.xValue,e.yValue,i.xAxis,i.yAxis,s,i),h=r(t.xValue,t.yValue,i.xAxis,i.yAxis,s,i);a=o+" "+l.x+" "+l.y+" L "+h.x+" "+h.y+" "}return a}appendLinePath(e,t,i){const s=se(e.id),r=t.chart,o=s?s.getAttribute("d"):null,a=t.chart.renderer.drawPath(e,new Int32Array([t.clipRect.x,t.clipRect.y]));a&&a.setAttribute("clip-path",i),t.pathElement=a,t.chart.enableCanvas||t.seriesElement.appendChild(a),t.isRectSeries=!1,$p(s,e.d,t.chart.redraw,o,r.duration)}renderMarker(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)}doProgressiveAnimation(e,t){const i=new qt({}),s=e.pathElement,r=s.getAttribute("stroke-dasharray"),o=e.pathElement.getTotalLength();let a;s.style.visibility="hidden",i.animate(s,{duration:t.duration,delay:t.delay,progress:l=>{l.timeStamp>=l.delay&&(s.style.visibility="visible",a=Math.abs(Math.round((l.timeStamp-l.delay)*o/l.duration)),s.setAttribute("stroke-dasharray",a+","+o))},end:()=>{s.setAttribute("stroke-dasharray",r),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})}storePointLocation(e,t,i,s){const r=t.marker&&t.marker.width?t.marker.width:0,o=t.marker&&t.marker.height?t.marker.height:0;e.symbolLocations.push(s(e.xValue,e.yValue,t.xAxis,t.yAxis,i,t)),e.regions.push(new ce(e.symbolLocations[0].x-r,e.symbolLocations[0].y-o,2*r,2*o))}withinYRange(e,t){return e.yValue>=t.visibleRange.min&&e.yValue<=t.visibleRange.max}getFirstLastVisiblePoint(e){let t=null,i=null;for(const s of e)null===t&&s.visible&&(t=i=s),i=s.visible?s:i;return{first:t||e[0],last:i||e[e.length-1]}}doLinearAnimation(e,t){const i=e.clipRectElement.childNodes[0].childNodes[0],s=e.chart.animated?e.chart.duration:t.duration,r=Dw("Linear"),o=+i.getAttribute("height"),a=+i.getAttribute("width"),l=+i.getAttribute("x"),h=e.chart.requireInvertedAxis?+i.getAttribute("height")+ +i.getAttribute("y"):+i.getAttribute("y");let c;i.style.visibility="hidden",new qt({}).animate(i,{duration:s,delay:t.delay,progress:d=>{d.timeStamp>=d.delay&&(i.style.visibility="visible",e.chart.requireInvertedAxis?(c=r(d.timeStamp-d.delay,0,o,d.duration),i.setAttribute("transform","translate("+l+" "+h+") scale(1,"+c/o+") translate("+-l+" "+-h+")")):(c=r(d.timeStamp-d.delay,0,a,d.duration),i.setAttribute("transform","translate("+l+" "+h+") scale("+c/a+", 1) translate("+-l+" "+-h+")")))},end:()=>{i.setAttribute("transform","translate(0,0)"),e.chart.trigger("animationComplete",{series:e.chart.isBlazor?{}:e})}})}}class sG extends _c{render(e,t,i,s){let r,o,a="",l=null,h="M";const c=e.chart&&"PolarRadar"===e.chart.chartAreaType,d=e.emptyPointSettings&&"Drop"===e.emptyPointSettings.mode,u=c?Mm:ot,p="TrendLine"===e.category?e.points:this.enableComplexProperty(e);for(const b of p)b.regions=[],b.symbolLocations=[],b.visible&&Fn(p[b.index-1],b,p[b.index+1],e)?(a+=this.getLineDirection(l,b,e,s,u,h),h=l?"L":h,l=b,this.storePointLocation(b,e,s,u)):(l=d?l:null,h=d?h:"M");if(c&&e.isClosed){const b=this.getFirstLastVisiblePoint(p);o=u(b.last.xValue,b.last.yValue,t,i,s,e),r=u(b.first.xValue,b.first.yValue,t,i,s,e),a=a.concat(h+" "+o.x+" "+o.y+" L "+r.x+" "+r.y)}const y=new nt("Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:"TrendLine"===e.category?e.chart.element.id+"_Series_"+e.sourceIndex+"_TrendLine_"+e.index:e.chart.element.id+"_Series_"+(void 0===e.index?e.category:e.index),"none",e.width,e.interior,e.opacity,e.dashArray,a);this.appendLinePath(y,e,""),this.renderMarker(e)}doAnimation(e){this.doProgressiveAnimation(e,e.animation)}getModuleName(){return"LineSeries"}destroy(){}}class xc{getSideBySideInfo(e){if(e.chart.enableSideBySidePlacement&&!e.position&&this.getSideBySidePositions(e),e.columnWidthInPixel)return new yd(0,0);const t=e.chart.enableSideBySidePlacement?e.position:0,i=e.chart.enableSideBySidePlacement?e.rectCount:1;e.isRectSeries=!0;const s=e.chart.visibleSeries,r=e.chart.enableSideBySidePlacement?e.columnSpacing:0,o=null===e.columnWidth||isNaN(+e.columnWidth)?"Histogram"===e.type?1:.7:e.columnWidth,l=GU(e.xAxis,s)*o;let h;const c=t/i-.5;let d=new yd(c,c+1/i);return isNaN(d.start)||isNaN(d.end)||(d=new yd(d.start*l,d.end*l),h=r*d.delta,d=new yd(d.start+h/2,d.end-h/2)),d}getRectangle(e,t,i,s,r){const o=ot(e,t,r.xAxis,r.yAxis,r.chart.requireInvertedAxis),a=ot(i,s,r.xAxis,r.yAxis,r.chart.requireInvertedAxis);return new ce(Math.min(o.x,a.x),Math.min(o.y,a.y),Math.abs(a.x-o.x),Math.abs(a.y-o.y))}getSideBySidePositions(e){const t=e.chart;for(const i of t.columns)for(const s of t.rows)this.findRectPosition(e.findSeriesCollection(i,s,!1))}findRectPosition(e){const t=[],i={rectCount:0,position:null};for(let s=0;s<e.length;s++){const r=e[s];-1!==r.type.indexOf("Stacking")?r.stackingGroup?void 0===t[r.stackingGroup]?(r.position=i.rectCount,t[r.stackingGroup]=i.rectCount++):r.position=t[r.stackingGroup]:null===i.position?(r.position=i.rectCount,i.position=i.rectCount++):r.position=i.position:r.position=i.rectCount++}for(let s=0;s<e.length;s++)e[s].rectCount=i.rectCount}updateSymbolLocation(e,t,i){i.chart.requireInvertedAxis?this.updateYRegion(e,t,i):this.updateXRegion(e,t,i),"Histogram"===i.type&&(e.minimum=+e.x-i.histogramValues.binWidth/2,e.maximum=+e.x+i.histogramValues.binWidth/2)}updateXRegion(e,t,i){e.symbolLocations.push({x:t.x+t.width/2,y:"BoxPlot"===i.seriesType||-1!==i.seriesType.indexOf("HighLow")||e.yValue>=0==!i.yAxis.isInversed?t.y:t.y+t.height}),this.getRegion(e,t,i),"RangeColumn"===i.type&&e.symbolLocations.push({x:t.x+t.width/2,y:t.y+t.height})}updateYRegion(e,t,i){e.symbolLocations.push({x:"BoxPlot"===i.seriesType||-1!==i.seriesType.indexOf("HighLow")||e.yValue>=0==!i.yAxis.isInversed?t.x+t.width:t.x,y:t.y+t.height/2}),this.getRegion(e,t,i),"RangeColumn"===i.type&&e.symbolLocations.push({x:t.x,y:t.y+t.height/2})}renderMarker(e){e.marker&&e.marker.visible&&e.chart.markerRender.render(e)}getRegion(e,t,i){if(0===e.y){const s=i.marker&&i.marker.width?i.marker.width:0,r=i.marker&&i.marker.height?i.marker.height:0;e.regions.push(new ce(e.symbolLocations[0].x-s,e.symbolLocations[0].y-r,2*s,2*r))}else e.regions.push(t)}triggerEvent(e,t,i,s){const r={cancel:!1,name:_h,series:e,point:t,fill:e.setPointColor(t,i),border:e.setBorderColor(t,s)};return e.chart.trigger(_h,r),t.color=r.fill,r}drawRectangle(e,t,i,s){const r=e.chart;if((r.requireInvertedAxis?i.height:i.width)<=0)return null;let a;a=0===t.y?this.calculateRoundedRectPath(i,0,0,0,0):this.calculateRoundedRectPath(i,e.cornerRadius.topLeft,e.cornerRadius.topRight,e.cornerRadius.bottomLeft,e.cornerRadius.bottomRight);const l="Indicator"===e.category?r.element.id+"_Indicator_"+e.index+"_"+e.name+"_Point_"+t.index:r.element.id+"_Series_"+e.index+"_Point_"+t.index,h=hl(r.redraw,l),c=h?h.getAttribute("d"):"",d=new nt(l,s.fill,s.border.width,s.border.color,e.opacity,e.dashArray,a),u=r.renderer.drawPath(d,new Int32Array([e.clipRect.x,e.clipRect.y]));switch(e.seriesType){case"XY":u.setAttribute("aria-label",t.x.toString()+":"+t.yValue.toString());break;case"HighLow":u.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString())}lt(e.chart.enableCanvas,e.seriesElement,u,r.redraw),e.chart.enableCanvas||$p(u,a,r.redraw,c,r.duration)}animate(e){const t=e.seriesElement.childNodes;let i="Indicator"===e.category?0:1;const s=Dm(e);for(const r of s)!r.symbolLocations.length&&("BoxAndWhisker"!==e.type||!r.regions.length)||(this.animateRect(t[i],e,r),i++)}animateRect(e,t,i){const s=t.animation,r=t.chart.animated?t.chart.duration:s.duration,o=Dw("Linear"),a=i.yValue<0;let l,h,u,p,m,c=+i.regions[0].height,d=+i.regions[0].width;t.chart.requireInvertedAxis?(h=+i.regions[0].y,t.type.indexOf("Stacking")>-1?(l=zi(0,t.yAxis)*t.yAxis.rect.width,u=l,p=h):(l=+i.regions[0].x,p=a?h:h+c,u=-1!==t.seriesType.indexOf("HighLow")||-1!==t.type.indexOf("Waterfall")?l+d/2:a!==t.yAxis.isInversed?l+d:l)):(l=+i.regions[0].x,t.type.indexOf("Stacking")>-1?(h=(1-zi(0,t.yAxis))*t.yAxis.rect.height,u=l,p=h):(h=+i.regions[0].y,p=-1!==t.seriesType.indexOf("HighLow")||-1!==t.type.indexOf("Waterfall")?h+c/2:a!==t.yAxis.isInversed?h:h+c,u=a?l:l+d)),f(e)||(e.style.visibility="hidden",new qt({}).animate(e,{duration:r,delay:s.delay,progress:y=>{y.timeStamp>=y.delay&&(e.style.visibility="visible",t.chart.requireInvertedAxis?(d=d||1,m=o(y.timeStamp-y.delay,0,d,y.duration),e.setAttribute("transform","translate("+u+" "+p+") scale("+m/d+", 1) translate("+-u+" "+-p+")")):(c=c||1,m=o(y.timeStamp-y.delay,0,c,y.duration),e.setAttribute("transform","translate("+u+" "+p+") scale(1,"+m/c+") translate("+-u+" "+-p+")")))},end:()=>{e.setAttribute("transform","translate(0,0)");const y=t.seriesElement;if((e===y.lastElementChild||i.index===t.points.length-1||"Waterfall"===t.type&&e===y.children[y.childElementCount-2])&&(t.chart.trigger("animationComplete",{series:t.chart.isBlazor?{}:t}),"Waterfall"===t.type)){const b=y.childNodes;for(let v=0;v<b.length;v++)-1!==b[v].id.indexOf("Connector")&&(b[v].style.visibility="visible",b[v].setAttribute("transform","translate(0,0)"))}}}))}calculateRoundedRectPath(e,t,i,s,r){return"M "+e.x+" "+(t+e.y)+" Q "+e.x+" "+e.y+" "+(e.x+t)+" "+e.y+" L "+(e.x+e.width-i)+" "+e.y+" Q "+(e.x+e.width)+" "+e.y+" "+(e.x+e.width)+" "+(e.y+i)+" L "+(e.x+e.width)+" "+(e.y+e.height-r)+" Q "+(e.x+e.width)+" "+(e.y+e.height)+" "+(e.x+e.width-r)+" "+(e.y+e.height)+" L "+(e.x+s)+" "+(e.y+e.height)+" Q "+e.x+" "+(e.y+e.height)+" "+e.x+" "+(e.y+e.height-s)+" L "+e.x+" "+(t+e.y)+" Z"}}class nG extends xc{render(e){let t;const i=this.getSideBySideInfo(e),s=Math.max(e.yAxis.visibleRange.min,0);let r;for(const o of e.points)o.symbolLocations=[],o.regions=[],o.visible&&Fn(e.points[o.index-1],o,e.points[o.index+1],e)&&(t=this.getRectangle(o.xValue+i.start,o.yValue,o.xValue+i.end,s,e),t.width=e.columnWidthInPixel?e.columnWidthInPixel:t.width,t.x=e.columnWidthInPixel?t.x-(e.columnWidthInPixel/2*e.rectCount-e.columnWidthInPixel*e.index):t.x,r=this.triggerEvent(e,o,"Indicator"===e.category?o.color:e.interior,{width:e.border.width,color:e.border.color}),r.cancel||(this.updateSymbolLocation(o,t,e),this.drawRectangle(e,o,t,r)));this.renderMarker(e)}doAnimation(e){this.animate(e)}getModuleName(){return"ColumnSeries"}destroy(){}}class k2 extends _c{getAreaPathDirection(e,t,i,s,r,o,a){let h,l="";return null===o&&(h=r(e,t,i.xAxis,i.yAxis,s,i),l+=a+" "+h.x+" "+h.y+" "),l}getAreaEmptyDirection(e,t,i,s,r){let o="";return o+=this.getAreaPathDirection(e.x,e.y,i,s,r,null,"L"),o+=this.getAreaPathDirection(t.x,t.y,i,s,r,null,"L"),o}setPointColor(e,t,i,s,r){if(""===i.pointColorMapping){let o,a;for(let l=0;l<r.length;l++)if(o=r[l],a=s?e.xValue:e.yValue,a<=this.getAxisValue(o.value,s?i.xAxis:i.yAxis,i.chart)||!o.value){e.interior=o.color;break}return null==e.interior&&(e.interior=i.interior),!1}return!!t&&i.setPointColor(e,i.interior)!==i.setPointColor(t,i.interior)}sortSegments(e,t){const i="X"===e.segmentAxis?e.xAxis:e.yAxis;return[].concat(t).sort((r,o)=>this.getAxisValue(r.value,i,e.chart)-this.getAxisValue(o.value,i,e.chart))}applySegmentAxis(e,t,i){if(""!==e.pointColorMapping)return t.map(u=>{this.appendLinePath(u,e,"")}),null;const s="X"===e.segmentAxis,r=s?e.xAxis:e.yAxis,o=e.chart;let a;this.includeSegment(i,r,e,i.length);const l=i.length;let h,c,d;for(let u=0;u<l;u++)a=i[u],h=this.getAxisValue(a.value,r,e.chart),c=this.createClipRect(u?this.getAxisValue(i[u-1].value,r,e.chart):r.visibleRange.min,h,e,u,s),c&&t.map(p=>{d={"clip-path":c,"stroke-dasharray":a.dashArray,opacity:p.opacity,stroke:e.type.indexOf("Line")>-1?a.color||e.interior:e.border.color,"stroke-width":p["stroke-width"],fill:e.type.indexOf("Line")>-1?"none":a.color||e.interior,id:p.id+"_Segment_"+u,d:p.d},$p(se(d.id),d.d,o.redraw),e.seriesElement.appendChild(o.renderer.drawPath(d))})}includeSegment(e,t,i,s){if(s<=0)return e.push({value:t.visibleRange.max,color:i.interior}),null;this.getAxisValue(e[s-1].value,t,i.chart)<t.visibleRange.max&&e.push({value:t.visibleRange.max,color:i.interior})}createClipRect(e,t,i,s,r){const o=i.chart.requireInvertedAxis;let h,a=ot(r?e:i.xAxis.visibleRange.min,r?i.yAxis.visibleRange.max:t,i.xAxis,i.yAxis,o),l=ot(r?t:i.xAxis.visibleRange.max,r?i.yAxis.visibleRange.min:e,i.xAxis,i.yAxis,o);return l=o?[a,a=l][0]:l,l.x-a.x>0&&l.y-a.y>0?(h=new us(i.chart.element.id+"_ChartSegment"+i.index+"ClipRect_"+s,"transparent",{width:1,color:"Gray"},1,{x:a.x,y:a.y,width:l.x-a.x,height:l.y-a.y}),i.seriesElement.appendChild(vd(i.chart.redraw,h,i.chart.renderer)),"url(#"+i.chart.element.id+"_ChartSegment"+i.index+"ClipRect_"+s+")"):null}getAxisValue(e,t,i){if(null===e&&(e=t.visibleRange.max),"DateTime"===t.valueType){const s={skeleton:"full",type:"dateTime"};return Date.parse(i.intl.getDateParser(s)(i.intl.getDateFormat(s)(new Date(me.parse.parseJson({val:e}).val))))}if(t.valueType.indexOf("Category")>-1){const s="DateTimeCategory"===t.valueType?e.getTime().toString():e;return t.labels.indexOf(s)<0?+e:t.labels.indexOf(s)}return+e}}class Ewe extends _c{constructor(){super(...arguments),this.visibleAxisLabelRect=[]}measureAxis(e){const t=this.chart;this.initialClipRect=e,this.seriesClipRect=new ce(e.x,e.y,e.width,e.height),this.measureRowAxis(t,this.initialClipRect),this.measureColumnAxis(t,this.initialClipRect),this.calculateAxisSize()}measureRowAxis(e,t){this.calculateRowSize(t);const i=e.rows[0];this.measureDefinition(i,e,new xt(e.availableSize.width,i.computedHeight))}measureColumnAxis(e,t){this.calculateColumnSize(t);const i=e.columns[0];this.measureDefinition(i,e,new xt(i.computedWidth,e.availableSize.height))}measureDefinition(e,t,i){for(const s of e.axes)s.getModule(t),s.baseModule.calculateRangeAndInterval(i,s)}calculateAxisSize(){const e=this.chart;let t;this.centerX=.5*this.initialClipRect.width+this.initialClipRect.x,this.centerY=.5*this.initialClipRect.height+this.initialClipRect.y,e.radius=Math.min(this.initialClipRect.width,this.initialClipRect.height)/2-5-e.primaryXAxis.majorTickLines.height-e.primaryXAxis.maxLabelSize.height,e.radius=e.primaryXAxis.coefficient*e.radius/100,this.seriesClipRect.y=this.centerY-e.radius,this.seriesClipRect.x=this.centerX-e.radius,this.seriesClipRect.height=2*e.radius,this.seriesClipRect.width=2*e.radius,this.calculateRowSize(this.seriesClipRect),t=e.primaryYAxis,t.rect=this.seriesClipRect,this.calculateColumnSize(this.seriesClipRect),t=e.primaryXAxis,t.rect=this.seriesClipRect}measure(){const e=this.chart;e.verticalAxes.push(e.primaryYAxis);const t=e.rows[0];t.axes[0]=e.primaryYAxis,e.rows[0]=t,e.horizontalAxes.push(e.primaryXAxis);const i=e.columns[0];i.axes[0]=e.primaryXAxis,e.columns[0]=i}calculateRowSize(e){const t=this.chart,i=t.rows[0];i.computedHeight=e.height/2,i.computedTop=e.y,t.rows[0]=i}calculateColumnSize(e){const t=this.chart,i=t.columns[0];i.computedLeft=e.x,i.computedWidth=e.width,t.columns[0]=i}renderAxes(){let e;const t=this.chart;this.startAngle=t.primaryXAxis.startAngle;const i=t.renderer.createGroup({id:t.element.id+"AxisCollection"}),s=t.renderer.createGroup({id:t.element.id+"AxisOutsideCollection"});for(let r=0,o=t.axisCollections.length;r<o;r++)this.element=t.renderer.createGroup({id:t.element.id+"AxisGroup"+r}),e=t.axisCollections[r],"Horizontal"===e.orientation?((e.majorGridLines.width>0||e.majorTickLines.width>0)&&this.drawXAxisGridLine(e,r),e.visible&&e.internalVisibility&&this.drawXAxisLabels(e,r)):(this.drawYAxisGridLine(e,r),e.lineStyle.width>0&&this.drawYAxisLine(e,r),e.visible&&e.internalVisibility&&this.drawYAxisLabels(e,r)),i.appendChild(this.element);return i.appendChild(this.element),lt(t.enableCanvas,t.svgObject,i,t.redraw),s}drawYAxisLine(e,t){const i=this.chart;let s={};const r=Nl(ll(e.visibleLabels[0].value,e),this.startAngle);s={id:i.element.id+"AxisLine_"+t,d:"M "+this.centerX+" "+this.centerY+"L "+(this.centerX+i.radius*r.x)+" "+(this.centerY+i.radius*r.y),"stroke-dasharray":e.lineStyle.dashArray,"stroke-width":e.lineStyle.width,stroke:e.lineStyle.color||i.themeStyle.axisLine};const a=i.renderer.drawPath(s);this.setPointerEventNone(a),i.yAxisElements.appendChild(a)}drawYAxisLabels(e,t){const i=this.chart;let s,r,o=0,a=0;const l=this.startAngle<0?this.startAngle+360:this.startAngle,h="middle";let c,u;const p=[],m=[];m[0]=!0;const y=e.labelIntersectAction,b=i.renderer.createGroup({id:i.element.id+"AxisLabels"+t}),v=Nl(ll(e.visibleLabels[0].value,e),this.startAngle);for(let C=0,w=e.visibleLabels.length;C<w;C++){if(u=!1,c=i.radius*zi(e.visibleLabels[C].value,e),s=e.visibleLabels[C].size,c=i.radius*zi(e.visibleLabels[C].value,e),o=this.centerX+c*v.x+(e.majorTickLines.height+s.width/2+2.5)*Math.cos(l*Math.PI/180)*("Inside"===e.labelPosition?1:-1),a=this.centerY+c*v.y+(e.majorTickLines.height+s.height/2)*Math.sin(l*Math.PI/180)*("Inside"===e.labelPosition?1:-1),a+=s.height/4,p[C]=this.getLabelRegion(o,a,e.visibleLabels[C],h),0!==C&&"Hide"===y){for(let _=C;_>=0;_--){if(_=0===_?0:_===C?_-1:_,m[_]&&Nr(p[C],p[_])){u=!0,m[C]=!1;break}m[C]=!0}if(u)continue;for(const _ of this.visibleAxisLabelRect)if(Nr(p[C],_)){u=!0;break}}u||(this.visibleAxisLabelRect.push(p[C]),r=new bs(i.element.id+t+"_AxisLabel_"+C,o,a,h,e.visibleLabels[C].text),Os(i.renderer,r,e.labelStyle,e.labelStyle.color||i.themeStyle.axisLabel,b,!1,i.redraw,!0,!0,null,null,0,null,i.enableCanvas))}i.yAxisElements.appendChild(b)}drawYAxisGridLine(e,t){const i=this.chart;let s,r,l,o="",a="";const h=this.startAngle<0?this.startAngle+360:this.startAngle;let c,d,u,p;const m={color:e.majorGridLines.color||i.themeStyle.majorGridLine,width:e.majorGridLines.width};let y,b;if(e.majorGridLines.width>0)if("Polar"===i.visibleSeries[0].type){for(let v=0;v<e.visibleLabels.length;v++)b=se(i.element.id+"_MajorGridLine_"+t+"_"+v),y=b?b.getAttribute("r"):null,r=i.radius*zi(e.visibleLabels[v].value,e),s=new Zp(i.element.id+"_MajorGridLine_"+t+"_"+v,"transparent",m,e.majorGridLines.width,this.centerX,this.centerY,r),lt(i.enableCanvas,this.element,i.renderer.drawCircle(s),i.redraw,!0,"r","r",new Fe(+y,+y),null,!0);r!==i.radius&&(s=new Zp(i.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length+1,"transparent",m,e.majorGridLines.width,this.centerX,this.centerY,i.radius),lt(i.enableCanvas,this.element,i.renderer.drawCircle(s),i.redraw,!0,"r","r",new Fe(+y,+y),null,!0))}else{for(let v=0;v<e.visibleLabels.length;v++)r=i.radius*zi(e.visibleLabels[v].value,e),a=this.renderRadarGrid(r,"",i),b=se(i.element.id+"_MajorGridLine_"+t+"_"+v),y=b?b.getAttribute("d"):null,s=new nt(i.element.id+"_MajorGridLine_"+t+"_"+v,"transparent",e.majorGridLines.width,e.majorGridLines.color||i.themeStyle.majorGridLine,null,null,a),lt(i.enableCanvas,this.element,i.renderer.drawPath(s),i.redraw,!0,"x","y",null,y,!0);r!==i.radius&&(a=this.renderRadarGrid(i.radius,"",i),b=se(i.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length),y=b?b.getAttribute("d"):null,s=new nt(i.element.id+"_MajorGridLine_"+t+"_"+e.visibleLabels.length,"transparent",e.majorGridLines.width,e.majorGridLines.color||i.themeStyle.majorGridLine,null,null,a),lt(i.enableCanvas,this.element,i.renderer.drawPath(s),i.redraw,!0,"x","y",null,y,!0))}if(e.majorTickLines.width>0){l=Nl(ll(e.visibleLabels[0].value,e),this.startAngle);for(let v=0;v<e.visibleLabels.length;v++)r=i.radius*zi(e.visibleLabels[v].value,e),c=this.centerX+r*l.x,d=this.centerY+r*l.y,u=c+e.majorTickLines.height*Math.cos(h*Math.PI/180)*("Inside"===e.tickPosition?1:-1),p=d+e.majorTickLines.height*Math.sin(h*Math.PI/180)*("Inside"===e.tickPosition?1:-1),o="M "+c+" "+d+" L "+u+" "+p,this.renderTickLine(e,t,o,"",v)}}renderRadarGrid(e,t,i){let s,r,o,a,l,h;for(let c=0,d=i.primaryXAxis.visibleLabels.length;c<d;c++)s=Nl(ll(i.primaryXAxis.visibleLabels[c].value,i.primaryXAxis),this.startAngle),r=Nl(ll(c+1<d?i.primaryXAxis.visibleLabels[c+1].value:i.primaryXAxis.visibleLabels[0].value,i.primaryXAxis),this.startAngle),o=this.centerX+e*s.x,a=this.centerY+e*s.y,l=this.centerX+e*r.x,h=this.centerY+e*r.y,t=t.concat((c?"L ":"M ")+" "+o+" "+a+" L  "+l+" "+h+" ");return t}drawXAxisGridLine(e,t){const i=this.chart;let s,r,o="",a="",l="",h="";const c=this.centerX;let d;const u=this.centerY;let p,m;const y=e.visibleLabels.length;for(let b=0;b<y;b++)s=e.visibleLabels[b].value,r=Nl(ll(e.visibleLabels[b].value,e),this.startAngle),d=this.centerX+i.radius*r.x,p=this.centerY+i.radius*r.y,o="M "+c+" "+u+" L "+d+" "+p,a="M "+d+" "+p+" L "+(d+e.majorTickLines.height*r.x*("Inside"===e.tickPosition?-1:1))+" "+(p+e.majorTickLines.height*r.y*("Inside"===e.tickPosition?-1:1)),e.minorTicksPerInterval>0&&(e.minorGridLines.width>0||e.minorTickLines.width>0)&&"Category"!==e.valueType&&"Radar"!==i.visibleSeries[0].type&&(m=this.drawAxisMinorLine(e,s,l,h),l=m[0],h=m[1]),this.renderTickLine(e,t,a,h,b),this.renderGridLine(e,t,o,l,b)}drawAxisMinorLine(e,t,i,s){let o,a,l,r=t;const h=e.visibleRange,c=[];for(let d=0;d<e.minorTicksPerInterval;d++)if(r+=("DateTime"===e.valueType?e.dateTimeInterval:e.visibleRange.interval)/(e.minorTicksPerInterval+1),Eb(r,h)){l=Nl(ll(r,e),this.startAngle),o=this.centerX+this.chart.radius*l.x,a=this.centerY+this.chart.radius*l.y;const u=o+e.minorTickLines.height*l.x*("Inside"===e.tickPosition?-1:1),p=a+e.minorTickLines.height*l.y*("Inside"===e.tickPosition?-1:1);i=i.concat("M "+this.centerX+" "+this.centerY+"L "+o+" "+a),s=s.concat("M "+o+" "+a+"L "+u+" "+p)}return c.push(i),c.push(s),c}drawXAxisLabels(e,t){let i;this.visibleAxisLabelRect=[],this.chart.legendModule&&(i=this.chart.legendModule.legendBounds);const s=this.chart;let r=0,o=0;const a=s.renderer.createGroup({id:s.element.id+"AxisLabels"+t});let l,h,c,d;const u="Inside"===e.labelPosition;let m,y,v,b="";const C=[],w=[];w[0]=!0;const _=e.labelIntersectAction,k="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0;let D=s.radius+e.majorTickLines.height;D=u?-D:D;for(let I=0,O=e.visibleLabels.length;I<O;I++){if(v=!1,h=Nl(ll(e.visibleLabels[I].value+k,e),this.startAngle),!isNaN(h.x)&&!isNaN(h.y)&&(r=this.centerX+(D+e.majorTickLines.height+5)*h.x,o=this.centerY+(D+e.majorTickLines.height+5)*h.y,b=parseFloat(r.toFixed(1))===parseFloat(this.centerX.toFixed(1))?"middle":r<this.centerX&&!u||r>this.centerX&&u?"end":"start"),y=e.visibleLabels[I],c=y.text,e.enableTrim||"Trim"===_){const N=e.visibleLabels[I].originalText;let X,H;const q=e.labelPosition,G=s.availableSize.width,A=N.length;for(let R=A-1;R>=0;--R)if(X=N.substring(0,R)+"...",H=Le(X,e.labelStyle).width,r===G/2?r-H/2>=0&&r+H/2<=G:"Outside"===q&&(r>=G/2&&r+H<=G||r<=G/2&&r-H>=0)||"Inside"===q&&(r+H<=G/2||r-H>=G/2)){c=R===A-1?N:X,y.size.width=Le(c,e.labelStyle).width,y.text=c;break}}if(C[I]=this.getLabelRegion(r,o,y,b),0===I?d=r:I===e.visibleLabels.length-1&&"Category"!==e.valueType&&(m=Le(c,e.labelStyle).height,m+=r,c=m>d?"":c),0!==I&&"Hide"===_)for(let N=I;N>=0;N--){if(N=0===N?0:N===I?N-1:N,w[N]&&Nr(C[I],C[N])){v=!0,w[I]=!1;break}w[I]=!0}if(!v&&i&&(v=Nr(C[I],i),v)){const N=this.getAvailableSpaceToTrim(i,C[I]);N>0&&(c=Ya(N,e.visibleLabels[I].originalText,e.labelStyle),v=!1)}l=new bs(s.element.id+t+"_AxisLabel_"+I,r,o,b,c,"","central"),!v&&(this.visibleAxisLabelRect.push(C[I]),Os(s.renderer,l,y.labelStyle,y.labelStyle.color||s.themeStyle.axisLabel,a,!1,s.redraw,!0,!0,null,null,0,null,s.enableCanvas))}this.element.appendChild(a)}getAvailableSpaceToTrim(e,t){const i=e.x,s=i+e.width,r=t.x,o=r+t.width;let a=0;return r>i&&r<s&&o>s?a=o-s:r>i&&r<s&&o<s?a=0:(o>i&&o<s&&r<i||o>i&&o>s&&r<i)&&(a=i-r),a}getLabelRegion(e,t,i,s){return"middle"===s?e-=i.size.width/2:"end"===s?e-=i.size.width:e=e,new ce(e,t-=i.size.height/2,i.size.width,i.size.height)}renderTickLine(e,t,i,s,r){let o;const a=this.chart;let l,h;e.majorTickLines.width>0&&(h=se(a.element.id+"_MajorTickLine_"+t+"_"+r),l=h?h.getAttribute("d"):null,o=new nt(a.element.id+"_MajorTickLine_"+t+"_"+r,"transparent",e.majorTickLines.width,e.majorTickLines.color||a.themeStyle.majorTickLine,null,null,i),h=a.renderer.drawPath(o),this.setPointerEventNone(h),lt(a.enableCanvas,a.yAxisElements,h,a.redraw,!0,"x","y",null,l)),e.minorTickLines.width>0&&(h=se(a.element.id+"_MinorTickLine_"+t+"_"+r),l=h?h.getAttribute("d"):null,o=new nt(a.element.id+"_MinorTickLine_"+t+"_"+r,"transparent",e.minorTickLines.width,e.minorTickLines.color||a.themeStyle.minorTickLine,null,null,s),h=a.renderer.drawPath(o),this.setPointerEventNone(h),lt(a.enableCanvas,a.yAxisElements,h,a.redraw,!0,"x","y",null,l))}renderGridLine(e,t,i,s,r){const o=this.chart;let a,l,h;e.majorGridLines.width>0&&(h=se(o.element.id+"_MajorGridLine_"+t+"_"+r),l=h?h.getAttribute("d"):null,a=new nt(o.element.id+"_MajorGridLine_"+t+"_"+r,"transparent",e.majorGridLines.width,e.majorGridLines.color||o.themeStyle.majorGridLine,null,e.majorGridLines.dashArray,i),lt(o.enableCanvas,this.element,o.renderer.drawPath(a),o.redraw,!0,"x","y",null,l)),e.minorGridLines.width>0&&(h=se(o.element.id+"_MinorGridLine_"+t+"_"+r),l=h?h.getAttribute("d"):null,a=new nt(o.element.id+"_MinorGridLine_"+t+"_"+r,"transparent",e.minorGridLines.width,e.minorGridLines.color||o.themeStyle.minorGridLine,null,e.minorGridLines.dashArray,s),lt(o.enableCanvas,this.element,o.renderer.drawPath(a),o.redraw,!0,"x","y",null,l))}setPointerEventNone(e){e&&e.setAttribute("style","pointer-events:none")}}class rG extends Ewe{render(e,t,i,s){let r=Nn(e.drawType),o=i.minimum,a=i.maximum;for(let l of e.points)l.visible=l.visible&&!(!f(o)&&l.yValue<o||!f(a)&&l.yValue>a);e.points.length&&(e.drawType.indexOf("Column")>-1?this.columnDrawTypeRender(e,t,i):e.chart[r+"SeriesModule"].render(e,t,i,s))}columnDrawTypeRender(e,t,i){let s,r,o,a,l,h,c,d,u,p,m,y,b,v,C,w,D,I,N,X,M,_=t.actualRange.min,k=e.clipRect.width/2+e.clipRect.x,O=e.clipRect.height/2+e.clipRect.y,H="RangeColumn"===e.drawType,q="Polar"===e.type,G="Logarithmic"===i.valueType,A="StackingColumn"===e.drawType,R="",P=0,L=(e.points[1]?e.points[1].xValue:2*e.points[0].xValue)-e.points[0].xValue,V="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?0:t.isInversed?-L/2:L/2,te="DateTime"===t.valueType?t.dateTimeInterval:1;this.getSeriesPosition(e);let pe=t.isInversed?e.rectCount-1-e.position:e.position;do{P+=te,_+=te}while(_<=t.actualRange.max-("Category"===t.valueType?0:1));for(let ae of e.points)ae.symbolLocations=[],ae.regions=[],ae.visible&&Fn(e.points[ae.index-1],ae,e.points[ae.index+1],e)&&(c=t.isInversed?t.visibleRange.max-ae.xValue:ae.xValue-t.visibleRange.min,l=c+(L/e.rectCount*pe-V)+P/360*t.startAngle,l/=P,o=2*Math.PI*(l+t.startAngle),a=2*Math.PI*(l+t.startAngle+L/e.rectCount/P),0===o&&0===a?(a=2*Math.PI,M="1"):M="0",d=o,u=a,o=o-.5*Math.PI+e.columnSpacing/2,a=a-.5*Math.PI-1e-6-e.columnSpacing/2,A||H?(v=H?ae.low:e.stackedValues.startValues[ae.index],C=H?ae.high:e.stackedValues.endValues[ae.index],C=G?ta(0===C?1:C,i.logBase):C,C=C>i.actualRange.max?i.actualRange.max:C):(v=i.visibleRange.min,C=ae.yValue>i.actualRange.max?i.actualRange.max:ae.yValue),h=v===C?0:e.chart.radius*zi(C,i),p=k+h*Math.cos(o),m=k+h*Math.cos(a),y=O+h*Math.sin(o),b=O+h*Math.sin(a),w=e.chart.radius*zi(0===v&&0!==i.visibleRange.min?i.visibleRange.min:v,i),D=k+w*Math.cos(o),I=O+w*Math.sin(o),N=k+w*Math.cos(a),X=O+w*Math.sin(a),R=q?"M "+p+" "+y+" A "+h+" "+h+" 0 "+M+" 1 "+m+" "+b+" L "+N+" "+X+" A "+w+" "+w+" 1 0 0 "+D+" "+I+" Z":"M "+p+" "+y+" L "+m+" "+b+" L "+N+" "+X+" L "+D+" "+I+" Z",ae.regionData=new ZCe(d,u,w,h,l),r=this.triggerEvent(e.chart,e,ae),s=new nt(e.chart.element.id+"_Series_"+e.index+"_Point_"+ae.index,r.fill,r.border.width,r.border.color,e.opacity,e.dashArray,R),r.cancel||(this.appendLinePath(s,e,""),q?(ae.symbolLocations.push({x:k+h*Math.cos(o+(a-o)/2),y:O+h*Math.sin(o+(a-o)/2)}),H&&ae.symbolLocations.push({x:k+w*Math.cos(o+(a-o)/2),y:O+w*Math.sin(o+(a-o)/2)})):(ae.symbolLocations.push({x:(p+m)/2,y:(y+b)/2}),H&&ae.symbolLocations.push({x:(N+D)/2,y:(X+I)/2}))));this.renderMarker(e),e.isRectSeries=!0}triggerEvent(e,t,i){let s={cancel:!1,name:_h,series:t,point:i,fill:t.setPointColor(i,t.interior),border:t.setBorderColor(i,{width:t.border.width,color:t.border.color})};return e.trigger(_h,s),i.color=s.fill,s}getSeriesPosition(e){let t=e.chart,i=[],s=[],r={rectCount:0,position:null};for(let o of t.visibleSeries)o.visible&&("Polar"===o.type||"Radar"===o.type)&&-1!==o.drawType.indexOf("Column")&&i.push(o);for(let o=0;o<i.length;o++){let a=i[o];-1!==a.drawType.indexOf("Stacking")?a.stackingGroup?void 0===s[a.stackingGroup]?(a.position=r.rectCount,s[a.stackingGroup]=r.rectCount++):a.position=s[a.stackingGroup]:null===r.position?(a.position=r.rectCount,r.position=r.rectCount++):a.position=r.position:a.position=r.rectCount++}for(let o=0;o<i.length;o++)i[o].rectCount=r.rectCount}doAnimation(e){let t=e.animation.duration,i=e.animation.delay,s=e.seriesElement.childNodes,r=1;if("Scatter"===e.drawType)for(let o of e.points)!o.symbolLocations.length||!s[r]||(km(s[r],i,t,e,o.index,o.symbolLocations[0],!1),r++);else for(r=1;r<s.length;r++)this.doPolarRadarAnimation(s[r],i,t,e)}doPolarRadarAnimation(e,t,i,s){let r=s.clipRect.width/2+s.clipRect.x,o=s.clipRect.height/2+s.clipRect.y,a=0;e.style.visibility="hidden",new qt({}).animate(e,{duration:i,delay:t,progress:l=>{l.timeStamp>l.delay&&(l.element.style.visibility="visible",a=(l.timeStamp-l.delay)/l.duration,e.setAttribute("transform","translate("+r+" "+o+") scale("+a+") translate("+-r+" "+-o+")"))},end:()=>{e.style.visibility="visible",e.removeAttribute("transform"),s.chart.trigger("animationComplete",{series:s.chart.isBlazor?{}:s})}})}getPolarIsInversedPath(e,t){let i,s,r,a=this.chart.radius,l=t,h=e.isInversed?"1 1 ":"1 0 ";return i=Nl(ll(e.visibleLabels[0].value,e),this.startAngle),s=this.centerX+a*i.x,r=this.centerY+a*i.y,l+"L "+s+" "+r+" A "+a+" "+a+" 0 "+h+s+" "+(this.centerY+a)+" A "+a+" "+a+" 0 "+h+s+" "+r+" "}getModuleName(){return"PolarSeries"}destroy(){}}class A2 extends _c{constructor(e){super(e),this.splinePoints=[],this.lowSplinePoints=[]}findSplinePoint(e){let t,i,s=[];const r=[];let o,a=0;s=this.filterEmptyPoints(e);for(let h=0;h<s.length;h++)o=s[h],null!==o.x&&""!==o.x&&(o.index=a,a++,r.push(o));let l=!1;if(this.splinePoints=this.findSplineCoefficients(r,e,l),"SplineRangeArea"===e.type&&(l=!l,this.lowSplinePoints=this.findSplineCoefficients(r,e,l)),r.length>1){e.drawPoints=[],e.lowDrawPoints=[];for(const h of r)if(0!==h.index){const c=this.getPreviousIndex(r,h.index-1,e);"SplineRangeArea"===e.type&&(r[c].yValue=r[c].high>r[c].low?r[c].high:r[c].low,h.yValue=h.high>h.low?h.high:h.low),t=this.getControlPoints(r[c],h,this.splinePoints[c],this.splinePoints[h.index],e),e.drawPoints.push(t),"SplineRangeArea"===e.type&&(r[c].yValue=r[c].low<r[c].high?r[c].low:r[c].high,h.yValue=h.low<h.high?h.low:h.high,i=this.getControlPoints(r[c],h,this.lowSplinePoints[c],this.lowSplinePoints[h.index],e),e.lowDrawPoints.push(i));const d=e.yMax-e.yMin;h.yValue&&t.controlPoint1.y&&t.controlPoint2.y&&d>1&&(e.yMin=Math.min(e.yMin,h.yValue,t.controlPoint1.y,t.controlPoint2.y),e.yMax=Math.ceil(Math.max(e.yMax,h.yValue,t.controlPoint1.y,t.controlPoint2.y)),e.yMin="Logarithmic"!==e.yAxis.valueType?Math.floor(e.yMin):e.yMin)}"PolarRadar"===e.chart.chartAreaType&&e.isClosed&&(t=this.getControlPoints({xValue:r[r.length-1].xValue,yValue:r[r.length-1].yValue},{xValue:r[r.length-1].xValue+1,yValue:r[0].yValue},this.splinePoints[0],this.splinePoints[r[r.length-1].index],e),e.drawPoints.push(t))}}getPreviousIndex(e,t,i){if("Drop"!==i.emptyPointSettings.mode)return t;for(;f(e[t])&&t>-1;)t-=1;return t}getNextIndex(e,t,i){if("Drop"!==i.emptyPointSettings.mode)return t;for(;f(e[t])&&t<e.length;)t+=1;return t}filterEmptyPoints(e,t){if("Drop"!==e.emptyPointSettings.mode&&this.isPointInRange(e.points))return t||e.points;const i=t||fe([],e.points,null,!0);for(let s=0;s<i.length;s++)i[s].index=s,i[s].isEmpty&&(i[s].symbolLocations=[],i[s].regions=[],i.splice(s,1),s--);return i}isPointInRange(e){for(const t of e)if(!t.isPointInRange)return!1;return!0}findSplineCoefficients(e,t,i){let s=[];const r=[];let o=t.cardinalSplineTension?t.cardinalSplineTension:.5;switch(o=o<0?0:o>1?1:o,t.splineType){case"Monotonic":s=this.monotonicSplineCoefficients(e,t,i);break;case"Cardinal":s=this.cardinalSplineCofficients(e,t,i);break;default:"Clamped"===t.splineType?s=this.clampedSplineCofficients(e,t,i):(s[0]=r[0]=0,s[e.length-1]=0),s=this.naturalSplineCoefficients(e,t,i)}return s}monotonicSplineCoefficients(e,t,i){const s=e.length,r=[],o=[],a=[],l=[];let h,c;for(let d=0;d<s-1;d++)"SplineRangeArea"===t.type&&(i||(e[d+1].yValue=e[d+1].high>e[d+1].low?e[d+1].high:e[d+1].low,e[d].yValue=e[d].high>e[d].low?e[d].high:e[d].low),i&&(e[d+1].yValue=e[d+1].low<e[d+1].high?e[d+1].low:e[d+1].high,e[d].yValue=e[d].low<e[d].high?e[d].low:e[d].high)),o[d]=e[d+1].xValue-e[d].xValue,a[d]=e[d+1].yValue-e[d].yValue,l[d]=a[d]/o[d];c=l.length,r[0]=l[0],r[s-1]=l[c-1];for(let d=0;d<o.length;d++)c>d+1&&(l[d]*l[d+1]<=0?r[d+1]=0:(h=o[d]+o[d+1],r[d+1]=3*h/((h+o[d+1])/l[d]+(h+o[d])/l[d+1])));return r}cardinalSplineCofficients(e,t,i){const s=e.length,r=[];let o=t.cardinalSplineTension?t.cardinalSplineTension:.5;o=o<0?0:o>1?1:o;for(let a=0;a<s;a++)r[a]=0===a?s>2?o*(e[a+2].xValue-e[a].xValue):0:a===s-1?s>2?o*(e[s-1].xValue-e[s-3].xValue):0:o*(e[a+1].xValue-e[a-1].xValue);return r}clampedSplineCofficients(e,t,i){const s=e.length,r=[],o=[];for(let a=0;a<s-1;a++)"SplineRangeArea"===t.type&&(i||(e[1].yValue=e[1].high>e[1].low?e[1].high:e[1].low,e[0].yValue=e[0].high>e[0].low?e[0].high:e[0].low,e[e.length-1].yValue=e[e.length-1].high>e[e.length-1].low?e[e.length-1].high:e[e.length-1].low,e[e.length-2].yValue=e[e.length-2].high>e[e.length-2].low?e[e.length-2].high:e[e.length-2].low),i&&(e[1].yValue=e[1].low<e[1].high?e[1].low:e[1].high,e[0].yValue=e[0].low<e[0].high?e[0].low:e[0].high,e[e.length-1].yValue=e[e.length-1].low<e[e.length-1].high?e[e.length-1].low:e[e.length-1].high,e[e.length-2].yValue=e[e.length-2].low<e[e.length-2].high?e[e.length-2].low:e[e.length-2].high)),r[0]=3*(e[1].yValue-e[0].yValue)/(e[1].xValue-e[0].xValue)-3,o[0]=.5,r[e.length-1]=3*(e[e.length-1].yValue-e[e.length-2].yValue)/(e[e.length-1].xValue-e[e.length-2].xValue),r[0]=o[0]=Math.abs(r[0])===1/0?0:r[0],r[e.length-1]=o[e.length-1]=Math.abs(r[e.length-1])===1/0?0:r[e.length-1];return r}naturalSplineCoefficients(e,t,i){const s=e.length,r=[],o=[];let a,l,h,c,d;r[0]=o[0]=0,r[e.length-1]=0;for(let u=1;u<s-1;u++)if("SplineRangeArea"===t.type&&(i||(e[u+1].yValue=e[u+1].low>e[u+1].high?e[u+1].low:e[u+1].high,e[u].yValue=e[u].low>e[u].high?e[u].low:e[u].high,e[u-1].yValue=e[u-1].low>e[u-1].high?e[u-1].low:e[u-1].high),i&&(e[u+1].yValue=e[u+1].high<e[u+1].low?e[u+1].high:e[u+1].low,e[u].yValue=e[u].high<e[u].low?e[u].high:e[u].low,e[u-1].yValue=e[u-1].high<e[u-1].low?e[u-1].high:e[u-1].low)),h=e[u].xValue-e[u-1].xValue,c=e[u+1].xValue-e[u-1].xValue,d=e[u+1].xValue-e[u].xValue,a=e[u+1].yValue-e[u].yValue||null,l=e[u].yValue-e[u-1].yValue||null,0===h||0===c||0===d)r[u]=0,o[u]=0;else{const p=1/(h*r[u-1]+2*c);r[u]=-p*d,o[u]=p*(6*(a/d-l/h)-h*o[u-1])}for(let u=s-2;u>=0;u--)r[u]=r[u]*r[u+1]+o[u];return r}getControlPoints(e,t,i,s,r){let o,a,l,h=i,c=s;const d=e.xValue,u=e.yValue,p=t.xValue,m=t.yValue;switch(r.splineType){case"Cardinal":"DateTime"===r.xAxis.valueType&&(h=i/this.dateTimeInterval(r),c=s/this.dateTimeInterval(r)),o=new Fe(d+i/3,u+h/3),a=new Fe(p-s/3,m-c/3),l=new _2(o,a);break;case"Monotonic":const y=(p-d)/3;o=new Fe(d+y,u+i*y),a=new Fe(p-y,m-s*y),l=new _2(o,a);break;default:const b=1/3;let v=p-d;v*=v;const w=b*(u+2*m-b*v*(.5*i+s));o=new Fe((2*d+p)*b,b*(2*u+m-b*v*(i+.5*s))),a=new Fe((d+2*p)*b,w),l=new _2(o,a)}return l}dateTimeInterval(e){const t=e.xAxis.actualIntervalType;let i;return i="Years"===t?31536e6:"Months"===t?2592e6:"Days"===t?864e5:"Hours"===t?36e5:"Minutes"===t?6e4:"Seconds"===t?1e3:2592e6,i}doAnimation(e){this.doLinearAnimation(e,e.animation)}}class wd extends _c{initSeriesCollection(e,t){e.targetSeries=[];const i=new Ze(e,"targetSeries",{},!0);this.setSeriesProperties(i,e,e.type,e.fill,e.width,t)}setSeriesProperties(e,t,i,s,r,o){e.name=i.length<=4?i.toLocaleUpperCase():i,e.xName="x",e.yName="y",e.fill=s||"#606eff",e.dashArray=t.dashArray,e.width=r,e.xAxisName=t.xAxisName,e.animation=t.animation,e.yAxisName=t.yAxisName,e.clipRectElement=t.clipRectElement,e.points=[],e.enableTooltip=!0,e.interior=e.fill,e.category="Indicator",e.index=t.index,e.chart=o,e.xMin=1/0,e.xMax=-1/0,e.yMin=1/0,e.yMax=-1/0,e.xData=[],e.yData=[],e.marker.visible=!1,t.targetSeries.push(e)}createIndicatorElements(e,t,i){(t.seriesName||t.dataSource)&&f2(t.targetSeries[0]);let s=new ce(0,0,0,0);(t.seriesName||t.dataSource)&&(s=t.targetSeries[0].clipRect);const r=new us(e.element.id+"_ChartIndicatorClipRect_"+i,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:s.width,height:s.height}),o=vd(e.redraw,r,e.renderer);t.indicatorElement=e.renderer.createGroup({id:e.element.id+"IndicatorGroup"+i,transform:"translate("+s.x+","+s.y+")","clip-path":"url(#"+e.element.id+"_ChartIndicatorClipRect_"+i+")"}),t.indicatorElement.appendChild(o);for(const a of t.targetSeries){a.clipRectElement=o;const l=a.chart.renderer.createGroup({id:a.chart.element.id+"_Indicator_"+t.index+"_"+a.name+"_Group"});t.indicatorElement.appendChild(l),a.seriesElement=l}e.indicatorElements.appendChild(t.indicatorElement)}getDataPoint(e,t,i,s,r,o=null){const a=new Pw;return a.x=e,a.y=t,a.xValue=i.xValue,a.color=s.fill,a.index=r,a.yValue=t,a.visible=!0,s.xMin=Math.min(s.xMin,a.xValue),s.yMin=Math.min(s.yMin,a.yValue),s.xMax=Math.max(s.xMax,a.xValue),s.yMax=Math.max(s.yMax,a.yValue),s.xData.push(a.xValue),o&&"Macd"===o.type&&"Column"===s.type&&(a.color=a.y>=0?o.macdPositiveColor:o.macdNegativeColor),a}getRangePoint(e,t,i,s,r,o){const a=new Pw;return a.x=e,a.high=t,a.low=i,a.xValue=s.xValue,a.color=r.fill,a.index=o,a.visible=!0,r.xData.push(a.xValue),a}setSeriesRange(e,t,i=null){i?i.points=e:t.targetSeries[0].points=e}}class T2 extends Iw{constructor(e){super(e),this.element=this.chart.element,this.textStyle=e.tooltip.textStyle,this.control=e,this.template=e.tooltip.template}getElement(e){return document.getElementById(e)}getTooltipElement(e){this.inverted=this.chart.requireInvertedAxis,this.header=null===this.control.tooltip.header?this.control.tooltip.shared?"<b>${point.x}</b>":"<b>${series.name}</b>":this.control.tooltip.header,this.formattedText=[];const t=document.getElementById(this.chart.element.id+"_tooltip"),i=this.chart.element.id.indexOf("stockChart")>-1;return!e&&!t||i?this.createElement():null}createElement(){const e=document.createElement("div");return e.id=this.element.id+"_tooltip",e.className="ejSVGTooltip",e.style.pointerEvents="none",e.style.position="absolute",e.style.zIndex="1",e}pushData(e,t,i,s){return!!e.series.enableTooltip&&(this.currentPoints.push(e),this.stopAnimation(),i&&!document.getElementById(i.id)&&(this.chart.stockChart?document.getElementById(this.chart.stockChart.element.id+"_Secondary_Element").appendChild(i):document.getElementById(this.element.id+"_Secondary_Element").appendChild(i)),!0)}removeHighlight(){let e,t;for(let i=0,s=this.previousPoints.length;i<s;i++)e=this.previousPoints[i],e.series.isRectSeries?e.series.visible&&this.highlightPoint(e.series,e.point.index,!1):(t=e.series,!t.marker.visible&&"Scatter"!==e.series.type&&"Bubble"!==e.series.type&&(this.previousPoints.shift(),s-=1))}highlightPoint(e,t,i){const s=this.getElement(this.element.id+"_Series_"+e.index+"_Point_"+t),r=this.control.accumulationSelectionModule,o=!!(r&&r.selectedDataIndexes.length>0);s&&(!o||o&&s.getAttribute("class")&&-1===s.getAttribute("class").indexOf("_ej2_chart_selection_series_")?s.setAttribute("opacity",(i?e.opacity/2:e.opacity).toString()):s.setAttribute("opacity",e.opacity.toString()))}highlightPoints(){for(const e of this.currentPoints)e.series.isRectSeries&&"Series"===e.series.category&&this.highlightPoint(e.series,e.point.index,!0)}createTooltip(e,t,i,s,r,o,a,l,h=null,c=null,d){const u=this.currentPoints[0].series,p=e.tooltipModule||e.accumulationTooltipModule;if(!p||null===i)return;let m=u.isRectSeries&&"Waterfall"!==u.type&&r&&r.y<0,y=this.chart.requireInvertedAxis&&u.isRectSeries,b=null;if(this.text.length<=1){let v,C,w=d||this.template;if(w&&"chart"===e.getModuleName()&&"#"!==w[0]&&"string"==typeof w){const D=document.createElement("div");D.id="testing_template",D.className="ejSVGTooltip",D.style.pointerEvents="none",D.style.position="absolute",D.style.zIndex="1",document.getElementById(this.chart.element.id+"_Secondary_Element").appendChild(D);const I=w.replaceAll("${x}",r.x).replaceAll("${y}",r.y);D.innerHTML=I,v=new xt(D.firstElementChild.offsetWidth,D.firstElementChild.offsetHeight),C=new xt(0,0),D.remove()}else v=Le(this.text[0],e.tooltip.textStyle),C=""===this.header||"<b></b>"===this.header?new xt(0,0):Le(this.header,this.textStyle);const _=47;v.width=Math.max(v.width,C.width)+(o.length>0?_:0),v.height=v.height+C.height+(32+(C.height>0?20:0)),b=this.getCurrentPosition(m,y),b=this.getPositionBySize(v,new ce(0,0,l.width,l.height),i,b),m="Left"===b||"Bottom"===b,y="Left"===b||"Right"===b}t?this.svgTooltip=new Mi({opacity:e.tooltip.opacity,header:this.headerText,content:this.text,fill:e.tooltip.fill,border:e.tooltip.border,enableAnimation:e.tooltip.enableAnimation,location:i,shared:e.tooltip.shared,shapes:o,clipBounds:"PolarRadar"===this.chart.chartAreaType?new Fe(0,0):s,areaBounds:l,palette:this.findPalette(),template:d||this.template,data:c,theme:e.theme,offset:a,textStyle:e.tooltip.textStyle,isNegative:m,inverted:y,arrowPadding:this.text.length>1||this.chart.stockChart?0:12,availableSize:e.availableSize,duration:this.chart.tooltip.duration,isCanvas:this.chart.enableCanvas,isTextWrap:e.tooltip.enableTextWrap&&"chart"===e.getModuleName(),blazorTemplate:{name:"Template",parent:this.chart.tooltip},controlInstance:this.chart,tooltipPlacement:b,tooltipRender:()=>{p.removeHighlight(),p.highlightPoints(),p.updatePreviousPoint(h)},animationComplete:v=>{v.tooltip.fadeOuted&&p.fadeOut(p.previousPoints)}},"#"+this.element.id+"_tooltip"):this.svgTooltip&&(this.svgTooltip.location=i,this.svgTooltip.content=this.text,this.svgTooltip.header=this.headerText,this.svgTooltip.offset=a,this.svgTooltip.palette=this.findPalette(),this.svgTooltip.shapes=o,this.svgTooltip.data=c,this.svgTooltip.template=this.template,this.svgTooltip.textStyle=e.tooltip.textStyle,this.svgTooltip.isNegative=m,this.svgTooltip.inverted=y,this.svgTooltip.clipBounds="PolarRadar"===this.chart.chartAreaType?new Fe(0,0):s,this.svgTooltip.arrowPadding=this.text.length>1||this.chart.stockChart?0:12,this.svgTooltip.tooltipPlacement=b,this.svgTooltip.dataBind()),this.chart.isReact&&this.chart.renderReactTemplates()}getPositionBySize(e,t,i,s){const r=this.isTooltipFitPosition("Top",new ce(0,0,t.width,t.height),i,e),o=this.isTooltipFitPosition("Bottom",new ce(0,0,t.width,t.height),i,e),a=this.isTooltipFitPosition("Right",new ce(0,0,t.width,t.height),i,e),l=this.isTooltipFitPosition("Left",new ce(0,0,t.width,t.height),i,e);let h;if(!(r||o||a||l)){const c=[i.x-t.x,t.x+t.width-i.x,i.y-t.y,t.y+t.height-i.y],d=c.indexOf(Math.max.apply(this,c));return 0===d?"Left":1===d?"Right":2===d?"Top":"Bottom"}return h="Top"===s?r?"Top":o?"Bottom":a?"Right":"Left":"Bottom"===s?o?"Bottom":r?"Top":a?"Right":"Left":"Right"===s?a?"Right":l?"Left":r?"Top":"Bottom":l?"Left":a?"Right":r?"Top":"Bottom",h}isTooltipFitPosition(e,t,i,s){const r=new Fe(0,0),o=new Fe(0,0);switch(e){case"Top":r.x=i.x-s.width/2,r.y=i.y-s.height,o.x=i.x+s.width/2,o.y=i.y;break;case"Bottom":r.x=i.x-s.width/2,r.y=i.y,o.x=i.x+s.width/2,o.y=i.y+s.height;break;case"Right":r.x=i.x,r.y=i.y-s.height/2,o.x=i.x+s.width,o.y=i.y+s.height/2;break;case"Left":r.x=i.x-s.width,r.y=i.y-s.height/2,o.x=i.x,o.y=i.y+s.height/2}return zs(r.x,r.y,t)&&zs(o.x,o.y,t)}getCurrentPosition(e,t){let i;return i=t?e?"Left":"Right":e?"Bottom":"Top",i}findPalette(){const e=[];for(const t of this.currentPoints)e.push(this.findColor(t,t.series));return e}findColor(e,t){return!t.isRectSeries||"Candle"!==t.type&&"Hilo"!==t.type&&"HiloOpenClose"!==t.type?(e.point.color&&"#ffffff"!==e.point.color?e.point.color:e.point.interior)||t.marker.fill||t.interior:e.point.color}updatePreviousPoint(e){e&&(this.currentPoints=this.currentPoints.concat(e)),this.previousPoints=fe([],this.currentPoints,null,!0)}fadeOut(e){const t=this.getElement(this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg");t&&parseInt(t.getAttribute("opacity"),10)>0||(this.valueX=null,this.valueY=null,this.currentPoints=[],this.removeHighlight(),this.removeHighlightedMarker(e),this.svgTooltip=null,this.control.trigger("animationComplete",{}))}removeHighlightedMarker(e){if(this.chart.markerRender){for(const t of e)Qi(this.element.id+"_Series_"+t.series.index+"_Point_"+t.point.index+"_Trackball");this.chart.markerRender.removeHighlightedMarker()}this.previousPoints=[]}removeText(){this.textElements=[];const e=this.getElement(this.element.id+"_tooltip_group");if(e&&e.childNodes.length>0)for(;e.lastChild&&1!==e.childNodes.length;)e.removeChild(e.lastChild)}stopAnimation(){Aw(this.toolTipInterval)}removeTooltip(e){const t=this.getElement(this.element.id+"_tooltip"),i=t?this.getElement(t.id+"parent_template"):null,s=i&&"<div></div>"!==i.innerHTML;this.stopAnimation(),this.chart.isReact&&s&&this.chart.clearTemplate([i.id],[0]),t&&this.previousPoints.length>0&&(this.toolTipInterval=+setTimeout(()=>{this.svgTooltip&&this.svgTooltip.fadeOut()},e))}}class rSe{constructor(e){this.iconRectOverFill="transparent",this.iconRectSelectionFill="transparent",this.zoomCompleteEvtCollection=[],this.chart=e,this.elementId=e.element.id,this.chart.svgRenderer=new jo(this.elementId),this.selectionColor="Bootstrap4"===e.theme?"#FFFFFF":"Tailwind"===e.theme||"Bootstrap5"===e.theme||"Bootstrap5Dark"===e.theme||"TailwindDark"===e.theme?"#374151":"#ff4081",this.fillColor="Bootstrap4"===e.theme?"#495057":"Tailwind"===e.theme?"#6B7280":"TailwindDark"===e.theme?"#D1D5DB":"#737373",this.iconRectOverFill="Bootstrap4"===e.theme?"#5A6268":this.iconRectOverFill,this.iconRectSelectionFill="Bootstrap4"===e.theme?"#5B6269":this.iconRectSelectionFill,this.iconRect="Bootstrap4"===e.theme?new ce(-5,-5,26,26):new ce(0,0,16,16)}createPanButton(e,t){const i=this.chart.svgRenderer,s=this.chart.zoomModule.isPanning?this.selectionColor:this.fillColor;let r="M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,";r+="11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z",e.id=this.elementId+"_Zooming_Pan",e.setAttribute("aria-label",this.chart.getLocalizedLabel("Pan")),this.panElements=e,e.appendChild(i.drawRectangle(new us(this.elementId+"_Zooming_Pan_1","transparent",{},1,this.iconRect))),e.appendChild(i.drawPath(new nt(this.elementId+"_Zooming_Pan_2",s,null,null,1,null,"M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z"))),t.appendChild(e),this.wireEvents(e,this.pan)}createZoomButton(e,t){const i=this.chart.svgRenderer,s=this.chart.zoomModule.isPanning?this.fillColor:this.selectionColor,r=this.chart.zoomModule.isPanning?"transparent":this.iconRectSelectionFill;let o="M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,";o+="5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571",o+="L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,",e.id=this.elementId+"_Zooming_Zoom",e.setAttribute("aria-label",this.chart.getLocalizedLabel("Zoom")),this.zoomElements=e,this.selectedID=this.chart.zoomModule.isPanning?this.chart.element.id+"_Zooming_Pan_1":this.elementId+"_Zooming_Zoom_1",e.appendChild(i.drawRectangle(new us(this.elementId+"_Zooming_Zoom_1",r,{},1,this.iconRect))),e.appendChild(i.drawPath(new nt(this.elementId+"_Zooming_Zoom_3",s,null,null,1,null,"M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z"))),t.appendChild(e),this.wireEvents(e,this.zoom)}createZoomInButton(e,t,i){const s=this.chart.svgRenderer,r=this.fillColor;let o="M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,";o+="14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,",o+="5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,",e.id=this.elementId+"_Zooming_ZoomIn",e.setAttribute("aria-label",this.chart.getLocalizedLabel("ZoomIn")),e.appendChild(s.drawRectangle(new us(this.elementId+"_Zooming_ZoomIn_1","transparent",{},1,this.iconRect))),e.appendChild(s.drawPath(new nt(this.elementId+"_Zooming_ZoomIn_2",r,null,null,1,null,"M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z"))),e.appendChild(s.drawPolygon(new uwe(this.elementId+"_Zooming_ZoomIn_3","12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466",r))),this.zoomInElements=e,this.elementOpacity=i.zoomModule.isPanning?"0.2":"1",e.setAttribute("opacity",this.elementOpacity),t.appendChild(e),this.wireEvents(e,this.zoomIn)}createZoomOutButton(e,t,i){const s=this.chart.svgRenderer,r=this.fillColor;let o="M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,";o+="1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,",o+="1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,",e.id=this.elementId+"_Zooming_ZoomOut",e.setAttribute("aria-label",this.chart.getLocalizedLabel("ZoomOut")),e.appendChild(s.drawRectangle(new us(this.elementId+"_Zooming_ZoomOut_1","transparent",{},1,this.iconRect))),e.appendChild(s.drawPath(new nt(this.elementId+"_Zooming_ZoomOut_2",r,null,null,1,null,"M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z"))),this.zoomOutElements=e,this.elementOpacity=i.zoomModule.isPanning?"0.2":"1",e.setAttribute("opacity",this.elementOpacity),t.appendChild(e),this.wireEvents(e,this.zoomOut)}createResetButton(e,t,i,s){const r=this.chart.svgRenderer,o=this.fillColor;let a,l="M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,";l+="1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,",l+="13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,",e.id=this.elementId+"_Zooming_Reset",e.setAttribute("aria-label",this.chart.getLocalizedLabel("Reset")),s?(a=Le(this.chart.getLocalizedLabel("ResetZoom"),{size:"12px"}),e.appendChild(r.drawRectangle(new us(this.elementId+"_Zooming_Reset_1","transparent",{},1,new ce(0,0,a.width,a.height)))),Os(i.renderer,new bs(this.elementId+"_Zooming_Reset_2",0+a.width/2,0+3*a.height/4,"middle",this.chart.getLocalizedLabel("ResetZoom"),"rotate(0,0,0)","auto"),{size:"12px"},"black",e,null,null,null,null,null,null,0,null,i.enableCanvas)):(e.appendChild(r.drawRectangle(new us(this.elementId+"_Zooming_Reset_1","transparent",{},1,this.iconRect))),e.appendChild(r.drawPath(new nt(this.elementId+"_Zooming_Reset_2",o,null,null,1,null,"M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z")))),t.appendChild(e),this.wireEvents(e,this.reset)}wireEvents(e,t){S.add(e,"mousedown touchstart",t,this),S.add(e,"mouseover",this.showTooltip,this),S.add(e,"mouseout",this.removeTooltip,this)}showTooltip(e){const t=e.currentTarget.id.split("_Zooming_")[1],i=e.pageX-(Le(t,{size:"10px"}).width+5),s=se(e.currentTarget.id+"_1"),r=se(e.currentTarget.id+"_2"),o=se(e.currentTarget.id+"_3");s&&(this.hoveredID=s.id,s.setAttribute("fill",this.iconRectOverFill)),r&&r.setAttribute("fill",this.selectionColor),o&&o.setAttribute("fill",this.selectionColor),this.chart.isTouch||function(n,e,t,i,s){let r=se(n);const o="top:"+t.toString()+"px;left:"+i.toString()+"px;color:black !important; background:#FFFFFF !important; position:absolute;border:1px solid #707070;font-size:10px;border-radius:2px; z-index:1";r?(r.setAttribute("innerHTML","&nbsp;"+e+"&nbsp;"),r.setAttribute("styles",o)):(r=Ve("div",{id:n,innerHTML:"&nbsp;"+e+"&nbsp;",styles:o}),document.body.appendChild(r))}("EJ2_Chart_ZoomTip",this.chart.getLocalizedLabel(t),e.pageY+10,i)}removeTooltip(){if(se(this.hoveredID)){let i=this.chart.zoomModule.isPanning?this.hoveredID.indexOf("_Pan_")>-1?this.iconRectSelectionFill:"transparent":this.hoveredID.indexOf("_Zoom_")>-1?this.iconRectSelectionFill:"transparent";se(this.hoveredID).setAttribute("fill",i)}let e=this.hoveredID?se(this.hoveredID.replace("_1","_2")):null,t=this.hoveredID?se(this.hoveredID.replace("_1","_3")):null;if(e){let i=this.chart.zoomModule.isPanning?this.hoveredID.indexOf("_Pan_")>-1?this.selectionColor:this.fillColor:this.hoveredID.indexOf("_Zoom_")>-1?this.selectionColor:this.fillColor;e.setAttribute("fill",i)}if(t){let i=this.chart.zoomModule.isPanning?this.fillColor:this.hoveredID.indexOf("_Zoom_")>-1?this.selectionColor:this.fillColor;t.setAttribute("fill",i)}Qi("EJ2_Chart_ZoomTip")}reset(){let t,e=this.chart;e.zoomModule.isDevice||Ue(e.zoomModule.toolkitElements),this.removeTooltip(),e.svgObject.setAttribute("cursor","auto");let i,s=[];this.zoomCompleteEvtCollection=[];for(let r of e.axisCollections)t={cancel:!1,name:qp,axis:r,previousZoomFactor:r.zoomFactor,previousZoomPosition:r.zoomPosition,currentZoomFactor:1,currentZoomPosition:0,previousVisibleRange:r.visibleRange,currentVisibleRange:null},r.zoomFactor=1,r.zoomPosition=0,r.zoomingScrollBar&&(r.zoomingScrollBar.isScrollUI=!1),t.cancel||(r.zoomFactor=t.currentZoomFactor,r.zoomPosition=t.currentZoomPosition,this.zoomCompleteEvtCollection.push(t)),s.push({zoomFactor:r.zoomFactor,zoomPosition:r.zoomFactor,axisName:r.name,axisRange:r.visibleRange});return i={cancel:!1,axisCollection:s,name:ol},!i.cancel&&this.chart.isBlazor?(this.chart.trigger(ol,i,()=>{this.setDefferedZoom(e)}),!1):this.setDefferedZoom(e)}setDefferedZoom(e){return e.disableTrackTooltip=!1,e.zoomModule.isZoomed=e.zoomModule.isPanning=e.isChartDrag=e.delayRedraw=!1,e.zoomModule.touchMoveList=e.zoomModule.touchStartList=[],e.zoomModule.pinchTarget=null,e.removeSvg(),e.enableAutoIntervalOnBothAxis&&e.processData(!1),e.refreshAxis(),e.refreshBound(),this.elementOpacity="1",!1}zoomIn(e){return this.zoomInOutCalculation(1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode),!1}zoomOut(e){return this.zoomInOutCalculation(-1,this.chart,this.chart.axisCollections,this.chart.zoomSettings.mode),!1}zoom(e){return this.chart.zoomModule.isPanning=!1,this.elementOpacity="1",this.chart.svgObject.setAttribute("cursor","auto"),this.zoomInElements.setAttribute("opacity",this.elementOpacity),this.zoomOutElements.setAttribute("opacity",this.elementOpacity),this.applySelection(this.zoomElements.childNodes,this.selectionColor),this.applySelection(this.panElements.childNodes,"#737373"),se(this.selectedID)&&se(this.selectedID).setAttribute("fill","transparent"),this.selectedID=this.chart.element.id+"_Zooming_Zoom_1",se(this.selectedID).setAttribute("fill",this.iconRectSelectionFill),!1}pan(){let e;return this.chart.zoomModule.isPanning=!0,this.chart.svgObject.setAttribute("cursor","pointer"),this.elementOpacity="0.2",e=this.zoomInElements?this.zoomInElements.setAttribute("opacity",this.elementOpacity):null,e=this.zoomOutElements?this.zoomOutElements.setAttribute("opacity",this.elementOpacity):null,e=this.panElements?this.applySelection(this.panElements.childNodes,this.selectionColor):null,e=this.zoomElements?this.applySelection(this.zoomElements.childNodes,"#737373"):null,se(this.selectedID)&&se(this.selectedID).setAttribute("fill","transparent"),this.selectedID=this.chart.element.id+"_Zooming_Pan_1",se(this.selectedID).setAttribute("fill",this.iconRectSelectionFill),!1}zoomInOutCalculation(e,t,i,s){if(!t.zoomModule.isPanning&&"0.2"!==this.elementOpacity){let r,o,a,l;t.disableTrackTooltip=!0,t.delayRedraw=!0,this.zoomCompleteEvtCollection=[];for(let h of i)l={cancel:!1,name:qp,axis:h,previousZoomFactor:h.zoomFactor,previousZoomPosition:h.zoomPosition,currentZoomFactor:h.zoomFactor,currentZoomPosition:h.zoomPosition,previousVisibleRange:h.visibleRange,currentVisibleRange:null},("Horizontal"===h.orientation&&"Y"!==s||"Vertical"===h.orientation&&"X"!==s)&&(a=Math.max(Math.max(1/Du(h.zoomFactor,0,1),1)+.25*e,1),r=1===a?1:Du(1/a,0,1),o=1===a?0:h.zoomPosition+.5*(h.zoomFactor-r),(h.zoomPosition!==o||h.zoomFactor!==r)&&(r=o+r>1?1-o:r),l.currentZoomFactor=r,l.currentZoomPosition=o,l.cancel||(h.zoomFactor=l.currentZoomFactor,h.zoomPosition=l.currentZoomPosition,this.zoomCompleteEvtCollection.push(l)))}}applySelection(e,t){for(let i=1,s=e.length;i<s;i++)e[i].setAttribute("fill",t)}}class aG extends class{constructor(e){this.control=e}seriesStyles(){let e,s,r,t=document.getElementById(this.styleId),i="{}";const o=this.control.selectionPattern,a=this.control.highlightPattern;if(f(t)||"None"!==o||"None"!==a){t=document.createElement("style"),t.setAttribute("id",this.styleId);for(const l of this.control.visibleSeries){const h=this.control.visibleSeries[l.index]||this.control.visibleSeries[l.index];if(!(f(o)&&f(a)||"None"===o&&"None"===a)){const c=this.styleId.indexOf("highlight")>0?a:o;if("Pie"===h.type||"Funnel"===h.type||"Pyramid"===h.type)for(let d=0;d<h.points.length;d++)r=h.opacity,s=this.pattern(this.control,h.points[d].color,l.index,c,r),i="{ fill:"+s+"}";else h.type&&(r=h.opacity,s=this.pattern(this.control,h.interior,l.index,c,r),i="{ fill:"+s+"}")}e=l.selectionStyle||this.styleId+"_series_"+l.index+",."+this.styleId+"_series_"+l.index+"> *",i=i.indexOf("None")>-1?"{}":i,t.innerHTML+=l.selectionStyle?"":"."+e+i}t.innerHTML+="."+this.unselected+" { opacity:0.3;} ",document.body.appendChild(t)}}pattern(e,t,i,s,r){const o="#ffffff",a=e.svgObject,l=[],h={id:e.element.id+"_"+s+"_Selection_"+i,patternUnits:"userSpaceOnUse"},c="height",d="width",u=10,p=12;switch(s){case"Dots":h[c]=h[d]=6,h[d]=6,l[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:o,opacity:r,name:"rect"},l[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:t,name:"circle"};break;case"Pacman":h[c]="18.384",h[d]="17.917",l[0]={name:"rect",x:0,y:0,width:17.917,height:18.384,transform:"translate(0,0)",fill:o,opacity:r},l[1]={name:"path",d:"M9.081,9.194l5.806-3.08c-0.812-1.496-2.403-3.052-4.291-3.052H8.835C6.138,3.063,3,6.151,3,8.723v1.679   c0,2.572,3.138,5.661,5.835,5.661h1.761c2.085,0,3.835-1.76,4.535-3.514L9.081,9.194z","stroke-width":1,stroke:t,fill:t};break;case"Chessboard":h[c]=h[d]=u,l[0]={x:0,y:0,width:u,height:u,fill:o,opacity:r,name:"rect"},l[1]={x:0,y:0,width:5,height:5,fill:t,opacity:r,name:"rect"},l[2]={x:5,y:5,width:5,height:5,fill:t,opacity:r,name:"rect"};break;case"Crosshatch":h[c]=h[d]="8",l[0]={x:0,y:0,width:8,height:8,transform:"translate(0,0)",fill:o,opacity:r,name:"rect"},l[1]={d:"M0 0L8 8ZM8 0L0 8Z","stroke-width":1,stroke:t,name:"path"};break;case"DiagonalForward":h[c]=h[d]=6,l[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:o,opacity:r,name:"rect"},l[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:t,name:"path"};break;case"DiagonalBackward":h[c]=h[d]=6,l[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:o,opacity:r,name:"rect"},l[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:t,name:"path"};break;case"Grid":h[c]=h[d]=6,l[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:o,opacity:r},l[1]={name:"path",d:"M1 3.5L11 3.5 M0 3.5L11 3.5 M0 7.5L11 7.5 M0 11.5L11 11.5 M5.5 0L5.5 12 M11.5 0L11.5 12Z","stroke-width":1,stroke:t};break;case"Turquoise":h[c]=h[d]=17,l[0]={name:"rect",x:0,y:0,width:17,height:17,transform:"translate(0,0)",fill:o,opacity:r},l[1]={name:"path",d:"M0.5739999999999998,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":u,stroke:t,fill:t},l[2]={name:"path",d:"M11.805,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":u,stroke:t,fill:t},l[3]={name:"path",d:"M6.19,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":u,stroke:t,fill:t},l[4]={name:"path",d:"M11.805,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":u,stroke:t,fill:t},l[5]={name:"path",d:"M6.19,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":u,stroke:t,fill:t},l[6]={name:"path",d:"M11.805,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":u,stroke:t,fill:t},l[7]={name:"path",d:"M6.19,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":u,stroke:t,fill:t};break;case"Star":h[c]=h[d]=21,l[0]={name:"rect",x:0,y:0,width:21,height:21,transform:"translate(0,0)",fill:o,opacity:r},l[1]={name:"path",d:"M15.913,18.59L10.762 12.842 5.613 18.75 8.291 11.422 0.325 9.91 8.154 8.33 5.337 0.91 10.488 6.658 15.637 0.75 12.959 8.078 20.925 9.59 13.096 11.17 z","stroke-width":1,stroke:t,fill:t};break;case"Triangle":h[c]=h[d]=u,l[0]={name:"rect",x:0,y:0,width:u,height:u,transform:"translate(0,0)",fill:o,opacity:r},l[1]={name:"path",d:"M4.987,0L7.48 4.847 9.974 9.694 4.987 9.694 0 9.694 2.493 4.847 z","stroke-width":1,stroke:t,fill:t};break;case"Circle":h[c]=h[d]=9,l[0]={name:"rect",x:0,y:0,width:9,height:9,transform:"translate(0,0)",fill:o,opacity:r},l[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:t};break;case"Tile":h[c]=h[d]=18,l[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:o,opacity:r},l[1]={name:"path",d:"M0,9L0 0 9 0 z","stroke-width":1,stroke:t,fill:t},l[2]={name:"path",d:"M9,9L9 0 18 0 z","stroke-width":1,stroke:t,fill:t},l[3]={name:"path",d:"M0,18L0 9 9 9 z","stroke-width":1,stroke:t,fill:t},l[4]={name:"path",d:"M9,18L9 9 18 9 z","stroke-width":1,stroke:t,fill:t};break;case"HorizontalDash":h[c]=h[d]=p,l[0]={name:"rect",x:0,y:0,width:p,height:p,transform:"translate(0,0)",fill:o,opacity:r},l[1]={name:"path",d:"M0,1.5 L10 1.5 M0,5.5 L10 5.5 M0,9.5 L10 9.5 z","stroke-width":1,stroke:t,fill:t};break;case"VerticalDash":h[c]=h[d]=p,l[0]={name:"rect",x:0,y:0,width:p,height:p,transform:"translate(0,0)",fill:o,opacity:r},l[1]={name:"path",d:"M1.5,0 L1.5 10 M5.5,0 L5.5 10 M9.5,0 L9.5 10 z","stroke-width":1,stroke:t,fill:t};break;case"Rectangle":h[c]=h[d]=p,l[0]={name:"rect",width:p,height:p,fill:o,opacity:r},l[1]={name:"rect",x:1,y:2,width:4,height:9,fill:t,opacity:r},l[2]={name:"rect",x:7,y:2,width:4,height:9,fill:t,opacity:r};break;case"Box":h[c]=h[d]=u,l[0]={name:"rect",width:13,height:13,fill:o,opacity:r},l[1]={name:"rect",x:1.5,y:1.5,width:u,height:9,fill:t,opacity:r};break;case"HorizontalStripe":h[c]=p,h[d]=u,l[0]={name:"rect",x:0,y:0,width:u,height:p,transform:"translate(0,0)",fill:o,opacity:r},l[1]={name:"path",d:"M0,0.5 L10 0.5 M0,4.5 L10 4.5 M0,8.5 L10 8.5 z","stroke-width":1,stroke:t,fill:t};break;case"VerticalStripe":h[c]=u,h[d]=p,l[0]={name:"rect",x:0,y:0,width:p,height:u,transform:"translate(0,0)",fill:o,opacity:r},l[1]={name:"path",d:"M0.5,0 L0.5 10 M4.5,0 L4.5 10 M8.5,0 L8.5 10 z","stroke-width":1,stroke:t,fill:t};break;case"Bubble":h[c]=h[d]=20,l[0]={name:"rect",x:0,y:0,width:20,height:20,transform:"translate(0,0)",fill:o,opacity:r},l[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},l[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:t},l[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"}}const D=e.svgRenderer||e.renderer,I=D.createPattern(h,"pattern");return this.loadPattern(e,l,I,D),a.appendChild(I),"url(#"+e.element.id+"_"+s+"_Selection_"+i+")"}loadPattern(e,t,i,s){let r;for(r=0;r<t.length;r++){const o=s.createPattern(t[r],t[r].name);i.appendChild(o)}}concatIndexes(e,t){return e.concat(t)}checkVisibility(e){if(!e)return!1;let t=!1;const i=[];for(const s of e)-1===i.indexOf(s.series)&&i.push(s.series);for(const s of i)if(this.control.series[s].visible){t=!0;break}return t}addSvgClass(e,t){let i=e.getAttribute("class")||"";i+=""!==i?" ":"",-1===i.indexOf(t)&&e.setAttribute("class",i+t)}removeSvgClass(e,t){const i=e.getAttribute("class")||"";i.indexOf(t)>-1&&e.setAttribute("class",i.replace(t,""))}getChildren(e){const t=[];for(let i=0;i<e.childNodes.length;i++)"defs"!==e.childNodes[i].tagName&&t.push(e.childNodes[i]);return t}}{constructor(e){super(e),this.isdrawRect=!0,this.multiDataIndexes=[],this.pathIndex=0,this.seriesIndex=0,this.count=-1,this.dragRectArray=[],this.filterArray=[],this.totalSelectedPoints=[],this.chart=e,this.renderer=e.renderer,this.isMultiDrag=e.isMultiSelect&&e.selectionMode.indexOf("Drag")>-1,this.addEventListener()}addEventListener(){if(this.chart.isDestroyed||this.chart.stockChart&&this.chart.stockChart.onPanning)return;const e=T.isPointer?"pointerleave":"mouseleave";this.chart.on(T.touchMoveEvent,this.mouseMove,this),this.chart.on(e,this.completeSelection,this),this.chart.on("click",this.calculateSelectedElements,this),this.chart.on(T.touchStartEvent,this.mousedown,this),this.chart.on(T.touchEndEvent,this.completeSelection,this)}mousedown(e){const t=this.chart;t.isPointMouseDown||"None"===t.selectionMode||t.isChartDrag||(t.isDoubleTap||!t.isTouch||this.rectPoints)&&this.dragStart(t,t.chartAxisLayoutPanel.seriesClipRect,t.mouseDownX,t.mouseDownY,e)}removeEventListener(){this.chart.isDestroyed||(this.chart.off(T.touchMoveEvent,this.mouseMove),this.chart.off("pointerleave",this.completeSelection),this.chart.off("click",this.calculateSelectedElements),this.chart.off(T.touchStartEvent,this.mousedown),this.chart.off(T.touchEndEvent,this.completeSelection))}initPrivateVariables(e){this.styleId=e.element.id+"_ej2_chart_selection",this.unselected=e.element.id+"_ej2_deselected",this.closeIconId=e.element.id+"_ej2_drag_close",this.draggedRectGroup=e.element.id+"_ej2_drag_group",this.multiRectGroup=e.element.id+"_ej2_drag_multi_group",this.draggedRect=e.element.id+"_ej2_drag_rect",this.lassoPath=e.element.id+"_ej2_drag_path",this.selectedDataIndexes=[],this.rectPoints=null,this.isSeriesMode="Series"===e.selectionMode}invokeSelection(e){this.initPrivateVariables(e),this.series=fe({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.selectionMode,e.selectionMode.indexOf("Drag")>-1||this.selectDataIndex(e,this.concatIndexes(e.selectedDataIndexes,this.selectedDataIndexes))}generateStyle(e){return e?(this.styleId.indexOf("selection")>1&&"None"!==this.chart.selectionMode&&(this.unselected=e.unSelectedStyle||this.unselected),this.styleId.indexOf("highlight")>0&&"None"!==this.chart.highlightMode&&(this.unselected=e.nonHighlightStyle||this.unselected),e.selectionStyle||this.styleId+"_series_"+e.index):"undefined"}selectDataIndex(e,t){for(const i of t)this.performSelection(i,e,this.getElementByIndex(e,i)[0])}getElementByIndex(e,t,i="",s){let r=e.element.id+"_Series_"+t.series+"_Point_"+t.point;const o=e.series[t.series];return r="Scatter"!==o.type&&"Bubble"!==o.type&&s?r+"_Symbol"+i:r,[se(r),"RangeArea"!==o.type&&"SplineRangeArea"!==o.type||!o.marker.visible?null:se(r+"1")]}getClusterElements(e,t){const i=[];let s,r;for(const o of e.visibleSeries)if(o.visible){t=new Gp(o.index,t.point),o.isRectSeries&&i.push(this.getElementByIndex(e,t)[0]),i.push(this.getElementByIndex(e,t,"",o.marker.visible)[0]),s=this.generateStyle(e.visibleSeries[t.series]),r=document.querySelectorAll("."+s),this.findTrackballElements(r,s);const a=o.marker.visible&&o.isRectSeries?2:1;!e.isMultiSelect&&r.length>0&&r[0].id!==i[i.length-a].id&&this.removeSelection(e,t.series,r,s,!0)}return i}findTrackballElements(e,t){let i,s;for(let r=0;r<e.length;r++)if(!f(e[r])&&(i=f(e[r].parentNode)?[]:[].slice.call(e[0].parentNode.querySelectorAll("."+t)),i.length>0)){s=[];for(let o=0;o<i.length;o++)i[o].id.indexOf("Trackball")>-1&&s.push(i[o]);this.removeStyles(s)}}findElements(e,t,i,s="",r){return this.isSeriesMode?this.getSeriesElements(t):"Cluster"===this.currentMode?this.getClusterElements(e,i):this.getElementByIndex(e,i,s,r)}isAlreadySelected(e){const t=e.target;if("click"===e.type?(this.currentMode=this.chart.selectionMode,this.styleId=this.chart.element.id+"_ej2_chart_selection"):"mousemove"===e.type&&(this.currentMode=this.chart.highlightMode,this.highlightDataIndexes=[],this.styleId=this.chart.element.id+"_ej2_chart_highlight"),"None"!==this.chart.highlightMode&&"None"===this.chart.selectionMode&&"click"===e.type)return!1;if("None"!==this.chart.highlightMode&&this.previousSelectedEle&&this.previousSelectedEle[0]){const i=t.parentNode.id;let s;t.parentNode&&(s=i.indexOf("SeriesGroup")>0||i.indexOf("SymbolGroup")>0);for(let r=0;r<this.previousSelectedEle.length;r++)this.previousSelectedEle[r].hasAttribute("class")&&(this.previousSelectedEle[r].getAttribute("class").indexOf("highlight")>-1&&(s||"click"===e.type)?(this.previousSelectedEle[r].removeAttribute("class"),this.addOrRemoveIndex(this.highlightDataIndexes,this.indexFinder(this.previousSelectedEle[r].id))):!s&&this.previousSelectedEle[r].getAttribute("class").indexOf("highlight")>-1&&this.performSelection(this.indexFinder(this.previousSelectedEle[r].id),this.chart,this.previousSelectedEle[r]))}return!0}calculateSelectedElements(e){if(f(e.target))return;const t=e.target;if(("None"!==this.chart.selectionMode||"None"!==this.chart.highlightMode)&&-1!==t.id.indexOf(this.chart.element.id+"_")&&("mousemove"!==e.type||!(t.hasAttribute("class")&&(t.getAttribute("class").indexOf("highlight")>-1||t.getAttribute("class").indexOf("selection")>-1)||!f(t.parentNode)&&t.parentNode.hasAttribute("class")&&(t.parentNode.getAttribute("class").indexOf("highlight")>0||t.parentNode.getAttribute("class").indexOf("selection")>0)))&&(this.isAlreadySelected(e),t.id.indexOf("_Series_")>-1)){let i;if(t.id.indexOf("_Trackball_1")>-1)i=se(t.id.split("_Trackball_")[0]+"_Symbol"),i=f(i)?se(t.id.split("_Trackball_")[0]):i;else if(t.id.indexOf("_Trackball_0")>-1)return null;this.performSelection(this.indexFinder(t.id),this.chart,i||t)}}performSelection(e,t,i){if(this.isSeriesMode="Series"===this.currentMode,"BoxAndWhisker"===t.series[e.series].type&&i&&i.id===t.element.id+"_Series_"+e.series+"_Point_"+e.point+"_BoxPath"&&(i=i.parentNode),"Area"===t.series[e.series].type&&("Point"===this.currentMode||"Cluster"===this.currentMode)&&i&&i.id===this.chart.element.id+"_Series_"+e.series){const s=this.generateStyle(t.series[e.series]),r=document.querySelectorAll("."+s);this.findTrackballElements(r,s),this.blurEffect(t.element.id,t.visibleSeries)}switch(this.currentMode){case"Series":this.selection(t,e,this.getSeriesElements(t.series[e.series])),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries);break;case"Point":if(!isNaN(e.point)&&i){let s=[];s.push(i),null!==s[0]&&t.series[e.series].marker.visible&&(-1!==t.series[e.series].type.indexOf("Column")||-1!==t.series[e.series].type.indexOf("Bar"))&&(-1===i.id.indexOf("_Symbol")&&se(i.id+"_Symbol")?s.push(se(i.id+"_Symbol")):-1!==i.id.indexOf("_Symbol")&&se(i.id.replace("_Symbol",""))&&s.push(se(i.id.replace("_Symbol","")))),this.selection(t,e,s),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries)}break;case"Cluster":isNaN(e.point)||(this.clusterSelection(t,e),this.selectionComplete(t,e,this.currentMode),this.blurEffect(t.element.id,t.visibleSeries))}}selectionComplete(e,t,i){let s,r,o;const a=[];let l,h;if("Cluster"===i){for(const d of e.visibleSeries)if(d.visible)for(let u=0;u<this.selectedDataIndexes.length;u++)r=e.isMultiSelect?this.selectedDataIndexes[u].point:t.point,o=d.index,s=d.points,isNaN(r)||(l=s[r].yValue,h=s[r].xValue,"Category"===e.primaryXAxis.valueType?h=s[r].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(h=new Date(s[r].xValue)),"Indicator"!==d.category&&a.push({x:h,y:l,seriesIndex:o,pointIndex:r}),("RangeArea"===d.type||"SplineRangeArea"===d.type)&&a.push({x:h,y:s[r].regions[0].y,seriesIndex:o,pointIndex:r}))}else if("Series"===i)if(e.isMultiSelect)for(let d=0;d<this.selectedDataIndexes.length;d++)o=this.selectedDataIndexes[d].series,a.push({seriesIndex:o});else o=this.selectedDataIndexes.length>0?this.selectedDataIndexes[0].series:0,a.push({seriesIndex:o});else if("Point"===i)for(let d=0;d<this.selectedDataIndexes.length;d++){r=this.selectedDataIndexes[d].point,o=this.selectedDataIndexes[d].series;s=e.series[o].points,isNaN(r)||(h=s[r].xValue,l=s[r].yValue,"Category"===e.primaryXAxis.valueType?h=s[r].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(h=new Date(s[r].xValue)),a.push({x:h,y:l,seriesIndex:o,pointIndex:r}))}e.trigger(RU,{name:RU,selectedDataValues:a,cancel:!1})}selection(e,t,i){if("Lasso"!==this.currentMode&&!e.isMultiSelect&&-1===this.currentMode.indexOf("Drag")&&-1===this.styleId.indexOf("highlight")&&"None"!==e.selectionMode&&this.removeMultiSelectElements(e,this.selectedDataIndexes,t,e.series),!f(i[0])){let s;e.series[t.series].isRectSeries&&i[0].id&&(document.getElementById(i[0].id+"_Symbol")?i.push(se(i[0].id+"_Symbol")):-1!==i[0].id.indexOf("SeriesGroup")&&document.getElementById(i[0].id.replace("SeriesGroup","SymbolGroup"))&&i.push(se(i[0].id.replace("SeriesGroup","SymbolGroup"))));const r=i[0]&&(i[0].getAttribute("class")||""),o=i[0].parentNode&&(i[0].parentNode.getAttribute("class")||"");""!==r&&"Cluster"!==this.currentMode&&this.findTrackballElements(i,r),i[0]&&r.indexOf(this.getSelectionClass(i[0].id))>-1?this.removeStyles(i):i[0].parentNode&&o.indexOf(this.getSelectionClass(i[0].id))>-1?this.removeStyles([i[0].parentNode]):(this.previousSelectedEle="None"!==e.highlightMode?i:[],this.applyStyles(i),s=!0),this.styleId.indexOf("highlight")>0&&"None"!==e.highlightMode?this.addOrRemoveIndex(this.highlightDataIndexes,t,s):this.addOrRemoveIndex(this.selectedDataIndexes,t,s)}}clusterSelection(e,t){this.selection(e,t,this.getClusterElements(e,new Gp(t.series,t.point)))}removeMultiSelectElements(e,t,i,s){let r;for(let o=0;o<t.length;o++)r=s[t[o].series],(this.isSeriesMode&&!this.toEquals(t[o],i,this.isSeriesMode)||"Cluster"===this.currentMode&&!this.toEquals(t[o],i,!1)||!this.isSeriesMode&&this.toEquals(t[o],i,!0)&&!this.toEquals(t[o],i,!1))&&(this.removeStyles(this.findElements(e,r,t[o],"",!1)),r.marker.visible&&this.removeStyles(this.findElements(e,r,t[o],"",!0)),t.splice(o,1),o--)}blurEffect(e,t,i=!1){const s=this.checkVisibility(this.highlightDataIndexes)||this.checkVisibility(this.selectedDataIndexes);for(const r of t)r.visible&&(this.checkSelectionElements(se(e+"SeriesGroup"+r.index),this.generateStyle(r),s,i,r.index),f(se(e+"SymbolGroup"+r.index))||this.checkSelectionElements(se(e+"SymbolGroup"+r.index),this.generateStyle(r),s,i,r.index))}checkSelectionElements(e,t,i,s,r){let o=this.isSeriesMode?[e]:e.childNodes;"None"!==this.chart.selectionMode&&"None"!==this.chart.highlightMode&&(o=e.children);let a,l,h,c=e;for(let d=0;d<o.length;d++)a=o[d].getAttribute("class")||"",l=o[d].parentNode.getAttribute("class")||"","None"!==this.chart.selectionMode&&"None"!==this.chart.highlightMode&&(t=a.indexOf("selection")>0||a.indexOf("highlight")>0?a:t,t=l.indexOf("selection")>0||l.indexOf("highlight")>0?l:t),-1===a.indexOf(t)&&-1===l.indexOf(t)&&i?this.addSvgClass(o[d],this.unselected):(c=o[d],this.removeSvgClass(o[d],this.unselected),this.removeSvgClass(o[d].parentNode,this.unselected)),o[d].id.indexOf("Trackball")>0&&c.classList[0]===t&&(this.removeSvgClass(o[d],this.unselected),this.removeSvgClass(o[d].parentNode,this.unselected),this.addSvgClass(o[d],t));if(e.id.indexOf("Symbol")>-1&&e.querySelectorAll("."+t)[0]&&e.querySelectorAll("."+t)[0].getAttribute("class")===t){const d=se(this.control.element.id+"_Series_"+e.id[e.id.length-1]);(d&&d.hasAttribute("class")?d.getAttribute("class"):"").indexOf(this.unselected)>-1&&this.removeSvgClass(d,this.unselected)}this.control.legendModule&&this.control.legendSettings.visible&&(h=se(this.control.element.id+"_chart_legend_shape_"+r),h&&(h.hasAttribute("class")&&this.removeSvgClass(h,h.getAttribute("class")),a=c.getAttribute("class")||"",l=c.parentNode.getAttribute("class")||"",-1===a.indexOf(t)&&-1===l.indexOf(t)&&i?(this.addSvgClass(h,this.unselected),this.removeSvgClass(h,t)):(this.removeSvgClass(h,this.unselected),""===a&&""===l||"EJ2-Trackball"===a.trim()?this.removeSvgClass(h,t):this.addSvgClass(h,t)),s&&l.indexOf(t)>-1&&this.addSvgClass(h,t)))}applyStyles(e){for(const t of e)t&&(this.removeSvgClass(t.parentNode,this.unselected),this.removeSvgClass(t,this.unselected),this.addSvgClass(t,this.getSelectionClass(t.id)))}getSelectionClass(e){return this.generateStyle(this.control.series[this.indexFinder(e).series])}removeStyles(e){for(const t of e)t&&this.removeSvgClass(t,this.getSelectionClass(t.id))}addOrRemoveIndex(e,t,i){for(let s=0;s<e.length;s++)this.toEquals(e[s],t,this.isSeriesMode)&&(e.splice(s,1),s--);i&&e.push(t)}toEquals(e,t,i){return(e.series===t.series||"Cluster"===this.currentMode&&!i)&&(i||e.point===t.point)}redrawSelection(e,t,i){this.isSeriesMode="Series"===t,f(t)||(e.isRedrawSelection=-1===t.indexOf("Drag")&&"Lasso"!==t&&!i);let s=fe([],this.selectedDataIndexes,null,!0);const r=fe([],this.highlightDataIndexes,null,!0);this.styleId.indexOf("highlight")>0&&r.length>0?(this.removeSelectedElements(e,this.highlightDataIndexes,e.series),s=r):this.removeSelectedElements(e,this.selectedDataIndexes,e.series),this.blurEffect(e.element.id,e.visibleSeries),this.selectDataIndex(e,s)}legendSelection(e,t,i){let s=i.target;if("mousemove"===i.type){if(i.target.id.indexOf("text")>1&&(s=se(i.target.id.replace("text","shape"))),s.hasAttribute("class")&&(s.getAttribute("class").indexOf("highlight")>-1||s.getAttribute("class").indexOf("selection")>-1))return;this.currentMode=this.chart.highlightMode}if(this.isAlreadySelected(i)){let o=this.generateStyle(e.visibleSeries[t]),a=document.querySelectorAll("."+o);this.isSeriesMode="Series"===this.currentMode;const l=!0;if(a.length>0)this.removeSelection(e,t,a,o,l);else{for(const c of e.visibleSeries)c.index!==t&&!e.isMultiSelect&&(o=this.generateStyle(e.visibleSeries[c.index]),a=document.querySelectorAll("."+o),this.removeSelection(e,t,a,o,l));const h=this.getSeriesElements(e.visibleSeries[t]);for(const c of h){if(f(c))return;this.checkSelectionElements(c,o,!1,!0,t)}this.isSeriesMode=!0,this.selection(e,new Gp(t,NaN),h),this.isSeriesMode="Series"===e.selectionMode,this.blurEffect(e.element.id,e.visibleSeries,!0)}}}removeSelection(e,t,i,s,r){if(i.length>0){const o=[];for(let a=0;a<i.length;a++)o.push(i[a]);this.removeStyles(o),this.isSeriesMode=!0,this.addOrRemoveIndex(this.selectedDataIndexes,new Gp(t,NaN));for(const a of e.visibleSeries)if(s=this.generateStyle(a),document.querySelectorAll("."+s).length>0){for(const l of o)this.checkSelectionElements(l,s,!0,!0,t);r=!1;break}r&&(this.isSeriesMode="Series"===e.selectionMode,this.blurEffect(e.element.id,e.visibleSeries))}}getSeriesElements(e){const t=[e.seriesElement];return(e.marker.visible&&"Scatter"!==e.type&&"Bubble"!==e.type&&!e.isRectSeries||e.marker.visible&&e.isRectSeries)&&t.push(e.symbolElement),t}indexFinder(e){let t=["NaN","NaN"];return e.indexOf("SeriesGroup")>-1?(t=e.split("SeriesGroup"),t[0]=t[1]):e.indexOf("SymbolGroup")>-1?(t=e.split("SymbolGroup"),t[0]=t[1]):e.indexOf("_Point_")>-1?t=e.split("_Series_")[1].split("_Point_"):e.indexOf("_Series_")>-1?t[0]=e.split("_Series_")[1]:e.indexOf("_chart_legend_shape_")>-1&&(t=e.split("_chart_legend_shape_"),t[0]=t[1]),new Gp(parseInt(t[0],10),parseInt(t[1],10))}calculateDragSelectedElements(e,t,i){this.removeSelectedElements(e,this.selectedDataIndexes,e.series);const s="Lasso"===e.selectionMode,r=new ce(t.x,t.y,t.width,t.height),o=new Fe(e.chartAxisLayoutPanel.seriesClipRect.x,e.chartAxisLayoutPanel.seriesClipRect.y);this.removeOffset(r,o);let a,l,h=[];const c=[];this.isSeriesMode=!1;const d=e.allowMultiSelection&&(this.rectGrabbing||this.resizing);if(this.rectPoints=this.dragRectArray[d?this.targetIndex:this.count]=new ce(t.x,t.y,t.width,t.height),t.width&&t.height&&!i){const y=new ce(t.x,t.y,t.width,t.height);this.removeOffset(y,o),this.filterArray[d?this.targetIndex:this.count]=y}for(const y of e.visibleSeries)if(y.visible){let b,v;a=y.points,h=[],!e.isTransposed&&-1===y.type.indexOf("Bar")||e.isTransposed&&-1!==y.type.indexOf("Bar")?(b=y.xAxis.rect.x-o.x,v=y.yAxis.rect.y-o.y):(b=y.xAxis.rect.y-o.y,v=y.yAxis.rect.x-o.x);for(let C=0;C<a.length;C++){const w=a[C].yValue;let _,k=a[C].xValue;"Category"===e.primaryXAxis.valueType?k=a[C].x.toLocaleString():"DateTime"===e.primaryXAxis.valueType&&(k=new Date(a[C].xValue)),_="BoxAndWhisker"===y.type?a[C].regions.some(D=>zs(D.x+b,D.y+v,r)):"Lasso"===e.selectionMode?a[C].isSelect:e.allowMultiSelection?this.isPointSelect(a[C],b,v,this.filterArray):a[C].symbolLocations.some(D=>D&&zs(D.x+b,D.y+v,r)),_&&"Indicator"!==y.category&&(l=new Gp(y.index,a[C].index),this.selection(e,l,this.findElements(e,y,l,"",!y.isRectSeries&&y.marker.visible)),h.push({x:k,y:w})),_&&("RangeArea"===y.type||"SplineRangeArea"===y.type)&&h.push({x:k,y:a[C].regions[0].y})}c.push(h)}this.blurEffect(e.element.id,e.visibleSeries),i||this.createCloseButton(s?e.mouseDownX:t.x+t.width,s?e.mouseDownY:t.y),e.trigger(LU,{name:LU,selectedDataValues:c,cancel:!1})}removeOffset(e,t){e.x-=t.x,e.y-=t.y}isPointSelect(e,t,i,s){const r=e.symbolLocations[0];for(const o of s)if(o&&r&&zs(r.x+t,r.y+i,o))return!0;return!1}drawDraggingRect(e,t,i){const s=e.chartAxisLayoutPanel.seriesClipRect,r=e.chartArea.border.width,o=e.themeStyle.selectionRectFill,a=e.themeStyle.selectionRectStroke,l="Lasso"===e.selectionMode;switch(this.isdrawRect&&(s.x=s.x-r/2,s.y=s.y-r/2,s.width=s.width+r,s.height=s.height+r,this.isdrawRect=!1),e.selectionMode){case"DragX":t.y=s.y,t.height=s.height;break;case"DragY":t.x=s.x,t.width=s.width}if((t.width<5||t.height<5)&&!l)return null;const h=e.selectionMode.indexOf("Drag")>-1||"Lasso"===e.selectionMode;if(e.allowMultiSelection&&h){let c,d,u=se(this.multiRectGroup);if(u||(u=e.svgRenderer.createGroup({id:this.multiRectGroup}),e.svgObject.appendChild(u)),this.rectGrabbing||this.resizing){let p;p=se(this.draggedRect+this.targetIndex),p.nextSibling&&Ue(p.nextSibling),this.setAttributes(p,t)}else if(!se(this.draggedRectGroup+this.count)){d=e.svgRenderer.createGroup({id:this.draggedRectGroup+this.count});const p=document.getElementById(e.element.id+"_series_svg");e.enableCanvas?p.appendChild(d):u.appendChild(d)}"Lasso"!==e.selectionMode?(c=e.svgRenderer.drawRectangle(new us(this.draggedRect+this.count,o,{color:a,width:1},1,t)),c.setAttribute("style","cursor:move;")):c=e.svgRenderer.drawPath(new nt(this.lassoPath+this.count,o,3,a,1,"",this.path)),d||this.rectGrabbing||this.resizing?!this.rectGrabbing&&!this.resizing&&d.appendChild(c):se(this.draggedRectGroup+this.count).appendChild(c)}else{let c=se(l?this.lassoPath:this.draggedRect);if(this.closeIcon&&Qi(this.closeIconId),c)l?c.setAttribute("d",this.path):this.setAttributes(c,t);else{const d=e.svgRenderer.createGroup({id:this.draggedRectGroup}),u=document.getElementById(e.element.id+"_series_svg");e.enableCanvas?u.appendChild(d):e.svgObject.appendChild(d),c="Lasso"!==e.selectionMode?e.svgRenderer.drawRectangle(new us(this.draggedRect,o,{color:a,width:1},1,t)):e.svgRenderer.drawPath(new nt(this.lassoPath,o,3,a,1,"",this.path)),d.appendChild(c)}}}getIndex(e){let t;for(t=e.length-1;t>0;t--){const s=Number(e[t]);if(isNaN(s))break}return+e.substr(t+1,e.length-1)}createCloseButton(e,t){const i=this.chart.allowMultiSelection,s=this.chart.themeStyle.selectionCircleStroke,r=this.rectGrabbing||this.resizing,o=this.chart.svgRenderer.createGroup({id:this.closeIconId+(i?r?this.targetIndex:this.count:""),style:"cursor:pointer; visibility: visible;"});o.appendChild(this.chart.svgRenderer.drawCircle(new Zp(this.closeIconId+"_circle"+(i?r?this.targetIndex:this.count:""),"#FFFFFF",{color:s,width:1},1,e,t,10))),o.appendChild(this.chart.svgRenderer.drawPath({id:this.closeIconId+"_cross"+(i?r?this.targetIndex:this.count:""),d:"M "+(e-4)+" "+(t-4)+" L "+(e+4)+" "+(t+4)+" M "+(e-4)+" "+(t+4)+" L "+(e+4)+" "+(t-4),stroke:s,"stroke-width":2,fill:s})),this.closeIcon=o;const l=se(this.draggedRectGroup+(i?r?this.targetIndex:this.count:""));l&&l.appendChild(o)}removeDraggedElements(e,t){if(t.target.id.indexOf(this.closeIconId)>-1&&-1===t.type.indexOf("move")){let i=!0;if(e.allowMultiSelection){const s=this.getIndex(t.target.id),r=se(this.multiRectGroup);if(Ue(se(this.draggedRectGroup+s)),this.dragRectArray[s]=null,this.filterArray[s]=null,this.totalSelectedPoints[s]=null,r&&0===r.childElementCount&&(Qi(r),this.dragRectArray=[],this.filterArray=[],this.totalSelectedPoints=[]),"Lasso"===this.currentMode){if(null!=this.multiDataIndexes[s])for(let o=0;o<this.multiDataIndexes[s].length;o++)this.multiDataIndexes[s][o].isSelect=!1;this.multiDataIndexes[s]=null;for(let o=0;o<this.multiDataIndexes.length;o++)if(null!=this.multiDataIndexes[o]){i=!1;for(let a=0;a<this.multiDataIndexes[o].length;a++)this.multiDataIndexes[o][a].isSelect=!0}this.calculateDragSelectedElements(e,this.dragRect,!0)}else if(this.filterArray.length)for(let o=0;o<this.filterArray.length;o++)this.filterArray[o]&&(i=!1,this.calculateDragSelectedElements(e,this.filterArray[o],!0));else this.calculateDragSelectedElements(e,new ce(0,0,0,0),!0)}else Ue(se(this.draggedRectGroup)),this.removeSelectedElements(e,this.selectedDataIndexes,e.series);this.blurEffect(e.element.id,e.visibleSeries),this.changeCursorStyle(!1,e.svgObject,"auto"),(!e.allowMultiSelection||i)&&(this.rectPoints=null)}}resizingSelectionRect(e,t,i,s){let r;if(e.allowMultiSelection&&s.id.indexOf("_ej2_drag_rect")>-1||this.dragRectArray[this.targetIndex]){s.id.indexOf("_ej2_drag_rect")>-1&&(this.targetIndex=this.getIndex(s.id));const o=this.dragRectArray[this.targetIndex];r=new ce(o.x,o.y,o.width,o.height)}if(e.allowMultiSelection||(r=new ce(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height)),r){const o=this.findResizeMode(e.svgObject,r,t);this.resizing&&(r=b2(r.x,r.y,r.x+r.width,r.y+r.height,e.chartAxisLayoutPanel.seriesClipRect),this.drawDraggingRect(e,r),this.dragRect=r),i&&(this.resizing=o)}}findResizeMode(e,t,i){let s="se-resize",r=!1;if(this.resizing){const o=t.x,a=t.y;let l=i.x-o,h=i.y-a;switch(this.resizeMode){case 0:h=Math.abs(t.height+t.y-i.y),t.y=Math.min(t.height+t.y,i.y),t.height=h;break;case 1:l=Math.abs(t.width+t.x-i.x),t.x=Math.min(t.width+t.x,i.x),t.width=l;break;case 2:t.height=Math.abs(h),t.y=Math.min(i.y,a);break;case 3:t.width=Math.abs(l),t.x=Math.min(i.x,o);break;case 4:t.width=Math.abs(l),t.height=Math.abs(h),t.x=Math.min(i.x,o),t.y=Math.min(i.y,a)}}else{const o=[new ce(t.x,t.y,t.width-5,5),new ce(t.x,t.y,5,t.height),new ce(t.x,t.y+t.height-5,t.width-5,5),new ce(t.x+t.width-5,t.y+5,5,t.height-15),new ce(t.x+t.width-10,t.y+t.height-10,10,10)];for(let a=0;a<o.length;a++)if(zs(i.x,i.y,o[a])){s=4===a?s:a%2==0?"ns-resize":"ew-resize",r=!0,this.resizeMode=a;break}}return"Lasso"!==this.currentMode&&this.changeCursorStyle(r,se(this.chart.allowMultiSelection?this.draggedRect+this.targetIndex:this.draggedRect),s),this.changeCursorStyle(r,e,s),r}changeCursorStyle(e,t,i){i=e?i:this.control.svgObject===t?"auto":"move",t&&t.setAttribute("style","cursor:"+i+";")}removeSelectedElements(e,t,i){let s;t=e.isRedrawSelection?t:t.splice(0,t.length);for(const r of i){s=this.getSeriesElements(r),this.removeStyles(s);for(const o of s)this.removeStyles(this.getChildren(o))}}setAttributes(e,t){const i=Object.keys(t);for(const s of i)e.setAttribute(s,t[s])}draggedRectMoved(e,t,i,s){let r;if((this.resizing||this.rectGrabbing)&&e.allowMultiSelection){const o=this.dragRectArray[this.targetIndex];r=new ce(o.x,o.y,o.width,o.height)}else r=new ce(this.rectPoints.x,this.rectPoints.y,this.rectPoints.width,this.rectPoints.height);r.x-=t.x-e.mouseX,r.y-=t.y-e.mouseY,r=b2(r.x,r.y,r.x+r.width,r.height+r.y,e.chartAxisLayoutPanel.seriesClipRect),i?this.drawDraggingRect(e,r,s):this.calculateDragSelectedElements(e,r)}completeSelection(e){const t=this.chart;"None"!==t.selectionMode&&(this.currentMode=t.selectionMode,(this.dragging||this.resizing)&&this.dragRect.width>5&&this.dragRect.height>5?this.calculateDragSelectedElements(t,this.dragRect):(!t.allowMultiSelection&&this.rectGrabbing&&this.rectPoints.width&&this.rectPoints.height||this.rectGrabbing&&this.dragRectArray[this.targetIndex].width&&this.dragRectArray[this.targetIndex].height)&&this.draggedRectMoved(t,this.dragRect),"Lasso"===t.selectionMode&&this.dragging&&this.path&&-1!==this.path.indexOf("L")&&(t.allowMultiSelection?se(this.lassoPath+this.count)&&(se(this.lassoPath+this.count).setAttribute("d",this.path+"Z"),this.pointChecking(se(this.lassoPath+this.count))):(se(this.lassoPath).setAttribute("d",this.path+"Z"),this.pointChecking(se(this.lassoPath))),(this.dragging||this.resizing)&&this.calculateDragSelectedElements(t,this.dragRect)),this.dragging=!1,this.rectGrabbing=!1,this.resizing=!1,this.removeDraggedElements(t,e))}getDragRect(e,t){return b2(e.mouseDownX,e.mouseDownY,e.mouseX,e.mouseY,t)}dragStart(e,t,i,s,r){const o=e.selectionMode;this.currentMode=e.selectionMode,this.dragging=(o.indexOf("Drag")>-1||"Lasso"===o)&&(e.isDoubleTap||!e.isTouch)&&"PolarRadar"!==e.chartAreaType;const a=r.target;if(this.path=void 0,this.dragging&&(this.count=se(this.multiRectGroup)?this.count+1:0,this.dragRect=new ce(e.mouseDownX,e.mouseDownY,0,0),(e.mouseDownX<t.x||e.mouseDownX>t.x+t.width||e.mouseDownY<t.y||e.mouseDownY>t.y+t.height)&&(this.dragging=!1)),"Lasso"===o)for(const l of e.visibleSeries)if(l.visible)for(const h of l.points)e.allowMultiSelection||(h.isSelect=!1);if("Lasso"!==o&&(this.rectPoints&&!e.allowMultiSelection&&(this.dragRect=new ce(e.mouseDownX,e.mouseDownY,0,0),this.resizingSelectionRect(e,new Fe(i,s),!0),this.rectGrabbing=zs(i,s,this.rectPoints)),e.allowMultiSelection)){const l=this.getIndex(a.id);this.targetIndex=this.isDragRect(a.id)?l:void 0,this.dragRectArray.length&&this.isDragRect(a.id)&&(this.resizingSelectionRect(e,new Fe(i,s),!0,a),this.rectGrabbing=zs(i,s,this.dragRectArray[l]))}}isDragRect(e){return e.indexOf("_ej2_drag_rect")>-1}mouseMove(e){const t=this.chart;let i=e.target;if("None"===t.highlightMode||f(i))"None"!==t.selectionMode&&("touchmove"===e.type&&(T.isIos||T.isIos7)&&this.dragging&&e.preventDefault&&e.preventDefault(),zs(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)?(this.rectGrabbing&&!this.resizing?this.draggedRectMoved(t,this.dragRect,!0,i):this.dragging&&!this.resizing&&("Lasso"===t.selectionMode?(this.getPath(t.mouseDownX,t.mouseDownY,t.mouseX,t.mouseY),this.drawDraggingRect(t,this.dragRect,i)):(this.dragRect=this.getDragRect(t,t.chartAxisLayoutPanel.seriesClipRect),this.drawDraggingRect(t,this.dragRect,i))),(this.rectPoints&&!t.allowMultiSelection||t.allowMultiSelection&&!this.dragging||this.resizing)&&this.resizingSelectionRect(t,new Fe(t.mouseX,t.mouseY),null,i)):this.completeSelection(e));else{if(e.target.id.indexOf("text")>1&&(i=se(e.target.id.replace("text","shape"))),i.hasAttribute("class")&&(i.getAttribute("class").indexOf("highlight")>-1||i.getAttribute("class").indexOf("selection")>-1))return;this.calculateSelectedElements(e)}}getPath(e,t,i,s){this.dragging&&(this.path=this.path?this.path+" L"+i+" "+s:"M "+e+" "+t)}pointChecking(e){const t=this.chart;let i;const s=se(t.svgId).getBoundingClientRect(),r=t.chartAxisLayoutPanel.seriesClipRect.x+Math.max(s.left,0),o=t.chartAxisLayoutPanel.seriesClipRect.y+Math.max(s.top,0);this.multiDataIndexes[this.count]=[];for(const a of t.visibleSeries)a.points.filter(l=>{l.symbolLocations&&l.symbolLocations.length&&(i=document.elementFromPoint(l.symbolLocations[0].x+r,l.symbolLocations[0].y+o)),i===e?(l.isSelect=!0,this.chart.allowMultiSelection&&"Lasso"===this.currentMode&&(this.multiDataIndexes[this.count][this.seriesIndex]=l,this.seriesIndex++)):t.allowMultiSelection||(l.isSelect=!1)});this.seriesIndex=0}getModuleName(){return"Selection"}destroy(){this.removeEventListener()}}class bSe{constructor(e){this.chartId=e.element.id+"_"}renderElements(e,t){const i=t.createGroup({id:this.chartId+"scrollBar_"+e.axis.name,transform:"translate("+(e.isVertical&&e.axis.isInversed?e.height:e.axis.isInversed?e.width:"0")+","+(e.isVertical&&e.axis.isInversed?"0":e.axis.isInversed?e.height:e.isVertical?e.width:"0")+") rotate("+(e.isVertical&&e.axis.isInversed?"90":e.isVertical?"270":e.axis.isInversed?"180":"0")+")"}),s=t.createGroup({id:this.chartId+"scrollBar_backRect_"+e.axis.name}),r=t.createGroup({id:this.chartId+"scrollBar_thumb_"+e.axis.name,transform:"translate(0,0)"});return this.backRect(e,t,s),this.thumb(e,t,r),this.renderCircle(e,t,r),this.arrows(e,t,r),this.thumbGrip(e,t,r),i.appendChild(s),i.appendChild(r),i}backRect(e,t,i){const s=e.scrollbarThemeStyle,r=t.drawRectangle(new us(this.chartId+"scrollBarBackRect_"+e.axis.name,s.backRect,{width:1,color:s.backRect},1,new ce(0,0,e.width,e.height),0,0));i.appendChild(r)}arrows(e,t,i){const s=e.scrollbarThemeStyle,r=new nt(this.chartId+"scrollBar_leftArrow_"+e.axis.name,s.arrow,1,s.arrow,1,"","");this.leftArrowEle=t.drawPath(r),r.id=this.chartId+"scrollBar_rightArrow_"+e.axis.name,this.rightArrowEle=t.drawPath(r),this.setArrowDirection(this.thumbRectX,this.thumbRectWidth,e.height),i.appendChild(this.leftArrowEle),i.appendChild(this.rightArrowEle)}setArrowDirection(e,t,i){const o="M "+(e+t+4-.5)+" "+i/2+" L "+(e+t+4-6)+" 11.5 L "+(e+t+4-6)+" 4.5 Z";this.leftArrowEle.setAttribute("d","M "+(e-4+1)+" "+i/2+" L "+(e-4+6)+" 11 L "+(e-4+6)+" 5 Z"),this.rightArrowEle.setAttribute("d",o)}thumb(e,t,i){e.startX=this.thumbRectX,this.slider=t.drawRectangle(new us(this.chartId+"scrollBarThumb_"+e.axis.name,e.scrollbarThemeStyle.thumb,{width:1,color:""},1,new ce(this.thumbRectX,0,this.thumbRectWidth,e.height))),i.appendChild(this.slider)}renderCircle(e,t,i){const s=e.scrollbarThemeStyle,r=new Zp(this.chartId+"scrollBar_leftCircle_"+e.axis.name,s.circle,{width:1,color:s.circle},1,this.thumbRectX,e.height/2,8),a=t.createDefs(),l=t.createGroup({id:this.chartId+e.axis.name+"_thumb_shadow"});a.innerHTML='<filter x="-25.0%" y="-20.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox"id="scrollbar_shadow"><feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset><feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur><feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix></filter>',l.innerHTML='<use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+this.chartId+"scrollBar_leftCircle_"+e.axis.name+'"></use><use fill="black" fill-opacity="1" filter="url(#scrollbar_shadow)" xlink:href="#'+this.chartId+"scrollBar_rightCircle_"+e.axis.name+'"></use>',this.leftCircleEle=t.drawCircle(r),r.id=this.chartId+"scrollBar_rightCircle_"+e.axis.name,r.cx=this.thumbRectX+this.thumbRectWidth,this.rightCircleEle=t.drawCircle(r),i.appendChild(a),i.appendChild(this.leftCircleEle),i.appendChild(this.rightCircleEle),i.appendChild(l)}thumbGrip(e,t,i){let s=0,r=0;const h=e.scrollbarThemeStyle,c=new Zp(this.chartId+"scrollBar_gripCircle0_"+e.axis.name,h.grip,{width:1,color:h.grip},1,0,0,1);this.gripCircle=t.createGroup({id:this.chartId+"scrollBar_gripCircle_"+e.axis.name,transform:"translate("+(this.thumbRectX+this.thumbRectWidth/2+5*(e.isVertical?1:-1))+","+(e.isVertical?"10":"5")+") rotate("+(e.isVertical?"180":"0")+")"});for(let d=1;d<=6;d++)c.id=this.chartId+"scrollBar_gripCircle"+d+"_"+e.axis.name,c.cx=s,c.cy=r,this.gripCircle.appendChild(t.drawCircle(c)),s=3===d?0:s+5,r=d>=3?5:0;i.appendChild(this.gripCircle)}}class L2{constructor(e,t){this.scrollRange={max:null,min:null,interval:null,delta:null},this.component=e,this.elements=[],this.scrollElements=new bSe(e),this.axis=t,this.mouseMoveListener=this.scrollMouseMove.bind(this),this.mouseUpListener=this.scrollMouseUp.bind(this),this.animateDuration=500,this.isPointer=T.isPointer,this.browserName=T.info.name}getMouseXY(e){let t,i,s;e.type.indexOf("touch")>-1?(s=e,t=s.changedTouches[0].clientX,i=s.changedTouches[0].clientY):(t=e.clientX,i=e.clientY);const r=se(this.component.element.id+"_scrollBar_svg"+this.axis.name).getBoundingClientRect();this.mouseX=t-Math.max(r.left,0),this.mouseY=i-Math.max(r.top,0)}wireEvents(e){S.add(e,T.touchStartEvent,this.scrollMouseDown,this),S.add(e,T.touchMoveEvent,this.scrollMouseMove,this),S.add(e,T.touchEndEvent,this.scrollMouseUp,this),S.add(e,"mousewheel",this.scrollMouseWheel,this),window.addEventListener("mousemove",this.mouseMoveListener,!1),window.addEventListener("mouseup",this.mouseUpListener,!1)}unWireEvents(e){S.remove(e,T.touchStartEvent,this.scrollMouseDown),S.remove(e,T.touchMoveEvent,this.scrollMouseMove),S.remove(e,T.touchEndEvent,this.scrollMouseUp),S.remove(e,"mousewheel",this.scrollMouseWheel),window.removeEventListener("mousemove",this.mouseMoveListener,!1),window.removeEventListener("mouseup",this.mouseUpListener,!1)}scrollMouseDown(e){const t=e.target.id,i=this.scrollElements;if(this.getMouseXY(e),this.isResizeLeft=this.isExist(t,"_leftCircle_")||this.isExist(t,"_leftArrow_"),this.isResizeRight=this.isExist(t,"_rightCircle_")||this.isExist(t,"_rightArrow_"),this.previousXY=this.isVertical&&this.axis.isInversed?this.mouseY:this.isVertical?this.width-this.mouseY:this.axis.isInversed?this.width-this.mouseX:this.mouseX,this.previousWidth=i.thumbRectWidth,this.previousRectX=i.thumbRectX,this.startZoomPosition=this.axis.zoomPosition,this.startZoomFactor=this.axis.zoomFactor,this.startRange=this.axis.visibleRange,this.scrollStarted=!0,this.component.trigger(FU,this.getArgs(FU)),this.isExist(t,"scrollBarThumb_")||this.isExist(t,"gripCircle"))this.isThumbDrag=!0,this.svgObject.style.cursor="-webkit-grabbing";else if(this.isExist(t,"scrollBarBackRect_")){const s=this.moveLength(this.previousXY,this.previousRectX);if(i.thumbRectX=this.isWithIn(s)?s:i.thumbRectX,this.positionThumb(i.thumbRectX,i.thumbRectWidth),this.setZoomFactorPosition(i.thumbRectX,i.thumbRectWidth,!1),this.isLazyLoad){const o=this.calculateLazyRange(i.thumbRectX,i.thumbRectWidth,i.thumbRectX>this.previousRectX?"RightMove":"LeftMove");o&&this.component.trigger(vw,o)}}""===this.component.element.style.height&&(this.isCustomHeight=!0,this.component.element.style.height=this.component.availableSize.height+"px")}isExist(e,t){return e.indexOf(t)>-1}isWithIn(e){return e-8>=0&&e+this.scrollElements.thumbRectWidth+8<=this.width}moveLength(e,t,i=8){let s=.1*(this.width-2*i);return s=e<t?t-(t-s>i?s:i):t+(t+this.scrollElements.thumbRectWidth+s<this.width-i?s:i),s}setZoomFactorPosition(e,t,i=!0){this.isScrollUI=!0;const s=this.axis,a=e+t+8+1;this.zoomPosition=(e-(e-8.5<=0?8.5:0))/(this.isVertical?s.rect.height:this.width),this.zoomFactor=(t+(a>=this.width?9:0))/(this.isVertical?s.rect.height:this.width),s.zoomPosition=this.zoomPosition<0?0:this.zoomPosition>.9?1:this.zoomPosition,s.zoomFactor=i?this.zoomFactor:s.zoomFactor}scrollMouseMove(e){const t=e.target,i=this.scrollElements;if(!se(this.svgObject.id))return null;this.getMouseXY(e),this.setCursor(t),this.setTheme(t);let s=this.isVertical&&this.axis.isInversed?this.width-this.mouseY:this.isVertical?this.mouseY:this.mouseX;const r=this.axis.visibleRange,o=this.zoomPosition,a=this.zoomFactor;let c;this.isLazyLoad&&(this.isThumbDrag||this.isResizeLeft||this.isResizeRight)&&(c=this.calculateLazyRange(i.thumbRectX,i.thumbRectWidth,this.previousRectX-i.thumbRectX<0?"RightMove":"LeftMove"));const d=c?c.currentRange:null;if(this.isThumbDrag){this.component.isScrolling=this.isThumbDrag,s=this.isVertical||this.axis.isInversed?this.width-s:s;const u=i.thumbRectX+(s-this.previousXY);s>=u+i.thumbRectWidth?this.setCursor(t):this.svgObject.style.cursor="-webkit-grabbing",s>=0&&s<=u+i.thumbRectWidth&&(i.thumbRectX=this.isWithIn(u)?u:i.thumbRectX,this.positionThumb(i.thumbRectX,i.thumbRectWidth),this.previousXY=s,this.setZoomFactorPosition(u,i.thumbRectWidth,!1)),this.component.trigger(xm,this.getArgs(xm,r,o,a,d))}else(this.isResizeLeft||this.isResizeRight)&&(this.resizeThumb(),this.component.trigger(xm,this.getArgs(xm,r,o,a,d)))}scrollMouseWheel(e){const t=se(this.component.element.id+"_scrollBar_svg"+this.axis.name).getBoundingClientRect();this.mouseX=e.clientX-Math.max(t.left,0),this.mouseY=e.clientY-Math.max(t.top,0);let i=.5;const s=this.scrollElements,r=this.axis,o="mozilla"!==this.browserName||this.isPointer?e.wheelDelta/120>0?1:-1:-e.detail/3>0?1:-1,a=Math.max(Math.max(1/Du(r.zoomFactor,0,1),1)+.25*o,1),l=this.axis.visibleRange,h=this.zoomPosition,c=this.zoomFactor;let d;a>=1&&(i="Horizontal"===r.orientation?this.mouseX/r.rect.width:1-this.mouseY/r.rect.height,i=i>1?1:i<0?0:i,this.zoomFactor=1===a?1:Du(1/a,0,1),this.zoomPosition=1===a?0:r.zoomPosition+(r.zoomFactor-this.zoomFactor)*i),s.thumbRectX=this.isWithIn(this.zoomPosition*this.width)?this.zoomPosition*this.width:s.thumbRectX,this.isScrollUI=!0,this.positionThumb(s.thumbRectX,s.thumbRectWidth),this.isLazyLoad&&this.setZoomFactorPosition(s.thumbRectX,s.thumbRectWidth),r.zoomFactor=this.zoomFactor,r.zoomPosition=this.zoomPosition,this.isLazyLoad&&(d=this.calculateMouseWheelRange(s.thumbRectX,s.thumbRectWidth),d&&d.currentRange.minimum!==d.previousAxisRange.minimum&&d.currentRange.maximum!==d.previousAxisRange.maximum&&(this.component.trigger(vw,d),this.isScrollEnd=!1)),this.isLazyLoad||this.component.trigger(xm,this.getArgs(xm,l,h,c))}scrollMouseUp(){let e;if(this.startX=this.scrollElements.thumbRectX,(this.isResizeLeft||this.isResizeRight)&&!this.isLazyLoad&&(this.axis.zoomFactor=this.startX+this.scrollElements.thumbRectWidth+8+1>=this.width-1&&this.startX-8.5<=0?1:this.zoomFactor),this.isLazyLoad){const o=this.previousRectX-this.startX;if((o>0||o<0)&&this.isThumbDrag){const a=o<0?"RightMove":"LeftMove";this.startX="RightMove"===a?this.startX+Math.abs(o)<this.width-8?this.startX:this.width-8-this.scrollElements.thumbRectWidth:this.startX+this.scrollElements.thumbRectWidth-Math.abs(o)>8?this.startX:8,e=this.calculateLazyRange(this.startX,this.scrollElements.thumbRectWidth,a),e&&(this.component.trigger(vw,e),this.scrollStarted=!1)}(this.isResizeLeft||this.isResizeRight)&&(e=this.calculateLazyRange(this.startX,this.scrollElements.thumbRectWidth),e&&(this.component.trigger(vw,e),this.scrollStarted=!1))}this.isThumbDrag=!1,this.isResizeLeft=!1,this.isResizeRight=!1,this.isScrollEnd=!1,this.component.isScrolling=!1,this.scrollStarted&&!this.isLazyLoad&&(this.component.trigger(vw,this.getArgs(xm,this.startRange,this.startZoomPosition,this.startZoomFactor)),this.scrollStarted=!1),this.isCustomHeight&&(this.component.element.style.height=null)}calculateMouseWheelRange(e,t){let i,s,r;const o=this.scrollRange,a=this.getStartEnd(this.previousStart,this.previousEnd,!1);e+t+8<=this.width&&(s=(e-8)/this.width,i=t/this.width);const h=o.min+s*o.delta,c=h+i*o.delta;return c&&(r={axis:this.axis,currentRange:this.getStartEnd(h,c,!0),previousAxisRange:a}),r}calculateLazyRange(e,t,i){let r,o,a,l,h,s=t;const c=this.scrollRange,d=this.getStartEnd(this.previousStart,this.previousEnd,!1);return this.isResizeRight||"RightMove"===i?(s=this.isResizeRight?s+16:s,r=(s+8)/this.width,o="RightMove"===i?(e+8)/this.width:this.axis.zoomPosition,a="RightMove"===i?c.min+o*c.delta:this.previousStart,l=a+r*c.delta):this.isResizeLeft||"LeftMove"===i?(o=(e-8)/this.width,r=s/this.width,a=c.min+o*c.delta,a=a>=c.min?a:c.min,l="LeftMove"===i?a+r*c.delta:this.previousEnd):this.isThumbDrag&&(o="RightMove"===i?(e+8)/this.width:(e-8)/this.width,r=this.scrollElements.thumbRectWidth/this.width,a=c.min+o*c.delta,a=a>=c.min?a:c.min,l=a+r*c.delta),l&&(h={axis:this.component.isBlazor?{}:this.axis,currentRange:this.getStartEnd(a,l,!0),previousAxisRange:d}),h}getStartEnd(e,t,i){const s=this.valueType;switch("DateTime"!==s&&"DateTimeCategory"!==s||!i?i&&(this.previousStart=Math.round(e),this.previousEnd=Math.ceil(t)):(this.previousStart=e,this.previousEnd=t),s){case"Double":case"Category":case"Logarithmic":e=Math.round(e),t=Math.ceil(t);break;case"DateTime":case"DateTimeCategory":e=new Date(e),t=new Date(t)}return{minimum:e,maximum:t}}render(e){return(this.component.zoomModule||e&&this.axis.scrollbarSettings.enable)&&this.getDefaults(),this.getTheme(),this.removeScrollSvg(),function(n,e){const t=n.axis.rect,i="Horizontal"===n.axis.orientation;let o,s=!1,r=0;for(const a of n.axis.series)a.marker.visible&&a.marker.height>r&&(r=a.marker.height);for(const a of n.axis.series)if(a.visible&&(o=a.yMin.toString(),s=a.yData.some(l=>l===o)),s)break;n.svgObject=e.createSvg({id:n.component.element.id+"_scrollBar_svg"+n.axis.name,width:n.isVertical?n.height:n.width,height:n.isVertical?n.width:n.height,style:"position: absolute;top: "+((n.axis.opposedPosition&&i?-16:s?r:0)+t.y)+"px;left: "+((n.axis.opposedPosition&&!i?16:0)+t.x-(n.isVertical?n.height:0))+"px;cursor:auto;"}),n.elements.push(n.svgObject)}(this,this.component.svgRenderer),this.wireEvents(this.svgObject),this.svgObject.appendChild(this.scrollElements.renderElements(this,this.component.svgRenderer)),this.svgObject}getTheme(){this.scrollbarThemeStyle=function(n){let e;switch(n){case"HighContrastLight":e={backRect:"#333",thumb:"#bfbfbf",circle:"#fff",circleHover:"#685708",arrow:"#333",grip:"#333",arrowHover:"#fff",backRectBorder:"#969696"};break;case"Bootstrap":e={backRect:"#f5f5f5",thumb:"#e6e6e6",circle:"#fff",circleHover:"#eee",arrow:"#8c8c8c",grip:"#8c8c8c"};break;case"Fabric":e={backRect:"#f8f8f8",thumb:"#eaeaea",circle:"#fff",circleHover:"#eaeaea",arrow:"#a6a6a6",grip:"#a6a6a6"};break;default:e={backRect:"#f5f5f5",thumb:"#e0e0e0",circle:"#fff",circleHover:"#eee",arrow:"#9e9e9e",grip:"#9e9e9e"}}return e}(this.component.theme)}removeScrollSvg(){document.getElementById(this.component.element.id+"_scrollBar_svg"+this.axis.name)&&Ue(document.getElementById(this.component.element.id+"_scrollBar_svg"+this.axis.name))}setCursor(e){const t=e.id;this.svgObject.style.cursor=t.indexOf("scrollBarThumb_")>-1||t.indexOf("_gripCircle")>-1?"-webkit-grab":t.indexOf("Circle_")>-1||t.indexOf("Arrow_")>-1?this.isVertical?"ns-resize":"ew-resize":"auto"}setTheme(e){const t=e.id,i=t.indexOf("_leftCircle_")>-1||t.indexOf("_leftArrow_")>-1,s=t.indexOf("_rightCircle_")>-1||t.indexOf("_rightArrow_")>-1,r=this.scrollbarThemeStyle,o=this.scrollElements.leftArrowEle,a=this.scrollElements.rightArrowEle,l=this.scrollElements.leftCircleEle,h=this.scrollElements.rightCircleEle,c=this.isCurrentAxis(e,o);l.style.fill=i&&c?r.circleHover:r.circle,h.style.fill=s&&c?r.circleHover:r.circle,l.style.stroke=i&&c?r.circleHover:r.circle,h.style.stroke=s&&c?r.circleHover:r.circle,"HighContrastLight"===this.component.theme&&(o.style.fill=i&&c?r.arrowHover:r.arrow,o.style.stroke=i&&c?r.arrowHover:r.arrow,a.style.fill=s&&c?r.arrowHover:r.arrow,a.style.stroke=s&&c?r.arrowHover:r.arrow,l.style.stroke=i&&c?r.circleHover:r.circle,h.style.stroke=s&&c?r.circleHover:r.circle)}isCurrentAxis(e,t){return e.id.split("_")[2]===t.id.split("_")[2]}resizeThumb(){let e;const o=this.previousRectX,a=this.isVertical&&this.axis.isInversed?this.mouseY:this.isVertical?this.width-this.mouseY:this.axis.isInversed?this.width-this.mouseX:this.mouseX,l=Math.abs(this.previousXY-a);if(this.isResizeLeft&&a>=0){let h=o+(a>this.previousXY?l:-l);e=h-8>=0?this.previousWidth+(a>this.previousXY?-l:l):this.previousWidth,h=h-8>=0?h:o,e>=40&&a<h+e&&(this.scrollElements.thumbRectX=this.previousRectX=h,this.scrollElements.thumbRectWidth=this.previousWidth=e,this.previousXY=a,this.positionThumb(h,e),this.setZoomFactorPosition(h,e))}else this.isResizeRight&&(e=a>=40+this.scrollElements.thumbRectX&&a<=this.width-8?a-this.scrollElements.thumbRectX:this.previousWidth,this.scrollElements.thumbRectWidth=this.previousWidth=e,this.previousXY=a,this.positionThumb(this.startX,e),this.setZoomFactorPosition(this.startX,e),this.isLazyLoad||this.setZoomFactorPosition(this.startX,e))}positionThumb(e,t){const i=this.scrollElements;i.slider.setAttribute("x",e.toString()),i.slider.setAttribute("width",t.toString()),i.leftCircleEle.setAttribute("cx",e.toString()),i.rightCircleEle.setAttribute("cx",(e+t).toString()),i.setArrowDirection(e,t,this.height),i.gripCircle.setAttribute("transform","translate("+(e+t/2+5*(this.isVertical?1:-1))+","+(this.isVertical?"10":"5")+") rotate("+(this.isVertical?"180":"0")+")")}getDefaults(){const e=this.axis;this.axis.scrollbarSettings.enable&&(this.isLazyLoad=!0,this.getLazyDefaults(e)),this.isVertical="Vertical"===e.orientation,this.zoomFactor=this.isLazyLoad?this.zoomFactor:e.zoomFactor,this.zoomPosition=this.isLazyLoad?this.zoomPosition:e.zoomPosition;let o=this.zoomFactor*(this.isVertical?e.rect.height:e.rect.width);o=o>40?o:40,this.scrollX=e.rect.x,this.scrollY=e.rect.y,this.width=this.isVertical?e.rect.height:e.rect.width,this.height=16;const a=this.zoomPosition*(this.isVertical?e.rect.height:this.width),l=this.width-40-8;this.scrollElements.thumbRectX=a>l?l:a<8?8:a,this.scrollElements.thumbRectWidth=o+this.scrollElements.thumbRectX<this.width-16?o:this.width-this.scrollElements.thumbRectX-8}getLazyDefaults(e){let t,i,s=e.valueType;const r=e.scrollbarSettings,o=e.scrollbarSettings.range,a=e.visibleRange,l=e.scrollbarSettings.pointsLength;this.valueType=s=r.range.minimum&&r.range.maximum||!r.pointsLength?s:"Double";const h={skeleton:"full",type:"dateTime"},c=this.component.intl.getDateParser(h),d=this.component.intl.getDateFormat(h);switch(s){case"Double":case"Category":case"Logarithmic":t=o.minimum?o.minimum:l?0:a.min,i=o.maximum?o.maximum:l?l-1:a.max;break;case"DateTime":case"DateTimeCategory":t=o.minimum?Date.parse(c(d(o.minimum))):a.min,i=o.maximum?Date.parse(c(d(o.maximum))):a.max}t=Math.min(t,a.min),i=Math.max(i,a.max);const p=(a.min-t)/(i-t);this.zoomFactor=o.minimum||o.maximum?(a.max-a.min)/(i-t):this.axis.maxPointLength/e.scrollbarSettings.pointsLength,this.zoomPosition=o.minimum||o.maximum?p:e.zoomPosition,this.scrollRange.min=t,this.scrollRange.max=i,this.scrollRange.delta=i-t,this.previousStart=a.min,this.previousEnd=a.max}getLogRange(e){const t=e.scrollbarSettings.range;let i=ta(t.minimum,e.logBase),s=ta(t.maximum,e.logBase);return i=isFinite(i)?i:t.minimum,s=isFinite(i)?s:t.maximum,{minimum:Math.floor(i/1),maximum:Math.ceil(s/1)}}injectTo(e,t){e.zoomingScrollBar=new L2(t,e)}destroy(){this.axes?this.axes.map(e=>{e.zoomingScrollBar.destroy()}):(this.elements.map(e=>{this.unWireEvents(e),Ue(e.firstChild)}),this.elements=[])}getModuleName(){return"ScrollBar"}getArgs(e,t,i,s,r){return{axis:this.component.isBlazor?{}:this.axis,name:e,range:this.axis.visibleRange,zoomFactor:this.axis.zoomFactor,zoomPosition:this.axis.zoomPosition,previousRange:t,previousZoomFactor:s,previousZoomPosition:i,currentRange:r}}}var Tt=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Mu extends he{}Tt([g(null)],Mu.prototype,"content",void 0),Tt([g("0")],Mu.prototype,"x",void 0),Tt([g("0")],Mu.prototype,"y",void 0),Tt([g("Pixel")],Mu.prototype,"coordinateUnits",void 0),Tt([g("Chart")],Mu.prototype,"region",void 0),Tt([g("Middle")],Mu.prototype,"verticalAlignment",void 0),Tt([g("Center")],Mu.prototype,"horizontalAlignment",void 0),Tt([g(null)],Mu.prototype,"description",void 0);class ul extends he{}Tt([g(!1)],ul.prototype,"visible",void 0),Tt([g(!0)],ul.prototype,"showZero",void 0),Tt([g(null)],ul.prototype,"name",void 0),Tt([g("transparent")],ul.prototype,"fill",void 0),Tt([g("Inside")],ul.prototype,"position",void 0),Tt([g(5)],ul.prototype,"rx",void 0),Tt([g(5)],ul.prototype,"ry",void 0),Tt([g(0)],ul.prototype,"angle",void 0),Tt([g(!1)],ul.prototype,"enableRotation",void 0),Tt([U({width:null,color:null},Yn)],ul.prototype,"border",void 0),Tt([U({size:"11px",color:"",fontStyle:"Normal",fontWeight:"Normal",fontFamily:"Segoe UI"},ir)],ul.prototype,"font",void 0),Tt([U({},vc)],ul.prototype,"connectorStyle",void 0),Tt([g(null)],ul.prototype,"template",void 0);class R2 extends he{}Tt([g("50%")],R2.prototype,"x",void 0),Tt([g("50%")],R2.prototype,"y",void 0);class hG{constructor(){this.visible=!0,this.symbolLocation=null,this.region=null,this.labelRegion=null,this.labelVisible=!0,this.regions=null,this.isExplode=!1,this.isClubbed=!1,this.isSliced=!1,this.argsData=null,this.isLabelUpdated=null,this.initialLabelRegion=null}}class ws extends he{constructor(){super(...arguments),this.points=[],this.clubbedPoints=[],this.sumOfPoints=0,this.isRectSeries=!0,this.clipRect=new ce(0,0,0,0),this.category="Series",this.rightSidePoints=[],this.leftSidePoints=[]}refreshDataManager(e,t){const i=this.dataSource||e.dataSource;i instanceof Ot||!f(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then(r=>this.dataManagerSuccess(r,e)):this.dataManagerSuccess({result:i,count:i.length},e,t)}dataManagerSuccess(e,t,i=!0){const s={name:Y1,series:this,data:e.result};t.allowServerDataBinding=!1,t.trigger(Y1,s),this.resultData=""!==e.result?e.result:[],!t.isBlazor&&!i&&this.getPoints(this.resultData,t),(++t.seriesCounts===t.visibleSeries.length&&i||window.Blazor&&!i&&1===t.seriesCounts)&&(this.getPoints(this.resultData,t),t.refreshChart())}getPoints(e,t){let i=Object.keys(e).length;if(this.sumOfPoints=0,0===i)return null;this.findSumOfPoints(e),this.points=[],this.clubbedPoints=[],this.sumOfClub=0;let s,r=this.palettes.length?this.palettes:H1(t.theme),o=Ji(this.groupTo,this.sumOfPoints);for(let a=0;a<i;a++)s=this.setPoints(e,a,r,t),this.isClub(s,o,a)?(s.index=this.clubbedPoints.length,s.isExplode=!0,this.clubbedPoints.push(s),s.isSliced=!0):(f(s.y)&&(s.visible=!1),this.pushPoints(s,r));if(this.lastGroupTo=this.groupTo,this.sumOfClub>0){let a=this.generateClubPoint();this.pushPoints(a,r);let l=this.points.length-1;this.clubbedPoints.map(h=>{h.index+=l,h.color=a.color})}this.clubbedPoints.length&&this.explode&&"Pie"===this.type&&(this.explodeAll||this.points[this.points.length-1].index===this.explodeIndex)&&(this.points.splice(this.points.length-1,1),this.points=this.points.concat(this.clubbedPoints))}generateClubPoint(){let e=new hG;return e.isClubbed=!0,e.x="Others",e.y=this.sumOfClub,e.text=e.originalText=e.x+": "+this.sumOfClub,e.sliceRadius="80%",e}pushPoints(e,t){e.index=this.points.length,e.isExplode=this.explodeAll||e.index===this.explodeIndex,e.color=e.color||t[e.index%t.length],this.points.push(e)}isClub(e,t,i){if(!f(t)){if("Value"===this.groupMode&&Math.abs(e.y)<=t)return this.sumOfClub+=Math.abs(e.y),!0;if("Point"===this.groupMode&&i>=t)return this.sumOfClub+=Math.abs(e.y),!0}return!1}findSumOfPoints(e){let t=Object.keys(e).length;for(let i=0;i<t;i++)!f(e[i])&&!f(e[i][this.yName])&&!isNaN(e[i][this.yName])&&(this.sumOfPoints+=Math.abs(e[i][this.yName]))}setPoints(e,t,i,s){let r=new hG;return r.x=Q(this.xName,e[t]),r.y=Q(this.yName,e[t]),r.percentage=+(r.y/this.sumOfPoints*100).toFixed(2),r.legendImageUrl=Q(this.legendImageUrl,e[t]),r.color=Q(this.pointColorMapping,e[t]),r.text=r.originalText=Q(this.dataLabel.name||"",e[t]),r.tooltip=Q(this.tooltipMappingName||"",e[t]),r.sliceRadius=Q(this.radius,e[t]),r.sliceRadius=f(r.sliceRadius)?"80%":r.sliceRadius,r.separatorY=s.intl.formatNumber(r.y,{useGrouping:s.useGroupingSeparator}),this.setAccEmptyPoint(r,t,e,i),r}renderSeries(e,t){let s,i=t?se(e.element.id+"_Series_"+this.index):e.renderer.createGroup({id:e.element.id+"_Series_"+this.index});this.renderPoints(e,i,t),e.accumulationDataLabelModule&&this.dataLabel.visible&&(s=e.renderer.createGroup({id:e.element.id+"_datalabel_Series_"+this.index}),s.style.visibility=this.animation.enable&&e.animateSeries&&"Pie"===this.type?"hidden":"visible",this.renderDataLabel(e,s,t)),"Pie"===this.type&&(this.findMaxBounds(this.labelBound,this.accumulationBound),e.pieSeriesModule.animateSeries(e,this.animation,this,i)),e.accumulationLegendModule&&(this.labelBound.x-=e.explodeDistance,this.labelBound.y-=e.explodeDistance,this.labelBound.height+=e.explodeDistance-this.labelBound.y,this.labelBound.width+=e.explodeDistance-this.labelBound.x)}renderPoints(e,t,i){let r,s=e.element.id+"_Series_"+this.index+"_Point_";for(let o of this.points){let a={cancel:!1,name:_h,series:this,point:o,fill:o.color,border:this.isEmpty(o)?{width:this.emptyPointSettings.border.width,color:this.emptyPointSettings.border.color}:{width:this.border.width,color:this.border.color}};e.trigger(_h,a),o.color=a.fill,r=new nt(s+o.index,o.color,a.border.width||1,a.border.color||o.color,this.opacity,"",""),e[Nn(this.type)+"SeriesModule"].renderPoint(o,this,e,r,t,i)}lt(!1,e.getSeriesElement(),t,i)}renderDataLabel(e,t,i){e.accumulationDataLabelModule.findAreaRect();let s=Ve("div",{id:e.element.id+"_Series_0_DataLabelCollections"});this.leftSidePoints=[],this.rightSidePoints=[];let r=[],o=[];for(let a of this.points)a.visible&&(this.dataLabel.showZero||!this.dataLabel.showZero&&(0!==a.y||0===a.y&&"Zero"===this.emptyPointSettings.mode))&&e.accumulationDataLabelModule.renderDataLabel(a,this.dataLabel,t,this.points,this.index,s,i),a.midAngle>=90&&a.midAngle<=270?this.leftSidePoints.push(a):a.midAngle>=0&&a.midAngle<=90?o.push(a):r.push(a);if(r.sort((a,l)=>a.midAngle-l.midAngle),o.sort((a,l)=>a.midAngle-l.midAngle),this.leftSidePoints.sort((a,l)=>a.midAngle-l.midAngle),this.rightSidePoints=r.concat(o),e.accumulationDataLabelModule.drawDataLabels(this,this.dataLabel,t,s,i),null!==this.dataLabel.template&&s.childElementCount){let a=e.accumulationDataLabelModule.drawDataLabels.bind(e.accumulationDataLabelModule,this,this.dataLabel,t,s,i);e.isReact&&e.renderReactTemplates(a),lt(!1,se(e.element.id+"_Secondary_Element"),s,i)}lt(!1,e.getSeriesElement(),t,i)}findMaxBounds(e,t){e.x=t.x<e.x?t.x:e.x,e.y=t.y<e.y?t.y:e.y,e.height=t.y+t.height>e.height?t.y+t.height:e.height,e.width=t.x+t.width>e.width?t.x+t.width:e.width}setAccEmptyPoint(e,t,i,s){if(!f(e.y)&&!isNaN(e.y))return null;switch(e.color=this.emptyPointSettings.fill||e.color,this.emptyPointSettings.mode){case"Zero":e.y=0,e.visible=!0;break;case"Average":let o=i[t+1]&&i[t+1][this.yName]||0;e.y=(Math.abs(i[t-1]&&i[t-1][this.yName]||0)+Math.abs(o))/2,this.sumOfPoints+=e.y,e.visible=!0;break;default:e.visible=!1}}isEmpty(e){return e.color===this.emptyPointSettings.fill}}Tt([g("")],ws.prototype,"dataSource",void 0),Tt([g()],ws.prototype,"query",void 0),Tt([g("")],ws.prototype,"xName",void 0),Tt([g("")],ws.prototype,"name",void 0),Tt([g("")],ws.prototype,"tooltipMappingName",void 0),Tt([g("")],ws.prototype,"yName",void 0),Tt([g(!0)],ws.prototype,"visible",void 0),Tt([U({color:null,width:0},Yn)],ws.prototype,"border",void 0),Tt([U(null,Up)],ws.prototype,"animation",void 0),Tt([g("SeriesType")],ws.prototype,"legendShape",void 0),Tt([g("")],ws.prototype,"legendImageUrl",void 0),Tt([g("")],ws.prototype,"pointColorMapping",void 0),Tt([g(null)],ws.prototype,"selectionStyle",void 0),Tt([g(null)],ws.prototype,"groupTo",void 0),Tt([g("Value")],ws.prototype,"groupMode",void 0),Tt([U({},ul)],ws.prototype,"dataLabel",void 0),Tt([g([])],ws.prototype,"palettes",void 0),Tt([g(0)],ws.prototype,"startAngle",void 0),Tt([g(null)],ws.prototype,"endAngle",void 0),Tt([g("80%")],ws.prototype,"radius",void 0),Tt([g("0")],ws.prototype,"innerRadius",void 0),Tt([g("Pie")],ws.prototype,"type",void 0),Tt([g(!0)],ws.prototype,"enableTooltip",void 0),Tt([g(!1)],ws.prototype,"explode",void 0),Tt([g("30%")],ws.prototype,"explodeOffset",void 0),Tt([g(!1)],ws.prototype,"explodeAll",void 0),Tt([g(null)],ws.prototype,"explodeIndex",void 0),Tt([U({mode:"Drop"},yw)],ws.prototype,"emptyPointSettings",void 0),Tt([g(0)],ws.prototype,"gapRatio",void 0),Tt([g("80%")],ws.prototype,"width",void 0),Tt([g("80%")],ws.prototype,"height",void 0),Tt([g("20%")],ws.prototype,"neckWidth",void 0),Tt([g("20%")],ws.prototype,"neckHeight",void 0),Tt([g("Linear")],ws.prototype,"pyramidMode",void 0),Tt([g(1)],ws.prototype,"opacity",void 0);class aD{constructor(e){this.accumulation=e}get center(){return this.pieCenter||("Pie"===this.accumulation.visibleSeries[0].type?this.accumulation.pieSeriesModule.pieBaseCenter:null)}set center(e){this.pieCenter=e}get radius(){return void 0!==this.pieRadius?this.pieRadius:this.accumulation.pieSeriesModule.pieBaseRadius}set radius(e){this.pieRadius=e}get labelRadius(){return void 0!==this.pieLabelRadius?this.pieLabelRadius:this.accumulation.pieSeriesModule.pieBaseLabelRadius}set labelRadius(e){this.pieLabelRadius=e}isCircular(){return"Pie"===this.accumulation.type}isVariousRadius(){return this.accumulation.pieSeriesModule.isRadiusMapped}processExplode(e){if(e.target.id.indexOf("_Series_")>-1||e.target.id.indexOf("_datalabel_")>-1){const t=Db(e.target.id).point;if(isNaN(t)||e.target.id.indexOf("_datalabel_")>-1&&"Outside"===this.accumulation.visibleSeries[0].points[t].labelPosition)return null;this.explodePoints(t,this.accumulation),this.deExplodeAll(t,this.accumulation.enableAnimation?300:0)}}invokeExplode(){const e=this.accumulation.visibleSeries[0],t=this.accumulation.enableAnimation?300:0;for(const i of e.points)i.isExplode&&this.pointExplode(i.index,i,t);if(this.accumulation.accumulationSelectionModule&&"None"!==this.accumulation.selectionMode&&this.accumulation.accumulationSelectionModule.selectedDataIndexes.length)for(const i of this.accumulation.accumulationSelectionModule.selectedDataIndexes)this.explodePoints(i.point,this.accumulation,!0),this.deExplodeAll(i.point,t)}deExplodeAll(e,t){const i=this.accumulation.element.id+"_Series_0_Point_",s=this.accumulation.visibleSeries[0].points;for(const r of s)(e!==r.index&&!r.isSliced||r.isClubbed)&&(r.isExplode=!1,this.deExplodeSlice(r.index,i,t))}explodePoints(e,t,i=!1){const s=t.visibleSeries[0],r=s.points,o=function(n,e){for(let t of e)if(t.index===n)return t;return null}(e,r);let a=!0;const l=this.accumulation.enableAnimation?300:0;if(f(o))return null;const h=!i&&(o.isSliced||s.clubbedPoints.length&&r[r.length-1].index===s.clubbedPoints[s.clubbedPoints.length-1].index);"Pie"===s.type&&(h||o.isClubbed)&&(a=this.clubPointExplode(e,o,s,r,t,l,h)),a&&this.pointExplode(e,o,l,i)}getSum(e){let t=0;return e.map(i=>{t+=i.visible?i.y:0}),t}clubPointExplode(e,t,i,s,r,o,a=!1){if(t.isClubbed)return r.animateSeries=!1,s.splice(s.length-1,1),i.clubbedPoints.map(l=>{l.visible=!0,l.isExplode=!0}),r.visibleSeries[0].points=s.concat(i.clubbedPoints),this.deExplodeAll(e,o),i.sumOfPoints=this.getSum(r.visibleSeries[0].points),r.refreshChart(),!1;if(a||t.isSliced){r.animateSeries=!1,s.splice(s.length-i.clubbedPoints.length,i.clubbedPoints.length);const l=i.generateClubPoint();if(l.index=s.length,l.color=i.clubbedPoints[0].color,s.push(l),i.sumOfPoints=this.getSum(s),this.deExplodeAll(e,o),l.isExplode=!1,r.visibleSeries[0].points=s,r.refreshChart(),this.pointExplode(l.index,s[l.index],0,!0),l.isExplode=!1,this.deExplodeSlice(l.index,r.element.id+"_Series_0_Point_",o),t.isSliced)return!1}return!0}pointExplode(e,t,i,s){let r;const o=this.accumulation.element.id+"_Series_0_Point_",a=this.accumulation;r=this.isCircular()?ia(t.midAngle,a.explodeDistance,this.center):{x:t.labelRegion&&t.labelRegion.x<t.region.x?-a.explodeDistance:a.explodeDistance,y:0},this.isExplode(o+e)||s?(t.isExplode=!0,this.explodeSlice(e,r,o,this.center||{x:0,y:0},i)):(t.isExplode=!1,this.deExplodeSlice(e,o,i))}isExplode(e){const t=se(e),i=t?t.getAttribute("transform"):null;return t&&("translate(0, 0)"===i||null===i||"translate(0)"===i)}deExplodeSlice(e,t,i){const s=se(t+e);s&&s.parentNode.lastChild.hasAttribute("transform")&&s.parentNode.lastChild.removeAttribute("transform");const r=s?s.getAttribute("transform"):null;if(this.accumulation.enableAnimation&&s&&r&&"translate(0, 0)"!==r&&"translate(0)"!==r){const o=/translate\((-?\d+\.?\d*),?\s*(-?\d+[.]?\d*)?\)/.exec(r);this.performAnimation(e,t,0,0,+o[1],+o[2]||0,i,!0)}else this.performAnimation(e,t,0,0,0,0,i,!0)}setTranslate(e,t,i,s){this.setElementTransform(t+e,i),this.accumulation.visibleSeries[0].dataLabel.visible&&(this.setElementTransform((t=this.accumulation.element.id+"_datalabel_Series_0_")+"shape_"+e,i),this.setElementTransform(t+"text_"+e,i+s),this.setElementTransform(t+"connector_"+e,i))}setElementTransform(e,t){const i=se(e);i&&i.setAttribute("transform",t)}explodeSlice(e,t,i,s,r){this.performAnimation(e,i,0,0,t.x-s.x,t.y-s.y,r)}performAnimation(e,t,i,s,r,o,a,l){const h=this.accumulation,c=t.split("_"),d=parseInt(t.split("_")[c.length-3],10),u=h.visibleSeries[d].points[e];if(a<=0)return this.setTranslate(e,t,"translate("+r+", "+o+")",u.transform),null;let p,m;new qt({}).animate(Ve("div"),{duration:a,progress:y=>{p=fo(y.timeStamp,i,r,y.duration),m=fo(y.timeStamp,s,o,y.duration),this.setTranslate(e,t,"translate("+(l?r-p:p)+", "+(l?o-m:m)+")",u.transform)},end:()=>{this.setTranslate(e,t,"translate("+(l?i:r)+", "+(l?i:o)+")",u.transform)}})}}class SSe extends aD{initProperties(e,t){this.accumulation=e,this.size=Math.min(e.initialClipRect.width,e.initialClipRect.height),this.initAngles(t);const i=parseInt(t.radius,10);if(-1===t.radius.indexOf("%")&&"number"!=typeof i||isNaN(i)){const s=[];this.isRadiusMapped=!0;for(let a=0;a<Object.keys(t.points).length;a++)s[a]=-1!==t.points[a].sliceRadius.indexOf("%")?Ji(t.points[a].sliceRadius,this.size/2):parseInt(t.points[a].sliceRadius,10);const r=Math.min.apply(null,s),o=Math.max.apply(null,s);this.pieBaseRadius=this.seriesRadius=o,this.innerRadius=Ji(t.innerRadius,this.seriesRadius),this.innerRadius=this.innerRadius>r?this.innerRadius/2:this.innerRadius}else this.isRadiusMapped=!1,this.pieBaseRadius=Ji(t.radius,this.size/2),this.innerRadius=Ji(t.innerRadius,this.pieBaseRadius),this.pieBaseLabelRadius="Inside"===t.dataLabel.position?(this.pieBaseRadius-this.innerRadius)/2+this.innerRadius:this.pieBaseRadius+Ji(t.dataLabel.connectorStyle.length||"4%",this.size/2);this.radius=this.pieBaseRadius,this.labelRadius=this.pieBaseLabelRadius,e.explodeDistance=t.explode?Ji(t.explodeOffset,this.pieBaseRadius):0,this.findCenter(e,t),this.center=this.pieBaseCenter,this.defaultLabelBound(t,t.dataLabel.visible,t.dataLabel.position),this.totalAngle-=.001}getLabelRadius(e,t){return"Inside"===e.dataLabel.position?(Ji(t.sliceRadius,this.pieBaseRadius)-this.innerRadius)/2+this.innerRadius:Ji(t.sliceRadius,this.seriesRadius)+Ji(e.dataLabel.connectorStyle.length||"4%",this.size/2)}findCenter(e,t){this.accumulation=e,this.pieBaseCenter={x:Ji(e.center.x,e.initialClipRect.width)+e.initialClipRect.x,y:Ji(e.center.y,e.initialClipRect.height)+e.initialClipRect.y};const i=this.getSeriesBound(t),s=new Fe(i.x+i.width/2,i.y+i.height/2);this.pieBaseCenter.x+=this.pieBaseCenter.x-s.x,this.pieBaseCenter.y+=this.pieBaseCenter.y-s.y,this.accumulation.origin=this.pieBaseCenter}initAngles(e){const t=f(e.endAngle)?e.startAngle:e.endAngle;this.totalAngle=(t-e.startAngle)%360,this.startAngle=e.startAngle-90,this.totalAngle=this.totalAngle<=0?360+this.totalAngle:this.totalAngle,this.startAngle=(this.startAngle<0?this.startAngle+360:this.startAngle)%360}defaultLabelBound(e,t,i){const s=this.getSeriesBound(e);e.accumulationBound=s,e.labelBound=new ce(s.x,s.y,s.width+s.x,s.height+s.y),t&&"Outside"===i&&(e.labelBound=new ce(1/0,1/0,-1/0,-1/0))}getSeriesBound(e){const t=new ce(1/0,1/0,-1/0,-1/0);this.initAngles(e);const i=this.startAngle,s=this.totalAngle;let r=(this.startAngle+s)%360;r=0===r?360:r,e.findMaxBounds(t,this.getRectFromAngle(i)),e.findMaxBounds(t,this.getRectFromAngle(r)),e.findMaxBounds(t,new ce(this.pieBaseCenter.x,this.pieBaseCenter.y,0,0));let o=(90*Math.floor(i/90)+90)%360,a=90*Math.floor(r/90)%360;a=0===a?360:a,(s>=90||a===o)&&(e.findMaxBounds(t,this.getRectFromAngle(o)),e.findMaxBounds(t,this.getRectFromAngle(a))),(0===i||i+s>=360)&&e.findMaxBounds(t,this.getRectFromAngle(0));const l=o===a?0:Math.floor(s/90);for(let h=1;h<l;h++)o+=90,(o<a||r<i||360===s)&&e.findMaxBounds(t,this.getRectFromAngle(o));return t.width-=t.x,t.height-=t.y,t}getRectFromAngle(e){const t=ia(e,this.pieBaseRadius,this.pieBaseCenter);return new ce(t.x,t.y,0,0)}getPathArc(e,t,i,s,r){let o=i-t;o=o<0?o+360:o;const a=o<180?0:1;return r||0!==r?this.getDoughnutPath(e,ia(t,s,e),ia(i,s,e),s,ia(t,r,e),ia(i,r,e),r,a):this.getPiePath(e,ia(t,s,e),ia(i,s,e),s,a)}getPiePath(e,t,i,s,r){return"M "+e.x+" "+e.y+" L "+t.x+" "+t.y+" A "+s+" "+s+" 0 "+r+" 1 "+i.x+" "+i.y+" Z"}getDoughnutPath(e,t,i,s,r,o,a,l){return"M "+t.x+" "+t.y+" A "+s+" "+s+" 0 "+l+" 1 "+i.x+" "+i.y+" L "+o.x+" "+o.y+" A "+a+" "+a+" 0 "+l+",0 "+r.x+" "+r.y+" Z"}doAnimation(e,t){const i=t.startAngle-90,s=this.accumulation.duration?this.accumulation.duration:t.animation.duration;let r;this.pieBaseCenter.x+=1;let o=.75*Math.max(this.accumulation.availableSize.height,this.accumulation.availableSize.width);o+=.414*o;const a=Dw("Linear");new qt({}).animate(e,{duration:s,delay:t.animation.delay,progress:l=>{r=a(l.timeStamp,i,this.totalAngle,l.duration),e.setAttribute("d",this.getPathArc(this.pieBaseCenter,i,r,o,0))},end:()=>{this.pieBaseCenter.x-=1,e.setAttribute("d",this.getPathArc(this.pieBaseCenter,0,359.99999,o,0)),this.accumulation.trigger("animationComplete",this.accumulation.isBlazor?{}:{series:t,accumulation:this.accumulation,chart:this.accumulation}),se(this.accumulation.element.id+"_datalabel_Series_"+t.index).style.visibility=this.accumulation.isDestroyed?"hidden":"visible"}})}}class cG extends SSe{renderPoint(e,t,i,s,r,o){const a=t.sumOfPoints;e.startAngle=this.startAngle;const h=a?Math.abs(e.visible?e.y:0)/a*this.totalAngle:null,c=Math.PI/180*(90-(360-this.startAngle)-90);this.radius=this.isRadiusMapped?Ji(e.sliceRadius,this.seriesRadius):this.radius,s.d=this.getPathOption(e,h,this.startAngle%360),e.midAngle=(this.startAngle-h/2)%360,e.endAngle=this.startAngle%360,e.symbolLocation=ia(e.midAngle,(this.radius+this.innerRadius)/2,this.center),o?(r.appendChild(i.renderer.drawPath(s)),this.refresh(e,h,c,i,s)):(r.appendChild(i.renderer.drawPath(s)),e.degree=h,e.start=c)}findSeries(e){const s=0===this.innerRadius?this.radius+3:this.innerRadius-3;this.toggleInnerPoint(e,s,0===this.innerRadius?s+2:s-2)}toggleInnerPoint(e,t,i){const r=Db(e.target.id,!0),o=e.target.id.substring(0,e.target.id.indexOf("Series")-1);let l,a=document.getElementById(this.accumulation.element.id+"PointHover_Border");const h=r.series,c=r.point,d=se(o+"_Series_"+h+"_Point_"+c);if(!isNaN(r.series)&&d){if(!(f(h)||isNaN(h)||f(c)||isNaN(c))){const u=this.accumulation.visibleSeries[0].points[c],p=d.getAttribute("class")===o+"_ej2_deselected"?this.accumulation.tooltip.enable?.5:.3:this.accumulation.tooltip.enable?.5:1,m=this.getPathArc(this.accumulation.pieSeriesModule.center,u.startAngle%360,(u.startAngle+u.degree)%360,t,i);a&&o===this.accumulation.element.id&&(a.getAttribute("d")!==m||u.isExplode)&&(a.parentNode.removeChild(a),a=null);const y=se(o+"_Series_"+h);if(!a&&(!u.isExplode||u.isExplode&&"click"!==e.type)){const b=new nt(o+"PointHover_Border",u.color,1,u.color,p,"",m);if(l=this.accumulation.renderer.drawPath(b),l.removeAttribute("transform"),"None"!==this.accumulation.selectionMode&&e.target.hasAttribute("class")&&this.accumulation.accumulationSelectionModule.addSvgClass(l,e.target.getAttribute("class")),y.appendChild(l),u.isExplode&&l){const v=d.getAttribute("transform");l.setAttribute("transform",v)}}}}else a&&(this.removeBorder(a,1e3),a=null)}removeBorder(e,t){e&&setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},t)}refresh(e,t,i,s,r){const o=se(r.id),a=s.duration?s.duration:300;new qt({}).animate(Ve("div"),{duration:a,delay:0,progress:l=>{const h=fo(l.timeStamp,e.degree,t-e.degree,l.duration);let c=fo(l.timeStamp,e.start,i-e.start,l.duration);c=(c/(Math.PI/180)+360)%360,o.setAttribute("d",this.getPathOption(e,h,c)),e.isExplode&&s.accBaseModule.explodePoints(e.index,s,!0),o.style.visibility="visible"},end:()=>{o.style.visibility=e.visible?"visible":"hidden",o.setAttribute("d",r.d),e.degree=t,e.start=i}})}getPathOption(e,t,i){if(!t)return"";const s=this.getPathArc(this.center,i%360,(i+t)%360,this.isRadiusMapped?Ji(e.sliceRadius,this.seriesRadius):this.radius,this.innerRadius);return this.startAngle+=t,s}animateSeries(e,t,i,s){const r=e.element.id+"SeriesGroup"+i.index;if(i.animation.enable&&e.animateSeries){const o=e.renderer.createClipPath({id:r+"_clipPath"}),a=new nt(r+"_slice","transparent",1,"transparent",1,"",""),l=e.renderer.drawPath(a);o.appendChild(l),e.svgObject.appendChild(o),s.setAttribute("style","clip-path:url(#"+o.id+"); -webkit-clip-path:url(#"+o.id+");"),this.doAnimation(l,i)}}getModuleName(){return"PieSeries"}destroy(){}}var Jt=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Ut=class extends $i{constructor(e,t){super(e,t),this.animateselected=!1,this.explodeDistance=0,this.chartid=57724}animate(e){this.duration=e||700,this.animateselected=!0,this.animateSeries=!1;let t=0;const i=[],s=[],r=[],o=this.visibleSeries[0];let a=[];if(a=o.dataSource,o.sumOfPoints=0,o.points.length<Object.keys(o.dataSource).length)this.refresh();else if(o.points.length>Object.keys(o.dataSource).length){const l=this.visibleSeries[0];l.points=l.points.filter(d=>(d.visible=!1,s.push(d.index),i.push(d.color),a.some(u=>{const p=u;return d.x===p.x&&(d.visible=!0,r.push(d.index),d.index=t,t++),d.x===p.x})));const h=s.filter(d=>r.indexOf(d)<0),c=s.length-h.length;for(let d=s.length-1;d>=c;d--)Qi("container_Series_0_Point_"+s[d]);for(let d=0;d<l.points.length;d++)l.points[d].y=l.dataSource[d].y,l.points[d].color=i[d],l.sumOfPoints+=l.dataSource[d].y;this.redraw=this.enableAnimation,this.animateSeries=!1,this.calculateBounds(),this.renderElements()}else{for(let l=0;l<o.points.length;l++)o.points[l].y=o.dataSource[l][o.yName],o.points[l].color=null!=o.dataSource[l][o.pointColorMapping]?o.dataSource[l][o.pointColorMapping]:o.points[l].color,o.sumOfPoints+=o.dataSource[l][o.yName];this.redraw=this.enableAnimation,this.animateSeries=!1,this.removeSvg(),this.refreshPoints(o.points),this.renderElements()}}get type(){return this.series&&this.series.length?this.series[0].type:"Pie"}preRender(){if(this.isBlazor=window.Blazor,this.allowServerDataBinding=!1,this.unWireEvents(),this.setCulture(),this.animateSeries=!0,""===this.element.id){const t=document.getElementsByClassName("e-accumulationchart").length;this.element.id="acc_chart_"+this.chartid+"_"+t}Lw(this),this.wireEvents()}setTheme(){this.themeStyle=l2(this.theme)}render(){-1===this.element.className.indexOf("e-accumulationchart")&&this.element.classList.add("e-accumulationchart");const e={chart:this.isBlazor?{}:this,accumulation:this.isBlazor?{}:this,theme:this.theme,name:U1,cancel:!1};this.trigger(U1,e,()=>{this.theme=this.isBlazor?e.theme:this.theme,this.setTheme(),this.accBaseModule=new aD(this),this.pieSeriesModule=new cG(this),this.calculateVisibleSeries(),this.processData(),this.renderComplete(),this.allowServerDataBinding=!0})}unWireEvents(){const t=T.touchStartEvent,s=T.touchEndEvent,r=T.isPointer?"pointerleave":"mouseleave";S.remove(this.element,T.touchMoveEvent,this.accumulationMouseMove),S.remove(this.element,s,this.accumulationMouseEnd),S.remove(this.element,t,this.accumulationMouseStart),S.remove(this.element,"click",this.accumulationOnMouseClick),S.remove(this.element,"contextmenu",this.accumulationRightClick),S.remove(this.element,r,this.accumulationMouseLeave),window.removeEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.accumulationResizeBound)}wireEvents(){if(!this.element)return;const t=T.touchStartEvent,i=T.touchEndEvent,r=T.isPointer?"pointerleave":"mouseleave";S.add(this.element,T.touchMoveEvent,this.accumulationMouseMove,this),S.add(this.element,i,this.accumulationMouseEnd,this),S.add(this.element,t,this.accumulationMouseStart,this),S.add(this.element,"click",this.accumulationOnMouseClick,this),S.add(this.element,"contextmenu",this.accumulationRightClick,this),S.add(this.element,r,this.accumulationMouseLeave,this),this.accumulationResizeBound=this.accumulationResize.bind(this),window.addEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.accumulationResizeBound),new wn(this.element),this.setStyle(this.element)}setMouseXY(e){let t,i;const s=se(this.element.id+"_svg");if(s&&this.element){const r=s.getBoundingClientRect(),o=this.element.getBoundingClientRect();e.type.indexOf("touch")>-1?(this.isTouch=!0,i=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType,t=e.clientX,i=e.clientY),this.mouseY=i-o.top-Math.max(r.top-o.top,0),this.mouseX=t-o.left-Math.max(r.left-o.left,0)}}accumulationMouseEnd(e){return this.setMouseXY(e),this.trigger(TU,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.isTouch&&(this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.accumulationDataLabelModule&&this.visibleSeries[0].dataLabel.visible&&this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY,this.isTouch),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.move(e)),this.notify(T.touchEndEvent,e),!1}accumulationMouseStart(e){return this.setMouseXY(e),this.trigger(AU,{target:e.target.id,x:this.mouseX,y:this.mouseY}),!1}accumulationResize(){this.animateSeries=!1;const e={accumulation:this.isBlazor?{}:this,previousSize:new xt(this.availableSize.width,this.availableSize.height),name:bb,currentSize:new xt(0,0),chart:this.isBlazor?{}:this};let t={name:"beforeResize",cancelResizedEvent:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger(IU,t),t.cancelResizedEvent||(this.resizeTo=+setTimeout(()=>{this.isDestroyed?clearTimeout(this.resizeTo):(Lw(this),e.currentSize=this.availableSize,this.trigger(bb,e),this.refreshSeries(),this.refreshChart())},500)),!1}print(e){const t=document.getElementById(this.element.id+"_Series_0").style.clipPath;document.getElementById(this.element.id+"_Series_0").style.clipPath="",new Kp(this).print(e),document.getElementById(this.element.id+"_Series_0").style.clipPath=t}export(e,t){this.exportModule&&(this.exportModule.export(e,t),this.afterExport&&this.exportModule.getDataUrl(this))}setStyle(e){e.style.touchAction="element",e.style.msTouchAction="element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block"}setAnnotationValue(e,t){const i=this.annotations[e];let s;const r=se(this.element.id+"_Annotation_Collections");t&&(i.content=t,r?(s=this.createElement("div"),Qi(this.element.id+"_Annotation_"+e),this.annotationModule.processAnnotation(i,e,s),r.appendChild(s.children[0])):this.annotationModule.renderAnnotations(se(this.element.id+"_Secondary_Element")))}accumulationMouseMove(e){return se(this.element.id+"_svg")&&(this.setMouseXY(e),this.trigger(xU,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointMove&&this.triggerPointEvent(MU,e.target,e),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.move(e),this.accumulationDataLabelModule&&this.visibleSeries[0]&&this.visibleSeries[0].dataLabel.visible&&this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY),this.isTouch||this.titleTooltip(e,this.mouseX,this.mouseY),this.enableBorderOnMouseMove&&"Pie"===this.type&&this.pieSeriesModule&&zs(this.mouseX,this.mouseY,this.initialClipRect)&&this.pieSeriesModule.findSeries(e),this.notify(T.touchMoveEvent,e)),!1}titleTooltip(e,t,i,s){const r=e.target.id,o=r===this.element.id+"_title"||r===this.element.id+"_subTitle"||r===this.element.id+"_chart_legend_title";e.target.textContent.indexOf("...")>-1&&o?xb(r===this.element.id+"_title"?this.title:r===this.element.id+"_subTitle"?this.subTitle:this.legendSettings.title,t,i,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",se(this.element.id+"_Secondary_Element"),s):Qi(this.element.id+"_EJ2_Title_Tooltip")}accumulationOnMouseClick(e){return this.setMouseXY(e),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.click(e),"None"!==this.selectionMode&&this.accumulationSelectionModule&&this.accumulationSelectionModule.calculateSelectedElements(this,e),this.visibleSeries[0].explode&&this.accBaseModule.processExplode(e),this.enableBorderOnMouseMove&&this.pieSeriesModule&&"Pie"===this.type&&this.pieSeriesModule.findSeries(e),this.trigger(EU,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointClick&&this.triggerPointEvent(DU,e.target,e),!1}triggerPointEvent(e,t,i){const s=i,r=Db(t.id,!0);r.series>=0&&r.point>=0&&this.trigger(e,{series:this.isBlazor?{}:this.series[r.series],point:this.series[r.series].points[r.point],seriesIndex:r.series,pointIndex:r.point,x:this.mouseX,y:this.mouseY,pageX:s.pageX,pageY:s.pageY})}accumulationRightClick(e){return 2!==e.buttons&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)}accumulationMouseLeave(e){this.setMouseXY(e),this.trigger(kU,{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.notify(T.isPointer?"pointerleave":"mouseleave",e);let t=document.getElementById(this.element.id+"PointHover_Border");return t&&(this.pieSeriesModule.removeBorder(t,1e3),t=null),!1}setCulture(){this.intl=new Gs}createPieSvg(){this.removeSvg(),w2(this)}removeSvg(){if(this.redraw)return null;if(sD(this),Qi(this.element.id+"_Secondary_Element"),this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&Ue(this.svgObject)}Qi("EJ2_legend_tooltip"),Qi("EJ2_datalabel_tooltip"),Qi(this.element.id+"PointHover_Border")}createSecondaryElement(){const e=hl(this.redraw,this.element.id+"_Secondary_Element")||this.createElement("div",{id:this.element.id+"_Secondary_Element",styles:"position: relative"});lt(!1,this.element,e,this.redraw)}calculateVisibleSeries(){this.visibleSeries=[];for(let e=0,t=this.series.length;e<t;e++)if(this.series[e].index=e,this.series[e].type===this.type&&0===this.visibleSeries.length){this.visibleSeries.push(this.series[e]);break}}processData(e=!0){this.seriesCounts=0;for(const t of this.visibleSeries)t.dataModule=new E2(t.dataSource||this.dataSource,t.query),t.refreshDataManager(this,e)}refreshChart(){this.doGrouppingProcess(),this.createPieSvg(),this.calculateBounds(),this.renderElements(),Qi("chartmeasuretext")}doGrouppingProcess(){const e=this.visibleSeries[0];!f(e.resultData)&&!f(e.lastGroupTo)&&e.lastGroupTo!==e.groupTo&&e.getPoints(e.resultData,this)}calculateBounds(){this.initialClipRect=new ce(this.margin.left,this.margin.top,this.availableSize.width,this.availableSize.height),this.titleCollection=[],this.subTitleCollection=[];let e=0,t=0,i=0,s=0;if(this.titleCollection=Xp(this.title,this.titleStyle,this.initialClipRect.width),e=this.title?Le(this.title,this.titleStyle).height*this.titleCollection.length:e,this.subTitle){for(const r of this.titleCollection)s=Le(r,this.titleStyle).width,i=s>i?s:i;this.subTitleCollection=Xp(this.subTitle,this.subTitleStyle,i),t=Le(this.subTitle,this.subTitleStyle).height*this.subTitleCollection.length}(function(n,e){n.x+=e.x,n.y+=e.y,n.width-=e.x+e.width,n.height-=e.y+e.height})(this.initialClipRect,new ce(0,t+e,this.margin.right+this.margin.left,this.margin.bottom+this.margin.top)),this.calculateLegendBounds()}calculateLegendBounds(){if(!this.accumulationLegendModule||!this.legendSettings.visible)return null;this.accumulationLegendModule.getLegendOptions(this,this.visibleSeries),this.accumulationLegendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null)}renderElements(){this.renderBorder(),this.createSecondaryElement(),this.renderSeries(),this.renderTitle(),this.renderLegend(),lt(!1,this.element,this.svgObject,this.redraw),this.processSelection(),this.processExplode(),this.renderAnnotation(),this.setSecondaryElementPosition(),this.trigger("loaded",{accumulation:this.isBlazor?{}:this,chart:this.isBlazor?{}:this}),this.animateSeries=!1}setSecondaryElementPosition(){const e=se(this.element.id+"_Secondary_Element");if(!e)return;const t=this.element.getBoundingClientRect(),i=se(this.element.id+"_svg").getBoundingClientRect();e.style.left=Math.max(i.left-t.left,0)+"px",e.style.top=Math.max(i.top-t.top,0)+"px"}renderAnnotation(){this.annotationModule&&this.annotationModule.renderAnnotations(se(this.element.id+"_Secondary_Element"))}processExplode(){if(this.redraw||!this.visibleSeries[0].explode)return null;this.accBaseModule.invokeExplode()}renderSeries(){this.redraw||this.svgObject.appendChild(this.renderer.createGroup({id:this.element.id+"_SeriesCollection"}));for(const e of this.visibleSeries)e.visible&&this[Nn(e.type)+"SeriesModule"]&&(this[Nn(e.type)+"SeriesModule"].initProperties(this,e),e.renderSeries(this,this.redraw))}renderBorder(){const e=this.border.width;lt(!1,this.svgObject,this.renderer.drawRectangle(new us(this.element.id+"_border",this.background||this.themeStyle.background,this.border,1,new ce(e/2,e/2,this.availableSize.width-e,this.availableSize.height-e))),this.redraw);const t=this.backgroundImage;if(t){const i=new S2(this.availableSize.height-e,this.availableSize.width-e,t,0,0,this.element.id+"_background","visible","none");lt(!1,this.svgObject,this.renderer.drawImage(i),this.redraw)}}renderLegend(){if(!this.accumulationLegendModule||!this.legendSettings.visible)return null;this.accumulationLegendModule.legendCollections.length&&("Pie"===this.visibleSeries[0].type&&this.accumulationLegendModule.getSmartLegendLocation(this.visibleSeries[0].labelBound,this.accumulationLegendModule.legendBounds,this.margin),this.accumulationLegendModule.renderLegend(this,this.legendSettings,this.accumulationLegendModule.legendBounds,this.redraw))}processSelection(){if(!this.accumulationSelectionModule||"None"===this.selectionMode)return null;const e=fe([],this.accumulationSelectionModule.selectedDataIndexes,null,!0);this.accumulationSelectionModule.invokeSelection(this),e.length>0&&(this.accumulationSelectionModule.selectedDataIndexes=e,this.accumulationSelectionModule.redrawSelection(this))}renderTitle(){const e=this.margin;if(!this.title)return null;const t=this.titleStyle.textAlignment,i="Near"===t?"start":"Far"===t?"end":"middle",s=Le(this.title,this.titleStyle),r=new ce(e.left,0,this.availableSize.width-e.left-e.right,0),o=new bs(this.element.id+"_title",Am(r,this.titleStyle),this.margin.top+3*s.height/4,i,this.titleCollection,"","auto"),a=Os(this.renderer,o,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitle,this.svgObject,!1,this.redraw);a&&a.setAttribute("aria-label",this.title),this.subTitle&&this.renderSubTitle(o)}renderSubTitle(e){let t=0,i=0;const r=this.titleStyle.textAlignment,a=Le(this.subTitle,this.subTitleStyle);for(const c of this.titleCollection)i=Le(c,this.titleStyle).width,t=i>t?i:t;const l=new ce("Center"===r?e.x-t/2:"Far"===r?e.x-t:e.x,0,t,0),h=new bs(this.element.id+"_subTitle",Am(l,this.subTitleStyle),e.y*e.text.length+3*a.height/4+10,"Near"===(c=this.subTitleStyle.textAlignment)?"start":"Far"===c?"end":"middle",this.subTitleCollection,"","auto");var c;Os(this.renderer,h,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartTitle,this.svgObject,!1,this.redraw)}getSeriesElement(){return this.svgObject.getElementsByTagName("g")[0]}refreshSeries(){for(const e of this.visibleSeries)this.refreshPoints(e.points)}refreshPoints(e){for(const t of e)t.labelPosition=null,t.labelRegion=null,t.labelVisible=!0}getModuleName(){return"accumulationchart"}destroy(){this.element&&(this.unWireEvents(),super.destroy(),this.element.classList.remove("e-accumulationchart"),this.removeSvg(),this.svgObject=null)}requiredModules(){const e=[];let t=!1;return e.push({member:this.type+"Series",args:[this]}),this.legendSettings.visible&&e.push({member:"AccumulationLegend",args:[this]}),this.findDatalabelVisibility()&&e.push({member:"AccumulationDataLabel",args:[this]}),this.tooltip.enable&&e.push({member:"AccumulationTooltip",args:[this]}),"None"!==this.selectionMode&&e.push({member:"AccumulationSelection",args:[this]}),(this.enableExport||this.allowExport)&&e.push({member:"Export",args:[this]}),t=this.annotations.some(i=>null!==i.content),t&&e.push({member:"Annotation",args:[this]}),e}findDatalabelVisibility(){for(const e of this.series)if(e.dataLabel.visible)return!0;return!1}changeVisibleSeries(e,t){for(const i of e)if(t===i.index)return i;return null}getPersistData(){return""}onPropertyChanged(e,t){const i={refreshElements:!1,refreshBounds:!1};for(const s of Object.keys(e))switch(s){case"theme":this.animateSeries=!0;break;case"title":case"subTitle":case"height":case"width":case"margin":i.refreshBounds=!0;break;case"titleStyle":e.titleStyle&&(e.titleStyle.size||e.titleStyle.textOverflow)?i.refreshBounds=!0:i.refreshElements=!0;break;case"subTitleStyle":e.subTitleStyle&&(e.subTitleStyle.size||e.subTitleStyle.textOverflow)?i.refreshBounds=!0:i.refreshElements=!0;break;case"legendSettings":i.refreshBounds=!0,i.refreshElements=!0;break;case"dataSource":this.processData(!1),i.refreshBounds=!0;break;case"series":if(!this.animateselected){const r=this.series.length;let a,l,o=!1;for(let h=0;h<r;h++)a=e.series[h],this.isBlazor&&(a.startAngle||a.endAngle||a.explodeOffset||a.neckHeight||a.neckWidth||a.radius||a.innerRadius||a.groupMode||a.emptyPointSettings)&&(l=!0),e.series[h]&&(e.series[h].dataSource||e.series[h].yName||e.series[h].xName||e.series[h].dataLabel||l)&&(fe(this.changeVisibleSeries(this.visibleSeries,h),a,null,!0),o=!0),e.series[h]&&!f(e.series[h].explodeIndex)&&e.series[h].explodeIndex>=0&&e.series[h].explodeIndex!==t.series[h].explodeIndex?(this.accBaseModule.explodePoints(e.series[h].explodeIndex,this),this.accBaseModule.deExplodeAll(e.series[h].explodeIndex,this.enableAnimation?300:0)):e.series[h].explodeIndex<0&&this.accBaseModule.deExplodeAll(e.series[h].explodeIndex,this.enableAnimation?300:0);o&&(this.processData(!1),i.refreshBounds=!0)}this.animateselected=!1,this.redraw=!1;break;case"locale":case"currencyCode":super.refresh();break;case"background":case"border":case"annotations":case"enableSmartLabels":i.refreshElements=!0;break;case"isMultiSelect":case"selectedDataIndexes":case"selectionMode":this.accumulationSelectionModule&&(f(this.accumulationSelectionModule.selectedDataIndexes)?this.accumulationSelectionModule.invokeSelection(this):this.accumulationSelectionModule.redrawSelection(this))}!i.refreshBounds&&i.refreshElements?(this.createPieSvg(),this.renderElements()):i.refreshBounds&&(this.refreshSeries(),this.createPieSvg(),this.calculateBounds(),this.renderElements())}};function lD(n,e,t,i){return(n=function(n,e,t){const i=(n-e.min)/e.delta;return t?1-i:i}(n,e,i))*t}function P2(n,e,t,i){return(i?1-n/e:n/e)*t.delta+t.min}function LSe(n,e,t){const i=[];return n.map(s=>{s.xValue>=e&&s.xValue<=t&&i.push({x:s.x,y:s.y})}),i}function uG(n,e){return n.reduce((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t)}Jt([g(null)],Ut.prototype,"width",void 0),Jt([g(null)],Ut.prototype,"height",void 0),Jt([g(null)],Ut.prototype,"title",void 0),Jt([g(null)],Ut.prototype,"backgroundImage",void 0),Jt([U({},R2)],Ut.prototype,"center",void 0),Jt([g("")],Ut.prototype,"dataSource",void 0),Jt([U(Fr.chartTitleFont,ir)],Ut.prototype,"titleStyle",void 0),Jt([g(null)],Ut.prototype,"subTitle",void 0),Jt([U(Fr.chartSubTitleFont,ir)],Ut.prototype,"subTitleStyle",void 0),Jt([U({},bn)],Ut.prototype,"legendSettings",void 0),Jt([U({},Ao)],Ut.prototype,"tooltip",void 0),Jt([g("None")],Ut.prototype,"selectionMode",void 0),Jt([g("None")],Ut.prototype,"highLightMode",void 0),Jt([g("None")],Ut.prototype,"selectionPattern",void 0),Jt([g("None")],Ut.prototype,"highlightPattern",void 0),Jt([g(!0)],Ut.prototype,"enableBorderOnMouseMove",void 0),Jt([g(!1)],Ut.prototype,"isMultiSelect",void 0),Jt([g(!0)],Ut.prototype,"enableAnimation",void 0),Jt([Di([],j1)],Ut.prototype,"selectedDataIndexes",void 0),Jt([U({},Cc)],Ut.prototype,"margin",void 0),Jt([g(!0)],Ut.prototype,"enableSmartLabels",void 0),Jt([U({color:"#DDDDDD",width:0},Yn)],Ut.prototype,"border",void 0),Jt([g(null)],Ut.prototype,"background",void 0),Jt([Di([{}],ws)],Ut.prototype,"series",void 0),Jt([Di([{}],Mu)],Ut.prototype,"annotations",void 0),Jt([g("Material")],Ut.prototype,"theme",void 0),Jt([g(!1)],Ut.prototype,"useGroupingSeparator",void 0),Jt([g(!0)],Ut.prototype,"enableExport",void 0),Jt([g(!1)],Ut.prototype,"allowExport",void 0),Jt([F()],Ut.prototype,"loaded",void 0),Jt([F()],Ut.prototype,"load",void 0),Jt([F()],Ut.prototype,"seriesRender",void 0),Jt([F()],Ut.prototype,"legendRender",void 0),Jt([F()],Ut.prototype,"textRender",void 0),Jt([F()],Ut.prototype,"tooltipRender",void 0),Jt([F()],Ut.prototype,"pointRender",void 0),Jt([F()],Ut.prototype,"annotationRender",void 0),Jt([F()],Ut.prototype,"beforePrint",void 0),Jt([F()],Ut.prototype,"chartMouseMove",void 0),Jt([F()],Ut.prototype,"chartMouseClick",void 0),Jt([F()],Ut.prototype,"pointClick",void 0),Jt([F()],Ut.prototype,"pointMove",void 0),Jt([F()],Ut.prototype,"animationComplete",void 0),Jt([F()],Ut.prototype,"chartMouseDown",void 0),Jt([F()],Ut.prototype,"chartMouseLeave",void 0),Jt([F()],Ut.prototype,"chartMouseUp",void 0),Jt([F()],Ut.prototype,"beforeResize",void 0),Jt([F()],Ut.prototype,"resized",void 0),Jt([F()],Ut.prototype,"afterExport",void 0),Jt([g("USD")],Ut.prototype,"currencyCode",void 0),Ut=Jt([ii],Ut);class RSe{constructor(e,t,i,s,r=!0){this.x=e,this.y=t,this.xValue=i,this.visible=r}}class ISe extends M2{constructor(e){super(),this.dataSource=e.dataSource,this.xName=e.xName,this.yName=e.yName,this.query=e.query,this.xMin=1/0,this.xMax=-1/0,this.yMin=1/0,this.yMax=-1/0}renderChart(e){let t,i;this.seriesLength=0,e.rangeSlider.points=[],e.series.length?e.series.map(s=>{t=s.dataSource||e.dataSource,i=s.query||e.query,s.points=[],this.processDataSource(t,i,e,s)}):this.processDataSource(e.dataSource,e.query,e)}processDataSource(e,t,i,s){e instanceof Ot||f(e)||!f(t)?(i.dataModule=new E2(e,t),i.dataModule.getData(i.dataModule.generateQuery().requiresCount()).then(o=>this.dataManagerSuccess(o,i,s))):this.dataManagerSuccess({result:e,count:e.length},i,s)}dataManagerSuccess(e,t,i){const s=e.count?e.result:[];t.allowServerDataBinding=!1,this.processJsonData(s,t,Object.keys(s).length,i),this.seriesLength+=i?1:this.seriesLength,(!i||this.seriesLength===t.series.length)&&(this.processXAxis(t),this.calculateGroupingBounds(t),this.processYAxis(t),t.renderChart())}processJsonData(e,t,i,s){let o,r=0;const a=s&&s.xName||t.xName,l=s&&s.yName||t.yName;for(;r<i;){if(o=new RSe(Q(a,e[r]),Q(l,e[r])),o.yValue=+o.y,"DateTime"===t.valueType){const h=t.intl.getDateParser({skeleton:"full",type:"dateTime"}),c=t.intl.getDateFormat({skeleton:"full",type:"dateTime"});o.x=new Date(me.parse.parseJson({val:o.x}).val),o.xValue=Date.parse(h(c(o.x)))}else o.xValue=+o.x;s&&s.points.push(o),this.xMin=Math.min(this.xMin,o.xValue),this.yMin=Math.min(this.yMin,o.yValue),this.xMax=Math.max(this.xMax,o.xValue),this.yMax=Math.max(this.yMax,o.yValue),t.rangeSlider.points.push(o),r++}}processXAxis(e){this.xAxis={minimum:e.minimum,maximum:e.maximum,interval:e.interval,valueType:e.valueType,isInversed:e.enableRtl,labelFormat:e.labelFormat,logBase:e.logBase,skeleton:e.skeleton,skeletonType:e.skeletonType},this.xAxis.intervalType=e.intervalType,this.xAxis.maximumLabels=3,this.xAxis.skeleton=e.skeleton,this.xAxis.intervalDivs=[10,5,2,1],this.xAxis.rect=e.bounds,this.xAxis.visibleLabels=[],this.xAxis.orientation="Horizontal";const i=e[Nn(e.valueType)+"Module"];i.min=this.xMin,i.max=this.xMax,i.getActualRange(this.xAxis,e.bounds),("Double"===this.xAxis.valueType||"DateTime"===this.xAxis.valueType)&&i.updateActualRange(this.xAxis,this.xAxis.actualRange.min,this.xAxis.actualRange.max,this.xAxis.actualRange.interval),this.xAxis.actualRange.delta=this.xAxis.actualRange.max-this.xAxis.actualRange.min,this.xAxis.visibleRange=this.xAxis.actualRange,i.calculateVisibleLabels(this.xAxis,e)}processYAxis(e){this.yAxis={majorGridLines:{width:0},rangePadding:"None",majorTickLines:{width:0},labelStyle:{size:"0"},visible:!1,valueType:"Double",minimum:null,maximum:null,interval:null},this.yAxis.rect=e.bounds,this.yAxis.maximumLabels=3,this.yAxis.intervalDivs=[10,5,2,1],this.yAxis.orientation="Vertical",e.doubleModule.min=this.yMin,e.doubleModule.max=this.yMax,e.doubleModule.getActualRange(this.yAxis,e.bounds),e.doubleModule.updateActualRange(this.yAxis,this.yAxis.actualRange.min,this.yAxis.actualRange.max,this.yAxis.actualRange.interval),this.yAxis.actualRange.delta=this.yAxis.actualRange.max-this.yAxis.actualRange.min,this.yAxis.visibleRange=this.yAxis.actualRange}renderSeries(e){this.chartGroup=e.renderer.createGroup({id:e.element.id+"_chart"});const t=H1(e.theme);e.series.map((i,s)=>{(!e.stockChart||e.stockChart.series[s].visible)&&(i.xAxis=this.xAxis,i.yAxis=this.yAxis,i.chart=e,i.index=s,i.xAxis.isInversed=e.enableRtl,i.interior=i.fill||t[s%t.length],this.createSeriesElement(e,i,s),e[Nn(i.type)+"SeriesModule"]?e[Nn(i.type)+"SeriesModule"].render(i,this.xAxis,this.yAxis,!1):e.lineSeriesModule.render(i,this.xAxis,this.yAxis,!1),this.chartGroup.appendChild(i.seriesElement),i.animation.enable&&e.animateSeries&&e[Nn(i.type)+"SeriesModule"]&&e[Nn(i.type)+"SeriesModule"].doAnimation(i))})}appendSeriesElements(e){e.svgObject.appendChild(this.chartGroup),e.series.length&&this.drawSeriesBorder(e)}createSeriesElement(e,t,i){const s=e.element.id;t.clipRect=new ce(this.xAxis.rect.x,this.yAxis.rect.y,this.xAxis.rect.width,this.yAxis.rect.height),t.clipRectElement=e.renderer.drawClipPath(new us(s+"_RangeSeriesClipRect_"+i,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:t.clipRect.width,height:t.clipRect.height})),t.seriesElement=e.renderer.createGroup({id:s+"SeriesGroup"+i,transform:"translate("+t.clipRect.x+","+t.clipRect.y+")","clip-path":"url(#"+s+"_RangeSeriesClipRect_"+i+")"}),t.seriesElement.appendChild(t.clipRectElement)}calculateGroupingBounds(e){const t=e.margin.bottom,i=Le("string",e.labelStyle).height;this.calculateDateTimeNiceInterval(this.xAxis,new xt(e.bounds.width,e.bounds.height),this.xMin,this.xMax,!1),e.enableGrouping&&"DateTime"===e.valueType&&("Years"!==this.xAxis.actualIntervalType||!e.series.length)&&(e.bounds.height-="Outside"===e.labelPosition||0===e.series.length?t+i:i+2*t),e.series.length||(e.bounds.y+=e.bounds.height/4,e.bounds.height=e.bounds.height/2)}drawSeriesBorder(e){const s=new nt(e.element.id+"_SeriesBorder","transparent",e.navigatorBorder.width,e.navigatorBorder.color,1,"","M "+e.bounds.x+" "+e.bounds.y+" L "+(e.bounds.x+e.bounds.width)+" "+e.bounds.y+(e.stockChart?"M":"L")+(e.bounds.x+e.bounds.width)+" "+(e.bounds.y+e.bounds.height)+" L "+e.bounds.x+" "+(e.bounds.y+e.bounds.height)+(e.stockChart?"":"Z")),r=e.renderer.drawPath(s);e.svgObject.appendChild(r)}}class PSe extends tG{constructor(e){super(),this.firstLevelLabels=[],this.secondLevelLabels=[],this.rangeNavigator=e}renderGridLines(){let e=0;const t=this.rangeNavigator,i=t.majorGridLines,s=t.majorTickLines;let r="",o="";const a=t.bounds,l=t.chartSeries.xAxis,h=t.disableRangeSelector?"transparent":null;this.gridLines=t.renderer.createGroup({id:t.element.id+"_GridLines"});const c="Outside"===t.tickPosition||0===t.series.length?a.y+a.height+s.height:a.y+a.height-s.height;this.firstLevelLabels=[],l.labelStyle=t.labelStyle,l.skeleton=t.skeleton,l.skeletonType=t.skeletonType,l.isChart=!1,"DateTime"===t.valueType&&(this.calculateDateTimeNiceInterval(l,a,l.doubleRange.start,l.doubleRange.end,l.isChart),this.actualIntervalType=l.actualIntervalType,this.findAxisLabels(l)),this.firstLevelLabels=l.visibleLabels,this.lowerValues=[];const d=l.visibleLabels.length;for(let p=0;p<d;p++)this.lowerValues.push(this.firstLevelLabels[p].value),e=zi(this.firstLevelLabels[p].value,l)*a.width+a.x,e>=a.x&&a.x+a.width>=e&&(r=r.concat("M "+e+" "+(t.bounds.y+t.bounds.height)+" L "+e+" "+t.bounds.y+" "),o=o.concat("M "+e+" "+(a.y+a.height)+" L "+e+" "+c+" "));let u=new nt(t.element.id+"_MajorGridLine","transparent",i.width,t.series.length?h||i.color||t.themeStyle.gridLineColor:"transparent",1,i.dashArray,r);this.gridLines.appendChild(t.renderer.drawPath(u)),u=new nt(t.element.id+"_MajorTickLine","transparent",s.width,h||s.color||t.themeStyle.gridLineColor,1,i.dashArray,o),this.gridLines.appendChild(t.renderer.drawPath(u))}renderAxisLabels(){const e=this.rangeNavigator.chartSeries.xAxis,t=this.rangeNavigator;let i;const s=t.renderer.createGroup({id:t.element.id+"_AxisLabels"}),r=t.renderer.createGroup({id:t.element.id+"_FirstLevelAxisLabels"}),o=t.renderer.createGroup({id:t.element.id+"_SecondLevelAxisLabels"}),a=e;if(i=this.findLabelY(t,!1),this.placeAxisLabels(e,i,"_AxisLabel_",t,r),a.intervalType=a.actualIntervalType=t.groupBy||this.getSecondaryLabelType(e.actualIntervalType),a.labelFormat="",t.enableGrouping&&"DateTime"===t.valueType&&"Years"!==this.actualIntervalType){a.visibleRange.interval=1,a.visibleLabels=[],this.findAxisLabels(a),this.secondLevelLabels=a.visibleLabels,i=this.findLabelY(t,!0);const l=this.placeAxisLabels(a,i,"_SecondaryLabel_",t,o),h=new nt(t.element.id+"_SecondaryMajorLines","transparent",t.majorTickLines.width,t.majorTickLines.color||t.themeStyle.gridLineColor,1,t.majorGridLines.dashArray,l);this.gridLines.appendChild(t.renderer.drawPath(h))}t.chartSeries.xAxis.visibleLabels=t.chartSeries.xAxis.visibleLabels.concat(a.visibleLabels),s.appendChild(r),s.appendChild(o),t.svgObject.appendChild(this.gridLines),t.svgObject.appendChild(s)}getSecondaryLabelType(e){const t=["Years","Quarter","Months","Weeks","Days","Hours","Minutes","Seconds"];return"Years"===e?"Years":t[t.indexOf(e)-1]}findAxisLabels(e){e.visibleLabels=[];let i,s,t=new Date(e.visibleRange.min);const r=this.rangeNavigator.interval?this.rangeNavigator.interval:1;switch(e.actualIntervalType){case"Years":t=new Date(t.getFullYear(),0,1);break;case"Quarter":t=t.getMonth()<=2?new Date(t.getFullYear(),0,1):t.getMonth()<=5?new Date(t.getFullYear(),3,1):t.getMonth()<=8?new Date(t.getFullYear(),6,1):new Date(t.getFullYear(),9,1);break;case"Months":t=new Date(t.getFullYear(),t.getMonth());break;case"Weeks":t=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay());break;case"Days":t=new Date(t.getFullYear(),t.getMonth(),t.getDate());break;case"Hours":t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours());break;case"Minutes":t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes());break;case"Seconds":t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())}for(i=t.getTime(),this.rangeNavigator.format=this.rangeNavigator.intl.getDateFormat({format:e.labelFormat||"",type:Nn(e.skeletonType),skeleton:this.getSkeleton(e,null,null)});i<=e.visibleRange.max;)s=this.dateFormats(this.rangeNavigator.format(new Date(i)),e,e.visibleLabels.length),e.visibleLabels.push(new HU(s,i,this.rangeNavigator.labelStyle,s)),i=this.increaseDateTimeInterval(e,i,r).getTime()}dateFormats(e,t,i){let s=e;const r=this.rangeNavigator.enableGrouping&&0===this.firstLevelLabels.length;switch(t.actualIntervalType){case"Quarter":e.indexOf("Jan")>-1?s=r?"Quarter1":e.replace("Jan","Quarter1"):e.indexOf("Apr")>-1?s=r?"Quarter2":e.replace("Apr","Quarter2"):e.indexOf("Jul")>-1?s=r?"Quarter3":e.replace("Jul","Quarter3"):e.indexOf("Oct")>-1&&(s=r?"Quarter4":e.replace("Oct","Quarter4"));break;case"Weeks":s="Week"+ ++i;break;default:s=e}return s}findLabelY(e,t){let i;const s=e.bounds.y+e.bounds.height,r=e.majorTickLines.height,o=Le("Quarter1 2011",e.labelStyle).height;let a=8;return i="Outside"===e.labelPosition&&"Outside"===e.tickPosition||0===e.series.length?s+r+a+.75*o:"Inside"===e.labelPosition&&"Inside"===e.tickPosition?s-r-a:"Inside"===e.labelPosition&&"Outside"===e.tickPosition?s-a:s+a+.75*o,t&&(a=15,"Outside"===e.labelPosition||0===e.series.length?i+=a+.75*o:i="Outside"===e.tickPosition||0===e.series.length?s+r+a+.75*o:s+a+.75*o),i}placeAxisLabels(e,t,i,s,r){const o=e.visibleLabels.length;let a,l,h;const c=s.bounds;let u,d="";const p=s.disableRangeSelector?"transparent":null;let m=s.enableRtl?c.x+c.width:c.x;const y=e.actualIntervalType,b="DateTime"===s.valueType?o>1?e.visibleLabels[1].value-e.visibleLabels[0].value:(e.visibleRange.max-e.visibleLabels[0].value)/2:0;"DateTime"===s.valueType&&("Quarter"===y||"Weeks"===y)&&this.findSuitableFormat(e,s);for(let v=0,C=o;v<C;v++){if(a=e.visibleLabels[v],a.size=Le(a.text,e.labelStyle),"Middle"===s.secondaryLabelAlignment?h=zi(a.value+b/2,e)*c.width+c.x:i.indexOf("Secondary")>-1&&(h=this.findAlignment(e,v)),u=zi(a.value,e)*c.width+c.x,(0===v||v===e.visibleLabels.length-1&&s.enableRtl)&&h<c.x&&(h=c.x+a.size.width/2),(v===e.visibleLabels.length-1||0===v&&s.enableRtl)&&h+a.size.width>c.x+c.width&&(h=c.x+c.width-a.size.width/2),i.indexOf("_SecondaryLabel_")>-1&&h>=c.x&&c.x+c.width>=h&&(d=d.concat("M "+u+" "+t+" L "+u+" "+(t-a.size.height))),"Hide"===s.labelIntersectAction&&0!==v&&this.isIntersect(e,h,a.size.width,m,l.size.width))continue;"Middle"===s.secondaryLabelAlignment&&1===e.visibleLabels.length&&(h=zi(a.value,e)+(c.x+c.width/2));const w=s.labelStyle,k={cancel:!1,name:"labelRender",text:a.text,value:a.value,labelStyle:{size:w.size,color:p||w.color||s.themeStyle.labelFontColor,fontFamily:w.fontFamily,fontStyle:w.fontStyle||s.labelStyle.fontStyle,fontWeight:w.fontWeight||s.labelStyle.fontWeight,opacity:w.opacity||s.labelStyle.opacity,textAlignment:w.textAlignment||s.labelStyle.textAlignment,textOverflow:w.textOverflow||s.labelStyle.textOverflow},region:new ce(h,t,a.size.width,a.size.height)};s.trigger("labelRender",k),k.cancel||(s.labels.push(k),Os(this.rangeNavigator.renderer,new bs(this.rangeNavigator.element.id+i+v,h,t,"middle",k.text),k.labelStyle,k.labelStyle.color||s.themeStyle.labelFontColor,r).style.cursor="DateTime"===e.valueType?"cursor: pointer":"cursor: default",m=h,l=a)}return d}isIntersect(e,t,i,s,r){return e.isInversed?t+i/2>s-r/2:t-i/2<s+r/2}findSuitableFormat(e,t){const i=e.visibleLabels,s=i.length,r=t.bounds;let o,a;const l="DateTime"===t.valueType?s>1?i[1].value-i[0].value:e.visibleRange.interval:0;for(let h=0;h<s;h++)a=zi(i[h].value+l/2,e)*r.width+r.x,i[h].size=Le(i[h].text,e.labelStyle),0===h&&a<r.x&&(a=r.x+i[h].size.width/2),"Quarter"===e.actualIntervalType?0!==h&&(i[h].text.indexOf("Quarter")>-1&&this.isIntersect(e,a,i[h].size.width,o,i[h-1].size.width)?(i.every(c=>(c.text=c.text.toString().replace("Quarter","QTR"),!0)),e.visibleLabels=i,this.findSuitableFormat(e,t)):this.isIntersect(e,a,i[h].size.width,o,i[h-1].size.width)&&(i.every(c=>(c.text=c.text.toString().replace("QTR","Q"),!0)),e.visibleLabels=i)):"Weeks"===e.actualIntervalType&&0!==h&&i[h].text.indexOf("Week")>-1&&this.isIntersect(e,a,i[h].size.width,o,i[h-1].size.width)&&(i.every(c=>(c.text=c.text.toString().replace("Week","W"),!0)),e.visibleLabels=i),o=a}findAlignment(e,t){const i=e.visibleLabels[t],s=e.visibleLabels[t+1],r=this.rangeNavigator.bounds;return"Near"===this.rangeNavigator.secondaryLabelAlignment?zi(i.value,e)*r.width+r.x+i.size.width/2:zi(s?s.value:e.visibleRange.max,e)*r.width+r.x-i.size.width}}var Nw=(()=>(function(n){n.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},n.tooltipLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"}}(Nw||(Nw={})),Nw))(),Sn=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class xh extends he{constructor(){super(...arguments),this.clipRect=new ce(0,0,0,0)}}Sn([g(null)],xh.prototype,"dataSource",void 0),Sn([g(null)],xh.prototype,"xName",void 0),Sn([g(null)],xh.prototype,"yName",void 0),Sn([g()],xh.prototype,"query",void 0),Sn([g("Line")],xh.prototype,"type",void 0),Sn([U({enable:!1},Up)],xh.prototype,"animation",void 0),Sn([U({color:"transparent",width:2},Yn)],xh.prototype,"border",void 0),Sn([g(null)],xh.prototype,"fill",void 0),Sn([g(1)],xh.prototype,"width",void 0),Sn([g(1)],xh.prototype,"opacity",void 0),Sn([g("0")],xh.prototype,"dashArray",void 0);class Ab extends he{}Sn([g(null)],Ab.prototype,"width",void 0),Sn([g(null)],Ab.prototype,"height",void 0),Sn([U({width:1,color:null},Yn)],Ab.prototype,"border",void 0),Sn([g(null)],Ab.prototype,"fill",void 0),Sn([g("Circle")],Ab.prototype,"type",void 0);class hD extends he{}Sn([U({},Ab)],hD.prototype,"thumb",void 0),Sn([g(null)],hD.prototype,"selectedRegionColor",void 0),Sn([g(null)],hD.prototype,"unselectedRegionColor",void 0);class ku extends he{}Sn([g(!1)],ku.prototype,"enable",void 0),Sn([g(.85)],ku.prototype,"opacity",void 0),Sn([g(null)],ku.prototype,"fill",void 0),Sn([g(null)],ku.prototype,"format",void 0),Sn([U(Nw.tooltipLabelFont,ir)],ku.prototype,"textStyle",void 0),Sn([g(null)],ku.prototype,"template",void 0),Sn([U({color:"#cccccc",width:.5},Yn)],ku.prototype,"border",void 0),Sn([g("OnDemand")],ku.prototype,"displayMode",void 0);class FSe{constructor(e){this.control=e,this.points=[],this.isIOS=T.isIos||T.isIos7;const t=e.navigatorStyleSettings.thumb;this.thumbVisible=0!==e.themeStyle.thumbWidth&&0!==e.themeStyle.thumbHeight,this.elementId=e.element.id,this.thumpPadding=e.themeStyle.thumbWidth/2,this.addEventListener(),this.thumbColor=e.disableRangeSelector?"transparent":t.fill||e.themeStyle.thumbBackground}render(e){const t=e.renderer,i=e.navigatorStyleSettings,s=e.disableRangeSelector?"transparent":null,r=t.createGroup({id:this.elementId+"_sliders",style:e.disableRangeSelector?"pointer-events:none;":""}),o=new us(this.elementId+"_leftUnSelectedArea",s||i.unselectedRegionColor||e.themeStyle.unselectedRectColor,{width:0},1,{x:e.bounds.x,y:e.bounds.y,width:e.bounds.width/3,height:e.bounds.height});this.leftUnSelectedElement=t.drawRectangle(o),o.id=this.elementId+"_rightUnSelectedArea",this.rightUnSelectedElement=t.drawRectangle(o),o.id=this.elementId+"_SelectedArea",o.fill=s||i.selectedRegionColor||e.themeStyle.selectedRegionColor,this.selectedElement=t.drawRectangle(o),this.selectedElement.setAttribute("style","cursor: -webkit-grab"),this.leftSlider=t.createGroup({id:this.elementId+"_LeftSlider",style:"cursor: ew-resize"}),this.rightSlider=t.createGroup({id:this.elementId+"_RightSlider",style:"cursor: ew-resize"}),this.createThump(t,e.bounds,this.leftSlider,this.elementId+"_LeftSlider",r),this.createThump(t,e.bounds,this.rightSlider,this.elementId+"_RightSlider"),r.appendChild(this.leftUnSelectedElement),r.appendChild(this.rightUnSelectedElement),r.appendChild(this.selectedElement),r.appendChild(this.leftSlider),r.appendChild(this.rightSlider),e.svgObject.appendChild(r)}createThump(e,t,i,s,r){const o=this.control,a=o.navigatorStyleSettings.thumb,h=t.y+t.height/2,c=this.thumpPadding,d=o.themeStyle.thumbHeight/2-5,u=o.disableRangeSelector?"transparent":null,p=u||a.border.color||o.themeStyle.thumpLineColor;let m;i.appendChild(e.drawPath(new nt(s+"_ThumpLine","transparent",a.border.width,o.series.length?p:"transparent",1,null,"M "+c+" "+t.y+" L "+c+" "+(t.y+t.height)+" "))),this.thumpY=h-o.themeStyle.thumbHeight/2,this.sliderY=t.y>this.thumpY?this.thumpY:t.y,r&&!o.disableRangeSelector&&(m=e.createDefs(),m.innerHTML='<rect xmlns="http://www.w3.org/2000/svg" id="'+this.control.element.id+'_shadow" x="0" y="'+this.thumpY+'" width="'+o.themeStyle.thumbWidth+'" height="'+o.themeStyle.thumbHeight+'" rx="'+("Circle"===a.type?"50%":"0%")+'"/><filter xmlns="http://www.w3.org/2000/svg" x="-25.0%" y="-20.0%" width="150.0%" height="150.0%" filterUnits="objectBoundingBox" id="ej2-range-shadow"><feOffset dx="0" dy="1" in="SourceAlpha"result="shadowOffsetOuter1"/><feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"/><feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"/><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.16 0" type="matrix" in="shadowBlurOuter1"/></filter>',r.appendChild(m)),i.innerHTML+='<use xmlns="http://www.w3.org/2000/svg" fill="black" fill-opacity="1" filter="url(#ej2-range-shadow)" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#path-1"/>',i.appendChild("Circle"===a.type?mo({x:c,y:h},"Circle",{width:o.themeStyle.thumbWidth,height:o.themeStyle.thumbHeight},"",new nt(s+"_ThumpSymbol",u||this.thumbColor,a.border.width,p,1,null)):e.drawRectangle(new us(s+"_ThumpSymbol",u||this.thumbColor,{width:a.border.width,color:p},1,{x:c-o.themeStyle.thumbWidth/2,y:h-o.themeStyle.thumbHeight/2,width:o.themeStyle.thumbWidth,height:o.themeStyle.thumbHeight},2,2))),this.thumbVisible&&i.appendChild(e.drawPath(new nt(s+"_ThumpGrip","transparent",1,u||o.themeStyle.gripColor,1,null,"M "+(c+2)+" "+(h+d)+" L "+(c+2)+" "+(h-d)+" M "+c+" "+(h+d)+" L "+c+" "+(h-d)+" M "+(c-2)+" "+(h+d)+" L "+(c-2)+" "+(h-d)+" ")))}setSlider(e,t,i,s){const r=this.control,o=r.bounds.x,a=r.chartSeries.xAxis.actualRange,l=0===r.series.length;isNaN(e)&&isNaN(t)&&(e=0,t=r.bounds.width),t>=e||(e=[t,t=e][0]),e=t>=e?e:[t,t=e][0],e=Math.max(e,a.min),t=Math.min(t,a.max),this.startX=o+lD(e,a,r.bounds.width,r.enableRtl),this.endX=o+lD(t,a,r.bounds.width,r.enableRtl);const h=r.enableRtl?this.endX:this.startX,c=r.enableRtl?this.startX:this.endX;this.sliderWidth=Math.abs(this.endX-this.startX),this.selectedElement.setAttribute("x",h+""),this.selectedElement.setAttribute("width",this.sliderWidth+""),this.leftUnSelectedElement.setAttribute("width",h-o+""),this.rightUnSelectedElement.setAttribute("x",c+""),this.rightUnSelectedElement.setAttribute("width",r.bounds.width-(c-o)+""),this.leftSlider.setAttribute("transform","translate("+(this.startX-this.thumpPadding)+", 0)"),this.rightSlider.setAttribute("transform","translate("+(this.endX-this.thumpPadding)+", 0)");const d=this.control.svgObject.getBoundingClientRect().left-this.control.element.getBoundingClientRect().left,u=this.control.enableRtl?this.endX:this.startX,p=this.control.enableRtl?this.startX:this.endX;this.leftRect={x:l?d+o:o,y:l?0:r.bounds.y,width:l?u-o:u,height:l?this.thumpY:r.bounds.height},this.rightRect={x:l?d+p:p,y:l?0:r.bounds.y,width:r.bounds.width-(c-o),height:l?this.thumpY:r.bounds.height},this.midRect={x:l?u+d:0,y:l?0:r.bounds.y,width:l?Math.abs(this.endX-this.startX):p,height:l?this.thumpY:r.bounds.height},this.currentStart=e,this.currentEnd=t,s&&(this.control.rangeTooltipModule.renderLeftTooltip(this),this.control.rangeTooltipModule.renderRightTooltip(this)),i&&this.triggerEvent(a)}triggerEvent(e){const t=this.control.chartSeries.xAxis,i=t.valueType,s={cancel:!1,start:"DateTime"===i?new Date(this.currentStart):"Logarithmic"===i?Math.pow(t.logBase,this.currentStart):this.currentStart,end:"DateTime"===i?new Date(this.currentEnd):"Logarithmic"===i?Math.pow(t.logBase,this.currentEnd):this.currentEnd,name:"changed",selectedData:LSe(this.points,this.currentStart,this.currentEnd),zoomPosition:(this.control.enableRtl?e.max-this.currentEnd:this.currentStart-e.min)/e.delta,zoomFactor:(this.currentEnd-this.currentStart)/e.delta};this.control.trigger("changed",s)}addEventListener(){this.control.isDestroyed||(this.control.on(T.touchMoveEvent,this.mouseMoveHandler,this),this.control.on(T.touchStartEvent,this.mouseDownHandler,this),this.control.on(T.touchEndEvent,this.mouseUpHandler,this),this.control.on(T.isPointer?"pointerleave":"mouseleave",this.mouseCancelHandler,this))}removeEventListener(){this.control.isDestroyed||(this.control.off(T.touchMoveEvent,this.mouseMoveHandler),this.control.off(T.touchStartEvent,this.mouseDownHandler),this.control.off(T.touchEndEvent,this.mouseUpHandler),this.control.off(T.isPointer?"pointerleave":"mouseleave",this.mouseCancelHandler))}mouseMoveHandler(e){const t=this.control,i=t.chartSeries.xAxis.actualRange,s=t.bounds;let r,o;if(this.getCurrentSlider(e.target.id),this.isDrag&&t.mouseX>=s.x){switch(this.currentSlider){case"Left":t.startValue=this.getRangeValue(Math.abs(t.mouseX-s.x));break;case"Right":t.endValue=this.getRangeValue(Math.abs(t.mouseX-s.x));break;case"Middle":r=Math.max(this.getRangeValue(Math.abs(this.startX-(this.previousMoveX-t.mouseX)-s.x)),i.min),o=Math.min(this.getRangeValue(Math.abs(this.endX-(this.previousMoveX-t.mouseX)-s.x)),i.max),Math.floor(Math.abs(lD(o,i,t.bounds.width,t.enableRtl)-lD(r,i,t.bounds.width,t.enableRtl)))===Math.floor(this.sliderWidth)&&(t.startValue=r,t.endValue=o)}e.preventDefault&&this.isIOS&&e.preventDefault(),this.setSlider(t.startValue,t.endValue,!t.enableDeferredUpdate,t.rangeTooltipModule&&t.tooltip.enable),this.previousMoveX=t.mouseX}}getRangeValue(e){const t=this.control;return P2(e,t.bounds.width,t.chartSeries.xAxis.actualRange,t.enableRtl)}mouseDownHandler(e){this.currentSlider=this.getCurrentSlider(e.target.id),this.selectedElement.setAttribute("style","cursor: -webkit-grabbing"),this.isDrag=!("UnSelectedArea"===this.currentSlider||!this.currentSlider),this.previousMoveX=this.control.mouseDownX}getCurrentSlider(e){const t=this.control.themeStyle.thumbHoverColor;return e.indexOf(this.elementId+"_LeftSlider")>-1?(this.leftSlider.childNodes[2].setAttribute("fill",t),"Left"):e.indexOf(this.elementId+"_RightSlider")>-1?(this.rightSlider.childNodes[2].setAttribute("fill",t),"Right"):e.indexOf(this.elementId+"_SelectedArea")>-1?"Middle":e.indexOf("UnSelectedArea")>-1?(this.leftSlider.childNodes[2].setAttribute("fill",this.thumbColor),this.rightSlider.childNodes[2].setAttribute("fill",this.thumbColor),"UnSelectedArea"):e.indexOf(this.elementId+"_AxisLabel_")>-1&&"DateTime"===this.control.valueType?(this.labelIndex=+e.substring(e.lastIndexOf("_")+1,e.length),"firstLevelLabels"):e.indexOf(this.elementId+"_SecondaryLabel")>-1&&"DateTime"===this.control.valueType?(this.labelIndex=+e.substring(e.lastIndexOf("_")+1,e.length),"secondLevelLabels"):(this.leftSlider.childNodes[2].setAttribute("fill",this.thumbColor),this.rightSlider.childNodes[2].setAttribute("fill",this.thumbColor),this.control.periodSelectorModule&&(this.control.periodSelectorModule.triggerChange=!0),null)}mouseUpHandler(){const e=this.control,t=e.chartSeries.xAxis.actualRange;let i=e.enableDeferredUpdate;const s=e.tooltip.enable;if(e.stockChart&&(e.stockChart.zoomChange=!1),"UnSelectedArea"===this.currentSlider){let r,o,a;const l=e.enableRtl,h=e.endValue-e.startValue;e.mouseDownX<this.startX?(r=Math.max(this.getRangeValue(e.mouseDownX-this.sliderWidth/2-e.bounds.x),t.min),a=l?r:r+h,o=l?r-h:r):(r=Math.min(this.getRangeValue(e.mouseDownX+this.sliderWidth/2-e.bounds.x),t.max),o=l?r:r-h,a=l?r+h:r),this.performAnimation(o,a,e),i=!1}else if("firstLevelLabels"===this.currentSlider||"secondLevelLabels"===this.currentSlider){const r=e.rangeAxis[this.currentSlider][this.labelIndex+1];this.performAnimation(e.rangeAxis[this.currentSlider][this.labelIndex].value,r?e.allowIntervalData?r.value-1:r.value:t.max,e),i=!1}this.isDrag&&e.allowSnapping&&(this.setAllowSnapping(e,this.currentStart,this.currentEnd,i,s),i=!1),i&&this.setSlider(this.currentStart,this.currentEnd,!0,s),null!==this.currentSlider&&this.control.periodSelectorSettings.periods.length>0&&(this.control.periodSelectorModule.triggerChange=!1,this.control.periodSelectorModule.datePicker.startDate=new Date(this.currentStart),this.control.periodSelectorModule.datePicker.endDate=new Date(this.currentEnd)),this.selectedElement.setAttribute("style","cursor: -webkit-grab"),e.startValue=this.currentStart,e.endValue=this.currentEnd,this.isDrag=!1,this.labelIndex=null,this.currentSlider=null}setAllowSnapping(e,t,i,s,r){const o=e.rangeAxis.lowerValues;o.push(e.chartSeries.xAxis.actualRange.max),this.setSlider(uG(o,t),uG(o,i),s,r),e.startValue=this.currentStart,e.endValue=this.currentEnd}performAnimation(e,t,i,s){const r=this.currentStart,o=this.currentEnd,a=i.enableDeferredUpdate,l=i.tooltip.enable;new qt({}).animate(Ve("div"),{duration:f(s)?this.control.animationDuration:s,progress:h=>{this.setSlider(fo(h.timeStamp,0,e-r,h.duration)+r,fo(h.timeStamp,0,t-o,h.duration)+o,!a,l)},end:()=>{i.allowSnapping?this.setAllowSnapping(i,e,t,!0,l):this.setSlider(e,t,!0,l),this.control.startValue=this.currentStart,this.control.endValue=this.currentEnd,this.control.periodSelectorSettings.periods.length>0&&(this.control.periodSelectorModule.triggerChange=!1,this.control.periodSelectorModule.datePicker.startDate=new Date(this.currentStart),this.control.periodSelectorModule.datePicker.endDate=new Date(this.currentEnd))}})}mouseCancelHandler(){this.isDrag&&this.control.allowSnapping&&this.setAllowSnapping(this.control,this.currentStart,this.currentEnd,!1,this.control.tooltip.enable),this.isDrag=!1,this.currentSlider=null,this.control.startValue=this.currentStart,this.control.endValue=this.currentEnd}destroy(){this.removeEventListener()}}class O2{constructor(e){this.control={},this.rootControl=e}setControlValues(e){"rangeNavigator"===e.getModuleName()?(this.control.periods=this.rootControl.periodSelectorSettings.periods,this.control.seriesXMax=e.chartSeries.xMax,this.control.seriesXMin=e.chartSeries.xMin,this.control.rangeSlider=e.rangeSlider,this.control.rangeNavigatorControl=e,this.control.endValue=e.endValue,this.control.startValue=e.startValue):(this.control.periods=this.rootControl.periods,this.control.endValue=this.control.seriesXMax=e.seriesXMax,this.control.startValue=this.control.seriesXMin=e.seriesXMin,this.control.rangeNavigatorControl=this.rootControl.rangeNavigator,this.control.rangeNavigatorControl&&(this.control.rangeSlider=this.rootControl.rangeNavigator.rangeSlider)),this.control.element=e.element,this.control.disableRangeSelector=e.disableRangeSelector}appendSelector(e,t=0){this.renderSelectorElement(null,e,t),this.renderSelector()}renderSelectorElement(e,t,i){let s,r;this.periodSelectorSize=e?this.periodSelectorSize:new ce(i,this.rootControl.titleSize.height,t.width,t.height),e?(s=e.themeStyle.thumbWidth,r=e.element):(s=t.thumbSize,r=t.element),se(r.id+"_Secondary_Element")&&Ue(se(r.id+"_Secondary_Element")),this.periodSelectorDiv=Ve("div",{id:r.id+"_Secondary_Element",styles:"width: "+(this.periodSelectorSize.width-s)+"px;height: "+this.periodSelectorSize.height+"px;top:"+this.periodSelectorSize.y+"px;left:"+(this.periodSelectorSize.x+s/2)+"px; position: absolute"}),r.appendChild(this.periodSelectorDiv)}renderSelector(){this.setControlValues(this.rootControl);let e=!0;const t=this.control.element.id,i=Ve("div",{id:t+"_selector"}),s=this.control.periods,r=this.updateCustomElement(),o="text-transform: none; text-overflow: unset",l=t+"customRange";this.periodSelectorDiv.appendChild(i);for(let c=0;c<s.length;c++)r.push({align:"Left",text:s[c].text});"stockChart"===this.rootControl.getModuleName()&&(e=this.rootControl.enableCustomRange),e&&(this.calendarId=t+"_calendar",r.push({template:"<button id="+this.calendarId+"></button>",align:"Right"}));const h={selector:r,name:"RangeSelector",cancel:!1,enableCustomFormat:!0,content:"Date Range"};"stockChart"===this.rootControl.getModuleName()&&(r.push({template:Ve("button",{id:t+"_reset",innerHTML:"Reset",styles:o,className:"e-dropdown-btn e-btn"}),align:"Right"}),this.rootControl.exportType.indexOf("Print")>-1&&r.push({template:Ve("button",{id:t+"_print",innerHTML:"Print",styles:o,className:"e-dropdown-btn e-btn"}),align:"Right"}),this.rootControl.exportType.length&&r.push({template:Ve("button",{id:t+"_export",innerHTML:"Export",styles:o,className:"e-dropdown-btn e-btn"}),align:"Right"})),this.rootControl.trigger("selectorRender",h),this.toolbar=new qo({items:h.selector,height:this.periodSelectorSize.height,clicked:c=>{this.buttonClick(c,this.control)},created:()=>{this.nodes=this.toolbar.element.querySelectorAll(".e-toolbar-left")[0],f(this.selectedIndex)&&s.map((c,d)=>{c.selected&&(this.control.startValue=this.changedRange(c.intervalType,this.control.endValue,c.interval).getTime(),this.selectedIndex=this.nodes.childNodes.length-s.length+d)}),this.setSelectedStyle(this.selectedIndex)}}),this.toolbar.isStringTemplate=!0,this.toolbar.appendTo(i),this.triggerChange=!0,e&&(this.datePicker=new xi({min:new Date(this.control.seriesXMin),max:new Date(this.control.seriesXMax),format:"dd'/'MM'/'yyyy",placeholder:"Select a range",showClearButton:!1,startDate:new Date(this.control.startValue),endDate:new Date(this.control.endValue),created:()=>{if(h.enableCustomFormat){const c=document.getElementsByClassName("e-date-range-wrapper");let d;for(let u=0;u<c.length;u++)-1!==c[u].children[0].id.indexOf(t)&&(d=c[u]);d.style.display="none",d.insertAdjacentElement("afterend",Ve("div",{id:l,innerHTML:h.content,className:"e-btn e-dropdown-btn",styles:'font-family: "Segoe UI"; font-size: 14px; font-weight: 500; text-transform: none '})),se(l).insertAdjacentElement("afterbegin",Ve("span",{id:t+"dateIcon",className:"e-input-group-icon e-range-icon e-btn-icon e-icons",styles:"font-size: 16px; min-height: 0px; margin: -3px 0 0 0; outline: none; min-width: 30px"})),document.getElementById(l).onclick=()=>{this.datePicker.show(se(l))}}},change:c=>{if(this.triggerChange&&(this.control.rangeSlider&&c.event?this.control.rangeSlider.performAnimation(c.startDate.getTime(),c.endDate.getTime(),this.control.rangeNavigatorControl):c.event&&this.rootControl.rangeChanged(c.startDate.getTime(),c.endDate.getTime()),this.nodes=this.toolbar.element.querySelectorAll(".e-toolbar-left")[0],!this.rootControl.resizeTo&&this.control.rangeSlider&&this.control.rangeSlider.isDrag))for(let d=0,u=this.nodes.childNodes.length;d<u;d++)this.nodes.childNodes[d].childNodes[0].classList.remove("e-active"),this.nodes.childNodes[d].childNodes[0].classList.remove("e-active")}}),this.datePicker.appendTo("#"+this.calendarId))}updateCustomElement(){const e=[],t=this.rootControl.element.id,i="text-transform: none; text-overflow: unset";return"stockChart"===this.rootControl.getModuleName()&&(this.rootControl.seriesType.length&&e.push({template:Ve("button",{id:t+"_seriesType",innerHTML:"Series",styles:i}),align:"Left"}),this.rootControl.indicatorType.length&&e.push({template:Ve("button",{id:t+"_indicatorType",innerHTML:"Indicators",styles:i}),align:"Left"}),this.rootControl.trendlineType.length&&e.push({template:Ve("button",{id:t+"_trendType",innerHTML:"Trendline",styles:i}),align:"Left"})),e}setSelectedStyle(e){if(this.control.disableRangeSelector||"stockChart"===this.rootControl.getModuleName()){for(let t=0,i=this.nodes.childNodes.length;t<i;t++)this.nodes.childNodes[t].childNodes[0].classList.remove("e-active"),this.nodes.childNodes[t].childNodes[0].classList.remove("e-active");this.nodes.childNodes[e].childNodes[0].classList.add("e-flat"),this.nodes.childNodes[e].childNodes[0].classList.add("e-active")}}buttonClick(e,t){const i=e.item,s=this.control.rangeSlider,r=this.control.periods,o=r.filter(h=>h.text===i.text);let a,l;r.map((h,c)=>{h.text===e.item.text&&(this.selectedIndex=this.nodes.childNodes.length-r.length+c)}),""!==e.item.text&&this.setSelectedStyle(this.selectedIndex),"all"===i.text.toLowerCase()?(a=t.seriesXMin,l=t.seriesXMax,s?s.performAnimation(a,l,this.control.rangeNavigatorControl):this.rootControl.rangeChanged(a,l)):"ytd"===i.text.toLowerCase()?s?(a=new Date(new Date(s.currentEnd).getFullYear().toString()).getTime(),l=s.currentEnd,s.performAnimation(a,l,this.control.rangeNavigatorControl)):(a=new Date(new Date(this.rootControl.currentEnd).getFullYear().toString()).getTime(),l=this.rootControl.currentEnd,this.rootControl.rangeChanged(a,l)):""!==i.text.toLowerCase()&&(s?(a=this.changedRange(o[0].intervalType,s.currentEnd,o[0].interval).getTime(),l=s.currentEnd,s.performAnimation(a,l,this.control.rangeNavigatorControl)):(a=this.changedRange(o[0].intervalType,this.rootControl.currentEnd,o[0].interval).getTime(),l=this.rootControl.currentEnd,this.rootControl.rangeChanged(a,l))),"stockChart"===this.rootControl.getModuleName()&&(this.rootControl.zoomChange=!1),se(this.calendarId+"_popup")&&!T.isDevice&&(se(this.calendarId+"_popup").querySelectorAll(".e-range-header")[0].style.display="none")}changedRange(e,t,i){const s=new Date(t);switch(e){case"Quarter":s.setMonth(s.getMonth()-3*i);break;case"Months":s.setMonth(s.getMonth()-i);break;case"Weeks":s.setDate(s.getDate()-7*i);break;case"Days":s.setDate(s.getDate()-i);break;case"Hours":s.setHours(s.getHours()-i);break;case"Minutes":s.setMinutes(s.getMinutes()-i);break;case"Seconds":s.setSeconds(s.getSeconds()-i);break;default:s.setFullYear(s.getFullYear()-i)}return s}getModuleName(){return"PeriodSelector"}destroy(){}}var ci=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Gt=class extends $i{constructor(e,t){super(e,t),this.animateSeries=!0,this.chartid=57725}preRender(){if(this.unWireEvents(),this.setCulture(),this.allowServerDataBinding=!1,""===this.element.id){const e=document.getElementsByClassName("e-rangenavigator").length;this.element.id="rangenavigator_"+this.chartid+"_"+e}this.wireEvents()}initPrivateVariables(){this.doubleModule=new W1,this.labels=[],this.rangeSlider=new FSe(this),this.chartSeries=new ISe(this),this.lineSeriesModule=new sG,this.rangeAxis=new PSe(this)}setCulture(){this.intl=new Gs}setSliderValue(){const e="DateTime"===this.valueType,t=this.chartSeries.xAxis.actualRange;this.startValue=this.startValue?this.startValue:this.value[0]?e?new Date(this.value[0].toString()).getTime():+this.value[0]:t.min,this.endValue=this.endValue?this.endValue:this.value[1]?e?new Date(this.value[1].toString()).getTime():+this.value[1]:t.max}render(){this.trigger("load",{name:"load",rangeNavigator:this,theme:this.theme},()=>{this.theme=this.theme,this.setTheme(),this.initPrivateVariables(),this.createRangeSvg(),this.calculateBounds(),this.chartSeries.renderChart(this),Qi("chartmeasuretext"),this.renderComplete(),this.allowServerDataBinding=!0})}setTheme(){this.themeStyle=function(n,e){const t=e.navigatorStyleSettings.thumb,i=f(t.width)?T.isDevice?15:20:t.width,s=f(t.height)?T.isDevice?15:20:t.height,r="HighContrast"===n?"#969696":"#6F6C6C",o="HighContrast"===n?"#4A4848":"#414040",a="MaterialDark"===n?"#383838":"FabricDark"===n?"#242424":"#1b1b1b";let l={gridLineColor:"#E0E0E0",axisLineColor:"#000000",labelFontColor:"#686868",unselectedRectColor:e.series.length?"rgba(255, 255, 255, 0.6)":"#EEEEEE",thumpLineColor:"rgba(189, 189, 189, 1)",thumbBackground:"rgba(250, 250, 250, 1)",gripColor:"#757575",background:"#FFFFFF",thumbHoverColor:"#EEEEEE",selectedRegionColor:e.series.length?"transparent":"#FF4081",tooltipBackground:"rgb(0, 8, 22)",tooltipFontColor:"#dbdbdb",thumbWidth:i,thumbHeight:s};switch(n){case"Fabric":l.selectedRegionColor=e.series.length?"transparent":"#007897";break;case"Bootstrap":l.selectedRegionColor=e.series.length?"transparent":"#428BCA";break;case"HighContrastLight":l={gridLineColor:"#bdbdbd",axisLineColor:"#969696",labelFontColor:"#ffffff",unselectedRectColor:e.series.length?"rgba(255, 255, 255, 0.3)":"#EEEEEE",thumpLineColor:"#ffffff",thumbBackground:"#262626",gripColor:"#ffffff",background:a,thumbHoverColor:"#BFBFBF",selectedRegionColor:e.series.length?"transparent":"#FFD939",tooltipBackground:"#ffffff",tooltipFontColor:"#000000",thumbWidth:i,thumbHeight:s};break;case"Highcontrast":case"HighContrast":l={gridLineColor:o,axisLineColor:r,labelFontColor:"#DADADA",unselectedRectColor:e.series.length?"rgba(43, 43, 43, 0.6)":"#514F4F",thumpLineColor:"#969696",thumbBackground:"#333232",gripColor:"#DADADA",background:"#000000",thumbHoverColor:"#BFBFBF",selectedRegionColor:e.series.length?"rgba(22, 22, 22, 0.6)":"#FFD939",tooltipBackground:"#F4F4F4",tooltipFontColor:"#282727",thumbWidth:i,thumbHeight:s};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":l={labelFontColor:"#DADADA",axisLineColor:" #6F6C6C",gridLineColor:"#414040",tooltipBackground:"#F4F4F4",tooltipFontColor:"#333232",unselectedRectColor:e.series.length?"rgba(43, 43, 43, 0.6)":"#514F4F",thumpLineColor:"#969696",thumbBackground:"#333232",gripColor:"#DADADA",background:a,thumbHoverColor:"#BFBFBF",selectedRegionColor:e.series.length?"rgba(22, 22, 22, 0.6)":"FabricDark"===n?"#007897":"BootstrapDark"===n?"#428BCA":"#FF4081",thumbWidth:i,thumbHeight:s};break;case"Bootstrap4":l={gridLineColor:"#E0E0E0",axisLineColor:"#CED4DA",labelFontColor:"#212529",unselectedRectColor:e.series.length?"rgba(255, 255, 255, 0.6)":"#514F4F",thumpLineColor:"rgba(189, 189, 189, 1)",thumbBackground:"#FFFFFF",gripColor:"#495057",background:"rgba(255, 255, 255, 0.6)",thumbHoverColor:"#EEEEEE",selectedRegionColor:e.series.length?"transparent":"#FFD939",tooltipBackground:"rgba(0, 0, 0, 0.9)",tooltipFontColor:"rgba(255, 255, 255)",thumbWidth:i,thumbHeight:s};break;case"Tailwind":l={gridLineColor:"#E5E7EB",axisLineColor:"#D1D5DB",labelFontColor:"#6B7280",unselectedRectColor:e.series.length?"transparent":"#E5E7EB",thumpLineColor:"#9CA3AF",thumbBackground:"#FFFFFF",gripColor:"#6B7280",background:"rgba(255, 255, 255, 0.6)",thumbHoverColor:"#374151",selectedRegionColor:e.series.length?"rgba(79, 70, 229, 0.3)":"#4F46E5",tooltipBackground:"#111827",tooltipFontColor:"#F9FAFB",thumbWidth:i,thumbHeight:s};break;case"TailwindDark":l={gridLineColor:"#374151",axisLineColor:"#4B5563",labelFontColor:"#9CA3AF",unselectedRectColor:e.series.length?"transparent":"#4B5563",thumpLineColor:"#6B7280",thumbBackground:"#1F2937",gripColor:"#D1D5DB",background:"#1f2937",thumbHoverColor:"#E5E7EB",selectedRegionColor:e.series.length?"rgba(255, 255, 255, 0.6)":"#22D3EE",tooltipBackground:"#F9FAFB",tooltipFontColor:"#1F2937",thumbWidth:i,thumbHeight:s};break;case"Bootstrap5":l={gridLineColor:"#E5E7EB",axisLineColor:"#E5E7EB",labelFontColor:"#495057",unselectedRectColor:e.series.length?"transparent":"#E5E7EB",thumpLineColor:"#9CA3AF",thumbBackground:"#FFFFFF",gripColor:"#6C757D",background:"rgba(255, 255, 255, 0.0)",thumbHoverColor:"#374151",selectedRegionColor:e.series.length?"rgba(31, 41, 55, 0.1)":"#4F46E5",tooltipBackground:"#212529",tooltipFontColor:"#F9FAFB",thumbWidth:i,thumbHeight:s};break;case"Bootstrap5Dark":l={gridLineColor:"#343A40",axisLineColor:"#343A40",labelFontColor:"#CED4DA",unselectedRectColor:e.series.length?"transparent":"#E5E7EB",thumpLineColor:"#6C757D",thumbBackground:"#ADB5BD",gripColor:"#ADB5BD",background:"#212529",thumbHoverColor:"#374151",selectedRegionColor:e.series.length?"rgba(173, 181, 189, 0.1)":"#ADB5BD",tooltipBackground:"#E9ECEF",tooltipFontColor:"#212529",thumbWidth:i,thumbHeight:s};break;default:l.selectedRegionColor=e.series.length?"transparent":"#FF4081"}return l}(this.theme,this)}createRangeSvg(){this.removeSvg(),w2(this),this.renderChartBackground()}calculateBounds(){const e=this.enableGrouping?15:8,t=this.navigatorStyleSettings.thumb,i=Le("tempString",this.labelStyle).height,s=this.margin,r=!this.series.length,o=!this.disableRangeSelector&&r&&this.tooltip.enable?35:0;!this.periodSelectorModule&&this.periodSelectorSettings.periods.length&&!this.stockChart&&(this.periodSelectorModule=new O2(this));const a=this.periodSelectorModule;this.periodSelectorModule&&this.periodSelectorSettings.periods.length>0&&(a.periodSelectorSize={x:0,y:0,height:0,width:0},a.periodSelectorSize.width=this.availableSize.width,a.periodSelectorSize.height=this.periodSelectorSettings.height,a.periodSelectorSize.y="Bottom"===this.periodSelectorSettings.position?this.availableSize.height-a.periodSelectorSize.height:0);let h=0,c=0;if(this.stockChart&&this.stockChart.stockLegendModule&&this.stockChart.legendSettings.visible&&("Left"===this.stockChart.legendSettings.position?h+=this.stockChart.stockLegendModule.legendBounds.width:"Top"===this.stockChart.legendSettings.position&&(c+=this.stockChart.stockLegendModule.legendBounds.height)),this.bounds=new ce(this.themeStyle.thumbWidth/2+t.border.width+s.left+h,s.top+o+("Top"===this.periodSelectorSettings.position&&a?a.periodSelectorSize.y+a.periodSelectorSize.height:0)+c,this.availableSize.width-this.themeStyle.thumbWidth-2*t.border.width-s.left-s.right,this.availableSize.height-s.top-s.bottom-o-(a?a.periodSelectorSize.height:0)),this.bounds.height-=("Outside"===this.labelPosition||r?i+e:0)+("Outside"===this.tickPosition||r?this.majorTickLines.height:0),r){const u=this.enableGrouping?this.bounds.height-(i+e):this.bounds.height;this.bounds.y+=this.themeStyle.thumbHeight>u?(this.themeStyle.thumbHeight-u)/2:0}this.disableRangeSelector&&(this.bounds.y=0,this.bounds.height=this.periodSelectorSettings.periods.length>0?this.periodSelectorSettings.height:0)}renderChart(){this.chartSeries.renderSeries(this),this.rangeAxis.renderGridLines(),this.rangeAxis.renderAxisLabels(),this.chartSeries.appendSeriesElements(this),this.createSecondaryElement(),this.setSliderValue(),this.renderPeriodSelector(),this.renderSlider(),this.stockChart||this.element.appendChild(this.svgObject),this.trigger("loaded",{rangeNavigator:this}),this.rangeSlider.setSlider(this.startValue,this.endValue,!1,this.tooltip.enable&&"Always"===this.tooltip.displayMode)}renderPeriodSelector(){this.periodSelectorModule&&(this.periodSelectorModule.renderSelectorElement(this),this.periodSelectorModule.renderSelector())}createSecondaryElement(){if(this.tooltip.enable){const e=this.createElement("div");e.id=this.element.id+"_Secondary_Element",e.setAttribute("style","position: relative"),this.element.appendChild(e)}}renderSlider(){this.rangeSlider.render(this),this.rangeSlider.setSlider(this.startValue,this.endValue,!0,this.tooltip.enable&&"Always"===this.tooltip.displayMode)}removeSvg(){if(se(this.element.id+"_Secondary_Element")&&(Ue(se(this.element.id+"_Secondary_Element")),this.isReact&&this.clearTemplate()),this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&!this.stockChart&&Ue(this.svgObject)}}unWireEvents(){const t=T.touchMoveEvent,i=T.touchEndEvent,s=T.isPointer?"pointerleave":"mouseleave";S.remove(this.element,T.touchStartEvent,this.rangeOnMouseDown),S.remove(this.element,t,this.mouseMove),S.remove(this.element,i,this.mouseEnd),S.remove(this.element,"click",this.rangeOnMouseClick),S.remove(this.element,s,this.mouseLeave),window.removeEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.rangeResize)}wireEvents(){const e=T.isPointer?"pointerleave":"mouseleave";S.add(this.element,T.touchStartEvent,this.rangeOnMouseDown,this),S.add(this.element,T.touchMoveEvent,this.mouseMove,this),S.add(this.element,T.touchEndEvent,this.mouseEnd,this),S.add(this.element,"click",this.rangeOnMouseClick,this),S.add(this.element,e,this.mouseLeave,this),window.addEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.rangeResize.bind(this));const t=this.element;t.style.touchAction="none",t.style.msTouchAction="none",t.style.msContentZooming="none",t.style.msUserSelect="none",t.style.webkitUserSelect="none",t.style.position="relative",t.style.display="block"}rangeResize(){if(!document.getElementById(this.element.id))return!1;this.animateSeries=!1,this.removeAllTooltip(),this.resizeTo&&clearTimeout(this.resizeTo);const e={rangeNavigator:this,name:"resized",currentSize:new xt(0,0),previousSize:new xt(this.availableSize.width,this.availableSize.height)};return this.resizeTo=+setTimeout(()=>{this.isDestroyed?clearTimeout(this.resizeTo):(this.createRangeSvg(),e.currentSize=this.availableSize,this.trigger("resized",e),this.calculateBounds(),this.chartSeries.processXAxis(this),this.chartSeries.calculateGroupingBounds(this),this.chartSeries.processYAxis(this),this.renderChart())},500),!1}removeAllTooltip(){this.tooltip.enable&&"Always"===this.tooltip.displayMode&&(se(this.element.id+"_leftTooltip")&&Ue(se(this.element.id+"_leftTooltip")),se(this.element.id+"_rightTooltip")&&Ue(se(this.element.id+"_rightTooltip")))}mouseMove(e){return se(this.stockChart?this.element.id:this.element.id+"_svg")&&(this.mouseX=this.setMouseX(e),this.notify(T.touchMoveEvent,e)),!1}mouseLeave(e){const t=this.rangeSlider;if(t.isDrag){const s=t.control.tooltip.enable;t.control.allowSnapping&&(t.isDrag=!1,t.setAllowSnapping(t.control,t.currentStart,t.currentEnd,!1,s)),t.triggerEvent(this.chartSeries.xAxis.actualRange)}const i=T.isPointer?"pointerleave":"mouseleave";return this.mouseX=this.setMouseX(e),this.notify(i,e),!1}rangeOnMouseClick(e){return this.notify("click",e),!1}print(e){new Kp(this).print(e)}export(e,t,i,s,r,o,a){s=s||[this],new Kp(this).export(e,t,i,s,r,o,a)}renderChartBackground(){let e=0,t=0;this.stockChart&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&("Top"===this.stockChart.legendSettings.position?e+=this.stockChart.stockLegendModule.legendBounds.height:"Left"===this.stockChart.legendSettings.position&&(t+=this.stockChart.stockLegendModule.legendBounds.width));const i=new us(this.element.id+"_ChartBorder",this.background||this.themeStyle.background,{width:0,color:"transparent"},1,new ce(t,e,this.availableSize.width,this.availableSize.height));this.svgObject.appendChild(this.renderer.drawRectangle(i))}rangeOnMouseDown(e){return this.mouseDownX=this.setMouseX(e),this.notify(T.touchStartEvent,e),!1}mouseEnd(e){return this.mouseX=this.setMouseX(e),this.notify(T.touchEndEvent,e),!1}setMouseX(e){const t=e.type.indexOf("touch")>-1?e.changedTouches[0].clientX:e.clientX,i=this.element.getBoundingClientRect(),s=this.stockChart?se(this.element.id).getBoundingClientRect():se(this.element.id+"_svg").getBoundingClientRect();return t-i.left-Math.max(s.left-i.left,0)}getPersistData(){return this.addOnPersist(["loaded"])}onPropertyChanged(e,t){let i=!1,s=!1,r=!1;this.animateSeries=!1;for(const o of Object.keys(e))switch(o){case"width":case"height":case"navigatorBorder":case"enableGrouping":case"labelPosition":case"tickPosition":case"labelStyle":s=!0;break;case"enableRtl":case"xName":case"yName":case"query":case"minimum":case"maximum":case"interval":case"intervalType":case"logBase":case"valueType":case"majorGridLines":case"minorGridLines":case"navigatorStyleSettings":case"labelFormat":case"skeleton":case"skeletonType":case"secondaryLabelAlignment":case"background":i=!0;break;case"dataSource":case"series":i=!0,s=!0;break;case"theme":this.animateSeries=!0;break;case"locale":super.refresh();break;case"value":this.startValue=null,this.endValue=null,r=!0}!s&&i&&(this.removeSvg(),this.chartSeries.xMin=1/0,this.chartSeries.xMax=-1/0,this.chartSeries.renderChart(this)),s&&i&&(this.removeSvg(),this.chartSeries.xMin=this.chartSeries.yMin=1/0,this.chartSeries.xMax=this.chartSeries.yMax=-1/0,this.calculateBounds(),this.chartSeries.renderChart(this)),s&&!i&&(this.removeSvg(),this.calculateBounds(),this.chartSeries.renderChart(this)),!s&&!i&&r&&(this.setSliderValue(),this.rangeSlider.setSlider(this.startValue,this.endValue,!0,this.tooltip.enable&&"Always"===this.tooltip.displayMode))}requiredModules(){const e=[];return this.series.map(t=>{e.push({member:t.type+"Series",args:[this]})}),this.periodSelectorSettings.periods.length>0&&e.push({member:"PeriodSelector",args:[this]}),"Double"!==this.valueType&&e.push({member:this.valueType,args:[this]}),this.tooltip.enable&&e.push({member:"RangeTooltip",args:[this]}),e}getModuleName(){return"rangeNavigator"}destroy(){this.unWireEvents(),this.isReact&&this.clearTemplate(),this.rangeSlider.destroy(),super.destroy(),this.element.innerHTML="",this.element.classList.remove("e-rangenavigator")}};ci([g(null)],Gt.prototype,"width",void 0),ci([g(null)],Gt.prototype,"height",void 0),ci([g(null)],Gt.prototype,"dataSource",void 0),ci([g(null)],Gt.prototype,"xName",void 0),ci([g(null)],Gt.prototype,"yName",void 0),ci([g()],Gt.prototype,"query",void 0),ci([Di([],xh)],Gt.prototype,"series",void 0),ci([U({},ku)],Gt.prototype,"tooltip",void 0),ci([g(null)],Gt.prototype,"minimum",void 0),ci([g(null)],Gt.prototype,"maximum",void 0),ci([g(null)],Gt.prototype,"interval",void 0),ci([g("Auto")],Gt.prototype,"intervalType",void 0),ci([g("Hide")],Gt.prototype,"labelIntersectAction",void 0),ci([g(10)],Gt.prototype,"logBase",void 0),ci([g("Double")],Gt.prototype,"valueType",void 0),ci([g("Outside")],Gt.prototype,"labelPosition",void 0),ci([g(500)],Gt.prototype,"animationDuration",void 0),ci([g(!1)],Gt.prototype,"enableGrouping",void 0),ci([g(!1)],Gt.prototype,"enableDeferredUpdate",void 0),ci([g(!1)],Gt.prototype,"disableRangeSelector",void 0),ci([g(!1)],Gt.prototype,"allowSnapping",void 0),ci([g(!1)],Gt.prototype,"allowIntervalData",void 0),ci([g(!1)],Gt.prototype,"useGroupingSeparator",void 0),ci([g()],Gt.prototype,"groupBy",void 0),ci([g("Outside")],Gt.prototype,"tickPosition",void 0),ci([U(Nw.axisLabelFont,ir)],Gt.prototype,"labelStyle",void 0),ci([U({},wb)],Gt.prototype,"majorGridLines",void 0),ci([U({},Sb)],Gt.prototype,"majorTickLines",void 0),ci([U({},hD)],Gt.prototype,"navigatorStyleSettings",void 0),ci([U({},z1)],Gt.prototype,"periodSelectorSettings",void 0),ci([U({color:"#DDDDDD",width:1},Yn)],Gt.prototype,"navigatorBorder",void 0),ci([g("Material")],Gt.prototype,"theme",void 0),ci([g([])],Gt.prototype,"value",void 0),ci([g(null)],Gt.prototype,"background",void 0),ci([g("")],Gt.prototype,"labelFormat",void 0),ci([g("")],Gt.prototype,"skeleton",void 0),ci([g("DateTime")],Gt.prototype,"skeletonType",void 0),ci([g("Middle")],Gt.prototype,"secondaryLabelAlignment",void 0),ci([U({top:5,bottom:5,right:5,left:5},Cc)],Gt.prototype,"margin",void 0),ci([F()],Gt.prototype,"load",void 0),ci([F()],Gt.prototype,"loaded",void 0),ci([F()],Gt.prototype,"resized",void 0),ci([F()],Gt.prototype,"labelRender",void 0),ci([F()],Gt.prototype,"changed",void 0),ci([F()],Gt.prototype,"tooltipRender",void 0),ci([F()],Gt.prototype,"selectorRender",void 0),ci([F()],Gt.prototype,"beforePrint",void 0),Gt=ci([ii],Gt);class NSe{constructor(e){this.stockChart=e}initializeChart(e){const t=this.stockChart,i="isProtectedOnChange";if(t[i]=!0,t.chartObject){const s=document.getElementById(t.chartObject.id);for(;s.firstChild;)s.removeChild(s.firstChild);se(t.chartObject+"_tooltip")&&Ue(se(t.chartObject+"_tooltip"))}else t.chartObject=t.renderer.createGroup({id:t.element.id+"_stockChart_chart"}),t.mainObject.appendChild(t.chartObject);if(this.cartesianChartSize=this.calculateChartSize(),t.chart=new D2({chartArea:t.chartArea,margin:this.findMargin(t),primaryXAxis:this.copyObject(t.primaryXAxis),primaryYAxis:this.copyObject(t.primaryYAxis),rows:t.rows,indicators:t.indicators,axes:t.axes,tooltipRender:s=>{this.stockChart.trigger("tooltipRender",s)},axisLabelRender:s=>{this.stockChart.trigger("axisLabelRender",s)},seriesRender:s=>{s.data&&this.stockChart.startValue&&this.stockChart.endValue&&(s.data=s.data.filter(r=>new Date(Date.parse(r[s.series.xName])).getTime()>=this.stockChart.startValue&&new Date(Date.parse(r[s.series.xName])).getTime()<=this.stockChart.endValue)),s.data=e||s.data,this.stockChart.trigger("seriesRender",s)},onZooming:s=>{this.stockChart.trigger(ol,s)},pointClick:s=>{this.stockChart.trigger("pointClick",s)},pointMove:s=>{this.stockChart.trigger("pointMove",s)},dataSource:t.dataSource,series:this.findSeriesCollection(t.series),zoomSettings:this.copyObject(t.zoomSettings),tooltip:t.tooltip,crosshair:t.crosshair,height:this.cartesianChartSize.height.toString(),selectedDataIndexes:t.selectedDataIndexes,selectionMode:t.selectionMode,isMultiSelect:t.isMultiSelect,annotations:t.annotations,theme:t.theme,legendSettings:{visible:!1},zoomComplete:s=>{if("DateTime"===s.axis.valueType&&t.rangeNavigator){this.stockChart.zoomChange=!0;const r=this.calculateUpdatedRange(s.currentZoomFactor,s.currentZoomPosition,s.axis);t.rangeSelector.sliderChange(r.start,r.end)}}}),0!==t.indicators.length){if(t.isSelect)for(let s=0;s<t.indicators.length;s++)t.chart.indicators[s].animation.enable=!1,t.chart.indicators[s].dataSource=fe([],t.chart.series[0].dataSource,null,!0);t.isSelect=!0}t.chart.stockChart=t,t.chart.appendTo(t.chartObject),t[i]=!1}findMargin(e){const t={};return t.top=e.stockLegendModule&&e.legendSettings.visible&&"Top"===e.legendSettings.position?e.margin.top:2*e.margin.top,t.left=e.margin.left,t.right=e.margin.right,t.bottom=e.margin.bottom,t}findSeriesCollection(e){const t=[];for(let i=0,s=e.length;i<s;i++)t.push(e[i]),t[i].high=e[i].high,t[i].low=e[i].low,t[i].open=e[i].open,t[i].close=e[i].close,t[i].xName=e[i].xName,t[i].volume=e[i].volume,t[i].animation=e[i].animation,e[i].localData&&(t[i].dataSource=e[i].localData),t[i].yName=""===e[i].yName?e[i].close:e[i].yName;return t}calculateChartSize(){const e=this.stockChart;return new xt(e.availableSize.width,e.enablePeriodSelector&&e.enableSelector?e.availableSize.height-e.toolbarHeight-80:e.enableSelector&&!e.enablePeriodSelector?e.availableSize.height-80:e.enablePeriodSelector&&!e.enableSelector?e.availableSize.height-e.toolbarHeight:e.availableSize.height)}calculateUpdatedRange(e,t,i){let s,r;const o=i.actualRange;return s=o.min+t*o.delta,r=s+e*o.delta,{start:s,end:r}}cartesianChartRefresh(e,t){e.cartesianChart.initializeChart(t)}copyObject(e){return fe({},e,{},!0)}}class BSe{constructor(e){this.stockChart=e}initializeRangeNavigator(){const e=this.stockChart;if(e.selectorObject){const t=document.getElementById(e.selectorObject.id);for(;t.firstChild;)t.removeChild(t.firstChild);se(e.selectorObject.id+"_leftTooltip")&&Ue(se(e.selectorObject.id+"_leftTooltip")),se(e.selectorObject.id+"_rightTooltip")&&Ue(se(e.selectorObject.id+"_rightTooltip"))}else e.selectorObject=e.renderer.createGroup({id:e.element.id+"_stockChart_rangeSelector",transform:"translate(0,"+e.cartesianChart.cartesianChartSize.height+")"}),e.mainObject.appendChild(e.selectorObject);e.rangeNavigator=new Gt({locale:"en",valueType:e.primaryXAxis.valueType,theme:this.stockChart.theme,series:this.findSeriesCollection(e.series),height:this.calculateChartSize().height.toString(),value:[new Date(e.startValue),new Date(e.endValue)],margin:this.findMargin(),tooltip:{enable:e.tooltip.enable,displayMode:"Always"},dataSource:e.dataSource,changed:t=>{const i={name:"rangeChange",end:t.end,selectedData:t.selectedData,start:t.start,zoomFactor:t.zoomFactor,zoomPosition:t.zoomPosition,data:void 0};this.stockChart.trigger("rangeChange",i),this.stockChart.startValue=t.start,this.stockChart.endValue=t.end,this.stockChart.zoomChange||this.stockChart.cartesianChart.cartesianChartRefresh(this.stockChart,i.data),e.periodSelector&&e.periodSelector.datePicker&&(e.periodSelector.datePicker.startDate=new Date(t.start),e.periodSelector.datePicker.endDate=new Date(t.end),e.periodSelector.datePicker.dataBind())}}),e.rangeNavigator.stockChart=e,e.rangeNavigator.appendTo(e.selectorObject)}findMargin(){return{top:5,left:0,right:0,bottom:0}}findSeriesCollection(e){const t=[];for(let i=0,s=e.length;i<s;i++)t.push(e[i]),t[i].xName=e[i].xName,t[i].yName=""===e[i].yName?e[i].close:e[i].yName;return t}calculateChartSize(){const e=this.stockChart;return new xt(e.availableSize.width,e.enableSelector?80:0)}sliderChange(e,t){this.stockChart.rangeNavigator.rangeSlider.performAnimation(e,t,this.stockChart.rangeNavigator,0)}}class VSe{constructor(e){this.selectedSeries="",this.selectedIndicator="",this.selectedTrendLine="",this.indicators=[],this.secondayIndicators=[],this.stockChart=e,this.selectedSeries=this.stockChart.series[0].type}initializePeriodSelector(){this.stockChart.periods=this.stockChart.tempPeriods,this.stockChart.periodSelector.rootControl=this.stockChart;const t=this.stockChart.chart.chartAxisLayoutPanel.seriesClipRect,i=se(this.stockChart.element.id+"_Secondary_Element");this.stockChart.periodSelector.appendSelector({thumbSize:0,element:i,width:t.width,height:this.stockChart.toolbarHeight},t.x),this.initializeSeriesSelector(),this.initializeIndicatorSelector(),this.initializeTrendlineSelector(),this.exportButton(),this.printButton(),this.resetButton()}getDropDownItems(e){const t=[];if(e===this.stockChart.seriesType){for(let i=0;i<e.length;i++)t.push({text:"&nbsp;&nbsp;&nbsp;"+e[i].toString()});for(let i=0;i<this.stockChart.series.length;i++)for(let s=0;s<t.length;s++){let r=t[s].text.replace("&nbsp;&nbsp;&nbsp;","");r="OHLC"===r?"HiloOpenClose":r,r===this.stockChart.series[i].type&&(t[s].text=t[s].text.replace("&nbsp;&nbsp;&nbsp;","&#10004&nbsp;"))}}else if(e===this.stockChart.exportType)for(let i=0;i<e.length;i++)t.push({text:e[i].toString()});else for(let i=0;i<e.length;i++)"Print"!==e[i].toString()&&t.push({text:"&nbsp;&nbsp;&nbsp;"+e[i].toString()});return t}addedSeries(e){const t=this.stockChart.series;for(let i=0;i<t.length;i++)if("volume"!==t[i].yName){t[i].type=e.indexOf("Candle")>-1?"Candle":e.indexOf("OHLC")>-1?"HiloOpenClose":e,t[i].enableSolidCandles="Candle"===e;for(let s=0;s<t[i].trendlines.length;s++){const r=t[i].trendlines[s];r.animation.enable=!1,r.enableTooltip=!1}}}initializeSeriesSelector(){new Qn({items:this.getDropDownItems(this.stockChart.seriesType),select:t=>{this.selectedSeries=t.item.text;const i=this.tickMark(t);this.addedSeries(i),this.stockChart.cartesianChart.initializeChart(),this.stockChart.stockLegendModule&&this.stockChart.stockLegendModule.legendCollections.length&&this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule.renderLegend(this.stockChart,this.stockChart.legendSettings,this.stockChart.stockLegendModule.legendBounds)}}).appendTo("#"+this.stockChart.element.id+"_seriesType")}resetButton(){const e="isProtectedOnChange";this.stockChart[e]=!0,(new uh).appendTo("#"+this.stockChart.element.id+"_reset"),document.getElementById(this.stockChart.element.id+"_reset").onclick=()=>{let i=this.indicators.length;for(;i;)this.stockChart.indicators.pop(),i--;this.indicators=[],this.secondayIndicators=[],this.stockChart.isSingleAxis?this.stockChart.rows=[{}]:(this.stockChart.rows.length>2&&this.stockChart.rows.splice(2,this.stockChart.rows.length-1),this.stockChart.axes.length>2&&(this.stockChart.axes.splice(1,this.stockChart.axes.length-1),this.stockChart.axes[0].rowIndex=1));for(let s=0;s<this.stockChart.series.length;s++)"volume"!==this.stockChart.series[s].yName&&(this.stockChart.series[s].type=this.stockChart.tempSeriesType[s],0!==this.stockChart.series[s].trendlines.length&&(this.stockChart.series[s].trendlines[0].width=0));this.stockChart.indicatorElements=null,this.stockChart.resizeTo=null,this.stockChart.zoomChange=!1,this.stockChart.refresh(),this.stockChart[e]=!0}}initializeTrendlineSelector(){this.trendlineDropDown=new Qn({items:this.stockChart.resizeTo?this.trendlineDropDown.items:this.getDropDownItems(this.stockChart.trendlineType),select:e=>{let t=this.tickMark(e);t=t.split(" ")[0].toLocaleLowerCase()+(t.split(" ")[1]?t.split(" ")[1]:""),t=t.substr(0,1).toUpperCase()+t.substr(1);const i=t;if(this.selectedTrendLine=""===this.selectedTrendLine?i:this.selectedTrendLine+","+i,this.trendline!==i){this.trendline=i;for(let s=0;s<this.stockChart.series.length;s++)if("volume"!==this.stockChart.series[s].yName)if(0===this.stockChart.series[0].trendlines.length){let r;this.stockChart.trendlinetriggered&&(r=[{type:i,width:1,enableTooltip:!1}],this.stockChart.trendlinetriggered=!1),this.stockChart.series[0].trendlines=r}else this.stockChart.series[0].trendlines[0].width=1,this.stockChart.series[0].trendlines[0].type=i,this.stockChart.series[0].trendlines[0].animation.enable=!!this.stockChart.trendlinetriggered;this.stockChart.cartesianChart.initializeChart()}else e.item.text="&nbsp;&nbsp;&nbsp;"+e.item.text.replace("&#10004&nbsp;",""),this.stockChart.series[0].trendlines[0].width=0,this.trendline=null,this.stockChart.cartesianChart.initializeChart()}}),this.trendlineDropDown.appendTo("#"+this.stockChart.element.id+"_trendType")}initializeIndicatorSelector(){this.indicatorDropDown=new Qn({items:this.stockChart.resizeTo?this.indicatorDropDown.items:this.getDropDownItems(this.stockChart.indicatorType),select:e=>{for(let s=0;s<this.stockChart.series.length;s++)0!==this.stockChart.series[s].trendlines.length&&(this.stockChart.series[s].trendlines[0].animation.enable=!1);e.item.text=e.item.text.indexOf("&#10004&nbsp;")>=0?e.item.text.substr(e.item.text.indexOf(";")+1):e.item.text;let t=e.item.text.replace("&nbsp;&nbsp;&nbsp;","");t=t.split(" ")[0].toLocaleLowerCase()+(t.split(" ")[1]?t.split(" ")[1]:""),t=t.substr(0,1).toUpperCase()+t.substr(1);const i=t;if(this.selectedIndicator=-1===this.selectedIndicator.indexOf(i)?this.selectedIndicator+" "+i:this.selectedIndicator.replace(i,""),"Tma"===i||"BollingerBands"===i||"Sma"===i||"Ema"===i)if(-1===this.indicators.indexOf(i)){e.item.text="&#10004&nbsp;"+e.item.text.replace("&nbsp;&nbsp;&nbsp;","");const s=this.getIndicator(i,this.stockChart.series[0].yAxisName);this.indicators.push(i),this.stockChart.indicators=this.stockChart.indicators.concat(s),this.stockChart.cartesianChart.initializeChart()}else{e.item.text="&nbsp;&nbsp;&nbsp;"+e.item.text;for(let s=0;s<this.stockChart.indicators.length;s++)this.stockChart.indicators[s].type===i&&this.stockChart.indicators.splice(s,1);this.indicators.splice(this.indicators.indexOf(i),1),this.stockChart.cartesianChart.initializeChart()}else this.createIndicatorAxes(i,e)}}),this.indicatorDropDown.appendTo("#"+this.stockChart.element.id+"_indicatorType")}getIndicator(e,t){const i=this.stockChart.series[0];return[{type:e,period:3,yAxisName:t,dataSource:i.localData,xName:i.xName,open:i.open,close:i.close,high:i.high,low:i.low,volume:i.volume,fill:"Sma"===e?"#32CD32":"#6063ff",animation:{enable:!1},upperLine:{color:"#FFE200",width:1},periodLine:{width:2},lowerLine:{color:"#FAA512",width:1},fastPeriod:8,slowPeriod:5,macdType:"Both",width:1,macdPositiveColor:"#6EC992",macdNegativeColor:"#FF817F",bandColor:"rgba(245, 203, 35, 0.12)"}]}createIndicatorAxes(e,t){if(-1===this.indicators.indexOf(e)){t.item.text="&#10004&nbsp;"+t.item.text.replace("&nbsp;&nbsp;&nbsp;",""),this.indicators.push(e);const i=this.stockChart.rows.length;this.stockChart.rows[this.stockChart.rows.length-1].height="15%";const s=[{height:100-15*i+"px"}];if(1===this.stockChart.rows.length&&(this.stockChart.isSingleAxis=!0),this.stockChart.rows=this.stockChart.rows.concat(s),this.stockChart.isSingleAxis)for(let a=0;a<this.stockChart.axes.length;a++)this.stockChart.axes[a].rowIndex+=1;else this.stockChart.axes[0].rowIndex+=1;const r=[{plotOffset:10,opposedPosition:!0,rowIndex:this.stockChart.isSingleAxis?0:this.stockChart.axes.length,desiredIntervals:1,labelFormat:"n2",majorGridLines:this.stockChart.primaryYAxis.majorGridLines,lineStyle:this.stockChart.primaryYAxis.lineStyle,labelPosition:this.stockChart.primaryYAxis.labelPosition,majorTickLines:this.stockChart.primaryYAxis.majorTickLines,rangePadding:"None",name:e.toString()}];this.stockChart.axes=this.stockChart.axes.concat(r),this.stockChart.primaryYAxis.rowIndex=this.stockChart.isSingleAxis?i+1:0;const o=this.getIndicator(e,e.toString());this.stockChart.indicators=this.stockChart.indicators.concat(o),this.stockChart.cartesianChart.initializeChart()}else{t.item.text="&nbsp;&nbsp;&nbsp;"+t.item.text;for(let s=0;s<this.stockChart.indicators.length;s++)this.stockChart.indicators[s].type===e&&this.stockChart.indicators.splice(s,1);this.indicators.splice(this.indicators.indexOf(e),1);let i=0;for(let s=0;s<this.stockChart.axes.length;s++)this.stockChart.axes[s].name===e&&(i=this.stockChart.axes[s].rowIndex,this.stockChart.rows.splice(s,1),this.stockChart.axes.splice(s,1));for(let s=0;s<this.stockChart.axes.length;s++)0!==this.stockChart.axes[s].rowIndex&&this.stockChart.axes[s].rowIndex>i&&(this.stockChart.axes[s].rowIndex=this.stockChart.axes[s].rowIndex-1);this.stockChart.cartesianChart.initializeChart()}}tickMark(e){let t;const i=e.item.parentObj.items;for(let s=0;s<i.length;s++)i[s].text=i[s].text.indexOf("&#10004&nbsp;")>=0?i[s].text.substr(i[s].text.indexOf(";")+1):i[s].text,i[s].text.indexOf("&nbsp;&nbsp;&nbsp;")>=0||(i[s].text="&nbsp;&nbsp;&nbsp;"+i[s].text);return e.item.text.indexOf("&nbsp;&nbsp;&nbsp;")>=0?(t=e.item.text.replace("&nbsp;&nbsp;&nbsp;",""),e.item.text=e.item.text.replace("&nbsp;&nbsp;&nbsp;","&#10004&nbsp;")):t=e.item.text.replace("&#10004&nbsp;",""),t}printButton(){this.stockChart.exportType.indexOf("Print")>-1&&((new uh).appendTo("#"+this.stockChart.element.id+"_print"),document.getElementById(this.stockChart.element.id+"_print").onclick=()=>{this.stockChart.chart.print(this.stockChart.element.id)})}exportButton(){new Qn({items:this.getDropDownItems(this.stockChart.exportType),select:t=>{const i=t.item.text,s=this.stockChart,r=s.element.id+"_stockChart_";let o;const a=s.svgObject.getBoundingClientRect();s.chart.exportModule&&(this.stockChart.svgObject.insertAdjacentElement("afterbegin",this.addExportSettings()),o=s.svgObject.firstElementChild.getBoundingClientRect(),this.stockChart.svgObject.setAttribute("height",(a.height+o.height).toString()),se(r+"chart").style.transform="translateY("+o.height+"px)",s.enableSelector&&se(r+"rangeSelector").setAttribute("transform","translate(0,"+(s.cartesianChart.cartesianChartSize.height+o.height)+")"),this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&(se(s.element.id+"_chart_legend_g").style.transform="translateY("+o.height+"px)"),s.chart.exportModule.export(i,"StockChart",null,[s],null,s.svgObject.clientHeight),Ue(se(this.stockChart.element.id+"_additionalExport")),se(r+"chart").style.transform="translateY(0px)",s.enableSelector&&se(r+"rangeSelector").setAttribute("transform","translate(0,"+s.cartesianChart.cartesianChartSize.height+")"),this.stockChart.legendSettings.visible&&this.stockChart.stockLegendModule&&(se(s.element.id+"_chart_legend_g").style.transform="translateY(0px)"),this.stockChart.svgObject.setAttribute("height",a.height.toString()))}}).appendTo("#"+this.stockChart.element.id+"_export")}calculateAutoPeriods(){let e=[];return e=this.findRange(this.stockChart.seriesXMin,this.stockChart.seriesXMax),e.push({text:"YTD",selected:!0},{text:"All"}),e}findRange(e,t){const i=[];return(t-e)/3154e7>=1?i.push({text:"1M",interval:1,intervalType:"Months"},{text:"3M",interval:3,intervalType:"Months"},{text:"6M",interval:6,intervalType:"Months"},{text:"1Y",interval:1,intervalType:"Years"}):(t-e)/1577e7>=1?i.push({text:"1M",interval:1,intervalType:"Months"},{text:"3M",interval:3,intervalType:"Months"},{text:"6M",interval:6,intervalType:"Months"}):(t-e)/2628e6>=1?i.push({text:"1D",interval:1,intervalType:"Days"},{text:"3W",interval:3,intervalType:"Weeks"},{text:"1M",interval:1,intervalType:"Months"}):(t-e)/864e5>=1&&i.push({text:"1H",interval:1,intervalType:"Hours"},{text:"12H",interval:12,intervalType:"Hours"},{text:"1D",interval:1,intervalType:"Days"}),i}addExportSettings(){const e=this.stockChart.renderer.createGroup({id:this.stockChart.element.id+"_additionalExport",width:this.stockChart.availableSize.width}),t=Le(this.stockChart.title,this.stockChart.titleStyle).height,i=new bs(e.id+"_Title",Am(new ce(0,0,this.stockChart.availableSize.width,0),this.stockChart.titleStyle),0,"middle",this.stockChart.title,"","text-before-edge");Os(this.stockChart.renderer,i,this.stockChart.titleStyle,this.stockChart.titleStyle.color,e);const s={size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"};let r=Le("Series: "+this.selectedSeries,s).width/2;const o=t;return this.textElementSpan(new bs(e.id+"_Series",r,o,"start",["Series : ",this.selectedSeries],"","text-before-edge"),s,"black",e),r+=Le("Series: "+this.selectedSeries+" Z",s).width,""!==this.selectedIndicator&&(this.textElementSpan(new bs(e.id+"_Indicator",r,o,"start",["Indicator :",this.selectedIndicator],"","text-before-edge"),s,"black",e),r+=Le("Indicator: "+this.selectedIndicator+" Z",s).width),""!==this.selectedTrendLine&&this.textElementSpan(new bs(e.id+"_TrendLine",r,o,"start",["Trendline :",this.selectedTrendLine],"","text-before-edge"),s,"black",e),e}textElementSpan(e,t,i,s,r=!1,o,a,l=!1,h){const c=new jo("");let u,d={};d={id:e.id,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-weight":t.fontWeight,"text-anchor":e.anchor,x:e.x,y:e.y,fill:i,"font-size":t.size,transform:e.transform,opacity:t.opacity,"dominant-baseline":e.baseLine};const p="string"==typeof e.text?e.text:r?e.text[e.text.length-1]:e.text[0],m=c.createText(d,p);if("string"!=typeof e.text&&e.text.length>1)for(let y=1,b=e.text.length;y<b;y++)e.text[y]=" "+e.text[y],u=c.createTSpan({x:e.x+Le(p,t).width+5,id:e.id,y:e.y,opacity:.5},e.text[y]),m.appendChild(u);return lt(!1,s,m,o,a,"x","y",null,null,l,!1,null,h),m}}var Z=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class qa extends he{}Z([g("")],qa.prototype,"color",void 0),Z([g("16px")],qa.prototype,"size",void 0),Z([g("Segoe UI")],qa.prototype,"fontFamily",void 0),Z([g("Normal")],qa.prototype,"fontStyle",void 0),Z([g("Normal")],qa.prototype,"fontWeight",void 0),Z([g(1)],qa.prototype,"opacity",void 0),Z([g("Trim")],qa.prototype,"textOverflow",void 0),Z([g("Center")],qa.prototype,"textAlignment",void 0);class Sd extends he{}Z([g("")],Sd.prototype,"color",void 0),Z([g(1)],Sd.prototype,"width",void 0);class cD extends he{}Z([U({},Sd)],cD.prototype,"border",void 0),Z([g("transparent")],cD.prototype,"background",void 0),Z([g(1)],cD.prototype,"opacity",void 0);class Tb extends he{}Z([g(10)],Tb.prototype,"left",void 0),Z([g(10)],Tb.prototype,"right",void 0),Z([g(10)],Tb.prototype,"top",void 0),Z([g(10)],Tb.prototype,"bottom",void 0);class nr extends he{}Z([g(!1)],nr.prototype,"startFromAxis",void 0),Z([g(!0)],nr.prototype,"visible",void 0),Z([g(null)],nr.prototype,"start",void 0),Z([g("#808080")],nr.prototype,"color",void 0),Z([g(null)],nr.prototype,"end",void 0),Z([g(null)],nr.prototype,"size",void 0),Z([g("Auto")],nr.prototype,"sizeType",void 0),Z([g(null)],nr.prototype,"dashArray",void 0),Z([g(!1)],nr.prototype,"isRepeat",void 0),Z([g(null)],nr.prototype,"repeatEvery",void 0),Z([g(!1)],nr.prototype,"isSegmented",void 0),Z([g(null)],nr.prototype,"repeatUntil",void 0),Z([g(null)],nr.prototype,"segmentStart",void 0),Z([g(null)],nr.prototype,"segmentAxisName",void 0),Z([g(null)],nr.prototype,"segmentEnd",void 0),Z([g(1)],nr.prototype,"opacity",void 0),Z([g("")],nr.prototype,"text",void 0),Z([U({color:"transparent",width:1},Sd)],nr.prototype,"border",void 0),Z([g(null)],nr.prototype,"rotation",void 0),Z([g("Behind")],nr.prototype,"zIndex",void 0),Z([g("Middle")],nr.prototype,"horizontalAlignment",void 0),Z([g("Middle")],nr.prototype,"verticalAlignment",void 0),Z([U(Fr.stripLineLabelFont,qa)],nr.prototype,"textStyle",void 0);class Lb extends he{}Z([g(0)],Lb.prototype,"delay",void 0),Z([g(!1)],Lb.prototype,"enable",void 0),Z([g(1e3)],Lb.prototype,"duration",void 0);class dD extends he{}Z([g(null)],dD.prototype,"fill",void 0),Z([g("Gap")],dD.prototype,"mode",void 0),Z([U({color:"transparent",width:0},Sd)],dD.prototype,"border",void 0);class Au extends he{}Z([g("Line")],Au.prototype,"type",void 0),Z([g(null)],Au.prototype,"length",void 0),Z([g(null)],Au.prototype,"color",void 0),Z([g("")],Au.prototype,"dashArray",void 0),Z([g(1)],Au.prototype,"width",void 0);class ps extends he{constructor(){super(...arguments),this.localData=void 0}}Z([g("date")],ps.prototype,"xName",void 0),Z([g("close")],ps.prototype,"yName",void 0),Z([g("open")],ps.prototype,"open",void 0),Z([g("close")],ps.prototype,"close",void 0),Z([g("high")],ps.prototype,"high",void 0),Z([g("low")],ps.prototype,"low",void 0),Z([g("volume")],ps.prototype,"volume",void 0),Z([g("")],ps.prototype,"pointColorMapping",void 0),Z([g("SeriesType")],ps.prototype,"legendShape",void 0),Z([g("")],ps.prototype,"legendImageUrl",void 0),Z([U(null,Lb)],ps.prototype,"animation",void 0),Z([g(null)],ps.prototype,"xAxisName",void 0),Z([g(null)],ps.prototype,"yAxisName",void 0),Z([g(null)],ps.prototype,"fill",void 0),Z([g("0")],ps.prototype,"dashArray",void 0),Z([g(1)],ps.prototype,"width",void 0),Z([g("")],ps.prototype,"name",void 0),Z([g("")],ps.prototype,"dataSource",void 0),Z([g()],ps.prototype,"query",void 0),Z([g("#e74c3d")],ps.prototype,"bullFillColor",void 0),Z([g("#2ecd71")],ps.prototype,"bearFillColor",void 0),Z([g(!1)],ps.prototype,"enableSolidCandles",void 0),Z([g(!0)],ps.prototype,"visible",void 0),Z([U({color:"transparent",width:0},Sd)],ps.prototype,"border",void 0),Z([g(1)],ps.prototype,"opacity",void 0),Z([g("Candle")],ps.prototype,"type",void 0),Z([U(null,cl)],ps.prototype,"marker",void 0),Z([Di([],na)],ps.prototype,"trendlines",void 0),Z([g(!0)],ps.prototype,"enableTooltip",void 0),Z([g("")],ps.prototype,"tooltipMappingName",void 0),Z([g(null)],ps.prototype,"selectionStyle",void 0),Z([g(.5)],ps.prototype,"cardinalSplineTension",void 0),Z([U(null,mb)],ps.prototype,"cornerRadius",void 0),Z([U(null,dD)],ps.prototype,"emptyPointSettings",void 0),Z([g(null)],ps.prototype,"columnWidth",void 0),Z([g(0)],ps.prototype,"columnSpacing",void 0);class Ss extends he{}Z([g("Sma")],Ss.prototype,"type",void 0),Z([g(14)],Ss.prototype,"period",void 0),Z([g(3)],Ss.prototype,"dPeriod",void 0),Z([g(14)],Ss.prototype,"kPeriod",void 0),Z([g(80)],Ss.prototype,"overBought",void 0),Z([g(20)],Ss.prototype,"overSold",void 0),Z([g("Close")],Ss.prototype,"field",void 0),Z([g(2)],Ss.prototype,"standardDeviation",void 0),Z([g(12)],Ss.prototype,"slowPeriod",void 0),Z([g(!0)],Ss.prototype,"showZones",void 0),Z([g(26)],Ss.prototype,"fastPeriod",void 0),Z([U({color:"#ff9933",width:2},Au)],Ss.prototype,"macdLine",void 0),Z([g("Both")],Ss.prototype,"macdType",void 0),Z([g("#e74c3d")],Ss.prototype,"macdNegativeColor",void 0),Z([g("#2ecd71")],Ss.prototype,"macdPositiveColor",void 0),Z([g("rgba(211,211,211,0.25)")],Ss.prototype,"bandColor",void 0),Z([U({color:"#ffb735",width:1},Au)],Ss.prototype,"upperLine",void 0),Z([g("")],Ss.prototype,"seriesName",void 0),Z([U({color:"#f2ec2f",width:1},Au)],Ss.prototype,"periodLine",void 0),Z([U({color:"#f2ec2f",width:1},Au)],Ss.prototype,"lowerLine",void 0),Z([g("")],Ss.prototype,"high",void 0),Z([g("")],Ss.prototype,"open",void 0),Z([g("")],Ss.prototype,"low",void 0),Z([g("")],Ss.prototype,"xName",void 0),Z([g("")],Ss.prototype,"close",void 0),Z([g("")],Ss.prototype,"pointColorMapping",void 0),Z([g("")],Ss.prototype,"volume",void 0),Z([g(null)],Ss.prototype,"xAxisName",void 0),Z([g(null)],Ss.prototype,"yAxisName",void 0),Z([U(null,Lb)],Ss.prototype,"animation",void 0),Z([g(null)],Ss.prototype,"fill",void 0),Z([g("0")],Ss.prototype,"dashArray",void 0),Z([g(1)],Ss.prototype,"width",void 0),Z([g()],Ss.prototype,"query",void 0),Z([g("")],Ss.prototype,"dataSource",void 0);class ei extends he{}Z([U({},xw)],ei.prototype,"crosshairTooltip",void 0),Z([U(Fr.axisLabelFont,qa)],ei.prototype,"labelStyle",void 0),Z([g("")],ei.prototype,"title",void 0),Z([U(Fr.axisTitleFont,qa)],ei.prototype,"titleStyle",void 0),Z([g("")],ei.prototype,"labelFormat",void 0),Z([g("DateTime")],ei.prototype,"skeletonType",void 0),Z([g("")],ei.prototype,"skeleton",void 0),Z([g(0)],ei.prototype,"plotOffset",void 0),Z([g(10)],ei.prototype,"logBase",void 0),Z([g(0)],ei.prototype,"rowIndex",void 0),Z([g(1)],ei.prototype,"span",void 0),Z([g(3)],ei.prototype,"maximumLabels",void 0),Z([g(null)],ei.prototype,"desiredIntervals",void 0),Z([g(1)],ei.prototype,"zoomFactor",void 0),Z([g(0)],ei.prototype,"zoomPosition",void 0),Z([g(!1)],ei.prototype,"opposedPosition",void 0),Z([g(!0)],ei.prototype,"enableAutoIntervalOnZooming",void 0),Z([g("Double")],ei.prototype,"valueType",void 0),Z([g("Auto")],ei.prototype,"rangePadding",void 0),Z([g("None")],ei.prototype,"edgeLabelPlacement",void 0),Z([g("BetweenTicks")],ei.prototype,"labelPlacement",void 0),Z([g("Auto")],ei.prototype,"intervalType",void 0),Z([g("Outside")],ei.prototype,"tickPosition",void 0),Z([g("")],ei.prototype,"name",void 0),Z([g("Outside")],ei.prototype,"labelPosition",void 0),Z([g(!0)],ei.prototype,"visible",void 0),Z([g(0)],ei.prototype,"labelRotation",void 0),Z([g(0)],ei.prototype,"minorTicksPerInterval",void 0),Z([g(null)],ei.prototype,"crossesAt",void 0),Z([g(null)],ei.prototype,"crossesInAxis",void 0),Z([g(!0)],ei.prototype,"placeNextToAxisLine",void 0),Z([g(null)],ei.prototype,"minimum",void 0),Z([g(null)],ei.prototype,"interval",void 0),Z([g(null)],ei.prototype,"maximum",void 0),Z([g(34)],ei.prototype,"maximumLabelWidth",void 0),Z([U({},Sb)],ei.prototype,"majorTickLines",void 0),Z([g(!1)],ei.prototype,"enableTrim",void 0),Z([U({},_w)],ei.prototype,"minorTickLines",void 0),Z([U({},ww)],ei.prototype,"minorGridLines",void 0),Z([U({},wb)],ei.prototype,"majorGridLines",void 0),Z([U({},Sw)],ei.prototype,"lineStyle",void 0),Z([g(!1)],ei.prototype,"isInversed",void 0),Z([g("Trim")],ei.prototype,"labelIntersectAction",void 0),Z([g(100)],ei.prototype,"coefficient",void 0),Z([g(0)],ei.prototype,"startAngle",void 0),Z([g(2)],ei.prototype,"tabIndex",void 0),Z([Di([],nr)],ei.prototype,"stripLines",void 0),Z([g(null)],ei.prototype,"description",void 0);class F2 extends he{}Z([g("100%")],F2.prototype,"height",void 0),Z([U({},Sd)],F2.prototype,"border",void 0);class Vl extends he{}Z([g(2)],Vl.prototype,"period",void 0),Z([g("")],Vl.prototype,"name",void 0),Z([g("Linear")],Vl.prototype,"type",void 0),Z([g(2)],Vl.prototype,"polynomialOrder",void 0),Z([g(0)],Vl.prototype,"forwardForecast",void 0),Z([g(0)],Vl.prototype,"backwardForecast",void 0),Z([U({},Lb)],Vl.prototype,"animation",void 0),Z([g(!0)],Vl.prototype,"enableTooltip",void 0),Z([U({},cl)],Vl.prototype,"marker",void 0),Z([g(null)],Vl.prototype,"intercept",void 0),Z([g("")],Vl.prototype,"fill",void 0),Z([g("SeriesType")],Vl.prototype,"legendShape",void 0),Z([g(1)],Vl.prototype,"width",void 0);class Ec extends he{}Z([g("0")],Ec.prototype,"y",void 0),Z([g("0")],Ec.prototype,"x",void 0),Z([g(null)],Ec.prototype,"content",void 0),Z([g("Chart")],Ec.prototype,"region",void 0),Z([g("Center")],Ec.prototype,"horizontalAlignment",void 0),Z([g("Pixel")],Ec.prototype,"coordinateUnits",void 0),Z([g("Middle")],Ec.prototype,"verticalAlignment",void 0),Z([g(null)],Ec.prototype,"yAxisName",void 0),Z([g(null)],Ec.prototype,"description",void 0),Z([g(null)],Ec.prototype,"xAxisName",void 0);class N2 extends he{}Z([g(0)],N2.prototype,"point",void 0),Z([g(0)],N2.prototype,"series",void 0);class Dc extends he{}Z([g("Circle")],Dc.prototype,"type",void 0),Z([g("")],Dc.prototype,"text",void 0),Z([g("")],Dc.prototype,"description",void 0),Z([g()],Dc.prototype,"date",void 0),Z([U({color:"black",width:1},Sd)],Dc.prototype,"border",void 0),Z([g("transparent")],Dc.prototype,"background",void 0),Z([g(!0)],Dc.prototype,"showOnSeries",void 0),Z([g("close")],Dc.prototype,"placeAt",void 0),Z([U(Fr.stockEventFont,qa)],Dc.prototype,"textStyle",void 0),Z([g([])],Dc.prototype,"seriesIndexes",void 0);class HSe extends T2{constructor(e){super(e.chart),this.symbolLocations=[],this.stockChart=e,this.chartId=this.stockChart.element.id}renderStockEvents(){const e=this.stockChart;let t,i,s;const r=e.renderer.createGroup({id:this.chartId+"_StockEvents"});this.symbolLocations=function(n,e,t){const i=[];for(let s=0;s<n;++s){const r=[];for(let o=0;o<e;++o)r[o]=t;i[s]=r}return i}(e.series.length,e.stockEvents.length,new Fe(0,0));for(let o=0;o<e.stockEvents.length;o++){t=this.stockChart.stockEvents[o];for(const a of e.chart.series){const l={name:NU,stockChart:e,text:t.text,type:t.type,cancel:!1,series:a};if(e.trigger(NU,l),t.text=l.text,t.type=l.type,s=Le(t.text+"W",t.textStyle),!l.cancel&&(i=e.renderer.createGroup({id:this.chartId+"_Series_"+a.index+"_StockEvents_"+o}),al(this.dateParse(t.date).getTime(),a.xAxis.visibleRange)))if(t.seriesIndexes.length>0)for(let c=0;c<t.seriesIndexes.length;c++)t.seriesIndexes[c]===a.index&&r.appendChild(this.creatEventGroup(i,a,t,o,s));else r.appendChild(this.creatEventGroup(i,a,t,o,s))}}return r}creatEventGroup(e,t,i,s,r){const o=this.findClosePoint(t,i);return i.showOnSeries||(o.y=t.yAxis.rect.y+t.yAxis.rect.height),this.symbolLocations[t.index][s]=o,this.createStockElements(e,i,t,s,o,r),e}findClosePoint(e,t){const i=this.dateParse(t.date).getTime(),s=this.getClosest(e,i);let r,o,a;for(let h=0;h<e.points.length;h++)o=e.points[h],(s===o.xValue&&o.visible||0!==h&&h!==e.points.length&&s>e.points[h-1].xValue&&s<e.points[h+1].xValue)&&(r=new Tm(o,e));const l=e.xAxis.rect.x+zi(r.point.xValue,e.xAxis)*e.xAxis.rect.width;return a=zi(r.point[t.placeAt],e.yAxis)*e.yAxis.rect.height,a=-1*a+(e.yAxis.rect.y+e.yAxis.rect.height),new Fe(l,a)}createStockElements(e,t,i,s,r,o){const a=new xt(o.width>20?o.width:20,o.height>20?o.height:20);let l,h;const c=r.x,d=r.y,u=this.chartId+"_Series_"+i.index+"_StockEvents_"+s,p=t.border;switch(t.type){case"Flag":case"Circle":case"Square":e.appendChild(mo(new Fe(c,d),"Circle",new xt(2,2),"",new nt(u+"_Circle","transparent",p.width,p.color),this.dateParse(t.date).toISOString())),e.appendChild(mo(new Fe(c,d-5),"VerticalLine",new xt(9,9),"",new nt(u+"_Path",p.color,p.width,p.color),this.dateParse(t.date).toISOString())),e.appendChild(mo(new Fe("Flag"!==t.type?c:c+a.width/2,d-a.height),t.type,a,"",new nt(u+"_Shape",t.background,p.width,p.color),this.dateParse(t.date).toISOString())),Os(this.stockChart.renderer,new bs(u+"_Text","Flag"!==t.type?r.x:r.x+a.width/2,r.y-a.height,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e);break;case"ArrowUp":case"ArrowDown":case"ArrowRight":case"ArrowLeft":l="M "+c+" "+d+" "+this.findArrowpaths(t.type),h=new nt(u+"_Shape",t.background,p.width,p.color,1,"",l),e.appendChild(this.stockChart.renderer.drawPath(h));break;case"Triangle":case"InvertedTriangle":a.height=3*o.height,a.width=o.width+1.5*o.width,e.appendChild(mo(new Fe(r.x,r.y),t.type,new xt(20,20),"",new nt(u+"_Shape",t.background,p.width,p.color),this.dateParse(t.date).toISOString())),Os(this.stockChart.renderer,new bs(u+"_Text",r.x,r.y,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e);break;case"Text":o.height+=8,l="M "+c+" "+d+" L "+(c-5)+" "+(d-5)+" L "+(c-o.width/2)+" "+(d-5)+" L "+(c-o.width/2)+" "+(d-o.height)+" L "+(c+o.width/2)+" "+(d-o.height)+" L "+(c+o.width/2)+" "+(d-5)+" L "+(c+5)+" "+(d-5)+" Z",h=new nt(u+"_Shape",t.background,p.width,p.color,1,"",l),e.appendChild(this.stockChart.renderer.drawPath(h)),Os(this.stockChart.renderer,new bs(u+"_Text",c,d-o.height/2,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e);break;default:l="M "+c+" "+d+" L "+(c-o.width/2)+" "+(d-o.height/3)+" L "+(c-o.width/2)+" "+(d-o.height)+" L "+(c+o.width/2)+" "+(d-o.height)+" L "+(c+o.width/2)+" "+(d-o.height/3)+" Z",h=new nt(u+"_Shape",t.background,p.width,p.color,1,"",l),e.appendChild(this.stockChart.renderer.drawPath(h)),Os(this.stockChart.renderer,new bs(u+"_Text",c,d-o.height/2,"middle",t.text,"","middle"),t.textStyle,t.textStyle.color,e)}}renderStockEventTooltip(e){const t=parseInt(e.split("_StockEvents_")[0].split(this.chartId+"_Series_")[1],10),i=parseInt(e.split("_StockEvents_")[1].replace(/\D+/g,""),10),s=this.symbolLocations[t][i],r=new Fe(s.x,s.y+this.stockChart.toolbarHeight+this.stockChart.titleSize.height);this.applyHighLights(i,t);const o=this.getElement(this.chartId+"_StockEvents_Tooltip_svg");if(o&&parseInt(o.getAttribute("opacity"),10)>0)this.stockEventTooltip.content=[this.stockChart.stockEvents[i].description],this.stockEventTooltip.location=r,this.stockEventTooltip.dataBind();else{se(this.chartId+"_StockEvents_Tooltip_svg")&&Ue(se(this.chartId+"_StockEvents_Tooltip"));const l=Ve("div",{id:this.chartId+"_StockEvents_Tooltip",className:"ejSVGTooltip",attrs:{style:"pointer-events:none; position:absolute;z-index: 1"}});se(this.chartId+"_Secondary_Element").appendChild(l),this.stockEventTooltip=new Mi({opacity:1,header:"",content:[this.stockChart.stockEvents[i].description],enableAnimation:!0,location:r,theme:this.stockChart.theme,inverted:!0,areaBounds:this.stockChart.chart.chartAxisLayoutPanel.seriesClipRect}),this.stockEventTooltip.areaBounds.y+=this.stockChart.toolbarHeight+this.stockChart.titleSize.height,this.stockEventTooltip.appendTo("#"+l.id)}}removeStockEventTooltip(e){const t=this.getElement(this.chartId+"_StockEvents_Tooltip");this.stopAnimation(),t&&this.stockEventTooltip&&(this.toolTipInterval=+setTimeout(()=>{this.stockEventTooltip.fadeOut(),this.removeHighLights()},e))}findArrowpaths(e){let t="";switch(e){case"ArrowUp":t="l -10 10 l 5 0 l 0 10 l 10 0 l 0 -10 l 5 0 z";break;case"ArrowDown":t="l -10 -10 l 5 0 l 0 -10 l 10 0 l 0 10 l 5 0 z";break;case"ArrowLeft":t="l -10 -10 l 0 5 l -10 0 l 0 10 l 10 0 l 0 5 z";break;case"ArrowRight":t="l 10 -10 l 0 5 l 10 0 l 0 10 l -10 0 l 0 5 z"}return t}applyHighLights(e,t){(this.pointIndex!==e||this.seriesIndex!==t)&&this.removeHighLights(),this.pointIndex=e,this.seriesIndex=t;const i=this.chartId+"_Series_"+t+"_StockEvents_"+e;this.setOpacity(i+"_Shape",.5),this.setOpacity(i+"_Text",.5)}removeHighLights(){const e=this.chartId+"_Series_"+this.seriesIndex+"_StockEvents_"+this.pointIndex;this.setOpacity(e+"_Shape",1),this.setOpacity(e+"_Text",1)}setOpacity(e,t){se(e)&&se(e).setAttribute("opacity",t.toString())}dateParse(e){const t=this.chart.intl.getDateParser({skeleton:"full",type:"dateTime"}),i=this.chart.intl.getDateFormat({skeleton:"full",type:"dateTime"});return new Date(Date.parse(t(i(new Date(me.parse.parseJson({val:e}).val)))))}}var Bn=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class _n extends he{}Bn([g(!1)],_n.prototype,"visible",void 0),Bn([g(null)],_n.prototype,"height",void 0),Bn([g(null)],_n.prototype,"width",void 0),Bn([U({x:0,y:0},Fw)],_n.prototype,"location",void 0),Bn([g("Auto")],_n.prototype,"position",void 0),Bn([g("Series")],_n.prototype,"mode",void 0),Bn([g(8)],_n.prototype,"padding",void 0),Bn([g("Center")],_n.prototype,"alignment",void 0),Bn([U(Fr.legendLabelFont,qa)],_n.prototype,"textStyle",void 0),Bn([g(10)],_n.prototype,"shapeHeight",void 0),Bn([g(10)],_n.prototype,"shapeWidth",void 0),Bn([U({},Sd)],_n.prototype,"border",void 0),Bn([U({left:0,right:0,top:0,bottom:0},Tb)],_n.prototype,"margin",void 0),Bn([U({left:0,right:0,top:0,bottom:0},fb)],_n.prototype,"containerPadding",void 0),Bn([g(5)],_n.prototype,"shapePadding",void 0),Bn([g("transparent")],_n.prototype,"background",void 0),Bn([g(1)],_n.prototype,"opacity",void 0),Bn([g(!0)],_n.prototype,"toggleVisibility",void 0),Bn([g(null)],_n.prototype,"description",void 0),Bn([g(3)],_n.prototype,"tabIndex",void 0),Bn([g(null)],_n.prototype,"title",void 0),Bn([U(Fr.legendTitleFont,qa)],_n.prototype,"titleStyle",void 0),Bn([g("Top")],_n.prototype,"titlePosition",void 0),Bn([g(100)],_n.prototype,"maximumTitleWidth",void 0),Bn([g(!0)],_n.prototype,"enablePages",void 0),Bn([g(!1)],_n.prototype,"isInversed",void 0);var jt=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Ft=class extends $i{constructor(e,t){super(e,t),this.isSingleAxis=!1,this.chartid=57723,this.tempSeriesType=[],this.zoomChange=!1,this.allowPan=!1,this.onPanning=!1,this.trendlinetriggered=!0,this.initialRender=!0,this.rangeFound=!1,this.tempPeriods=[],this.toolbarHeight=this.enablePeriodSelector?T.isDevice?56:42:0}onPropertyChanged(e,t){for(const i of Object.keys(e))switch(i){case"series":this.render()}}rangeChanged(e,t){const i=document.getElementById(this.chartObject.id);if(i)for(;i.firstChild;)i.removeChild(i.firstChild);this.startValue=e,this.endValue=t,this.cartesianChart.initializeChart(),this.periodSelector.datePicker.startDate=new Date(e),this.periodSelector.datePicker.endDate=new Date(t),this.periodSelector.datePicker.dataBind()}preRender(){this.unWireEvents(),this.initPrivateVariable(),this.allowServerDataBinding=!1,this.isProtectedOnChange=!0,this.setCulture(),this.wireEvents()}unWireEvents(){const t=T.touchMoveEvent,i=T.touchEndEvent,s=T.isPointer?"pointerleave":"mouseleave";S.remove(this.element,T.touchStartEvent,this.stockChartOnMouseDown),S.remove(this.element,t,this.stockChartOnMouseMove),S.remove(this.element,i,this.stockChartMouseEnd),S.remove(this.element,"click",this.stockChartOnMouseClick),S.remove(this.element,"contextmenu",this.stockChartRightClick),S.remove(this.element,s,this.stockChartOnMouseLeave),window.removeEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.stockChartResize)}wireEvents(){const e=T.isPointer?"pointerleave":"mouseleave";S.add(this.element,T.touchStartEvent,this.stockChartOnMouseDown,this),S.add(this.element,T.touchMoveEvent,this.stockChartOnMouseMove,this),S.add(this.element,T.touchEndEvent,this.stockChartMouseEnd,this),S.add(this.element,"click",this.stockChartOnMouseClick,this),S.add(this.element,"contextmenu",this.stockChartRightClick,this),S.add(this.element,e,this.stockChartOnMouseLeave,this),window.addEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.stockChartResize.bind(this)),this.setStyle(this.element)}initPrivateVariable(){if(""===this.element.id){const e=document.getElementsByClassName("e-stockChart").length;this.element.id="stockChart_"+this.chartid+"_"+e}this.seriesXMax=null,this.seriesXMin=null,this.startValue=null,this.endValue=null,this.currentEnd=null}setCulture(){this.intl=new Gs}storeDataSource(){for(let e=0;e<this.series.length;e++){const t=this.series[e];this.tempSeriesType.push(t.type),t.localData=void 0}0===this.series.length&&this.series.push({}),this.initialRender=!0,this.rangeFound=!1,this.resizeTo=null,this.startValue=null,this.endValue=null}render(){this.trigger("load",{name:"load",stockChart:this,theme:this.theme},()=>{this.theme=this.theme,this.themeStyle=l2(this.theme),this.storeDataSource(),this.drawSVG(),this.renderTitle(),this.renderLegend(),this.chartModuleInjection(),this.chartRender(),this.dataSource instanceof Ot&&this.series[0].dataSource instanceof Ot||(this.stockChartDataManagerSuccess(),this.initialRender=!1),this.renderComplete(),this.allowServerDataBinding=!0,this.isProtectedOnChange=!1})}stockChartDataManagerSuccess(){this.findRange(),this.renderRangeSelector(),this.renderPeriodSelector(),this.trigger("loaded",{stockChart:this})}setStyle(e){const t=this.zoomSettings,i=t.enableSelectionZooming||t.enablePinchZooming||"None"!==this.selectionMode||this.crosshair.enable;e.style.msTouchAction=i?"none":"element",e.style.touchAction=i?"none":"element",e.style.msUserSelect="none",e.style.msContentZooming="none",e.style.position="relative",e.style.display="block",e.style.webkitUserSelect="none"}drawSVG(){this.removeSvg(),Lw(this),this.renderer=new jo(this.element.id),this.renderBorder(),this.createSecondaryElements(),this.calculateVisibleSeries(),this.calculateLegendBounds(),this.mainObject=this.renderer.createSvg({id:this.element.id+"_stockChart_svg",width:this.availableSize.width,height:this.availableSize.height-(this.enablePeriodSelector?this.toolbarHeight:0)-this.titleSize.height}),this.svgObject=this.mainObject,this.element.appendChild(this.mainObject)}calculateVisibleSeries(){let e;this.visibleSeries=[];const t=H1(this.theme),i=t.length,s=this.series.sort((r,o)=>r.zOrder-o.zOrder);for(let r=0,o=s.length;r<o;r++)e=s[r],e.category="Series",e.index=r,e.interior=e.fill||t[r%i],this.visibleSeries.push(e),s[r]=e}createSecondaryElements(){const e=hl(!1,this.element.id+"_Secondary_Element")||this.createElement("div");e.id=this.element.id+"_Secondary_Element",this.title?(this.titleSize=Le(this.title,this.titleStyle),this.titleSize.height+=15):this.titleSize={height:null,width:null},e.setAttribute("style","position: relative; height:"+((this.enablePeriodSelector?this.toolbarHeight:0)+this.titleSize.height)+"px"),lt(!1,this.element,e,!1)}requiredModules(){const e=[];return this.legendSettings.visible&&e.push({member:"StockLegend",args:[this]}),e}findCurrentData(e,t){let i;return e&&this.startValue&&this.endValue&&(i=e.filter(s=>new Date(Date.parse(s[t])).getTime()>=this.startValue&&new Date(Date.parse(s[t])).getTime()<=this.endValue)),i}renderPeriodSelector(){this.enablePeriodSelector&&(this.toolbarSelector.initializePeriodSelector(),this.periodSelector.toolbar.refreshOverflow(),this.enableSelector||this.cartesianChart.cartesianChartRefresh(this))}chartRender(){this.cartesianChart=new NSe(this),this.cartesianChart.initializeChart()}renderRangeSelector(){this.enableSelector&&(this.rangeSelector=new BSe(this),this.rangeSelector.initializeRangeNavigator())}getModuleName(){return"stockChart"}getPersistData(){return""}removeSvg(){if(document.getElementById(this.element.id+"_Secondary_Element")&&Ue(document.getElementById(this.element.id+"_Secondary_Element")),this.mainObject){for(;this.mainObject.childNodes.length>0;)this.mainObject.removeChild(this.mainObject.firstChild);!this.mainObject.hasChildNodes()&&this.mainObject.parentNode&&(Ue(this.mainObject),this.mainObject=null,this.selectorObject=null,this.chartObject=null)}}chartModuleInjection(){let e;for(const t of this.getInjectedModules())e=t.prototype.getModuleName().toLowerCase(),-1===e.indexOf("rangetooltip")?D2.Inject(t):Gt.Inject(t),("datetime"===e||"areaseries"===e||"steplineseries"===e)&&Gt.Inject(t)}findRange(){this.seriesXMin=1/0,this.seriesXMax=-1/0;for(const e of this.chart.series)e.visible&&(this.seriesXMin=Math.min(this.seriesXMin,e.xMin),this.seriesXMax=Math.max(this.seriesXMax,e.xMax));this.endValue=this.currentEnd=this.seriesXMax,this.enablePeriodSelector?(this.toolbarSelector=new VSe(this),this.periodSelector=new O2(this),this.tempPeriods=this.periods.length?this.periods:this.toolbarSelector.calculateAutoPeriods(),this.tempPeriods.map(e=>{e.selected&&"ytd"===e.text.toLowerCase()?this.startValue=new Date(new Date(this.currentEnd).getFullYear().toString()).getTime():e.selected&&"all"===e.text.toLowerCase()?this.startValue=this.seriesXMin:e.selected&&(this.startValue=this.periodSelector.changedRange(e.intervalType,this.endValue,e.interval).getTime())})):this.startValue=this.seriesXMin,this.rangeFound=!0}stockChartResize(){return document.getElementById(this.element.id)&&(this.animateSeries=!1,this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=+setTimeout(()=>{Lw(this),this.renderBorder(),this.calculateLegendBounds(),this.renderTitle(),this.renderLegend(),this.cartesianChart.cartesianChartRefresh(this),this.mainObject.setAttribute("width",this.availableSize.width.toString()),this.enablePeriodSelector&&this.renderPeriodSelector()},500)),!1}stockChartOnMouseDown(e){let t,i,s,r;const o=this.chart.element.getBoundingClientRect();if(this.trigger("stockChartMouseDown",{target:e.target.id,x:this.mouseX,y:this.mouseY}),"touchstart"===e.type?(this.isTouch=!0,r=e,t=r.changedTouches[0].clientX,s=r.target,i=r.changedTouches[0].clientY):(this.isTouch="touch"===e.pointerType,t=e.clientX,i=e.clientY,s=e.target),s.id.indexOf(this.element.id+"_stockChart_chart")>-1){const l=se(this.element.id+"_stockChart_chart").getBoundingClientRect();this.mouseDownY=this.previousMouseMoveY=i-o.top-Math.max(l.top-o.top,0),this.mouseDownX=this.previousMouseMoveX=t-o.left-Math.max(l.left-o.left,0),this.setMouseXY(this.mouseDownX,this.mouseDownY),this.referenceXAxis=this.chart.primaryXAxis,se(this.element.id+"_stockChart_chart").setAttribute("cursor","pointer"),this.mouseDownXPoint=P2(this.mouseX-this.referenceXAxis.rect.x,this.referenceXAxis.rect.width,this.referenceXAxis.visibleRange,this.referenceXAxis.isInversed),this.allowPan=!0,this.notify(T.touchStartEvent,e)}return!1}stockChartMouseEnd(e){let t,i,s;return"touchend"===e.type?(s=e,i=s.changedTouches[0].clientX,t=s.changedTouches[0].clientY,this.isTouch=!0):(t=e.clientY,i=e.clientX,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),se(this.element.id+"_stockChart_chart").setAttribute("cursor","auto"),this.onPanning=!1,this.setMouseXY(i,t),this.stockChartOnMouseUp(e),!1}stockChartOnMouseUp(e){return this.trigger("stockChartMouseUp",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.isChartDrag=!1,this.allowPan=!1,this.isTouch&&(this.threshold=(new Date).getTime()+300),this.notify(T.touchEndEvent,e),this.stockEvent&&this.stockEvent.removeStockEventTooltip(0),!1}setMouseXY(e,t){const i=se(this.element.id+"_stockChart_chart");if(this.element&&i){const s=this.element.getBoundingClientRect(),r=i.getBoundingClientRect();this.mouseX=e-s.left-Math.max(r.left-s.left,0),this.mouseY=t-s.top-Math.max(r.top-s.top,0)}}stockChartOnMouseMove(e){let t,i,s;return"touchmove"===e.type?(this.isTouch=!0,i=e,s=i.changedTouches[0].clientY,t=i.changedTouches[0].clientX):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType||this.isTouch,t=e.clientX,s=e.clientY),this.trigger("stockChartMouseMove",{target:e.target.id,x:this.mouseX,y:this.mouseY}),se(this.element.id+"_stockChart_chart")&&(this.setMouseXY(t,s),this.chartOnMouseMove(e)),!1}chartOnMouseMove(e){if(this.allowPan&&this.mouseDownXPoint&&this.mouseX!==this.previousMouseMoveX&&this.zoomSettings.enablePan){this.onPanning=!0,se(this.element.id+"_stockChart_chart").setAttribute("cursor","pointer"),this.mouseUpXPoint=P2(this.mouseX-this.referenceXAxis.rect.x,this.referenceXAxis.rect.width,this.referenceXAxis.visibleRange,this.referenceXAxis.isInversed);const t=Math.abs(this.mouseUpXPoint-this.mouseDownXPoint);this.mouseDownXPoint<this.mouseUpXPoint?this.seriesXMin<=this.referenceXAxis.visibleRange.min-t&&(this.startValue=this.referenceXAxis.visibleRange.min-t,this.endValue=this.referenceXAxis.visibleRange.max-t,this.cartesianChart.cartesianChartRefresh(this),this.rangeSelector.sliderChange(this.referenceXAxis.visibleRange.min-t,this.referenceXAxis.visibleRange.max-t)):this.seriesXMax>=this.referenceXAxis.visibleRange.max+t&&(this.startValue=this.referenceXAxis.visibleRange.min+t,this.endValue=this.referenceXAxis.visibleRange.max+t,this.cartesianChart.cartesianChartRefresh(this),this.rangeSelector.sliderChange(this.referenceXAxis.visibleRange.min+t,this.referenceXAxis.visibleRange.max+t))}if(this.notify(T.touchMoveEvent,e),""===e.target.id){let t;(this.chart.tooltip.enable||this.crosshair.enable)&&(t=document.getElementById(this.element.id+"_stockChart_chart_tooltip"),t&&Ue(t)),se(this.element.id+"_StockEvents_Tooltip")&&this.stockEvent.removeStockEventTooltip(0)}return-1!==e.target.id.indexOf("StockEvents")?(clearInterval(this.stockEvent.toolTipInterval),this.stockEvent.renderStockEventTooltip(e.target.id)):this.stockEvent&&this.stockEvent.removeStockEventTooltip(1e3),this.isTouch=!1,!1}stockChartOnMouseClick(e){return this.trigger("stockChartMouseClick",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.notify("click",e),!1}stockChartRightClick(e){return!this.crosshair.enable||2!==e.buttons&&0!==e.which&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)}stockChartOnMouseLeave(e){let t,i,s;return"touchleave"===e.type?(this.isTouch=!0,t=e,i=t.changedTouches[0].clientX,s=t.changedTouches[0].clientY):(i=e.clientX,s=e.clientY,this.isTouch="touch"===e.pointerType||"2"===e.pointerType),this.setMouseXY(i,s),this.allowPan=!1,this.stockChartOnMouseLeaveEvent(e),!1}stockChartOnMouseLeaveEvent(e){const t=T.isPointer?"pointerleave":"mouseleave";return this.isChartDrag=!1,this.notify(t,e),this.stockEvent&&this.stockEvent.removeStockEventTooltip(1e3),!1}destroy(){}renderBorder(){if(this.border.width){const e=this.createElement("div");e.id=this.element.id+"_stock_border",e.style.width=this.availableSize.width+"px",e.style.height=this.availableSize.height+"px",e.style.position="absolute",e.style.border=this.border.width+"px solid "+this.border.color,e.style.pointerEvents="none",lt(!1,se(this.element.id),e)}}renderTitle(){let e;if(this.title){lt(!1,se(this.element.id+"_Secondary_Element"),this.renderer.createSvg({id:this.element.id+"_stockChart_Title",width:this.availableSize.width,height:this.titleSize.height,fill:this.background||this.themeStyle.background}),!1);const t=this.titleStyle.textAlignment,i="Near"===t?"start":"Far"===t?"end":"middle";e=new ce(0,0,this.availableSize.width,0);const s=new bs(this.element.id+"_ChartTitle",Am(e,this.titleStyle),this.titleSize.height-10,i,this.title,"","auto");Os(this.renderer,s,this.titleStyle,this.titleStyle.color||this.findTitleColor(),se(this.element.id+"_stockChart_Title"),!1,!1),this.availableSize.height-=this.titleSize.height+5}}calculateLegendBounds(){this.stockLegendModule&&this.legendSettings.visible&&this.stockLegendModule.getLegendOptions(this.visibleSeries,this);const e=this.titleSize.height,t=this.border.width,s=.5*this.chartArea.border.width+this.border.width;this.initialClipRect=new ce(t,s,this.availableSize.width-this.border.width-t,this.availableSize.height-s-this.border.width-(this.enablePeriodSelector?this.toolbarHeight:0)-e),this.tempAvailableSize=new xt(this.availableSize.width,this.availableSize.height-(this.enablePeriodSelector?this.toolbarHeight:0)-e),this.stockLegendModule&&this.legendSettings.visible&&this.stockLegendModule.calculateLegendBounds(this.initialClipRect,this.tempAvailableSize,null)}renderLegend(){this.stockLegendModule&&this.stockLegendModule.legendCollections.length&&this.legendSettings.visible&&(this.stockLegendModule.calTotalPage=!0,this.stockLegendModule.renderLegend(this,this.legendSettings,this.stockLegendModule.legendBounds),"Auto"===this.legendSettings.position||"Bottom"===this.legendSettings.position||"Top"===this.legendSettings.position?this.availableSize.height-=this.stockLegendModule.legendBounds.height:("Left"===this.legendSettings.position||"Right"===this.legendSettings.position)&&(this.availableSize.width-=this.stockLegendModule.legendBounds.width))}findTitleColor(){return this.theme.toLocaleLowerCase().indexOf("highcontrast")>-1||this.theme.indexOf("Dark")>-1?"#ffffff":"#424242"}calculateStockEvents(){this.stockEvents.length&&(this.stockEvent=new HSe(this),lt(!1,this.chartObject,this.stockEvent.renderStockEvents()))}};jt([g(null)],Ft.prototype,"width",void 0),jt([g(null)],Ft.prototype,"height",void 0),jt([g("")],Ft.prototype,"dataSource",void 0),jt([U({},Tb)],Ft.prototype,"margin",void 0),jt([U({color:"#DDDDDD",width:1},Sd)],Ft.prototype,"border",void 0),jt([g(null)],Ft.prototype,"background",void 0),jt([g("Material")],Ft.prototype,"theme",void 0),jt([U({name:"primaryXAxis",valueType:"DateTime"},ei)],Ft.prototype,"primaryXAxis",void 0),jt([U({border:{color:null,width:.5},background:"transparent"},cD)],Ft.prototype,"chartArea",void 0),jt([U({name:"primaryYAxis",opposedPosition:!0,labelPosition:"Inside"},ei)],Ft.prototype,"primaryYAxis",void 0),jt([Di([{}],F2)],Ft.prototype,"rows",void 0),jt([Di([{opposedPosition:!0}],ei)],Ft.prototype,"axes",void 0),jt([Di([],ps)],Ft.prototype,"series",void 0),jt([Di([],Dc)],Ft.prototype,"stockEvents",void 0),jt([g(!1)],Ft.prototype,"isTransposed",void 0),jt([g("")],Ft.prototype,"title",void 0),jt([U({size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},qa)],Ft.prototype,"titleStyle",void 0),jt([Di([],Ss)],Ft.prototype,"indicators",void 0),jt([U({shared:!0,enableMarker:!1},Ao)],Ft.prototype,"tooltip",void 0),jt([U({dashArray:"5"},JU)],Ft.prototype,"crosshair",void 0),jt([U({},_n)],Ft.prototype,"legendSettings",void 0),jt([U({},eG)],Ft.prototype,"zoomSettings",void 0),jt([g(!0)],Ft.prototype,"enablePeriodSelector",void 0),jt([g(!0)],Ft.prototype,"enableCustomRange",void 0),jt([g(!1)],Ft.prototype,"isSelect",void 0),jt([g(!0)],Ft.prototype,"enableSelector",void 0),jt([Di([],gb)],Ft.prototype,"periods",void 0),jt([Di([{}],Ec)],Ft.prototype,"annotations",void 0),jt([F()],Ft.prototype,"selectorRender",void 0),jt([F()],Ft.prototype,"stockChartMouseMove",void 0),jt([F()],Ft.prototype,"stockChartMouseLeave",void 0),jt([F()],Ft.prototype,"stockChartMouseDown",void 0),jt([F()],Ft.prototype,"stockChartMouseUp",void 0),jt([F()],Ft.prototype,"stockChartMouseClick",void 0),jt([F()],Ft.prototype,"pointClick",void 0),jt([F()],Ft.prototype,"pointMove",void 0),jt([F()],Ft.prototype,"onZooming",void 0),jt([F()],Ft.prototype,"legendRender",void 0),jt([F()],Ft.prototype,"legendClick",void 0),jt([g("None")],Ft.prototype,"selectionMode",void 0),jt([g(!1)],Ft.prototype,"isMultiSelect",void 0),jt([F()],Ft.prototype,"load",void 0),jt([F()],Ft.prototype,"loaded",void 0),jt([F()],Ft.prototype,"rangeChange",void 0),jt([F()],Ft.prototype,"axisLabelRender",void 0),jt([F()],Ft.prototype,"tooltipRender",void 0),jt([F()],Ft.prototype,"seriesRender",void 0),jt([F()],Ft.prototype,"stockEventRender",void 0),jt([Di([],N2)],Ft.prototype,"selectedDataIndexes",void 0),jt([g(["Line","Hilo","OHLC","Hollow Candle","Spline","Candle"])],Ft.prototype,"seriesType",void 0),jt([g(["EMA","TMA","SMA","Momentum","ATR","Accumulation Distribution","Bollinger Bands","MACD","Stochastic","RSI"])],Ft.prototype,"indicatorType",void 0),jt([g(["PNG","JPEG","SVG","PDF","Print"])],Ft.prototype,"exportType",void 0),jt([g(["Linear","Exponential","Polynomial","Logarithmic","Moving Average"])],Ft.prototype,"trendlineType",void 0),Ft=jt([ii],Ft);class pG{constructor(e){this.bulletChart=e,this.isVertical="Vertical"===e.orientation,this.isLabelsInside="Inside"===e.labelPosition,this.isHorizontal="Horizontal"===e.orientation,this.isLeft="Left"===e.titlePosition,this.isRight="Right"===e.titlePosition,this.isTop="Top"===e.titlePosition,this.majorTickSize=e.majorTickLines.height,this.location=10,this.labelOffset=15,this.labelSize=parseFloat(e.labelStyle.size),this.isLabelBelow=!this.bulletChart.opposedPosition}renderMajorTickLines(e,t){"Horizontal"===this.bulletChart.orientation?this.renderXMajorTickLines(e,t):this.renderYMajorTickLines(e,t)}renderMinorTickLines(e,t){"Horizontal"===this.bulletChart.orientation?this.renderXMinorTickLines(e,t):this.renderYMinorTickLines(e,t)}renderAxisLabels(e,t){"Horizontal"===this.bulletChart.orientation?this.renderXAxisLabels(e,t):this.renderYAxisLabels(e,t)}renderXMajorTickLines(e,t){const i=this.bulletChart,s=i.renderer.createGroup({id:i.svgObject.id+"_majorTickGroup"}),r=i.minimum,o=i.maximum,a=i.interval,l=i.enableRtl,h=i.initialClipRect.y+(i.opposedPosition?0:i.initialClipRect.height),c=h+(i.opposedPosition?"Inside"!==i.tickPosition?-this.majorTickSize:this.majorTickSize:"Inside"!==i.tickPosition?this.majorTickSize:-this.majorTickSize),d=i.majorTickLines;let p,m,u=d.color||i.themeStyle.majorTickLineColor;const y=i.initialClipRect.x+(i.enableRtl?i.initialClipRect.width:0);let b=i.initialClipRect.x+d.width/2+(l?i.initialClipRect.width:0);for(let v=r;v<=o;v+=a){m=i.enableRtl?v===r:v===o,m&&(b-=d.width/2),m=i.enableRtl?v===r:v===o,i.majorTickLines.useRangeColor&&(u=this.bindingRangeStrokes(b-(m?this.bulletChart.majorTickLines.width/2:0),y,this.bulletChart.orientation,i.enableRtl)),p=this.majorTicks(b,b,h,c,u,v);const C=i.renderer.drawLine(p);b+=l?-e:e,s.appendChild(C),t.appendChild(s)}}renderYMajorTickLines(e,t){const i=this.bulletChart,s=i.renderer.createGroup({id:i.svgObject.id+"_majorTickGroup"}),r=i.minimum,o=i.maximum,a=i.interval,l=i.enableRtl,h=i.initialClipRect,c=h.x+(i.opposedPosition?h.width:0),d=c-(i.opposedPosition?"Inside"!==i.tickPosition?-this.majorTickSize:this.majorTickSize:"Inside"!==i.tickPosition?this.majorTickSize:-this.majorTickSize),u=i.majorTickLines;let m,y,p=u.color||i.themeStyle.majorTickLineColor;const b=h.y+(i.enableRtl?0:h.height);let v=h.y+u.width/2+(l?0:h.height);for(let C=r;C<=o;C+=a){m=i.enableRtl?C===o:C===r,m&&(v-=u.width/2),m=i.enableRtl?C===r:C===o,i.majorTickLines.useRangeColor&&(p=this.bindingRangeStrokes(v-(m?this.bulletChart.majorTickLines.width/2:0),b,this.bulletChart.orientation,i.enableRtl)),y=this.majorTicks(c,d,v,v,p,C);const w=i.renderer.drawLine(y);v+=l?e:-e,s.appendChild(w),t.appendChild(s)}}majorTicks(e,t,i,s,r,o){return{id:this.bulletChart.svgObject.id+"_MajorTickLine_"+o,x1:e,y1:i,x2:t,y2:s,"stroke-width":this.bulletChart.majorTickLines.width,stroke:this.bulletChart.majorTickLines.useRangeColor&&r?r:this.bulletChart.majorTickLines.color||r}}bindingRangeStrokes(e,t,i,s){return"Vertical"===i&&!s||s&&"Horizontal"===i?this.backwardStrokeBinding(e,t):this.forwardStrokeBinding(e,t)}renderXMinorTickLines(e,t){const i=this.bulletChart.renderer.createGroup({id:this.bulletChart.svgObject.id+"_minorTickGroup"}),s=this.bulletChart,r=s.maximum,a=s.interval,l=s.minorTickLines.height,h=this.bulletChart.minorTicksPerInterval;let c,d,u=s.initialClipRect.x;const p=s.initialClipRect.y+(s.opposedPosition?0:s.initialClipRect.height),m=p+(s.opposedPosition?"Inside"!==s.tickPosition?-l:l:"Inside"!==s.tickPosition?l:-l);let b,v,y=s.minorTickLines.color||s.themeStyle.minorTickLineColor;const C=s.initialClipRect.x+(s.enableRtl?s.initialClipRect.width:0);for(let w=s.minimum;w<r;w+=a){c=e/h;for(let _=1;_<=h;_++)d=u+c-c/(h+1),s.minorTickLines.useRangeColor&&(y=this.bindingRangeStrokes(d,C,this.bulletChart.orientation,s.enableRtl)),b=this.minorXTicks(d,d,p,m,y,w.toString()+_.toString()),v=this.bulletChart.renderer.drawLine(b),i.appendChild(v),t.appendChild(i),c=e/h*(_+1);u+=e}}renderYMinorTickLines(e,t){const i=this.bulletChart.renderer.createGroup({id:this.bulletChart.svgObject.id+"_minorTickGroup"}),s=this.bulletChart,r=s.maximum,a=s.interval,l=s.minorTickLines.height,h=this.bulletChart.minorTicksPerInterval;let c,d,u=s.initialClipRect.y+(s.enableRtl?0:s.initialClipRect.height);const p=s.initialClipRect.x+(s.opposedPosition?s.initialClipRect.width:0),m=p-(s.opposedPosition?"Inside"!==s.tickPosition?-l:l:"Inside"!==s.tickPosition?l:-l);let b,v,y=s.minorTickLines.color||s.themeStyle.minorTickLineColor;const C=s.initialClipRect.y+(s.enableRtl?0:s.initialClipRect.height);for(let w=s.minimum;w<r;w+=a){c=e/h;for(let _=1;_<=h;_++)d=this.bulletChart.enableRtl?u+c-c/(h+1):u-c+c/(h+1),s.minorTickLines.useRangeColor&&(y=this.bindingRangeStrokes(d,C,this.bulletChart.orientation,s.enableRtl)),b=this.minorXTicks(p,m,d,d,y,w.toString()+_.toString()),v=this.bulletChart.renderer.drawLine(b),i.appendChild(v),t.appendChild(i),c=e/h*(_+1);u-=this.bulletChart.enableRtl?-e:e}}minorXTicks(e,t,i,s,r,o){return{id:this.bulletChart.svgObject.id+"_MajorTickLine_"+o,x1:e,x2:t,y1:i,y2:s,"stroke-width":this.bulletChart.minorTickLines.width,stroke:this.bulletChart.minorTickLines.useRangeColor&&r?r:this.bulletChart.minorTickLines.color||r}}forwardStrokeBinding(e,t){const i=this.bulletChart;let s=t;for(let r=0;r<=i.rangeCollection.length-1;r++)if(s+=r?i.rangeCollection[r-1]:0,e>=s&&e<s+i.rangeCollection[r])return i.ranges[r].color;return null}backwardStrokeBinding(e,t){const i=this.bulletChart;let s=t;for(let r=0;r<=i.rangeCollection.length-1;r++)if(s-=r?i.rangeCollection[r-1]:0,Math.round(e)>=Math.round(s-i.rangeCollection[r])&&e<=s)return i.ranges[r].color;return null}renderXAxisLabels(e,t){const i=this.bulletChart.renderer.createGroup({id:this.bulletChart.svgObject.id+"_axisLabelGroup"});let s;const r=this.bulletChart,o=this.bulletChart.locale,l=r.enableRtl,h=(r.tickPosition===r.labelPosition?r.majorTickLines.height:0)+10;let c=r.initialClipRect.y+(r.opposedPosition?"Inside"===r.labelPosition?h:-h:r.initialClipRect.height+("Inside"===r.labelPosition?-h:h)),d=r.initialClipRect.x+(l?r.initialClipRect.width:0);const u=r.minimum,p=r.maximum,m=r.interval,y=o&&this.bulletChart.enableGroupSeparator,b=this.getFormat(this.bulletChart);let C,v=r.labelStyle.color||r.themeStyle.labelFontColor;const w=null!==b.match("{value}");this.format=this.bulletChart.intl.getNumberFormat({format:w?"":b,useGrouping:this.bulletChart.enableGroupSeparator});const _=r.initialClipRect.x+(r.enableRtl?r.initialClipRect.width:0);c+=Le(this.formatValue(this,w,b,this.bulletChart.maximum),r.labelStyle).height/3;for(let k=u;k<=p;k+=m){C=r.enableRtl?k===u:k===p,r.labelStyle.useRangeColor&&(v=this.bindingRangeStrokes(d-(C?this.bulletChart.majorTickLines.width/2:0),_,this.bulletChart.orientation,r.enableRtl)),s=y?k.toLocaleString(o):this.formatValue(this,w,b,k);const I=qx(this.labelXOptions(d,c,s,k),this.bulletChart.labelStyle,v,t);i.appendChild(I),d+=l?-e:e}t.appendChild(i)}labelXOptions(e,t,i,s){return{id:this.bulletChart.svgObject.id+"_AxisLabel_"+s,anchor:"middle",text:i,transform:"",x:e,y:t,baseLine:"",labelRotation:0}}renderYAxisLabels(e,t){const i=this.bulletChart.renderer.createGroup({id:this.bulletChart.svgObject.id+"_axisLabelGroup"});let s;const r=this.bulletChart,o=r.locale,l=r.enableRtl,h=(r.tickPosition===r.labelPosition?r.majorTickLines.height:0)+10;let c=r.initialClipRect.y+(l?0:r.initialClipRect.height);const d=r.initialClipRect.x+(r.opposedPosition?r.initialClipRect.width+("Inside"===r.labelPosition?-(h+10):h):"Inside"===r.labelPosition?h+10:-h),u=r.minimum,p=r.maximum,m=r.interval,y=o&&this.bulletChart.enableGroupSeparator;let b=r.labelStyle.color||r.themeStyle.labelFontColor;const v=this.getFormat(this.bulletChart),C=null!==v.match("{value}");let w;this.format=this.bulletChart.intl.getNumberFormat({format:C?"":v,useGrouping:this.bulletChart.enableGroupSeparator});const _=r.initialClipRect.y+(r.enableRtl?0:r.initialClipRect.height),k=Le(this.formatValue(this,C,v,this.bulletChart.maximum),r.labelStyle).width/2,D=Le(this.formatValue(this,C,v,this.bulletChart.maximum),r.labelStyle).height/3;c+=D;for(let I=u;I<=p;I+=m){w=r.enableRtl?I===p:I===u,r.labelStyle.useRangeColor&&(b=this.bindingRangeStrokes(c-D-(w?this.bulletChart.majorTickLines.width/2:0),_,this.bulletChart.orientation,r.enableRtl)),s=y?I.toLocaleString(o):this.formatValue(this,C,v,I);const N=qx(this.labelXOptions(d-(this.bulletChart.opposedPosition?-k:k),c,s,I),this.bulletChart.labelStyle,b,t);i.appendChild(N),c+=l?e:-e}t.appendChild(i)}getFormat(e){return e.labelFormat?e.labelFormat:""}formatValue(e,t,i,s){return t?i.replace("{value}",e.format(s)):e.format(s)}}var va=(()=>(function(n){n.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto-Regular"},n.tooltipLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},n.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},n.dataLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},n.titleFont={size:"15px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto-Regular"},n.subTitleFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto-Regular"}}(va||(va={})),va))();class GSe{constructor(e){this.comparative=[],this.dataSource=e.dataSource,this.isVertical="Vertical"===e.orientation,this.isTicksInside="Inside"===e.tickPosition,this.isLabelsInside="Inside"===e.labelPosition,this.isHorizontal="Horizontal"===e.orientation,this.isLeft="Left"===e.titlePosition,this.isRight="Right"===e.titlePosition,this.isTop="Top"===e.titlePosition,this.location=10,this.featureBarBounds=[],this.majorTickSize=e.majorTickLines.height,this.labelOffset=15,this.labelSize=12,this.bulletChart=e,this.isLabelBelow=!this.bulletChart.opposedPosition,this.scaleOrientation=this.bulletChart.orientation,this.rangeColor=[]}drawScaleGroup(e){const t=this.bulletChart.renderer.createGroup({id:this.bulletChart.svgObject.id+"_rangeGroup"}),i=this.bulletChart.maximum,s=this.bulletChart.ranges;let r;this.scaleSettingsGroup=e;const o=this.bulletChart,a=o.enableRtl,l=o.initialClipRect;let h=l.x+(a&&"Horizontal"===o.orientation?l.width:0),c=l.y+(a||"Vertical"!==o.orientation?0:l.height),d=0;o.rangeCollection=[];let u=0;const p="Horizontal"===o.orientation?l.width:l.height,m="Horizontal"===o.orientation?l.height:l.width;for(let y=0;y<s.length;y++){d=p*((s[y].end-u)/i),"Horizontal"===o.orientation?h-=a?d:0:c-=a?0:d,r=new us(o.svgObject.id+"_range_"+y,s[y].color||this.bulletChart.themeStyle.rangeStrokes[y].color,{width:1},s[y].opacity,new ce(h,c,"Horizontal"===o.orientation?d:m,"Horizontal"===o.orientation?m:d));const b=o.renderer.drawRectangle(r);t.appendChild(b),e.appendChild(t),"Horizontal"===o.orientation?h+=a?0:d:c+=a?d:0,o.rangeCollection.push(d),u=s[y].end}return this.bulletChart.rangeCollection}sortRangeCollection(e,t){return e-t}renderFeatureBar(e){0!==e&&this.renderCommonFeatureBar(e,this.isHorizontal)}renderCommonFeatureBar(e,t){let i;const o=this.bulletChart,a=t?o.initialClipRect.y+o.initialClipRect.height:o.initialClipRect.x;let l;const h=o.renderer.createGroup({id:o.svgObject.id+"_featureGroup"});let c;const d=(t?o.initialClipRect.height:o.initialClipRect.width)/e;let u;for(let p=0;p<e;p++){if(c=o.dataSource[p],i=c[o.categoryField],l=t?a-d*p-(d+o.valueHeight)/2:a+d*p+d/2-o.valueHeight/2,u=this.calculateFeatureMeasureBounds(c[o.valueField],i,t),c&&"Dot"===o.type){const m=c[o.valueField];u.pointX=t?u.pointX+(m>0&&!o.enableRtl||m<0&&o.enableRtl?u.width:0)-3:u.pointX+(m>0&&o.enableRtl||m<0&&!o.enableRtl?u.width:0)-3,u.width=6}if(u){const m=t?this.featureBar(u.pointX,l,u.width,p):this.verticalFeatureBar(l,u.pointX,u.width,p);if(h.appendChild(m),this.feature=m,this.scaleSettingsGroup.appendChild(h),this.featureBarBounds[p]={x:u.pointX,y:l,width:u.width,height:o.valueHeight},!f(i)){const y=Le(i,o.categoryLabelStyle),b=t?y.width:y.height,v=o.initialClipRect;let C,w;t?(C=o.enableRtl?v.x+v.width+5+b/2:v.x-5-b/2,w=this.drawcategory(C,l,i)):(C=o.enableRtl?v.y-5-b/2:v.y+v.height+5+b/2,w=this.drawcategory(l+o.valueHeight/2,C,i)),qx(w,o.categoryLabelStyle,o.categoryLabelStyle.color||o.themeStyle.categoryFontColor,this.scaleSettingsGroup)}}o.animation.enable&&this.doValueBarAnimation()}}featureBar(e,t,i,s){const r=new us(this.bulletChart.svgObject.id+"_FeatureMeasure_"+s,this.bulletChart.valueFill,this.bulletChart.valueBorder,1,new ce(e,t,i,this.bulletChart.valueHeight)),o=this.bulletChart.renderer.drawRectangle(r);return o.setAttribute("class",this.bulletChart.svgObject.id+"_FeatureMeasure"),o.id=this.bulletChart.svgObject.id+"_FeatureMeasure_"+s,o}verticalFeatureBar(e,t,i,s){const r=new us(this.bulletChart.svgObject.id+"_FeatureMeasure_"+s,this.bulletChart.valueFill,this.bulletChart.valueBorder,1,new ce(e,t,this.bulletChart.valueHeight,i)),o=this.bulletChart.renderer.drawRectangle(r);return o.setAttribute("class",this.bulletChart.svgObject.id+"_FeatureMeasure"),o.id=this.bulletChart.svgObject.id+"_FeatureMeasure_"+s,o}drawcategory(e,t,i){return{id:"",anchor:"middle",x:e,y:t+this.bulletChart.valueHeight,transform:"",text:i,baseLine:"",labelRotation:0}}renderComparativeSymbol(e){0!==e&&this.renderCommonComparativeSymbol(e,this.isHorizontal)}renderCommonComparativeSymbol(e,t){const i=this.bulletChart;let s;const r=i.initialClipRect,o=t?r.width:r.height;let a,l,h;const c=t?r.y+r.height:r.x,d=i.renderer.createGroup({id:i.svgObject.id+"_comparativeGroup"}),u=i.minimum,p=i.maximum,m=p-u,y=i.targetWidth,b=t?r.x-y/2:r.y+r.height;let v,C=[];const w=i.targetTypes;let _="Rect";const k=w.length,D=(t?r.height:r.width)/e;let I;for(let O=0;O<e;O++){s=i.dataSource[O][i.targetField],C=C.concat(s);for(let N=0;N<C.length;N++)_=w[N%k],C[N]>=u&&C[N]<=p&&(v=t?c-D*O-D/2:c+D*O+D/2,a=v-1.5*y,l=v+1.5*y,v=o/(m/(m-(p-C[N]))),h=t?b+(i.enableRtl?o-v:v):b-(i.enableRtl?o-v:v),I=this.getTargetElement(_,t,h,a,l,C[N],O),this.comparative.push(I),d.appendChild(I),a=0,l=0),this.scaleSettingsGroup.appendChild(d);C=[],i.animation.enable&&this.doTargetBarAnimation(0)}}getTargetElement(e,t,i,s,r,o,a){let l,h;const c=this.bulletChart,d="Cross"===e?c.targetWidth-1:1,u="Circle"===e?c.targetWidth-1:c.targetWidth,p=t?i+u/2:s+(r-s)/2,m=t?s+(r-s)/2:i,y=c.svgObject.id+"_ComparativeMeasure_"+a,b=c.svgObject.id+"_ComparativeMeasure";return"Rect"===e?(l=t?this.compareMeasure(i,s,r,a,o):this.compareVMeasure(s,r,i,a),h=c.renderer.drawLine(l)):"Circle"===e?(l=new Zp(y,c.targetColor,{width:1,color:c.targetColor||"black"},1,p,m,u),h=c.renderer.drawCircle(l)):(l=new nt(y,"transparent",d,c.targetColor,1,"","M "+(p-u)+" "+(m-u)+" L "+(p+u)+" "+(m+u)+" M "+(p-u)+" "+(m+u)+" L "+(p+u)+" "+(m-u)),h=c.renderer.drawPath(l)),h.setAttribute("class",b),h}compareMeasure(e,t,i,s,r){const o=this.bulletChart;return{class:o.svgObject.id+"_ComparativeMeasure",id:o.svgObject.id+"_ComparativeMeasure_"+s,x1:r===o.maximum?e-o.targetWidth/2:r===o.minimum?e+o.targetWidth/2:e,y1:t,x2:r===o.maximum?e-o.targetWidth/2:r===o.minimum?e+o.targetWidth/2:e,y2:i,"stroke-width":o.targetWidth,stroke:o.targetColor||"black"}}compareVMeasure(e,t,i,s){const r=this.bulletChart;return{class:r.svgObject.id+"_ComparativeMeasure",id:r.svgObject.id+"_ComparativeMeasure_"+s,x1:e,y1:i,x2:t,y2:i,"stroke-width":r.targetWidth,stroke:r.targetColor||"black"}}calculateFeatureMeasureBounds(e,t,i){const s=this.bulletChart,r=s.minimum;if((e=e<r&&r<=0?r:e)>=r){let o,a,l;const h=i?s.initialClipRect.x:s.initialClipRect.y,c=i?s.initialClipRect.width:s.initialClipRect.height,d=s.maximum-s.minimum,u=s.maximum-e,p=(s.enableRtl?"backward":"forward")+this.scaleOrientation.toLowerCase(),m=Le((t=f(t)?"":t).toString(),s.labelStyle).width;switch(p){case"forwardhorizontal":case"backwardvertical":o=h+(r>0?0:c/d*Math.abs(r)),l=c/(d/(r>0?d-u:e)),e<0&&(l=Math.abs(l),o-=l),l=o+l<h+c?l:h+c-o,a=h-("forwardhorizontal"===p?m/2+5:this.labelOffset);break;default:o=h+(c-c/(d/(d-u))),l=r>0?c/(d/(d-u)):c/(d/e),e<0&&(l=Math.abs(l),o-=l),o<h&&(l=o+l-h,o=h),a=h+c+("backwardhorizontal"===p?m/2+5:5)}return{pointX:o,width:l,lastPointX:a}}return null}doValueBarAnimation(){const e=this.feature;if(!e)return null;const t=this.bulletChart.animation,i=this.bulletChart.animateSeries?this.bulletChart.animation.duration:t.duration,s=Dw("Linear"),r=this.bulletChart.dataSource<0;let o,a;const l=e.getBoundingClientRect().height;let c,d,u,h=e.getBoundingClientRect().width;"Horizontal"===this.bulletChart.orientation&&e&&(a=parseInt(e.getAttribute("height"),10),o=parseInt(e.getAttribute("x"),10),d=r?a:a+l,c=o),e.style.visibility="hidden",new qt({}).animate(e,{duration:i,delay:t.delay,progress:p=>{p.timeStamp>=p.delay&&(e.style.visibility="visible",h=h||1,u=s(p.timeStamp-p.delay,0,h,p.duration),e.setAttribute("transform","translate("+c+" "+d+") scale("+u/h+", 1) translate("+-c+" "+-d+")"))},end:()=>{e.setAttribute("transform","translate(0,0)"),e.style.visibility="visible"}})}doTargetBarAnimation(e){let t,i,s,r;const o=this.comparative[e];if(!o)return null;"Horizontal"===this.bulletChart.orientation&&o&&(i=parseFloat(o.getAttribute("y1"))+parseFloat(o.getAttribute("y2")),t=parseFloat(o.getAttribute("x1")),r=i,s=t),o.style.visibility="hidden",this.animateRect(o,s,r,e+1)}animateRect(e,t,i,s){const r=Dw("Linear");let o;const a=this.bulletChart.animation,l=this.comparative.length,h=this.bulletChart.animateSeries?this.bulletChart.animation.duration:a.duration;new qt({}).animate(e,{duration:h,delay:a.delay,progress:c=>{c.timeStamp>=c.delay&&(e.style.visibility="visible",o=r(c.timeStamp-c.delay,0,1,c.duration),e.setAttribute("transform","translate("+t+" "+i/2+") scale(1,"+o+") translate("+-t+" "+-i/2+")"))},end:()=>{e.setAttribute("transform","translate(0,0)"),s<l&&this.doTargetBarAnimation(s+1)}})}}var ui=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Qp extends he{}ui([g(null)],Qp.prototype,"end",void 0),ui([g(1)],Qp.prototype,"opacity",void 0),ui([g(null)],Qp.prototype,"color",void 0),ui([g(null)],Qp.prototype,"index",void 0),ui([g(null)],Qp.prototype,"name",void 0),ui([g("Rectangle")],Qp.prototype,"shape",void 0),ui([g("")],Qp.prototype,"legendImageUrl",void 0);class Bw extends he{}ui([g(12)],Bw.prototype,"height",void 0),ui([g(1)],Bw.prototype,"width",void 0),ui([g(null)],Bw.prototype,"color",void 0),ui([g(!1)],Bw.prototype,"useRangeColor",void 0);class Vw extends he{}ui([g(8)],Vw.prototype,"height",void 0),ui([g(1)],Vw.prototype,"width",void 0),ui([g(null)],Vw.prototype,"color",void 0),ui([g(!1)],Vw.prototype,"useRangeColor",void 0);class Lo extends he{}ui([g("Normal")],Lo.prototype,"fontStyle",void 0),ui([g("16px")],Lo.prototype,"size",void 0),ui([g("")],Lo.prototype,"color",void 0),ui([g("Normal")],Lo.prototype,"fontWeight",void 0),ui([g("Segoe UI")],Lo.prototype,"fontFamily",void 0),ui([g("Center")],Lo.prototype,"textAlignment",void 0),ui([g("None")],Lo.prototype,"textOverflow",void 0),ui([g(1)],Lo.prototype,"opacity",void 0),ui([g(!0)],Lo.prototype,"enableTrim",void 0),ui([g(null)],Lo.prototype,"maximumTitleWidth",void 0),ui([g(!1)],Lo.prototype,"useRangeColor",void 0);class Rb extends he{}ui([g(!1)],Rb.prototype,"enable",void 0),ui([g(null)],Rb.prototype,"fill",void 0),ui([U(va.tooltipLabelFont,Lo)],Rb.prototype,"textStyle",void 0),ui([U({color:"#cccccc",width:.5},Yn)],Rb.prototype,"border",void 0),ui([g(null)],Rb.prototype,"template",void 0);class B2 extends he{}ui([g(!1)],B2.prototype,"enable",void 0),ui([U(va.dataLabelFont,Lo)],B2.prototype,"labelStyle",void 0);class $a extends he{}ui([g(!1)],$a.prototype,"visible",void 0),ui([U({x:0,y:0},Fw)],$a.prototype,"location",void 0),ui([g(8)],$a.prototype,"padding",void 0),ui([g("Center")],$a.prototype,"alignment",void 0),ui([g(10)],$a.prototype,"shapeHeight",void 0),ui([g(10)],$a.prototype,"shapeWidth",void 0),ui([U(va.legendLabelFont,Lo)],$a.prototype,"textStyle",void 0),ui([g("Auto")],$a.prototype,"position",void 0),ui([U({left:0,right:0,top:0,bottom:0},Cc)],$a.prototype,"margin",void 0),ui([U({},Yn)],$a.prototype,"border",void 0),ui([g(5)],$a.prototype,"shapePadding",void 0),ui([g("transparent")],$a.prototype,"background",void 0),ui([g(1)],$a.prototype,"opacity",void 0),ui([g(3)],$a.prototype,"tabIndex",void 0);var si=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Zt=class extends $i{constructor(e,t){super(e,t),this.bulletid=57726,this.animateSeries=!0,this.padding=5,this.leftSize=0,this.rightSize=0,this.topSize=0,this.bottomSize=0,this.maxLabelSize=new xt(0,0),this.maxTitleSize=new xt(0,0),this.intervalDivs=[10,5,2,1]}preRender(){this.allowServerDataBinding=!1,this.unWireEvents(),this.initPrivateValues(),this.setCulture(),this.wireEvents()}initPrivateValues(){if(this.delayRedraw=!1,this.scale=new GSe(this),this.bulletAxis=new pG(this),""===this.element.id){const e=document.getElementsByClassName("e-BulletChart").length;this.element.id="BulletChart_"+this.bulletid+"_"+e}}setCulture(){this.intl=new Gs}render(){this.trigger("load",{bulletChart:this,theme:this.theme,name:"load"},()=>{this.theme=this.theme,this.setTheme(),this.createSvg(this),this.findRange(),this.bulletChartLegendModule&&this.legendSettings.visible&&(this.calculateVisibleElements(),this.bulletChartLegendModule.getLegendOptions(this.visibleRanges)),this.calculatePosition(),this.renderBulletElements(),this.trigger("loaded",{bulletChart:this}),this.allowServerDataBinding=!0,this.renderComplete()})}setTheme(){this.themeStyle=function(n){const e="MaterialDark"===n?"#383838":"FabricDark"===n?"#242424":"#1b1b1b";let t={majorTickLineColor:"#424242",minorTickLineColor:"#424242",background:"#FFFFFF",labelFontColor:"rgba(0,0,0,0.54)",categoryFontColor:"#666666",labelFontFamily:"SegoeUI",tooltipFill:"rgba(0, 8, 22, 0.75)",legendLabel:"#353535",tooltipBoldLabel:"#ffffff",featuredMeasureColor:"#181818",comparativeMeasureColor:"#181818",titleFontColor:"rgba(0,0,0,0.87)",dataLabelFontColor:"#ffffff",titleFontFamily:"SegoeUI",subTitleFontColor:" rgba(0,0,0,0.54)",subTitleFontFamily:"SegoeUI",firstRangeColor:"#959595",secondRangeColor:"#BDBDBD",thirdRangeColor:"#E3E2E2",rangeStrokes:[{color:"#959595"},{color:"#BDBDBD"},{color:"#E3E2E2"}]};switch(n){case"Fabric":t={majorTickLineColor:"#424242",minorTickLineColor:"#424242",background:"#FFFFFF",labelFontColor:"#666666",categoryFontColor:"#666666",labelFontFamily:"SegoeUI",tooltipFill:"rgba(0, 8, 22, 0.75)",legendLabel:"#353535",tooltipBoldLabel:"#ffffff",featuredMeasureColor:"#181818",comparativeMeasureColor:"#181818",titleFontColor:"#333333",dataLabelFontColor:"#ffffff",titleFontFamily:"SegoeUI",subTitleFontColor:"#666666",subTitleFontFamily:"SegoeUI",firstRangeColor:"#959595",secondRangeColor:"#BDBDBD",thirdRangeColor:"#E3E2E2",rangeStrokes:[{color:"#959595"},{color:"#BDBDBD"},{color:"#E3E2E2"}]};break;case"Bootstrap":t={majorTickLineColor:"#424242",minorTickLineColor:"#424242",background:"#FFFFFF",labelFontColor:"rgba(0,0,0,0.54)",categoryFontColor:"rgba(0,0,0,0.54)",labelFontFamily:"Helvetica",tooltipFill:"rgba(0, 0, 0, 0.9)",legendLabel:"#212529",tooltipBoldLabel:"rgba(255,255,255)",featuredMeasureColor:"#181818",comparativeMeasureColor:"#181818",titleFontColor:"rgba(0,0,0,0.87)",dataLabelFontColor:"#ffffff",titleFontFamily:"Helvetica-Bold",subTitleFontColor:" rgba(0,0,0,0.54)",subTitleFontFamily:"Helvetica",firstRangeColor:"#959595",secondRangeColor:"#BDBDBD",thirdRangeColor:"#E3E2E2",rangeStrokes:[{color:"#959595"},{color:"#BDBDBD"},{color:"#E3E2E2"}]};break;case"HighContrast":t={majorTickLineColor:"#FFFFFF",minorTickLineColor:"#FFFFFF",background:"#000000",labelFontColor:"#FFFFFF",categoryFontColor:"#FFFFFF",labelFontFamily:"SegoeUI",tooltipFill:"#ffffff",legendLabel:"#ffffff",tooltipBoldLabel:"#000000",featuredMeasureColor:"#000000",comparativeMeasureColor:"#000000",titleFontColor:"#FFFFFF",dataLabelFontColor:"#ffffff",titleFontFamily:"HelveticaNeue",subTitleFontColor:"#FFFFFF",subTitleFontFamily:"SegoeUI",firstRangeColor:"#959595",secondRangeColor:"#BDBDBD",thirdRangeColor:"#E3E2E2",rangeStrokes:[{color:"#757575"},{color:"#BDBDBD"},{color:"#EEEEEE"}]};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":t={majorTickLineColor:"#F0F0F0",minorTickLineColor:"#F0F0F0",background:e,labelFontColor:"#FFFFFF",categoryFontColor:"#FFFFFF",labelFontFamily:"Helvetica",tooltipFill:"#F4F4F4",legendLabel:"#DADADA",tooltipBoldLabel:"#282727",featuredMeasureColor:"#181818",comparativeMeasureColor:"#181818",titleFontColor:"#FFFFFF",dataLabelFontColor:"#ffffff",titleFontFamily:"Helvetica-Bold",subTitleFontColor:"#FFFFFF",subTitleFontFamily:"Helvetica",firstRangeColor:"#8D8D8D",secondRangeColor:"#ADADAD",thirdRangeColor:"#EEEEEE",rangeStrokes:[{color:"#8D8D8D"},{color:"#ADADAD"},{color:"#EEEEEE"}]};break;case"Bootstrap4":t={majorTickLineColor:"#424242",minorTickLineColor:"#424242",background:"#FFFFFF",labelFontColor:"#202528",categoryFontColor:"#202528",labelFontFamily:"HelveticaNeue",tooltipFill:"rgba(0, 0, 0, 0.9)",legendLabel:"#212529",tooltipBoldLabel:"rgba(255,255,255)",featuredMeasureColor:"#181818",comparativeMeasureColor:"#181818",titleFontColor:"#202528",dataLabelFontColor:"#ffffff",titleFontFamily:"HelveticaNeue-Bold",subTitleFontColor:"HelveticaNeue",subTitleFontFamily:"#202528",firstRangeColor:"#959595",secondRangeColor:"#BDBDBD",thirdRangeColor:"#E3E2E2",rangeStrokes:[{color:"#959595"},{color:"#BDBDBD"},{color:"#E3E2E2"}]};break;case"Tailwind":t={majorTickLineColor:"#D1D5DB",minorTickLineColor:"#D1D5DB",background:"transparent",labelFontColor:"#6B7280",categoryFontColor:"#6B7280",labelFontFamily:"Inter",tooltipFill:"#111827",legendLabel:"#374151",tooltipBoldLabel:"#F9FAFB",featuredMeasureColor:"#1F2937",comparativeMeasureColor:"#1F2937",titleFontColor:"#374151",dataLabelFontColor:"#F9FAFB",titleFontFamily:"Inter",subTitleFontColor:"#374151",subTitleFontFamily:"Inter",firstRangeColor:"#9CA3AF",secondRangeColor:"#D1D5DB",thirdRangeColor:"#E5E7EB",rangeStrokes:[{color:"#9CA3AF"},{color:"#D1D5DB"},{color:"#E5E7EB"}]};break;case"TailwindDark":t={majorTickLineColor:"#4B5563",minorTickLineColor:"#4B5563",background:"transparent",labelFontColor:"#9CA3AF",categoryFontColor:"#9CA3AF",labelFontFamily:"Inter",tooltipFill:"#F9FAFB",legendLabel:"#D1D5DB",tooltipBoldLabel:"#1F2937",featuredMeasureColor:"#1F2937",comparativeMeasureColor:"#1F2937",titleFontColor:"#D1D5DB",dataLabelFontColor:"#D1D5DB",titleFontFamily:"Inter",subTitleFontColor:"#D1D5DB",subTitleFontFamily:"Inter",firstRangeColor:"#6B7280",secondRangeColor:"#4B5563",thirdRangeColor:"#374151",rangeStrokes:[{color:"#6B7280"},{color:"#4B5563"},{color:"#374151"}]};break;case"Bootstrap5":t={majorTickLineColor:"#CED4DA",minorTickLineColor:"#CED4DA",background:"transparent",labelFontColor:"#495057",categoryFontColor:"#6B7280",labelFontFamily:"Helvetica Neue",tooltipFill:"#212529",legendLabel:"#343A40",tooltipBoldLabel:"#F9FAFB",featuredMeasureColor:"#1F2937",comparativeMeasureColor:"#1F2937",titleFontColor:"#343A40",dataLabelFontColor:"#495057",titleFontFamily:"Helvetica Neue",subTitleFontColor:"#343A40",subTitleFontFamily:"Helvetica Neue",firstRangeColor:"#9CA3AF",secondRangeColor:"#D1D5DB",thirdRangeColor:"#E5E7EB",rangeStrokes:[{color:"#9CA3AF"},{color:"#D1D5DB"},{color:"#E5E7EB"}]};break;case"Bootstrap5Dark":t={majorTickLineColor:"#6C757D",minorTickLineColor:"#6C757D",background:"#212529",labelFontColor:"#CED4DA",categoryFontColor:"#6B7280",labelFontFamily:"Helvetica Neue",tooltipFill:"#E9ECEF",legendLabel:"#E9ECEF",tooltipBoldLabel:"#ADB5BD",featuredMeasureColor:"#ADB5BD",comparativeMeasureColor:"#ADB5BD",titleFontColor:"#E9ECEF",dataLabelFontColor:"#CED4DA",titleFontFamily:"Helvetica Neue",subTitleFontColor:"#E9ECEF",subTitleFontFamily:"Helvetica Neue",firstRangeColor:"#6C757D",secondRangeColor:"#495057",thirdRangeColor:"#343A40",rangeStrokes:[{color:"#6C757D"},{color:"#495057"},{color:"#343A40"}]};break;default:t=t}return t}(this.theme)}findRange(){if(this.minimum||(this.minimum=0),!this.maximum){this.maximum=0;for(let e=0;e<this.ranges.length;e++)this.maximum=this.maximum>this.ranges[e].end?this.maximum:this.ranges[e].end}if(null===this.maximum)if(f(this.dataSource))this.maximum=10;else for(let e=0;e<Object.keys(this.dataSource).length;e++)this.maximum=this.dataSource[e][this.targetField]>this.dataSource[e][this.valueField]?this.maximum>this.dataSource[e][this.targetField]?this.maximum+this.interval:this.dataSource[e][this.targetField]+this.interval:this.maximum>this.dataSource[e][this.valueField]?this.maximum+this.interval:this.dataSource[e][this.valueField]+this.interval;this.interval||(this.interval=this.calculateNumericNiceInterval(this.maximum-this.minimum))}getActualDesiredIntervalsCount(e){let i=3*("Horizontal"===this.orientation?.533:1);return i=Math.max(("Horizontal"===this.orientation?e.width:e.height)*(i/100),1),i}calculateNumericNiceInterval(e){const t=this.getActualDesiredIntervalsCount(this.availableSize);let i=e/t;const s=Math.pow(10,Math.floor(ta(i,10)));for(const r of this.intervalDivs){const o=s*r;if(t<e/o)break;i=o}return i}setSecondaryElementPosition(){const e=se(this.element.id+"_Secondary_Element");if(!e)return;const t=this.element.getBoundingClientRect(),i=se(this.element.id+"_svg").getBoundingClientRect();e.style.left=Math.max(i.left-t.left,0)+"px",e.style.top=Math.max(i.top-t.top,0)+"px",e.style.position="relative"}createSvg(e){this.removeSvg(),e.renderer=new jo(e.element.id),this.calculateAvailableSize(this),e.svgObject=e.renderer.createSvg({id:e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height}),this.renderChartBackground()}renderChartBackground(){const e=new us(this.element.id+"_ChartBorder",this.themeStyle.background,{width:this.border.width||0,color:this.border.color||"transparent"},1,new ce(0,0,this.availableSize.width,this.availableSize.height));this.svgObject.appendChild(this.renderer.drawRectangle(e))}renderBulletElements(){const e=this.renderer.createGroup({id:this.svgObject.id+"_scaleGroup"});this.svgObject.appendChild(e),this.renderBulletChartTitle(),this.rangeCollection=this.scale.drawScaleGroup(e);const i=("Horizontal"===this.orientation?this.initialClipRect.width:this.initialClipRect.height)/((this.maximum-this.minimum)/this.interval);this.bulletAxis.renderMajorTickLines(i,e),this.bulletAxis.renderMinorTickLines(i,e),this.bulletAxis.renderAxisLabels(i,e),this.bulletChartRect.x="Left"===this.titlePosition||"Right"===this.titlePosition||"Vertical"===this.orientation?this.bulletChartRect.x:0;const s=this.element.id;if("g"!==this.element.tagName){const r=hl(this.redraw,s+"_Secondary_Element")||this.createElement("div");r.id=s+"_Secondary_Element",lt(!1,this.element,r,this.redraw)}this.tooltip.enable&&lt(!1,this.svgObject,this.renderer.createGroup({id:s+"_UserInteraction",style:"pointer-events:none;"}),this.redraw),this.bindData(),this.renderDataLabel(),this.renderBulletLegend(),this.element.appendChild(this.svgObject),this.setSecondaryElementPosition()}renderBulletLegend(){this.bulletChartLegendModule&&this.bulletChartLegendModule.legendCollections.length&&(this.bulletChartLegendModule.calTotalPage=!0,this.bulletChartLegendModule.renderLegend(this,this.legendSettings,this.bulletChartLegendModule.legendBounds))}bulletResize(){this.animateSeries=!1;const e={chart:this,name:bb,currentSize:new xt(0,0),previousSize:new xt(this.availableSize.width,this.availableSize.height)};return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=+setTimeout(()=>{this.isDestroyed?clearTimeout(this.resizeTo):(this.createSvg(this),e.currentSize=this.availableSize,this.trigger(bb,e),this.calculatePosition(),this.renderBulletElements())},500),!1}bindData(){null!=this.dataSource&&(this.dataCount=this.dataSource.length,this.drawMeasures(this.dataCount))}drawMeasures(e){this.scale.renderFeatureBar(e),this.scale.renderComparativeSymbol(e)}calculatePosition(){const e=this.margin;let t=0,i=0,s=new xt(0,0);this.titleCollections=[],this.subTitleCollections=[];let o=0,a=0,l=5;if(this.title){this.titleCollections=Xp(this.title,this.titleStyle,this.titleStyle.maximumTitleWidth),t=Le(this.title,this.titleStyle).height*this.titleCollections.length+5;for(const h of this.titleCollections)s=Le(h,this.titleStyle),o=s.width>o?s.width:o,a=s.height>a?s.height:a;if(l+=a,this.subTitleCollections=Xp(this.subtitle,this.subtitleStyle,this.titleStyle.maximumTitleWidth),this.subtitle){for(const h of this.subTitleCollections)s=Le(h,this.subtitleStyle),o=s.width>o?s.width:o,a=s.height>a?s.height:a;i=Le(this.subtitle,this.subtitleStyle).height*this.subTitleCollections.length+5,l+=a}}this.maxTitleSize=new xt(o,"Vertical"===this.orientation?l:a),this.maxLabelSize=this.getMaxLabelWidth(),this.initialClipRect=this.getBulletBounds("Vertical"===this.orientation?l:o,t,i,e),this.bulletChartRect=new ce(this.initialClipRect.x,this.initialClipRect.y,this.initialClipRect.width,this.initialClipRect.height),this.bulletChartLegendModule&&this.bulletChartLegendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,this.maxLabelSize)}getBulletBounds(e,t,i,s){const o=new ce(0,0,0,0),a=this.enableRtl,l=this.labelPosition===this.tickPosition?5:0,h="Inside"===this.tickPosition?0:this.majorTickLines.height,c="Inside"===this.labelPosition?0:5+("Outside"===this.tickPosition?0:Le(this.maximum.toString(),this.labelStyle).height);let d=0,u=0,p=0,m=0,y=0,b=0,v=0,C=0;const w=e,_=this.bulletAxis.getFormat(this),k=null!==_.match("{value}");this.bulletAxis.format=this.intl.getNumberFormat({format:k?"":_,useGrouping:this.enableGroupSeparator});const D=Le(this.bulletAxis.formatValue(this.bulletAxis,k,_,this.maximum),this.labelStyle).width;let I;switch("Horizontal"===this.orientation?(I=this.maxLabelSize.width,d=this.opposedPosition?h+c+l:0,u=this.opposedPosition?0:h+c+l,v=I&&!a?I:0,v+=w&&"Left"===this.titlePosition?15:0,C=I&&a?I:0,C+=w&&"Right"===this.titlePosition?5:0):(I=this.maxLabelSize.height,m=this.opposedPosition?h+l:0,m+=this.opposedPosition&&"Inside"!==this.labelPosition?D:0,p=this.opposedPosition?0:h+l,p+=this.opposedPosition||"Inside"===this.labelPosition?0:D,y=I&&a?I+5:0,b=I&&!a?I+5:0),this.titlePosition){case"Left":o.x=s.left+w+v+p,o.width=this.availableSize.width-s.right-o.x-C-m,o.y=s.top+d+y,o.height=this.availableSize.height-o.y-s.bottom-u-b;break;case"Right":o.x=s.left+v+p,o.width=this.availableSize.width-m-s.right-o.x-(w+5)-C,o.y=s.top+d+y,o.height=this.availableSize.height-o.y-s.bottom-u-b;break;case"Top":o.x=s.left+p+v,o.width=this.availableSize.width-s.right-o.x-C-m,o.y=s.top+(t+i)+d+y,o.height=this.availableSize.height-o.y-s.bottom-u-b;break;case"Bottom":o.x=s.left+p+v,o.y=s.top+d+y,o.width=this.availableSize.width-s.right-o.x-C-m,o.height=this.availableSize.height-o.y-b-s.bottom-u-(t+i)}return o}getMaxLabelWidth(){if(this.maxLabelSize=new xt(0,0),!this.categoryField)return this.maxLabelSize;let e;for(let t=0,i=Object.keys(this.dataSource).length;t<i;t++)e=Le(this.dataSource[t][this.categoryField]||"",this.categoryLabelStyle),e.width>this.maxLabelSize.width&&(this.maxLabelSize.width=e.width),e.height>this.maxLabelSize.height&&(this.maxLabelSize.height=e.height);return this.maxLabelSize}calculateVisibleElements(){let e;const t=this.ranges;this.visibleRanges=[];for(let i=0,s=t.length;i<s;i++)e=t[i],e.index=i,e.color=e.color,this.visibleRanges.push(e),t[i]=e}renderBulletChartTitle(){const e=this.margin;let t=0,i=0,r="middle",o="";const a=this.titleStyle.textAlignment,l=Le(this.title,this.titleStyle),h=this.subtitle?Le(this.subtitle,this.subtitleStyle):new xt(0,0);if(this.title){if("Horizontal"===this.orientation)switch(this.titlePosition){case"Top":t=this.findHorizontalAlignment(e),r="Far"===a?"end":"Near"===a?"start":"middle",i=e.top+l.height/2+5;break;case"Bottom":t=this.findHorizontalAlignment(e),r="Far"===a?"end":"Near"===a?"start":"middle",i=this.availableSize.height-e.bottom-l.height/3+10-(h.height?h.height+5:0);break;case"Left":r="end",t=e.left+this.maxTitleSize.width,i=this.margin.top+this.availableSize.height/2-l.height/3-(h.height?h.height:0);break;case"Right":r="start",t=this.availableSize.width-e.right-this.maxTitleSize.width+5,i=this.margin.top+this.availableSize.height/2-l.height/3-(h.height?h.height:0)}else{switch(this.titlePosition){case"Top":t=this.availableSize.width/2+10,i=this.margin.top+l.height/2+5;break;case"Bottom":t=this.availableSize.width/2,i=this.availableSize.height-this.margin.bottom-l.height/3+10-(h.height?h.height+5:0);break;case"Left":i=this.findVerticalAlignment(e),r="Far"===a?"start":"Near"===a?"end":"middle",t=e.left;break;case"Right":t=this.availableSize.width-e.right-l.height/3,r="Far"===a?"start":"Near"===a?"end":"middle",i=this.findVerticalAlignment(e)}o="Left"===this.titlePosition?"rotate(-90,"+t+","+i+")":"Right"===this.titlePosition?"rotate(90,"+t+","+i+")":""}const c=new bs(this.element.id+"_BulletChartTitle",t,i,r,this.titleCollections,o,"auto"),d=Os(this.renderer,c,this.titleStyle,this.titleStyle.color||this.themeStyle.titleFontColor,this.svgObject);d&&(d.setAttribute("aria-label",this.title),d.setAttribute("tabindex",this.tabIndex.toString())),this.subtitle&&this.renderBulletChartSubTitle(t,i,r)}}renderDataLabel(){let e=0,t=0;let s;const o=this.enableRtl;let a,l;const h=this.labelFormat?this.labelFormat:"",c=null!==h.match("{value}");if(this.dataLabel.enable)for(let d=0,u=Object.keys(this.dataSource).length;d<u;d++){a=this.dataSource[d],l=this.scale.featureBarBounds[d];let p=a[this.valueField].toString();this.format=this.intl.getNumberFormat({format:c?"":h,useGrouping:this.enableGroupSeparator}),p=c?h.replace("{value}",this.format(p)):p;const m=Le(p,this.dataLabel.labelStyle),y=m.width,b=m.height;"Horizontal"===this.orientation?(s="Rect"===this.type||o?"end":"start",e=l.x+(o?"Rect"===this.type?y+10:-10:l.width)+("Rect"===this.type?-5:5),t=l.y+l.height/2):(s="middle",e=l.y+l.height/2,t=l.x+(o?l.width+("Rect"===this.type?-b:b):0)+("Rect"===this.type?10:-10));let v=new bs(this.element.id+"_DataLabel_"+d,e,t,s,p,"","middle");Os(this.renderer,v,this.dataLabel.labelStyle,this.dataLabel.labelStyle.color||this.themeStyle.dataLabelFontColor,this.svgObject)}}findHorizontalAlignment(e){let t=0;switch(this.titleStyle.textAlignment){case"Center":t=(this.availableSize.width-e.left-e.right)/2;break;case"Near":t=e.left;break;case"Far":t=this.availableSize.width-e.right}return t}findVerticalAlignment(e){let t=0;switch(this.titleStyle.textAlignment){case"Center":t=(this.availableSize.height-e.top-e.bottom)/2;break;case"Near":t=e.top;break;case"Far":t=this.availableSize.height-e.bottom}return t}renderBulletChartSubTitle(e,t,i){const s=this.margin;let o="";const a=Le(this.subtitle,this.subtitleStyle);if("Horizontal"===this.orientation)switch(this.titlePosition){case"Top":t=t+a.height+2.5;break;case"Bottom":t=this.availableSize.height-s.bottom-a.height/3+5;break;case"Left":case"Right":t=t+a.height+2.5}else{switch(this.titlePosition){case"Top":t=t+a.height+2.5;break;case"Bottom":t=this.availableSize.height-s.bottom-a.height/3+5;break;case"Left":e+=a.height+2.5;break;case"Right":e-=a.height+2.5}o="Left"===this.titlePosition?"rotate(-90,"+e+","+t+")":"Right"===this.titlePosition?"rotate(90,"+e+","+t+")":""}const l=new bs(this.element.id+"_BulletChartSubTitle",e,t,i,this.subTitleCollections,o,"auto"),h=Os(this.renderer,l,this.subtitleStyle,this.subtitleStyle.color||this.themeStyle.subTitleFontColor,this.svgObject);h&&(h.setAttribute("aria-label",this.title),h.setAttribute("tabindex",this.tabIndex.toString()))}calculateAvailableSize(e){const t=this.element.clientWidth||this.element.offsetWidth||200,s=this.element.clientHeight||("Vertical"===this.orientation?450:"Left"===this.titlePosition||"Right"===this.titlePosition?83:126);e.availableSize=new xt(Ji(e.width,t)||t,Ji(e.height,s)||s)}removeSvg(){const e=document.getElementById(this.element.id+"_svg");e&&Ue(e)}getPersistData(){return this.addOnPersist(["loaded"])}unWireEvents(){const t=T.touchMoveEvent,i=T.isPointer?"pointerleave":"mouseleave";S.remove(this.element,T.touchStartEvent,this.bulletMouseDown),S.remove(this.element,t,this.bulletMouseMove),S.remove(this.element,i,this.bulletMouseLeave),S.remove(this.element,"click",this.bulletChartOnMouseClick),window.removeEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound)}wireEvents(){const e=T.isPointer?"pointerleave":"mouseleave";S.add(this.element,T.touchMoveEvent,this.bulletMouseMove,this),S.add(this.element,e,this.bulletMouseLeave,this),S.add(this.element,T.touchStartEvent,this.bulletMouseDown,this),S.add(this.element,"click",this.bulletChartOnMouseClick,this),this.resizeBound=this.bulletResize.bind(this),window.addEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.resizeBound),this.setStyle(this.element)}setStyle(e){e.style.position="relative",e.style.display="block"}bulletMouseMove(e){this.setPointMouseXY(e.clientX,e.clientY);const s=e.target.id,r=e.target.className.baseVal;if(!f(this.dataSource))for(let o=0;o<Object.keys(this.dataSource).length;o++)document.getElementById(this.svgObject.id+"_FeatureMeasure_"+o).setAttribute("opacity","1"),document.getElementById(this.svgObject.id+"_ComparativeMeasure_"+o).setAttribute("opacity","1");if(!this.isTouchEvent(e)){const a=document.getElementById("tooltipDiv"+this.element.id);a&&(this.isReact&&this.clearTemplate(),Ue(a)),this.bulletTooltipModule&&(this.bulletTooltipModule._elementTooltip(e,r,s,this.mouseX),this.bulletTooltipModule._displayTooltip(e,r,s,this.mouseX,this.mouseY))}}setPointMouseXY(e,t){const i=se(this.svgObject.id).getBoundingClientRect(),s=this.element.getBoundingClientRect();this.mouseX=e-s.left-Math.max(i.left-s.left,0),this.mouseY=t-s.top-Math.max(i.top-s.top,0)}bulletMouseLeave(e){if(!this.isTouchEvent(e)){const t=document.getElementById(".tooltipDiv"+this.element.id);t&&(this.isReact&&this.clearTemplate(),Ue(t))}}isTouchEvent(e){return"touch"===e.pointerType||e.type.indexOf("touch")>-1}bulletMouseDown(e){if(this.isTouchEvent(e)){this.isReact&&this.clearTemplate(),Ue(document.getElementById("tooltipDiv"+this.element.id));const t=e.target.id,i=e.target.className.baseVal;this.bulletTooltipModule&&(this.bulletTooltipModule._elementTooltip(e,i,t,this.mouseX),this.bulletTooltipModule._displayTooltip(e,i,t,this.mouseX,this.mouseY))}}bulletChartOnMouseClick(e){return this.trigger("bulletChartMouseClick",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.notify("click",e),!1}print(e){new Kp(this).print(e)}export(e,t,i,s,r,o,a){s=s||[this],new Kp(this).export(e,t,i,s,r,o,a)}onPropertyChanged(e,t){let i=!1,s=!1;if(this.animateSeries=!1,!this.delayRedraw){for(const r of Object.keys(e))switch(r){case"height":case"width":this.createSvg(this),s=!0;break;case"subtitle":case"title":s=!0;break;case"tickPosition":case"labelPosition":case"titlePosition":i=!0;break;case"minimum":case"maximum":case"interval":s=!0;break;case"majorTickLines":case"minorTickLines":case"type":case"ranges":case"valueFill":case"targetColor":s=!0;break;case"titleStyle":e.titleStyle?s=!0:i=!0;break;case"subtitleStyle":e.subtitleStyle&&(e.subtitleStyle.size||e.subtitleStyle.textOverflow)?s=!0:i=!0;break;case"border":case"opposedPosition":i=!0;break;case"dataSource":this.bindData(),s=!0;break;case"theme":this.animateSeries=!0;break;case"locale":case"currencyCode":super.refresh()}!s&&i&&(this.removeSvg(),this.renderBulletElements(),this.trigger("loaded",{bulletChart:this})),s&&(this.render(),this.trigger("loaded",{bulletChart:this}),this.redraw=!1)}}requiredModules(){const e=[];let t;for(let i=0;i<this.ranges.length;i++)null!==this.ranges[i].name&&(t=!0);return this.isLegend=this.legendSettings.visible&&(t||!!this.isLegend||""!==this.targetField||""!==this.valueField),this.tooltip.enable&&e.push({member:"BulletTooltip",args:[this]}),this.isLegend&&e.push({member:"BulletChartLegend",args:[this]}),e}getModuleName(){return"bulletChart"}destroy(){this.unWireEvents(),super.destroy(),this.removeSvg(),this.svgObject=null,this.element.classList.remove("e-BulletChart"),this.element.innerHTML=""}};si([g(null)],Zt.prototype,"width",void 0),si([g(null)],Zt.prototype,"height",void 0),si([g(null)],Zt.prototype,"locale",void 0),si([U({},Bw)],Zt.prototype,"majorTickLines",void 0),si([U({},Vw)],Zt.prototype,"minorTickLines",void 0),si([g(null)],Zt.prototype,"minimum",void 0),si([g(null)],Zt.prototype,"maximum",void 0),si([g(null)],Zt.prototype,"interval",void 0),si([g(4)],Zt.prototype,"minorTicksPerInterval",void 0),si([U(va.axisLabelFont,Lo)],Zt.prototype,"labelStyle",void 0),si([U(va.axisLabelFont,Lo)],Zt.prototype,"categoryLabelStyle",void 0),si([g("")],Zt.prototype,"labelFormat",void 0),si([g("")],Zt.prototype,"title",void 0),si([U(va.titleFont,Lo)],Zt.prototype,"titleStyle",void 0),si([g("")],Zt.prototype,"subtitle",void 0),si([U(va.subTitleFont,Lo)],Zt.prototype,"subtitleStyle",void 0),si([g("Horizontal")],Zt.prototype,"orientation",void 0),si([U({color:"#DDDDDD",width:0},Yn)],Zt.prototype,"border",void 0),si([U({},Rb)],Zt.prototype,"tooltip",void 0),si([Di([{end:null,opacity:1,color:""},{end:null,opacity:1,color:""},{end:null,opacity:1,color:""}],Qp)],Zt.prototype,"ranges",void 0),si([g("Outside")],Zt.prototype,"labelPosition",void 0),si([g("Outside")],Zt.prototype,"tickPosition",void 0),si([g("Top")],Zt.prototype,"titlePosition",void 0),si([g(!1)],Zt.prototype,"opposedPosition",void 0),si([g("Material")],Zt.prototype,"theme",void 0),si([U({},Up)],Zt.prototype,"animation",void 0),si([U({},B2)],Zt.prototype,"dataLabel",void 0),si([U({},$a)],Zt.prototype,"legendSettings",void 0),si([g(!1)],Zt.prototype,"enableGroupSeparator",void 0),si([U({top:15,bottom:10,left:15,right:15},Cc)],Zt.prototype,"margin",void 0),si([g(5)],Zt.prototype,"targetWidth",void 0),si([g("#191919")],Zt.prototype,"targetColor",void 0),si([g(6)],Zt.prototype,"valueHeight",void 0),si([g(null)],Zt.prototype,"valueFill",void 0),si([U({color:"transparent",width:0},Yn)],Zt.prototype,"valueBorder",void 0),si([g(null)],Zt.prototype,"dataSource",void 0),si([g(null)],Zt.prototype,"query",void 0),si([g(null)],Zt.prototype,"categoryField",void 0),si([g("Rect")],Zt.prototype,"type",void 0),si([g("")],Zt.prototype,"valueField",void 0),si([g("")],Zt.prototype,"targetField",void 0),si([g(["Rect","Cross","Circle"])],Zt.prototype,"targetTypes",void 0),si([g(1)],Zt.prototype,"tabIndex",void 0),si([F()],Zt.prototype,"tooltipRender",void 0),si([F()],Zt.prototype,"load",void 0),si([F()],Zt.prototype,"loaded",void 0),si([F()],Zt.prototype,"bulletChartMouseClick",void 0),si([F()],Zt.prototype,"legendRender",void 0),si([F()],Zt.prototype,"beforePrint",void 0),Zt=si([ii],Zt);var Hl=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class pl extends he{}Hl([g("Segoe UI")],pl.prototype,"fontFamily",void 0),Hl([g("Normal")],pl.prototype,"fontStyle",void 0),Hl([g("Regular")],pl.prototype,"fontWeight",void 0),Hl([g("")],pl.prototype,"color",void 0),Hl([g("12px")],pl.prototype,"size",void 0),Hl([g(1)],pl.prototype,"opacity",void 0);class Hw extends he{}Hl([g(10)],Hw.prototype,"top",void 0),Hl([g(10)],Hw.prototype,"bottom",void 0),Hl([g(10)],Hw.prototype,"right",void 0),Hl([g(10)],Hw.prototype,"left",void 0);class uD extends he{}Hl([g(0)],uD.prototype,"width",void 0),Hl([g(1)],uD.prototype,"opacity",void 0),Hl([g("transparent")],uD.prototype,"color",void 0);class pD{constructor(e,t,i,s){this.x=e,this.y=t,this.width=i,this.height=s}}class XSe{}class fG extends class{}{}class ZSe extends fG{}class KSe{}class QSe{}class JSe{}class t_e{constructor(e,t,i,s,r){this.id=e,this.fill=t,this.borderColor=i,this.borderWidth=s,this.opacity=r}}class i_e{}class s_e{constructor(){this.counterclockwise=0,this.clockwise=1}}class n_e{}class r_e{}class V2{constructor(e,t){this.width=e,this.height=t}}class o_e{}function mG(n){return document.getElementById(n)}function gG(n,e,t){let i=e,s=Io(e,t).width;if(s>n)for(let o=e.length-1;o>=0;--o)if(i=e.substring(0,o)+"...",s=Io(i,t).width,s<=n||i.length<4)return i.length<4&&(i=" "),i;return i}function l_e(n){let e=null;try{document.querySelectorAll(n).length&&(e=Lr(document.querySelector(n).innerHTML.trim()))}catch(t){e=Lr(n)}return e}function h_e(n,e,t){let s=n[0].outerHTML;const r=Object.keys(t);for(let o=0;o<r.length;o++)s=s.replace(new RegExp("{{:"+r[o]+"}}","g"),t[r[o].toString()]);return Ve("div",{id:e,innerHTML:s,styles:"position: absolute"})}function yG(){let n=1;for(;1+.5*n!=1;)n*=.5;return n}function d_e(n,e,t,i,s){let o,a;new qt({}).animate(e,{duration:i,delay:t,name:s,progress:l=>{o=(l.timeStamp-l.delay)/l.duration,a=0+1*o,l.element.style.opacity=a.toString()},end:l=>{l.element.style.opacity=1..toString(),n.trigger("animationComplete",event)}})}function bG(n,e){return null!=n?-1!==n.indexOf("%")?e/100*parseInt(n,10):parseInt(n,10):null}class Ro{constructor(e,t,i,s,r,o,a){this.id=e,this.opacity=r,this.fill=t,this.stroke=s,this["stroke-width"]=i,this["stroke-dasharray"]=o,this.d=a}}class fD extends Ro{constructor(e,t,i,s,r){super(e,t,i.width,i.color,s),this.y=r.y,this.x=r.x,this.height=r.height,this.width=r.width}}class vG extends Ro{constructor(e,t,i,s,r,o,a,l){super(e,t,i.width,i.color,s),this.cy=o,this.cx=r,this.r=a,this["stroke-dasharray"]=l}}function Io(n,e){let t=document.getElementById("smithchartmeasuretext");return null===t&&(t=Ve("text",{id:"smithchartmeasuretext"}),document.body.appendChild(t)),t.innerHTML=n,t.style.position="absolute",t.style.visibility="hidden",t.style.left="0",t.style.top="-100",t.style.whiteSpace="nowrap",t.style.fontSize=e.size,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.fontFamily=e.fontFamily,t.style.lineHeight="normal",new V2(t.clientWidth,t.clientHeight)}class Lm{constructor(e,t,i,s,r){this.id=e,this.x=t,this.y=i,this.anchor=s,this.text=r}}function CG(n){const e=document.getElementById(n);return e?Ue(e):null}function u_e(n,e,t,i){return-t*Math.cos(n/i*(Math.PI/2))+t+e}function p_e(n,e,t,i){return-e*Math.sin(n/i*(Math.PI/2))+t+e}function wG(n){let e;switch(n){case"Linear":e=u_e;break;case"Reverse":e=p_e}return e}function Rm(n,e,t,i){const s={id:n.id,x:n.x,y:n.y,fill:t,"font-size":e.size,"font-style":e.fontStyle,"font-family":e.fontFamily,"font-weight":e.fontWeight,"text-anchor":n.anchor,opacity:e.opacity},r=n.text,a=new jo("").createText(s,r);return i.appendChild(a),a}var _d=(()=>(function(n){n.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},n.smithchartTitleFont={size:"15px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},n.smithchartSubtitleFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},n.dataLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},n.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"}}(_d||(_d={})),_d))(),Xs=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Ib extends he{}Xs([g(!0)],Ib.prototype,"visible",void 0),Xs([g("")],Ib.prototype,"text",void 0),Xs([g("")],Ib.prototype,"description",void 0),Xs([g("Center")],Ib.prototype,"textAlignment",void 0),Xs([U(_d.legendLabelFont,pl)],Ib.prototype,"textStyle",void 0);class H2 extends he{}Xs([g(0)],H2.prototype,"x",void 0),Xs([g(0)],H2.prototype,"y",void 0);class j2 extends he{}Xs([g(1)],j2.prototype,"width",void 0),Xs([g(null)],j2.prototype,"color",void 0);class mD extends he{}Xs([g(10)],mD.prototype,"width",void 0),Xs([g(10)],mD.prototype,"height",void 0),Xs([U({},j2)],mD.prototype,"border",void 0);class z2 extends he{}Xs([g(1)],z2.prototype,"width",void 0),Xs([g(null)],z2.prototype,"color",void 0);class Po extends he{}Xs([g(!1)],Po.prototype,"visible",void 0),Xs([g("bottom")],Po.prototype,"position",void 0),Xs([g("Center")],Po.prototype,"alignment",void 0),Xs([g(null)],Po.prototype,"width",void 0),Xs([g(null)],Po.prototype,"height",void 0),Xs([g("circle")],Po.prototype,"shape",void 0),Xs([g(null)],Po.prototype,"rowCount",void 0),Xs([g(null)],Po.prototype,"columnCount",void 0),Xs([g(8)],Po.prototype,"itemPadding",void 0),Xs([g(5)],Po.prototype,"shapePadding",void 0),Xs([g("")],Po.prototype,"description",void 0),Xs([g(!0)],Po.prototype,"toggleVisibility",void 0),Xs([U({},Ib)],Po.prototype,"title",void 0),Xs([U({},H2)],Po.prototype,"location",void 0),Xs([U({},mD)],Po.prototype,"itemStyle",void 0),Xs([U({},z2)],Po.prototype,"border",void 0),Xs([U(_d.legendLabelFont,pl)],Po.prototype,"textStyle",void 0);var Br=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Pb extends he{}Br([g(1)],Pb.prototype,"width",void 0),Br([g("")],Pb.prototype,"dashArray",void 0),Br([g(!0)],Pb.prototype,"visible",void 0),Br([g(null)],Pb.prototype,"color",void 0),Br([g(1)],Pb.prototype,"opacity",void 0);class Ob extends he{}Br([g(1)],Ob.prototype,"width",void 0),Br([g("")],Ob.prototype,"dashArray",void 0),Br([g(!1)],Ob.prototype,"visible",void 0),Br([g(null)],Ob.prototype,"color",void 0),Br([g(8)],Ob.prototype,"count",void 0);class jw extends he{}Br([g(!0)],jw.prototype,"visible",void 0),Br([g(1)],jw.prototype,"width",void 0),Br([g(null)],jw.prototype,"color",void 0),Br([g("")],jw.prototype,"dashArray",void 0);class Tu extends he{}Br([g(!0)],Tu.prototype,"visible",void 0),Br([g("Outside")],Tu.prototype,"labelPosition",void 0),Br([g("Hide")],Tu.prototype,"labelIntersectAction",void 0),Br([U({},Pb)],Tu.prototype,"majorGridLines",void 0),Br([U({},Ob)],Tu.prototype,"minorGridLines",void 0),Br([U({},jw)],Tu.prototype,"axisLine",void 0),Br([U(_d.axisLabelFont,pl)],Tu.prototype,"labelStyle",void 0);var Ca=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Jp extends he{}Ca([g(!0)],Jp.prototype,"visible",void 0),Ca([g("")],Jp.prototype,"text",void 0),Ca([g("")],Jp.prototype,"description",void 0),Ca([g("Far")],Jp.prototype,"textAlignment",void 0),Ca([g(!0)],Jp.prototype,"enableTrim",void 0),Ca([g(null)],Jp.prototype,"maximumWidth",void 0),Ca([U(_d.smithchartSubtitleFont,pl)],Jp.prototype,"textStyle",void 0);class xd extends he{}Ca([g(!0)],xd.prototype,"visible",void 0),Ca([g("")],xd.prototype,"text",void 0),Ca([g("")],xd.prototype,"description",void 0),Ca([g("Center")],xd.prototype,"textAlignment",void 0),Ca([g(!0)],xd.prototype,"enableTrim",void 0),Ca([g(null)],xd.prototype,"maximumWidth",void 0),Ca([U({},Jp)],xd.prototype,"subtitle",void 0),Ca([U(_d.smithchartTitleFont,pl)],xd.prototype,"font",void 0),Ca([U(_d.smithchartTitleFont,pl)],xd.prototype,"textStyle",void 0);var ki=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class W2 extends he{}ki([g(1)],W2.prototype,"width",void 0),ki([g(null)],W2.prototype,"color",void 0);class Fb extends he{}ki([g(!1)],Fb.prototype,"visible",void 0),ki([g(null)],Fb.prototype,"fill",void 0),ki([g(.95)],Fb.prototype,"opacity",void 0),ki([g("")],Fb.prototype,"template",void 0),ki([U({},W2)],Fb.prototype,"border",void 0);class U2 extends he{}ki([g(3)],U2.prototype,"width",void 0),ki([g("white")],U2.prototype,"color",void 0);class G2 extends he{}ki([g(.1)],G2.prototype,"width",void 0),ki([g("white")],G2.prototype,"color",void 0);class Y2 extends he{}ki([g(1)],Y2.prototype,"width",void 0),ki([g(null)],Y2.prototype,"color",void 0);class ef extends he{}ki([g(!1)],ef.prototype,"visible",void 0),ki([g("")],ef.prototype,"template",void 0),ki([g(null)],ef.prototype,"fill",void 0),ki([g(1)],ef.prototype,"opacity",void 0),ki([U({},G2)],ef.prototype,"border",void 0),ki([U({},Y2)],ef.prototype,"connectorLine",void 0),ki([U(_d.dataLabelFont,pl)],ef.prototype,"textStyle",void 0);class Ed extends he{}ki([g(!1)],Ed.prototype,"visible",void 0),ki([g("circle")],Ed.prototype,"shape",void 0),ki([g(6)],Ed.prototype,"width",void 0),ki([g(6)],Ed.prototype,"height",void 0),ki([g("")],Ed.prototype,"imageUrl",void 0),ki([g("")],Ed.prototype,"fill",void 0),ki([g(1)],Ed.prototype,"opacity",void 0),ki([U({},U2)],Ed.prototype,"border",void 0),ki([U({},ef)],Ed.prototype,"dataLabel",void 0);class wa extends he{}ki([g("visible")],wa.prototype,"visibility",void 0),ki([g([])],wa.prototype,"points",void 0),ki([g("")],wa.prototype,"resistance",void 0),ki([g("")],wa.prototype,"reactance",void 0),ki([g("")],wa.prototype,"tooltipMappingName",void 0),ki([g(null)],wa.prototype,"dataSource",void 0),ki([g("")],wa.prototype,"name",void 0),ki([g(null)],wa.prototype,"fill",void 0),ki([g(!1)],wa.prototype,"enableAnimation",void 0),ki([g("2000ms")],wa.prototype,"animationDuration",void 0),ki([g(!1)],wa.prototype,"enableSmartLabels",void 0),ki([g(1)],wa.prototype,"width",void 0),ki([g(1)],wa.prototype,"opacity",void 0),ki([U({},Ed)],wa.prototype,"marker",void 0),ki([U({},Fb)],wa.prototype,"tooltip",void 0);class g_e{calculateAreaBounds(e,t,i){const s=e.margin,r=e.border,o=this.getLegendSpace(e,i),a=o.leftLegendWidth+s.left+r.width;return{x:a,y:s.top+2*e.elementSpacing+o.modelTitleHeight+o.modelsubTitleHeight+o.topLegendHeight+r.width,width:e.availableSize.width-(a+(o.rightLegendWidth+s.left+s.right+2*r.width)),height:e.availableSize.height-(o.modelTitleHeight+2*e.elementSpacing+o.modelsubTitleHeight+s.top+o.topLegendHeight+o.bottomLegendHeight)}}getLegendSpace(e,t){const i=e.title,s=e.legendSettings,r=s.position.toLowerCase();let o=0,a=0;const h=e.font;let C,c=0,p=0,m=0,y=0,b=0,v=0;return s.visible&&(C=t.width+5+e.elementSpacing+2*s.border.width,p="left"===r?C:0,m="right"===r?C:0,v=s.title.visible?Io(s.title.text,h).height:0,y="top"===r?e.elementSpacing+t.height+v:0,b="bottom"===r?e.elementSpacing+t.height+v:0),o=Io(i.subtitle.text,h).height,c=0,a=""!==i.subtitle.text&&i.subtitle.visible?o:0,{leftLegendWidth:p,rightLegendWidth:m,topLegendHeight:y,bottomLegendHeight:b,modelTitleHeight:0,modelsubTitleHeight:a}}}const SG="animationComplete",xG="titleRender",EG="subtitleRender",DG="textRender",MG="seriesRender",gD="axisLabelRender";class v_e{constructor(){this.radialLabels=[-50,-20,-10,-5,-4,-3,-2,-1.5,-1,-.8,-.6,-.4,-.2,0,.2,.4,.6,.8,1,1.5,2,3,4,5,10,20,50],this.radialLabelCollections=[],this.horizontalLabelCollections=[],this.labelCollections=[],this.direction=new s_e}renderArea(e,t){this.calculateChartArea(e,t),this.calculateCircleMargin(e,t),this.calculateXAxisRange(e),this.calculateRAxisRange(e),this.measureHorizontalAxis(e),this.measureRadialAxis(e),e.horizontalAxis.visible&&this.updateHAxis(e),e.radialAxis.visible&&this.updateRAxis(e),e.horizontalAxis.visible&&this.drawHAxisLabels(e),e.radialAxis.visible&&this.drawRAxisLabels(e)}updateHAxis(e){const i=e.horizontalAxis.minorGridLines,s=e.horizontalAxis.axisLine;e.horizontalAxis.majorGridLines.visible&&this.updateHMajorGridLines(e),i.visible&&this.updateHMinorGridLines(e),s.visible&&this.updateHAxisLine(e)}updateRAxis(e){const i=e.radialAxis.minorGridLines,s=e.radialAxis.axisLine;e.radialAxis.majorGridLines.visible&&this.updateRMajorGridLines(e),i.visible&&this.updateRMinorGridLines(e),s.visible&&this.updateRAxisLine(e)}measureHorizontalAxis(e){const t=e.horizontalAxis.minorGridLines;this.measureHMajorGridLines(e),t.visible&&this.measureHMinorGridLines(e)}measureRadialAxis(e){const t=e.radialAxis.minorGridLines;this.measureRMajorGridLines(e),t.visible&&this.measureRMinorGridLines(e)}calculateChartArea(e,t){let i=e.availableSize.width,s=e.availableSize.height;i=t.width,s=t.height;const r=Math.min(i,s),o=Math.min(i,s);e.chartArea={x:t.x+(t.width/2-r/2),y:t.y+((s-o)/2>0?(s-o)/2:0),width:r,height:o}}calculateCircleMargin(e,t){let s=0;const r=e.chartArea.width,o=e.radius;s=this.maximumLabelLength(e);const a="Outside"===e.radialAxis.labelPosition?s+10:10,h=(r-2*a>0?r-2*a:0)/2,c=o>1?1:o<.1?.1:o;this.areaRadius=h*c,this.circleLeftX=e.chartArea.x+a+h*(1-c),this.circleTopY=e.chartArea.y+a+h*(1-c),this.circleCenterX=this.circleLeftX+this.areaRadius,this.circleCenterY=t.y+t.height/2}maximumLabelLength(e){let t=0;const i=e.horizontalAxis.labelStyle;let s,r;for(let o=0;o<this.radialLabels.length;o++)s=this.radialLabels[o].toString(),r=Io(s,i),t<r.width&&(t=r.width);return t}calculateAxisLabels(){let t=0,i=0;const s=[],r=2*this.areaRadius;for(let a=0;a<2;a+=.1){a=Math.round(10*a)/10;let h=!1,c=!1;const d=r*(1/(a+1))/2*2;0!==t&&1!==a?(a<1&&(h=this.isOverlap(1,r,d,30)),a>1&&(c=this.isOverlap(2,r,d,30)),!h&&!c&&t-d>=30&&(s[i]=a,i++,t=d)):(t=d,s[i]=a,i++)}const o=[2,3,4,5,10,20,50];for(let a=0;a<o.length;a++)s[i]=o[a],i++;return s}isOverlap(e,t,i,s){return i-t*(1/(e+1))/2*2<s}calculateXAxisRange(e){let t,i,s,r;const o=2*this.areaRadius,a=this.calculateAxisLabels(),l=this.circleCenterY,h=this.circleLeftX;let c=this.circleLeftX;for(let d=0;d<a.length;d++)t=a[d],i=1/(t+1),s=o*i/2,"Impedance"===e.renderType&&(c=h+o-2*s),r=c+s,this.horizontalLabelCollections.push({centerX:r,centerY:l,radius:s,value:t,region:null})}calculateRAxisRange(e){let t,i;const s=2*this.areaRadius;let r;const o=new JSe;"Impedance"===e.renderType?(o.x=this.circleLeftX+s,o.y=this.circleTopY+this.areaRadius):(o.x=this.circleLeftX,o.y=this.circleTopY+this.areaRadius);for(let a=0;a<this.radialLabels.length;a++)r=this.radialLabels[a],i=Math.abs(1/r*s/2),t="Impedance"===e.renderType?r>0?o.y-i:o.y+i:r<0?o.y-i:o.y+i,this.radialLabelCollections.push({centerX:o.x,centerY:t,radius:i,value:r})}measureHMajorGridLines(e){let i,s,r,o,a,t=[];this.majorHGridArcPoints=[];for(let l=0;l<this.horizontalLabelCollections.length;l++){let h=new fG;h=this.horizontalLabelCollections[l],t=this.calculateHMajorArcStartEndPoints(h.value),"Impedance"===e.renderType?(r=t[0],o=t[1]):(r=t[1],o=t[0]),a={width:h.radius,height:h.radius},0!==h.value&&50!==h.value?(i=this.intersectingCirclePoints(r[0].centerX,r[0].centerY,r[0].radius,h.centerX,h.centerY,h.radius,e.renderType),s=this.intersectingCirclePoints(o[0].centerX,o[0].centerY,o[0].radius,h.centerX,h.centerY,h.radius,e.renderType),this.majorHGridArcPoints.push({startPoint:i,endPoint:s,rotationAngle:2*Math.PI,sweepDirection:"Impedance"===e.renderType?this.direction.counterclockwise:this.direction.clockwise,isLargeArc:!0,size:a})):(i={x:h.centerX+h.radius,y:h.centerY},s={x:h.centerX+h.radius,y:h.centerY-.05},this.majorHGridArcPoints.push({startPoint:i,endPoint:s,rotationAngle:2*Math.PI,sweepDirection:this.direction.clockwise,isLargeArc:!0,size:a}))}}measureRMajorGridLines(e){let t,i,r,o,a,l,h,c,d,u,s=[];this.majorRGridArcPoints=[],this.labelCollections=[];const p=yG();for(let m=0;m<this.radialLabelCollections.length;m++)t=this.radialLabelCollections[m],!(t.radius<=p)&&(i=t.value,s=this.calculateMajorArcStartEndPoints(t,Math.abs(i),e),r=s[0],o=s[1],a=this.circleXYRadianValue(this.circleCenterX,this.circleCenterY,o.x,o.y),l=a*(180/Math.PI),0!==i?(h={x:r.x,y:r.y},c={x:o.x,y:o.y},d={width:t.radius,height:t.radius},u=i>0?this.direction.clockwise:this.direction.counterclockwise,this.majorRGridArcPoints.push({startPoint:h,endPoint:c,size:d,rotationAngle:2*Math.PI,isLargeArc:!1,sweepDirection:u}),this.labelCollections.push({centerX:o.x,centerY:o.y,angle:l,value:i,radius:this.areaRadius,region:null})):(h={x:this.circleLeftX,y:this.circleCenterY},c={x:this.circleCenterX+this.areaRadius,y:this.circleCenterY},this.majorRGridArcPoints.push({startPoint:h,endPoint:c,size:null,rotationAngle:null,isLargeArc:null,sweepDirection:null}),this.labelCollections.push({centerX:"Impedance"===e.renderType?this.circleCenterX-this.areaRadius:this.circleCenterX+this.areaRadius,centerY:this.circleCenterY,angle:"Impedance"===e.renderType?180:360,value:i,radius:this.areaRadius,region:null})))}circleXYRadianValue(e,t,i,s){let r;return r=Math.atan2(s-t,i-e),r=r<0?r+360*Math.PI/180:r,r}calculateMajorArcStartEndPoints(e,t,i){const s=[];let r=[];const o=this.circleCenterX,a=this.circleCenterY;return t>=10?s[0]="Impedance"===i.renderType?{x:o+this.areaRadius,y:a}:{x:o-this.areaRadius,y:a}:r=this.horizontalLabelCollections.filter(t>=3?l=>10===l.value:t>=1?l=>5===l.value:l=>3===l.value),r.length>0&&(s[0]=this.intersectingCirclePoints(e.centerX,e.centerY,e.radius,r[0].centerX,r[0].centerY,r[0].radius,i.renderType)),s[1]=this.intersectingCirclePoints(e.centerX,e.centerY,e.radius,o,a,this.areaRadius,i.renderType),s}calculateHMajorArcStartEndPoints(e){const t=[];let i,s;return e<=.3?(i=2,s=-2):e<=1?(i=3,s=-3):e<=2?(i=5,s=-5):e<=5?(i=10,s=-10):(i=50,s=-50),t[0]=this.radialLabelCollections.filter(r=>r.value===i),t[1]=this.radialLabelCollections.filter(r=>r.value===s),t}calculateMinorArcStartEndPoints(e){let t,i;const s=[];return e<=.1?(t=1,i=-1):e<=.2?(t=.8,i=-.8):e<=.3?(t=.4,i=-.4):e<=.6?(t=1,i=-1):e<=1?(t=1.5,i=-1.5):e<=1.5?(t=2,i=-2):e<=2?(t=1,i=-1):e<=5?(t=3,i=-3):(t=10,i=-10),s[0]=this.radialLabelCollections.filter(r=>r.value===t),s[1]=this.radialLabelCollections.filter(r=>r.value===i),s}intersectingCirclePoints(e,t,i,s,r,o,a){const l={x:0,y:0},h=e-s,c=t-r,d=Math.sqrt(h*h+c*c),u=d*d,p=(i*i-o*o)/(2*u),m=i*i-o*o,y=Math.sqrt(2*(i*i+o*o)/u-m*m/(u*u)-1),b=(e+s)/2+p*(s-e),v=y*(r-t)/2,C=b+v,w=b-v,_=(t+r)/2+p*(r-t),k=y*(e-s)/2,D=_+k,I=_-k;return"Impedance"===a?w<C?(l.x=w,l.y=I):(l.x=C,l.y=D):C>w?(l.x=C,l.y=D):(l.x=w,l.y=I),{x:l.x,y:l.y}}updateHMajorGridLines(e){const t=e.horizontalAxis.majorGridLines,i=e.renderer.createGroup({id:e.element.id+"_svg_horizontalAxisMajorGridLines"}),s=this.calculateGridLinesPath(this.majorHGridArcPoints),r=new Ro(e.element.id+"_horizontalAxisMajorGridLines","none",t.width,t.color?t.color:e.themeStyle.majorGridLine,t.opacity,t.dashArray,s),o=e.renderer.drawPath(r);i.appendChild(o),e.svgObject.appendChild(i)}updateRMajorGridLines(e){const t=e.radialAxis.majorGridLines,i=e.renderer.createGroup({id:e.element.id+"_svg_radialAxisMajorGridLines"}),s=this.calculateGridLinesPath(this.majorRGridArcPoints),r=new Ro(e.element.id+"_radialAxisMajorGridLines","none",t.width,t.color?t.color:e.themeStyle.majorGridLine,t.opacity,t.dashArray,s),o=e.renderer.drawPath(r);i.appendChild(o),e.svgObject.appendChild(i)}updateHAxisLine(e){const t=this.areaRadius,i=e.horizontalAxis.axisLine,s=e.renderer.createGroup({id:e.element.id+"_svg_hAxisLine"}),c=2*Math.PI,u=new Ro(e.element.id+"_horizontalAxisLine","none",i.width,i.color?i.color:e.themeStyle.axisLine,1,i.dashArray,"M"+(this.circleCenterX+t)+" "+this.circleCenterY+" A "+t+" "+t+" "+c+" 1 "+this.direction.clockwise+" "+(this.circleCenterX+t)+" "+(this.circleCenterY-.05)),p=e.renderer.drawPath(u);s.appendChild(p),e.svgObject.appendChild(s)}updateRAxisLine(e){const t=this.areaRadius,i=e.radialAxis.axisLine,d=new Ro(e.element.id+"_radialAxisLine","none",i.width,i.color?i.color:e.themeStyle.axisLine,1,i.dashArray,"M "+(this.circleCenterX-t)+" "+this.circleCenterY+" A 0 0 0 0 "+this.direction.counterclockwise+" "+(this.circleCenterX+t)+" "+this.circleCenterY),u=e.renderer.createGroup({id:e.element.id+"_svg_rAxisLine"}),p=e.renderer.drawPath(d);u.appendChild(p),e.svgObject.appendChild(u)}drawHAxisLabels(e){const t=e.horizontalAxis;e.radialAxis.labelStyle.fontFamily=e.themeStyle.fontFamily||e.radialAxis.labelStyle.fontFamily;const i=e.horizontalAxis.labelStyle;let s,r,o,a,l,h,c,d,u,p,m,y,b;const v=e.renderer.createGroup({id:e.element.id+"_HAxisLabels"});for(let C=0;C<this.horizontalLabelCollections.length;C++)if(s=this.horizontalLabelCollections[C],r=this.horizontalLabelCollections[C].value.toString(),0!==s.value){if(o="Impedance"===e.renderType?s.centerX-s.radius:s.centerX+s.radius,a=s.centerY,l=Io(r,i),o="Impedance"===e.renderType?o-l.width:o,"Outside"===t.labelPosition?a-=l.height/4:a+=l.height,this.horizontalLabelCollections[C].region=this.calculateRegion(r,l,o,a),"Hide"===t.labelIntersectAction){h=this.horizontalLabelCollections[C],c=h.region.bounds,d=c.width,u=c.x;for(let k=1;k<C;k++)p=this.horizontalLabelCollections[k],m=p.region.bounds,y=m.width,b=m.x,"Impedance"===e.renderType&&b+y>u&&(r=""),"Admittance"===e.renderType&&b<u+d&&(r="")}const w={text:r.toString(),x:o,y:a,name:gD,cancel:!1},_=k=>{if(!k.cancel){const D=new Lm(e.element.id+"_HLabel_"+C,w.x,w.y,"none",w.text),I=i.color?i.color:e.themeStyle.axisLabel;i.fontFamily=i.fontFamily||e.themeStyle.labelFontFamily;const O=Rm(D,i,I,v);v.appendChild(O)}};_.bind(this),e.trigger(gD,w,_)}e.svgObject.appendChild(v)}drawRAxisLabels(e){e.radialAxis.labelStyle.fontFamily=e.themeStyle.fontFamily||e.radialAxis.labelStyle.fontFamily;const i=e.radialAxis.labelStyle;let r,o,a,l,h,c,d,u,p,m,y,b,v,C,w,_,k,s=new ZSe;const D=e.radialAxis,I=e.renderer.createGroup({id:e.element.id+"_RAxisLabels"});for(let O=0;O<this.labelCollections.length;O++){if(s=this.labelCollections[O],r=s.value.toString(),o=Io(r,i),a=Math.round(100*s.angle)/100,"Outside"===D.labelPosition?(l=this.circlePointPosition(this.circleCenterX,this.circleCenterY,s.angle,this.areaRadius+2),h=this.setLabelsOutsidePosition(a,l.x,l.y,o)):(l=this.circlePointPosition(this.circleCenterX,this.circleCenterY,s.angle,this.areaRadius-2),h=this.setLabelsInsidePosition(a,l.x,l.y,o)),this.labelCollections[O].region=this.calculateRegion(r,o,h.x,h.y),"Hide"===D.labelIntersectAction){m=this.labelCollections[O],y=m.region.bounds,u=y.width,p=y.height,c=y.x,d=y.y;for(let H=0;H<O;H++)_=this.labelCollections[H],k=_.region.bounds,C=k.width,w=k.height,b=k.x,v=k.y,b<=c+u&&c<=b+C&&v<=d+p&&d<=v+w&&(r=" ")}const N={text:r.toString(),x:h.x,y:h.y,name:gD,cancel:!1},X=H=>{if(!H.cancel){const q=new Lm(e.element.id+"_RLabel_"+O,N.x,N.y,"none",N.text),G=i.color?i.color:e.themeStyle.axisLabel;i.fontFamily=e.themeStyle.labelFontFamily?e.themeStyle.labelFontFamily:i.fontFamily;const A=Rm(q,i,G,I);I.appendChild(A)}};X.bind(this),e.trigger(gD,N,X)}e.svgObject.appendChild(I)}calculateRegion(e,t,i,s){let r=new XSe;return r={bounds:{x:i,y:s,width:t.width,height:t.height},labelText:e},r}updateHMinorGridLines(e){const t=e.horizontalAxis.minorGridLines,i=e.renderer.createGroup({id:e.element.id+"_svg_horizontalAxisMinorGridLines"}),s=this.calculateGridLinesPath(this.minorHGridArcPoints),r=new Ro(e.element.id+"_horizontalAxisMinorGridLines","none",t.width,t.color?t.color:e.themeStyle.minorGridLine,t.opacity,t.dashArray,s),o=e.renderer.drawPath(r);i.appendChild(o),e.svgObject.appendChild(i)}updateRMinorGridLines(e){const t=e.radialAxis.minorGridLines,i=e.renderer.createGroup({id:e.element.id+"_svg_radialAxisMinorGridLines"}),s=this.calculateGridLinesPath(this.minorGridArcPoints),r=new Ro(e.element.id+"_radialAxisMinorGridLines","none",t.width,t.color?t.color:e.themeStyle.minorGridLine,t.opacity,t.dashArray,s),o=e.renderer.drawPath(r);i.appendChild(o),e.svgObject.appendChild(i)}calculateGridLinesPath(e){let t,i,s,r,o,a,h,c,d,l=new o_e,u="";for(let m=0;m<e.length;m++)l=e[m],t=l.startPoint.x,i=l.startPoint.y,s=l.endPoint.x,r=l.endPoint.y,o=l.size?l.size.width:0,a=l.size?l.size.height:0,h=l.rotationAngle?l.rotationAngle:0,c=l.isLargeArc?1:0,d=l.sweepDirection?l.sweepDirection:0,u=u+"M "+t+" "+i+" A "+o+" "+a+" "+h+" "+c+" "+d+" "+s+" "+r+" ";return u.toString()}measureHMinorGridLines(e){let t,i,r,o,a,l,h,s=[];const c=e.horizontalAxis.minorGridLines.count;let d,u,p,m,y,b,v;this.minorHGridArcPoints=[];const C=2*this.areaRadius;for(let w=0;w<this.horizontalLabelCollections.length-3;w++){d=this.horizontalLabelCollections[w],u=this.horizontalLabelCollections[w+1],p=2*(d.radius-u.radius),m=Math.floor(c/100*p),y=p/m;for(let _=0;_<m;_++)b=u.radius+_*y/2,v="Impedance"===e.renderType?this.circleLeftX+C-2*b:this.circleLeftX,h=v+b,r=u.value>5,s=this.calculateMinorArcStartEndPoints(u.value),"Impedance"===e.renderType?(t=s[0],i=s[1]):(t=s[1],i=s[0]),o=this.intersectingCirclePoints(t[0].centerX,t[0].centerY,t[0].radius,h,d.centerY,b,e.renderType),a=this.intersectingCirclePoints(i[0].centerX,i[0].centerY,i[0].radius,h,d.centerY,b,e.renderType),l={width:b,height:b},this.minorHGridArcPoints.push({startPoint:o,endPoint:a,rotationAngle:2*Math.PI,sweepDirection:"Impedance"===e.renderType?this.direction.counterclockwise:this.direction.clockwise,isLargeArc:r,size:l})}}measureRMinorGridLines(e){const t=e.radialAxis.minorGridLines.count;let i,s,r,o,a,l,h,c,d,u,p;const m=Math.PI*(2*this.areaRadius),y=i="Impedance"===e.renderType?this.circleCenterX+this.areaRadius:this.circleCenterX-this.areaRadius,b=this.circleCenterY;this.minorGridArcPoints=[];const v={x:y,y:b};for(let C=2;C<this.labelCollections.length-3;C++){a=this.labelCollections[C],l=this.labelCollections[C+1],"Impedance"===e.renderType?(s=360===l.angle?0:l.angle,r=Math.abs(s-a.angle)):(s=360===a.angle?0:a.angle,r=Math.abs(s-l.angle)),c=m/360*r,d=Math.floor(t/100*c),u=r/d,p=l.value>0?l.value:a.value,o=this.minorGridLineArcIntersectCircle(Math.abs(p));for(let w=1;w<d;w++){const _=u*w+(360===a.angle?s:a.angle),k=this.circlePointPosition(this.circleCenterX,this.circleCenterY,_,this.areaRadius),D=this.arcRadius(v,k,_),O=this.intersectingCirclePoints(i,_>180?this.circleCenterY-D:this.circleCenterY+D,D,o[0].centerX,o[0].centerY,o[0].radius,e.renderType);h={width:D,height:D},this.minorGridArcPoints.push({startPoint:{x:O.x,y:O.y},endPoint:{x:k.x,y:k.y},rotationAngle:2*Math.PI,sweepDirection:a.value>=0?this.direction.clockwise:this.direction.counterclockwise,isLargeArc:!1,size:h})}}}minorGridLineArcIntersectCircle(e){let t;return t=e>=3?20:e>=1.5?10:e>=.6?3:2,this.horizontalLabelCollections.filter(s=>s.value===t)}circlePointPosition(e,t,i,s){const r=i*(Math.PI/180);return{x:e+s*Math.cos(r),y:t+s*Math.sin(r)}}setLabelsInsidePosition(e,t,i,s){let r=t,o=i;return 0===e||360===e?(r-=s.width,o-=s.height/2):90===e?(r-=s.width,o+=s.height/8):180===e?o+=s.height:270===e?o+=s.height/2:e>0&&e<=20?r-=s.width:e>20&&e<=60?(r-=s.width+s.width/2,o+=s.height/2):e>60&&e<90?(r-=s.width+s.width/4,o+=s.height/4):e>90&&e<=135?(r-=s.width/2,o+=s.height/16):e>135&&e<=150?(r+=s.width/2,o+=s.height/2):e>150&&e<180?(r+=s.width/2,o+=s.height):e>180&&e<=210?(r+=s.width/6,o+=s.height/6):e>210&&e<240?o+=s.height/4:e>225&&e<270?o+=s.height/3:e>270&&e<=300?(r-=s.width+s.width/4,o+=s.height/4):e>300&&e<=330?(r-=s.width+s.width/3,o+=s.height/4):e>330&&e<=340?(r-=s.width+s.width/2,o+=s.height/4):e>340&&(r-=s.width,o+=s.height/8),{x:r,y:o}}setLabelsOutsidePosition(e,t,i,s){let r=t,o=i;return 90===e?(r-=s.width/2,o+=s.height):180===e?(r-=s.width+5,o-=s.height/4):270===e?(r-=s.width/2,o-=s.height/4):360===e?(r+=5,o-=s.height/2):e>0&&e<=30?(r+=s.width/4,o+=s.height/8):e>30&&e<=60?(r+=s.width/2,o+=s.height/4):e>60&&e<=90?(r-=s.width/2,o+=s.height):e>90&&e<=135?(r-=s.width,o+=s.height):e>135&&e<=180?(r-=s.width+s.width/4,o+=s.height/4):e>180&&e<=210?(r-=s.width+s.width/4,o-=s.height/4):e>210&&e<=270?(r-=s.width,o-=s.height/4):e>270&&e<=340?o-=s.height/4:e>340&&(o+=s.height/4,r+=s.width/6),{x:r,y:o}}arcRadius(e,t,i){const s=i>180?90*Math.PI/180:270*Math.PI/180,r=(t.x-e.x)/2,o=(t.y-e.y)/2,l=(o-r*((Math.cos(s)*o-Math.sin(s)*r)/(Math.cos(s)*r+Math.sin(s)*o)))/Math.sin(s),h=e.y+Math.sin(s)*l;return Math.abs(e.y-h)}}class C_e{drawMarker(e,t,i,s){if(e.series[t].marker.visible){const r=e.series[t].marker,o=e.series[t].points.length-1,a=r.width,l=r.height,h=r.shape,c=e.renderer.createGroup({id:e.element.id+"_svg_series"+t+"_Marker"});i.appendChild(c);const d=r.border.width,u=r.border.color,p=r.opacity,m=r.fill?r.fill:e.series[t].fill||e.seriesColors[t%e.seriesColors.length];for(let y=0;y<o+1;y++){const b=s[y].point,C=new t_e(e.element.id+"_Series"+t+"_Points"+y+"_Marker"+y,m,u,d,p);c.appendChild(this.drawSymbol(h,r.imageUrl,b,new V2(a,l),C,e))}}}drawSymbol(e,t,i,s,r,o){let a;const l=e.toLowerCase();let h,c,d;const u={color:r.borderColor,width:r.borderWidth},p=r.opacity,m=i.x,y=i.y,b=Math.sqrt(s.height*s.height+s.width*s.width)/2;switch(l){case"circle":h=new vG(r.id,r.fill,u,p,i.x,i.y,b,null),a=o.renderer.drawCircle(h);break;case"rectangle":d="M "+(m+-s.width/2)+" "+(y+-s.height/2)+" L "+(m+s.width/2)+" "+(y+-s.height/2)+" L "+(m+s.width/2)+" "+(y+s.height/2)+" L "+(m+-s.width/2)+" "+(y+s.height/2)+" L "+(m+-s.width/2)+" "+(y+-s.height/2)+"z",c=new Ro(r.id,r.fill,u.width,u.color,p,"",d),a=o.renderer.drawPath(c);break;case"triangle":d="M "+(m+-s.width/2)+" "+(y+s.height/2)+" L "+m+" "+(y+-s.height/2)+" L "+(m+s.width/2)+" "+(y+s.height/2)+" L "+(m+-s.width/2)+" "+(y+s.height/2)+"z",c=new Ro(r.id,r.fill,u.width,u.color,p,"",d),a=o.renderer.drawPath(c);break;case"diamond":d="M "+(m+-s.width/2)+" "+y+" L "+m+" "+(y+-s.height/2)+" L "+(m+s.width/2)+" "+y+" L "+m+" "+(y+s.height/2)+" L "+(m+-s.width/2)+" "+y+"z",c=new Ro(r.id,r.fill,u.width,u.color,p,"",d),a=o.renderer.drawPath(c);break;case"pentagon":for(let C=0;C<=5;C++){const w=b*Math.cos(Math.PI/180*(72*C)),_=b*Math.sin(Math.PI/180*(72*C));d=0===C?"M "+(m+w)+" "+(y+_)+" ":d.concat("L "+(m+w)+" "+(y+_)+" ")}d=d.concat("Z"),c=new Ro(r.id,r.fill,u.width,u.color,p,"",d),a=o.renderer.drawPath(c)}return a}}class w_e{constructor(){this.textOptions=[],this.labelOptions=[],this.allPoints=[]}drawDataLabel(e,t,i,s,r){this.textOptions=[],this.allPoints=[];const o=e.margin;let a;const l=e.series[t].marker;let h,c,d,u;const p=l.dataLabel,m=p.textStyle,y=s.length;for(let v=0;v<y;v++){d=e.series[t].points[v].reactance.toString(),u=Io(d,m),h=s[v].point;const C=h.x-u.width/2,w=h.y-(u.height+l.height+o.top),_=u.width+o.left/2+o.right/2,k=u.height+o.top/2+o.bottom/2;a=v,c=new i_e,c={textX:C+o.left/2,textY:w+k/2+o.top/2,x:C,y:w},this.textOptions[v]={id:e.element.id+"_Series"+t+"_Points"+a+"_dataLabel_displayText"+v,x:c.textX,y:c.textY,fill:"black",text:d,font:m,xPosition:C,yPosition:w,width:_,height:k,location:h,labelOptions:c,visible:!0,connectorFlag:null}}const b=new r_e;b.textOptions=this.textOptions,this.labelOptions.push(b),this.drawDatalabelSymbol(e,t,p,i,r,s)}calculateSmartLabels(e,t){const i=e.textOptions.length;for(let r=0;r<i;r++)this.allPoints[this.allPoints.length]=e.textOptions[r],this.connectorFlag=!1,this.compareDataLabels(r,e,0,t),this.labelOptions[t].textOptions[r]=e.textOptions[r],this.labelOptions[t].textOptions[r].connectorFlag=this.connectorFlag}compareDataLabels(e,t,i,s){const r=this.allPoints.length,o=10;let a,l,h;for(let c=0;c<r;c++)if(h=this.allPoints[c],l=this.allPoints[r-1],a=this.isCollide(h,l),a)switch(this.connectorFlag=!0,i){case 0:this.resetValues(l),this.prevLabel=h,l.xPosition=this.prevLabel.xPosition+(this.prevLabel.width/2+l.width/2+o),l.x=l.xPosition+5,this.compareDataLabels(e,t,i+=1,s);break;case 1:this.resetValues(l),l.xPosition=this.prevLabel.xPosition+this.prevLabel.width/2+l.width/2+o,l.x=l.xPosition+5,l.yPosition=l.location.y+l.height/2+5,l.y=l.yPosition+l.height/2+5,this.compareDataLabels(e,t,i+=1,s);break;case 2:this.resetValues(l),l.yPosition=l.location.y+l.height/2+5,l.y=l.yPosition+l.height/2+5,this.compareDataLabels(e,t,i+=1,s);break;case 3:this.resetValues(l),l.xPosition=this.prevLabel.xPosition-this.prevLabel.width/2-l.width/2-o,l.x=l.xPosition+5,l.yPosition=l.height/2+l.location.y+5,l.y=l.yPosition+l.height/2+5,this.compareDataLabels(e,t,i+=1,s);break;case 4:this.resetValues(l),l.xPosition=this.prevLabel.xPosition-this.prevLabel.width/2-l.width/2-o,l.x=l.xPosition+5,this.compareDataLabels(e,t,i+=1,s);break;case 5:this.resetValues(l),l.xPosition=this.prevLabel.xPosition-this.prevLabel.width/2-l.width/2-o,l.x=l.xPosition+5,l.yPosition=this.prevLabel.yPosition-l.height-o,l.y=l.yPosition+l.height/2+5,this.compareDataLabels(e,t,i+=1,s);break;case 6:this.resetValues(l),l.yPosition=this.prevLabel.yPosition-(l.height+o),l.y=l.yPosition+l.height/2+5,this.compareDataLabels(e,t,i+=1,s);break;case 7:this.resetValues(l),l.xPosition=this.prevLabel.xPosition+this.prevLabel.width/2+l.width/2+o,l.x=l.xPosition+5,l.yPosition=this.prevLabel.yPosition-l.height-o,l.y=l.yPosition+l.height/2+5,this.compareDataLabels(e,t,i+=1,s);break;case 8:this.compareDataLabels(e,t,i=0,s)}}isCollide(e,t){let i=!1;return e!==t&&(i=!(e.y+e.height<t.y||e.y>t.y+t.height||e.x+e.width/2<t.x-t.width/2||e.x-e.width/2>t.x+t.width/2)),i}resetValues(e){e.xPosition=e.labelOptions.x,e.yPosition=e.labelOptions.y,e.x=e.labelOptions.textX,e.y=e.labelOptions.textY}drawConnectorLines(e,t,i,s,r){const o=s.location;let a;a=o.y>s.y?s.y:s.y-s.height/2;const h=e.series[t].marker.dataLabel.connectorLine,d=new Ro(e.element.id+"_dataLabelConnectorLine_series"+t+"_point"+i,"none",h.width,h.color?h.color:e.series[t].fill||e.seriesColors[t%e.seriesColors.length],1,"none","M "+o.x+" "+o.y+" L "+s.x+" "+a),u=e.renderer.drawPath(d);r.appendChild(u)}drawDatalabelSymbol(e,t,i,s,r,o){for(let a=0;a<e.series[t].points.length;a++)if(i.template){const l=Ve("div",{id:e.element.id+"_seriesIndex_"+t+"_Label_Template_Group",className:"template",styles:"position: absolute;"});document.getElementById(e.element.id+"_Secondary_Element").appendChild(l);const h=i.template+"_seriesIndex"+t+"_pointIndex"+a+e.element.id,c={point:e.series[t].points[a].reactance},p=h_e(l_e(i.template)(e),h,c);l.appendChild(p),p.style.left=o[a].point.x-p.offsetWidth/2+"px",p.style.top=o[a].point.y-p.offsetHeight-e.series[t].marker.height/2+"px";const m=parseInt(p.style.left,10),y=parseInt(p.style.top,10);this.labelOptions[t].textOptions[a]={id:h,x:m,y,fill:"black",text:"",font:i.textStyle,xPosition:m,yPosition:y,width:p.offsetWidth,height:p.offsetHeight,location:o[a].point,labelOptions:{textX:m,textY:y,x:m,y},visible:!0,connectorFlag:null}}}}class S_e{constructor(){this.xValues=[],this.yValues=[],this.pointsRegion=[],this.lineSegments=[],this.location=[],this.dataLabel=new w_e}processData(e){const t=e.dataSource,i=e.resistance,s=e.reactance,r=e.tooltipMappingName;e.points=[];for(let o=0;o<t.length;o++)e.points.push({resistance:t[o][i],reactance:t[o][s],tooltip:t[o][r]})}draw(e,t,i){let r,o,c,d,s=e.renderer.createGroup({id:e.element.id+"_svg_seriesCollections"}),a=e.series,l=a.length,h=t.areaRadius;for(let u=0;u<l;u++){let p=u;a[u].dataSource&&a[u].resistance&&a[u].reactance&&this.processData(a[u]),this.pointsRegion[u]=[],this.location[u]=[];for(let _=0;_<a[u].points.length;_++)this.xValues[_]=a[u].points[_].resistance,this.yValues[_]=a[u].points[_].reactance;let y=t.circleCenterY,b=2*t.areaRadius,C=y,w=t.circleCenterX+("Impedance"===e.renderType?h:-h);for(let _=0;_<a[u].points.length;_++){let k=this.xValues[_],D=b*(1/(k+1))/2,I=this.yValues[_],O=Math.abs(1/I*b/2);"Impedance"===e.renderType?(o=I>0?y-O:y+O,r=t.circleLeftX+b-D):(o=I<0?y-O:y+O,r=t.circleLeftX+D),c=t.intersectingCirclePoints(w,o,O,r,C,D,e.renderType);let N=yG();Math.abs(I)<N&&(c.x="Impedance"===e.renderType?r-D:r+D,c.y=y),this.pointsRegion[u][_]=new QSe,this.pointsRegion[u][_]={point:c,x:k,y:I},this.location[u][_]={x:c.x,y:c.y}}for(let _=0;_<a[u].points.length-1;_++)d=_+1,this.lineSegments[_]=new KSe,this.lineSegments[_]={x1:this.xValues[_],y1:this.yValues[_],x2:this.xValues[d],y2:this.yValues[d]};e.svgObject.appendChild(s),this.drawSeries(e,p,s,i)}for(let u=0;u<e.series.length;u++)if(e.series[u].enableSmartLabels&&e.series[u].marker.dataLabel.visible){let p=e.renderer.createGroup({id:e.element.id+"_svg_series"+u+"_Datalabel_connectorLines"}),m=document.getElementById(e.element.id+"_svg_seriesCollection"+u);m&&m.appendChild(p),this.dataLabel.calculateSmartLabels(this.dataLabel.labelOptions[u],u);for(let y=0;y<e.series[u].points.length;y++){let b=this.dataLabel.labelOptions[u].textOptions[y];(b.xPosition+b.width>e.chartArea.x+e.chartArea.width||b.xPosition<e.chartArea.x||b.yPosition<e.chartArea.y||b.yPosition+b.height>e.chartArea.y+e.chartArea.height)&&(this.dataLabel.labelOptions[u].textOptions[y].connectorFlag=!1,this.dataLabel.labelOptions[u].textOptions[y].visible=!1),b.connectorFlag&&this.dataLabel.drawConnectorLines(e,u,y,b,p)}}for(let u=0;u<e.series.length;u++){let p=e.series[u].marker.dataLabel;if(e.series[u].marker.dataLabel.visible){let m=document.getElementById(e.element.id+"_svg_seriesCollection"+u),y=e.renderer.createGroup({id:e.element.id+"_svg_series"+u+"_Datalabel"});m&&m.appendChild(y);for(let b=0;b<e.series[u].points.length;b++){let v=this.dataLabel.labelOptions[u].textOptions[b];if(!p.template&&v.visible){let C=new n_e;C=this.dataLabel.labelOptions[u].textOptions[b];let w=p.textStyle,N=new fD(e.element.id+"_Series"+u+"_Points"+b+"_dataLabel_symbol"+b,p.fill?p.fill:e.series[u].fill||e.seriesColors[u%e.seriesColors.length],e.series[u].marker.dataLabel.border,C.opacity,new pD(C.xPosition,C.yPosition,C.width,C.height)),X=e.renderer.drawRectangle(N);y.appendChild(X);let H={text:C.text,x:C.x,y:C.y,seriesIndex:u,pointIndex:b,name:DG,cancel:!1},q=G=>{if(!G.cancel){let P=Rm(new Lm(C.id,G.x,G.y,"start",G.text),w,w.color?w.color:e.themeStyle.dataLabel,y);y.appendChild(P)}};q.bind(this),e.trigger(DG,H,q)}else if(p.template){let C=document.getElementById(p.template+"_seriesIndex"+u+"_pointIndex"+b+e.element.id);C.style.left=this.dataLabel.labelOptions[u].textOptions[b].xPosition+"px",C.style.top=this.dataLabel.labelOptions[u].textOptions[b].yPosition+"px"}}}}for(let u=0;u<e.series.length;u++)if(e.series[u].enableAnimation&&e.animateSeries){e.series[u].marker.dataLabel.template&&this.animateDataLabelTemplate(u,e);let p=document.getElementById(e.element.id+"_svg_seriesCollection"+u);this.performAnimation(e,p,u)}}drawSeries(e,t,i,s){let r=e.renderer.createGroup({id:e.element.id+"_svg_seriesCollection"+t,"clip-path":"url(#"+e.element.id+"_ChartSeriesClipRect_"+t+")"});r.setAttribute("visibility",e.series[t].visibility),i.appendChild(r);let a,h,o="",c=e.series[t].points.length-1;for(let y=0;y<c;y++){let b=this.pointsRegion[t][y].point,v=this.pointsRegion[t][y+1].point;o=o+"M "+b.x+" "+b.y+" L "+v.x+" "+v.y+" "}a=o.toString();let u={text:e.series[t].name,fill:e.series[t].fill||e.seriesColors[t%e.seriesColors.length],name:MG,cancel:!1},p=y=>{if(!y.cancel){let b=new Ro(e.element.id+"_series"+t+"_points","none",e.series[t].width,u.fill,e.series[t].opacity,"none",a);this.clipRectElement=e.renderer.drawClipPath(new fD(e.element.id+"_ChartSeriesClipRect_"+t,"transparent",{width:1,color:"Gray"},1,{x:s.x,y:s.y,width:e.availableSize.width,height:e.availableSize.height})),r.appendChild(this.clipRectElement);let v=e.renderer.createGroup({id:e.element.id+"_svg"+t});h=e.renderer.drawPath(b),v.appendChild(h),r.appendChild(v)}};p.bind(this),e.trigger(MG,u,p),(new C_e).drawMarker(e,t,r,this.pointsRegion[t]),this.dataLabel.drawDataLabel(e,t,r,this.pointsRegion[t],s)}animateDataLabelTemplate(e,t){let i=t.series[e].points.length,r=parseFloat(t.series[e].animationDuration);for(let o=0;o<i;o++){let a=document.getElementById(t.series[e].marker.dataLabel.template+"_seriesIndex"+e+"_pointIndex"+o+t.element.id);a.style.visibility="hidden",d_e(t,a,0,r,"FadeIn")}}performAnimation(e,t,i){let d,s=new qt({}),o=(document.getElementById("container_svg_seriesCollections"),t.childNodes[0].childNodes[0].childNodes[0]),a=wG("Linear"),l=wG("Reverse"),h=+o.getAttribute("width"),c=+o.getAttribute("x");s.animate(o,{duration:parseFloat(e.series[i].animationDuration),progress:u=>{"Impedance"===e.renderType?(d=a(u.timeStamp-u.delay,0,h,u.duration),o.setAttribute("width",d.toString())):(d=l(u.timeStamp-u.delay,h,0,u.duration),o.setAttribute("x",d.toString()))},end:u=>{"Impedance"===e.renderType?o.setAttribute("width",h.toString()):o.setAttribute("x",c.toString()),e.trigger(SG,{cancel:!1,name:SG,smithchart:e})}})}getLocation(e,t){let i,s;return i=this.location[e][t].x,s=this.location[e][t].y,{x:i,y:s}}}const kG="beforePrint";class AG{constructor(e){this.control=e}print(e){this.smithchartPrint=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.smithchartPrint.moveTo(0,0),this.smithchartPrint.resizeTo(screen.availWidth,screen.availHeight);const t={cancel:!1,htmlContent:this.getHTMLContent(e),name:kG};this.control.trigger(kG,t),t.cancel||S8(t.htmlContent,this.smithchartPrint)}getHTMLContent(e){const t=Ve("div");return e?e instanceof Array?e.forEach(i=>{t.appendChild(mG(i).cloneNode(!0))}):e instanceof Element?t.appendChild(e.cloneNode(!0)):t.appendChild(mG(e).cloneNode(!0)):t.appendChild(this.control.element.cloneNode(!0)),t}export(e,t,i){const s=Ve("canvas",{id:"ej2-canvas",attrs:{width:this.control.availableSize.width.toString(),height:this.control.availableSize.height.toString()}}),r=!(T.userAgent.toString().indexOf("HeadlessChrome")>-1);i=f(i)?lu.Landscape:i;const a=window.URL.createObjectURL(new Blob("SVG"===e?['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+this.control.svgObject.outerHTML+"</svg>"]:[(new XMLSerializer).serializeToString(this.control.svgObject)],{type:"image/svg+xml"}));if("SVG"===e)this.triggerDownload(t,e,a,r);else{const l=new Image,h=s.getContext("2d");l.onload=()=>{if(h.drawImage(l,0,0),window.URL.revokeObjectURL(a),"PDF"===e){const c=new Sp;let d=s.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");c.pageSettings.orientation=i,d=d.slice(d.indexOf(",")+1),c.pages.add().graphics.drawImage(new By(d),0,0,this.control.availableSize.width-60,this.control.availableSize.height),r&&(c.save(t+".pdf"),c.destroy())}else this.triggerDownload(t,e,s.toDataURL("image/png").replace("image/png","image/octet-stream"),r)},l.src=a}}triggerDownload(e,t,i,s){Ve("a",{attrs:{download:e+"."+t.toLocaleLowerCase(),href:i}}).dispatchEvent(new MouseEvent(s?"click":"move",{view:window,bubbles:!1,cancelable:!0}))}}var xn=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let fn=class extends $i{constructor(e,t){super(e,t)}getModuleName(){return"smithchart"}getPersistData(){return""}createChartSvg(){this.removeSvg(),function(n){n.renderer=new jo(n.element.id),function(n){const e=n.element.clientWidth,t=n.element.clientHeight;n.availableSize=new V2(bG(n.width,e)||e||600,bG(n.height,t)||t||450)}(n),n.svgObject=n.renderer.createSvg({id:n.element.id+"_svg",width:n.availableSize.width,height:n.availableSize.height})}(this)}renderTitle(e,t,i){const s=e.font?e.font:e.textStyle;let o,r=Io(e.text,s);const a=e.textAlignment;let l=e.text;const h=f(e.maximumWidth)?Math.abs(this.margin.left+this.margin.right-this.availableSize.width):e.maximumWidth;o=r.width>this.availableSize.width?this.margin.left+this.border.width:"Center"===a?this.availableSize.width/2-r.width/2:"Near"===a?this.margin.left+this.elementSpacing+this.border.width:this.availableSize.width-r.width-(this.margin.right+this.elementSpacing+this.border.width);const d=this.margin.top+r.height/2+this.elementSpacing;e.enableTrim&&r.width>h&&(l=gG(h,e.text,s),r=Io(l,s)),i=this.renderer.createGroup({id:this.element.id+"_Title_Group"});const u={text:l,x:o,y:d,name:xG,cancel:!1};let p;const m=y=>{if(!y.cancel){p=new Lm(this.element.id+"_Smithchart_"+t,y.x,y.y,"start",y.text),s.fontFamily=this.themeStyle.fontFamily||e.textStyle.fontFamily,s.size=this.themeStyle.fontSize||e.textStyle.size,Rm(p,s,this.themeStyle.chartTitle,i).setAttribute("aria-label",e.description||y.text);const v={x:y.x,y:y.y,textSize:r};this.svgObject.appendChild(i),""!==e.subtitle.text&&e.subtitle.visible&&this.renderSubtitle(e,t,r,this.availableSize,v,i)}};m.bind(this),this.trigger(xG,u,m)}renderSubtitle(e,t,i,s,r,o){const a=e.subtitle.textStyle,l=e.subtitle,h=Io(l.text,a);let c=l.text;const d=f(l.maximumWidth)?.75*this.bounds.width:l.maximumWidth;l.enableTrim&&h.width>d&&(c=gG(d,l.text,a));const m="Far"===e.subtitle.textAlignment?"end":"Near"===e.subtitle.textAlignment?"start":"middle",y={text:c,x:"Far"===e.subtitle.textAlignment?r.x+r.textSize.width:"Near"===e.subtitle.textAlignment?r.x:r.x+r.textSize.width/2,y:r.y+2*this.elementSpacing,name:EG,cancel:!1},b=v=>{if(!v.cancel){const w=Rm(new Lm(this.element.id+"_Smithchart_"+t,v.x,v.y,m,v.text),a,this.themeStyle.chartTitle,o);w.setAttribute("aria-label",l.description||v.text),o.appendChild(w)}};b.bind(this),this.trigger(EG,y,b)}renderBorder(){const e=this.border;this.background=this.background?this.background:this.themeStyle.background;const t=new fD(this.element.id+"_SmithchartBorder",this.background,e,1,new pD(e.width/2,e.width/2,this.availableSize.width-e.width,this.availableSize.height-e.width));this.svgObject.appendChild(this.renderer.drawRectangle(t))}onPropertyChanged(e,t){let i=!1;for(const s of Object.keys(e))switch(s){case"background":case"border":case"series":case"legendSettings":case"radius":i=!0;break;case"size":this.createChartSvg(),i=!0;break;case"theme":case"renderType":this.animateSeries=!0,i=!0}i&&this.render()}preRender(){this.allowServerDataBinding=!1,this.trigger("load",{smithchart:this}),this.unWireEVents(),this.initPrivateVariable(),this.wireEVents()}initPrivateVariable(){this.animateSeries=!0}setTheme(){this.themeStyle=function(n){let e;const t=n.toLowerCase(),i="materialdark"===t?"#383838":"fabricdark"===t?"#242424":"#1b1b1b";switch(t){case"highcontrast":e={axisLabel:"#ffffff",axisLine:"#ffffff",majorGridLine:"#BFBFBF",minorGridLine:"#969696",chartTitle:"#ffffff",legendLabel:"#ffffff",background:"#000000",areaBorder:"#ffffff",tooltipFill:"#ffffff",dataLabel:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696"};break;case"materialdark":case"bootstrapdark":case"fabricdark":e={axisLabel:"#DADADA",axisLine:" #6F6C6C",majorGridLine:"#414040",minorGridLine:"#514F4F",chartTitle:"#ffffff",legendLabel:"#DADADA",background:i,areaBorder:" #9A9A9A",tooltipFill:"#F4F4F4",dataLabel:"#DADADA",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A"};break;case"bootstrap4":e={axisLabel:"#212529",axisLine:"#ADB5BD",majorGridLine:"#CED4DA",minorGridLine:"#DEE2E6",chartTitle:"#212529",legendLabel:"#212529",background:"#FFFFFF",areaBorder:"#DEE2E6",tooltipFill:"#000000",dataLabel:"#212529",tooltipBoldLabel:"#FFFFFF",tooltipLightLabel:"#FFFFFF",tooltipHeaderLine:"#FFFFFF",fontFamily:"HelveticaNeue-Medium",fontSize:"16px",labelFontFamily:"HelveticaNeue",tooltipFillOpacity:1,tooltipTextOpacity:.9};break;case"tailwind":e={axisLabel:"#6B7280",axisLine:"#D1D5DB",majorGridLine:"#E5E7EB",minorGridLine:"#D1D5DB",chartTitle:"#374151",legendLabel:"#374151",background:"#FFFFFF",areaBorder:"#D1D5DB6",tooltipFill:"#111827",dataLabel:"#F9FAFB",tooltipBoldLabel:"#F9FAFB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#9CA3AF",fontFamily:"Inter",fontSize:"14px",labelFontFamily:"inter",tooltipFillOpacity:1,tooltipTextOpacity:1};break;case"tailwinddark":e={axisLabel:"#9CA3AF",axisLine:"#4B5563",majorGridLine:"#374151",minorGridLine:"#4B5563",chartTitle:"#D1D5DB",legendLabel:"#D1D5DB",background:"#1f2937",areaBorder:"#4B5563",tooltipFill:"#F9FAFB",dataLabel:"#D1D5DB",tooltipBoldLabel:"#1F2937",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#9CA3AF",fontFamily:"Inter",fontSize:"14px",labelFontFamily:"inter",tooltipFillOpacity:1,tooltipTextOpacity:1};break;case"bootstrap5":e={axisLabel:"#495057",axisLine:"#D1D5DB",majorGridLine:"#E5E7EB",minorGridLine:"#E5E7EB",chartTitle:"#343A40",legendLabel:"#343A40",background:"rgba(255, 255, 255, 0.0)",areaBorder:" #DEE2E6",tooltipFill:"#212529",dataLabel:"#D1D5DB",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",fontFamily:"Helvetica Neue",fontSize:"14px",labelFontFamily:"Helvetica Neue",tooltipFillOpacity:1,tooltipTextOpacity:1};break;case"bootstrap5dark":e={axisLabel:"#CED4DA",axisLine:"#495057",majorGridLine:"#495057",minorGridLine:"#495057",chartTitle:"#E9ECEF",legendLabel:"#E9ECEF",background:"#212529",areaBorder:" #495057",tooltipFill:"#212529",dataLabel:"#D1D5DB",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",fontFamily:"Helvetica Neue",fontSize:"14px",labelFontFamily:"Helvetica Neue",tooltipFillOpacity:1,tooltipTextOpacity:1};break;default:e={axisLabel:"#686868",axisLine:"#b5b5b5",majorGridLine:"#dbdbdb",minorGridLine:"#eaeaea",chartTitle:"#424242",legendLabel:"#353535",background:"#FFFFFF",areaBorder:"Gray",tooltipFill:"rgba(0, 8, 22, 0.75)",dataLabel:"#424242",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff"}}return e}(this.theme),this.seriesColors=function(n){let e;switch(n.toLowerCase()){case"fabric":e=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"bootstrap4":case"bootstrap":e=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"highcontrastlight":case"highcontrast":e=["#79ECE4","#E98272","#DFE6B6","#C6E773","#BA98FF","#FA83C3","#00C27A","#43ACEF","#D681EF","#D8BC6E"];break;case"materialdark":e=["#9ECB08","#56AEFF","#C57AFF","#61EAA9","#EBBB3E","#F45C5C","#8A77FF","#63C7FF","#FF84B0","#F7C928"];break;case"fabricdark":e=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"bootstrapdark":e=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"tailwind":e=["#5A61F6","#65A30D","#334155","#14B8A6","#8B5CF6","#0369A1","#F97316","#9333EA","#F59E0B","#15803D"];break;case"tailwinddark":e=["#8B5CF6","#22D3EE","#F87171","#4ADE80","#E879F9","#FCD34D","#F97316","#2DD4BF","#F472B6","#10B981"];break;case"bootstrap5":e=["#262E0B","#668E1F","#AF6E10","#862C0B","#1F2D50","#64680B","#311508","#4C4C81","#0C7DA0","#862C0B"];break;case"bootstrap5dark":e=["#5ECB9B","#A860F1","#EBA844","#557EF7","#E9599B","#BFC529","#3BC6CF","#7A68EC","#74B706","#EA6266"];break;default:e=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"]}return e}(this.theme)}render(){this.createChartSvg(),this.element.appendChild(this.svgObject),this.setTheme(),this.createSecondaryElement(),this.renderBorder(),this.smithchartLegendModule&&this.legendSettings.visible&&(this.legendBounds=this.smithchartLegendModule.renderLegend(this)),this.legendBounds=this.legendBounds?this.legendBounds:{x:0,y:0,width:0,height:0};const e=new g_e;this.bounds=e.calculateAreaBounds(this,this.title,this.legendBounds),""!==this.title.text&&this.title.visible&&this.renderTitle(this.title,"title",null);const t=new v_e;t.renderArea(this,this.bounds),this.seriesrender=new S_e,this.seriesrender.draw(this,t,this.bounds),this.renderComplete(),this.allowServerDataBinding=!0,this.trigger("loaded",{smithchart:this})}createSecondaryElement(){if(f(document.getElementById(this.element.id+"_Secondary_Element"))){const e=Ve("div",{id:this.element.id+"_Secondary_Element",styles:"z-index:1;"});this.element.appendChild(e);const t=this.element.getBoundingClientRect(),i=document.getElementById(this.element.id+"_svg");if(i){const s=i.getBoundingClientRect();e.style.left=Math.max(s.left-t.left,0)+"px",e.style.top=Math.max(s.top-t.top,0)+"px"}}else CG(this.element.id+"_Secondary_Element")}destroy(){this.element&&(this.unWireEVents(),super.destroy(),this.element.classList.remove("e-smithchart"),this.removeSvg(),this.svgObject=null)}wireEVents(){S.add(this.element,"click",this.smithchartOnClick,this),S.add(this.element,T.touchMoveEvent,this.mouseMove,this),S.add(this.element,T.touchEndEvent,this.mouseEnd,this),window.addEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.smithchartOnResize.bind(this))}mouseMove(e){this.isTouch="touchmove"===e.type||"touch"===e.pointerType||"2"===e.pointerType||this.isTouch,this.tooltipRenderModule&&!this.isTouch&&this.tooltipRenderModule.smithchartMouseMove(this,e)}mouseEnd(e){if(this.isTouch="touchend"===e.type||"touch"===e.pointerType||"2"===e.pointerType,this.tooltipRenderModule&&this.isTouch){const t=this.tooltipRenderModule.smithchartMouseMove(this,e);t&&(this.fadeoutTo=+setTimeout(()=>{t.fadeOut()},2e3))}}smithchartOnClick(e){const s=document.getElementById(e.target.id).parentElement;if("containerlegendItem_Group"===document.getElementById(s.id).parentElement.id&&this.legendSettings.toggleVisibility){const a=s.childNodes[0],l=s.childNodes[1].textContent;let h,c;for(let u=0;u<this.smithchartLegendModule.legendSeries.length;u++)l===this.smithchartLegendModule.legendSeries[u].text&&(h=this.smithchartLegendModule.legendSeries[u].seriesIndex,c=this.smithchartLegendModule.legendSeries[u].fill);const d=document.getElementById(this.element.id+"_svg_seriesCollection"+h);"visible"===d.getAttribute("visibility")?(a.setAttribute("fill","gray"),d.setAttribute("visibility","hidden"),this.series[h].visibility="hidden"):(a.setAttribute("fill",c),d.setAttribute("visibility","visible"),this.series[h].visibility="visible")}}unWireEVents(){S.remove(this.element,"click",this.smithchartOnClick),S.remove(this.element,T.touchMoveEvent,this.mouseMove),S.remove(this.element,T.touchEndEvent,this.mouseEnd),window.removeEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.smithchartOnResize)}print(e){new AG(this).print(e)}export(e,t,i){new AG(this).export(e,t,i)}smithchartOnResize(){return this.animateSeries=!1,this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=+setTimeout(()=>{this.render()},500),!1}requiredModules(){const e=[];this.legendSettings.visible&&e.push({member:"SmithchartLegend",args:[this]});for(let t=0;t<this.series.length;t++)if(this.series[t].tooltip.visible){e.push({member:"TooltipRender",args:[this]});break}return e}removeSvg(){if(CG(this.element.id+"_Secondary_Element"),this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&Ue(this.svgObject)}}};xn([g("Impedance")],fn.prototype,"renderType",void 0),xn([g("")],fn.prototype,"width",void 0),xn([g("")],fn.prototype,"height",void 0),xn([g("Material")],fn.prototype,"theme",void 0),xn([U({},Hw)],fn.prototype,"margin",void 0),xn([U({},pl)],fn.prototype,"font",void 0),xn([U({},uD)],fn.prototype,"border",void 0),xn([U({},xd)],fn.prototype,"title",void 0),xn([Di([{}],wa)],fn.prototype,"series",void 0),xn([U({},Po)],fn.prototype,"legendSettings",void 0),xn([U({},Tu)],fn.prototype,"horizontalAxis",void 0),xn([U({},Tu)],fn.prototype,"radialAxis",void 0),xn([g(null)],fn.prototype,"background",void 0),xn([g(10)],fn.prototype,"elementSpacing",void 0),xn([g(1)],fn.prototype,"radius",void 0),xn([F()],fn.prototype,"beforePrint",void 0),xn([F()],fn.prototype,"animationComplete",void 0),xn([F()],fn.prototype,"load",void 0),xn([F()],fn.prototype,"loaded",void 0),xn([F()],fn.prototype,"legendRender",void 0),xn([F()],fn.prototype,"titleRender",void 0),xn([F()],fn.prototype,"subtitleRender",void 0),xn([F()],fn.prototype,"textRender",void 0),xn([F()],fn.prototype,"axisLabelRender",void 0),xn([F()],fn.prototype,"seriesRender",void 0),xn([F()],fn.prototype,"tooltipRender",void 0),fn=xn([ii],fn);var zt=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class Im extends he{}zt([g("")],Im.prototype,"color",void 0),zt([g(0)],Im.prototype,"width",void 0);class tf extends he{}zt([g(null)],tf.prototype,"size",void 0),zt([g(null)],tf.prototype,"color",void 0),zt([g("Roboto, Segoe UI, Noto, Sans-serif")],tf.prototype,"fontFamily",void 0),zt([g(null)],tf.prototype,"fontWeight",void 0),zt([g(null)],tf.prototype,"fontStyle",void 0),zt([g(1)],tf.prototype,"opacity",void 0);class yD extends he{}zt([g(!1)],yD.prototype,"visible",void 0),zt([g(null)],yD.prototype,"color",void 0),zt([g(1)],yD.prototype,"width",void 0);class sf extends he{}zt([g(!1)],sf.prototype,"visible",void 0),zt([g("")],sf.prototype,"fill",void 0),zt([g("")],sf.prototype,"template",void 0),zt([g("")],sf.prototype,"format",void 0),zt([U({color:"#cccccc",width:.5},Im)],sf.prototype,"border",void 0),zt([U({size:"13px",fontWeight:"Normal",fontStyle:"Normal",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},tf)],sf.prototype,"textStyle",void 0),zt([U({},yD)],sf.prototype,"trackLineSettings",void 0);class q2 extends he{}zt([g("transparent")],q2.prototype,"background",void 0),zt([U({},Im)],q2.prototype,"border",void 0);class Nb extends he{}zt([g(!1)],Nb.prototype,"visible",void 0),zt([g(null)],Nb.prototype,"color",void 0),zt([g("")],Nb.prototype,"dashArray",void 0),zt([g(1)],Nb.prototype,"width",void 0),zt([g(1)],Nb.prototype,"opacity",void 0);class zw extends he{}zt([g(null)],zw.prototype,"startRange",void 0),zt([g(null)],zw.prototype,"endRange",void 0),zt([g(null)],zw.prototype,"color",void 0),zt([g(1)],zw.prototype,"opacity",void 0);class Pm extends he{}zt([g(null)],Pm.prototype,"minX",void 0),zt([g(null)],Pm.prototype,"maxX",void 0),zt([g(null)],Pm.prototype,"minY",void 0),zt([g(null)],Pm.prototype,"maxY",void 0),zt([g(0)],Pm.prototype,"value",void 0),zt([U({},Nb)],Pm.prototype,"lineSettings",void 0);class Ww extends he{}zt([g(5)],Ww.prototype,"left",void 0),zt([g(5)],Ww.prototype,"right",void 0),zt([g(5)],Ww.prototype,"bottom",void 0),zt([g(5)],Ww.prototype,"top",void 0);class Bb extends he{}zt([g([])],Bb.prototype,"visible",void 0),zt([g(1)],Bb.prototype,"opacity",void 0),zt([g(5)],Bb.prototype,"size",void 0),zt([g("#00bdae")],Bb.prototype,"fill",void 0),zt([U({width:1},Im)],Bb.prototype,"border",void 0);class $2 extends he{}zt([g(0)],$2.prototype,"x",void 0),zt([g(0)],$2.prototype,"y",void 0);class Lu extends he{}zt([g([])],Lu.prototype,"visible",void 0),zt([g(1)],Lu.prototype,"opacity",void 0),zt([g("transparent")],Lu.prototype,"fill",void 0),zt([g("")],Lu.prototype,"format",void 0),zt([U({color:"transparent",width:0},Im)],Lu.prototype,"border",void 0),zt([U({size:"14px",fontWeight:"Medium",fontStyle:"Medium",fontFamily:"Roboto, Segoe UI, Noto, Sans-serif"},tf)],Lu.prototype,"textStyle",void 0),zt([U({},$2)],Lu.prototype,"offset",void 0),zt([g("None")],Lu.prototype,"edgeLabelMode",void 0);class X2{constructor(e,t){this.width=e,this.height=t}}function TG(n,e){return null!=n?-1!==n.indexOf("%")?e/100*parseInt(n,10):parseInt(n,10):null}class Ru{constructor(e,t,i,s){this.x=e,this.y=t,this.width=i,this.height=s}}class Vb{constructor(e,t,i,s,r,o,a){this.id=e,this.fill=t,this.opacity=r,this["stroke-width"]=i,this.stroke=s,this.d=a,this["stroke-dasharray"]=o}}class Uw extends Vb{constructor(e,t,i,s,r,o=0,a=0,l=0,h=0){super(e,t,i.width,i.color,s),this.rect=r,this.topLeft=o,this.topRight=a,this.bottomLeft=l,this.bottomRight=h}}class k_e extends Vb{constructor(e,t,i,s,r,o,a,l){super(e,t,i.width,i.color,s),this.cy=o,this.cx=r,this.r=a,this["stroke-dasharray"]=l}}function Z2(n,e){return e&&e.appendChild(n),n}function A_e(n,e,t){return Z2(n.renderer.drawCircle(e),t)}function Gw(n,e,t){return e.d=function(n,e,t,i,s){return"M "+n.x+" "+(e+n.y)+" Q "+n.x+" "+n.y+" "+(n.x+e)+" "+n.y+" L "+(n.x+n.width-t)+" "+n.y+" Q "+(n.x+n.width)+" "+n.y+" "+(n.x+n.width)+" "+(n.y+t)+" L "+(n.x+n.width)+" "+(n.y+n.height-s)+" Q "+(n.x+n.width)+" "+(n.y+n.height)+" "+(n.x+n.width-s)+" "+(n.y+n.height)+" L "+(n.x+i)+" "+(n.y+n.height)+" Q "+n.x+" "+(n.y+n.height)+" "+n.x+" "+(n.y+n.height-i)+" L "+n.x+" "+(e+n.y)+" Z"}(e.rect,e.topLeft,e.topRight,e.bottomLeft,e.bottomRight),Z2(n.renderer.drawPath(e),t)}function Hb(n,e,t){return Z2(n.renderer.drawPath(e),t)}function LG(n,e){let t=document.getElementById("sparklinesmeasuretext");return null===t&&(t=Ve("text",{id:"sparklinesmeasuretext"}),document.body.appendChild(t)),t.innerHTML=n,t.style.fontStyle=e.fontStyle,t.style.fontFamily=e.fontFamily,t.style.visibility="hidden",t.style.top="-100",t.style.left="0",t.style.position="absolute",t.style.fontSize=e.size,t.style.fontWeight=e.fontWeight,t.style.whiteSpace="nowrap",t.style.lineHeight="normal",new X2(t.clientWidth,t.clientHeight)}class L_e{constructor(e,t,i,s,r,o,a=""){this.transform="",this.baseLine="auto",this.id=e,this.x=t,this.y=i,this.anchor=s,this.text=r,this.transform=a,this.baseLine=o}}function R_e(n,e,t,i){const s={id:n.id,x:n.x,y:n.y,transform:n.transform,opacity:e.opacity,fill:t,"font-family":e.fontFamily,"font-weight":e.fontWeight,"font-size":e.size,"font-style":e.fontStyle,"text-anchor":n.anchor,"dominant-baseline":n.baseLine},o=new jo("").createText(s,n.text);return o.style["user-select"]="none",o.style["-moz-user-select"]="none",o.style["-webkit-touch-callout"]="none",o.style["-webkit-user-select"]="none",o.style["-khtml-user-select"]="none",o.style["-ms-user-select"]="none",o.style["-o-user-select"]="none",i.appendChild(o),o}function Om(n){return document.getElementById(n)}class P_e{constructor(e){this.sparkline=e}processData(){let e=this.sparkline.dataSource;f(e)||!e.length||(isNaN(this.sparkline.dataSource[0])&&"Numeric"!==this.sparkline.valueType?this["process"+this.sparkline.valueType]():(e=this.sparkline.enableRtl?e.reverse():e,this.sparkline.sparklineData=e),this.axisCalculation())}processDataManager(){let e,t;this.sparkline.dataSource instanceof Ot?(e=this.sparkline.dataSource,t=this.sparkline.query instanceof Ri?this.sparkline.query:new Ri,e.executeQuery(t).then(s=>{this.sparkline.setProperties({dataSource:s.result},!0),this.sparkline.sparklineData=this.sparkline.dataSource,this.sparkline.processSparklineData()})):this.sparkline.processSparklineData()}processCategory(e=this.sparkline.dataSource,t=this.sparkline.xName,i=this.sparkline.yName){const s=[],r=[];e.forEach(o=>{-1===r.indexOf(o[t])&&r.push(o[t]);const a={};a[this.sparkline.xName]=r.indexOf(o[t]),a[this.sparkline.yName]=o[i],s.push(a)}),this.sparkline.sparklineData=s}processDateTime(e=this.sparkline.dataSource,t=this.sparkline.xName,i=this.sparkline.yName){const s=[];e.forEach(r=>{const o={};o[t]=r[t].getTime(),o[i]=r[i],s.push(o)}),this.sparkline.sparklineData=s}renderSeries(){const e=this.sparkline;this.clipId=e.element.id+"_sparkline_clip_path",this.drawAxis();const t={name:"seriesRendering",cancel:!1,lineWidth:e.lineWidth,border:e.border,fill:e.fill,sparkline:e},i=s=>{if(this.visiblePoints&&!s.cancel){if("Pie"!==e.type&&"WinLoss"!==e.type&&e.rangeBandSettings.length){const r=this.sparkline.renderer.createGroup({id:this.sparkline.element.id+"_sparkline_rangeband_g"});for(let o=0;o<e.rangeBandSettings.length;o++)(e.axisSettings.minY<=e.rangeBandSettings[o].startRange||e.axisSettings.maxY>=e.rangeBandSettings[o].endRange)&&this.rangeBand(e.rangeBandSettings[o],r,o);this.sparkline.svgObject.appendChild(r)}this["render"+e.type](this.visiblePoints,s),this.renderMarker(this.visiblePoints),this.renderLabel(this.visiblePoints)}};i.bind(this),e.trigger("seriesRendering",t,i)}rangeBand(e,t,i){const s=this.sparkline,r=s.availableSize.height-2*s.padding.top,o=s.availableSize.width-2*s.padding.left;let h=r-r/this.unitY*(e.startRange-this.min)+s.padding.top,c=r-r/this.unitY*(e.endRange-this.min)+s.padding.top;c>r+s.padding.top?c=r+s.padding.top:c<0+s.padding.top&&(c=0+s.padding.top),h>r+s.padding.top?h=r+s.padding.top:h<0+s.padding.top&&(h=0+s.padding.top),Hb(this.sparkline,{id:s.element.id+"_rangeBand_"+i,fill:e.color||this.sparkline.sparkTheme.rangeBandColor,opacity:e.opacity,stroke:"transparent","stroke-width":s.lineWidth,d:"M "+s.padding.left+" "+h+" L "+(o+s.padding.left)+" "+h+" L "+(o+s.padding.left)+" "+c+" L "+s.padding.left+" "+c+" Z ","stroke-dasharray":""},t)}renderLine(e,t){const i=this.sparkline,s=this.sparkline.renderer.createGroup({id:i.element.id+"_sparkline_g","clip-path":"url(#"+this.clipId+")"});let r=this.sparkline.fill;r="#00bdae"===this.sparkline.fill&&"Bootstrap4"===this.sparkline.theme?this.sparkline.sparkTheme.axisLineColor:r;const o=new Vb(i.element.id+"_sparkline_line","transparent",t.lineWidth,r,i.opacity);let a="";for(let l=0,h=e.length;l<h;l++)0===l&&(a="M "+e[0].x+" "+e[l].y+" "),a+="L "+e[l].x+" "+e[l].y+" ";o.d=a,Hb(this.sparkline,o,s),this.sparkline.svgObject.appendChild(s)}renderPie(e,t){const i=this.sparkline,s=i.availableSize.height-(i.padding.top+i.padding.bottom),r=i.availableSize.width-(i.padding.left+i.padding.right),o=s<=r?s/2:r/2,a=i.availableSize.width/2,l=i.availableSize.height/2;let c,d,h=0;const u=t.border.color,p=i.opacity,m=t.border.width,y=i.palette.length?i.palette:["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"],b=this.sparkline.renderer.createGroup({id:i.element.id+"_sparkline_g"});let v,C;const w=fe([],[],e);if(i.highPointColor||i.lowPointColor){const _=w.map(k=>k.yVal);v=Math.min.apply(null,_),C=Math.max.apply(null,_)}this.negativePointIndexes=[];for(let D,I,_=0,k=90;_<e.length;_++){k+=h,h=e[_].degree,D=k+h,c=(k-90)*Math.PI/180,d=(D-90)*Math.PI/180,e[_].stAng=c,e[_].endAng=d,I=h<180?"0":"1";const O=e[_].coordinates={sX:a+o*Math.cos(c),sY:l+o*Math.sin(c),eX:a+o*Math.cos(d),eY:l+o*Math.sin(d)},X={id:i.element.id+"_sparkline_pie_"+_,opacity:p,fill:y[_%y.length],stroke:u,"stroke-width":m,d:"M "+a+" "+l+" L "+O.eX+" "+O.eY+" A "+o+" "+o+" 0 "+I+",0 "+O.sX+" "+O.sY+" Z","stroke-dasharray":""};this.getPieSpecialPoint(e[_],i,X,_,C,v,e.length);const H=this.triggerPointRender("pointRendering",_,X.fill,{color:u,width:m});X.fill=H.fill,X.stroke=H.border.color,X["stroke-width"]=H.border.width,H.cancel||Hb(this.sparkline,X,b).setAttribute("aria-label",i.dataSource[_][i.xName]+" : "+e[_].yVal);const q=d-c,G={x:a+o/2*Math.cos(c+q/2),y:l+o/2*Math.sin(c+q/2)};e[_].location.x=G.x,e[_].location.y=G.y}this.sparkline.svgObject.appendChild(b)}getPieSpecialPoint(e,t,i,s,r,o,a){e.yVal<0&&t.negativePointColor&&(i.fill=t.negativePointColor,this.negativePointIndexes.push(s)),0===s&&t.startPointColor?(i.fill=t.startPointColor,this.startPointIndex=s):s===a-1&&t.endPointColor&&(i.fill=t.endPointColor,this.endPointIndex=s),e.yVal===r&&t.highPointColor?(i.fill=t.highPointColor,this.highPointIndex=s):e.yVal===o&&t.lowPointColor&&(i.fill=t.lowPointColor,this.lowPointIndex=s)}renderArea(e,t){const i=this.sparkline,s=this.sparkline.renderer.createGroup({id:i.element.id+"_sparkline_g","clip-path":"url(#"+this.clipId+")"});let r=new Vb(i.element.id+"_sparkline_area",t.fill,0,"transparent",i.opacity),o="",a="";for(let l=0,h=e.length;l<h;l++)0!==l?a+="L "+e[l].x+" "+e[l].y+" ":(o="M "+e[l].x+" "+this.axisHeight+" ",a="M "+e[l].x+" "+e[l].y+" "),o+="L "+e[l].x+" "+e[l].y+" ",l===h-1&&(o+="L "+e[l].x+" "+this.axisHeight+" Z");r.d=o,Hb(this.sparkline,r,s),r=new Vb(i.element.id+"_sparkline_area_str","transparent",t.border.width,t.border.color,i.opacity,"",a),Hb(this.sparkline,r,s),this.sparkline.svgObject.appendChild(s)}renderColumn(e,t){const i=this.sparkline,s=fe([],[],e),r=this.sparkline.renderer.createGroup({id:i.element.id+"_sparkline_g","clip-path":"url(#"+this.clipId+")"});let o,a;if(this.sparkline.highPointColor||this.sparkline.lowPointColor){const p=s.map(m=>m.markerPosition);a=Math.min.apply(null,p),o=Math.max.apply(null,p)}const l=i.element.id+"_sparkline_column_",h=new Uw(l,"",t.border,i.opacity,null),c=i.palette.length;let d;const u=e.length;this.negativePointIndexes=[];for(let p=0;p<u;p++){d=e[p],h.id=l+p,h.fill=c?i.palette[p%c]:t.fill,h.rect=new Ru(d.x,d.y,d.width,d.height),this.getSpecialPoint(!0,d,i,h,p,a,o,u),d.location.y=d.markerPosition<=this.axisHeight?d.y:d.y+d.height,d.location.x=d.x+d.width/2,h.stroke=t.border.color?t.border.color:h.fill;let m={name:"pointRendering",cancel:!1,pointIndex:p,fill:h.fill,border:{color:h.stroke,width:t.border.width}};this.sparkline.trigger("pointRendering",m,()=>{if(d=e[p],h.id=l+p,h.rect=new Ru(d.x,d.y,d.width,d.height),this.getSpecialPoint(!0,d,i,h,p,a,o,u),h.fill=m.fill,h.stroke=m.border.color,d.location.y=d.markerPosition<=this.axisHeight?d.y:d.y+d.height,h["stroke-width"]=m.border.width,d.location.x=d.x+d.width/2,!m.cancel){const y=Gw(i,h,r);y.setAttribute("aria-label",i.dataSource[p][i.xName]+" : "+e[p].yVal),r.appendChild(y)}})}this.sparkline.svgObject.appendChild(r)}renderWinLoss(e,t){const i=this.sparkline,s=this.sparkline.renderer.createGroup({id:i.element.id+"_sparkline_g","clip-path":"url(#"+this.clipId+")"}),r=i.element.id+"_sparkline_winloss_",o=new Uw(r,"",t.border,i.opacity,null);let a;const l=e.length,h=i.palette.length;for(let c=0;c<l;c++){a=e[c],o.id=r+c,o.fill=h?i.palette[c%h]:a.yVal===this.axisValue?this.sparkline.tiePointColor||"#a216f3":a.yVal>this.axisValue?t.fill:i.negativePointColor||"#e20f07",o.stroke=t.border.color?t.border.color:o.fill,o.rect=new Ru(a.x,a.y,a.width,a.height),a.location.x=a.x+a.width/2,a.location.y=a.yVal>=this.axisValue?a.y:a.y+a.height;const d=this.triggerPointRender("pointRendering",c,o.fill,{color:o.stroke,width:t.border.width});o.fill=d.fill,o.stroke=d.border.color,o["stroke-width"]=d.border.width,d.cancel||Gw(i,o,s).setAttribute("aria-label",i.dataSource[c][i.xName]+" : "+e[c].yVal)}this.sparkline.svgObject.appendChild(s)}renderMarker(e){const t=this.sparkline,i=t.markerSettings;if("Pie"===t.type||"WinLoss"===t.type||!i.visible.length)return;const s=fe([],[],e),r=this.sparkline.renderer.createGroup({id:t.element.id+"_sparkline_marker_g","clip-path":"url(#"+this.clipId+")"});let o;const a=t.element.id+"_sparkline_marker_",l=new k_e("",i.fill,i.border,i.opacity,0,0,i.size/2,"");let h,c;const d=i.visible.join();if(d.toLowerCase().indexOf("high")>-1||d.toLowerCase().indexOf("low")>-1){const u=s.map(p=>p.markerPosition);h=Math.min.apply(null,u),c=Math.max.apply(null,u)}this.negativePointIndexes=[];for(let u=0,p=e.length;u<p;u++){o=e[u],l.id=a+u,l.cx=o.location.x,l.cy=o.location.y,l.fill=i.fill;let m=d.toLowerCase().indexOf("all")>-1;m=this.getSpecialPoint(m,o,t,l,u,h,c,p,d.toLowerCase()),l.stroke=i.border.color||l.fill;let y={name:"markerRendering",cancel:!1,border:{color:l.stroke,width:i.border.width},fill:l.fill,pointIndex:u,sparkline:this.sparkline,x:l.cx,y:l.cy,size:i.size};this.sparkline.trigger("markerRendering",y,()=>{if(m&&!y.cancel){l.id=a+u,l.cx=y.x,l.cy=y.y,l.fill=y.fill,l.stroke=y.border.color,l["stroke-width"]=y.border.width,l.r=y.size/2;const b=A_e(t,l,r);b.setAttribute("aria-label",t.dataSource[u][t.xName]+" : "+e[u].yVal),r.appendChild(b)}})}this.sparkline.svgObject.appendChild(r)}getSpecialPoint(e,t,i,s,r,o,a,l,h=""){return t.markerPosition>this.axisHeight&&(s.fill=i.negativePointColor||s.fill,this.negativePointIndexes.push(r),e=e||h.indexOf("negative")>-1),0===r?(s.fill=i.startPointColor||s.fill,this.startPointIndex=r,e=e||h.indexOf("start")>-1):r===l-1&&(s.fill=i.endPointColor||s.fill,this.endPointIndex=r,e=e||h.indexOf("end")>-1),t.markerPosition===o?(s.fill=i.highPointColor||s.fill,this.highPointIndex=r,e=e||h.indexOf("high")>-1):t.markerPosition===a&&(s.fill=i.lowPointColor||s.fill,this.lowPointIndex=r,e=e||h.indexOf("low")>-1),h.indexOf("none")>-1&&(e=!1),e}renderLabel(e){const t=this.sparkline,i=t.dataLabelSettings,s=i.textStyle.color||t.sparkTheme.dataLabelColor;if("WinLoss"===t.type||!i.visible.length)return;const r=fe([],[],e),o=t.element.id+"_sparkline_label_",a=this.sparkline.renderer.createGroup({id:t.element.id+"_sparkline_label_g",style:"pointer-events: none;"});let l,h;const c=o+"text_",d=o+"rect_",u=new L_e("",0,0,"middle","","middle"),p=i.textStyle,m=r.map(D=>D.markerPosition),y=Math.min.apply(null,m),b=Math.max.apply(null,m),C="transparent"!==i.fill||i.border.width?2:0;let w=LG("sparkline_measure_text",p);const _=new Uw("",i.fill,i.border,i.opacity,null);let k;p.fontFamily=t.sparkTheme.labelFontFamily||p.fontFamily;for(let D=0,I=e.length;D<I;D++){h=e[D],u.id=c+D,u.x=h.location.x+i.offset.x,u.y=("Pie"===t.type?h.location.y:h.markerPosition>this.axisHeight?h.location.y+w.height/2+1+2+C:h.location.y-w.height/2-1-C)+i.offset.y,u.text=""!==i.format?this.formatter(i.format,this.sparkline.dataSource[D]):h.yVal.toString();let O={name:"dataLabelRendering",cancel:!1,border:i.border,fill:i.fill,pointIndex:D,sparkline:this.sparkline,x:u.x,y:u.y,text:u.text,color:s};this.sparkline.trigger("dataLabelRendering",O,()=>{w=LG(O.text,p),u.text=O.text;let N=i.visible.join().toLowerCase().indexOf("all")>-1;N=this.getLabelVisible(N,h,D,i,I,y,b),k=this.arrangeLabelPosition(i.edgeLabelMode,N,O.x,D,I,w,C),N&&!O.cancel&&k.render&&(_.id=d+D,_.fill=O.fill,_.stroke=O.border.color,_["stroke-width"]=O.border.width,u.y=O.y,u.x=k.x,_.rect=new Ru(u.x-(w.width/2+C),u.y-C-w.height/1.75,w.width+2*C,w.height+2*C),l=this.sparkline.renderer.createGroup({id:o+"g"+D}),Gw(t,_,l),R_e(u,p,O.color,l),a.appendChild(l))})}this.sparkline.svgObject.appendChild(a)}arrangeLabelPosition(e,t,i,s,r,o,a){return"None"===e||(0===s&&i-o.width/2-a<=0?"Hide"===e?t=!1:i=this.sparkline.padding.left+a+o.width/2:s===r-1&&i+o.width/2+a>=this.sparkline.availableSize.width&&("Hide"===e?t=!1:i-=o.width/2+a)),{x:i,render:t}}getLabelVisible(e,t,i,s,r,o,a){const l=s.visible.join().toLowerCase();return t.markerPosition>this.axisHeight&&(e=e||l.indexOf("negative")>-1),0===i?e=e||l.indexOf("start")>-1:i===r-1&&(e=e||l.indexOf("end")>-1),t.markerPosition===o?e=e||l.indexOf("high")>-1:t.markerPosition===a&&(e=e||l.indexOf("low")>-1),s.visible.join().toLowerCase().indexOf("none")>-1&&(e=!1),e}formatter(e,t){if(f(e))return null;const i=Object.keys(t);for(const s of i)e=e.split("${"+s+"}").join(t[s]);return e}axisCalculation(){this.findRanges(this.sparkline.sparklineData)}getInterval(e,t){let i=1;const s=e[0][t],r=f(e[1])?void 0:e[1][t];if(!f(s)&&!f(r)){const o=fe([],e);let a=[];o.forEach(l=>{f(l[t])||a.push(l)}),a.sort((l,h)=>f(l[t])||f(h[t])?0:l[t]-h[t]),a=this.sparkline.enableRtl?a.reverse():a,i=a[1][t]-a[0][t]}return i}getPaddingInterval(e,t,i,s){let a=1*e.length;a=Math.max(this.sparkline.availableSize.height*(a/100),1);let l=s/a;for(const h of this.sparkline.intervalDivs){const c=1*h;if(a<s/c)break;l=c}return l}findRanges(e){const t=this.sparkline;let i,s,r,o;const a=e.length;let l,h=0;const c=Array.isArray(e)&&"object"!=typeof e[0];if(c)if("Pie"===t.type)for(let G=0;G<a;G++)h+=Math.abs(e[G]);else i=Math.max.apply(null,e),s=Math.min.apply(null,e),r=0,o=a-1;else if("Pie"===t.type)for(let G=0;G<a;G++)h+=Math.abs(e[G][t.yName]);else{if(f(e[0][t.xName])){const G=e.map(A=>A[t.yName]);i=Math.max.apply(null,G),s=Math.min.apply(null,G)}else l=fe([],e),l=l.sort((G,A)=>G[t.yName]-A[t.yName]),i=l[l.length-1][t.yName],s=l[0][t.yName];f(e[0][t.xName])?(r=0,o=a-1):(l=l.sort((G,A)=>G[t.xName]-A[t.xName]),l=this.sparkline.enableRtl?l.reverse():l,o=l[l.length-1][t.xName],r=l[0][t.xName])}let d,u,p,y,m=0;const b=t.padding;let v;const C=t.axisSettings;let w=C.value;if("Pie"!==t.type){this.maxLength=a,u=t.availableSize.height-(b.bottom+b.top),p=t.availableSize.width-(b.left+b.right),o=f(C.maxX)?o:C.maxX,r=f(C.minX)?r:C.minX,i=f(C.maxY)?i:C.maxY,s=f(C.minY)?s:C.minY;const A={name:"axisRendering",cancel:!1,sparkline:t,maxX:o,minX:r,maxY:i,minY:s,value:C.value,lineColor:C.lineSettings.color||this.sparkline.sparkTheme.axisLineColor,lineWidth:C.lineSettings.width};if(t.trigger("axisRendering",A),A.cancel)return void(this.visiblePoints=[]);o=A.maxX,r=A.minX,i=A.maxY,s=A.minY,w=this.axisValue=A.value,this.axisColor=A.lineColor,this.axisWidth=A.lineWidth}let D,I,O,_=o-r,k=i-s;_=0===_?1:_,k=0===k?1:k,this.unitX=_,this.unitY=k,this.min=s,m=0,y=u-u/k*-s,y=s<0&&i<=0?0:s<0&&i>0?y:u,w>=s&&w<=i&&(y=u-Math.round(u*((w-s)/this.unitY))),this.axisHeight=y+b.top;const N=[],X=i-s,H=this.getInterval(e,t.xName),q=this.getPaddingInterval(e,t.xName,t.valueType,X);for(let G=0;G<a;G++)if(f(e[G][t.xName])&&f(e[G][t.yName])&&0!==e[G][t.yName]&&c?(I=G,O=e[G]):f(e[G][t.xName])?(I=G,O=e[G][t.yName]):(I=e[G][t.xName],O=e[G][t.yName]),!f(I)&&!f(O)){if("Line"===t.type||"Area"===t.type)d=s!==i&&1!==a?u-Math.round(u*((O-s)/this.unitY)):b.top,v={x:r!==o?Math.round(p*((I-r)/this.unitX)):p/2,y:d,markerPosition:d};else if("Column"===t.type||"WinLoss"===t.type){let A=p/((o-r)/H+1);const P=1;if(A-=P,m=(I-r)/H*(A+P)+P/2,"WinLoss"===t.type){const M=.5,L=40;d=O>w?u/4:O<w?u*M:u*M-u/L,v={x:m,y:d,height:O!==w?u/4:u/20,width:A,markerPosition:d>y?y+Math.abs(d-y):d}}else{0===G&&"None"!==t.rangePadding&&(s-="Additional"===t.rangePadding?q+b.top:q,i+="Additional"===t.rangePadding?q+b.top:q,_=o-r,k=i-s,_=0===_?1:_,k=0===k?1:k,this.unitX=_,this.unitY=k,this.min=s);const M=u/this.unitY*(O-s);d=Math.abs(u-(O===s&&O>w?1!==a&&1!==this.unitY?u/this.unitY*(s/2):1|M:O===i&&O<w&&1!==a&&1!==this.unitY?u/this.unitY*(-i/2):M)),v={x:m,y:d>y?y:d,height:Math.abs(d-y),width:A,markerPosition:d>y?y+Math.abs(d-y):d}}}else"Pie"===t.type&&(D=Math.abs(O)/h*100,v={percent:D,degree:Math.abs(O)/h*360});"Pie"!==t.type&&(v.x+=b.left,v.y+=b.top),"WinLoss"!==t.type&&(v.markerPosition+=b.top),v.location={x:v.x,y:v.y},v.xVal=I,v.yVal=O,N.push(v)}N.sort((G,A)=>G.x-A.x),this.visiblePoints=N}drawAxis(){const e=this.sparkline,t=this.axisHeight;"WinLoss"!==e.type&&"Pie"!==e.type&&e.axisSettings.lineSettings.visible&&e.svgObject.appendChild(e.renderer.drawLine({id:e.element.id+"_Sparkline_XAxis",x1:e.padding.left,y1:t,x2:e.availableSize.width-e.padding.right,y2:t,stroke:this.axisColor,opacity:e.axisSettings.lineSettings.opacity,"stroke-dasharray":e.axisSettings.lineSettings.dashArray,"stroke-width":this.axisWidth,"clip-path":"url(#"+this.clipId+")"}))}triggerPointRender(e,t,i,s){const r={name:e,cancel:!1,border:s,fill:i,sparkline:this.sparkline,pointIndex:t};return this.sparkline.trigger(e,r),r}}var Ai=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let bi=class extends $i{constructor(e,t){super(e,t),this.isDevice=T.isDevice,this.intervalDivs=[10,5,2,1]}preRender(){this.allowServerDataBinding=!1,this.unWireEvents(),this.trigger("load",{sparkline:this}),this.sparkTheme=function(n){let e;switch(n.toLowerCase()){case"bootstrapdark":case"fabricdark":case"materialdark":case"highcontrast":e={axisLineColor:"#ffffff",dataLabelColor:"#ffffff",rangeBandColor:"#ffffff",tooltipFill:"#ffffff",background:"#000000",tooltipFontColor:"#363F4C",trackerLineColor:"#ffffff"};break;case"bootstrap4":e={axisLineColor:"#6C757D",dataLabelColor:"#212529",rangeBandColor:"#212529",tooltipFill:"#000000",background:"#FFFFFF",tooltipFontColor:"#FFFFFF",trackerLineColor:"#212529",fontFamily:"HelveticaNeue-Medium",tooltipFillOpacity:1,tooltipTextOpacity:.9,labelFontFamily:"HelveticaNeue"};break;case"tailwind":e={axisLineColor:"#4B5563",dataLabelColor:"#212529",rangeBandColor:"#212529",background:"#FFFFFF",tooltipFill:"#111827",tooltipFontColor:"#F9FAFB",trackerLineColor:"#1F2937",fontFamily:"Inter",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Inter"};break;case"tailwinddark":e={axisLineColor:"#D1D5DB",dataLabelColor:"#F9FAFB",rangeBandColor:"#F9FAFB",background:"transparent",tooltipFill:"#F9FAFB",tooltipFontColor:"#1F2937",trackerLineColor:"#9CA3AF",fontFamily:"Inter",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Inter"};break;case"bootstrap5":e={axisLineColor:"#D1D5DB",dataLabelColor:"#343A40",rangeBandColor:"#212529",background:"rgba(255, 255, 255, 0.0)",tooltipFill:"#212529",tooltipFontColor:"#F9FAFB",trackerLineColor:"#1F2937",fontFamily:"Helvetica Neue",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Helvetica Neue"};break;case"bootstrap5dark":e={axisLineColor:"#D1D5DB",dataLabelColor:"#E9ECEF",rangeBandColor:"#ADB5BD",background:"rgba(255, 255, 255, 0.0)",tooltipFill:"#E9ECEF",tooltipFontColor:"#212529",trackerLineColor:"#ADB5BD",fontFamily:"Helvetica Neue",tooltipFillOpacity:1,tooltipTextOpacity:1,labelFontFamily:"Helvetica Neue"};break;default:e={axisLineColor:"#000000",dataLabelColor:"#424242",rangeBandColor:"#000000",background:"#FFFFFF",tooltipFill:"#363F4C",tooltipFontColor:"#ffffff",trackerLineColor:"#000000"}}return e}(this.theme),this.sparklineRenderer=new P_e(this),this.createSVG(),this.wireEvents(),this.setCulture()}render(){this.sparklineRenderer.processDataManager(),this.renderComplete(),this.allowServerDataBinding=!0}processSparklineData(){this.sparklineRenderer.processData(),this.renderSparkline(),this.element.appendChild(this.svgObject),this.setSecondaryElementPosition(),this.trigger("loaded",{sparkline:this})}renderSparkline(){this.renderBorder(),this.createDiv(),this.sparklineRenderer.renderSeries()}createDiv(){let e=document.createElement("div");e.id=this.element.id+"_Secondary_Element",e.setAttribute("style","position: relative"),this.element.appendChild(e),this.element.style.display="block",this.element.style.position="relative"}setSecondaryElementPosition(){let e=Om(this.element.id+"_Secondary_Element");if(!e)return;let t=this.element.getBoundingClientRect(),i=Om(this.element.id+"_svg").getBoundingClientRect();e.style.left=Math.max(i.left-t.left,0)+"px",e.style.top=Math.max(i.top-t.top,0)+"px"}renderBorder(){let t,e=this.containerArea.border.width;(e>0||"transparent"!==this.containerArea.background)&&(t=new Uw(this.element.id+"_SparklineBorder",this.sparkTheme.background,this.containerArea.border,1,new Ru(e/2,e/2,this.availableSize.width-e,this.availableSize.height-e)),this.svgObject.appendChild(Gw(this,t)));let i=this.padding;this.markerSettings.visible.length&&(i.left=0,i.right=0,i.bottom=0,i.top=0),t=new Uw(this.element.id+"_sparkline_clip_rect","transparent",{color:"transparent",width:0},1,new Ru(i.left,i.top,this.availableSize.width-(i.left+i.right),this.availableSize.height-(i.top+i.bottom)));let s=this.renderer.createClipPath({id:this.element.id+"_sparkline_clip_path"});Gw(this,t,s),this.svgObject.appendChild(s)}createSVG(){this.removeSvg(),function(n){n.renderer=new jo(n.element.id),function(n){const e=n.element.clientWidth?n.element.clientWidth:n.element.parentElement?n.element.parentElement.clientWidth?n.element.parentElement.clientWidth:window.innerWidth:100,t=n.element.clientHeight?n.element.clientHeight:n.element.parentElement?n.element.parentElement.clientHeight:50;n.availableSize=new X2(TG(n.width,e)||e,TG(n.height,t)||t||(n.isDevice?Math.min(window.innerWidth,window.innerHeight):t))}(n),n.svgObject=n.renderer.createSvg({id:n.element.id+"_svg",width:n.availableSize.width,height:n.availableSize.height})}(this)}removeSvg(){if(this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&Ue(this.svgObject)}(function(n){const e=document.getElementById(n);e&&Ue(e)})(this.element.id+"_Secondary_Element"),this.sparklineTooltipModule&&this.sparklineTooltipModule.removeTooltipElements()}setCulture(){this.intl=new Gs,this.localeObject=new Na(this.getModuleName(),this.defaultLocalConstants,this.locale)}requiredModules(){let e=[];return(this.tooltipSettings.visible||this.tooltipSettings.trackLineSettings.visible)&&e.push({member:"SparklineTooltip",args:[this]}),e}unWireEvents(){let t=T.isPointer?"pointerleave":"mouseleave";S.remove(this.element,T.touchMoveEvent,this.sparklineMove),S.remove(this.element,t,this.sparklineMouseLeave),S.remove(this.element,T.touchEndEvent,this.sparklineMouseEnd),window.removeEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.sparklineResize)}wireEvents(){let e=T.isPointer?"pointerleave":"mouseleave";S.add(this.element,T.touchMoveEvent,this.sparklineMove,this),S.add(this.element,"click",this.sparklineClick,this),S.add(this.element,e,this.sparklineMouseLeave,this),S.add(this.element,T.touchEndEvent,this.sparklineMouseEnd,this),window.addEventListener(T.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.sparklineResize.bind(this)),new wn(this.element)}sparklineResize(e){let t={name:"resize",previousSize:this.availableSize,sparkline:this,currentSize:new X2(0,0)};return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=+setTimeout(()=>{this.isDestroyed?clearTimeout(this.resizeTo):(this.unWireEvents(),this.createSVG(),this.refreshing=!0,this.wireEvents(),t.currentSize=this.availableSize,this.trigger("resize",t),this.render())},500),!1}sparklineMove(e){this.setSparklineMouseXY(e),this.notify(T.touchMoveEvent,e);let t={name:"sparklineMouseMove",cancel:!1,sparkline:this,event:e};this.trigger(t.name,t);let i=this.isPointRegion(e);if(i.isPointRegion){let s={name:"pointRegionMouseMove",cancel:!1,event:e,sparkline:this,pointIndex:i.pointIndex};this.trigger(s.name,s)}return!1}sparklineClick(e){this.setSparklineMouseXY(e);let t={name:"sparklineMouseClick",cancel:!1,sparkline:this,event:e};this.trigger(t.name,t);let i=this.isPointRegion(e);if(i.isPointRegion){let s={name:"pointRegionMouseClick",cancel:!1,event:e,sparkline:this,pointIndex:i.pointIndex};this.trigger(s.name,s)}return!1}isPointRegion(e){let i=e.target.id.replace(this.element.id+"_","").split("_");if(i[1]===this.type.toLowerCase()){let s=parseInt(i[2],10);return(f(s)||isNaN(s))&&("Line"===this.type||"Area"===this.type)&&this.sparklineRenderer.visiblePoints.forEach((r,o)=>{(function(n,e,t){return n>=t.x&&n<=t.x+t.width&&e>=t.y&&e<=t.y+t.height})(this.mouseX,this.mouseY,new Ru(r.x-5,r.y-5,10,10))&&(s=o)}),{isPointRegion:!0,pointIndex:s}}return{isPointRegion:!1,pointIndex:null}}sparklineMouseEnd(e){return this.setSparklineMouseXY(e),this.notify(T.touchEndEvent,e),!1}sparklineMouseLeave(e){return this.setSparklineMouseXY(e),this.notify(T.isPointer?"pointerleave":"mouseleave",e),!1}setSparklineMouseXY(e){let t,i;e.type.indexOf("touch")>-1?(this.isTouch=!0,i=e.changedTouches[0].clientX,t=e.changedTouches[0].clientY):(this.isTouch="touch"===e.pointerType||"2"===e.pointerType,t=e.clientY,i=e.clientX);let s=this.element.getBoundingClientRect(),r=Om(this.element.id+"_svg").getBoundingClientRect();this.mouseY=t-s.top-Math.max(r.top-s.top,0),this.mouseX=i-s.left-Math.max(r.left-s.left,0)}onPropertyChanged(e,t){let i=!1,s=!1;for(let r of Object.keys(e))switch(r){case"xName":case"yName":case"axisSettings":case"rangeBandSettings":case"type":case"valueType":case"enableRtl":case"dataSource":s=!0;break;case"border":case"markerSettings":case"dataLabelSettings":case"tooltipSettings":case"startPointColor":case"highPointColor":case"lowPointColor":case"endPointColor":case"negativePointColor":case"theme":i=!0}s?(this.createSVG(),this.sparklineRenderer.processData(),this.refreshSparkline()):i&&(this.createSVG(),this.refreshSparkline())}refreshSparkline(){this.renderSparkline(),this.element.appendChild(this.svgObject),this.setSecondaryElementPosition()}getModuleName(){return"sparkline"}destroy(){super.destroy()}getPersistData(){return""}};Ai([g(null)],bi.prototype,"width",void 0),Ai([g(null)],bi.prototype,"height",void 0),Ai([U({},Im)],bi.prototype,"border",void 0),Ai([g("Line")],bi.prototype,"type",void 0),Ai([g("None")],bi.prototype,"rangePadding",void 0),Ai([g(null)],bi.prototype,"dataSource",void 0),Ai([g(null)],bi.prototype,"query",void 0),Ai([g("Numeric")],bi.prototype,"valueType",void 0),Ai([g(null)],bi.prototype,"xName",void 0),Ai([g(null)],bi.prototype,"yName",void 0),Ai([g("#00bdae")],bi.prototype,"fill",void 0),Ai([g("")],bi.prototype,"highPointColor",void 0),Ai([g("")],bi.prototype,"lowPointColor",void 0),Ai([g("")],bi.prototype,"startPointColor",void 0),Ai([g("")],bi.prototype,"endPointColor",void 0),Ai([g("")],bi.prototype,"negativePointColor",void 0),Ai([g("")],bi.prototype,"tiePointColor",void 0),Ai([g([])],bi.prototype,"palette",void 0),Ai([g(1)],bi.prototype,"lineWidth",void 0),Ai([g(1)],bi.prototype,"opacity",void 0),Ai([g(null)],bi.prototype,"format",void 0),Ai([g(!1)],bi.prototype,"useGroupingSeparator",void 0),Ai([U({},sf)],bi.prototype,"tooltipSettings",void 0),Ai([U({},q2)],bi.prototype,"containerArea",void 0),Ai([Di([],zw)],bi.prototype,"rangeBandSettings",void 0),Ai([U({},Pm)],bi.prototype,"axisSettings",void 0),Ai([U({},Bb)],bi.prototype,"markerSettings",void 0),Ai([U({},Lu)],bi.prototype,"dataLabelSettings",void 0),Ai([U({},Ww)],bi.prototype,"padding",void 0),Ai([g("Material")],bi.prototype,"theme",void 0),Ai([F()],bi.prototype,"loaded",void 0),Ai([F()],bi.prototype,"load",void 0),Ai([F()],bi.prototype,"tooltipInitialize",void 0),Ai([F()],bi.prototype,"seriesRendering",void 0),Ai([F()],bi.prototype,"axisRendering",void 0),Ai([F()],bi.prototype,"pointRendering",void 0),Ai([F()],bi.prototype,"pointRegionMouseMove",void 0),Ai([F()],bi.prototype,"pointRegionMouseClick",void 0),Ai([F()],bi.prototype,"sparklineMouseMove",void 0),Ai([F()],bi.prototype,"sparklineMouseClick",void 0),Ai([F()],bi.prototype,"dataLabelRendering",void 0),Ai([F()],bi.prototype,"markerRendering",void 0),Ai([F()],bi.prototype,"resize",void 0),bi=Ai([ii],bi);const IG=["dataLabelTemplate"],K2=["content"],Yw=["tooltipTemplate"];let N_e=["animation","backwardForecast","dashArray","enableTooltip","fill","forwardForecast","intercept","legendShape","marker","name","period","polynomialOrder","type","visible","width"],B_e=[],V_e=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(B_e),this.directivePropList=N_e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-trendline"]],inputs:{animation:"animation",backwardForecast:"backwardForecast",dashArray:"dashArray",enableTooltip:"enableTooltip",fill:"fill",forwardForecast:"forwardForecast",intercept:"intercept",legendShape:"legendShape",marker:"marker",name:"name",period:"period",polynomialOrder:"polynomialOrder",type:"type",visible:"visible",width:"width"},features:[oe]}),n})(),H_e=(()=>{class n extends nn{constructor(){super("trendlines")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-trendlines"]],contentQueries:function(t,i,s){if(1&t&&Se(s,V_e,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),j_e=["color","dashArray","value"],z_e=[],W_e=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(z_e),this.directivePropList=j_e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-segment"]],inputs:{color:"color",dashArray:"dashArray",value:"value"},features:[oe]}),n})(),U_e=(()=>{class n extends nn{constructor(){super("segments")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-segments"]],contentQueries:function(t,i,s){if(1&t&&Se(s,W_e,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})();var Y_e=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)};let q_e=["animation","bearFillColor","binInterval","border","boxPlotMode","bullFillColor","cardinalSplineTension","close","colorName","columnSpacing","columnWidth","columnWidthInPixel","connector","cornerRadius","dashArray","dataSource","dragSettings","drawType","emptyPointSettings","enableComplexProperty","enableSolidCandles","enableTooltip","errorBar","fill","high","intermediateSumIndexes","isClosed","legendImageUrl","legendShape","low","marker","maxRadius","minRadius","name","negativeFillColor","nonHighlightStyle","opacity","open","pointColorMapping","query","segmentAxis","segments","selectionStyle","showMean","showNormalDistribution","size","splineType","stackingGroup","sumIndexes","summaryFillColor","tooltipFormat","tooltipMappingName","trendlines","type","unSelectedStyle","visible","volume","width","xAxisName","xName","yAxisName","yName","zOrder"],$_e=[],PG=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,this.tags=["trendlines","segments"],Hi("currentInstance",this,this.viewContainerRef),this.registerEvents($_e),this.directivePropList=q_e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-series"]],contentQueries:function(t,i,s){if(1&t&&(Se(s,IG,5),Se(s,H_e,5),Se(s,U_e,5)),2&t){let r;de(r=ue())&&(i.dataLabel_template=r.first),de(r=ue())&&(i.childTrendlines=r.first),de(r=ue())&&(i.childSegments=r.first)}},inputs:{animation:"animation",bearFillColor:"bearFillColor",binInterval:"binInterval",border:"border",boxPlotMode:"boxPlotMode",bullFillColor:"bullFillColor",cardinalSplineTension:"cardinalSplineTension",close:"close",colorName:"colorName",columnSpacing:"columnSpacing",columnWidth:"columnWidth",columnWidthInPixel:"columnWidthInPixel",connector:"connector",cornerRadius:"cornerRadius",dashArray:"dashArray",dataSource:"dataSource",dragSettings:"dragSettings",drawType:"drawType",emptyPointSettings:"emptyPointSettings",enableComplexProperty:"enableComplexProperty",enableSolidCandles:"enableSolidCandles",enableTooltip:"enableTooltip",errorBar:"errorBar",fill:"fill",high:"high",intermediateSumIndexes:"intermediateSumIndexes",isClosed:"isClosed",legendImageUrl:"legendImageUrl",legendShape:"legendShape",low:"low",marker:"marker",maxRadius:"maxRadius",minRadius:"minRadius",name:"name",negativeFillColor:"negativeFillColor",nonHighlightStyle:"nonHighlightStyle",opacity:"opacity",open:"open",pointColorMapping:"pointColorMapping",query:"query",segmentAxis:"segmentAxis",segments:"segments",selectionStyle:"selectionStyle",showMean:"showMean",showNormalDistribution:"showNormalDistribution",size:"size",splineType:"splineType",stackingGroup:"stackingGroup",sumIndexes:"sumIndexes",summaryFillColor:"summaryFillColor",tooltipFormat:"tooltipFormat",tooltipMappingName:"tooltipMappingName",trendlines:"trendlines",type:"type",unSelectedStyle:"unSelectedStyle",visible:"visible",volume:"volume",width:"width",xAxisName:"xAxisName",xName:"xName",yAxisName:"yAxisName",yName:"yName",zOrder:"zOrder"},features:[oe]}),function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([ed(),Y_e("design:type",Object)],n.prototype,"dataLabel_template",void 0),n})(),OG=(()=>{class n extends nn{constructor(){super("series")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-series-collection"]],contentQueries:function(t,i,s){if(1&t&&Se(s,PG,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),X_e=["border","color","dashArray","end","horizontalAlignment","isRepeat","isSegmented","opacity","repeatEvery","repeatUntil","rotation","segmentAxisName","segmentEnd","segmentStart","size","sizeType","start","startFromAxis","text","textStyle","verticalAlignment","visible","zIndex"],Z_e=[],K_e=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(Z_e),this.directivePropList=X_e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-stripline"]],inputs:{border:"border",color:"color",dashArray:"dashArray",end:"end",horizontalAlignment:"horizontalAlignment",isRepeat:"isRepeat",isSegmented:"isSegmented",opacity:"opacity",repeatEvery:"repeatEvery",repeatUntil:"repeatUntil",rotation:"rotation",segmentAxisName:"segmentAxisName",segmentEnd:"segmentEnd",segmentStart:"segmentStart",size:"size",sizeType:"sizeType",start:"start",startFromAxis:"startFromAxis",text:"text",textStyle:"textStyle",verticalAlignment:"verticalAlignment",visible:"visible",zIndex:"zIndex"},features:[oe]}),n})(),Q_e=(()=>{class n extends nn{constructor(){super("striplines")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-striplines"]],contentQueries:function(t,i,s){if(1&t&&Se(s,K_e,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),J_e=["customAttributes","end","maximumTextWidth","start","text","type"],exe=[],txe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(exe),this.directivePropList=J_e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-category"]],inputs:{customAttributes:"customAttributes",end:"end",maximumTextWidth:"maximumTextWidth",start:"start",text:"text",type:"type"},features:[oe]}),n})(),ixe=(()=>{class n extends nn{constructor(){super("categories")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-categories"]],contentQueries:function(t,i,s){if(1&t&&Se(s,txe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),sxe=["alignment","border","categories","overflow","textStyle"],nxe=[],rxe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,this.tags=["categories"],Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(nxe),this.directivePropList=sxe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-multilevellabel"]],contentQueries:function(t,i,s){if(1&t&&Se(s,ixe,5),2&t){let r;de(r=ue())&&(i.childCategories=r.first)}},inputs:{alignment:"alignment",border:"border",categories:"categories",overflow:"overflow",textStyle:"textStyle"},features:[oe]}),n})(),oxe=(()=>{class n extends nn{constructor(){super("multilevellabels")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-multilevellabels"]],contentQueries:function(t,i,s){if(1&t&&Se(s,rxe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),axe=["border","coefficient","columnIndex","crossesAt","crossesInAxis","crosshairTooltip","description","desiredIntervals","edgeLabelPlacement","enableAutoIntervalOnZooming","enableScrollbarOnZooming","enableTrim","interval","intervalType","isIndexed","isInversed","labelFormat","labelIntersectAction","labelPadding","labelPlacement","labelPosition","labelRotation","labelStyle","lineBreakAlignment","lineStyle","logBase","majorGridLines","majorTickLines","maximum","maximumLabelWidth","maximumLabels","minimum","minorGridLines","minorTickLines","minorTicksPerInterval","multiLevelLabels","name","opposedPosition","placeNextToAxisLine","plotOffset","plotOffsetBottom","plotOffsetLeft","plotOffsetRight","plotOffsetTop","rangePadding","rowIndex","scrollbarSettings","skeleton","skeletonType","span","startAngle","startFromZero","stripLines","tabIndex","tickPosition","title","titlePadding","titleStyle","valueType","visible","zoomFactor","zoomPosition"],lxe=[],hxe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,this.tags=["stripLines","multiLevelLabels"],Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(lxe),this.directivePropList=axe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-axis"]],contentQueries:function(t,i,s){if(1&t&&(Se(s,Q_e,5),Se(s,oxe,5)),2&t){let r;de(r=ue())&&(i.childStripLines=r.first),de(r=ue())&&(i.childMultiLevelLabels=r.first)}},inputs:{border:"border",coefficient:"coefficient",columnIndex:"columnIndex",crossesAt:"crossesAt",crossesInAxis:"crossesInAxis",crosshairTooltip:"crosshairTooltip",description:"description",desiredIntervals:"desiredIntervals",edgeLabelPlacement:"edgeLabelPlacement",enableAutoIntervalOnZooming:"enableAutoIntervalOnZooming",enableScrollbarOnZooming:"enableScrollbarOnZooming",enableTrim:"enableTrim",interval:"interval",intervalType:"intervalType",isIndexed:"isIndexed",isInversed:"isInversed",labelFormat:"labelFormat",labelIntersectAction:"labelIntersectAction",labelPadding:"labelPadding",labelPlacement:"labelPlacement",labelPosition:"labelPosition",labelRotation:"labelRotation",labelStyle:"labelStyle",lineBreakAlignment:"lineBreakAlignment",lineStyle:"lineStyle",logBase:"logBase",majorGridLines:"majorGridLines",majorTickLines:"majorTickLines",maximum:"maximum",maximumLabelWidth:"maximumLabelWidth",maximumLabels:"maximumLabels",minimum:"minimum",minorGridLines:"minorGridLines",minorTickLines:"minorTickLines",minorTicksPerInterval:"minorTicksPerInterval",multiLevelLabels:"multiLevelLabels",name:"name",opposedPosition:"opposedPosition",placeNextToAxisLine:"placeNextToAxisLine",plotOffset:"plotOffset",plotOffsetBottom:"plotOffsetBottom",plotOffsetLeft:"plotOffsetLeft",plotOffsetRight:"plotOffsetRight",plotOffsetTop:"plotOffsetTop",rangePadding:"rangePadding",rowIndex:"rowIndex",scrollbarSettings:"scrollbarSettings",skeleton:"skeleton",skeletonType:"skeletonType",span:"span",startAngle:"startAngle",startFromZero:"startFromZero",stripLines:"stripLines",tabIndex:"tabIndex",tickPosition:"tickPosition",title:"title",titlePadding:"titlePadding",titleStyle:"titleStyle",valueType:"valueType",visible:"visible",zoomFactor:"zoomFactor",zoomPosition:"zoomPosition"},features:[oe]}),n})(),cxe=(()=>{class n extends nn{constructor(){super("axes")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-axes"]],contentQueries:function(t,i,s){if(1&t&&Se(s,hxe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),dxe=["border","height"],uxe=[],pxe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(uxe),this.directivePropList=dxe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-row"]],inputs:{border:"border",height:"height"},features:[oe]}),n})(),fxe=(()=>{class n extends nn{constructor(){super("rows")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-rows"]],contentQueries:function(t,i,s){if(1&t&&Se(s,pxe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),mxe=["border","width"],gxe=[],yxe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(gxe),this.directivePropList=mxe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-column"]],inputs:{border:"border",width:"width"},features:[oe]}),n})(),bxe=(()=>{class n extends nn{constructor(){super("columns")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-columns"]],contentQueries:function(t,i,s){if(1&t&&Se(s,yxe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),vxe=["colors","end","label","start"],Cxe=[],wxe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(Cxe),this.directivePropList=vxe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-rangecolorsetting"]],inputs:{colors:"colors",end:"end",label:"label",start:"start"},features:[oe]}),n})(),Sxe=(()=>{class n extends nn{constructor(){super("rangecolorsettings")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-rangecolorsettings"]],contentQueries:function(t,i,s){if(1&t&&Se(s,wxe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),Exe=["content","coordinateUnits","description","horizontalAlignment","region","verticalAlignment","x","xAxisName","y","yAxisName"],Dxe=[],FG=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(Dxe),this.directivePropList=Exe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-annotation"]],contentQueries:function(t,i,s){if(1&t&&Se(s,K2,5),2&t){let r;de(r=ue())&&(i.content=r.first)}},inputs:{content:"content",coordinateUnits:"coordinateUnits",description:"description",horizontalAlignment:"horizontalAlignment",region:"region",verticalAlignment:"verticalAlignment",x:"x",xAxisName:"xAxisName",y:"y",yAxisName:"yAxisName"},features:[oe]}),n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([ed(),function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],FG.prototype,"content",void 0);let Mxe=(()=>{class n extends nn{constructor(){super("annotations")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-annotations"]],contentQueries:function(t,i,s){if(1&t&&Se(s,FG,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),kxe=["point","series"],Axe=[],Txe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(Axe),this.directivePropList=kxe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-selecteddataindex"]],inputs:{point:"point",series:"series"},features:[oe]}),n})(),Lxe=(()=>{class n extends nn{constructor(){super("selecteddataindexes")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-selecteddataindexes"]],contentQueries:function(t,i,s){if(1&t&&Se(s,Txe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),Rxe=["animation","bandColor","close","colorName","dPeriod","dashArray","dataSource","enableComplexProperty","fastPeriod","field","fill","high","kPeriod","low","lowerLine","macdLine","macdNegativeColor","macdPositiveColor","macdType","open","overBought","overSold","period","periodLine","pointColorMapping","query","segmentAxis","segments","seriesName","showZones","slowPeriod","standardDeviation","type","upperLine","visible","volume","width","xAxisName","xName","yAxisName"],Ixe=[],Pxe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(Ixe),this.directivePropList=Rxe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-indicator"]],inputs:{animation:"animation",bandColor:"bandColor",close:"close",colorName:"colorName",dPeriod:"dPeriod",dashArray:"dashArray",dataSource:"dataSource",enableComplexProperty:"enableComplexProperty",fastPeriod:"fastPeriod",field:"field",fill:"fill",high:"high",kPeriod:"kPeriod",low:"low",lowerLine:"lowerLine",macdLine:"macdLine",macdNegativeColor:"macdNegativeColor",macdPositiveColor:"macdPositiveColor",macdType:"macdType",open:"open",overBought:"overBought",overSold:"overSold",period:"period",periodLine:"periodLine",pointColorMapping:"pointColorMapping",query:"query",segmentAxis:"segmentAxis",segments:"segments",seriesName:"seriesName",showZones:"showZones",slowPeriod:"slowPeriod",standardDeviation:"standardDeviation",type:"type",upperLine:"upperLine",visible:"visible",volume:"volume",width:"width",xAxisName:"xAxisName",xName:"xName",yAxisName:"yAxisName"},features:[oe]}),n})(),Oxe=(()=>{class n extends nn{constructor(){super("indicators")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-indicators"]],contentQueries:function(t,i,s){if(1&t&&Se(s,Pxe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})();var NG=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},BG=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)};const Fxe=["afterExport","animationComplete","annotationRender","axisLabelClick","axisLabelRender","axisMultiLabelRender","axisRangeCalculated","beforeExport","beforePrint","beforeResize","chartMouseClick","chartMouseDown","chartMouseLeave","chartMouseMove","chartMouseUp","drag","dragComplete","dragEnd","dragStart","legendClick","legendRender","load","loaded","multiLevelLabelClick","onZooming","pointClick","pointDoubleClick","pointMove","pointRender","resized","scrollChanged","scrollEnd","scrollStart","selectionComplete","seriesRender","sharedTooltipRender","textRender","tooltipRender","zoomComplete","dataSourceChange"],Nxe=["dataSource"];let bD=(()=>{let n=class extends D2{constructor(t,i,s,r){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=s,this.injector=r,this.tags=["series","axes","rows","columns","rangeColorSettings","annotations","selectedDataIndexes","indicators"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let o=this.injector.get("ChartsLineSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsScatterSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsColumnSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsSplineSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsSplineAreaSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStripLine");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsAreaSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsScrollBar");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStepLineSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStepAreaSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStackingColumnSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStackingLineSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStackingAreaSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStackingStepAreaSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsBarSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStackingBarSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsRangeColumnSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsBubbleSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsTooltip");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsCrosshair");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsCategory");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsDateTime");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsLogarithmic");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsLegend");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsZoom");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsDataLabel");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsSelection");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsChartAnnotation");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsHiloSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsHiloOpenCloseSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsWaterfallSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsRangeAreaSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsSplineRangeAreaSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsCandleSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsPolarSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsRadarSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsSmaIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsTmaIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsEmaIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsAccumulationDistributionIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsMacdIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsAtrIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsRsiIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsMomentumIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStochasticIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsBollingerBands");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsBoxAndWhiskerSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsHistogramSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsErrorBar");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsTrendlines");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsDateTimeCategory");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsMultiColoredLineSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsMultiColoredAreaSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsMultiLevelLabel");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsParetoSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsExport");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsDataEditing");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsHighlight");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}this.registerEvents(Fxe),this.addTwoWay.call(this,Nxe),Hi("currentInstance",this,this.viewContainerRef),this.context=new Xn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childSeries,this.childAxes&&(this.tagObjects[1].instance=this.childAxes),this.childRows&&(this.tagObjects[2].instance=this.childRows),this.childColumns&&(this.tagObjects[3].instance=this.childColumns),this.childRangeColorSettings&&(this.tagObjects[4].instance=this.childRangeColorSettings),this.childAnnotations&&(this.tagObjects[5].instance=this.childAnnotations),this.childSelectedDataIndexes&&(this.tagObjects[6].instance=this.childSelectedDataIndexes),this.childIndicators&&(this.tagObjects[7].instance=this.childIndicators),this.context.ngAfterContentChecked(this)}};return n.\u0275fac=function(t){return new(t||n)(E(_e),E(ns),E(Ye),E(_t))},n.\u0275cmp=ct({type:n,selectors:[["ejs-chart"]],contentQueries:function(t,i,s){if(1&t&&(Se(s,Yw,5),Se(s,OG,5),Se(s,cxe,5),Se(s,fxe,5),Se(s,bxe,5),Se(s,Sxe,5),Se(s,Mxe,5),Se(s,Lxe,5),Se(s,Oxe,5)),2&t){let r;de(r=ue())&&(i.tooltip_template=r.first),de(r=ue())&&(i.childSeries=r.first),de(r=ue())&&(i.childAxes=r.first),de(r=ue())&&(i.childRows=r.first),de(r=ue())&&(i.childColumns=r.first),de(r=ue())&&(i.childRangeColorSettings=r.first),de(r=ue())&&(i.childAnnotations=r.first),de(r=ue())&&(i.childSelectedDataIndexes=r.first),de(r=ue())&&(i.childIndicators=r.first)}},inputs:{allowExport:"allowExport",allowMultiSelection:"allowMultiSelection",annotations:"annotations",axes:"axes",background:"background",backgroundImage:"backgroundImage",border:"border",chartArea:"chartArea",columns:"columns",crosshair:"crosshair",currencyCode:"currencyCode",dataSource:"dataSource",description:"description",enableAnimation:"enableAnimation",enableAutoIntervalOnBothAxis:"enableAutoIntervalOnBothAxis",enableCanvas:"enableCanvas",enableExport:"enableExport",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableSideBySidePlacement:"enableSideBySidePlacement",height:"height",highlightMode:"highlightMode",highlightPattern:"highlightPattern",indicators:"indicators",isMultiSelect:"isMultiSelect",isTransposed:"isTransposed",legendSettings:"legendSettings",locale:"locale",margin:"margin",palettes:"palettes",primaryXAxis:"primaryXAxis",primaryYAxis:"primaryYAxis",rangeColorSettings:"rangeColorSettings",rows:"rows",selectedDataIndexes:"selectedDataIndexes",selectionMode:"selectionMode",selectionPattern:"selectionPattern",series:"series",subTitle:"subTitle",subTitleStyle:"subTitleStyle",tabIndex:"tabIndex",theme:"theme",title:"title",titleStyle:"titleStyle",tooltip:"tooltip",useGroupingSeparator:"useGroupingSeparator",width:"width",zoomSettings:"zoomSettings"},outputs:{afterExport:"afterExport",animationComplete:"animationComplete",annotationRender:"annotationRender",axisLabelClick:"axisLabelClick",axisLabelRender:"axisLabelRender",axisMultiLabelRender:"axisMultiLabelRender",axisRangeCalculated:"axisRangeCalculated",beforeExport:"beforeExport",beforePrint:"beforePrint",beforeResize:"beforeResize",chartMouseClick:"chartMouseClick",chartMouseDown:"chartMouseDown",chartMouseLeave:"chartMouseLeave",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",drag:"drag",dragComplete:"dragComplete",dragEnd:"dragEnd",dragStart:"dragStart",legendClick:"legendClick",legendRender:"legendRender",load:"load",loaded:"loaded",multiLevelLabelClick:"multiLevelLabelClick",onZooming:"onZooming",pointClick:"pointClick",pointDoubleClick:"pointDoubleClick",pointMove:"pointMove",pointRender:"pointRender",resized:"resized",scrollChanged:"scrollChanged",scrollEnd:"scrollEnd",scrollStart:"scrollStart",selectionComplete:"selectionComplete",seriesRender:"seriesRender",sharedTooltipRender:"sharedTooltipRender",textRender:"textRender",tooltipRender:"tooltipRender",zoomComplete:"zoomComplete",dataSourceChange:"dataSourceChange"},features:[oe],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();NG([ed(),BG("design:type",Object)],bD.prototype,"tooltip_template",void 0),bD=NG([ah([Xn]),BG("design:paramtypes",[_e,ns,Ye,_t])],bD);let Q2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[Rs]]}),n})();const VG={provide:"ChartsLineSeries",useValue:sG},HG={provide:"ChartsScatterSeries",useValue:class{render(e,t,i,s){e.isRectSeries=!1;const r=e.marker,o=this.enableComplexProperty(e);let a;const l="PolarRadar"===e.chart.chartAreaType?Mm:ot;let h;const c=e.chart.redraw;for(const d of o)h=c&&d.symbolLocations?d.symbolLocations[0]:null,d.symbolLocations=[],d.regions=[],d.visible&&Fn(o[d.index-1],d,o[d.index+1],e)&&(a={cancel:!1,name:_h,series:e,point:d,fill:e.setPointColor(d,e.interior),border:e.setBorderColor(d,{width:e.border.width,color:e.border.color}),height:r.height,width:r.width,shape:r.shape},e.chart.trigger(_h,a),a.cancel?d.marker={visible:!0}:(d.symbolLocations.push(l(d.xValue,d.yValue,t,i,s,e)),d.color=a.fill,this.refresh(e,d,a,h)))}enableComplexProperty(e){const t=[],i=[],s=e.yAxis.visibleRange,r=e.xAxis.visibleRange,o=e.clipRect,a=e.points,l=Math.abs(s.delta/o.height),h=Math.abs(r.delta/o.width);let m,c=a[0]&&a[0].y>l?0:l,d=a[0]&&a[0].x>h?0:h,u=0,p=0;for(const y of a)y.symbolLocations=[],u=y.yValue?y.yValue:s.min,p=y.xValue?y.xValue:r.min,(Math.abs(c-u)>=l||Math.abs(d-p)>=h)&&(i.push(y),c=u,d=p);for(let y=0;y<i.length;y++)m=i[y],!f(m.x)&&""!==m.x&&t.push(m);return t}refresh(e,t,i,s){const r=e.chart;let o,a;const l=e.marker,h=i.point.marker.imageUrl||l.imageUrl,c=new nt(r.element.id+"_Series_"+e.index+"_Point_"+t.index,i.fill,i.border.width,i.border.color,e.opacity,null);r.redraw&&se(c.id)&&(o="Circle"===i.shape?"c":"",a=se(c.id).getAttribute("d")),lt(!1,e.seriesElement,mo(t.symbolLocations[0],i.shape,new xt(i.width,i.height),h,c,(t.x.toString(),t.yValue.toString()),e.chart.svgRenderer,e.clipRect),r.redraw,!0,o+"x",o+"y",s,a),t.regions.push(new ce(t.symbolLocations[0].x-l.width,t.symbolLocations[0].y-l.height,2*l.width,2*l.height)),t.marker={border:i.border,fill:i.fill,height:i.height,visible:!0,width:i.width,shape:i.shape,imageUrl:h}}doAnimation(e){const t=e.animation.duration,i=e.animation.delay,s=e.seriesElement.childNodes;let r=1;for(const o of e.points)!o.symbolLocations.length||!s[r]||(km(s[r],i,t,e,o.index,o.symbolLocations[0],!1),r++)}getModuleName(){return"ScatterSeries"}destroy(){}}},jG={provide:"ChartsColumnSeries",useValue:nG},zG={provide:"ChartsSplineSeries",useValue:class extends A2{render(e,t,i,s){let r=null,o="",a="M",l=[];const h="TrendLine"===e.category?e.points:this.enableComplexProperty(e);let c;l=this.filterEmptyPoints(e,h);const d="PolarRadar"===e.chart.chartAreaType?Mm:ot;for(const m of l)c=this.getPreviousIndex(l,m.index-1,e),m.symbolLocations=[],m.regions=[],m.visible&&Fn(l[c],m,l[this.getNextIndex(l,m.index-1,e)],e)?(null!==r&&(o=this.getSplineDirection(e.drawPoints[c],r,m,t,i,s,e,a,d,o),a="L"),r=m,this.storePointLocation(m,e,s,d)):(a="M",r=null,m.symbolLocations=[]);if(l.length>0&&e.drawPoints.length>0&&"PolarRadar"===e.chart.chartAreaType&&e.isClosed){const m=this.getFirstLastVisiblePoint(l);o=this.getSplineDirection(e.drawPoints[e.drawPoints.length-1],m.last,{xValue:m.first.xValue,yValue:m.first.yValue},t,i,s,e,a,d,o),a="L"}const p=new nt("TrendLine"===e.category?e.chart.element.id+"_Series_"+e.sourceIndex+"_TrendLine_"+e.index:e.chart.element.id+"_Series_"+e.index,"transparent",e.width,e.interior,e.opacity,e.dashArray,o);this.appendLinePath(p,e,""),this.renderMarker(e)}getSplineDirection(e,t,i,s,r,o,a,l,h,c){const d=e.controlPoint1,u=e.controlPoint2,p=h(t.xValue,t.yValue,s,r,o,a),m=h(i.xValue,i.yValue,s,r,o,a),y=h(d.x,d.y,s,r,o,a),b=h(u.x,u.y,s,r,o,a);return c.concat(l+" "+p.x+" "+p.y+" C "+y.x+" "+y.y+" "+b.x+" "+b.y+" "+m.x+" "+m.y+" ")}getModuleName(){return"SplineSeries"}destroy(){}}},Bxe={provide:"ChartsSplineAreaSeries",useValue:class extends A2{render(e,t,i,s){let h,c,d,u,p,r=null,o="",a=null,l=null,m=[];const y=[];let b,v=0;m=this.filterEmptyPoints(e);for(let D=0;D<m.length;D++)b=m[D],null!==b.x&&""!==b.x&&(b.index=v,v++,y.push(b));const C=y.length;let w;const _="PolarRadar"===e.chart.chartAreaType?Mm:ot,k="PolarRadar"===e.chart.chartAreaType?e.points[0].yValue:Math.max(e.yAxis.visibleRange.min,0);for(let D=0;D<C;D++)b=y[D],b.symbolLocations=[],b.regions=[],w=this.getPreviousIndex(y,b.index-1,e),b.visible&&Fn(y[w],b,y[this.getNextIndex(y,b.index-1,e)],e)?(r?(u=e.drawPoints[w].controlPoint1,p=e.drawPoints[w].controlPoint2,h=_(b.xValue,b.yValue,t,i,s,e),c=_(u.x,u.y,t,i,s,e),d=_(p.x,p.y,t,i,s,e),o=o.concat("C "+c.x+" "+c.y+" "+d.x+" "+d.y+" "+h.x+" "+h.y+" ")):(a=_(b.xValue,k,t,i,s,e),o+="M "+a.x+" "+a.y+" ",l=_(b.xValue,b.yValue,t,i,s,e),o+="L "+l.x+" "+l.y+" "),this.storePointLocation(b,e,s,_),r=b):(r=null,b.symbolLocations=[]),(D+1<C&&!y[D+1].visible||D===C-1)&&h&&a&&(a=_(b.xValue,k,t,i,s,e),o=o.concat("L "+a.x+" "+a.y));this.appendLinePath(new nt(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,o),e,""),this.renderMarker(e)}getModuleName(){return"SplineAreaSeries"}destroy(){}}},Vxe={provide:"ChartsStripLine",useValue:class{measureStripLine(e,t,i,s,r,o){let a,l;const h=e.orientation,c="DateTime"===e.valueType;if(t.isRepeat&&null!==t.size)a=s,l=null;else if("DateTimeCategory"===e.valueType){const b=t.start,v=t.end;a=null!=b&&"number"!=typeof b?e.labels.indexOf(this.dateToMilliSeconds(b,o).toString()):b,l=null!=v&&"number"!=typeof v?e.labels.indexOf(this.dateToMilliSeconds(v,o).toString()):v}else a=null===t.start?null:c&&this.isCoreDate(t.start)?this.dateToMilliSeconds(t.start,o):+t.start,l=null===t.end?null:c&&this.isCoreDate(t.start)?this.dateToMilliSeconds(t.end,o):+t.end;const d=this.getFromTovalue(a,l,t.size,t.startFromAxis,e,t);let u="Vertical"===h?(d.to-d.from)*e.rect.height:i.height,p="Horizontal"===h?(d.to-d.from)*e.rect.width:i.width,m="Vertical"===h?i.x:d.from*e.rect.width+e.rect.x,y="Horizontal"===h?i.y:e.rect.y+e.rect.height-("Pixel"===t.sizeType?d.from:d.to)*e.rect.height;if(t.isSegmented&&null!=t.segmentStart&&null!=t.segmentEnd&&"Pixel"!==t.sizeType){const b=c&&this.isCoreDate(t.segmentStart)?this.dateToMilliSeconds(t.segmentStart,o):+t.segmentStart,v=c&&this.isCoreDate(t.segmentEnd)?this.dateToMilliSeconds(t.segmentEnd,o):+t.segmentEnd,C=this.getFromTovalue(b,v,null,null,r,t);"Vertical"===r.orientation?(y=r.rect.y+r.rect.height-C.to*r.rect.height,u=(C.to-C.from)*r.rect.height):(m=C.from*r.rect.width+r.rect.x,p=(C.to-C.from)*r.rect.width)}return 0!==u&&0!==p||"Pixel"===t.sizeType&&(null!==t.start||t.startFromAxis)?new ce(m,y,p,u):new ce(0,0,0,0)}getFromTovalue(e,t,i,s,r,o){let a=!o.isRepeat&&s?r.visibleRange.min:e,l=this.getToValue(Math.max(e,f(t)?e:t),a,i,r,t,o);return a=this.findValue(a,r),l=this.findValue(l,r),{from:zi(r.isInversed?l:a,r),to:zi(r.isInversed?a:l,r)}}getToValue(e,t,i,s,r,o){let a=o.sizeType;const l=null===r;if("DateTime"!==s.valueType)return"Pixel"===o.sizeType?t:l?t+i:e;{const h=new Date(t);switch("Auto"===a&&(a=s.actualIntervalType,i*=s.visibleRange.interval),a){case"Years":return l?new Date(h.setFullYear(h.getFullYear()+i)):e;case"Months":return l?new Date(h.setMonth(h.getMonth()+i)):e;case"Days":return l?new Date(h.setDate(h.getDate()+i)):e;case"Hours":return l?new Date(h.setHours(h.getHours()+i)):e;case"Minutes":return l?new Date(h.setMinutes(h.getMinutes()+i)):e;case"Seconds":return l?new Date(h.setSeconds(h.getSeconds()+i)):e;default:return t}}}findValue(e,t){return e<t.visibleRange.min?e=t.visibleRange.min:e>t.visibleRange.max&&(e=t.visibleRange.max),e}dateParse(e,t){let i=t.intl.getDateParser({skeleton:"full",type:"dateTime"}),s=t.intl.getDateFormat({skeleton:"full",type:"dateTime"});return new Date(Date.parse(i(s(new Date(me.parse.parseJson({val:e}).val)))))}renderStripLine(e,t,i){const s=e.element.id+"_stripline_"+t+"_",r=e.chartAxisLayoutPanel.seriesClipRect;let c,o=0,a=0,l=0,h=null;const d=new us(s+"ClipRect","transparent",{width:1,color:"Gray"},1,{x:e.initialClipRect.x,y:e.initialClipRect.y,width:e.initialClipRect.width,height:e.initialClipRect.height}),u=e.renderer.createGroup({id:s+"collections","clip-path":"url(#"+s+"ClipRect)"});e.enableCanvas||u.appendChild(vd(e.redraw,d,e.renderer));for(const p of i){let m=0;for(const y of p.stripLines)if(y.visible&&y.zIndex===t)if(y.isSegmented&&null!=y.segmentStart&&null!=y.segmentEnd&&"Pixel"!==y.sizeType&&(h=this.getSegmentAxis(i,p,y)),y.isRepeat&&null!=y.repeatEvery&&null!==y.size&&"Pixel"!==y.sizeType)for(a=null!=y.repeatUntil?"DateTime"===p.valueType?this.dateToMilliSeconds(y.repeatUntil,e):+y.repeatUntil:p.actualRange.max,l="DateTime"===p.valueType&&this.isCoreDate(y.start)?this.dateToMilliSeconds(y.start,e):y.start,(y.startFromAxis&&"DateTime"===p.valueType&&"Auto"===y.sizeType||y.start<p.visibleRange.min)&&(l=p.visibleLabels[0].value===p.visibleRange.min?p.visibleRange.min:p.visibleLabels[0].value-("DateTime"===p.valueType?p.dateTimeInterval:p.visibleRange.interval)),l=y.startFromAxis&&"DateTime"!==p.valueType?p.visibleRange.min:l;l<a;)o=l+("DateTime"===p.valueType?p.dateTimeInterval*+y.size:y.size),c=al(o,p.visibleRange),(l>=p.visibleRange.min&&l<p.visibleRange.max||c)&&this.renderStripLineElement(p,y,r,s,u,e,l,h,m),m++,l=this.getStartValue(p,y,l,e);else this.renderStripLineElement(p,y,r,s,u,e,null,h,m),m++}lt(e.enableCanvas,e.svgObject,u,e.redraw)}isCoreDate(e){return"string"==typeof e}dateToMilliSeconds(e,t){return this.dateParse(e,t).getTime()}renderPath(e,t,i,s,r,o){const a=se(i),l=a?a.getAttribute("d"):"";lt(r.enableCanvas,s,r.renderer.drawPath(new nt(i,"none",e.size,e.color,e.opacity,e.dashArray,"Vertical"===o.orientation?"M "+t.x+" "+t.y+" L "+(t.x+t.width)+" "+t.y:"M "+t.x+" "+t.y+" L "+t.x+" "+(t.y+t.height))),r.redraw,!0,"x","y",null,l,!0)}renderRectangle(e,t,i,s,r){const o=se(i),a=o?new ce(+o.getAttribute("x"),+o.getAttribute("y"),+o.getAttribute("width"),+o.getAttribute("height")):null;lt(r.enableCanvas,s,r.renderer.drawRectangle(new us(i,e.color,e.border,e.opacity,t,0,0,"",e.dashArray)),r.redraw,!0,"x","y",null,null,!0,!0,a)}renderText(e,t,i,s,r,o){const a=Le(e.text,e.textStyle),l=null===e.rotation,h=l?a.height/8*3:0;let c=t.y+t.height/2+h;const d=l?"Vertical"===o.orientation?0:-90:e.rotation;let p,u=t.x+t.width/2;"Horizontal"===o.orientation?(u=this.getTextStart(u+h*this.factor(e.horizontalAlignment),t.width,e.horizontalAlignment),c=this.getTextStart(c-h,t.height,e.verticalAlignment)+("Start"!==e.verticalAlignment||l?0:a.height/4),p=l?this.invertAlignment(e.verticalAlignment):e.horizontalAlignment):(u=this.getTextStart(u,t.width,e.horizontalAlignment),c=this.getTextStart(c+h*this.factor(e.verticalAlignment)-5,t.height,e.verticalAlignment),p=e.horizontalAlignment),Os(r.renderer,new bs(i,u,c,p,e.text,"rotate("+d+" "+u+","+c+")","middle"),e.textStyle,e.textStyle.color,s,null,null,null,null,null,null,0,null,r.enableCanvas)}invertAlignment(e){switch(e){case"Start":e="End";break;case"End":e="Start"}return e}getStartValue(e,t,i,s){return"DateTime"===e.valueType?this.getToValue(null,i,+t.repeatEvery,e,null,t):i+ +t.repeatEvery}getSegmentAxis(e,t,i){let s;if(null==i.segmentAxisName)return"Horizontal"===t.orientation?e[1]:e[0];for(let r=0;r<e.length;r++)i.segmentAxisName===e[r].name&&(s=e[r]);return s}renderStripLineElement(e,t,i,s,r,o,a,l,h){const c=this.measureStripLine(e,t,i,a,l,o);"Pixel"===t.sizeType?this.renderPath(t,c,s+"path_"+e.name+"_"+h,r,o,e):0!==c.height&&0!==c.width&&this.renderRectangle(t,c,s+"rect_"+e.name+"_"+h,r,o),""!==t.text&&this.renderText(t,c,s+"text_"+e.name+"_"+h,r,o,e)}factor(e){let t=0;switch(e){case"Start":t=1;break;case"End":t=-1}return t}getTextStart(e,t,i){switch(i){case"Start":e=e-t/2+5;break;case"End":e=e+t/2-5}return e}getModuleName(){return"StripLine"}destroy(){}}},WG={provide:"ChartsAreaSeries",useValue:class extends k2{render(e,t,i,s){let r=null,o="";const a=e.chart&&"PolarRadar"===e.chart.chartAreaType;let h,l=Math.max(e.yAxis.visibleRange.min,0);a&&(l=this.getFirstLastVisiblePoint(e.points).first.yValue);const c=e.emptyPointSettings&&"Drop"===e.emptyPointSettings.mode,d=e.border?e.border.width:0,u=e.border?e.border.color:"transparent",p="PolarRadar"===e.chart.chartAreaType?Mm:ot,m=this.enableComplexProperty(e);let y;for(let b=0;b<m.length;b++)y=m[b],h=y.xValue,y.symbolLocations=[],y.regions=[],y.visible&&Fn(m[b-1],y,m[b+1],e)&&(o+=this.getAreaPathDirection(h,l,e,s,p,r,"M"),r=r||new Fe(h,l),o+=this.getAreaPathDirection(h,y.yValue,e,s,p,null,"L"),m[b+1]&&!m[b+1].visible&&(!a||a&&this.withinYRange(m[b+1],i))&&!c&&(o+=this.getAreaEmptyDirection({x:h,y:l},r,e,s,p),r=null),this.storePointLocation(y,e,s,p));if(a&&""!==o){let b="";const v=this.chart;b+=this.getAreaPathDirection(0,l,e,s,p,null,"L"),(t.isInversed||i.isInversed)&&(o+="Polar"===e.type?v.polarSeriesModule.getPolarIsInversedPath(t,b):v.radarSeriesModule.getRadarIsInversedPath(t,b)),o=o.concat(o+" Z")}this.appendLinePath(new nt(e.chart.element.id+"_Series_"+e.index,e.interior,d,u,e.opacity,e.dashArray,e.points.length>1&&""!==o?o+this.getAreaPathDirection(e.points[e.points.length-1].xValue,"PolarRadar"===e.chart.chartAreaType?e.points[e.points.length-1].yValue:l,e,s,p,null,"L"):""),e,""),this.renderMarker(e)}destroy(){}getModuleName(){return"AreaSeries"}doAnimation(e){this.doLinearAnimation(e,e.animation)}}},Hxe={provide:"ChartsScrollBar",useValue:L2},jxe={provide:"ChartsStepLineSeries",useValue:class extends _c{render(e,t,i,s){let l,h,c,r="",o="M",a=null;const d=this.enableComplexProperty(e);l="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0;for(const p of d)p.symbolLocations=[],p.regions=[],p.visible&&Fn(d[p.index-1],p,d[p.index+1],e)?(null!=a?(c=ot(p.xValue,p.yValue,t,i,s),h=ot(a.xValue,a.yValue,t,i,s),r=r.concat(o+" "+h.x+" "+h.y+" L "+c.x+" "+h.y+" L "+c.x+" "+c.y+" "),o="L"):(h=ot(p.xValue-l,p.yValue,t,i,s),r=r.concat(o+" "+h.x+" "+h.y+" "),o="L"),this.storePointLocation(p,e,s,ot),a=p):(a="Drop"===e.emptyPointSettings.mode?a:null,o="Drop"===e.emptyPointSettings.mode?o:"M");d.length>0&&(h=ot(d[d.length-1].xValue+l,d[d.length-1].yValue,t,i,s),r=r.concat(o+" "+h.x+" "+h.y+" "));const u=new nt(e.chart.element.id+"_Series_"+e.index,"transparent",e.width,e.interior,e.opacity,e.dashArray,r);this.appendLinePath(u,e,""),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(){}getModuleName(){return"StepLineSeries"}}},zxe={provide:"ChartsStepAreaSeries",useValue:class extends _c{render(e,t,i,s){let r,o,a=null,l="";const h=this.enableComplexProperty(e),c=h.length,d=Math.max(e.yAxis.visibleRange.min,0);let u,p,m,y=null;m="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0;for(let v=0;v<c;v++)u=h[v],p=u.xValue,u.symbolLocations=[],u.regions=[],u.visible&&Fn(h[v-1],u,h[v+1],e)&&(null===a&&(a=new Fe(p,0),r=ot(p-m,d,t,i,s),l+="M "+r.x+" "+r.y+" ",r=ot(p-m,u.yValue,t,i,s),l+="L "+r.x+" "+r.y+" "),null!=y?(r=ot(u.xValue,u.yValue,t,i,s),o=ot(y.xValue,y.yValue,t,i,s),l+="L "+r.x+" "+o.y+" L "+r.x+" "+r.y+" "):"Gap"===e.emptyPointSettings.mode&&(r=ot(u.xValue,u.yValue,t,i,s),l+="L "+r.x+" "+r.y+" "),this.storePointLocation(u,e,s,ot),y=u),h[v+1]&&!h[v+1].visible&&"Drop"!==e.emptyPointSettings.mode&&(r=ot(p+m,d,t,i,s),l+="L "+r.x+" "+r.y,a=null,y=null);c>1&&""!==l?(a={x:h[c-1].xValue+m,y:h[c-1].yValue},o=ot(a.x,a.y,t,i,s),l+="L "+o.x+" "+o.y+" ",a={x:h[c-1].xValue+m,y:d},o=ot(a.x,a.y,t,i,s),l+="L "+o.x+" "+o.y+" "):l="";const b=new nt(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,l);this.appendLinePath(b,e,""),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(){}getModuleName(){return"StepAreaSeries"}}},UG={provide:"ChartsStackingColumnSeries",useValue:class extends xc{render(e){e.isRectSeries=!0;const t=this.getSideBySideInfo(e);let i,s;const r=e.stackedValues,o=Dm(e);for(const a of o)a.symbolLocations=[],a.regions=[],a.visible&&Fn(o[a.index-1],a,o[a.index+1],e)&&(i=this.getRectangle(a.xValue+t.start,r.endValues[a.index],a.xValue+t.end,r.startValues[a.index],e),i.width=e.columnWidthInPixel?e.columnWidthInPixel:i.width,i.x=e.columnWidthInPixel?i.x-e.columnWidthInPixel/2:i.x,s=this.triggerEvent(e,a,e.interior,{width:e.border.width,color:e.border.color}),s.cancel||(this.drawRectangle(e,a,i,s),this.updateSymbolLocation(a,i,e)));this.renderMarker(e)}doAnimation(e){this.animate(e)}destroy(){}getModuleName(){return"StackingColumnSeries"}}},Wxe={provide:"ChartsStackingLineSeries",useValue:class extends _c{render(e,t,i,s){const o="PolarRadar"===e.chart.chartAreaType?Mm:ot;let a="";const l=this.enableComplexProperty(e),h=l.length,c=e.stackedValues;let d,u;for(let m=0;m<h;m++)l[m].regions=[],l[m].symbolLocations=[],l[m].visible&&Fn(l[m-1],l[m],l[m+1],e)?(d=o(l[m].xValue,c.endValues[m],t,i,s,e),a=a.concat((m?"L":"M")+" "+d.x+" "+d.y+" "),l[m].symbolLocations.push(o(l[m].xValue,c.endValues[m],t,i,s,e)),l[m].regions.push(new ce(l[m].symbolLocations[0].x-e.marker.width,l[m].symbolLocations[0].y-e.marker.height,2*e.marker.width,2*e.marker.height))):"Drop"!==e.emptyPointSettings.mode&&l[m+1]&&l[m+1].visible&&(d=o(l[m+1].xValue,c.endValues[m+1],t,i,s,e),a=a.concat("M "+d.x+" "+d.y+" "));"PolarRadar"===e.chart.chartAreaType&&l.length>1&&(d={y:c.endValues[0],x:e.points[0].xValue},u=o(d.x,d.y,t,i,s,e),a+="L "+u.x+" "+u.y+" ");const p=new nt(e.chart.element.id+"_Series_"+e.index,"none",e.width,e.interior,e.opacity,e.dashArray,a);this.appendLinePath(p,e,""),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(){}getModuleName(){return"StackingLineSeries"}}},GG={provide:"ChartsStackingAreaSeries",useValue:class extends _c{render(e,t,i,s){const r="PolarRadar"===e.chart.chartAreaType,o=r?Mm:ot;let a="";const l=this.enableComplexProperty(e),h=l.length,c=e.stackedValues,d=r?Math.max(e.yAxis.visibleRange.min,c.endValues[0]):Math.max(e.yAxis.visibleRange.min,c.startValues[0]);let p,m,u=0;h>0&&(p=o(l[0].xValue,d,t,i,s,e),a=a.concat("M "+p.x+" "+p.y+" "));const y=e.chart&&"PolarRadar"===e.chart.chartAreaType;for(let v=0;v<h;v++)if(l[v].symbolLocations=[],l[v].regions=[],l[v].visible&&Fn(l[v-1],l[v],l[v+1],e))p=o(l[v].xValue,c.endValues[v],t,i,s,e),a=a.concat("L "+p.x+" "+p.y+" "),l[v].symbolLocations.push(o(l[v].xValue,c.endValues[v],t,i,s,e)),l[v].regions.push(new ce(l[v].symbolLocations[0].x-e.marker.width,l[v].symbolLocations[0].y-e.marker.height,2*e.marker.width,2*e.marker.height));else if(!y&&"Drop"!==e.emptyPointSettings.mode){for(let C=v-1;C>=u;C--)m=o(l[C].xValue,c.startValues[C],t,i,s,e),a=a.concat("L "+m.x+" "+m.y+" ");l[v+1]&&l[v+1].visible&&(!y||y&&this.withinYRange(l[v+1],i))&&(p=o(l[v+1].xValue,c.startValues[v+1],t,i,s,e),a=a.concat("M "+p.x+" "+p.y+" ")),u=v+1}if("PolarRadar"===e.chart.chartAreaType&&l.length>1){const v=this.getFirstLastVisiblePoint(e.points),C=this.chart;p={x:v.first.xValue,y:c.endValues[v.first.index]},m=o(p.x,p.y,t,i,s,e),a+="L "+m.x+" "+m.y+" ",1===this.chart.visible&&(t.isInversed||i.isInversed)&&(this.chart.enableAnimation=!1,a="Polar"===e.type?C.polarSeriesModule.getPolarIsInversedPath(t,a):C.radarSeriesModule.getRadarIsInversedPath(t,a))}if(!y||y&&e.index!==this.getFirstSeriesIndex(e.chart.visibleSeries))for(let v=h-1;v>=u;v--){if(y&&!l[v].visible)continue;const C=this.getPreviousSeries(e);("Drop"!==C.emptyPointSettings.mode||!C.points[v].isEmpty)&&(m=o(l[v].xValue,c.startValues[v],t,i,s,e),c.startValues[v]===c.endValues[v]&&(m.y=Math.floor(m.y)),a=a.concat((v===h-1&&r?"M":"L")+" "+m.x+" "+m.y+" "))}const b=new nt(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,a);this.appendLinePath(b,e,""),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(){}getModuleName(){return"StackingAreaSeries"}getPreviousSeries(e){const t=e.chart.visibleSeries;for(let i=0,s=t.length;i<s;i++)if(e.index===t[i].index&&0!==i)return t[i-1];return t[0]}getFirstSeriesIndex(e){for(const t of e)if(t.visible)return t.index;return 0}}},Uxe={provide:"ChartsStackingStepAreaSeries",useValue:class extends _c{render(e,t,i,s){let r,o,a=null,l="";const h=e.stackedValues,c=this.enableComplexProperty(e),d=Math.max(e.yAxis.visibleRange.min,h.startValues[0]),u=c.length;let p,m,y,b,v,C,_,D,w=null,k=0;C="Category"===t.valueType&&"BetweenTicks"===t.labelPlacement?.5:0;for(let I=0;I<u;I++)if(m=c[I],v=m.xValue,m.symbolLocations=[],m.regions=[],D=m.index,m.visible&&Fn(c[I-1],m,c[I+1],e)&&(null===a&&(a=new Fe(v,0),r=ot(v-C,d,t,i,s),l+="M "+r.x+" "+r.y+" ",r=ot(v-C,h.endValues[D],t,i,s),l+="L "+r.x+" "+r.y+" "),null!=w?(r=ot(m.xValue,h.endValues[D],t,i,s),o=ot(w.xValue,h.endValues[w.index],t,i,s),l+="L "+r.x+" "+o.y+" L "+r.x+" "+r.y+" "):"Gap"===e.emptyPointSettings.mode&&(r=ot(m.xValue,h.endValues[D],t,i,s),l+="L "+r.x+" "+r.y+" "),c[I].symbolLocations.push(ot(c[I].xValue,h.endValues[D],t,i,s)),c[I].regions.push(new ce(c[I].symbolLocations[0].x-e.marker.width,c[I].symbolLocations[0].y-e.marker.height,2*e.marker.width,2*e.marker.height)),w=m),c[I+1]&&!c[I+1].visible&&"Drop"!==e.emptyPointSettings.mode){let O;for(let N=I;N>=k;N--)D=c[N].index,O=0===N?0:c[N-1].index,0!==N&&(h.startValues[D]<h.startValues[O]||h.startValues[D]>h.startValues[O])?(r=ot(c[D].xValue,h.startValues[D],t,i,s),l=l.concat("L "+r.x+" "+r.y+" "),r=ot(c[D].xValue,h.startValues[O],t,i,s)):r=ot(c[D].xValue,h.startValues[D],t,i,s),l=l.concat("L "+r.x+" "+r.y+" ");k=I+1,a=null,w=null}if(""!==l){u>1&&(D=c[u-1].index,a={x:c[u-1].xValue+C,y:h.endValues[D]},o=ot(a.x,a.y,t,i,s),l+="L "+o.x+" "+o.y+" ",a={x:c[u-1].xValue+C,y:h.startValues[D]},o=ot(a.x,a.y,t,i,s),l+="L "+o.x+" "+o.y+" ");for(let I=u-1;I>=k;I--){let O;c[I].visible&&(D=c[I].index,y=ot(c[I].xValue,h.startValues[D],t,i,s),l=l.concat("L "+y.x+" "+y.y+" ")),0!==I&&!c[I-1].visible&&(O=this.getNextVisiblePointIndex(c,I)),0!==I&&(_=O||I-1,D=O?c[O].index:c[I-1].index,b=ot(c[_].xValue,h.startValues[D],t,i,s),l=l.concat("L "+y.x+" "+b.y+" "))}p=new nt(e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,l),this.appendLinePath(p,e,""),this.renderMarker(e)}}doAnimation(e){this.doLinearAnimation(e,e.animation)}destroy(){}getModuleName(){return"StackingStepAreaSeries"}getNextVisiblePointIndex(e,t){let i;for(i=t-1;i>=0;i--)if(e[i].visible)return i;return 0}}},Gxe={provide:"ChartsBarSeries",useValue:class extends xc{render(e){const t=Math.max(e.yAxis.visibleRange.min,0),i=this.getSideBySideInfo(e);let s,r;for(const o of e.points)o.symbolLocations=[],o.regions=[],o.visible&&Fn(e.points[o.index-1],o,e.points[o.index+1],e)&&(s=this.getRectangle(o.xValue+i.start,o.yValue,o.xValue+i.end,t,e),s.height=e.columnWidthInPixel?e.columnWidthInPixel:s.height,s.y=e.columnWidthInPixel?s.y-(e.columnWidthInPixel/2*e.rectCount-e.columnWidthInPixel*e.index):s.y,r=this.triggerEvent(e,o,e.interior,{width:e.border.width,color:e.border.color}),r.cancel||(this.updateSymbolLocation(o,s,e),this.drawRectangle(e,o,s,r)));this.renderMarker(e)}doAnimation(e){this.animate(e)}destroy(){}getModuleName(){return"BarSeries"}}},Yxe={provide:"ChartsStackingBarSeries",useValue:class extends xc{render(e){let s,r,t=this.getSideBySideInfo(e),i=e.stackedValues;for(let o of e.points)o.symbolLocations=[],o.regions=[],o.visible&&Fn(e.points[o.index-1],o,e.points[o.index+1],e)&&(s=this.getRectangle(o.xValue+t.start,i.endValues[o.index],o.xValue+t.end,i.startValues[o.index],e),s.height=e.columnWidthInPixel?e.columnWidthInPixel:s.height,s.y=e.columnWidthInPixel?s.y-e.columnWidthInPixel/2:s.y,r=this.triggerEvent(e,o,e.interior,{width:e.border.width,color:e.border.color}),r.cancel||(this.drawRectangle(e,o,s,r),this.updateSymbolLocation(o,s,e)));this.renderMarker(e)}destroy(){}getModuleName(){return"StackingBarSeries"}doAnimation(e){this.animate(e)}}},YG={provide:"ChartsRangeColumnSeries",useValue:class extends xc{render(e){let t;const i=this.getSideBySideInfo(e);let s;for(const r of e.points)r.symbolLocations=[],r.regions=[],r.visible&&Fn(e.points[r.index-1],r,e.points[r.index+1],e)&&(t=this.getRectangle(r.xValue+i.start,r.high,r.xValue+i.end,r.low,e),t.width=e.columnWidthInPixel?e.columnWidthInPixel:t.width,t.x=e.columnWidthInPixel?t.x-(e.columnWidthInPixel/2*e.rectCount-e.columnWidthInPixel*e.index):t.x,s=this.triggerEvent(e,r,e.interior,{width:e.border.width,color:e.border.color}),s.cancel||(this.updateSymbolLocation(r,t,e),this.drawRectangle(e,r,t,s)));this.renderMarker(e)}getModuleName(){return"RangeColumnSeries"}doAnimation(e){this.animate(e)}destroy(){}}},qxe={provide:"ChartsBubbleSeries",useValue:class{render(e,t,i,s){const r=e.marker,o=e.points;let a,l,h,c;const d=Math.max(e.chart.initialClipRect.height,e.chart.initialClipRect.width),u=d/100;let v,C,p=e.maxRadius*u,m=e.minRadius*u,y=null,b=null;const w=e.chart.redraw;if(null===e.maxRadius||null===e.minRadius){for(const _ of e.chart.visibleSeries)"Bubble"===_.type&&!0===_.visible&&(null===_.maxRadius||null===_.minRadius)&&(y=_.sizeMax>y?_.sizeMax:y);b=d/5/2,m=p=1,c=b*p}else y=e.sizeMax,c=p-m;for(const _ of o)_.symbolLocations=[],_.regions=[],_.visible&&Fn(o[_.index-1],_,o[_.index+1],e)&&(h=null===e.maxRadius||null===e.minRadius?c*Math.abs(+_.size/y):m+c*Math.abs(+_.size/y),h=h||m,l={cancel:!1,name:_h,series:e,point:_,fill:e.setPointColor(_,e.interior),border:e.setBorderColor(_,{width:e.border.width,color:e.border.color}),height:2*h,width:2*h},e.chart.trigger(_h,l),l.cancel?_.marker={visible:!1}:(_.symbolLocations.push(ot(_.xValue,_.yValue,t,i,s)),_.color=l.fill,a=new nt(e.chart.element.id+"_Series_"+e.index+"_Point_"+_.index,l.fill,l.border.width,l.border.color,e.opacity,null),v=mo(_.symbolLocations[0],"Circle",new xt(l.width,l.height),r.imageUrl,a,(_.x.toString(),_.yValue.toString()),e.chart.svgRenderer,e.clipRect),lt(!1,e.seriesElement,v,w),_.regions.push(new ce(_.symbolLocations[0].x-h,_.symbolLocations[0].y-h,2*h,2*h)),_.marker={border:l.border,fill:l.fill,height:l.height,visible:!0,shape:"Circle",width:l.width},C=w?_.symbolLocations[0]:null,w&&ZU(v,300,C,_.symbolLocations[0],"cx","cy")))}destroy(){}getModuleName(){return"BubbleSeries"}doAnimation(e){const t=e.animation.duration,i=e.animation.delay,s=e.seriesElement.childNodes;let r=1;for(const o of e.points)!o.symbolLocations.length||(km(s[r],i,t,e,o.index,o.symbolLocations[0],!1),r++)}}},$xe={provide:"ChartsTooltip",useValue:class extends T2{constructor(e){super(e),this.addEventListener()}addEventListener(){this.chart.isDestroyed||(this.chart.on(T.isPointer?"pointerleave":"mouseleave",this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this),this.chart.on(T.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(T.touchEndEvent,this.mouseUpHandler,this))}mouseUpHandler(){const e=this.control;let t=this.getData();t.lierIndex=this.lierIndex,e.isTouch&&!this.isSelected(e)&&(zs(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&e.tooltip.shared||!e.tooltip.shared)?e.crosshair.enable?e.startMove&&"Move"===e.tooltip.fadeOutMode&&this.removeTooltip(2e3):(this.tooltip(),"Move"===e.tooltip.fadeOutMode&&this.removeTooltip(e.tooltip.fadeOutDuration)):!this.findData(t,this.previousPoints[0])&&"Click"===e.tooltip.fadeOutMode&&this.removeTooltip(0)}mouseLeaveHandler(){this.removeTooltip(this.chart.tooltip.fadeOutDuration)}mouseMoveHandler(){const e=this.chart;!e.disableTrackTooltip&&!this.isSelected(e)&&(!e.tooltip.shared&&(!e.isTouch||e.startMove)&&this.tooltip(),zs(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)?e.tooltip.shared&&(!e.isTouch||e.startMove)&&this.tooltip():e.tooltip.shared&&"Move"===e.tooltip.fadeOutMode&&this.removeTooltip(this.chart.tooltip.fadeOutDuration))}longPress(){const e=this.chart;return e.crosshair.enable&&zs(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&this.tooltip(),!1}tooltip(){if(this.chart.stockChart&&this.chart.stockChart.onPanning)return this.removeTooltip(1e3),null;const t=this.getElement(this.chart.enableCanvas?this.element.id+"_tooltip_group":this.element.id+"_tooltip_svg"),i=this.chart.stockChart&&t&&t.firstChild.childNodes.length>1,s=t&&parseInt(t.getAttribute("opacity"),10)>0&&!i,r=this.getTooltipElement(s);this.chart.enableCanvas&&r&&(document.getElementById(this.chart.element.id+"_Secondary_Element").appendChild(r),r.appendChild(document.getElementById(this.chart.element.id+"_tooltip_svg"))),this.chart.tooltip.shared?this.renderGroupedTooltip(this.chart,!s,r):this.renderSeriesTooltip(this.chart,!s,r)}findHeader(e){return""===this.header?"":(this.header=this.parseTemplate(e.point,e.series,this.header,e.series.xAxis,e.series.yAxis),""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()?this.header:"")}findShapes(){if(!this.chart.tooltip.enableMarker)return[];const e=[];for(const t of this.currentPoints)e.push(t.point.marker.shape||t.series.marker.shape);return e}renderSeriesTooltip(e,t,i){let s=this.getData();if(s.lierIndex=this.lierIndex,this.currentPoints=[],this.findData(s,this.previousPoints[0])){if((!e.dataEditingModule||!e.dataEditingModule.isPointDragging)&&this.previousPoints[0]&&s.point.index===this.previousPoints[0].point.index&&s.series.index===this.previousPoints[0].series.index)return null;this.pushData(s,t,i,!0)&&this.triggerTooltipRender(s,t,this.getTooltipText(s),this.findHeader(s))}else if(!s.point&&this.isRemove&&"Move"===e.tooltip.fadeOutMode)this.removeTooltip(this.chart.tooltip.fadeOutDuration),this.isRemove=!1;else{const r=this.mergeXvalues(this.chart.visibleSeries);for(const o of e.visibleSeries)o.visible&&"TrendLine"!==o.category&&(s=this.getClosestX(e,o,r)||s)}s&&s.point&&this.findMouseValue(s,e)}triggerTooltipRender(e,t,i,s){const o={cancel:!1,name:Eu,text:i,headerText:s,template:void 0,series:this.chart.isBlazor?{}:e.series,textStyle:this.textStyle,point:e.point,data:{pointX:e.point.x,pointY:e.point.y,seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.index,pointText:e.point.text}},a=l=>{l.cancel?(this.removeHighlight(),Ue(this.getElement(this.element.id+"_tooltip"))):("BoxAndWhisker"===e.series.type&&(this.removeText(),t=!0),this.headerText=l.headerText,this.formattedText=this.formattedText.concat(l.text),this.text=this.formattedText,this.createTooltip(this.chart,t,this.getSymbolLocation(e),e.series.clipRect,e.point,this.findShapes(),this.findMarkerHeight(this.currentPoints[0]),this.chart.chartAxisLayoutPanel.seriesClipRect,null,this.getTemplateText(e),this.template?l.template:"")),this.isRemove=!0};a.bind(this,e),this.chart.trigger(Eu,o,a)}findMarkerHeight(e){if(!this.chart.tooltip.enableMarker)return 0;let t=0;const i=e.series;return t=(i.marker.visible||this.chart.tooltip.shared&&(!i.isRectSeries||i.marker.visible)||"Scatter"===i.type||"Scatter"===i.drawType)&&"Candle"!==i.type&&"Hilo"!==i.type&&"HiloOpenClose"!==i.type?(i.marker.height+2)/2+2*i.marker.border.width:0,t}findData(e,t){return e.point&&(!t||t.point!==e.point||t&&t.lierIndex>3&&t.lierIndex!==this.lierIndex||t.point===e.point)}getSymbolLocation(e){let t;if("BoxAndWhisker"!==e.series.type){if(!e.point.symbolLocations[0])return null;t=new Fe(e.point.symbolLocations[0].x,e.point.symbolLocations[0].y)}switch(e.series.type){case"BoxAndWhisker":return this.getBoxLocation(e);case"Waterfall":return this.getWaterfallRegion(e,t);case"RangeArea":case"SplineRangeArea":return this.getRangeArea(e,t);default:return t}}getRangeArea(e,t){return e.point.regions[0]&&(this.inverted?t.x=e.point.regions[0].x+e.point.regions[0].width/2:t.y=e.point.regions[0].y+e.point.regions[0].height/2),t}getWaterfallRegion(e,t){return this.inverted?t.x=e.point.y<0?t.x+e.point.regions[0].width:t.x:t.y=e.point.y<0?t.y-e.point.regions[0].height:t.y,t}getTooltipText(e){const t=e.series;return this.parseTemplate(e.point,t,this.getFormat(this.chart,t),t.xAxis,t.yAxis)}getTemplateText(e){if(this.template){const t=fe({},e.point);return t.x=this.formatPointValue(e.point,e.series.xAxis,"x",!0,!1),"XY"===e.series.seriesType?t.y=this.formatPointValue(e.point,e.series.yAxis,"y",!1,!0):(t.low=this.formatPointValue(e.point,e.series.yAxis,"low",!1,!0),t.high=this.formatPointValue(e.point,e.series.yAxis,"high",!1,!0)),t}return e.point}findMouseValue(e,t){t.requireInvertedAxis?(this.valueY=(1-zi(e.point.xValue,e.series.xAxis))*e.series.xAxis.rect.height+e.series.xAxis.rect.y,this.valueX=t.mouseX):(this.valueX="PolarRadar"===t.chartAreaType?ll(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x:"TrendLine"===e.series.category&&t.tooltip.shared?this.valueX:zi(e.point.xValue,e.series.xAxis)*e.series.xAxis.rect.width+e.series.xAxis.rect.x,this.valueY=t.mouseY)}renderGroupedTooltip(e,t,i){let s,r;const o="PolarRadar"===e.chartAreaType?this.getData():null;this.stopAnimation(),this.removeHighlight(),this.currentPoints=[];const a=[];t&&(e.stockChart?i&&!Ja(i.id)&&document.getElementById(e.stockChart.element.id+"_Secondary_Element").appendChild(i):i&&document.getElementById(this.element.id+"_Secondary_Element").appendChild(i)),this.removeText();const l={text:[],cancel:!1,name:c2,data:[],headerText:"",textStyle:this.textStyle},h=this.mergeXvalues(this.chart.visibleSeries);for(const c of e.visibleSeries)!c.enableTooltip||!c.visible||("Cartesian"===e.chartAreaType&&c.visible?s=this.getClosestX(e,c,h):"PolarRadar"===e.chartAreaType&&c.visible&&null!==o.point&&(s=new Tm(c.points[o.point.index],c)),s&&(e.isBlazor?(l.data.push({pointX:s.point.x,pointY:s.point.y,seriesIndex:s.series.index,seriesName:s.series.name,pointIndex:s.point.index,pointText:s.point.text}),l.headerText=this.findHeader(s),this.currentPoints.push(s),l.text.push(this.getTooltipText(s)),r="TrendLine"===s.series.category&&e.tooltip.shared?r:s):this.triggerSharedTooltip(s,t,this.getTooltipText(s),this.findHeader(s),a)));e.isBlazor&&s&&this.triggerBlazorSharedTooltip(l,r,a,e,t),this.currentPoints.length>0?this.createTooltip(e,t,this.findSharedLocation(),1===this.currentPoints.length?this.currentPoints[0].series.clipRect:null,null,this.findShapes(),this.findMarkerHeight(this.currentPoints[0]),e.chartAxisLayoutPanel.seriesClipRect,a,this.template?this.getTemplateText(s):null,this.template?l.template:""):this.getElement(this.element.id+"_tooltip_path")&&this.getElement(this.element.id+"_tooltip_path").setAttribute("d","")}triggerBlazorSharedTooltip(e,t,i,s,r){const o={cancel:!1,name:c2,text:e.text,headerText:e.headerText,textStyle:e.textStyle,data:e.data},a=l=>{l.cancel?i.push(t):(this.text=l.text,this.headerText=l.headerText,this.findMouseValue(t,this.chart),t=null,this.createTooltip(s,r,this.findSharedLocation(),null,null,this.findShapes(),this.findMarkerHeight(this.currentPoints[0]),s.chartAxisLayoutPanel.seriesClipRect,i))};a.bind(this,t,i),this.chart.trigger(c2,o,a)}triggerSharedTooltip(e,t,i,s,r){const o={cancel:!1,name:Eu,text:i,headerText:s,point:e.point,series:this.chart.isBlazor?{}:e.series,textStyle:this.textStyle,data:{pointX:e.point.x,pointY:e.point.y,seriesIndex:e.series.index,seriesName:e.series.name,pointIndex:e.point.index,pointText:e.point.text}},a=l=>{l.cancel?r.push(e):("BoxAndWhisker"===e.series.type&&this.removeText(),this.formattedText=this.formattedText.concat(l.text),this.text=this.formattedText,this.headerText=l.headerText,this.findMouseValue(e,this.chart),this.currentPoints.push(e),e=null)};a.bind(this,e,r),this.chart.trigger(Eu,o,a),o.template&&(this.template=o.template)}findSharedLocation(){const e=this.chart.stockChart;if(e){1===this.text.length&&this.text.push("");const t=e.enablePeriodSelector?e.toolbarHeight:0,i=document.getElementById(e.element.id+"_ChartTitle"),s=""!==e.title?i.getBoundingClientRect().height+10:0;return new Fe(this.chart.chartAxisLayoutPanel.seriesClipRect.x+5,this.chart.chartAxisLayoutPanel.seriesClipRect.y+t+5+s)}return this.currentPoints.length>1?new Fe(this.valueX,this.valueY):this.getSymbolLocation(this.currentPoints[0])}getBoxLocation(e){return this.lierIndex>3?e.point.symbolLocations[this.lierIndex-4]:{x:e.point.regions[0].x+e.point.regions[0].width/2,y:e.point.regions[0].y+e.point.regions[0].height/2}}parseTemplate(e,t,i,s,r){let o,a;for(const l of Object.keys(e))o=new RegExp("${point."+l+"}","gm"),i=i.replace(o.source,this.formatPointValue(e,"${point.x}"===o.source?s:r,l,"${point.x}"===o.source,"${point.high}"===o.source||"${point.open}"===o.source||"${point.close}"===o.source||"${point.low}"===o.source||"${point.y}"===o.source||"${point.minimum}"===o.source||"${point.maximum}"===o.source||"${point.outliers}"===o.source||"${point.upperQuartile}"===o.source||"${point.lowerQuartile}"===o.source||"${point.median}"===o.source));for(const l of Object.keys(Object.getPrototypeOf(t)))o=new RegExp("${series."+l+"}","gm"),a=t[l],i=i.replace(o.source,a);return i}formatPointValue(e,t,i,s,r){let o,a,l;return"Category"!==t.valueType&&s?(a=t.labelFormat&&null!==t.labelFormat.match("{value}"),o=a?t.labelFormat.replace("{value}",t.format(e[i])):t.format(e[i])):r&&!f(e[i])?(a=t.labelFormat&&null!==t.labelFormat.match("{value}"),l=t.format("outliers"===i?e[i][this.lierIndex-4]:e[i]),o=a?t.labelFormat.replace("{value}",l):l):o=e[i],o}getFormat(e,t){if(t.tooltipFormat)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltip.format):t.tooltipFormat;if(!t.tooltipFormat&&e.tooltip.format)return"XY"===t.seriesType&&"Indicator"===t.category?this.getIndicatorTooltipFormat(t,e,e.tooltip.format):e.tooltip.format;const s=e.tooltip.shared?"${series.name}":"Histogram"===t.type?"${point.minimum}-${point.maximum}":"${point.x}";switch(t.seriesType){case"XY":return"Indicator"===t.category&&this.getIndicatorTooltipFormat(t,e,e.tooltip.format),s+" : "+("Bubble"===t.type?"<b>${point.y}</b>  Size : <b>${point.size}</b>":"<b>${point.y}</b>");case"HighLow":return s+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b>";case"HighLowOpenClose":return s+"<br/>High : <b>${point.high}</b><br/>Low : <b>${point.low}</b><br/>Open : <b>${point.open}</b><br/>Close : <b>${point.close}</b>";case"BoxPlot":return s+"<br/>"+(this.lierIndex>3?"Outliers : <b>${point.outliers}</b>":"Maximum : <b>${point.maximum}</b><br/>Q3 : <b>${point.upperQuartile}</b><br/>Median : <b>${point.median}</b><br/>Q1 : <b>${point.lowerQuartile}</b><br/>Minimum : <b>${point.minimum}</b>");default:return""}}getIndicatorTooltipFormat(e,t,i){let s;return s="XY"===e.seriesType?e.name+" : <b>${point.y}</b>":i,s}removeHighlightedMarker(e){for(const t of e)Qi(this.element.id+"_Series_"+t.series.index+"_Point_"+t.point.index+"_Trackball");this.chart.markerRender&&this.chart.markerRender.removeHighlightedMarker(),this.previousPoints=[]}getModuleName(){return"Tooltip"}destroy(){}}},Xxe={provide:"ChartsCrosshair",useValue:class{constructor(e){this.arrowLocation=new Fe(0,0),this.rx=2,this.ry=2,this.chart=e,this.elementID=this.chart.element.id,this.svgRenderer=new jo(this.chart.element.id),this.addEventListener()}addEventListener(){if(this.chart.isDestroyed)return;const e=T.isPointer?"pointerleave":"mouseleave";this.chart.on(T.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(T.touchEndEvent,this.mouseUpHandler,this),this.chart.on(e,this.mouseLeaveHandler,this),this.chart.on("tapHold",this.longPress,this)}mouseUpHandler(){this.chart.startMove&&this.removeCrosshair(2e3)}mouseLeaveHandler(){this.removeCrosshair(1e3)}mouseMoveHandler(e){const t=this.chart;"touchmove"===e.type&&(T.isIos||T.isIos7)&&t.startMove&&e.preventDefault&&e.preventDefault(),t.disableTrackTooltip||(zs(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)?(t.startMove||!t.isTouch)&&this.crosshair():this.removeCrosshair(1e3))}longPress(){const e=this.chart;return zs(e.mouseX,e.mouseY,e.chartAxisLayoutPanel.seriesClipRect)&&this.crosshair(),!1}crosshair(){const e=this.chart;let s,t="",i="",r=document.getElementById(this.elementID+"_crosshair_axis");const o=e.crosshair;let a=document.getElementById(this.elementID+"_tooltip");const l=e.chartAxisLayoutPanel.seriesClipRect,h=e.enableCanvas?document.getElementById(this.elementID+"_Secondary_Element"):document.getElementById(this.elementID+"_UserInteraction");let c,d=document.getElementById(this.elementID+"_Crosshair");return e.enableCanvas&&(d||(d=Ve("div",{id:this.elementID+"_Crosshair",styles:"position: absolute; pointer-events: none"}),h.appendChild(d))),this.stopAnimation(),e.tooltip.enable&&!zs(e.tooltipModule.valueX,e.tooltipModule.valueY,l)?null:e.stockChart&&e.stockChart.onPanning?(this.removeCrosshair(1e3),null):(this.valueX=e.tooltip.enable?e.tooltipModule.valueX:e.mouseX,this.valueY=e.tooltip.enable?e.tooltipModule.valueY:e.mouseY,e.enableCanvas||h.setAttribute("opacity","1"),("Both"===o.lineType||"Horizontal"===o.lineType)&&(t+="M "+l.x+" "+this.valueY+" L "+(l.x+l.width)+" "+this.valueY),("Both"===o.lineType||"Vertical"===o.lineType)&&(i+="M "+this.valueX+" "+l.y+" L "+this.valueX+" "+(l.y+l.height)),void(e.enableCanvas?(r||(r=this.svgRenderer.createGroup({id:this.elementID+"_crosshair_axis"})),c=this.svgRenderer.createSvg({id:e.tooltip.enable?e.element.id+"_tooltip_svg":e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height}),e.tooltip.enable&&(a=a||e.tooltipModule.createElement(),a.appendChild(c),h.appendChild(a)),s=new nt(this.elementID+"_HorizontalLine","none",o.line.width,o.horizontalLineColor||o.line.color||e.themeStyle.crosshairLine,o.opacity,o.dashArray,t),this.drawCrosshairLine(s,d,l.x,this.valueY,l.width,0,t),s=new nt(this.elementID+"_VerticalLine","none",o.line.width,o.verticalLineColor||o.line.color||e.themeStyle.crosshairLine,o.opacity,o.dashArray,i),this.drawCrosshairLine(s,d,this.valueX,l.y,0,l.height,i),this.renderAxisTooltip(e,l,r),c.appendChild(r),e.tooltip.enable||d.appendChild(c)):0===h.childNodes.length?(r=e.renderer.createGroup({id:this.elementID+"_crosshair_axis"}),s=new nt(this.elementID+"_HorizontalLine","none",o.line.width,o.horizontalLineColor||o.line.color||e.themeStyle.crosshairLine,o.opacity,o.dashArray,t),this.renderCrosshairLine(s,h),s=new nt(this.elementID+"_VerticalLine","none",o.line.width,o.verticalLineColor||o.line.color||e.themeStyle.crosshairLine,o.opacity,o.dashArray,i),this.renderCrosshairLine(s,h),h.appendChild(r),this.renderAxisTooltip(e,l,h.lastChild)):(document.getElementById(this.elementID+"_HorizontalLine").setAttribute("d",t),document.getElementById(this.elementID+"_VerticalLine").setAttribute("d",i),this.renderAxisTooltip(e,l,h.lastChild))))}renderCrosshairLine(e,t){const i=this.chart.renderer.drawPath(e);t.appendChild(i)}drawCrosshairLine(e,t,i,s,r,o,a){if(!document.getElementById(e.id)&&a){const l=Ve("div",{id:e.id});t.appendChild(l)}if(document.getElementById(e.id)){const l="top:"+s.toString()+"px;left:"+i.toString()+"px;width:"+r+"px;height:"+o+"px;fill:"+e.stroke+";border: 0.5px solid "+e.stroke+";opacity: "+e.opacity+" ; position: absolute",h=document.getElementById(e.id),c=document.getElementById(this.elementID+"_crosshair_axis");h.setAttribute("style",l),t.style.opacity="1",c&&(c.style.opacity="1")}}renderAxisTooltip(e,t,i){let s,r,o,a,l,h,d,u;for(let p=0,m=e.axisCollections.length;p<m;p++)if(s=e.axisCollections[p],u=s.placeNextToAxisLine?s.updatedRect:s.rect,s.crosshairTooltip.enable)if(this.valueX<=u.x+u.width&&u.x<=this.valueX||this.valueY<=u.y+u.height&&u.y<=this.valueY){if(a=document.getElementById(this.elementID+"_axis_tooltip_"+p),l=document.getElementById(this.elementID+"_axis_tooltip_text_"+p),r=this.getAxisText(s),!r)continue;o=this.tooltipLocation(r,s,t,u),null===a&&(a=e.enableCanvas?this.svgRenderer.drawPath({id:this.elementID+"_axis_tooltip_"+p,fill:s.crosshairTooltip.fill||e.themeStyle.crosshairFill}):e.renderer.drawPath({id:this.elementID+"_axis_tooltip_"+p,fill:s.crosshairTooltip.fill||e.themeStyle.crosshairFill},null),i.appendChild(a),h=new bs(this.elementID+"_axis_tooltip_text_"+p,0,0,"start",r),l=Os(e.enableCanvas?this.svgRenderer:e.renderer,h,s.crosshairTooltip.textStyle,s.crosshairTooltip.textStyle.color||e.themeStyle.crosshairLabel,i,null,null,null,null,null,null,0,null,e.enableCanvas)),d=Yx(this.rx,this.ry,o,this.arrowLocation,10,this.isTop,this.isBottom,this.isLeft,this.valueX,this.valueY),a.setAttribute("d",d),l.textContent=r,l.setAttribute("x",(o.x+5).toString()),l.setAttribute("y",(o.y+5+3*this.elementSize.height/4).toString())}else Qi(this.elementID+"_axis_tooltip_"+p),Qi(this.elementID+"_axis_tooltip_text_"+p)}getAxisText(e){let t;this.isBottom=!1,this.isTop=!1,this.isLeft=!1,this.isRight=!1;const i="Category"===e.valueType&&"BetweenTicks"===e.labelPlacement?.5:0;return"Horizontal"===e.orientation?(t=WU(Math.abs(this.valueX-e.rect.x),e.rect.width,e)+i,this.isBottom=!e.opposedPosition,this.isTop=e.opposedPosition):(t=UU(Math.abs(this.valueY-e.rect.y),e.rect.height,e)+i,this.isRight=e.opposedPosition,this.isLeft=!e.opposedPosition),"DateTime"===e.valueType?e.format(new Date(t)):"Category"===e.valueType?e.labels[Math.floor(t)]:"DateTimeCategory"===e.valueType?this.chart.dateTimeCategoryModule.getIndexedAxisLabel(e.labels[Math.floor(t)],e.format):"Logarithmic"===e.valueType?t=e.format(Math.pow(e.logBase,t)):e.labelFormat&&null!==e.labelFormat.match("{value}")?e.labelFormat.replace("{value}",e.format(t)):e.format(t)}tooltipLocation(e,t,i,s){let a;const l=i.x,h=i.y,c="Inside"===t.labelPosition;let d=t.scrollbarSettings.enable||t.zoomingScrollBar&&t.zoomingScrollBar.svgObject?t.scrollBarHeight:0;if(this.elementSize=Le(e,t.crosshairTooltip.textStyle),"Horizontal"===t.orientation){const p=c?s.y-this.elementSize.height-10:s.y+10;this.arrowLocation=new Fe(this.valueX,c?s.y-this.elementSize.height-20:s.y+d),a=new ce(this.valueX-this.elementSize.width/2-5,p+(c?0:d),this.elementSize.width+10,this.elementSize.height+10),t.opposedPosition&&(a.y=c?s.y:s.y-(this.elementSize.height+10+10)-d),a.x<l&&(a.x=l),a.x+a.width>l+i.width&&(a.x-=a.x+a.width-(l+i.width)),this.arrowLocation.x+5>a.x+a.width-this.rx&&(this.arrowLocation.x=a.x+a.width-this.rx-5),this.arrowLocation.x-5<a.x+this.rx&&(this.arrowLocation.x=a.x+this.rx+5)}else d*=t.opposedPosition?1:-1,this.arrowLocation=new Fe(s.x,this.valueY),a=new ce((c?s.x-d:s.x-this.elementSize.width-20)+d,this.valueY-this.elementSize.height/2-5,this.elementSize.width+10,this.elementSize.height+10),t.opposedPosition?(a.x=c?s.x-this.elementSize.width-10:s.x+10+d,a.x+a.width>this.chart.availableSize.width&&(this.arrowLocation.x-=a.x+a.width-this.chart.availableSize.width,a.x-=a.x+a.width-this.chart.availableSize.width)):a.x<0&&(this.arrowLocation.x-=a.x,a.x=0),a.y<h&&(a.y=h),a.y+a.height>=h+i.height&&(a.y-=a.y+a.height-(h+i.height)),this.arrowLocation.y+5>a.y+a.height-this.ry&&(this.arrowLocation.y=a.y+a.height-this.ry-5),this.arrowLocation.y-5<a.y+this.ry&&(this.arrowLocation.y=a.y+this.ry+5);return a}stopAnimation(){Aw(this.crosshairInterval)}progressAnimation(){Aw(this.crosshairInterval)}removeCrosshair(e){const t=this.chart,i=t.enableCanvas?document.getElementById(this.elementID+"_Crosshair"):document.getElementById(this.elementID+"_UserInteraction"),s=t.enableCanvas?document.getElementById(this.elementID+"_crosshair_axis"):null;this.stopAnimation(),i&&"0"!==i.getAttribute("opacity")&&(this.crosshairInterval=+setTimeout(()=>{new qt({}).animate(i,{duration:200,progress:r=>{i.style.animation="",t.enableCanvas?(i.style.opacity=(1-r.timeStamp/r.duration).toString(),s.style.opacity=(1-r.timeStamp/r.duration).toString()):i.setAttribute("opacity",(1-r.timeStamp/r.duration).toString())},end:()=>{t.enableCanvas?(i.style.opacity="0",s.style.opacity="0"):i.setAttribute("opacity","0"),t.startMove=!1,t.tooltipModule&&(t.tooltipModule.valueX=null,t.tooltipModule.valueY=null)}})},e))}getModuleName(){return"Crosshair"}destroy(){}}},qG={provide:"ChartsCategory",useValue:iG},Zxe={provide:"ChartsDateTime",useValue:tG},Kxe={provide:"ChartsLogarithmic",useValue:class extends W1{constructor(e){super(e)}calculateRangeAndInterval(e,t){this.calculateRange(t),this.getActualRange(t,e),this.calculateVisibleRange(e,t),this.calculateVisibleLabels(t,this.chart)}getActualRange(e,t){this.initializeDoubleRange(e),this.min=this.min<0?0:this.min;let i=ta(this.min,e.logBase);i=isFinite(i)?i:this.min;let s=1===this.max?1:ta(this.max,e.logBase);s=isFinite(i)?s:this.max,this.min=Math.floor(i/1),e.series&&e.series.some(o=>(-1!==o.type.indexOf("Column")||-1!==o.type.indexOf("Bar"))&&-1===o.type.indexOf("Range"))&&(this.min=this.min<=0?+this.min-1:this.min),this.max=Math.ceil(s/1),e.actualRange.interval=e.interval||this.calculateLogNiceInterval(this.max-this.min,t,e),e.actualRange.min=this.min,e.actualRange.max=this.max,e.actualRange.delta=this.max-this.min}calculateVisibleRange(e,t){t.visibleRange={interval:t.actualRange.interval,max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta};const i=!f(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRangeOnZooming(e),t.visibleRange.interval=t.enableAutoIntervalOnZooming?this.calculateLogNiceInterval(t.doubleRange.delta,e,t):t.visibleRange.interval,t.visibleRange.interval=0===Math.floor(t.visibleRange.interval)?1:Math.floor(t.visibleRange.interval),t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval))}calculateLogNiceInterval(e,t,i){const s=m2(t,i);let r=e;const o=Math.pow(i.logBase,Math.floor(ta(r,10)));for(let a=0,l=i.intervalDivs.length;a<l;a++){const h=o*i.intervalDivs[a];if(s<e/h)break;r=h}return r}calculateVisibleLabels(e,t){let s,r,i=e.visibleRange.min;e.visibleLabels=[],(e.zoomFactor<1||e.zoomPosition>0)&&(i=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval);const o=this.getFormat(e),a=null!==o.match("{value}");let l=Math.pow(e.logBase,e.visibleRange.min);for(e.format=t.intl.getNumberFormat({format:a?"":o,useGrouping:t.useGroupingSeparator,maximumFractionDigits:l<1?20:3}),e.startLabel=e.format(l<1?+l.toPrecision(1):l),e.endLabel=e.format(Math.pow(e.logBase,e.visibleRange.max));i<=e.visibleRange.max;i+=e.visibleRange.interval)s=fe({},Q("properties",e.labelStyle),null,!0),al(i,e.visibleRange)&&(r=Math.pow(e.logBase,i),Mb(this.chart,i,this.formatValue(e,a,o,r<1?+r.toPrecision(1):r),s,e));e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}getModuleName(){return"Logarithmic"}destroy(){}}},Qxe={provide:"ChartsLegend",useValue:class extends class{constructor(e){this.pageXCollections=[],this.legendTitleCollections=[],this.legendRegions=[],this.pagingRegions=[],this.chart=e,this.legend=e.legendSettings,this.legendID=e.element.id+"_chart_legend",this.isChartControl="chart"===e.getModuleName(),this.isBulletChartControl="bulletChart"===e.getModuleName(),this.isStockChartControl="stockChart"===e.getModuleName(),this.bulletChart=this.chart,this.fivePixel=5,this.rowCount=0,this.pageButtonSize=8,this.maxColumns=0,this.maxWidth=0,this.currentPage=1,this.backwardArrowOpacity=0,this.forwardArrowOpacity=1,this.arrowWidth=2*(this.fivePixel+this.pageButtonSize+this.fivePixel),this.arrowHeight=this.arrowWidth,this.isTop=!1,this.isTitle=!1,this.currentPageNumber=1}calculateLegendBounds(e,t,i){const s=this.legend,r=this.isBulletChartControl?"40%":"20%";this.getPosition(s.position,t),this.legendBounds=new ce(e.x,e.y,0,0),this.isVertical="Left"===this.position||"Right"===this.position,this.isVertical?(this.legendBounds.height=Ji(s.height,t.height-(e.y-this.chart.margin.top))||e.height,this.legendBounds.width=Ji(s.width||r,t.width)):(this.legendBounds.width=Ji(s.width,t.width)||e.width,this.legendBounds.height=Ji(s.height||r,t.height)),this.library.getLegendBounds(t,this.legendBounds,s),this.isBulletChartControl||(this.legendBounds.width+=this.legend.containerPadding.left+this.legend.containerPadding.right,this.legendBounds.height+=this.legend.containerPadding.top+this.legend.containerPadding.bottom),this.getLocation(this.position,s.alignment,this.legendBounds,e,t,i)}getPosition(e,t){const i=this.chart,s=this.chart;this.isChartControl||this.isBulletChartControl||this.isStockChartControl?this.position="Auto"!==e?e:"Bottom":("Auto"===e&&((i||s).visibleSeries&&"Funnel"===(i||s).visibleSeries[0].type||"Pyramid"===(i||s).visibleSeries[0].type)&&(e="Top"),this.position="Auto"!==e?e:t.width>t.height?"Right":"Bottom")}setBounds(e,t,i,s){let r=i.title&&"Top"===i.titlePosition?this.legendTitleSize.height+this.fivePixel:0;this.isVertical&&this.isPaging&&!i.enablePages&&!this.isBulletChartControl&&(r=i.title&&"Top"===i.titlePosition?this.legendTitleSize.height+this.fivePixel:0,r+=this.pageButtonSize+this.fivePixel),e=Math.min(e,s.width),t=Math.min(t,s.height),"Gradient"===i.mode?(s.width=i.width?s.width:this.isVertical?e:.75*s.width,s.height=i.height?s.height:this.isVertical?.75*s.height:t):(s.width=i.width?s.width:e,s.height=i.height?s.height:t),this.isBulletChartControl||this.isTop&&"None"!==i.titleStyle.textOverflow&&(this.calculateLegendTitle(i,s),s.height+="Wrap"===i.titleStyle.textOverflow&&this.legendTitleCollections.length>1?this.legendTitleSize.height-this.legendTitleSize.height/this.legendTitleCollections.length:0),this.rowCount=Math.max(1,Math.ceil((s.height-i.padding-r)/(this.maxItemHeight+i.padding)))}getLocation(e,t,i,s,r,o){const a=this.legend.border.width,l=this.isBulletChartControl,h=this.bulletChart,c="Inside"===h.labelPosition,d="Inside"===h.tickPosition,u="Vertical"===h.orientation,p=l&&""!==h.categoryField?o.width+this.chart.border.width+3*a:0,m=this.chart.margin.bottom;let y=i.height+a+this.legend.margin.top+this.legend.margin.bottom,b=i.width+a+this.legend.margin.left+this.legend.margin.right;"Bottom"===e?(i.x=this.alignLegend(i.x,r.width,i.width,t),i.y=s.y+(s.height-y)+a+this.legend.margin.top,i.y+=!l||h.opposedPosition||c||d||u?u&&""!==h.categoryField?o.height+2*a:0:h.majorTickLines.height+m+this.legend.border.width+2*a,bd(s,new Cd(0,0,0,y))):"Top"===e?(i.x=this.alignLegend(i.x,r.width,i.width,t),i.y=s.y+a+this.legend.margin.top,i.y-=!l||!h.opposedPosition||c||d||u?0:h.majorTickLines.height+this.chart.margin.top,y-=l?2*-a:0,bd(s,new Cd(0,0,y,0))):"Right"===e?(i.x=s.x+(s.width-i.width)-this.legend.margin.right,i.y=s.y+this.alignLegend(0,r.height-(s.y+m),i.height,t),b+=l&&h.opposedPosition&&!c&&!d&&u?this.chart.margin.left+this.chart.margin.right+h.majorTickLines.height:0,bd(s,new Cd(0,b,0,0))):"Left"===e?(i.x=i.x+this.legend.margin.left,i.y=s.y+this.alignLegend(0,r.height-(s.y+m),i.height,t),b+=!l||h.opposedPosition||c||d||!u?"Vertical"!==h.orientation&&""!==h.categoryField?p:0:i.x-this.chart.margin.left+a+h.majorTickLines.height,bd(s,new Cd(b,0,0,0))):(i.x=this.legend.location.x,i.y=this.legend.location.y,bd(s,new Cd(0,0,0,0)))}alignLegend(e,t,i,s){switch(s){case"Far":e=t-i-e;break;case"Center":e=(t-i)/2}return e}renderLegend(e,t,i,s){let r=0,o=0,a=new ce(0,0,0,0),l=new ce(0,0,0,0);const h=this.findFirstLegendPosition(this.legendCollections),c=t.padding,d=t.enablePages,u=t.titlePosition,p=this.isPaging&&!t.enablePages&&this.isVertical?this.pageButtonSize:0,m=e.renderer.createGroup({id:this.legendID+"_g"}),y=this.createLegendElements(e,i,m,t,this.legendID,s);this.legendRegions=[];let b=0;for(let v=0;v<this.legendCollections.length;v++)if(""!==this.legendCollections[v].text){b=Math.max(this.legendCollections[v].textSize.height,b);break}if(this.maxItemHeight=Math.max(b,t.shapeHeight),d||!this.isPaging||this.isVertical?!this.isPaging&&!this.isVertical&&(o=this.isTitle&&"Left"===u?this.fivePixel+this.legendTitleSize.width:0):(o=this.isTitle&&"Left"===u?this.legendTitleSize.width:0,o+=this.pageButtonSize+2*this.fivePixel),r=this.isTitle&&(this.isTop||this.isVertical)?this.legendTitleSize.height:0,"Gradient"===e.legendSettings.mode&&this.legendCollections.length>1)this.getLinearLegend(i,e,t,y),this.totalPages=1;else if(h!==this.legendCollections.length){let v,C=0,w=this.legendCollections[h];const _=new Fe(this.isBulletChartControl?i.x+o+c+t.shapeWidth/2:i.x+o+c+t.shapeWidth/2+t.containerPadding.left,this.isBulletChartControl?i.y+r+p+c+this.maxItemHeight/2:i.y+r+p+c+this.maxItemHeight/2+t.containerPadding.top),D=new bs("",_.x,_.y,e.isRtlEnabled?"end":"start"),I=t.shapePadding+c+t.shapeWidth;if(this.totalPages=this.totalPages=this.isChartControl||this.isBulletChartControl||this.isStockChartControl?this.totalPages:0,this.pageXCollections=[],this.legendCollections[h].location=_,!t.enablePages&&this.isPaging){const O=_.x-this.fivePixel,N=_.y-this.fivePixel,X=this.isTitle&&!this.isVertical&&"Left"===u?this.legendTitleSize.width+this.fivePixel:0,H=this.isVertical?this.pageButtonSize+Math.abs(N-i.y):0;let q=this.isTitle&&!this.isVertical&&"Right"===u?this.legendTitleSize.width+this.fivePixel:0;q+=this.isVertical?0:this.fivePixel+this.pageButtonSize+this.fivePixel,a=new ce(O,N,i.width-q-X,i.height-H),l=a}else l=i;for(const O of this.legendCollections)"accumulationchart"===this.chart.getModuleName()&&(O.fill=(this.chart||this.chart||this.chart).visibleSeries[0].points[O.pointIndex].color),"stockChart"===this.chart.getModuleName()&&(O.type=this.chart.visibleSeries[C].type),this.accessbilityText=this.isBulletChartControl?"Legend of bullet chart"+O.text:"Click to show or hide the "+O.text+" series",O.render&&""!==O.text&&(v=e.renderer.createGroup({id:this.legendID+this.generateId(O,"_g_",C)}),v&&(v.setAttribute("tabindex",t.tabIndex.toString()),v.setAttribute("aria-label",t.description||this.accessbilityText)),this.library.getRenderPoint(O,_,I,w,l,C,h),this.renderSymbol(O,v,C),this.renderText(e,O,v,D,C),v&&v.setAttribute("style","outline: none; cursor: "+(!t.toggleVisibility&&("None"===e.selectionMode||"None"===e.highlightMode||"None"===e.selectionMode)||this.isBulletChartControl?"auto":"pointer")),y&&y.appendChild(v),w=O),C++;this.isPaging?this.renderPagingElements(e,i,D,m):this.totalPages=1}lt(e.enableCanvas,e.svgObject,m,s)}getLinearLegend(e,t,i,s){const r="http://www.w3.org/2000/svg",o=this.legendCollections[0],a=this.legendCollections[1],l=this.chart.renderer.createDefs(),c=document.createElementNS(r,"linearGradient"),u=[],p=[];i.title&&(this.isVertical?(e.y+=this.legendTitleSize.height,e.height-=this.legendTitleSize.height):"Left"===i.titlePosition?(e.x+=this.legendTitleSize.width,e.width-=this.legendTitleSize.width):"Right"===i.titlePosition?e.width-=this.legendTitleSize.width:"Top"===i.titlePosition&&(e.y+=this.legendTitleSize.height,e.height-=this.legendTitleSize.height));for(const pe of this.chart.rangeColorSettings){if(p.indexOf(pe.start)<0&&p.push(pe.start),pe.colors.length>2){let ae=pe.end-pe.start;const Oe=pe.colors.length-1;if(ae>0){ae/=Oe;for(let Te=1;Te<Oe;Te++)p.push(pe.start+ae*Te)}else for(let Te=1;Te<Oe;Te++)p.push(pe.start)}p.indexOf(pe.end)<0&&p.push(pe.end);for(const ae of pe.colors)u.indexOf(ae)<0&&u.push(ae);pe.colors.length>0&&pe.colors.length<2&&u.push(pe.colors[0])}const m=this.isVertical?"0":"100",y=this.isVertical?"100":"0";c.setAttribute("id",this.generateId(o,"linearGradient",0)),c.setAttribute("x1","0%"),c.setAttribute("y1","0%"),c.setAttribute("x2",m+"%"),c.setAttribute("y2",y+"%");const b=p[p.length-1]-p[0];for(let pe=0;pe<u.length;pe++){let ae=p[pe]-p[0];ae/=b;const Oe=document.createElementNS(r,"stop");Oe.setAttribute("offset",ae.toString()),Oe.setAttribute("stop-color",u[pe]),Oe.setAttribute("stop-opacity",1..toString()),c.appendChild(Oe)}const v=o.text.toString(),C=a.text.toString(),w=Le(v,i.textStyle),_=Le(C,i.textStyle),k=w.width>_.width?w.width:_.width,D=w.height>_.height?w.height:_.height;let q,G,A,R,I=2*k+4*i.padding,O=e.width,N=e.height,X=e.x+k+2*i.padding,H=e.y+i.padding;if(this.isVertical){if(I=2*D+4*i.padding,O=e.width-2*i.padding,N=e.height-I,X=e.x+i.padding,H=e.y+D+2*i.padding,q=e.y+i.padding+D,G=H+N+D,A=e.x+.5*e.width-.5*k,R=A,O>30){const pe=O-30;O=30,X+=pe/2}}else if(O=e.width-I,N=e.height-2*i.padding,A=e.x+i.padding+(k-w.width),R=e.x+O+3*i.padding+k,q=e.y+.5*e.height+.25*D,G=q,N>30){const pe=N-30;N=30,H+=pe/2}let P=new bs("",A,q,"",v);P.id=this.legendID+this.generateId(o,"_text_",1);const L=o.visible?i.textStyle.color||t.themeStyle.legendLabel:"#D3D3D3",V=!this.isStockChartControl&&this.chart.enableCanvas;Os(t.renderer,P,i.textStyle,L,s,!1,!1,!1,!1,null,this.currentPageNumber&&V?new ce(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null),P=new bs("",R,G,"",C),P.id=this.legendID+this.generateId(o,"_text_",2),Os(t.renderer,P,i.textStyle,L,s,!1,!1,!1,!1,null,this.currentPageNumber&&V?new ce(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null);const te=t.renderer.drawRectangle({width:O,height:N,x:X,y:H,fill:"url(#"+this.generateId(o,"linearGradient",0)+")"});l.appendChild(c),s.appendChild(l),s.appendChild(te)}findFirstLegendPosition(e){let t=0;for(const i of e){if(i.render&&""!==i.text)break;t++}return t}calculateLegendTitle(e,t){if(e.title){this.isTop="Top"===e.titlePosition;const i="Trim"===e.titleStyle.textOverflow?2*e.padding:0;this.isTop||this.isVertical?this.legendTitleCollections=Xp(e.title,e.titleStyle,t.width-i):this.legendTitleCollections[0]=Ya(e.maximumTitleWidth,e.title,e.titleStyle),this.legendTitleSize=Le(this.isTop?e.title:this.legendTitleCollections[0],e.titleStyle),this.legendTitleSize.height*=this.legendTitleCollections.length}else this.legendTitleSize=new xt(0,0)}renderLegendTitle(e,t,i,s){const r=t.padding,o=t.titleStyle.textAlignment;this.isTop="Top"===t.titlePosition;let a="Near"===o?"start":"Far"===o?"end":"middle",l=Am(i,t.titleStyle);a=this.isTop||this.isVertical?a:"",l="Near"===o?l+r:"Far"===o?l-r:l,l=this.isTop||this.isVertical?l:i.x+("Left"===t.titlePosition?5:i.width-this.legendTitleSize.width-5);const d=new bs(this.legendID+"_title",l,i.y+(this.isTop||this.isVertical?this.legendTitleSize.height/this.legendTitleCollections.length:i.height/2+this.legendTitleSize.height/4),a,this.legendTitleCollections);Os(e.renderer,d,t.titleStyle,t.titleStyle.color,s)}createLegendElements(e,t,i,s,r,o){const a=s.padding,l=new us(r+"_element",s.background,s.border,s.opacity,t),h=e.renderer.createGroup({id:r+"_collections"}),c=!this.isStockChartControl&&e.enableCanvas,d=e.renderer.createClipPath({id:r+"_clipPath"});return i?i.appendChild(e.renderer.drawRectangle(l)):e.renderer.drawRectangle(l),s.title&&this.renderLegendTitle(e,s,t,i),c||i.appendChild(h),this.legendTranslateGroup=e.renderer.createGroup({id:r+"_translate_g"}),c||h.appendChild(this.legendTranslateGroup),l.y+=a+(this.isTop?this.legendTitleSize.height:0),l.id+="_clipPath_rect",l.width=this.isChartControl||"bulletChart"===e.getModuleName()||this.isStockChartControl||!this.isVertical?t.width:this.maxWidth-a+s.containerPadding.left+s.containerPadding.right,c?this.pagingClipRect=l:(this.clipRect=e.renderer.drawRectangle(l),d.appendChild(this.clipRect)),lt(c,e.svgObject,d,o),c||h.setAttribute("style","clip-path:url(#"+d.id+")"),this.legendTranslateGroup}renderSymbol(e,t,i){const s=this.isBulletChartControl?this.chart:null,r=e.visible?e.fill:"#D3D3D3",o=("chart"===this.chart.getModuleName()||"stockChart"===this.chart.getModuleName())&&"SeriesType"===e.shape&&e.type.toLowerCase().indexOf("line")>-1&&-1===e.type.toLowerCase().indexOf("area"),a=!("chart"!==this.chart.getModuleName()&&"stockChart"!==this.chart.getModuleName()||"Scatter"!==e.type&&"Bubble"!==e.type),l=!this.isStockChartControl&&this.chart.enableCanvas;let h,u,c="SeriesType"===e.shape?e.type:e.shape,d=o?"Series"===this.legend.mode?this.chart.visibleSeries[i].width:this.chart.visibleSeries[0].width:this.isBulletChartControl&&"Multiply"===e.shape?4:1;if(c="Scatter"===c?e.markerShape:c,a&&i<this.chart.visibleSeries.length){const v=this.chart.visibleSeries[i].border;h=v.color?v.color:r,d=v.width?v.width:1}const p=new nt(this.legendID+this.generateId(e,"_shape_",i),r,d,a?h:r,1,"","");let m=Le(e.text,this.legend.textStyle),y=this.legend.isInversed?e.location.x+m.width+this.legend.shapePadding:e.location.x,b=e.location.y;l?(u=-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),mo({x:y,y:b},c,new xt(this.legend.shapeWidth,this.legend.shapeHeight),"",p,0,this.chart.renderer,this.currentPageNumber?new ce(0,u,0,0):null,this.isBulletChartControl,s),this.legendRegions.push({rect:new ce(e.location.x,e.location.y,this.legend.shapeWidth,this.legend.shapeHeight+u),index:i})):t.appendChild(mo({x:y,y:b},c,new xt(this.legend.shapeWidth,this.legend.shapeHeight),e.url,p,0,this.chart.renderer,null,this.isBulletChartControl,s)),("Line"===c&&e.markerVisibility&&"Image"!==e.markerShape||"Doughnut"===e.type&&"Doughnut"===c)&&(p.id=this.legendID+this.generateId(e,"_shape_marker_",i),c="Doughnut"===e.type?"Circle":e.markerShape,p.fill="Doughnut"===e.type?"#FFFFFF":p.fill,l?mo({x:y,y:b},c,new xt(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",p,0,this.chart.renderer,this.currentPageNumber?new ce(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null,this.isBulletChartControl,s):t.appendChild(mo({x:y,y:b},c,new xt(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",p,0,null,null,this.isBulletChartControl,s)))}renderText(e,t,i,s,r){const o=e.legendSettings,l=t.visible?o.textStyle.color||e.themeStyle.legendLabel:"#D3D3D3",h=!this.isStockChartControl&&this.chart.enableCanvas;s.id=this.legendID+this.generateId(t,"_text_",r),s.text=t.text,s.x=o.isInversed?t.location.x-o.shapeWidth/2:t.location.x+o.shapeWidth/2+o.shapePadding,s.y=t.location.y+this.maxItemHeight/4;const c=Os(e.renderer,s,o.textStyle,l,i,!1,!1,!1,!1,null,this.currentPageNumber&&h?new ce(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null);if(c&&c.setAttribute("aria-label",o.description||this.accessbilityText),h){const d=Le(s.text,o.textStyle);this.legendRegions[r].rect.y=s.y<this.legendRegions[r].rect.y?s.y:this.legendRegions[r].rect.y,this.legendRegions[r].rect.width+=d.width,this.legendRegions[r].rect.height=d.height,this.legendRegions[r].rect.y-=.5*d.height}}renderPagingElements(e,t,i,s){const r=e.renderer.createGroup({id:this.legendID+"_navigation"}),o=!this.isStockChartControl&&e.enableCanvas,a=this.isBulletChartControl?0:this.legendTitleSize.height,l=this.chart.theme.indexOf("Dark")>-1?"#FFFFFF":"#545454",h=e.legendSettings,d=new nt(this.legendID+"_pageup","transparent",5,l,1,"",""),u=this.pageButtonSize,p=h.enablePages||!this.isPaging||this.isVertical||this.isBulletChartControl?this.rowCount-1:1,m=this.isTitle&&"Left"===h.titlePosition?this.legendTitleSize.width:0;this.pagingRegions=[],this.backwardArrowOpacity=1!==this.currentPage?1:0,this.forwardArrowOpacity=this.currentPage===this.totalPages?0:1,o||s.appendChild(r),this.totalPages=this.isChartControl||this.isBulletChartControl||this.isStockChartControl||!this.isVertical?Math.ceil(this.totalPages/Math.max(1,this.rowCount-1)):Math.ceil(this.totalPages/this.maxColumns),r&&r.setAttribute("style","cursor: pointer"),this.clipPathHeight=p*(this.maxItemHeight+h.padding),o?(this.pagingClipRect.height=this.legendBounds.height-this.clipPathHeight-(this.pagingClipRect.y-this.legendBounds.y)-h.border.width,this.pagingClipRect.y=this.pagingClipRect.y+this.clipPathHeight,this.pagingClipRect.x+=h.border.width,this.pagingClipRect.width-=h.border.width+h.border.width/2,this.chart.renderer.clearRect(new ce(this.pagingClipRect.x,this.pagingClipRect.y,this.pagingClipRect.width,this.pagingClipRect.height))):this.clipRect.setAttribute("height",this.clipPathHeight.toString());let y,b=t.x+u/2,v=t.y+this.clipPathHeight+(a+t.height-this.clipPathHeight)/2;this.isPaging&&!h.enablePages&&!this.isVertical&&!this.isBulletChartControl&&(b=t.x+this.fivePixel+this.pageButtonSize+m,v=h.title&&this.isTop?t.y+8+a+u/1+.5:t.y+8+u+.5);const C=Le(this.totalPages+"/"+this.totalPages,h.textStyle);o?mo({x:b,y:v},"LeftArrow",new xt(u,u),"",d,0,this.chart.renderer,new ce(t.width-(2*(u+8)+8+C.width),0,0,0)):!this.isVertical||h.enablePages||this.isBulletChartControl?(d.opacity=this.isBulletChartControl?d.opacity:h.enablePages?1:this.backwardArrowOpacity,r.appendChild(mo({x:b,y:v},"LeftArrow",new xt(u,u),"",d))):(b=t.x+t.width/2,v=t.y+u/2+8+a,d.opacity=this.backwardArrowOpacity,r.appendChild(mo({x:b,y:v},"UpArrow",new xt(u,u),"",d))),this.pagingRegions.push(new ce(b+t.width-(2*(u+8)+8+C.width)-.5*u,v-.5*u,u,u)),i.x=b+u/2+8,i.y=v+C.height/4,i.id=this.legendID+"_pagenumber",i.text="1/"+this.totalPages;const w=this.chart.theme.indexOf("Dark")>-1?"#FFFFFF":h.textStyle.color;o&&this.totalNoOfPages&&(i.text=this.currentPageNumber+"/"+this.totalNoOfPages),(h.enablePages||this.isBulletChartControl)&&(y=Os(e.renderer,i,h.textStyle,w,r,!1,!1,!1,!1,null,new ce(t.width-(2*(u+8)+8+C.width),0,0,0))),b=i.x+8+u/2+C.width,this.isPaging&&!h.enablePages&&!this.isVertical&&(b=t.x+t.width-this.fivePixel-this.pageButtonSize-(h.title&&"Right"===h.titlePosition?this.legendTitleSize.width+this.fivePixel:0)),d.id=this.legendID+"_pagedown",d.opacity=h.enablePages?1:this.forwardArrowOpacity,o?mo({x:b,y:v},"RightArrow",new xt(u,u),"",d,0,this.chart.renderer,new ce(t.width-(2*(u+8)+8+C.width),0,0,0)):!this.isVertical||h.enablePages||this.isBulletChartControl?r.appendChild(mo({x:b,y:v},"RightArrow",new xt(u,u),"",d)):(b=t.x+t.width/2,v=t.y+t.height-u/2-8,r.appendChild(mo({x:b,y:v},"DownArrow",new xt(u,u),"",d))),this.pagingRegions.push(new ce(b+(t.width-(2*(u+8)+8+C.width)-.5*u),v-.5*u,u,u)),o||!h.enablePages&&!this.isBulletChartControl?(1===this.currentPageNumber&&this.calTotalPage&&(h.enablePages||this.isBulletChartControl)&&(this.totalNoOfPages=this.totalPages,this.calTotalPage=!1),!h.enablePages&&!this.isBulletChartControl&&this.translatePage(null,this.currentPage-1,this.currentPage,h)):r.setAttribute("transform","translate("+(t.width-(2*(u+8)+8+C.width))+", 0)"),(h.enablePages||this.isBulletChartControl)&&this.translatePage(y,this.currentPage-1,this.currentPage,h)}translatePage(e,t,i,s){let r=this.clipPathHeight*t,o="translate(0,-"+r+")";return!this.isChartControl&&!this.isBulletChartControl&&!this.isStockChartControl&&this.isVertical&&(r=this.pageXCollections[t*this.maxColumns]-this.legendBounds.x,r=r<0?0:r,o="translate(-"+r+",0)"),this.chart.enableCanvas||this.legendTranslateGroup.setAttribute("transform",o),!this.chart.enableCanvas&&(s.enablePages||this.isBulletChartControl)&&(e.textContent=i+"/"+this.totalPages),this.currentPage=i,r}changePage(e,t){const i=this.chart.legendSettings,s=document.getElementById(this.legendID+"_pageup"),r=document.getElementById(this.legendID+"_pagedown"),o=i.enablePages||this.isBulletChartControl?document.getElementById(this.legendID+"_pagenumber"):null,a=i.enablePages||this.isBulletChartControl?parseInt(o.textContent.split("/")[0],10):this.currentPage;t&&a>1?this.translatePage(o,a-2,a-1,i):!t&&a<this.totalPages&&this.translatePage(o,a,a+1,i),this.isPaging&&!i.enablePages&&!this.isBulletChartControl&&(this.currentPage===this.totalPages?this.hideArrow(r):this.showArrow(r),1===this.currentPage?this.hideArrow(s):this.showArrow(s))}hideArrow(e){e.setAttribute("opacity","0")}showArrow(e){e.setAttribute("opacity","1")}generateId(e,t,i){return this.isChartControl||this.isStockChartControl?t+i:t+e.pointIndex}move(e){const t=this.chart.mouseX,i=this.chart.mouseY;if(e.target.textContent.indexOf("...")>-1){const s=e.target.id.split(this.legendID+"_text_");if(2===s.length){const r=parseInt(s[1],10),o=this.chart.element;isNaN(r)||(this.chart.isTouch&&Qi(this.chart.element.id+"_EJ2_Legend_Tooltip"),this.isChartControl?xb(this.chart.series[r].name,t,i,o.offsetWidth,o.id+"_EJ2_Legend_Tooltip",se(this.chart.element.id+"_Secondary_Element")):xb(this.chart.visibleSeries[0].points[r].x.toString(),t+10,i+10,o.offsetWidth,o.id+"_EJ2_Legend_Tooltip",se(this.chart.element.id+"_Secondary_Element")))}}else Qi(this.chart.element.id+"_EJ2_Legend_Tooltip");this.chart.isTouch&&(clearTimeout(this.clearTooltip),this.clearTooltip=+setTimeout(()=>{Qi(this.chart.element.id+"_EJ2_Legend_Tooltip")},1e3))}}{constructor(e){super(e),this.library=this,this.addEventListener()}addEventListener(){this.chart.isDestroyed||(this.chart.on(T.touchMoveEvent,this.mouseMove,this),this.chart.on("click",this.click,this),this.chart.on(T.touchEndEvent,this.mouseEnd,this))}removeEventListener(){this.chart.isDestroyed||(this.chart.off(T.touchMoveEvent,this.mouseMove),this.chart.off("click",this.click),this.chart.off(T.touchEndEvent,this.mouseEnd))}mouseMove(e){this.chart.legendSettings.visible&&!this.chart.isTouch&&(this.move(e),this.chart.highlightModule&&"None"!==this.chart.highlightMode&&this.click(e))}mouseEnd(e){this.chart.legendSettings.visible&&this.chart.isTouch&&this.move(e)}getLegendOptions(e,t){let i,s;this.legendCollections=[];const r=[];e.length>1&&(this.legend.mode="Series");for(const o of e)if("Series"===this.legend.mode)"Indicator"!==o.category&&(i="PolarRadar"===t.chartAreaType?o.drawType:o.type,s=o.pointColorMapping&&o.points.length>0&&o.points[0].interior?o.points[0].interior:o.interior,this.legendCollections.push(new Sc(o.name,s,o.legendShape,"TrendLine"===o.category?this.chart.series[o.sourceIndex].trendlines[o.index].visible:o.visible,i,o.legendImageUrl,o.marker.shape,o.marker.visible)));else if("Point"===this.legend.mode)for(const a of o.points)i="PolarRadar"===t.chartAreaType?o.drawType:o.type,s=a.interior?a.interior:o.interior,0===this.legendCollections.filter(l=>l.text===a.x.toString()).length&&this.legendCollections.push(new Sc(a.x.toString(),s,o.legendShape,"TrendLine"===o.category?this.chart.series[o.sourceIndex].trendlines[o.index].visible:a.visible,i,"",o.marker.shape,o.marker.visible));else if("Range"===this.legend.mode)for(const a of o.points){i="PolarRadar"===t.chartAreaType?o.drawType:o.type,s=a.interior?a.interior:o.interior;let l="Others";if(r.indexOf(s)<0&&(r.push(s),t.rangeColorSettings.length>=1&&1===t.rangeColorSettings[0].colors.length)){for(const h of t.rangeColorSettings)h.colors[0]===s&&(l=h.label);this.legendCollections.push(new Sc(l,s,o.legendShape,"TrendLine"===o.category?this.chart.series[o.sourceIndex].trendlines[o.index].visible:a.visible,i,"",o.marker.shape,o.marker.visible))}}else if(0===this.legendCollections.length&&t.rangeColorSettings.length>0){const a=t.rangeColorSettings[0].start.toString(),l=t.rangeColorSettings[t.rangeColorSettings.length-1].end.toString();this.legendCollections.push(new Sc(a,o.interior,"Rectangle",!0,i,"",o.marker.shape,o.marker.visible)),this.legendCollections.push(new Sc(l,o.interior,"Rectangle",!0,i,"",o.marker.shape,o.marker.visible))}}getLegendBounds(e,t,i){this.calculateLegendTitle(i,t),this.isTitle=!!i.title;const s=i.padding,r=i.titlePosition;let o=0,a=0;const l=this.arrowWidth,c=this.isVertical&&!i.enablePages?this.arrowHeight:0;let d=this.isTitle&&"Top"===r?this.legendTitleSize.height+this.fivePixel:0;d=this.isTitle&&this.isVertical&&"Top"!==r?this.legendTitleSize.height+this.fivePixel:d,this.isVertical?a=i.width?0:e.width/100*5:o=i.height?0:e.height/100*5,t.height+=o,t.width+=a;let _,u=i.shapeWidth,p=i.shapePadding,m=0,y=0,b=0,v=0,C=0,w=0;this.maxItemHeight=Math.max(Le("MeasureText",i.textStyle).height,i.shapeHeight);let k=!1;for(const D of this.legendCollections)vb.test(D.text)&&(D.text=iD(D.text,vb)),q1.test(D.text)&&(D.text=iD(D.text,q1)),_={fill:D.fill,text:D.text,shape:D.shape,markerShape:D.markerShape,name:yb,cancel:!1},this.chart.trigger(yb,_),D.render=!_.cancel,D.text=_.text,D.fill=_.fill,D.shape=_.shape,D.markerShape=_.markerShape,D.textSize=Le(D.text,i.textStyle),u=D.text?i.shapeWidth:0,p=D.text?i.shapePadding:0,D.render&&D.text&&(k=!0,b=u+p+D.textSize.width+s,y+=b,!i.enablePages&&!this.isVertical&&(w=this.isTitle&&"Top"!==r?this.legendTitleSize.width+this.fivePixel:0,w+=l),(t.width<s+y+w||this.isVertical)&&(m=Math.max(m,y+s+w-(this.isVertical?0:b)),0===C&&b!==y&&(C=1),y=this.isVertical?0:b,C++,v=C*(this.maxItemHeight+s)+s+d+c));v=Math.max(v,this.maxItemHeight+s+s+d),this.isPaging=t.height<v,this.isPaging&&!i.enablePages&&(v=this.isVertical?v:this.maxItemHeight+s+s+("Top"===r?d:0)),this.totalPages=C,!this.isPaging&&!this.isVertical&&(y+=this.isTitle&&"Top"!==r?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0),k?this.setBounds(Math.max(y+s,m),v,i,t):this.setBounds(0,0,i,t)}getRenderPoint(e,t,i,s,r,o,a){const l=this.legend.padding,h=s.location.x+i+s.textSize.width;h+(e.textSize.width+i)>r.x+r.width+this.legend.shapeWidth/2||this.isVertical?(e.location.x=t.x,e.location.y=o===a?s.location.y:s.location.y+this.maxItemHeight+l):(e.location.x=o===a?s.location.x:h,e.location.y=s.location.y),e.text=Ya(+(this.legendBounds.x+this.legendBounds.width-(e.location.x+i-this.legend.shapeWidth/2)).toFixed(4),e.text,this.legend.textStyle)}LegendClick(e,t){const i=this.chart,r=i.visibleSeries["Series"===i.legendSettings.mode?e:0],o=this.legendCollections[e],a="isProtectedOnChange";if("Series"===i.legendSettings.mode){const l={legendText:o.text,legendShape:o.shape,chart:i.isBlazor?{}:i,series:r,points:r.points,name:Yp,cancel:!1};this.chart.trigger(Yp,l),r.legendShape=l.legendShape,null!==r.fill&&(i.visibleSeries[e].interior=r.fill),i.legendSettings.toggleVisibility?("TrendLine"===r.category?i.series[r.sourceIndex].trendlines[r.index].visible=!i.series[r.sourceIndex].trendlines[r.index].visible:(r.chart[a]=!0,this.changeSeriesVisiblity(r,r.visible)),o.visible="TrendLine"===r.category?i.series[r.sourceIndex].trendlines[r.index].visible:r.visible,this.refreshLegendToggle(i,r)):i.selectionModule?i.selectionModule.legendSelection(i,e,t):i.highlightModule&&i.highlightModule.legendSelection(i,e,t),r.chart[a]=!1}else if("Point"===i.legendSettings.mode){const l=r.points[e];this.chart.trigger(Yp,{legendText:o.text,legendShape:o.shape,chart:i.isBlazor?{}:i,series:r,points:[l],name:Yp,cancel:!1}),i.legendSettings.toggleVisibility&&(l.visible=!l.visible,this.legendCollections[e].visible=l.visible,this.refreshLegendToggle(i,r))}else if("Range"===i.legendSettings.mode){const l=[],h=this.legendCollections[e];for(const d of r.points)h.fill===(d.interior||r.interior)&&l.push(d);if(this.chart.trigger(Yp,{legendText:o.text,legendShape:o.shape,chart:i.isBlazor?{}:i,series:r,points:l,name:Yp,cancel:!1}),i.legendSettings.toggleVisibility){h.visible=!h.visible;for(const d of l)d.visible=!d.visible;this.refreshLegendToggle(i,r)}}}refreshLegendToggle(e,t){let i=[];if(e.selectionModule&&(i=fe([],e.selectionModule.selectedDataIndexes,null,!0)),e.svgObject.childNodes.length>0&&!e.enableAnimation&&!e.enableCanvas){for(;e.svgObject.lastChild;)e.svgObject.removeChild(e.svgObject.lastChild);Ue(e.svgObject)}e.animateSeries=!1,e.redraw=e.enableAnimation,e.rotatedDataLabelCollections=[],Qi(Ja(e.element.id+"_Secondary_Element").querySelectorAll(".ejSVGTooltip")[0]),sD(e),this.redrawSeriesElements(t,e),e.removeSvg(),e.refreshAxis(),t.refreshAxisLabel(),this.refreshSeries(e.visibleSeries),e.markerRender.removeHighlightedMarker(),e.refreshBound(),e.trigger("loaded",{chart:e}),i.length>0&&(e.selectionModule.selectedDataIndexes=i,e.selectionModule.redrawSelection(e,e.selectionMode)),e.highlightModule&&"None"!==e.highlightMode&&e.highlightModule.redrawSelection(e,e.highlightMode),e.redraw=!1}changeSeriesVisiblity(e,t){e.visible=!t,this.isSecondaryAxis(e.xAxis)&&(e.xAxis.internalVisibility=e.xAxis.series.some(i=>i.visible)),this.isSecondaryAxis(e.yAxis)&&(e.yAxis.internalVisibility=e.yAxis.series.some(i=>i.visible))}isSecondaryAxis(e){return this.chart.axes.indexOf(e)>-1}redrawSeriesElements(e,t){if(!t.redraw)return null;Qi(t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections")}refreshSeries(e){for(const t of e){if(t.type.indexOf("Spline")>-1){const i=t.type.indexOf("Area")>-1||t.drawType.indexOf("Area")>-1,s=t.type.indexOf("Range")>-1;this.chart["spline"+(i?s?"RangeArea":"Area":"")+"SeriesModule"].findSplinePoint(t)}t.position=void 0}}click(e){if(!this.chart.legendSettings.visible)return;const t=this.chart.mouseX,i=this.chart.mouseY;let s=[];const r=e.target.id,o=[this.legendID+"_text_",this.legendID+"_shape_marker_",this.legendID+"_shape_"];let a;for(const l of o)if(r.indexOf(l)>-1){a=parseInt(r.split(l)[1],10),this.LegendClick(a,e);break}r.indexOf(this.legendID+"_pageup")>-1?this.changePage(e,!0):r.indexOf(this.legendID+"_pagedown")>-1&&this.changePage(e,!1),this.chart.enableCanvas&&this.pagingRegions.length&&this.checkWithinBounds(t,i),s=this.legendRegions.filter(l=>zs(t,i+(this.isPaging?(this.currentPageNumber-1)*this.translatePage(null,1,2):0),l.rect)),s.length&&this.chart.enableCanvas&&this.LegendClick(s[0].index,e)}checkWithinBounds(e,t){const i=this.chart.renderer,s=this.legendBounds,r=this.chart.legendSettings.border.width,o=new ce(s.x,s.y,s.width,s.height);return o.x=o.x-r/2,o.y=o.y-r/2,o.width=o.width+r,o.height=o.height+r,zs(e,t,this.pagingRegions[0])?(--this.currentPageNumber>0?(this.legendRegions=[],i.clearRect(o),i.canvasClip(new us("legendClipPath","transparent",{width:0,color:""},null,o)),this.renderLegend(this.chart,this.legend,s),i.canvasRestore()):++this.currentPageNumber,null):zs(e,t,this.pagingRegions[1])?(++this.currentPageNumber>0&&this.currentPageNumber<=this.totalNoOfPages?(this.legendRegions=[],i.clearRect(o),i.canvasClip(new us("legendClipPath","transpaent",{width:0,color:""},null,o)),this.renderLegend(this.chart,this.legend,s),i.canvasRestore()):--this.currentPageNumber,null):void 0}getModuleName(){return"Legend"}destroy(){this.removeEventListener()}}},Jxe={provide:"ChartsZoom",useValue:class{constructor(e){this.zoomCompleteEvtCollection=[],this.chart=e,this.isPointer=T.isPointer,this.browserName=T.info.name,this.wheelEvent="mozilla"===this.browserName?this.isPointer?"mousewheel":"DOMMouseScroll":"mousewheel",this.cancelEvent=this.isPointer?"pointerleave":"mouseleave",this.addEventListener(),this.isDevice=T.isDevice;const t=e.zoomSettings;this.toolkit=new rSe(e),this.zooming=t,this.elementId=e.element.id,this.zoomingRect=new ce(0,0,0,0),this.zoomAxes=[],this.zoomkitOpacity=.3,this.isIOS=T.isIos||T.isIos7,this.isZoomed=this.performedUI=this.zooming.enablePan&&this.zooming.enableSelectionZooming,t.enableScrollbar&&(e.scrollElement=Ve("div",{id:e.element.id+"_scrollElement"}))}renderZooming(e,t,i){this.calculateZoomAxesRange(t),!this.zooming.enableSelectionZooming||i&&(!t.isDoubleTap||1!==this.touchStartList.length)||this.isPanning&&!t.isDoubleTap?this.isPanning&&t.isChartDrag&&(!i||i&&1===this.touchStartList.length)&&(this.pinchTarget=i?e.target:null,this.doPan(t,t.axisCollections)):(this.isPanning=!!this.isDevice||this.isPanning,this.performedUI=!0,this.drawZoomingRectangle(t))}drawZoomingRectangle(e){const t=e.chartAxisLayoutPanel.seriesClipRect,i=new Fe(e.previousMouseMoveX,e.previousMouseMoveY),s=new Fe(e.mouseX,e.mouseY),r=this.zoomingRect=function(n,e,t){const i=e.x<t.x?t.x:e.x>t.x+t.width?t.x+t.width:e.x,s=e.y<t.y?t.y:e.y>t.y+t.height?t.y+t.height:e.y;return new ce(i>n.x?n.x:i,s>n.y?n.y:s,Math.abs(i-n.x),Math.abs(s-n.y))}(i,s,t);r.width>0&&r.height>0&&(this.isZoomed=!0,e.disableTrackTooltip=!0,e.svgObject.setAttribute("cursor","crosshair"),"X"===this.zooming.mode?(r.height=t.height,r.y=t.y):"Y"===this.zooming.mode&&(r.width=t.width,r.x=t.x),(e.enableCanvas?document.getElementById(this.elementId+"_tooltip_svg"):e.svgObject).appendChild(e.svgRenderer.drawRectangle(new us(this.elementId+"_ZoomArea",e.themeStyle.selectionRectFill,{color:e.themeStyle.selectionRectStroke,width:1},1,r,0,0,"","3"))))}doPan(e,t){if(e.startMove&&e.crosshair.enable)return null;let i,s,r;this.isZoomed=!0,this.offset=e.delayRedraw?this.offset:e.chartAxisLayoutPanel.seriesClipRect,e.delayRedraw=!0,this.zoomCompleteEvtCollection=[],e.disableTrackTooltip=!0;const o=[];for(const l of t)r={cancel:!1,name:qp,axis:l,previousZoomFactor:l.zoomFactor,previousZoomPosition:l.zoomPosition,currentZoomFactor:l.zoomFactor,currentZoomPosition:l.zoomPosition,previousVisibleRange:l.visibleRange,currentVisibleRange:null},i=Math.max(1/Du(l.zoomFactor,0,1),1),"Horizontal"===l.orientation?(s=(e.previousMouseMoveX-e.mouseX)/l.rect.width/i,r.currentZoomPosition=Du(l.zoomPosition+s,0,1-l.zoomFactor)):(s=(e.previousMouseMoveY-e.mouseY)/l.rect.height/i,r.currentZoomPosition=Du(l.zoomPosition-s,0,1-l.zoomFactor)),r.cancel||(l.zoomFactor=r.currentZoomFactor,l.zoomPosition=r.currentZoomPosition,this.zoomCompleteEvtCollection.push(r)),o.push({zoomFactor:l.zoomFactor,zoomPosition:l.zoomFactor,axisName:l.name,axisRange:l.visibleRange});const a={cancel:!1,axisCollection:o,name:ol};this.chart.trigger(ol,a,!a.cancel&&this.chart.isBlazor?()=>{this.performDefferedZoom(e)}:()=>{this.performDefferedZoom(e),this.redrawOnZooming(e,!1)})}performDefferedZoom(e){let t,i;if(this.zooming.enableDeferredZooming){switch(t=e.mouseX-e.mouseDownX,i=e.mouseY-e.mouseDownY,this.zooming.mode){case"X":i=0;break;case"Y":t=0}this.setTransform(t,i,null,null,e,!1),this.refreshAxis(e.chartAxisLayoutPanel,e,e.axisCollections),e.enableCanvas&&this.performZoomRedraw(e)}else this.performZoomRedraw(e);e.previousMouseMoveX=e.mouseX,e.previousMouseMoveY=e.mouseY}performZoomRedraw(e){const t=this.zoomingRect;e.animateSeries=!1,this.isZoomed&&(t.width>0&&t.height>0?(this.performedUI=!0,e.svgObject.setAttribute("cursor","auto"),this.doZoom(e,e.axisCollections,e.chartAxisLayoutPanel.seriesClipRect),e.isDoubleTap=!1):e.disableTrackTooltip&&(e.disableTrackTooltip=!1,e.delayRedraw=!1,e.enableCanvas?e.createChartSvg():e.removeSvg(),e.refreshAxis(),e.refreshBound()))}refreshAxis(e,t,i){const s=t.zoomSettings.mode;e.measureAxis(new ce(t.initialClipRect.x,t.initialClipRect.y,t.initialClipRect.width,t.initialClipRect.height)),i.map((r,o)=>{"Horizontal"===r.orientation&&"Y"!==s&&e.drawXAxisLabels(r,o,null,r.placeNextToAxisLine?r.updatedRect:r.rect),"Vertical"===r.orientation&&"X"!==s&&e.drawYAxisLabels(r,o,null,r.placeNextToAxisLine?r.updatedRect:r.rect)})}doZoom(e,t,i){const s=this.zoomingRect,r=this.zooming.mode;let o;this.isPanning=e.zoomSettings.enablePan||this.isPanning;const a=[];this.zoomCompleteEvtCollection=[];for(const h of t)o={cancel:!1,name:qp,axis:h,previousZoomFactor:h.zoomFactor,previousZoomPosition:h.zoomPosition,currentZoomFactor:h.zoomFactor,currentZoomPosition:h.zoomPosition,previousVisibleRange:h.visibleRange,currentVisibleRange:null},"Horizontal"===h.orientation?"Y"!==r&&(o.currentZoomPosition+=Math.abs((s.x-i.x)/i.width)*h.zoomFactor,o.currentZoomFactor*=s.width/i.width):"X"!==r&&(o.currentZoomPosition+=(1-Math.abs((s.height+(s.y-i.y))/i.height))*h.zoomFactor,o.currentZoomFactor*=s.height/i.height),parseFloat(o.currentZoomFactor.toFixed(3))<=.001&&(o.currentZoomFactor=o.previousZoomFactor,o.currentZoomPosition=o.previousZoomPosition),o.cancel||(h.zoomFactor=o.currentZoomFactor,h.zoomPosition=o.currentZoomPosition,this.zoomCompleteEvtCollection.push(o)),a.push({zoomFactor:h.zoomFactor,zoomPosition:h.zoomFactor,axisName:h.name,axisRange:h.visibleRange});const l={cancel:!1,axisCollection:a,name:ol};this.chart.trigger(ol,l,!l.cancel&&this.chart.isBlazor?()=>{this.zoomingRect=new ce(0,0,0,0),this.performZoomRedraw(e)}:()=>{this.zoomingRect=new ce(0,0,0,0),this.redrawOnZooming(e)})}redrawOnZooming(e,t=!0,i=!1){const s=i?this.toolkit.zoomCompleteEvtCollection:this.zoomCompleteEvtCollection;let r;t&&this.performZoomRedraw(e);for(let o=0;o<s.length;o++)s[o].cancel||(r={cancel:!1,name:qp,axis:e.axisCollections[o],previousZoomFactor:s[o].previousZoomFactor,previousZoomPosition:s[o].previousZoomPosition,currentZoomFactor:e.axisCollections[o].zoomFactor,currentZoomPosition:e.axisCollections[o].zoomPosition,currentVisibleRange:e.axisCollections[o].visibleRange,previousVisibleRange:s[o].previousVisibleRange},e.trigger(qp,r))}performMouseWheelZooming(e,t,i,s,r){const o="mozilla"!==this.browserName||this.isPointer?e.wheelDelta>0?1:-1:-e.detail/3>0?1:-1,a=this.zooming.mode;let h,c,d,u,l=.5;this.isZoomed=!0,this.calculateZoomAxesRange(s),s.disableTrackTooltip=!0,this.performedUI=!0,this.isPanning=s.zoomSettings.enablePan||this.isPanning,this.zoomCompleteEvtCollection=[];const p=[];for(const y of r)u={cancel:!1,name:qp,axis:y,previousZoomFactor:y.zoomFactor,previousZoomPosition:y.zoomPosition,currentZoomFactor:y.zoomFactor,currentZoomPosition:y.zoomPosition,currentVisibleRange:null,previousVisibleRange:y.visibleRange},("Vertical"===y.orientation&&"X"!==a||"Horizontal"===y.orientation&&"Y"!==a)&&(h=Math.max(Math.max(1/Du(y.zoomFactor,0,1),1)+.25*o,1),h>=1&&(l="Horizontal"===y.orientation?t/y.rect.width:1-i/y.rect.height,l=l>1?1:l<0?0:l,c=1===h?1:Du((o>0?.9:1.1)/h,0,1),d=1===h?0:y.zoomPosition+(y.zoomFactor-c)*l,(y.zoomPosition!==d||y.zoomFactor!==c)&&(c=d+c>1?1-d:c),u.currentZoomFactor=c,u.currentZoomPosition=d),u.cancel||(y.zoomFactor=u.currentZoomFactor,y.zoomPosition=u.currentZoomPosition,this.zoomCompleteEvtCollection.push(u))),p.push({zoomFactor:y.zoomFactor,zoomPosition:y.zoomFactor,axisName:y.name,axisRange:y.visibleRange});const m={cancel:!1,axisCollection:p,name:ol};this.chart.trigger(ol,m,!m.cancel&&this.chart.isBlazor?()=>{this.performZoomRedraw(s)}:()=>{this.redrawOnZooming(s)})}performPinchZooming(e,t){if(this.zoomingRect.width>0&&this.zoomingRect.height>0||t.startMove&&t.crosshair.enable)return!1;this.calculateZoomAxesRange(t),this.isZoomed=!0,this.isPanning=!0,this.performedUI=!0,this.offset=t.delayRedraw?this.offset:t.chartAxisLayoutPanel.seriesClipRect,t.delayRedraw=!0,t.disableTrackTooltip=!0;const i=t.element.getBoundingClientRect(),s=this.touchStartList,r=this.touchMoveList,o=s[0].pageX-i.left,a=s[0].pageY-i.top,l=r[0].pageX-i.left,h=r[0].pageY-i.top,c=s[1].pageX-i.left,d=s[1].pageY-i.top,p=r[1].pageY-i.top,m=Math.abs(l-(r[1].pageX-i.left))/Math.abs(o-c),y=Math.abs(h-p)/Math.abs(a-d),C=new ce((this.offset.x-l)/m+o,(this.offset.y-h)/y+a,this.offset.width/m,this.offset.height/y),w=l-m*o,_=h-y*a;if(!isNaN(m-m)&&!isNaN(y-y))switch(this.zooming.mode){case"XY":this.setTransform(w,_,m,y,t,!0);break;case"X":this.setTransform(w,0,m,1,t,!0);break;case"Y":this.setTransform(0,_,1,y,t,!0)}return this.calculatePinchZoomFactor(t,C),this.refreshAxis(t.chartAxisLayoutPanel,t,t.axisCollections),this.redrawOnZooming(t,!1),!0}calculatePinchZoomFactor(e,t){const i=this.zooming.mode;let s,r,o,a,l,h,c,d,u;const p=[];this.zoomCompleteEvtCollection=[];for(let y=0;y<e.axisCollections.length;y++){const b=e.axisCollections[y];("Horizontal"===b.orientation&&"Y"!==i||"Vertical"===b.orientation&&"X"!==i)&&(d=b.zoomFactor,u=b.zoomPosition,c={cancel:!1,name:qp,axis:b,previousZoomFactor:b.zoomFactor,previousZoomPosition:b.zoomPosition,currentZoomFactor:d,currentZoomPosition:u,previousVisibleRange:b.visibleRange,currentVisibleRange:null},"Horizontal"===b.orientation?(l=t.x-this.offset.x,h=b.rect.width/this.zoomAxes[y].delta,o=l/h+this.zoomAxes[y].min,l=t.x+t.width-this.offset.x,a=l/h+this.zoomAxes[y].min):(l=t.y-this.offset.y,h=b.rect.height/this.zoomAxes[y].delta,o=(-1*l+b.rect.height)/h+this.zoomAxes[y].min,l=t.y+t.height-this.offset.y,a=(-1*l+b.rect.height)/h+this.zoomAxes[y].min),s=Math.min(o,a),r=Math.max(o,a),u=(s-this.zoomAxes[y].actualMin)/this.zoomAxes[y].actualDelta,d=(r-s)/this.zoomAxes[y].actualDelta,c.currentZoomPosition=u<0?0:u,c.currentZoomFactor=d>1?1:d,c.cancel||(b.zoomFactor=c.currentZoomFactor,b.zoomPosition=c.currentZoomPosition,this.zoomCompleteEvtCollection.push(c)),p.push({zoomFactor:b.zoomFactor,zoomPosition:b.zoomFactor,axisName:b.name,axisRange:b.visibleRange}))}const m={cancel:!1,axisCollection:p,name:ol};m.cancel||this.chart.trigger(ol,m)}setTransform(e,t,i,s,r,o){let a,l,h,c;if(r.enableCanvas||r.seriesElements.setAttribute("clip-path","url(#"+this.elementId+"_ChartAreaClipRect_)"),r.indicatorElements&&r.indicatorElements.setAttribute("clip-path","url(#"+this.elementId+"_ChartAreaClipRect_)"),null!==e&&null!==t)for(const d of r.visibleSeries)l=r.requireInvertedAxis?d.yAxis.rect.x:d.xAxis.rect.x,h=r.requireInvertedAxis?d.xAxis.rect.y:d.yAxis.rect.y,a="translate("+(e+(o?i*l:l))+","+(t+(o?s*h:h))+")",a=i||s?a+" scale("+i+" "+s+")":a,d.visible&&("Indicator"===d.category?d.seriesElement.parentNode.setAttribute("transform",a):r.enableCanvas||d.seriesElement.setAttribute("transform",a),c=se(r.element.id+"_Series_"+d.index+"_DataLabelCollections"),d.errorBarElement&&d.errorBarElement.setAttribute("transform",a),d.symbolElement&&d.symbolElement.setAttribute("transform",a),d.textElement&&(d.textElement.setAttribute("visibility","hidden"),d.shapeElement.setAttribute("visibility","hidden")),c&&(c.style.visibility="hidden"))}calculateZoomAxesRange(e){let t,i;for(let s=0;s<e.axisCollections.length;s++){const r=e.axisCollections[s];i=r.visibleRange,this.zoomAxes[s]?e.delayRedraw||(this.zoomAxes[s].min=i.min,this.zoomAxes[s].delta=i.delta):(t={actualMin:r.actualRange.min,actualDelta:r.actualRange.delta,min:i.min,delta:i.delta},this.zoomAxes[s]=t)}}showZoomingToolkit(e){let t=this.zooming.toolbarItems;const i=e.chartAxisLayoutPanel.seriesClipRect,r=e.svgRenderer,o=this.isDevice?1:t.length,a=this.isDevice?Le("Reset Zoom",{size:"12px"}).width:16,l=this.isDevice?Le("Reset Zoom",{size:"12px"}).height:22,h=o*a+5*(o+1)+5*(o-1),c=i.x+i.width-h-5,d=i.y+5;let u=5;const p=this.toolkit;let m,y='<filter id="chart_shadow" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"/>';if(y+='<feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/>',y+='</feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>',0===o||se(this.elementId+"_Zooming_KitCollection"))return!1;const b=r.createDefs();t=this.isDevice?["Reset"]:t,b.innerHTML='<filter id="chart_shadow" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="5"/><feOffset dx="-3" dy="4" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="1"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>',this.toolkitElements=r.createGroup({id:this.elementId+"_Zooming_KitCollection",transform:"translate("+c+","+d+")"}),this.toolkitElements.appendChild(b);const v="Tailwind"===this.chart.theme?"#F3F4F6":"#fafafa";this.toolkitElements.appendChild(r.drawRectangle(new us(this.elementId+"_Zooming_Rect",v,{color:"transparent",width:1},1,new ce(0,0,h,l+10),0,0)));const C=r.drawRectangle(new us(this.elementId+"_Zooming_Rect",v,{color:"transparent",width:1},.1,new ce(0,0,h,l+10),0,0));"Tailwind"===this.chart.theme||"TailwindDark"===this.chart.theme?C.setAttribute("box-shadow","0px 1px 2px rgba(0, 0, 0, 0.06), 0px 1px 3px rgba(0, 0, 0, 0.1)"):C.setAttribute("filter","url(#chart_shadow)"),this.toolkitElements.appendChild(C);let w,_=!1;for(let k=1;k<=o;k++){switch(w=t[k-1],m=r.createGroup({transform:"translate("+u+","+(this.isDevice?5:8)+")"}),w){case"Pan":p.createPanButton(m,this.toolkitElements),_=!0;break;case"Zoom":p.createZoomButton(m,this.toolkitElements);break;case"ZoomIn":p.createZoomInButton(m,this.toolkitElements,e);break;case"ZoomOut":p.createZoomOutButton(m,this.toolkitElements,e);break;case"Reset":p.createResetButton(m,this.toolkitElements,e,this.isDevice)}u+=a+10}if(this.toolkitElements.setAttribute("opacity",this.isDevice?"1":""+this.zoomkitOpacity),this.toolkitElements.setAttribute("cursor","auto"),e.enableCanvas){const k=document.createElement("div");k.id=e.element.id+"_zoom",k.setAttribute("style","position:absolute; z-index:1");const I=e.svgRenderer.createSvg({id:e.element.id+"_zoomkit_svg",width:e.availableSize.width,height:e.availableSize.height/2});I.setAttribute("style","position:absolute"),I.appendChild(this.toolkitElements),k.appendChild(I),document.getElementById(this.elementId+"_Secondary_Element").appendChild(k)}else e.svgObject.appendChild(this.toolkitElements);return this.isDevice||(S.add(this.toolkitElements,"mousemove touchstart",this.zoomToolkitMove,this),S.add(this.toolkitElements,"mouseleave touchend",this.zoomToolkitLeave,this),this.isPanning&&_&&p.pan()),!0}applyZoomToolkit(e,t){this.isAxisZoomed(t)?(this.showZoomingToolkit(e),this.isZoomed=!0):(this.toolkit.removeTooltip(),this.isPanning=!1,this.isZoomed=!1,e.svgObject.setAttribute("cursor","auto"))}isAxisZoomed(e){let t=!1;for(const i of e)t=t||1!==i.zoomFactor||0!==i.zoomPosition;return t}zoomToolkitMove(){const e=this.toolkitElements;return this.zoomkitOpacity=1,e.setAttribute("opacity",""+this.zoomkitOpacity),!1}zoomToolkitLeave(){const e=this.toolkitElements;return this.zoomkitOpacity=.3,e.setAttribute("opacity",""+this.zoomkitOpacity),!1}addEventListener(){this.chart.isDestroyed||(S.add(this.chart.element,this.wheelEvent,this.chartMouseWheel,this),this.chart.on(T.touchMoveEvent,this.mouseMoveHandler,this),this.chart.on(T.touchStartEvent,this.mouseDownHandler,this),this.chart.on(T.touchEndEvent,this.mouseUpHandler,this),this.chart.on(this.cancelEvent,this.mouseCancelHandler,this))}removeEventListener(){this.chart.isDestroyed||(S.remove(this.chart.element,this.wheelEvent,this.chartMouseWheel),this.chart.off(T.touchMoveEvent,this.mouseMoveHandler),this.chart.off(T.touchStartEvent,this.mouseDownHandler),this.chart.off(T.touchEndEvent,this.mouseUpHandler),this.chart.off(this.cancelEvent,this.mouseCancelHandler))}chartMouseWheel(e){const t=this.chart,i=t.element.getBoundingClientRect(),s=se(t.svgId).getBoundingClientRect(),r=e.clientX-i.left-Math.max(s.left-i.left,0),o=e.clientY-i.top-Math.max(s.top-i.top,0);return this.zooming.enableMouseWheelZooming&&zs(r,o,t.chartAxisLayoutPanel.seriesClipRect)&&(e.preventDefault(),this.performMouseWheelZooming(e,r,o,t,t.axisCollections)),!1}mouseMoveHandler(e){const t=this.chart;let i=null;"touchmove"===e.type&&(e.preventDefault&&this.isIOS&&(this.isPanning||t.isDoubleTap||this.zooming.enablePinchZooming&&this.touchStartList.length>1)&&e.preventDefault(),i=e.touches),t.isChartDrag&&(t.isTouch&&(this.touchMoveList=this.addTouchPointer(this.touchMoveList,e,i),this.zooming.enablePinchZooming&&this.touchMoveList.length>1&&this.touchStartList.length>1&&this.performPinchZooming(e,t)),this.renderZooming(e,t,t.isTouch))}mouseDownHandler(e){const t=this.chart;let s,i=null;"touchstart"===e.type&&(i=e.touches),s=e.target,-1===s.id.indexOf(t.element.id+"_Zooming_")&&zs(t.previousMouseMoveX,t.previousMouseMoveY,t.chartAxisLayoutPanel.seriesClipRect)&&(t.isChartDrag=!0),t.isTouch&&(this.touchStartList=this.addTouchPointer(this.touchStartList,e,i))}mouseUpHandler(e){const t=this.chart,i=-1===e.target.id.indexOf(t.element.id+"_ZoomOut_")||-1===e.target.id.indexOf(t.element.id+"_ZoomIn_");(t.isChartDrag||i)&&this.redrawOnZooming(t,!0,!0),t.isTouch&&(t.isDoubleTap&&zs(t.mouseX,t.mouseY,t.chartAxisLayoutPanel.seriesClipRect)&&1===this.touchStartList.length&&this.isZoomed&&this.toolkit.reset(),this.touchStartList=[],t.isDoubleTap=!1)}mouseCancelHandler(){this.isZoomed&&this.performZoomRedraw(this.chart),this.pinchTarget=null,this.touchStartList=[],this.touchMoveList=[]}addTouchPointer(e,t,i){if(i){e=[];for(let s=0,r=i.length;s<r;s++)e.push({pageX:i[s].clientX,pageY:i[s].clientY,pointerId:null})}else if(0===(e=e||[]).length)e.push({pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId});else for(let s=0,r=e.length;s<r;s++)e[s].pointerId===t.pointerId?e[s]={pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId}:e.push({pageX:t.clientX,pageY:t.clientY,pointerId:t.pointerId});return e}getModuleName(){return"Zoom"}destroy(){this.removeEventListener()}}},eEe={provide:"ChartsDataLabel",useValue:class{constructor(e){this.errorHeight=0,this.chart=e}initPrivateVariables(e,t){let i="",s="";const r=e.chart.renderer,o=void 0===e.index?e.category:e.index;"Cartesian"===e.chart.chartAreaType&&(i="translate("+e.clipRect.x+","+e.clipRect.y+")",s="url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+o+")"),t.dataLabel.visible&&(e.shapeElement=r.createGroup({id:this.chart.element.id+"ShapeGroup"+o,transform:i,"clip-path":"url(#"+this.chart.element.id+"_ChartSeriesClipRect_"+o+")"}),e.textElement=r.createGroup({id:this.chart.element.id+"TextGroup"+o,transform:i,"clip-path":s})),this.markerHeight="Scatter"===e.type||t.visible?t.height/2:0,this.commonId=this.chart.element.id+"_Series_"+o+"_Point_",this.calculateErrorHeight(e,e.marker.dataLabel.position),this.chartBackground="transparent"===this.chart.chartArea.background?this.chart.background||this.chart.themeStyle.background:this.chart.chartArea.background}calculateErrorHeight(e,t){if(!e.errorBar.visible)return null;if(e.errorBar.visible&&"PolarRadar"!==this.chart.chartAreaType){const i=e.errorBar.direction,s=this.chart.errorBarModule.positiveHeight,r=this.chart.errorBarModule.negativeHeight;this.isRectSeries(e)?(("Top"===t||"Auto"===t)&&(this.errorHeight="Both"===i||"Minus"===i?r:0),("Outer"===t||"Auto"===t)&&(this.errorHeight="Both"===i||"Plus"===i?s:0)):(("Top"===t||"Outer"===t||"Auto"===t)&&(this.errorHeight="Both"!==i&&"Plus"!==i||e.chart.isTransposed?0:s),("Bottom"===t||"Auto"===t)&&(this.errorHeight="Both"===i||"Minus"===i?r:0))}else this.errorHeight=0}isRectSeries(e){return e.isRectSeries||"RangeArea"===e.type||"SplineRangeArea"===e.type}render(e,t,i){this.initPrivateVariables(e,e.marker);let s,o,a,l,h,c,d,u,r={x:0,y:0};this.inverted=t.requireInvertedAxis,this.yAxisInversed=e.yAxis.isInversed;const p=t.redraw;let m=!1,y=[];const v=Ve("div",{id:t.element.id+"_Series_"+(void 0===e.index?e.category:e.index)+"_DataLabelCollections"}),C=Dm(e);let w,_,k;for(let D=0;D<C.length;D++){if(w=C[D],!i.showZero&&(0!==w.y||0===w.y&&"Zero"===e.emptyPointSettings.mode))return null;this.margin=i.margin;let O,N,X,H,q,I=[],G=!0;const A=e.clipRect;let R;m=!1,d=u=i.angle,h={width:i.border.width,color:i.border.color};const P=fe({},Q("properties",i.font),null,!0);if(w.symbolLocations.length&&w.symbolLocations[0]||"BoxAndWhisker"===e.type&&w.regions.length){I=awe(w,e,t),O=I.length;for(let M=0;M<O;M++)if(l={cancel:!1,name:G1,series:e,point:w,text:I[M],border:h,color:i.fill,template:i.template,font:P,location:r,textSize:Le(I[M],i.font)},t.trigger(G1,l),!l.cancel)if(this.fontBackground=l.color,this.isDataLabelShape(l),this.markerHeight="Bubble"===e.type?w.regions[0].height/2:this.markerHeight,null!==l.template)this.createDataLabelTemplate(v,e,i,w,l,M,p);else{if(c=Le(l.text,i.font),s=this.calculateTextPosition(w,e,c,i,M),"PolarRadar"===t.chartAreaType)for(const V of t.chartAxisLayoutPanel.visibleAxisLabelRect)if(Nr(new ce(s.x,s.y,s.width,s.height),V)){G=!1;break}const L=new ce(s.x+A.x,s.y+A.y,s.width,s.height);if(i.enableRotation){const V=this.getRectanglePoints(s);if(_=s.x+s.width/2,k=s.y+s.height/2,y=jU(V,_,k,d),m=this.isDataLabelOverlapWithChartBound(y,t,A),!m){this.chart.rotatedDataLabelCollections.push(y);const te=this.chart.rotatedDataLabelCollections.length-1;for(let pe=te;pe>=0;pe--)if(this.chart.rotatedDataLabelCollections[te]&&this.chart.rotatedDataLabelCollections[pe-1]&&zU(this.chart.rotatedDataLabelCollections[te],this.chart.rotatedDataLabelCollections[pe-1])){m=!0,this.chart.rotatedDataLabelCollections[te]=null;break}}}else m=Tw(s,t.dataLabelCollections,A);(!m||"None"===i.labelIntersectAction)&&G&&(t.dataLabelCollections.push(L),this.isShape&&(R=t.renderer.drawRectangle(new us(this.commonId+w.index+"_TextShape_"+M,l.color,l.border,i.opacity,s,i.rx,i.ry),new Int32Array([A.x,A.y])),e.shapeElement&&e.shapeElement.appendChild(R)),o=tD(Bl(this.fontBackground)),a=Math.round((299*o.r+587*o.g+114*o.b)/1e3),N=s.x+this.margin.left+c.width/2+r.x,X=s.y+this.margin.top+3*c.height/4+r.y,r={x:0,y:0},0!==d&&i.enableRotation?(H=_,q=k,u=d>360?d-360:d<-360?d+360:d):(u=0,H=s.x,q=s.y),Os(t.renderer,new bs(this.commonId+w.index+"_Text_"+M,N,X,"middle",l.text,"rotate("+u+","+H+","+q+")","auto",u),l.font,l.font.color||(a>=128||"Hilo"===e.type?"black":"white"),e.textElement,!1,p,!0,!1,e.chart.duration,e.clipRect,0,null,t.enableCanvas))}}}v.childElementCount&&(t.enableCanvas?se(t.element.id+"_Secondary_Element").appendChild(v):lt(t.enableCanvas,se(t.element.id+"_Secondary_Element"),v,t.redraw,!1,"x","y",null,"",!1,!1,null,t.duration))}getRectanglePoints(e){return[new Fe(e.x,e.y),new Fe(e.x+e.width,e.y),new Fe(e.x+e.width,e.y+e.height),new Fe(e.x,e.y+e.height)]}isDataLabelOverlapWithChartBound(e,t,i){for(let s=0;s<e.length;s++)if(!zs(e[s].x+i.x,e[s].y+i.y,t.initialClipRect))return!0;return!1}createDataLabelTemplate(e,t,i,s,r,o,a){this.margin={left:0,right:0,bottom:0,top:0};const l=t.clipRect,h=J1(Ve("div",{id:this.chart.element.id+"_Series_"+(void 0===t.index?t.category:t.index)+"_DataLabel_"+s.index+(o?"_"+o:""),styles:"position: absolute;background-color:"+r.color+";"+YU(i.font)+";border:"+r.border.width+"px solid "+r.border.color+";"}),s.index,r.template,this.chart,s,t,this.chart.element.id+"_DataLabel",o);this.calculateTemplateLabelSize(e,h,s,t,i,o,l,a)}calculateTemplateLabelSize(e,t,i,s,r,o,a,l,h){const c=g2(t,l,h),d=this.calculateTextPosition(i,s,{width:c.width,height:c.height},r,o);let m=!1;h&&(m=0===c.width||0===c.height),t.style.left=("PolarRadar"===this.chart.chartAreaType?0:s.clipRect.x)+d.x-0+"px",t.style.top=("PolarRadar"===this.chart.chartAreaType?0:s.clipRect.y)+d.y+0+"px";const y=tD(Bl(this.fontBackground)),b=s.chart.requireInvertedAxis?s.xAxis:s.yAxis,v=s.chart.requireInvertedAxis?s.yAxis:s.xAxis;t.style.color=r.font.color||(Math.round((299*y.r+587*y.g+114*y.b)/1e3)>=128?"black":"white"),t.childElementCount&&!m&&(!Tw(d,this.chart.dataLabelCollections,a)||"None"===r.labelIntersectAction)&&("XY"!==s.seriesType||void 0===i.yValue||al(i.yValue,s.yAxis.visibleRange)||s.type.indexOf("Stacking")>-1||s.type.indexOf("100")>-1&&al(s.stackedValues.endValues[i.index],s.yAxis.visibleRange))&&al(i.xValue,s.xAxis.visibleRange)&&parseFloat(t.style.top)>=b.rect.y&&parseFloat(t.style.left)>=v.rect.x&&parseFloat(t.style.top)<=b.rect.y+b.rect.height&&parseFloat(t.style.left)<=v.rect.x+v.rect.width&&(this.chart.dataLabelCollections.push(new ce(d.x+a.x,d.y+a.y,d.width,d.height)),lt(this.chart.enableCanvas,e,t,l,!0,"left","top"),s.animation.enable&&this.chart.animateSeries&&!this.chart.enableCanvas?this.doDataLabelAnimation(s,t):this.chart.enableCanvas&&e.appendChild(t))}calculateTextPosition(e,t,i,s,r){let a,o=r>1&&"Candle"===t.type?e.regions[1]:e.regions[0];r>1&&"HiloOpenClose"===t.type&&(o=2===r?e.regions[1]:e.regions[2]),a=this.getLabelLocation(e,t,i,r);const h=t.clipRect;if(this.chart.requireInvertedAxis&&this.isRectSeries(t)&&"BoxAndWhisker"!==t.type){this.locationY=a.y;const d=i.width+this.borderWidth+this.margin.left+this.margin.right-5;a.x="Auto"===s.position?a.x:this.calculateAlignment(d,a.x,s.alignment,e.yValue<0),a.x=this.calculateRectPosition(a.x,o,e.yValue<0!==this.yAxisInversed,s.position,t,i,r,e)}else{this.locationX=a.x;const d=i.height+2*this.borderWidth+this.markerHeight+this.margin.bottom+this.margin.top+5;a.y="Auto"===s.position?a.y:this.calculateAlignment(d,a.y,s.alignment,!!this.isRectSeries(t)&&e.yValue<0),a.y=this.isRectSeries(t)&&"BoxAndWhisker"!==t.type?this.calculateRectPosition(a.y,o,e.yValue<0!==this.yAxisInversed,s.position,t,i,r,e):this.calculatePathPosition(a.y,s.position,t,e,i,r),this.isRectSeries(t)&&"PolarRadar"===this.chart.chartAreaType&&(a=this.calculatePolarRectPosition(a,s.position,t,e,i,r,s.alignment,d))}const c=eD(a,i,this.margin);return!(!0===s.enableRotation&&0!==s.angle)&&!(c.y>h.y+h.height||c.x>h.x+h.width||c.x+c.width<0||c.y+c.height<0)&&(c.x=c.x<0?5:c.x,c.y=c.y<0&&"None"!==s.labelIntersectAction?5:c.y,c.x-=c.x+c.width>h.x+h.width?c.x+c.width-(h.x+h.width)+5:0,c.y-=c.y+c.height>h.y+h.height?c.y+c.height-(h.y+h.height)+5:0,this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground),c}calculatePolarRectPosition(e,t,i,s,r,o,a,l){let c;const d=this.chart.availableSize.width,u="Center"===a?0:"Far"===a?1:-1,p=s.regionData.startAngle-.5*Math.PI+(s.regionData.endAngle-s.regionData.startAngle)/2;return c=0===o?s.regionData.radius<s.regionData.innerRadius?s.regionData.innerRadius:s.regionData.radius:s.regionData.radius>s.regionData.innerRadius?s.regionData.innerRadius:s.regionData.radius,this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground,i.drawType.indexOf("Stacking")>-1?t="Outer"===t?"Top":t:i.drawType.indexOf("Range")>-1&&(t="Outer"===t||"Top"===t?t:"Auto"),"Outer"===t?c=0===o?c+10+this.markerHeight:c-10-this.markerHeight:"Middle"===t?(c=c/2+5,"StackingColumn"===i.drawType&&(c=s.regionData.innerRadius+(s.regionData.radius-s.regionData.innerRadius)/2+5-r.height/2)):"Top"===t?c=0===o?c-10-this.markerHeight:c+10+this.markerHeight:"Bottom"===t?(c=10,c+="StackingColumn"===i.drawType?s.regionData.innerRadius+this.markerHeight:0):c=0===o?c>=i.chart.radius?c-5:"StackingColumn"===i.drawType?c-10:c+10:c>=i.chart.radius?c+5:c-10,c+=l*u,e.x=i.clipRect.width/2+i.clipRect.x+c*Math.cos(p),"StackingColumn"===i.drawType?e.x=e.x<d/2?e.x+r.width/2:e.x>d/2?e.x-r.width/2:e.x:"Column"===i.drawType&&(e.x=e.x<d/2?e.x-r.width/2:e.x>d/2?e.x+r.width/2:e.x),e.y=i.clipRect.height/2+i.clipRect.y+c*Math.sin(p),e}getLabelLocation(e,t,i,s){let r=new Fe(0,0),o="Candle"===t.type&&s>1?e.regions[1]:e.regions[0];"HiloOpenClose"===t.type&&(o=2===s?e.regions[1]:e.regions[2]);const a=t.xAxis,l=t.yAxis,h=t.chart.requireInvertedAxis;if("BoxAndWhisker"===t.type){switch(this.markerHeight=0,s){case 0:r=ot(e.xValue,e.median,a,l,h);break;case 1:r=ot(e.xValue,e.maximum,a,l,h);break;case 2:r=ot(e.xValue,e.minimum,a,l,h);break;case 3:r=ot(e.xValue,e.upperQuartile,a,l,h);break;case 4:r=ot(e.xValue,e.lowerQuartile,a,l,h);break;default:r=ot(e.xValue,e.outliers[s-5],a,l,h),this.markerHeight=t.marker.height/2}h?r.y=e.regions[0].y+e.regions[0].height/2:r.x=e.regions[0].x+e.regions[0].width/2}else r=0===s||1===s?new Fe(e.symbolLocations[0].x,e.symbolLocations[0].y):2!==s&&3!==s||"Candle"!==t.type?h?{x:o.x+o.width/2,y:o.y}:{x:o.x+o.width,y:o.y+o.height/2}:new Fe(e.symbolLocations[1].x,e.symbolLocations[1].y);return s>1&&"HiloOpenClose"===t.type&&(t.chart.requireInvertedAxis?r.y=o.y+o.height/2+2*(2===s?1:-1):r.x=o.x+o.width/2+2*(2===s?1:-1)),r}calculateRectPosition(e,t,i,s,r,o,a,l){if("PolarRadar"===r.chart.chartAreaType)return null;const c=this.margin;let u=this.borderWidth+(this.inverted?o.width:o.height)/2+5;switch("StackingColumn100"===r.type||"StackingBar100"===r.type?s="Outer"===s?"Top":s:r.type.indexOf("Range")>-1?s="Outer"===s||"Top"===s?s:"Auto":"Waterfall"===r.type&&(s="Auto"===s?"Middle":s),s){case"Bottom":e=this.inverted?i?e+t.width-u-c.left:e-t.width+u+c.right:i?e-t.height+u+c.top:e+t.height-u-c.bottom;break;case"Middle":e=e=this.inverted?i?e+t.width/2:e-t.width/2:i?e-t.height/2:e+t.height/2;break;case"Auto":e=this.calculateRectActualPosition(e,t,i,r,o,a,l);break;default:u+=this.errorHeight,e=this.calculateTopAndOuterPosition(e,t,s,r,a,u,i)}this.fontBackground=(this.inverted?e<t.x||e>t.x+t.width:e<t.y||e>t.y+t.height)?"transparent"===this.fontBackground?this.chartBackground:this.fontBackground:"transparent"===this.fontBackground?l.color||r.interior:this.fontBackground;const m=r.chart.series.length;if("Outer"===s&&r.type.indexOf("Stacking")>-1&&m-1>r.index){let y,b;for(let v=r.index+1;v<m;v++)if(y=r.chart.series[v],b=y.points[l.index],y.type.indexOf("Stacking")>-1&&-1===y.type.indexOf("100")){this.fontBackground=b&&(b.yValue<0&&l.yValue<0||b.yValue>0&&l.yValue>0)?b?b.color:y.interior:this.fontBackground;break}}return e}calculatePathPosition(e,t,i,s,r,o){switch(i.type.indexOf("Area")>-1&&"RangeArea"!==i.type&&"SplineRangeArea"!==i.type&&this.yAxisInversed&&"Auto"!==i.marker.dataLabel.position&&(t="Top"===t?"Bottom":"Bottom"===t?"Top":t),this.fontBackground="transparent"===this.fontBackground?this.chartBackground:this.fontBackground,t){case"Top":case"Outer":e=e-this.markerHeight-this.borderWidth-r.height/2-this.margin.bottom-5-this.errorHeight;break;case"Bottom":e=e+this.markerHeight+this.borderWidth+r.height/2+this.margin.top+5+this.errorHeight;break;case"Auto":e=this.calculatePathActualPosition(e,this.markerHeight,i,s,r,o)}return e}isDataLabelShape(e){this.isShape="transparent"!==e.color||e.border.width>0,this.borderWidth=e.border.width,this.isShape||(this.margin={left:0,right:0,bottom:0,top:0})}calculateRectActualPosition(e,t,i,s,r,o,a){let l,h,c=!0,d=0;const u=this.chart.dataLabelCollections,p=-1!==s.type.indexOf("Range")||"Hilo"===s.type?2:4;for(;c&&d<p;){let m=this.getPosition(d);s.type.indexOf("Stacking")>-1&&"Outer"===m&&(m="Top",d++),l=this.calculateRectPosition(e,t,i,m,s,r,o,a),this.inverted?(h=eD(new Fe(l,this.locationY),r,this.margin),c=h.x<0||Tw(h,u,s.clipRect)||h.x+h.width>s.clipRect.width):(h=eD(new Fe(this.locationX,l),r,this.margin),c=h.y<0||Tw(h,u,s.clipRect)||h.y>s.clipRect.height),d++}return l}calculateAlignment(e,t,i,s){switch(i){case"Far":t=this.inverted?s?t-e:t+e:s?t+e:t-e;break;case"Near":t=this.inverted?s?t+e:t-e:s?t-e:t+e;break;case"Center":t=t}return t}calculateTopAndOuterPosition(e,t,i,s,r,o,a){const l=this.margin;let h;switch(s.type){case"RangeColumn":case"RangeArea":case"SplineRangeArea":case"Hilo":h=0===r&&!this.yAxisInversed||1===r&&this.yAxisInversed,e=this.updateLabelLocation(i,e,o,l,t,h);break;case"Candle":h=(0===r||2===r)&&!this.yAxisInversed||(1===r||3===r)&&this.yAxisInversed,e=this.updateLabelLocation(i,e,o,l,t,h,r>1);break;case"HiloOpenClose":r<=1?(h=0===r&&!this.yAxisInversed||1===r&&this.yAxisInversed,e=this.updateLabelLocation(i,e,o,l,t,h)):e=this.yAxisInversed?this.inverted?e-o-l.right:e+o+l.top:this.inverted?e+o+l.left:e-o-l.bottom;break;default:e=a&&"Top"===i||!a&&"Outer"===i?this.inverted?e+o+l.left+this.markerHeight:e-o-l.bottom-this.markerHeight:this.inverted?e-o-l.right-this.markerHeight:e+o+l.top+this.markerHeight}return e}updateLabelLocation(e,t,i,s,r,o,a=!1){return this.inverted?o?"Outer"!==e||a?t-i-s.right-this.markerHeight:t+i+s.left+this.markerHeight:"Outer"!==e||a?t-r.width+i+s.left+this.markerHeight:t-r.width-i-s.right-this.markerHeight:o?"Outer"!==e||a?t+i+s.top+this.markerHeight:t-i-s.bottom-this.markerHeight:"Outer"!==e||a?t+r.height-i-s.bottom-this.markerHeight:t+r.height+i+s.top+this.markerHeight}calculatePathActualPosition(e,t,i,s,r,o){const a=i.points,l=s.index,h=a[l].yValue;let c;const d=a.length-1>l?a[l+1]:null,u=l>0?a[l-1]:null;let p,y,b,v,m=!0;const C=this.chart.dataLabelCollections;if("Bubble"===i.type)c="Top";else if(i.type.indexOf("Step")>-1)c="Top",l&&(c=u&&u.visible&&h>u.yValue===this.yAxisInversed&&h!==u.yValue?"Bottom":"Top");else if("BoxAndWhisker"===i.type)1===o||3===o||o>4?c=i.yAxis.isInversed?"Bottom":"Top":2===o||4===o?c=i.yAxis.isInversed?"Top":"Bottom":(m=!1,c="Middle",p=this.calculatePathPosition(e,c,i,s,r,o));else if(0===l)c=!d||!d.visible||h>d.yValue||h<d.yValue&&this.yAxisInversed?"Top":"Bottom";else if(l===a.length-1)c=!u||!u.visible||h>u.yValue||h<u.yValue&&this.yAxisInversed?"Top":"Bottom";else if(d.visible||u&&u.visible)if(d.visible&&u){const w=(d.yValue-u.yValue)/2,_=w*l+(d.yValue-w*(l+1));c=this.yAxisInversed?_<h?"Bottom":"Top":_<h?"Top":"Bottom"}else c=d.yValue>h||u&&u.yValue>h?"Bottom":"Top";else c="Top";for(b="Bottom"===c,v=["Outer","Top","Bottom","Middle","Auto"].indexOf(c);m&&v<4;)p=this.calculatePathPosition(e,this.getPosition(v),i,s,r,o),y=eD(new Fe(this.locationX,p),r,this.margin),m=y.y<0||Tw(y,C,i.clipRect)||y.y+y.height>i.clipRect.height,v=b?v-1:v+1,b=!1;return p}doDataLabelAnimation(e,t){const i=e.shapeElement.childNodes,s=e.textElement.childNodes,r=e.animation.delay+e.animation.duration,o=e.chart.animated?e.chart.duration:200;let a;const l=t?1:s.length;let h;for(let c=0;c<l;c++)h=s[c],t?(t.style.visibility="hidden",kw(t,r,o,"ZoomIn")):(a=new Fe(+h.getAttribute("x")+ +h.getAttribute("width")/2,+h.getAttribute("y")+ +h.getAttribute("height")/2),km(h,r,o,e,null,a,!0),i[c]&&(h=i[c],a=new Fe(+h.getAttribute("x")+ +h.getAttribute("width")/2,+h.getAttribute("y")+ +h.getAttribute("height")/2),km(h,r,o,e,null,a,!0)))}getPosition(e){return["Outer","Top","Bottom","Middle","Auto"][e]}getModuleName(){return"DataLabel"}destroy(){}}},tEe={provide:"ChartsSelection",useValue:aG},iEe={provide:"ChartsChartAnnotation",useValue:class extends class{constructor(e){this.control=e}render(e,t){return this.isChart="chart"===this.control.getModuleName(),this.annotation=e,J1(Ve("div",{id:this.control.element.id+"_Annotation_"+t,styles:"position: absolute; z-index: 1"}),t,e.content,this.control)}setAnnotationPixelValue(e){const t="Chart"===this.annotation.region?new ce(0,0,this.control.availableSize.width,this.control.availableSize.height):this.isChart?this.control.chartAxisLayoutPanel.seriesClipRect:this.control.series[0].accumulationBound;return e.x=("string"!=typeof this.annotation.x?"number"==typeof this.annotation.x?this.annotation.x:0:Ji(this.annotation.x,t.width))+t.x,e.y=("number"==typeof this.annotation.y?this.annotation.y:Ji(this.annotation.y,t.height))+t.y,!0}setAnnotationPointValue(e){let t=new Fe(0,0);if(this.isChart){const i=this.control,s=this.annotation,r=s.xAxisName,o=s.yAxisName,a=i.requireInvertedAxis,l=this.control.stockChart;let h,c,d;for(const u of i.axisCollections)if(r===u.name||null==r&&"primaryXAxis"===u.name)if(h=u,h.valueType.indexOf("Category")>-1){const p="DateTimeCategory"===h.valueType?s.x.getTime().toString():s.x;if(h.labels.indexOf(p)<0)return!1;d=h.labels.indexOf(p)}else if("DateTime"===h.valueType){const p={skeleton:"full",type:"dateTime"};d="object"==typeof this.annotation.x||"object"==typeof new Date(this.annotation.x)?Date.parse(i.intl.getDateParser(p)(i.intl.getDateFormat(p)(new Date(me.parse.parseJson({val:s.x}).val)))):0}else d=+s.x;else(o===u.name||null==o&&"primaryYAxis"===u.name)&&(c=u);return!!(h&&c&&al("Logarithmic"===h.valueType?ta(d,h.logBase):d,h.visibleRange)&&al("Logarithmic"===c.valueType?ta(+s.y,c.logBase):+s.y,c.visibleRange))&&(t=ot(d,+s.y,h,c,a),e.x=t.x+(a?c.rect.x:h.rect.x),e.y=t.y+(a?h.rect.y:c.rect.y)+(l&&l.enablePeriodSelector?l.toolbarHeight+l.titleSize.height:0),!0)}return this.setAccumulationPointValue(e)}processAnnotation(e,t,i){const r=new Fe(0,0),o=this.render(e,t),a=()=>{o.style.transform="translate(-50%, -50%)"};a.bind(r,this),this["setAnnotation"+e.coordinateUnits+"Value"](r)?this.setElementStyle(r,o,i):this.control.redraw&&Qi(o.id),(this.control.element.id+"Annotation"+t).replace(/[^a-zA-Z0-9]/g,"")}setAccumulationPointValue(e){const t=this.control;let i;for(const s of t.visibleSeries[0].points)if("object"==typeof s.x){if(Date.parse(s.x)===Date.parse(this.annotation.x)&&s.y===this.annotation.y){i=s;break}}else if(s.x==this.annotation.x&&s.y==this.annotation.y){i=s;break}return!(!i||!i.visible||(e.x=i.symbolLocation.x,e.y=i.symbolLocation.y,0))}setElementStyle(e,t,i){const s=g2(t,this.control.redraw),r={cancel:!1,name:OU,content:t,location:e};this.control.trigger(OU,r),r.cancel||(r.content.style.left=this.setAlignmentValue(this.annotation.horizontalAlignment,s.width,r.location.x)+"px",r.content.style.top=this.setAlignmentValue(this.annotation.verticalAlignment,s.height,r.location.y)+"px",r.content.setAttribute("aria-label",this.annotation.description||"Annotation"),y2(r.content,i,this.control.redraw,!0,"left","top"))}setAlignmentValue(e,t,i){switch(e){case"Top":case"Near":i-=t;break;case"Bottom":case"Far":i+=0;break;case"Middle":case"Center":i-=t/2}return i}}{constructor(e,t){super(e),this.chart=e,this.annotations=t}renderAnnotations(e){this.annotations=this.chart.annotations,this.parentElement=hl(this.chart.redraw,this.chart.element.id+"_Annotation_Collections")||Ve("div",{id:this.chart.element.id+"_Annotation_Collections"}),this.annotations.map((t,i)=>{this.processAnnotation(t,i,this.parentElement)}),y2(this.parentElement,e,this.chart.redraw)}destroy(){}getModuleName(){return"Annotation"}}},sEe={provide:"ChartsHiloSeries",useValue:class extends xc{render(e){let t;const i=this.getSideBySideInfo(e);let s;for(const r of e.points)r.symbolLocations=[],r.regions=[],r.visible&&Fn(e.points[r.index-1],r,e.points[r.index+1],e)&&(t=this.getRectangle(r.xValue+i.median,r.high,r.xValue+i.median,r.low,e),s=this.triggerPointRenderEvent(e,r),s.cancel||(e.chart.requireInvertedAxis?(t.height=s.border.width,t.y=t.y-t.height/2):(t.width=s.border.width,t.x=t.x-t.width/2),s.border.width=0,this.updateSymbolLocation(r,t,e),this.drawRectangle(e,r,t,s)))}triggerPointRenderEvent(e,t){const i={color:e.fill,width:Math.max(e.border.width,2)};return super.triggerEvent(e,t,e.interior,i)}getModuleName(){return"HiloSeries"}doAnimation(e){this.animate(e)}destroy(){}}},nEe={provide:"ChartsHiloOpenCloseSeries",useValue:class extends xc{render(e){let t,i,s;const r=this.getSideBySideInfo(e);let o;const a=Math.max(e.border.width,2);for(const l of e.points)l.symbolLocations=[],l.regions=[],l.visible&&Fn(e.points[l.index-1],l,e.points[l.index+1],e)&&(t=this.getRectangle(l.xValue+r.start,Math.max(l.high,l.low),l.xValue+r.end,Math.min(l.high,l.low),e),l.regions.push(this.getRectangle(l.xValue+r.median,Math.max(l.high,l.low),l.xValue+r.median,Math.min(l.high,l.low),e)),this.updateTickRegion(!e.chart.requireInvertedAxis,l.regions[0],a),l.regions.push(this.getRectangle(l.xValue+r.start,Math.max(l.open,l.close),l.xValue+r.median,Math.max(l.open,l.close),e)),l.regions.push(this.getRectangle(l.xValue+r.median,Math.min(l.open,l.close),l.xValue+r.end,Math.min(l.open,l.close),e)),o=this.triggerPointRenderEvent(e,l),o.cancel||(this.updateSymbolLocation(l,l.regions[0],e),i=l.open>l.close?1:2,s=l.open>l.close?2:1,this.drawHiloOpenClosePath(e,l,{x:l.regions[i].x,y:l.regions[i].y},{x:l.regions[s].x,y:l.regions[s].y},t,o)),this.updateTickRegion(e.chart.requireInvertedAxis,l.regions[1],a),this.updateTickRegion(e.chart.requireInvertedAxis,l.regions[2],a))}updateTickRegion(e,t,i){e?(t.x-=i/2,t.width=i):(t.y-=i/2,t.height=i)}triggerPointRenderEvent(e,t){const i=t.open<=t.close?e.bearFillColor:e.bullFillColor,s={color:e.border.color,width:Math.max(e.border.width,1)};return this.triggerEvent(e,t,i,s)}drawHiloOpenClosePath(e,t,i,s,r,o){let a;e.chart.requireInvertedAxis?(a="M "+r.x+" "+(r.y+r.height/2)+" L "+(r.x+r.width)+" "+(r.y+r.height/2)+" ",a+="M "+i.x+" "+(r.y+r.height/2)+" L "+i.x+" "+(r.y+r.height)+" ",a+="M "+s.x+" "+(r.y+r.height/2)+" L "+s.x+" "+r.y+" "):(a="M "+(r.x+r.width/2)+" "+(r.y+r.height)+" L "+(r.x+r.width/2)+" "+r.y+" ",a+="M "+r.x+" "+i.y+" L "+(r.x+r.width/2)+" "+i.y+" ",a+="M "+(r.x+r.width/2)+" "+s.y+" L "+(r.x+r.width)+" "+s.y+" ");const l=new nt(e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,o.fill,o.border.width,o.fill,e.opacity,e.dashArray,a);$p(se(l.id),a,e.chart.redraw);const h=e.chart.renderer.drawPath(l,new Int32Array([e.clipRect.x,e.clipRect.y]));h.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString()+":"+t.close.toString()+":"+t.open.toString()),e.chart.enableCanvas||e.seriesElement.appendChild(h)}getModuleName(){return"HiloOpenCloseSeries"}doAnimation(e){this.animate(e)}destroy(){}}},rEe={provide:"ChartsWaterfallSeries",useValue:class extends xc{render(e){let t;const i=this.getSideBySideInfo(e),s=Math.max(e.yAxis.visibleRange.min,0);let r,h,d,o=0,a="",l=0,c=null;const u=e.chart.requireInvertedAxis;let p=0;const m=e.chart.redraw;for(const v of e.points)if(v.symbolLocations=[],v.regions=[],v.visible&&Fn(e.points[v.index-1],v,e.points[v.index+1],e)){const C=this.isIntermediateSum(e,v.index),w=this.isSumIndex(e,v.index);l+=C||!0===w?0:v.yValue,h=!0===C?p:null===o||w?s:o,t=this.getRectangle(v.xValue+i.start,l,v.xValue+i.end,h,e),r=this.triggerPointRenderEvent(e,v),C&&(p=l),o=l,r.cancel||(this.updateSymbolLocation(v,t,e),this.drawRectangle(e,v,t,r));const _=v.regions[0];if(null!==c){const D=u?_.x:_.y;let I,O,N=_.y,X=_.x;const H=e.points[v.index-1];0===v.yValue?(I=u?c.x+c.width:c.y+c.height,O=u?v.symbolLocations[0].x:v.symbolLocations[0].y):(I=u?0===H.yValue?H.symbolLocations[0].x:c.x+c.width:0===H.yValue?H.symbolLocations[0].y:c.y+c.height,O=u?_.x+_.width:_.y+_.height),Math.round(u?c.x:c.y)===Math.round(D)||Math.round(I)===Math.round(D)?(d=u?0===_.x&&0===c.x?O:_.x:_.y,d=0===v.yValue?u?v.symbolLocations[0].x:v.symbolLocations[0].y:d):d=O,u?(0===H.yValue&&(c.y=c.y+c.height/2+t.height/2-c.height),0===v.yValue&&(N=_.y+_.height/2-t.height/2),a=a.concat("M "+d+" "+(c.y+c.height)+" L "+d+" "+N+" ")):(0===H.yValue&&(c.x=c.x+c.width/2-t.width/2,X=_.x+_.width/2+t.width/2-_.width),a=a.concat("M "+c.x+" "+d+" L "+(X+_.width)+" "+d+" "))}c=v.regions[0]}const y=new nt(e.chart.element.id+"_Series_"+e.index+"_Connector_","none",e.connector.width,e.connector.color,e.opacity,e.connector.dashArray,a);m&&se(y.id)&&(a=se(y.id).getAttribute("d"));const b=hl(m,y.id,y,e.chart.renderer)||e.chart.renderer.drawPath(y,new Int32Array([e.clipRect.x,e.clipRect.y]));b.style.visibility=e.chart.enableCanvas?null:e.animation.enable&&e.chart.animateSeries?"hidden":"visible",lt(e.chart.enableCanvas,e.seriesElement,b,m,!0,null,null,null,a),this.renderMarker(e)}isIntermediateSum(e,t){return void 0!==e.intermediateSumIndexes&&-1!==e.intermediateSumIndexes.indexOf(t)}isSumIndex(e,t){return void 0!==e.sumIndexes&&-1!==e.sumIndexes.indexOf(t)}triggerPointRenderEvent(e,t){let i;const s=this.isIntermediateSum(e,t.index),r=this.isSumIndex(e,t.index);return i=s||r?e.summaryFillColor:t.y<0?e.negativeFillColor:e.interior,this.triggerEvent(e,t,i,{color:e.border.color,width:e.border.width})}processInternalData(e,t){const i=e;let s;const r=t.intermediateSumIndexes,o=t.sumIndexes;if(void 0!==r&&r.length>0)for(let a=0;a<r.length;a++)for(let l=0;l<i.length;l++)l===r[a]&&(s=Z1(i,0===a?-1:r[a-1],r[a],null,t),i[l][t.yName]=s);if(void 0!==o&&o.length>0)for(let a=0;a<o.length;a++)for(let l=0;l<i.length;l++)l===o[a]&&(s=void 0!==r?Z1(i,r[a]-1,o[a],o,t):Z1(i,-1,o[a],null,t),i[l][t.yName]=s);return i}doAnimation(e){this.animate(e)}getModuleName(){return"WaterfallSeries"}destroy(){}}},oEe={provide:"ChartsRangeAreaSeries",useValue:class extends _c{render(e,t,i,s){let r,l,o="",a="M";const h=this.enableComplexProperty(e);for(let u=0,p=h.length;u<p;u++){r=h[u],r.symbolLocations=[],r.regions=[];let m=Math.min(r.low,r.high),y=Math.max(r.low,r.high);if(i.isInversed){const w=m;m=y,y=w}const b=ot(r.xValue,m,t,i,s),v=ot(r.xValue,y,t,i,s);r.symbolLocations.push(v),r.symbolLocations.push(b);const C=new ce(Math.min(b.x,v.x),Math.min(b.y,v.y),Math.max(Math.abs(v.x-b.x),e.marker.width),Math.max(Math.abs(v.y-b.y),e.marker.width));s?C.y-=e.marker.width/2:C.x-=e.marker.width/2,r.regions.push(C),r.visible&&Fn(h[r.index-1],r,h[r.index+1],e)?(o=o.concat(a+" "+b.x+" "+b.y+" "),l=!1,(u+1<h.length&&!h[u+1].visible||u===h.length-1)&&(o=this.closeRangeAreaPath(h,r,e,o,u),a="M",o=o.concat(" Z"),l=!0),a="L"):(!1===l&&0!==u&&(o=this.closeRangeAreaPath(h,r,e,o,u),l=!0),a="M",r.symbolLocations=[])}const d=new nt("Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,o);this.appendLinePath(d,e,""),this.renderMarker(e)}closeRangeAreaPath(e,t,i,s,r){for(let o=r;o>=0&&e[o].visible&&e[o].symbolLocations[0];o--)s+="L "+(t=e[o]).symbolLocations[0].x+" "+t.symbolLocations[0].y+" ";return s}doAnimation(e){this.doLinearAnimation(e,e.animation)}getModuleName(){return"RangeAreaSeries"}destroy(){}}},aEe={provide:"ChartsSplineRangeAreaSeries",useValue:class extends A2{render(e,t,i,s){let r,a,h,c,d,u,p,o="",l=null,m=[];const y=[];let v,C,b=0;m=this.filterEmptyPoints(e);for(let I=0;I<m.length;I++)r=m[I],null!==r.x&&""!==r.x&&(r.index=b,b++,y.push(r));const w=this.enableComplexProperty(e),_=w.length;for(let I=0;I<_;I++){r=w[I],r.regions=[],r.symbolLocations=[],C=this.getNextIndex(y,r.index-1,e),v=this.getPreviousIndex(y,r.index-1,e);let O=Math.min(r.low,r.high),N=Math.max(r.low,r.high);if(i.isInversed){const G=O;O=N,N=G}const X=ot(r.xValue,O,t,i,s),H=ot(r.xValue,N,t,i,s);r.symbolLocations.push(H),r.symbolLocations.push(X);const q=new ce(Math.min(X.x,H.x),Math.min(X.y,H.y),Math.max(Math.abs(H.x-X.x),e.marker.width),Math.max(Math.abs(H.y-X.y),e.marker.width));s?q.y-=e.marker.width/2:q.x-=e.marker.width/2,r.regions.push(q),r.visible&&Fn(w[v],r,w[C],e)?(l?(u=e.drawPoints[v].controlPoint1,p=e.drawPoints[v].controlPoint2,h=ot(r.xValue,r.high>r.low?r.high:r.low,t,i,s),c=ot(u.x,u.y,t,i,s),d=ot(p.x,p.y,t,i,s),o=o.concat("C "+c.x+" "+c.y+" "+d.x+" "+d.y+" "+h.x+" "+h.y+" ")):(o=o.concat(i.isInversed?"M "+H.x+" "+H.y+" L "+X.x+" "+X.y+" ":"M "+X.x+" "+X.y+" L "+H.x+" "+H.y+" "),a=!1),(I+1<w.length&&!w[I+1].visible||I===w.length-1)&&(o=this.closeSplineRangeAreaPath(w,r,e,o,I,t,i,s),o=o.concat(" Z"),a=!0),l=r):(!1===a&&0!==I&&(o=this.closeSplineRangeAreaPath(w,r,e,o,I,t,i,s),a=!0),l=null,r.symbolLocations=[])}const D=new nt("Indicator"===e.category?e.chart.element.id+"_Indicator_"+e.index+"_"+e.name:e.chart.element.id+"_Series_"+e.index,e.interior,e.border.width,e.border.color,e.opacity,e.dashArray,o);this.appendLinePath(D,e,""),this.renderMarker(e)}closeSplineRangeAreaPath(e,t,i,s,r,o,a,l){let c,d,u,p,m,h=null;for(let y=r;y>0&&e[y].visible;y--){{t=e[y];let b=Math.min(t.low,t.high),v=Math.max(t.low,t.high);if(a.isInversed){const _=b;b=v,v=_}const C=ot(t.xValue,b,o,a,l),w=ot(t.xValue,v,o,a,l);h?(p=i.lowDrawPoints[y].controlPoint1,m=i.lowDrawPoints[y].controlPoint2,c=ot(t.xValue,t.low<t.high?t.low:t.high,o,a,l),d=ot(p.x,p.y,o,a,l),u=ot(m.x,m.y,o,a,l),s=s.concat("C "+u.x+" "+u.y+" "+d.x+" "+d.y+" "+c.x+" "+c.y+" ")):s=s.concat(a.isInversed?"L "+w.x+" "+w.y+" ":"L "+C.x+" "+C.y+" ")}h=t}return s}doAnimation(e){this.doLinearAnimation(e,e.animation)}getModuleName(){return"SplineRangeAreaSeries"}destroy(){}}},lEe={provide:"ChartsCandleSeries",useValue:class extends xc{render(e){const t=this.getSideBySideInfo(e);let i;const s=Math.max(e.border.width,1);for(const r of e.points){let a,l,o="";r.regions=[],r.symbolLocations=[],r.visible&&Fn(e.points[r.index-1],r,e.points[r.index+1],e)&&(l=this.getRectangle(r.xValue+t.median,Math.max(r.high,r.low),r.xValue+t.median,Math.min(r.high,r.low),e),e.chart.requireInvertedAxis?(l.y-=s/2,l.height=s):(l.x-=s/2,l.width=s),a=this.getRectangle(r.xValue+t.start,Math.max(r.open,r.close),r.xValue+t.end,Math.min(r.open,r.close),e),o=this.getPathString(l,a,e),i=this.triggerPointRenderEvent(e,r),i.cancel||(this.drawCandle(e,r,a,i,o),this.updateSymbolLocation(r,l,e),this.updateSymbolLocation(r,a,e)))}}triggerPointRenderEvent(e,t){const i=this.getCandleColor(t,e),s={color:e.border.color,width:Math.max(e.border.width,1)};return this.triggerEvent(e,t,i,s)}getCandleColor(e,t){const i=t.points[e.index-1];return!1===t.enableSolidCandles?i&&i.close>e.close?t.bullFillColor:t.bearFillColor:e.open>e.close?t.bullFillColor:t.bearFillColor}getPathString(e,t,i){let s="";const r=i.chart.requireInvertedAxis?e.y+e.height/2:e.x+e.width/2;return s+=i.chart.requireInvertedAxis?"M "+e.x+" "+r+" L "+t.x+" "+r:"M "+r+" "+e.y+" L "+r+" "+t.y,s=s.concat(" M "+t.x+" "+t.y+" L "+(t.x+t.width)+" "+t.y+" L "+(t.x+t.width)+" "+(t.y+t.height)+" L "+t.x+" "+(t.y+t.height)+" Z"),s+=i.chart.requireInvertedAxis?" M "+(t.x+t.width)+" "+r+" L "+(e.x+e.width)+" "+r:" M "+r+" "+(t.y+t.height)+" L "+r+" "+(e.y+e.height),s}drawCandle(e,t,i,s,r){if((e.chart.requireInvertedAxis?i.height:i.width)<=0)return null;const a=e.enableSolidCandles||t.open>t.close?s.fill:"transparent";s.border.color=s.fill;const l=new nt(e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,a,s.border.width,s.border.color,e.opacity,e.dashArray,r),h=se(l.id),c=h?h.getAttribute("d"):null,d=e.chart.renderer.drawPath(l,new Int32Array([e.clipRect.x,e.clipRect.y]));d.setAttribute("aria-label",t.x.toString()+":"+t.high.toString()+":"+t.low.toString()+":"+t.close.toString()+":"+t.open.toString()),e.chart.enableCanvas||e.seriesElement.appendChild(d),$p(h,r,e.chart.redraw,c)}doAnimation(e){this.animate(e)}getModuleName(){return"CandleSeries"}destroy(){}}},$G={provide:"ChartsPolarSeries",useValue:rG},XG={provide:"ChartsRadarSeries",useValue:class extends rG{render(e,t,i,s){let r=Nn(e.drawType),o=i.minimum,a=i.maximum;for(let l of e.points)l.visible=l.visible&&!(!f(o)&&l.yValue<o||!f(a)&&l.yValue>a);e.points.length&&(-1===e.drawType.indexOf("Column")?e.chart[r+"SeriesModule"].render(e,t,i,s):this.columnDrawTypeRender(e,t,i))}getRadarIsInversedPath(e,t){let s,r,o,a=this.chart.radius,l=e.visibleLabels.length,h=t;o=Nl(ll(e.visibleLabels[0].value,e),this.startAngle),r=this.centerY+a*o.y,s=this.centerX+a*o.x,h+=" L "+s+" "+r+" ";for(let c=l-1;c>=0;c--)o=Nl(ll(e.visibleLabels[c].value,e),this.startAngle),r=this.centerY+a*o.y,s=this.centerX+a*o.x,h+="L "+s+" "+r+" ";return h}getModuleName(){return"RadarSeries"}destroy(){}}},hEe={provide:"ChartsSmaIndicator",useValue:class extends wd{initDataSource(e,t){const i=[],s=e.points;if(s&&s.length){const r=s,o=Nn(e.field),a="x",l=e.targetSeries[0];if(r&&r.length&&r.length>=e.period){let h=0,c=0;for(let u=0;u<e.period;u++)c+=r[u][o];h=c/e.period,i.push(this.getDataPoint(r[e.period-1][a],h,r[e.period-1],l,i.length));let d=e.period;for(;d<r.length;)c-=r[d-e.period][o],c+=r[d][o],h=c/e.period,i.push(this.getDataPoint(r[d][a],h,r[d],l,i.length)),d++}this.setSeriesRange(i,e)}}destroy(){}getModuleName(){return"SmaIndicator"}}},cEe={provide:"ChartsTmaIndicator",useValue:class extends wd{initDataSource(e,t){const i=[],s=Nn(e.field),o=e.points;if(o&&o.length&&o.length>=e.period){const a=e.targetSeries[0],l=e.points;if(l.length&&l.length>=e.period){let h=0;const c=[];let d=0,u=l.length;const p=e.period;for(;u>=p;){h=0,d=l.length-u;for(let m=d;m<d+p;m++)h+=l[m][s];h/=p,c.push(h),u--}for(let m=0;m<p-1;m++){h=0;for(let y=0;y<m+1;y++)h+=l[y][s];h/=m+1,c.splice(m,0,h)}for(d=e.period;d<=c.length;){h=0;for(let m=d-e.period;m<d;m++)h+=c[m];h/=e.period,i.push(this.getDataPoint(l[d-1].x,h,l[d-1],a,i.length)),d++}}}this.setSeriesRange(i,e)}destroy(){}getModuleName(){return"TmaIndicator"}}},dEe={provide:"ChartsEmaIndicator",useValue:class extends wd{initDataSource(e,t){const i=Nn(e.field),r=[],o=e.targetSeries[0],a=e.points;if(a&&a.length&&a.length>=e.period){let l=0,h=0;const c=2/(e.period+1);for(let u=0;u<e.period;u++)l+=a[u][i];h=l/e.period,r.push(this.getDataPoint(a[e.period-1].x,h,a[e.period-1],o,r.length));let d=e.period;for(;d<a.length;){const u=r[d-e.period][o.yName];r.push(this.getDataPoint(a[d].x,(a[d][i]-u)*c+u,a[d],o,r.length)),d++}}this.setSeriesRange(r,e)}destroy(){}getModuleName(){return"EmaIndicator"}}},uEe={provide:"ChartsAccumulationDistributionIndicator",useValue:class extends wd{initDataSource(e){let t=[];const i=e.points;i.length>0&&i.length>e.period&&(t=this.calculateADPoints(e,i)),this.setSeriesRange(t,e)}calculateADPoints(e,t){const i=[];let s=0,r=0,o=0,a=0,l=0,h=0;const c=e.targetSeries[0];for(r=0;r<t.length;r++)a=Number(t[r].high),l=Number(t[r].low),h=Number(t[r].close),o=(h-l-(a-h))/(a-l),s+=o*Number(t[r].volume),i[r]=this.getDataPoint(t[r].x,s,t[r],c,i.length);return i}destroy(){}getModuleName(){return"AccumulationDistributionIndicator"}}},pEe={provide:"ChartsMacdIndicator",useValue:class extends wd{initSeriesCollection(e,t){if(super.initSeriesCollection(e,t),"Line"===e.macdType||"Both"===e.macdType){const i=new Ze(e,"targetSeries",{},!0);this.setSeriesProperties(i,e,"MacdLine",e.macdLine.color,e.macdLine.width,t)}if("Histogram"===e.macdType||"Both"===e.macdType){const i=new Ze(e,"targetSeries",{},!0);i.type="Column",this.setSeriesProperties(i,e,"Histogram",e.macdPositiveColor,e.width,t)}}initDataSource(e,t){let i=[];const s=e.fastPeriod,r=e.slowPeriod,o=e.period,a=s+o;let l=[],h=[];const c=e.points,d=e.targetSeries[0];let u,p;if("Histogram"===e.macdType?u=e.targetSeries[1]:(p=e.targetSeries[1],"Both"===e.macdType&&(u=e.targetSeries[2])),c&&a<c.length&&r<=s&&r>0&&a-2>=0){const m=this.calculateEMAValues(r,c,"close"),y=this.calculateEMAValues(s,c,"close"),b=this.getMACDVales(e,m,y);l=this.getMACDPoints(e,b,c,p||d);const v=this.calculateEMAValues(o,l,"y");i=this.getSignalPoints(e,v,c,d),u&&(h=this.getHistogramPoints(e,b,v,c,u))}this.setSeriesRange(i,e,e.targetSeries[0]),u&&this.setSeriesRange(h,e,u),p&&this.setSeriesRange(l,e,p)}calculateEMAValues(e,t,i){let s=0,r=0;const o=[],a=2/(e+1);for(let h=0;h<e;h++)s+=Number(t[h][i]);r=s/e,o.push(r);let l=r;for(let h=e;h<t.length;h++)l=(Number(t[h][i])-l)*a+l,o.push(l);return o}getMACDPoints(e,t,i,s){const r=[];let o=e.fastPeriod-1,a=0;for(;o<i.length;)r.push(this.getDataPoint(i[o].x,t[a],i[o],s,r.length)),o++,a++;return r}getSignalPoints(e,t,i,s){let r=e.fastPeriod+e.period-2,o=0;const a=[];for(;r<i.length;)a.push(this.getDataPoint(i[r].x,t[o],i[r],s,a.length)),r++,o++;return a}getMACDVales(e,t,i){const s=[],r=e.fastPeriod-e.slowPeriod;for(let o=0;o<i.length;o++)s.push(t[o+r]-i[o]);return s}getHistogramPoints(e,t,i,s,r){let o=e.fastPeriod+e.period-2,a=0;const l=[];for(;o<s.length;)l.push(this.getDataPoint(s[o].x,t[a+(e.period-1)]-i[a],s[o],r,l.length,e)),o++,a++;return l}destroy(){}getModuleName(){return"MacdIndicator"}}},fEe={provide:"ChartsAtrIndicator",useValue:class extends wd{initDataSource(e,t){const i=e.points;i.length>0&&i.length>e.period&&this.calculateATRPoints(e,i)}calculateATRPoints(e,t){let i=0,s=0,r=0,o=0,a=0;const l=[],h=[],c=e.period;let d=0;const p=e.targetSeries[0];for(let m=0;m<t.length;m++)s=Number(t[m].high)-Number(t[m].low),m>0&&(r=Math.abs(Number(t[m].high)-Number(t[m-1].close)),o=Math.abs(Number(t[m].low)-Number(t[m-1].close))),a=Math.max(s,r,o),d+=a,m>=c?(i=(Number(h[m-1].y)*(c-1)+a)/c,l.push(this.getDataPoint(t[m].x,i,t[m],p,l.length))):(i=d/c,m===c-1&&l.push(this.getDataPoint(t[m].x,i,t[m],p,l.length))),h[m]={x:t[m].x,y:i};this.setSeriesRange(l,e)}destroy(){}getModuleName(){return"AtrIndicator"}}},mEe={provide:"ChartsRsiIndicator",useValue:class extends wd{initSeriesCollection(e,t){if(super.initSeriesCollection(e,t),e.showZones){const i=new Ze(e,"targetSeries",{},!0);super.setSeriesProperties(i,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t);const s=new Ze(e,"targetSeries",{},!0);super.setSeriesProperties(s,e,"UpperLine",e.upperLine.color,e.upperLine.width,t)}}initDataSource(e,t){const i=[],s=[],r=[],o=e.targetSeries[0],a=e.points;if(a.length&&a.length>=e.period){if(e.showZones)for(let d=0;d<a.length;d++)r.push(this.getDataPoint(a[d].x,e.overBought,a[d],e.targetSeries[1],r.length)),s.push(this.getDataPoint(a[d].x,e.overSold,a[d],e.targetSeries[2],s.length));let l=Number(a[0].close),h=0,c=0;for(let d=1;d<=e.period;d++){const u=Number(a[d].close);u>l?h+=u-l:c+=l-u,l=u}h/=e.period,c/=e.period,i.push(this.getDataPoint(a[e.period].x,100-100/(1+h/c),a[e.period],o,i.length));for(let d=e.period+1;d<a.length;d++){const u=Number(a[d].close);u>l?(h=(h*(e.period-1)+(u-l))/e.period,c=c*(e.period-1)/e.period):u<l&&(c=(c*(e.period-1)+(l-u))/e.period,h=h*(e.period-1)/e.period),l=u,i.push(this.getDataPoint(a[d].x,100-100/(1+h/c),a[d],o,i.length))}}this.setSeriesRange(i,e,e.targetSeries[0]),e.showZones&&(this.setSeriesRange(r,e,e.targetSeries[1]),this.setSeriesRange(s,e,e.targetSeries[2]))}destroy(){}getModuleName(){return"RsiIndicator"}}},gEe={provide:"ChartsMomentumIndicator",useValue:class extends wd{initSeriesCollection(e,t){super.initSeriesCollection(e,t);const i=new Ze(e,"targetSeries",{},!0);super.setSeriesProperties(i,e,"UpperLine",e.upperLine.color,e.upperLine.width,t)}initDataSource(e,t){const i=[],s=[],r=e.points;if(r&&r.length){const o=e.targetSeries[1],a=e.targetSeries[0],l=e.period;if(r.length>=e.period)for(let h=0;h<r.length;h++)i.push(this.getDataPoint(r[h].x,100,r[h],o,i.length)),h<l||s.push(this.getDataPoint(r[h].x,Number(r[h].close)/Number(r[h-l].close)*100,r[h],a,s.length));this.setSeriesRange(s,e,e.targetSeries[0]),this.setSeriesRange(i,e,e.targetSeries[1])}}destroy(){}getModuleName(){return"MomentumIndicator"}}},yEe={provide:"ChartsStochasticIndicator",useValue:class extends wd{initSeriesCollection(e,t){super.initSeriesCollection(e,t);const i=new Ze(e,"targetSeries",{},!0);if(this.setSeriesProperties(i,e,"PeriodLine",e.periodLine.color,e.periodLine.width,t),e.showZones){const s=new Ze(e,"targetSeries",{},!0);this.setSeriesProperties(s,e,"UpperLine",e.upperLine.color,e.upperLine.width,t);const r=new Ze(e,"targetSeries",{},!0);this.setSeriesProperties(r,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t)}}initDataSource(e,t){let i=[];const s=[],r=[];let o=[],a=[];const l=e.points;if(l.length&&l.length>=e.period){if(e.showZones)for(let h=0;h<l.length;h++)s.push(this.getDataPoint(l[h].x,e.overBought,l[h],e.targetSeries[2],s.length)),r.push(this.getDataPoint(l[h].x,e.overSold,l[h],e.targetSeries[3],r.length));a=this.calculatePeriod(e.period,e.kPeriod,l,e.targetSeries[1]),o=this.smaCalculation(e.period,e.kPeriod,a,e.targetSeries[1]),i=this.smaCalculation(e.period+e.kPeriod-1,e.dPeriod,a,e.targetSeries[0])}this.setSeriesRange(i,e,e.targetSeries[0]),this.setSeriesRange(o,e,e.targetSeries[1]),e.showZones&&(this.setSeriesRange(s,e,e.targetSeries[2]),this.setSeriesRange(r,e,e.targetSeries[3]))}smaCalculation(e,t,i,s){const r=[];if(i.length>=e+t){const o=e+(t-1),a=[],l=[];for(let d=0;d<i.length;d++){const u=Number(i[d].y);a.push(u)}let h=a.length;for(;h>=o;){let d=0;for(let u=e-1;u<e+t-1;u++)d+=a[u];d/=t,l.push(d.toFixed(2)),a.splice(0,1),h=a.length}const c=o-1;for(let d=0;d<i.length;d++)d<c||(r.push(this.getDataPoint(i[d].x,Number(l[d-c]),i[d],s,r.length)),i[d].y=Number(l[d-c]))}return r}calculatePeriod(e,t,i,s){const r=[],o=[],a=[],l=[];for(let h=0;h<i.length;h++)r[h]=i[h].low,o[h]=i[h].high,a[h]=i[h].close;if(i.length>e){const h=[],c=[];for(let d=0;d<e-1;++d)c.push(0),h.push(0),l.push(this.getDataPoint(i[d].x,i[d].close,i[d],s,l.length));for(let d=e-1;d<i.length;++d){let u=Number.MAX_VALUE,p=Number.MIN_VALUE;for(let m=0;m<e;++m)u=Math.min(u,r[d-m]),p=Math.max(p,o[d-m]);c.push(p),h.push(u)}for(let d=e-1;d<i.length;++d){let u=0,p=0;u+=a[d]-h[d],p+=c[d]-h[d],l.push(this.getDataPoint(i[d].x,u/p*100,i[d],s,l.length))}}return l}destroy(){}getModuleName(){return"StochasticIndicator"}}},bEe={provide:"ChartsBollingerBands",useValue:class extends wd{initSeriesCollection(e,t){e.targetSeries=[];const i=new Ze(e,"targetSeries",{},!0);i.type="RangeArea","transparent"!==e.bandColor&&"none"!==e.bandColor&&this.setSeriesProperties(i,e,"BollingerBand",e.bandColor,0,t);const s=new Ze(e,"targetSeries",{},!0);this.setSeriesProperties(s,e,"BollingerBand",e.fill,e.width,t);const r=new Ze(e,"targetSeries",{},!0);this.setSeriesProperties(r,e,"UpperLine",e.upperLine.color,e.upperLine.width,t);const o=new Ze(e,"targetSeries",{},!0);this.setSeriesProperties(o,e,"LowerLine",e.lowerLine.color,e.lowerLine.width,t)}initDataSource(e,t){const i="transparent"!==e.bandColor&&"none"!==e.bandColor,s=i?1:0,r=[],o=[],a=[],l=[],h=e.targetSeries[s+1],c=e.targetSeries[s+2],d=e.targetSeries[s],u=i?e.targetSeries[0]:null,p=e.points;if(p.length&&p.length>=e.period){let m=0,y=0;const b=e.standardDeviation,v=p.length,C=Math.round(e.period),w=[],_=[],k=[];for(let N=0;N<C;N++)m+=Number(p[N].close);let D=m/e.period;for(let N=0;N<v;N++){const X=Number(p[N].close);if(N>=C-1&&N<v){N-e.period>=0?(m+=X-Number(p[N-C].close),D=m/e.period,w[N]=D,_[N]=Math.pow(X-D,2),y+=_[N]-_[N-C]):(w[N]=D,_[N]=Math.pow(X-D,2),y+=_[N]);const H=Math.sqrt(y/e.period),q=w[N]-b*H,G=w[N]+b*H;if(N+1===C)for(let A=0;A<C-1;A++)k[A]={X:p[A].x,mb:w[N],lb:q,ub:G,visible:!0};k[N]={X:p[N].x,mb:w[N],lb:q,ub:G,visible:!0}}else N<e.period-1&&(w[N]=D,_[N]=Math.pow(X-D,2),y+=_[N])}let I=-1,O=-1;for(let N=0;N<v;N++)if(N>=C-1){const H="lb",q="mb";o.push(this.getDataPoint(p[N].x,k[N].ub,p[N],h,o.length)),a.push(this.getDataPoint(p[N].x,k[N][H],p[N],c,a.length)),r.push(this.getDataPoint(p[N].x,k[N][q],p[N],d,r.length)),i&&l.push(this.getRangePoint(p[N].x,o[++I].y,a[++O].y,p[N],u,l.length))}}i&&this.setSeriesRange(l,e,e.targetSeries[0]),this.setSeriesRange(r,e,e.targetSeries[s]),this.setSeriesRange(o,e,e.targetSeries[s+1]),this.setSeriesRange(a,e,e.targetSeries[s+2])}destroy(){}getModuleName(){return"BollingerBandsIndicator"}}},vEe={provide:"ChartsBoxAndWhiskerSeries",useValue:class extends xc{render(e,t,i,s){const r=this.getSideBySideInfo(e);let o;for(const a of e.points){let l;a.symbolLocations=[],a.regions=[],a.visible&&Fn(e.points[a.index-1],a,e.points[a.index+1],e)&&(this.findBoxPlotValues(a.y,a,e.boxPlotMode),this.updateTipRegion(e,a,r),l=this.getRectangle(a.xValue+r.start,a.upperQuartile,a.xValue+r.end,a.lowerQuartile,e),a.regions.push(l),o=this.triggerEvent(e,a,e.interior,{color:f(e.border.color)||"transparent"===e.border.color?XU(e.interior,-.6):e.border.color,width:e.border.width?e.border.width:1}),o.cancel||this.renderBoxAndWhisker(e,a,o,this.getPathString(a,e,ot(a.xValue,a.median,t,i,s),ot(a.xValue+r.median,a.average,t,i,s)),r.median))}e.marker.visible&&e.chart.markerRender.render(e)}updateTipRegion(e,t,i){const s=this.getRectangle(t.xValue+i.median,t.maximum,t.xValue+i.median,t.minimum,e);this.updateTipSize(e,t,s,e.chart.requireInvertedAxis)}updateTipSize(e,t,i,s){const r=e.border.width||1;s?(i.y-=r/2,i.height=i.height||r):(i.x-=r/2,i.width=i.width||r),t.regions.push(i)}getPathString(e,t,i,s){const r=e.regions[0],o=e.regions[1];let a="";const l=t.chart.requireInvertedAxis?r.y+r.height/2:r.x+r.width/2,h=o.x+o.width,c=o.y+o.height,d=r.x+r.width,u=r.y+r.height;return t.chart.requireInvertedAxis?(this.updateTipSize(t,e,{x:r.x,y:o.y,width:0,height:c-o.y},!1),this.updateTipSize(t,e,{x:d,y:o.y,width:0,height:c-o.y},!0),a+="M "+r.x+" "+o.y+" L "+r.x+" "+c,a+="M "+r.x+" "+l+"  L "+o.x+" "+l,a+=" M "+o.x+" "+o.y+"  L "+h+" "+o.y+" L "+h+" "+c+" L "+o.x+" "+c+" Z",a+=" M "+h+" "+l+" L "+d+" "+l,a+=" M "+d+" "+o.y+" L "+d+" "+c,a+=" M "+i.x+" "+o.y+"  L "+i.x+" "+c,a+=t.showMean?"M "+(s.x+5)+" "+(s.y-5)+" L "+(s.x-5)+" "+(s.y+5)+"M "+(s.x-5)+" "+(s.y-5)+" L "+(s.x+5)+" "+(s.y+5):""):(this.updateTipSize(t,e,{x:o.x,y:r.y,width:h-o.x,height:0},!0),this.updateTipSize(t,e,{x:o.x,y:u,width:h-o.x,height:0},!0),a+="M "+o.x+" "+r.y+"  L "+h+" "+r.y,a+=" M "+l+" "+r.y+"  L "+l+" "+o.y,a+=" M "+o.x+" "+o.y+"  L "+h+" "+o.y+" L "+h+" "+c+" L "+o.x+" "+c+" Z",a+=" M "+l+" "+c+" L "+l+" "+u,a+=" M "+o.x+" "+u+" L "+h+" "+u,a+=" M "+o.x+" "+i.y+" L "+h+" "+i.y,a+=t.showMean?" M "+(s.x-5)+" "+(s.y-5)+" L "+(s.x+5)+" "+(s.y+5)+" M "+(s.x+5)+" "+(s.y-5)+" L "+(s.x-5)+" "+(s.y+5):""),a}renderBoxAndWhisker(e,t,i,s,r){let o,a;const l=e.chart.element.id+"_Series_"+e.index+"_Point_"+t.index,h=e.chart.renderer.drawPath(new nt(l+"_BoxPath",i.fill,i.border.width,i.border.color,e.opacity,e.dashArray,s));h.setAttribute("aria-label",t.x.toString()+":"+t.maximum.toString()+":"+t.minimum.toString()+":"+t.lowerQuartile.toString()+":"+t.upperQuartile.toString());const c=e.chart.renderer.createGroup({id:l});c.appendChild(h);for(let d=0;d<t.outliers.length;d++)o=ot(t.xValue+r,t.outliers[d],e.xAxis,e.yAxis,e.chart.requireInvertedAxis),a=new xt(e.marker.width,e.marker.height),t.symbolLocations.push(o),this.updateTipSize(e,t,{x:o.x-a.width/2,y:o.y-a.height/2,width:a.width,height:a.height},!0);e.seriesElement.appendChild(c)}findBoxPlotValues(e,t,i){const s=e.length,r={average:To(e)/s,lowerQuartile:0,upperQuartile:0,maximum:0,minimum:0,median:0,outliers:[]};"Exclusive"===i?(r.lowerQuartile=this.getExclusiveQuartileValue(e,s,.25),r.upperQuartile=this.getExclusiveQuartileValue(e,s,.75),r.median=this.getExclusiveQuartileValue(e,s,.5)):"Inclusive"===i?(r.lowerQuartile=this.getInclusiveQuartileValue(e,s,.25),r.upperQuartile=this.getInclusiveQuartileValue(e,s,.75),r.median=this.getInclusiveQuartileValue(e,s,.5)):(r.median=C2(e),this.getQuartileValues(e,s,r)),this.getMinMaxOutlier(e,s,r),t.minimum=r.minimum,t.maximum=r.maximum,t.lowerQuartile=r.lowerQuartile,t.upperQuartile=r.upperQuartile,t.median=r.median,t.outliers=r.outliers,t.average=r.average}getExclusiveQuartileValue(e,t,i){if(0===t)return 0;if(1===t)return e[0];let s=0;const r=i*(t+1),o=Math.floor(Math.abs(r));return s=0===o?e[0]:o>t-1?e[t-1]:(r-o)*(e[o]-e[o-1])+e[o-1],s}getInclusiveQuartileValue(e,t,i){if(0===t)return 0;if(1===t)return e[0];let s=0;const r=i*(t-1),o=Math.floor(Math.abs(r));return s=(r-o)*(e[o+1]-e[o])+e[o],s}getQuartileValues(e,t,i){if(1===t)return i.lowerQuartile=e[0],i.upperQuartile=e[0],null;const s=t%2==0,r=t/2,o=e.slice(0,r),a=e.slice(s?r:r+1,t);i.lowerQuartile=C2(o),i.upperQuartile=C2(a)}getMinMaxOutlier(e,t,i){const r=1.5*(i.upperQuartile-i.lowerQuartile);for(let o=0;o<t;o++){if(!(e[o]<i.lowerQuartile-r)){i.minimum=e[o];break}i.outliers.push(e[o])}for(let o=t-1;o>=0;o--){if(!(e[o]>i.upperQuartile+r)){i.maximum=e[o];break}i.outliers.push(e[o])}}doAnimation(e){this.animate(e)}getModuleName(){return"BoxAndWhiskerSeries"}destroy(){}}},CEe={provide:"ChartsHistogramSeries",useValue:class extends nG{render(e){super.render(e),e.showNormalDistribution&&this.renderNormalDistribution(e)}calculateBinInterval(e,t){const i=To(e)/e.length;let s=0;for(const r of e)s+=(r-i)*(r-i);t.histogramValues.mean=i,t.histogramValues.sDValue=Math.round(Math.sqrt(Math.abs(s/e.length-1))),t.histogramValues.binWidth=t.binInterval||Math.round(3.5*t.histogramValues.sDValue/Math.pow(e.length,1/3))||1}processInternalData(e,t){const i=[],s=[],r=Object.keys(e);for(let c=0;c<r.length;c++)s.push(e[r[c]][t.yName]);t.histogramValues={yValues:s};let o=Math.min(...t.histogramValues.yValues);const a=Math.max(...t.histogramValues.yValues);this.calculateBinInterval(t.histogramValues.yValues,t);const l=t.histogramValues.binWidth;let h;for(let c=0;c<e.length;)h=s.filter(d=>d>=o&&d<o+l).length,o+l===a&&(h+=s.filter(d=>d>=a).length),i.push({x:o+l/2,[t.yName]:h}),o+=l,c+=h;return i}calculateBinValues(e){let c,d,t=e.histogramValues.yValues.length,i=e.histogramValues.binWidth,s=e.histogramValues.mean,r=e.histogramValues.sDValue,a=e.xAxis.minimum?parseInt(e.xAxis.minimum.toString()):e.xMin,u=((e.xAxis.maximum?parseInt(e.xAxis.maximum.toString()):e.xMax)-a)/499;if(e.points.length)for(let p=0;p<500;p++)c=a+p*u,d=Math.exp(-(c-s)*(c-s)/(2*r*r))/(r*Math.sqrt(2*Math.PI))*i*t,e.yMin=e.yMin>d?d:e.yMin,e.yMax=e.yMax<d?d:e.yMax}renderNormalDistribution(e){const t=e.xAxis.actualRange.min;let s,r,o,a="",l="M";const h=e.histogramValues.yValues.length,c=e.histogramValues.binWidth,d=e.histogramValues.mean,u=e.histogramValues.sDValue,m=(e.xAxis.actualRange.max-t)/499;if(e.points.length)for(let v=0;v<500;v++)s=t+v*m,o=Math.exp(-(s-d)*(s-d)/(2*u*u))/(u*Math.sqrt(2*Math.PI)),r=ot(s,o*c*h,e.xAxis,e.yAxis,e.chart.requireInvertedAxis),a+=l+" "+r.x+" "+r.y+" ",l="L";const b=e.chart.renderer.drawPath(new nt(e.chart.element.id+"_Series_"+e.index+"_NDLine","transparent",2,e.chart.themeStyle.errorBar,e.opacity,e.dashArray,a),new Int32Array([e.clipRect.x,e.clipRect.y]));b.style.visibility=e.chart.enableCanvas?null:e.animation.enable&&e.chart.animateSeries?"hidden":"visible",e.chart.enableCanvas||e.seriesElement.appendChild(b)}doAnimation(e){super.doAnimation(e),e.showNormalDistribution&&kw(e.seriesElement.lastElementChild,e.animation.duration,500,"FadeIn")}getModuleName(){return"HistogramSeries"}destroy(){}}},wEe={provide:"ChartsErrorBar",useValue:class{constructor(e){this.chart=e}render(e){if("PolarRadar"===this.chart.chartAreaType)return null;this.createElement(e,this.chart),this.renderErrorBar(e)}renderErrorBar(e){const t=e.index;let i,s;const r=e.errorBar,o=e.errorBar.errorBarCap;let a=["",""];const l=e.chart.redraw;for(const h of e.points)if(h.visible&&h.symbolLocations[0]){let c=0,d=0;switch(r.mode){case"Vertical":d=r.verticalError;break;case"Horizontal":c=r.horizontalError;break;case"Both":c=r.horizontalError,d=r.verticalError}a=this["calculate"+r.type+"Value"](h,e,this.chart.requireInvertedAxis,c,d),i=this.chart.element.id+"_Series__ErrorBarGroup_"+t+"_Point_"+h.index,s=this.chart.element.id+"_Series__ErrorBarCap_"+t+"_Point_"+h.index;const u=new nt(i,"",r.width,r.color||this.chart.themeStyle.errorBar,null,"",a[0]);let p=se(u.id),m=p?p.getAttribute("d"):null;e.errorBarElement.appendChild(this.chart.renderer.drawPath(u)),$p(p,a[0],l,m);const y=new nt(s,"",o.width,o.color||this.chart.themeStyle.errorBar,null,"",a[1]);p=se(y.id),m=p?p.getAttribute("d"):null,lt(this.chart.enableCanvas,e.errorBarElement,this.chart.renderer.drawPath(y),l),$p(p,a[1],l,m)}}findLocation(e,t,i,s,r){const o=t.errorBar,a=o.direction,l=[],h=t.type.indexOf("Stacking")>-1?t.stackedValues.endValues[e.index]:"HighLow"===t.seriesType||"HighLowOpenClose"===t.seriesType?t.points[e.index].high:e.yValue,c=ot(e.xValue+("Plus"===a||"Both"===a?"Custom"!==o.type||"Horizontal"!==o.mode&&"Both"!==o.mode?s:s=o.horizontalPositiveError:0),h+("Plus"===a||"Both"===a?"Custom"!==o.type||"Vertical"!==o.mode&&"Both"!==o.mode?r:r=o.verticalPositiveError:0),t.xAxis,t.yAxis,i);if(l.push(c),t.isRectSeries)l.push(e.symbolLocations[0]);else{const u=ot(e.xValue,e.yValue,t.xAxis,t.yAxis,i);l.push(u)}const d=ot(e.xValue-("Minus"===a||"Both"===a?"Custom"!==o.type||"Horizontal"!==o.mode&&"Both"!==o.mode?s:s=o.horizontalNegativeError:0),h-("Minus"===a||"Both"===a?"Custom"!==o.type||"Vertical"!==o.mode&&"Both"!==o.mode?r:r=o.verticalNegativeError:0),t.xAxis,t.yAxis,i);return l.push(d),e.error="Vertical"===o.mode?o.verticalError:o.horizontalError,this.negativeHeight="Vertical"===o.mode||"Both"===o.mode?i?l[1].x-l[2].x:l[2].y-l[1].y:0,this.positiveHeight="Vertical"===o.mode||"Both"===o.mode?i?l[0].x-l[1].x:l[1].y-l[0].y:0,this.getErrorDirection(l[0],l[1],l[2],t,i)}calculateFixedValue(e,t,i,s,r,o,a){return this.findLocation(e,t,i,s,r)}calculatePercentageValue(e,t,i,s,r,o,a){return this.findLocation(e,t,i,s=s/100*e.xValue,r=r/100*e.yValue)}calculateStandardDeviationValue(e,t,i,s,r,o,a){const l=this.meanCalculation(t,t.errorBar.mode);return this.findLocation(e,t,i,s*=l.horizontalSquareRoot+l.horizontalMean,r*=l.verticalSquareRoot+l.verticalMean)}calculateStandardErrorValue(e,t,i,s,r,o,a){const l=t.points.length,h=this.meanCalculation(t,t.errorBar.mode);return s=s*h.horizontalSquareRoot/Math.sqrt(l),r=r*h.verticalSquareRoot/Math.sqrt(l),this.findLocation(e,t,i,s,r)}calculateCustomValue(e,t,i,s,r,o,a){return this.findLocation(e,t,i,s,r)}getHorizontalDirection(e,t,i,s,r,o){let a="",l="";return a+="M "+e.x+" "+t.y+" L "+i.x+" "+t.y,l+="Plus"===s||"Both"===s?"M "+e.x+" "+(t.y-o)+" L "+e.x+" "+(t.y+o):"",l+="Minus"===s||"Both"===s?"M "+i.x+" "+(t.y-o)+" L "+i.x+" "+(t.y+o):" ",[a,l]}getVerticalDirection(e,t,i,s,r,o){let a="",l="";return a+="M "+t.x+" "+e.y+" L "+t.x+" "+i.y,l+="Plus"===s||"Both"===s?"M "+(t.x-o)+" "+e.y+" L "+(t.x+o)+" "+e.y:"",l+="Minus"===s||"Both"===s?"M "+(t.x-o)+" "+i.y+" L "+(t.x+o)+" "+i.y:"",[a,l]}getBothDirection(e,t,i,s,r,o){let a="",l="";const h=this.getHorizontalDirection(e,t,i,s,r,o),c=this.getVerticalDirection(e,t,i,s,r,o);return l=h[0].concat(c[0]),a=h[1].concat(c[1]),[l,a]}getErrorDirection(e,t,i,s,r){const o=s.errorBar.direction,a=s.errorBar.mode,l=s.errorBar.errorBarCap.length;let h,c=a;switch(a){case"Both":c=a;break;case"Horizontal":c=r?"Vertical":a;break;case"Vertical":c=r?"Horizontal":a}switch(c){case"Horizontal":h=this.getHorizontalDirection(e,t,i,o,c,l);break;case"Vertical":h=this.getVerticalDirection(e,t,i,o,c,l);break;case"Both":h=this.getBothDirection(e,t,i,o,c,l)}return[h[0],h[1]]}meanCalculation(e,t){let i=0,s=0,r=0,o=0;const a=e.points.length;switch(t){case"Vertical":s=To(e.yData),r=s/a;break;case"Horizontal":i=To(e.xData),o=i/a;break;case"Both":s=To(e.yData),r=s/a,i=To(e.xData),o=i/a}for(const u of e.points)"Vertical"===t?s+=Math.pow(u.yValue-r,2):("Horizontal"===t||(s+=Math.pow(u.yValue-r,2)),i+=Math.pow(u.xValue-o,2));const l=s/(a-1),h=Math.sqrt(s/(a-1)),c=i/(a-1),d=Math.sqrt(i/(a-1));return new XCe(l,h,c,d,r,o)}createElement(e,t){const i="Cartesian"===t.chartAreaType?"translate("+e.clipRect.x+","+e.clipRect.y+")":"",s=e.marker.height/2,r=e.marker.width/2;if("Cartesian"===t.chartAreaType){const o=new us(t.element.id+"_ChartErrorBarClipRect_"+e.index,"transparent",{width:1,color:"Gray"},1,{x:-r,y:-s,width:e.clipRect.width+2*r,height:e.clipRect.height+2*s});e.errorBarElement=t.renderer.createGroup({id:t.element.id+"ErrorBarGroup"+e.index,transform:i,"clip-path":"url(#"+t.element.id+"_ChartErrorBarClipRect_"+e.index+")"}),e.errorBarElement.appendChild(vd(t.redraw,o,t.renderer))}}doErrorBarAnimation(e){const t=e.errorBarElement.childNodes;if(!t)return null;const i=e.animation.delay+e.animation.duration;let s=1;for(;s<t.length;){for(let r=0;r<e.points.length;r++)!e.points[r].symbolLocations[0]||(t[s].style.visibility="hidden",kw(t[s],i,350,e.chart.requireInvertedAxis?"SlideLeftIn":"SlideBottomIn",!1));s++}}getModuleName(){return"ErrorBar"}destroy(){}}},SEe={provide:"ChartsTrendlines",useValue:class{initSeriesCollection(e,t){const i=new Ze(e,"targetSeries",{},!0);i.type="Linear"===e.type||"MovingAverage"===e.type?"Line":"Spline",this.setSeriesProperties(i,e,e.type,e.fill,e.width,t)}setSeriesProperties(e,t,i,s,r,o){e.name=t.name,e.xName="x",e.yName="y",e.fill=s||"blue",e.width=r,e.dashArray=t.dashArray,e.clipRectElement=t.clipRectElement,e.points=[],e.enableTooltip=t.enableTooltip,e.index=t.index,e.sourceIndex=t.sourceIndex,e.interior=e.fill,e.animation=t.animation,e.legendShape="HorizontalLine",e.marker=t.marker,e.category="TrendLine",e.chart=o,e.xMin=1/0,e.xMax=-1/0,e.yMin=1/0,e.yMax=-1/0,e.xData=[],e.yData=[],t.targetSeries=e,o.isBlazor&&(t.targetSeries.border={},t.targetSeries.connector={})}createTrendLineElements(e,t,i,s,r){t.trendLineElement=s,t.targetSeries.clipRectElement=r,t.targetSeries.seriesElement=s,e.trendLineElements&&e.trendLineElements.appendChild(t.trendLineElement)}getDataPoint(e,t,i,s){const r=new Pw;return r.x="DateTime"===i.xAxis.valueType?new Date(Number(e)):e,r.y=t,r.xValue=Number(e),r.color=i.fill,r.index=s,r.yValue=Number(t),r.visible=!0,i.xMin=Math.min(i.xMin,r.xValue),i.yMin=Math.min(i.yMin,r.yValue),i.xMax=Math.max(i.xMax,r.xValue),i.yMax=Math.max(i.yMax,r.yValue),i.xData.push(r.xValue),r}findSlopeIntercept(e,t,i,s){let r=0,o=0,a=0,l=0,h=0,c=0,d=0;for(;h<s.length;)isNaN(t[h])&&(t[h]=(t[h-1]+t[h+1])/2),r+=e[h],o+=t[h],a+=e[h]*t[h],l+=e[h]*e[h],h++;const u=i.type;if(!i.intercept||"Linear"!==u&&"Exponential"!==u)c=(s.length*a-r*o)/(s.length*l-r*r),c="Linear"===u?c:Math.abs(c),d="Exponential"===u||"Power"===u?Math.exp((o-c*r)/s.length):(o-c*r)/s.length;else switch(d=i.intercept,u){case"Linear":c=(a-i.intercept*r)/l;break;case"Exponential":c=(a-Math.log(Math.abs(i.intercept))*r)/l}return{slope:c,intercept:d}}initDataSource(e){const t=e.points;if(t&&t.length){const i=e.targetSeries;switch(e.type){case"Linear":this.setLinearRange(t,e,i);break;case"Exponential":this.setExponentialRange(t,e,i);break;case"MovingAverage":this.setMovingAverageRange(t,e,i);break;case"Polynomial":this.setPolynomialRange(t,e,i);break;case"Power":this.setPowerRange(t,e,i);break;case"Logarithmic":this.setLogarithmicRange(t,e,i)}"Linear"!==e.type&&"MovingAverage"!==e.type&&i.chart.splineSeriesModule.findSplinePoint(i)}}setExponentialRange(e,t,i){const s=[],r=[];let o=0;for(;o<e.length;){const l=e[o],h=l.yValue?Math.log(l.yValue):0;s.push(l.xValue),r.push(h),o++}const a=this.findSlopeIntercept(s,r,t,e);i.points=this.getExponentialPoints(t,e,s,r,i,a)}setLogarithmicRange(e,t,i){const s=[],r=[],o=[];let a=0;for(;a<e.length;){const h=e[a],c=h.xValue?Math.log(h.xValue):0;o.push(h.xValue),s.push(c),r.push(h.yValue),a++}const l=this.findSlopeIntercept(s,r,t,e);i.points=this.getLogarithmicPoints(t,e,o,r,i,l)}setPolynomialRange(e,t,i){const s=[],r=[];let o=0;for(;o<e.length;){const a=e[o];s.push(a.xValue),r.push(a.yValue),o++}i.points=this.getPolynomialPoints(t,e,s,r,i)}setPowerRange(e,t,i){const s=[],r=[],o=[];let a=0;for(;a<e.length;){const h=e[a],c=h.xValue?Math.log(h.xValue):0,d=h.yValue?Math.log(h.yValue):0;o.push(h.xValue),s.push(c),r.push(d),a++}const l=this.findSlopeIntercept(s,r,t,e);i.points=this.getPowerPoints(t,e,o,r,i,l)}setLinearRange(e,t,i){const s=[],r=[];let o=0;for(;o<e.length;){const l=e[o];s.push(l.xValue),r.push(l.yValue),o++}const a=this.findSlopeIntercept(s,r,t,e);i.points=this.getLinearPoints(t,e,s,r,i,a)}setMovingAverageRange(e,t,i){const s=[],r=[],o=[];let a=0;for(;a<e.length;){const l=e[a];o.push(l.xValue),s.push(a+1),r.push(l.yValue),a++}i.points=this.getMovingAveragePoints(t,e,o,r,i)}getLogarithmicPoints(e,t,i,s,r,o){const a=Math.round(t.length/2),l=[],h=i[0]-e.backwardForecast,c=h?Math.log(h):0,d=o.intercept+o.slope*c,u=i[a-1],p=u?Math.log(u):0,m=o.intercept+o.slope*p,y=i[i.length-1]+e.forwardForecast,b=y?Math.log(y):0,v=o.intercept+o.slope*b;return l.push(this.getDataPoint(h,d,r,l.length)),l.push(this.getDataPoint(u,m,r,l.length)),l.push(this.getDataPoint(y,v,r,l.length)),l}getPowerPoints(e,t,i,s,r,o){const a=Math.round(t.length/2),l=[];let h=i[0]-e.backwardForecast;h=h>-1?h:0;const c=o.intercept*Math.pow(h,o.slope),d=i[a-1],u=o.intercept*Math.pow(d,o.slope),p=i[i.length-1]+e.forwardForecast,m=o.intercept*Math.pow(p,o.slope);return l.push(this.getDataPoint(h,c,r,l.length)),l.push(this.getDataPoint(d,u,r,l.length)),l.push(this.getDataPoint(p,m,r,l.length)),l}getPolynomialPoints(e,t,i,s,r){let o=[],a=t.length<=e.polynomialOrder?t.length:e.polynomialOrder;a=Math.max(2,a),a=Math.min(6,a),e.polynomialOrder=a,e.polynomialSlopes=[],e.polynomialSlopes.length=e.polynomialOrder+1;let l=0;for(;l<i.length;){const m=i[l],y=s[l];let b=0;for(;b<=e.polynomialOrder;)e.polynomialSlopes[b]||(e.polynomialSlopes[b]=0),e.polynomialSlopes[b]+=Math.pow(m,b)*y,++b;l++}const h=[];h.length=1+2*e.polynomialOrder;const c=[];c.length=e.polynomialOrder+1;let d=0;for(;d<e.polynomialOrder+1;)c[d]=[],c[d].length=3,d++;let u=0;for(;u<i.length;){const m=i[u];let y=1,b=0;for(;b<h.length;)h[b]||(h[b]=0),h[b]+=y,y*=m,++b;++u}let p=0;for(;p<=e.polynomialOrder;){let m=0;for(;m<=e.polynomialOrder;)c[p][m]=h[p+m],++m;++p}return this.gaussJordanElimination(c,e.polynomialSlopes)||(e.polynomialSlopes=null),o=this.getPoints(e,t,i,r),o}getMovingAveragePoints(e,t,i,s,r){const o=[];let a=e.period>=t.length?t.length-1:e.period;a=Math.max(2,a);let h,c,d,u,l=0;for(;l<t.length-1;){h=d=u=0;for(let p=l;d<a;p++)d++,s[p]||u++,h+=s[p];h=a-u<=0?null:h/(a-u),h&&!isNaN(h)&&(c=i[a-1+l],o.push(this.getDataPoint(c,h,r,o.length))),l++}return o}getLinearPoints(e,t,i,s,r,o){const a=[],l=i.indexOf(Math.max.apply(null,i)),h=i.indexOf(Math.min.apply(null,i)),c=i[h]-e.backwardForecast,u=i[l]+e.forwardForecast,p=o.slope*u+o.intercept;return a.push(this.getDataPoint(c,o.slope*c+o.intercept,r,a.length)),a.push(this.getDataPoint(u,p,r,a.length)),a}getExponentialPoints(e,t,i,s,r,o){const a=Math.round(t.length/2),l=[],h=i[0]-e.backwardForecast,c=o.intercept*Math.exp(o.slope*h),d=i[a-1],u=o.intercept*Math.exp(o.slope*d),p=i[i.length-1]+e.forwardForecast,m=o.intercept*Math.exp(o.slope*p);return l.push(this.getDataPoint(h,c,r,l.length)),l.push(this.getDataPoint(d,u,r,l.length)),l.push(this.getDataPoint(p,m,r,l.length)),l}getPoints(e,t,i,s){const r=e.polynomialSlopes,o=[];let h,c,a=1,l=1;for(t.sort((d,u)=>d.xValue-u.xValue),i.sort((d,u)=>d-u);l<=r.length;)1===l?(h=i[0]-e.backwardForecast,c=this.getPolynomialYValue(r,h),o.push(this.getDataPoint(h,c,s,o.length))):l===r.length?(h=i[t.length-1]+e.forwardForecast,c=this.getPolynomialYValue(r,h),o.push(this.getDataPoint(h,c,s,o.length))):(a+=(t.length+e.forwardForecast)/r.length,h=i[parseInt(a.toString(),10)-1],c=this.getPolynomialYValue(r,h),o.push(this.getDataPoint(h,c,s,o.length))),l++;return o}getPolynomialYValue(e,t){let i=0,s=0;for(;s<e.length;)i+=e[s]*Math.pow(t,s),s++;return i}gaussJordanElimination(e,t){const i=e.length,s=[],r=[],o=[];s.length=i,r.length=i,o.length=i;let a=0;for(;a<i;)o[a]=0,++a;let l=0;for(;l<i;){let c=0,d=0,u=0,p=0;for(;p<i;){if(1!==o[p]){let v=0;for(;v<i;)0===o[v]&&Math.abs(e[p][v])>=c&&(c=Math.abs(e[p][v]),d=p,u=v),++v}++p}if(++o[u],d!==u){let v=0;for(;v<i;){const w=e[d][v];e[d][v]=e[u][v],e[u][v]=w,++v}const C=t[d];t[d]=t[u],t[u]=C}if(r[l]=d,s[l]=u,0===e[u][u])return!1;const m=1/e[u][u];e[u][u]=1;let y=0;for(;y<i;)e[u][y]*=m,++y;t[u]*=m;let b=0;for(;b<i;){if(b!==u){const v=e[b][u];e[b][u]=0;let C=0;for(;C<i;)e[b][C]-=e[u][C]*v,++C;t[b]-=t[u]*v}++b}++l}let h=i-1;for(;h>=0;){if(r[h]!==s[h]){let c=0;for(;c<i;){const d=e[c][r[h]];e[c][r[h]]=e[c][s[h]],e[c][s[h]]=d,++c}}--h}return!0}getTrendLineElements(e,t){f2(e);const i=e.clipRect,s=t.renderer.drawClipPath(new us(t.element.id+"_ChartTrendlineClipRect_"+e.index,"transparent",{width:1,color:"Gray"},1,{x:0,y:0,width:i.width,height:i.height})),r=t.renderer.createGroup({id:t.element.id+"TrendlineSeriesGroup"+e.index,transform:"translate("+i.x+","+i.y+")","clip-path":"url(#"+t.element.id+"_ChartTrendlineClipRect_"+e.index+")"});r&&r.appendChild(s);for(const o of e.trendlines)this.createTrendLineElements(t,o,o.index,r,s)}destroy(){}getModuleName(){return"TrendLine"}}},_Ee={provide:"ChartsDateTimeCategory",useValue:class extends iG{constructor(e){super(e)}calculateRangeAndInterval(e,t){this.axisSize=e,this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t)}calculateVisibleLabels(e){let t;e.visibleLabels=[];const i="BetweenTicks"===e.labelPlacement?.5:0;"Auto"===e.intervalType?this.calculateDateTimeNiceInterval(e,this.axisSize,parseInt(e.labels[0],10),parseInt(e.labels[e.labels.length-1],10)):e.actualIntervalType=e.intervalType,e.format=this.chart.intl.getDateFormat({format:e.labelFormat||this.blazorCustomFormat(e),type:Nn(e.skeletonType),skeleton:this.getSkeleton(e,null,null,this.chart.isBlazor)});for(let s=0;s<e.labels.length;s++)t=fe({},Q("properties",e.labelStyle),null,!0),(!this.sameInterval(e.labels.map(Number)[s],e.labels.map(Number)[s-1],e.actualIntervalType,s)||e.isIndexed)&&al(s-i,e.visibleRange)&&Mb(this.chart,s,e.isIndexed?this.getIndexedAxisLabel(e.labels[s],e.format):e.format(new Date(e.labels.map(Number)[s])),t,e);e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)}blazorCustomFormat(e){return this.chart.isBlazor&&"Years"===e.actualIntervalType?"yyyy":""}getIndexedAxisLabel(e,t){const i=e.split(",");for(let s=0;s<i.length;s++)i[s]=t(new Date(parseInt(i[s],10)));return i.join(", ")}sameInterval(e,t,i,s){let r;if(0===s)r=!1;else switch(i){case"Years":r=new Date(e).getFullYear()===new Date(t).getFullYear();break;case"Months":r=new Date(e).getFullYear()===new Date(t).getFullYear()&&new Date(e).getMonth()===new Date(t).getMonth();break;case"Days":r=Math.abs(e-t)<864e5&&new Date(e).getDay()===new Date(t).getDay();break;case"Hours":r=Math.abs(e-t)<36e5&&new Date(e).getDay()===new Date(t).getDay();break;case"Minutes":r=Math.abs(e-t)<6e4&&new Date(e).getMinutes()===new Date(t).getMinutes();break;case"Seconds":r=Math.abs(e-t)<1e3&&new Date(e).getDay()===new Date(t).getDay()}return r}getModuleName(){return"DateTimeCategory"}destroy(){}}},xEe={provide:"ChartsMultiColoredLineSeries",useValue:class extends k2{render(e,t,i,s){let r=null,o="M";const a=this.enableComplexProperty(e),l=[];let h="";const c=this.sortSegments(e,e.segments);for(const d of a)d.regions=[],d.visible&&Fn(a[d.index-1],d,a[d.index+1],e)?(h+=this.getLineDirection(r,d,e,s,ot,o),null!=r?this.setPointColor(d,r,e,"X"===e.segmentAxis,c)?(l.push(new nt(e.chart.element.id+"_Series_"+e.index+"_Point_"+r.index,"none",e.width,e.setPointColor(r,e.interior),e.opacity,e.dashArray,h)),o="M",h=""):o="L":this.setPointColor(d,null,e,"X"===e.segmentAxis,c),r=d,this.storePointLocation(d,e,s,ot)):(r="Drop"===e.emptyPointSettings.mode?r:null,o="Drop"===e.emptyPointSettings.mode?o:"M",d.symbolLocations=[]);""!==h&&l.push(new nt(e.chart.element.id+"_Series_"+e.index,"none",e.width,e.setPointColor(a[a.length-1],e.interior),e.opacity,e.dashArray,h)),this.applySegmentAxis(e,l,c),this.renderMarker(e)}doAnimation(e){this.doLinearAnimation(e,e.animation)}getModuleName(){return"MultiColoredLineSeries"}destroy(){}}},EEe={provide:"ChartsMultiColoredAreaSeries",useValue:class extends k2{render(e,t,i,s){let r,o=null,a="";const l=Math.max(e.yAxis.visibleRange.min,0),h=[];let c,d,u;const p=this.sortSegments(e,e.segments);e.visiblePoints.map((m,y,b)=>{m.symbolLocations=[],m.regions=[],u=!1,m.visible&&Fn(b[y-1],m,b[y+1],e)&&(a+=this.getAreaPathDirection(m.xValue,l,e,s,ot,o,"M"),o=o||new Fe(m.xValue,l),r=ot(m.xValue,m.yValue,t,i,s),d&&this.setPointColor(m,d,e,"X"===e.segmentAxis,p)?(u=!0,c=ot(o.x,l,t,i,s),a+="L "+r.x+" "+r.y+" ",a+="L "+r.x+" "+c.y+" ",this.generatePathOption(h,e,d,a,"_Point_"+d.index),a="M "+r.x+" "+c.y+" L "+r.x+" "+r.y+" "):(a+="L "+r.x+" "+r.y+" ",this.setPointColor(m,null,e,"X"===e.segmentAxis,p)),b[y+1]&&!b[y+1].visible&&"Drop"!==e.emptyPointSettings.mode&&(a+=this.getAreaEmptyDirection({x:m.xValue,y:l},o,e,s,ot),o=null),d=m,this.storePointLocation(m,e,s,ot))}),!f(u)&&!u&&(a=e.points.length>1?a+this.getAreaPathDirection(d.xValue,l,e,s,ot,null,"L"):"",this.generatePathOption(h,e,d,a,"")),this.applySegmentAxis(e,h,p),this.renderMarker(e)}generatePathOption(e,t,i,s,r){e.push(new nt(t.chart.element.id+"_Series_"+t.index+r,t.setPointColor(i,t.interior),t.border.width,t.border.color,t.opacity,t.dashArray,s))}destroy(){}getModuleName(){return"MultiColoredAreaSeries"}doAnimation(e){this.doLinearAnimation(e,e.animation)}}},DEe={provide:"ChartsMultiLevelLabel",useValue:class{constructor(e){this.xAxisPrevHeight=[],this.xAxisMultiLabelHeight=[],this.yAxisPrevHeight=[],this.yAxisMultiLabelHeight=[],this.multiLevelLabelRectXRegion=[],this.xLabelCollection=[],this.chart=e,this.addEventListener()}addEventListener(){this.chart.isDestroyed||this.chart.on("click",this.click,this)}getMultilevelLabelsHeight(e){let t=0;const i=[],s=[],r="Vertical"===e.orientation,o=r?e.rect.height:e.rect.width;let a,l,c;e.multiLevelLabels.map((d,u)=>{d.categories.map(p=>{""!==p.text&&null!==p.start&&null!==p.end&&(a=Le(p.text,d.textStyle),l=r?a.width:a.height,l+=2*d.border.width+("CurlyBrace"===d.border.type?10:0),c=null!==p.maximumTextWidth?p.maximumTextWidth:zi("string"==typeof p.end?Number(new Date(p.end)):p.end,e)*o-zi("string"==typeof p.start?Number(new Date(p.start)):p.start,e)*o,a.width>c-10&&c>0&&"Wrap"===d.overflow&&!r&&(l*=Rw(p.text,c-10,d.textStyle).length),i[u]=i[u]?i[u]<l?l:i[u]:l)}),s[u]=t,t+=i[u]?i[u]+10:0}),e.multiLevelLabelHeight=t+(""!==e.title||this.chart.legendModule&&this.chart.legendSettings.visible?5:0),r?(this.yAxisMultiLabelHeight=i,this.yAxisPrevHeight=s):(this.xAxisMultiLabelHeight=i,this.xAxisPrevHeight=s)}renderXAxisMultiLevelLabels(e,t,i,s){let r,o;const a=10;let l,h;const c=(e.labelPosition===e.tickPosition?e.majorTickLines.height:0)+e.maxLabelSize.height+a;let d,p,m,y,u="";const b="Outside"===e.labelPosition;let v,C;const w=e.isInversed;let _;const k=e.opposedPosition,D=e.scrollbarSettings.enable||b&&f(e.crossesAt)?e.scrollBarHeight:0;this.createClipRect(s.x-e.majorTickLines.width,(k&&!b||!k&&b?s.y+c-e.majorTickLines.width:s.y-c-e.multiLevelLabelHeight)+D,e.multiLevelLabelHeight+a,s.width+2*e.majorTickLines.width,this.chart.element.id+"_XAxis_Clippath_"+t,this.chart.element.id+"XAxisMultiLevelLabel"+t),e.multiLevelLabels.map((O,N)=>{h=0,this.labelElement=this.chart.renderer.createGroup({id:this.chart.element.id+t+"_MultiLevelLabel"+N}),O.categories.map((X,H)=>{if(u="",p="string"==typeof X.start?Number(new Date(X.start)):X.start,m="string"==typeof X.end?Number(new Date(X.end)):X.end,_=this.triggerMultiLabelRender(e,X.text,e.multiLevelLabels[N].textStyle,e.multiLevelLabels[N].alignment,X.customAttributes),!_.cancel){l=zi(p,e)*s.width,d=zi(m,e)*s.width,d=w?[l,l=d][0]:d,y=Le(_.text,_.textStyle),v=(null===X.maximumTextWidth?d-l:X.maximumTextWidth)-a,r=l+s.x+a,o=(k&&!b||!k&&b?c+s.y+y.height/2+a+this.xAxisPrevHeight[N]:s.y-c+y.height/2-this.xAxisMultiLabelHeight[N]-this.xAxisPrevHeight[N])+D,"Center"===_.alignment?(r+=(d-l-a)/2,C="middle"):"Far"===_.alignment?(r=r+(d-l-a)-O.border.width/2,C="end"):(C="start",r+=O.border.width/2),o="CurlyBrace"===O.border.type?!k&&b||k&&!b?o+a:o-5:o;const q=new bs(this.chart.element.id+t+"_Axis_MultiLevelLabel_Level_"+N+"_Text_"+H,r,o,C,_.text);if("None"!==O.overflow&&(q.text="Wrap"===O.overflow?Rw(_.text,v,_.textStyle):Ya(v,_.text,_.textStyle),q.x=q.x-5),Os(this.chart.renderer,q,_.textStyle,_.textStyle.color||this.chart.themeStyle.axisLabel,this.labelElement,!1,this.chart.redraw,!0,null,null,null,0,null,this.chart.enableCanvas),this.chart.enableCanvas){let G=Le(_.text,_.textStyle);this.multiLevelLabelRectXRegion.push(new ce(q.x,q.y,G.width,G.height)),this.xLabelCollection.push(q)}O.border.width>0&&"WithoutBorder"!==O.border.type&&(u=this.renderXAxisLabelBorder(N,d-l-a,e,l,c,y,q,s,_.alignment,u,b,k,h),""!==u&&(this.createBorderElement(N,t,e,u,h),h++)),this.chart.enableCanvas||this.multiElements.appendChild(this.labelElement)}})}),this.chart.enableCanvas||i.appendChild(this.multiElements)}renderXAxisLabelBorder(e,t,i,s,r,o,a,l,h,c,d,u,p){let y,b,v,C,m=10;const w=i.multiLevelLabels[e],k=t+m;let D=this.xAxisMultiLabelHeight[e]+m;const I="Outside"===i.labelPosition?i.scrollBarHeight:0,O=s+l.x,N=!u&&d||u&&!d?r+l.y+this.xAxisPrevHeight[e]+I:l.y-r-this.xAxisPrevHeight[e]-I,X=w.categories[p].type||w.border.type;switch(X){case"WithoutTopandBottomBorder":case"Rectangle":case"WithoutTopBorder":D=!u&&d||u&&!d?D:-D,c+="M "+O+" "+N+" L "+O+" "+(N+D)+" M "+(O+k)+" "+N+" L "+(O+k)+" "+(N+D),c+="WithoutTopandBottomBorder"!==X?" L "+O+" "+(N+D)+" ":" ",c+="Rectangle"===X?"M "+O+" "+N+" L "+(O+k)+" "+N:" ";break;case"Brace":"Near"===h?(v=a.x,C=a.x+o.width+2):"Center"===h?(v=a.x-o.width/2-2,C=a.x+o.width/2+2):(v=a.x-o.width-2,C=a.x),D=!u&&d||u&&!d?D:-D,c+="M "+O+" "+N+" L "+O+" "+(N+D/2)+" M "+O+" "+(N+D/2)+" L "+(v-2)+" "+(N+D/2)+" M "+C+" "+(N+D/2)+" L "+(O+k)+" "+(N+D/2)+" M "+(O+k)+" "+(N+D/2)+" L "+(O+k)+" "+N;break;case"CurlyBrace":!u&&d||u&&!d?(m=10,y=15,b=5):(m=-10,y=-15,b=-5),c+="Center"===h?"M "+O+" "+N+" C "+O+" "+N+" "+(O+5)+" "+(N+m)+" "+(O+10)+" "+(N+m)+" L "+(O+k/2-5)+" "+(N+m)+" L "+(O+k/2)+" "+(N+y)+" L "+(O+k/2+5)+" "+(N+m)+" L "+(O+k-10)+" "+(N+m)+" C "+(O+k-10)+" "+(N+m)+" "+(O+k)+" "+(N+b)+" "+(O+k)+" "+N:"Near"===h?"M "+O+" "+N+" C "+O+" "+N+" "+(O+5)+" "+(N+m)+" "+(O+10)+" "+(N+m)+" L "+(O+15)+" "+(N+y)+" L "+(O+20)+" "+(N+m)+" L "+(O+k-10)+" "+(N+m)+" C "+(O+k-10)+" "+(N+m)+" "+(O+k)+" "+(N+b)+" "+(O+k)+" "+N:"M "+O+" "+N+" C "+O+" "+N+" "+(O+5)+" "+(N+m)+" "+(O+10)+" "+(N+m)+" L "+(O+k-20)+" "+(N+m)+" L "+(O+k-15)+" "+(N+y)+" L "+(O+k-10)+" "+(N+m)+" L "+(O+k-10)+" "+(N+m)+" C "+(O+k-10)+" "+(N+m)+" "+(O+k)+" "+(N+b)+" "+(O+k)+" "+N}return c}renderYAxisMultiLevelLabels(e,t,i,s){let r;const o="Outside"===e.labelPosition;let a,l;const c=(e.tickPosition===e.labelPosition?e.majorTickLines.height:0)+e.maxLabelSize.width+10;let d,p,m,y,u="";const b=e.isInversed;let v,C,w;const k=e.opposedPosition;let D=o&&f(e.crossesAt)?e.scrollBarHeight:0;D*=k?1:-1,this.createClipRect((k&&!o||!k&&o?s.x-e.multiLevelLabelHeight-c-10:s.x+c)+D,s.y-e.majorTickLines.width,s.height+2*e.majorTickLines.width,e.multiLevelLabelHeight+10,this.chart.element.id+"_YAxis_Clippath_"+t,this.chart.element.id+"YAxisMultiLevelLabel"+t),e.multiLevelLabels.map((O,N)=>{this.labelElement=this.chart.renderer.createGroup({id:this.chart.element.id+t+"_MultiLevelLabel"+N}),y=0,O.categories.map((X,H)=>{if(u="",C="string"==typeof X.end?Number(new Date(X.end)):X.end,v="string"==typeof X.start?Number(new Date(X.start)):X.start,d=zi(v,e)*s.height,p=zi(C,e)*s.height,p=b?[d,d=p][0]:p,m=this.triggerMultiLabelRender(e,X.text,O.textStyle,O.alignment,X.customAttributes),!m.cancel){r=Le(m.text,m.textStyle),w=p-d,a=s.x-c-this.yAxisPrevHeight[N]-this.yAxisMultiLabelHeight[N]/2-5,l=s.height+s.y-d-w/2,a=k?o?s.x+c+5+this.yAxisMultiLabelHeight[N]/2+this.yAxisPrevHeight[N]+D:s.x-c-this.yAxisMultiLabelHeight[N]/2-this.yAxisPrevHeight[N]-5:o?a+D:s.x+c+5+this.yAxisMultiLabelHeight[N]/2+this.yAxisPrevHeight[N],"Center"===m.alignment?l+=r.height/4:"Far"===m.alignment?l+=w/2-r.height/2:l=l-w/2+r.height,a="CurlyBrace"===O.border.type?!k&&o||k&&!o?a-10:a+10:a;const q=new bs(this.chart.element.id+t+"_Axis_MultiLevelLabel_Level_"+N+"_Text_"+H,a,l,"middle",m.text);q.text="Trim"===O.overflow?Ya(null===X.maximumTextWidth?this.yAxisMultiLabelHeight[N]:X.maximumTextWidth,m.text,m.textStyle):q.text,Os(this.chart.renderer,q,m.textStyle,m.textStyle.color||this.chart.themeStyle.axisLabel,this.labelElement,this.chart.redraw,!0,null,null,null,null,0,null,this.chart.enableCanvas),O.border.width>0&&"WithoutBorder"!==O.border.type&&(u=this.renderYAxisLabelBorder(N,w,e,p,c,d,r,q,s,m.alignment,u,o,k,y),""!==u&&(this.createBorderElement(N,t,e,u,y),y++)),this.chart.enableCanvas||this.multiElements.appendChild(this.labelElement)}})}),this.chart.enableCanvas||i.appendChild(this.multiElements)}renderYAxisLabelBorder(e,t,i,s,r,o,a,l,h,c,d,u,p,m){const y=s-o;let v,C,b=10;const w=i.multiLevelLabels[e],_=w.categories[m].type,k=h.y+h.height-s;let D=u&&f(i.crossesAt)?i.scrollBarHeight:0;D*=p?1:-1;let I=this.yAxisMultiLabelHeight[e]+b;const O=(!p&&u||p&&!u?h.x-r-this.yAxisPrevHeight[e]:h.x+r+this.yAxisPrevHeight[e])+D,N=_||w.border.type;switch(N){case"WithoutTopandBottomBorder":case"Rectangle":case"WithoutTopBorder":I=!p&&u||p&&!u?-I:I,d+="M "+O+" "+k+" L "+(O+I)+" "+k+" M "+O+" "+(k+y)+" L "+(O+I)+" "+(k+y),d+="WithoutTopandBottomBorder"!==N?" L "+(O+I)+" "+k+" ":" ",d+="Rectangle"===N?"M "+O+" "+(k+y)+"L "+O+" "+k+" ":" ";break;case"Brace":I=!p&&u||p&&!u?I:-I,d+="M "+O+" "+k+" L "+(O-I/2)+" "+k+" L "+(O-I/2)+" "+(l.y-a.height/2-4)+" M "+(O-I/2)+" "+(l.y+a.height/4+2)+" L "+(O-I/2)+" "+(k+y)+" L "+O+" "+(k+y);break;case"CurlyBrace":!p&&u||p&&!u?(b=-10,v=-15,C=-5):(b=10,v=15,C=5),d+="Center"===c?"M "+O+" "+k+" C "+O+" "+k+" "+(O+b)+" "+k+" "+(O+b)+" "+(k+10)+" L "+(O+b)+" "+(k+(y-10)/2)+" L "+(O+v)+" "+(k+(y-10)/2+5)+" L "+(O+b)+" "+(k+(y-10)/2+10)+" L "+(O+b)+" "+(k+(y-10))+" C "+(O+b)+" "+(k+(y-10))+" "+(O+C)+" "+(k+y)+" "+O+" "+(k+y):"Far"===c?"M "+O+" "+k+" C "+O+" "+k+" "+(O+b)+" "+k+" "+(O+b)+" "+(k+10)+" L "+(O+b)+" "+(k+y-20)+"  L "+(O+v)+" "+(k+(y-15))+" L "+(O+b)+" "+(k+(y-10))+" L "+(O+b)+" "+(k+(y-10))+" C "+(O+b)+" "+(k+(y-10))+" "+(O+b)+" "+(k+y)+" "+O+" "+(k+y):"M "+O+" "+k+" C "+O+" "+k+" "+(O+b)+" "+k+" "+(O+b)+" "+(k+10)+" L "+(O+v)+" "+(k+15)+" L "+(O+b)+" "+(k+20)+" L "+(O+b)+" "+(k+(y-10))+" C "+(O+b)+" "+(k+(y-10))+" "+(O+C)+" "+(k+y)+" "+O+" "+(k+y)}return d}createClipRect(e,t,i,s,r,o){this.multiElements=this.chart.renderer.createGroup({id:o,"clip-path":"url(#"+r+")"}),this.chart.enableCanvas||this.multiElements.appendChild(vd(this.chart.redraw,{id:r,x:e,y:t,width:s,height:i,fill:"white","stroke-width":1,stroke:"Gray"},this.chart.renderer))}createBorderElement(e,t,i,s,r){const o=s,a=this.chart.renderer.drawPath(new nt(this.chart.element.id+t+"_Axis_MultiLevelLabel_Rect_"+e+"_"+r,"Transparent",i.multiLevelLabels[e].border.width,i.multiLevelLabels[e].border.color||this.chart.themeStyle.axisLine,1,"",s));a.setAttribute("style","pointer-events: none"),lt(this.chart.enableCanvas,this.labelElement,a,this.chart.redraw,!0,"x","y",null,o)}triggerMultiLabelRender(e,t,i,s,r){const o={cancel:!1,name:_U,axis:e,text:t,textStyle:i,alignment:s,customAttributes:r};return this.chart.trigger(_U,o),o}MultiLevelLabelClick(e,t){const i=parseInt(e.substr(0,1),10),s=parseInt(e.substr(7),10),o=this.chart.axisCollections[t],a=o.multiLevelLabels[i].categories,u={axis:o,level:i,text:a[s].text,customAttributes:a[s].customAttributes,start:a[s].start,end:a[s].end,name:BU,cancel:!1};return this.chart.trigger(BU,u),u}click(e){let t=e.target.id;const i="_Axis_MultiLevelLabel_Level_";let s,r,o;if(this.chart.enableCanvas)for(let a=0;a<this.multiLevelLabelRectXRegion.length;a++)zs(e.x,e.y,this.multiLevelLabelRectXRegion[a],this.multiLevelLabelRectXRegion[a].width,this.multiLevelLabelRectXRegion[a].height)&&(t=this.xLabelCollection[a].id);t.indexOf(i)>-1&&(s=t.split(i)[1],r=t.split(i)[0],o=parseInt(r.charAt(r.length-1),10),this.MultiLevelLabelClick(s,o))}getModuleName(){return"MultiLevelLabel"}destroy(){}}},MEe={provide:"ChartsParetoSeries",useValue:class extends xc{constructor(){super(...arguments),this.paretoAxes=[]}initSeries(e,t){const i=new Ze(t,"series",e.properties,!0);i.name="Pareto",i.yAxisName=e.yAxisName+"_CumulativeAxis",i.category="Pareto",e.category="Pareto",i.type="Line",i.interior=t.themeStyle.errorBar,t.visibleSeries.push(i),this.initAxis(e,i,t)}initAxis(e,t,i){if(!this.paretoAxes.some(r=>r.name===t.yAxisName)){const r=e.yAxisName?i.axes.filter(a=>a.name===e.yAxisName)[0]:i.primaryYAxis,o=new ut(i,"axis",{name:t.yAxisName,majorGridLines:{width:0},majorTickLines:r.majorTickLines,lineStyle:r.lineStyle,minimum:0,maximum:100,rowIndex:r.rowIndex,opposedPosition:!0,labelFormat:"{value}%"});this.paretoAxes.push(o)}}render(e){e.chart.columnSeriesModule.render(e)}performCumulativeCalculation(e,t){const i=e;let s=0,r=0;const o=i.length;for(let a=0;a<o;a++)s+=i[a][t.yName];for(let a=0;a<o;a++)r+=i[a][t.yName],i[a][t.yName]=Math.round(r/s*100);return i}doAnimation(e){this.animate(e)}getModuleName(){return"ParetoSeries"}destroy(){}}},ZG={provide:"ChartsExport",useValue:class{constructor(e){this.chart=e}export(e,t,i,s,r,o,a,l,h){const c=new Kp(this.chart);s=s||[this.chart];const d={cancel:!1,name:VU,width:r,height:o};this.chart.trigger(VU,d),d.cancel||c.export(e,t,i,s,r=d.width,o=d.height,a,l,h)}getDataUrl(e){return new Kp(e).getDataUrl(e)}getModuleName(){return"Export"}destroy(){}}},kEe={provide:"ChartsDataEditing",useValue:class{constructor(e){this.isPointDragging=!1,this.chart=e}pointMouseDown(){const e=this.chart;let t;const i=new Iw(e),s=i.getData();s.point&&(i.insideRegion||!s.series.isRectSeries)&&(this.seriesIndex=s.series.index,this.pointIndex=s.point.index,t=e.series[this.seriesIndex],t.dragSettings.enable&&!e.zoomModule&&(e.trigger("dragStart",{series:s.series,seriesIndex:this.seriesIndex,pointIndex:this.pointIndex,point:s.point,oldValue:e.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue}),e.isPointMouseDown=!0,e.zoomSettings.enableDeferredZooming=!1))}pointMouseMove(e){const t=this.chart;let i;"touchmove"===e.type&&e.preventDefault&&e.preventDefault();const s=new Iw(t),r=s.getData();r.series.dragSettings.enable&&r.point&&(s.insideRegion||!r.series.isRectSeries)?this.getCursorStyle(r):t.svgObject.setAttribute("style","cursor: null"),t.isPointMouseDown&&(i=t.series[this.seriesIndex],i.type.indexOf("Spline")>-1&&t[Nn(i.type)+"SeriesModule"].findSplinePoint(i),this.pointDragging(this.seriesIndex,this.pointIndex))}getCursorStyle(e){const t=this.chart;t.svgObject.setAttribute("style","Bar"===e.series.type&&t.isTransposed?"cursor:ns-resize":t.isTransposed||"Bar"===e.series.type?"cursor:ew-resize":"cursor:ns-resize")}pointDragging(e,t){const i=this.chart,s=[];let r,o,a;const l=i.visibleSeries[e],h=l.dragSettings,d=l.yAxis,u=l.isRectSeries?1:0,p=function(n,e,t){let i,s,r,o;return t?(i=e.rect.x,s=n.rect.y,r=e.rect.width,o=n.rect.height):(i=n.rect.x,s=e.rect.y,r=n.rect.width,o=e.rect.height),new ce(i,s,r,o)}(l.xAxis,d,i.requireInvertedAxis);"Bar"===l.type?(r=i.isTransposed?p.y+p.height-i.mouseY:i.mouseX-p.x,o=i.isTransposed?p.height:p.width):(r=i.isTransposed?i.mouseX-p.x:p.y+p.height-i.mouseY,o=i.isTransposed?p.width:p.height),a=d.isInversed?1-r/o:r/o,a=a*d.visibleRange.delta+d.visibleRange.min;const m=null!==d.minimum?d.visibleRange.min+u:f(h.minY)?a:h.minY;if((null!==d.maximum?d.visibleRange.max+u:f(h.maxY)?a:h.maxY)>=a&&m<=a){l.points[t].yValue=l.points[t].y=i.dragY="Logarithmic"===d.valueType?Math.pow(d.logBase,a):parseFloat(a.toFixed(2)),l.points[t].interior=h.fill;for(let b=0;b<l.points.length;b++)s[b]=l.points[b].yValue;l.yMin=Math.min.apply(null,s),l.yMax=Math.max.apply(null,s),this.isPointDragging=!0,i.refreshBound(),i.trigger("drag",{seriesIndex:e,pointIndex:t,series:l,point:l.points[t],oldValue:i.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:l.points[t].yValue})}}pointMouseUp(){const e=this.chart;e.isPointMouseDown&&e.series[this.seriesIndex].dragSettings.enable&&(e.trigger("dragEnd",{series:e.series[this.seriesIndex],point:e.visibleSeries[this.seriesIndex].points[this.pointIndex],seriesIndex:this.seriesIndex,pointIndex:this.pointIndex,oldValue:e.visibleSeries[this.seriesIndex].yData[this.pointIndex],newValue:e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue}),e.visibleSeries[this.seriesIndex].points[this.pointIndex].y=e.visibleSeries[this.seriesIndex].points[this.pointIndex].yValue,e.isPointMouseDown=!1,this.isPointDragging=!1,this.seriesIndex=this.pointIndex=void 0)}getModuleName(){return"DataEditing"}destroy(){}}},AEe={provide:"ChartsHighlight",useValue:class extends aG{constructor(e){super(e),this.chart=e,this.renderer=e.renderer,this.wireEvents()}wireEvents(){this.chart.isDestroyed||this.chart.stockChart&&this.chart.stockChart.onPanning||this.chart.on(T.touchMoveEvent,this.mouseMove,this)}unWireEvents(){this.chart.isDestroyed||this.chart.off(T.touchMoveEvent,this.mouseMove)}declarePrivateVariables(e){this.styleId=e.element.id+"_ej2_chart_highlight",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.highlightDataIndexes=[],this.isSeriesMode="Series"===e.highlightMode}invokeHighlight(e){this.declarePrivateVariables(e),this.series=fe({},e.visibleSeries,null,!0),this.seriesStyles(),this.currentMode=e.highlightMode}getModuleName(){return"Highlight"}destroy(){this.unWireEvents()}}};let TEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[VG,HG,jG,zG,Bxe,Vxe,WG,Hxe,jxe,zxe,UG,Wxe,GG,Uxe,Gxe,Yxe,YG,qxe,$xe,Xxe,qG,Zxe,Kxe,Qxe,Jxe,eEe,tEe,iEe,sEe,nEe,rEe,oEe,aEe,lEe,$G,XG,hEe,cEe,dEe,uEe,pEe,fEe,mEe,gEe,yEe,bEe,vEe,CEe,wEe,SEe,_Ee,xEe,EEe,DEe,MEe,ZG,kEe,AEe],imports:[[Rs,Q2],Q2]}),n})(),IEe=["animation","border","dataLabel","dataSource","emptyPointSettings","enableTooltip","endAngle","explode","explodeAll","explodeIndex","explodeOffset","gapRatio","groupMode","groupTo","height","innerRadius","legendImageUrl","legendShape","name","neckHeight","neckWidth","opacity","palettes","pointColorMapping","pyramidMode","query","radius","selectionStyle","startAngle","tooltipMappingName","type","visible","width","xName","yName"],PEe=[],KG=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(PEe),this.directivePropList=IEe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-accumulation-series"]],contentQueries:function(t,i,s){if(1&t&&Se(s,IG,5),2&t){let r;de(r=ue())&&(i.dataLabel_template=r.first)}},inputs:{animation:"animation",border:"border",dataLabel:"dataLabel",dataSource:"dataSource",emptyPointSettings:"emptyPointSettings",enableTooltip:"enableTooltip",endAngle:"endAngle",explode:"explode",explodeAll:"explodeAll",explodeIndex:"explodeIndex",explodeOffset:"explodeOffset",gapRatio:"gapRatio",groupMode:"groupMode",groupTo:"groupTo",height:"height",innerRadius:"innerRadius",legendImageUrl:"legendImageUrl",legendShape:"legendShape",name:"name",neckHeight:"neckHeight",neckWidth:"neckWidth",opacity:"opacity",palettes:"palettes",pointColorMapping:"pointColorMapping",pyramidMode:"pyramidMode",query:"query",radius:"radius",selectionStyle:"selectionStyle",startAngle:"startAngle",tooltipMappingName:"tooltipMappingName",type:"type",visible:"visible",width:"width",xName:"xName",yName:"yName"},features:[oe]}),n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([ed(),function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],KG.prototype,"dataLabel_template",void 0);let OEe=(()=>{class n extends nn{constructor(){super("series")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-accumulation-series-collection"]],contentQueries:function(t,i,s){if(1&t&&Se(s,KG,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),BEe=["content","coordinateUnits","description","horizontalAlignment","region","verticalAlignment","x","y"],VEe=[],QG=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(VEe),this.directivePropList=BEe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-accumulation-annotation"]],contentQueries:function(t,i,s){if(1&t&&Se(s,K2,5),2&t){let r;de(r=ue())&&(i.content=r.first)}},inputs:{content:"content",coordinateUnits:"coordinateUnits",description:"description",horizontalAlignment:"horizontalAlignment",region:"region",verticalAlignment:"verticalAlignment",x:"x",y:"y"},features:[oe]}),n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([ed(),function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],QG.prototype,"content",void 0);let HEe=(()=>{class n extends nn{constructor(){super("annotations")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-accumulation-annotations"]],contentQueries:function(t,i,s){if(1&t&&Se(s,QG,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})();var JG=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},eY=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)};const jEe=["afterExport","animationComplete","annotationRender","beforePrint","beforeResize","chartMouseClick","chartMouseDown","chartMouseLeave","chartMouseMove","chartMouseUp","legendRender","load","loaded","pointClick","pointMove","pointRender","resized","seriesRender","textRender","tooltipRender","dataSourceChange"],zEe=["dataSource"];let J2=(()=>{let n=class extends Ut{constructor(t,i,s,r){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=s,this.injector=r,this.tags=["series","annotations"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let o=this.injector.get("ChartsPieSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsFunnelSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsPyramidSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsAccumulationTooltip");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsAccumulationLegend");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsAccumulationSelection");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsAccumulationDataLabel");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsAccumulationAnnotation");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsExport");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}this.registerEvents(jEe),this.addTwoWay.call(this,zEe),Hi("currentInstance",this,this.viewContainerRef),this.context=new Xn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childSeries,this.childAnnotations&&(this.tagObjects[1].instance=this.childAnnotations),this.context.ngAfterContentChecked(this)}};return n.\u0275fac=function(t){return new(t||n)(E(_e),E(ns),E(Ye),E(_t))},n.\u0275cmp=ct({type:n,selectors:[["ejs-accumulationchart"]],contentQueries:function(t,i,s){if(1&t&&(Se(s,Yw,5),Se(s,OEe,5),Se(s,HEe,5)),2&t){let r;de(r=ue())&&(i.tooltip_template=r.first),de(r=ue())&&(i.childSeries=r.first),de(r=ue())&&(i.childAnnotations=r.first)}},inputs:{allowExport:"allowExport",annotations:"annotations",background:"background",backgroundImage:"backgroundImage",border:"border",center:"center",currencyCode:"currencyCode",dataSource:"dataSource",enableAnimation:"enableAnimation",enableBorderOnMouseMove:"enableBorderOnMouseMove",enableExport:"enableExport",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableSmartLabels:"enableSmartLabels",height:"height",highLightMode:"highLightMode",highlightPattern:"highlightPattern",isMultiSelect:"isMultiSelect",legendSettings:"legendSettings",locale:"locale",margin:"margin",selectedDataIndexes:"selectedDataIndexes",selectionMode:"selectionMode",selectionPattern:"selectionPattern",series:"series",subTitle:"subTitle",subTitleStyle:"subTitleStyle",theme:"theme",title:"title",titleStyle:"titleStyle",tooltip:"tooltip",useGroupingSeparator:"useGroupingSeparator",width:"width"},outputs:{afterExport:"afterExport",animationComplete:"animationComplete",annotationRender:"annotationRender",beforePrint:"beforePrint",beforeResize:"beforeResize",chartMouseClick:"chartMouseClick",chartMouseDown:"chartMouseDown",chartMouseLeave:"chartMouseLeave",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",legendRender:"legendRender",load:"load",loaded:"loaded",pointClick:"pointClick",pointMove:"pointMove",pointRender:"pointRender",resized:"resized",seriesRender:"seriesRender",textRender:"textRender",tooltipRender:"tooltipRender",dataSourceChange:"dataSourceChange"},features:[oe],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();JG([ed(),eY("design:type",Object)],J2.prototype,"tooltip_template",void 0),J2=JG([ah([Xn]),eY("design:paramtypes",[_e,ns,Ye,_t])],J2);let KEe=["animation","border","dashArray","dataSource","fill","opacity","query","type","width","xName","yName"],QEe=[],JEe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(QEe),this.directivePropList=KEe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-rangenavigator-series"]],inputs:{animation:"animation",border:"border",dashArray:"dashArray",dataSource:"dataSource",fill:"fill",opacity:"opacity",query:"query",type:"type",width:"width",xName:"xName",yName:"yName"},features:[oe]}),n})(),e1e=(()=>{class n extends nn{constructor(){super("series")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-rangenavigator-series-collection"]],contentQueries:function(t,i,s){if(1&t&&Se(s,JEe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})();var iY=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},sY=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)};const t1e=["beforePrint","changed","labelRender","load","loaded","resized","selectorRender","tooltipRender","dataSourceChange"],i1e=["dataSource"];let eO=(()=>{let n=class extends Gt{constructor(t,i,s,r){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=s,this.injector=r,this.tags=["series"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let o=this.injector.get("ChartsRangeTooltip");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsPeriodSelector");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsAreaSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStepLineSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsDateTime");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsLogarithmic");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsExport");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}this.registerEvents(t1e),this.addTwoWay.call(this,i1e),Hi("currentInstance",this,this.viewContainerRef),this.context=new Xn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childSeries,this.context.ngAfterContentChecked(this)}};return n.\u0275fac=function(t){return new(t||n)(E(_e),E(ns),E(Ye),E(_t))},n.\u0275cmp=ct({type:n,selectors:[["ejs-rangenavigator"]],contentQueries:function(t,i,s){if(1&t&&(Se(s,Yw,5),Se(s,e1e,5)),2&t){let r;de(r=ue())&&(i.tooltip_template=r.first),de(r=ue())&&(i.childSeries=r.first)}},inputs:{allowIntervalData:"allowIntervalData",allowSnapping:"allowSnapping",animationDuration:"animationDuration",background:"background",dataSource:"dataSource",disableRangeSelector:"disableRangeSelector",enableDeferredUpdate:"enableDeferredUpdate",enableGrouping:"enableGrouping",enablePersistence:"enablePersistence",enableRtl:"enableRtl",groupBy:"groupBy",height:"height",interval:"interval",intervalType:"intervalType",labelFormat:"labelFormat",labelIntersectAction:"labelIntersectAction",labelPosition:"labelPosition",labelStyle:"labelStyle",locale:"locale",logBase:"logBase",majorGridLines:"majorGridLines",majorTickLines:"majorTickLines",margin:"margin",maximum:"maximum",minimum:"minimum",navigatorBorder:"navigatorBorder",navigatorStyleSettings:"navigatorStyleSettings",periodSelectorSettings:"periodSelectorSettings",query:"query",secondaryLabelAlignment:"secondaryLabelAlignment",series:"series",skeleton:"skeleton",skeletonType:"skeletonType",theme:"theme",tickPosition:"tickPosition",tooltip:"tooltip",useGroupingSeparator:"useGroupingSeparator",value:"value",valueType:"valueType",width:"width",xName:"xName",yName:"yName"},outputs:{beforePrint:"beforePrint",changed:"changed",labelRender:"labelRender",load:"load",loaded:"loaded",resized:"resized",selectorRender:"selectorRender",tooltipRender:"tooltipRender",dataSourceChange:"dataSourceChange"},features:[oe],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();iY([ed(),sY("design:type",Object)],eO.prototype,"tooltip_template",void 0),eO=iY([ah([Xn]),sY("design:paramtypes",[_e,ns,Ye,_t])],eO);let r1e=["color","endRange","opacity","startRange"],o1e=[],a1e=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(o1e),this.directivePropList=r1e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-rangeBandSetting"]],inputs:{color:"color",endRange:"endRange",opacity:"opacity",startRange:"startRange"},features:[oe]}),n})(),l1e=(()=>{class n extends nn{constructor(){super("rangebandsettings")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-rangeBandSettings"]],contentQueries:function(t,i,s){if(1&t&&Se(s,a1e,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})();const d1e=["axisRendering","dataLabelRendering","load","loaded","markerRendering","pointRegionMouseClick","pointRegionMouseMove","pointRendering","resize","seriesRendering","sparklineMouseClick","sparklineMouseMove","tooltipInitialize"],u1e=[""];let rY=(()=>{let n=class extends bi{constructor(t,i,s,r){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=s,this.injector=r,this.tags=["rangeBandSettings"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let o=this.injector.get("ChartsSparklineTooltip");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}this.registerEvents(d1e),this.addTwoWay.call(this,u1e),Hi("currentInstance",this,this.viewContainerRef),this.context=new Xn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childRangeBandSettings,this.context.ngAfterContentChecked(this)}};return n.\u0275fac=function(t){return new(t||n)(E(_e),E(ns),E(Ye),E(_t))},n.\u0275cmp=ct({type:n,selectors:[["ejs-sparkline"]],contentQueries:function(t,i,s){if(1&t&&Se(s,l1e,5),2&t){let r;de(r=ue())&&(i.childRangeBandSettings=r.first)}},inputs:{axisSettings:"axisSettings",border:"border",containerArea:"containerArea",dataLabelSettings:"dataLabelSettings",dataSource:"dataSource",enablePersistence:"enablePersistence",enableRtl:"enableRtl",endPointColor:"endPointColor",fill:"fill",format:"format",height:"height",highPointColor:"highPointColor",lineWidth:"lineWidth",locale:"locale",lowPointColor:"lowPointColor",markerSettings:"markerSettings",negativePointColor:"negativePointColor",opacity:"opacity",padding:"padding",palette:"palette",query:"query",rangeBandSettings:"rangeBandSettings",rangePadding:"rangePadding",startPointColor:"startPointColor",theme:"theme",tiePointColor:"tiePointColor",tooltipSettings:"tooltipSettings",type:"type",useGroupingSeparator:"useGroupingSeparator",valueType:"valueType",width:"width",xName:"xName",yName:"yName"},outputs:{axisRendering:"axisRendering",dataLabelRendering:"dataLabelRendering",load:"load",loaded:"loaded",markerRendering:"markerRendering",pointRegionMouseClick:"pointRegionMouseClick",pointRegionMouseMove:"pointRegionMouseMove",pointRendering:"pointRendering",resize:"resize",seriesRendering:"seriesRendering",sparklineMouseClick:"sparklineMouseClick",sparklineMouseMove:"sparklineMouseMove",tooltipInitialize:"tooltipInitialize"},features:[oe],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();rY=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([ah([Xn]),function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[_e,ns,Ye,_t])],rY);let f1e=["animationDuration","dataSource","enableAnimation","enableSmartLabels","fill","marker","name","opacity","points","reactance","resistance","tooltip","tooltipMappingName","visibility","width"],m1e=[],g1e=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(m1e),this.directivePropList=f1e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-series"]],inputs:{animationDuration:"animationDuration",dataSource:"dataSource",enableAnimation:"enableAnimation",enableSmartLabels:"enableSmartLabels",fill:"fill",marker:"marker",name:"name",opacity:"opacity",points:"points",reactance:"reactance",resistance:"resistance",tooltip:"tooltip",tooltipMappingName:"tooltipMappingName",visibility:"visibility",width:"width"},features:[oe]}),n})(),y1e=(()=>{class n extends nn{constructor(){super("series")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-seriesCollection"]],contentQueries:function(t,i,s){if(1&t&&Se(s,g1e,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})();const C1e=["animationComplete","axisLabelRender","beforePrint","legendRender","load","loaded","seriesRender","subtitleRender","textRender","titleRender","tooltipRender"],w1e=[""];let aY=(()=>{let n=class extends fn{constructor(t,i,s,r){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=s,this.injector=r,this.tags=["series"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let o=this.injector.get("ChartsSmithchartLegend");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsTooltipRender");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}this.registerEvents(C1e),this.addTwoWay.call(this,w1e),Hi("currentInstance",this,this.viewContainerRef),this.context=new Xn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childSeries,this.context.ngAfterContentChecked(this)}};return n.\u0275fac=function(t){return new(t||n)(E(_e),E(ns),E(Ye),E(_t))},n.\u0275cmp=ct({type:n,selectors:[["ejs-smithchart"]],contentQueries:function(t,i,s){if(1&t&&Se(s,y1e,5),2&t){let r;de(r=ue())&&(i.childSeries=r.first)}},inputs:{background:"background",border:"border",elementSpacing:"elementSpacing",enablePersistence:"enablePersistence",enableRtl:"enableRtl",font:"font",height:"height",horizontalAxis:"horizontalAxis",legendSettings:"legendSettings",locale:"locale",margin:"margin",radialAxis:"radialAxis",radius:"radius",renderType:"renderType",series:"series",theme:"theme",title:"title",width:"width"},outputs:{animationComplete:"animationComplete",axisLabelRender:"axisLabelRender",beforePrint:"beforePrint",legendRender:"legendRender",load:"load",loaded:"loaded",seriesRender:"seriesRender",subtitleRender:"subtitleRender",textRender:"textRender",titleRender:"titleRender",tooltipRender:"tooltipRender"},features:[oe],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();aY=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([ah([Xn]),function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[_e,ns,Ye,_t])],aY);let x1e=["animation","backwardForecast","dashArray","enableTooltip","fill","forwardForecast","intercept","legendShape","marker","name","period","polynomialOrder","type","visible","width"],E1e=[],D1e=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(E1e),this.directivePropList=x1e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-trendline"]],inputs:{animation:"animation",backwardForecast:"backwardForecast",dashArray:"dashArray",enableTooltip:"enableTooltip",fill:"fill",forwardForecast:"forwardForecast",intercept:"intercept",legendShape:"legendShape",marker:"marker",name:"name",period:"period",polynomialOrder:"polynomialOrder",type:"type",visible:"visible",width:"width"},features:[oe]}),n})(),M1e=(()=>{class n extends nn{constructor(){super("trendlines")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-trendlines"]],contentQueries:function(t,i,s){if(1&t&&Se(s,D1e,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),k1e=["animation","bearFillColor","border","bullFillColor","cardinalSplineTension","close","columnSpacing","columnWidth","cornerRadius","dashArray","dataSource","emptyPointSettings","enableSolidCandles","enableTooltip","fill","high","legendImageUrl","legendShape","low","marker","name","opacity","open","pointColorMapping","query","selectionStyle","tooltipMappingName","trendlines","type","visible","volume","width","xAxisName","xName","yAxisName","yName"],A1e=[],T1e=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,this.tags=["trendlines"],Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(A1e),this.directivePropList=k1e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-series"]],contentQueries:function(t,i,s){if(1&t&&Se(s,M1e,5),2&t){let r;de(r=ue())&&(i.childTrendlines=r.first)}},inputs:{animation:"animation",bearFillColor:"bearFillColor",border:"border",bullFillColor:"bullFillColor",cardinalSplineTension:"cardinalSplineTension",close:"close",columnSpacing:"columnSpacing",columnWidth:"columnWidth",cornerRadius:"cornerRadius",dashArray:"dashArray",dataSource:"dataSource",emptyPointSettings:"emptyPointSettings",enableSolidCandles:"enableSolidCandles",enableTooltip:"enableTooltip",fill:"fill",high:"high",legendImageUrl:"legendImageUrl",legendShape:"legendShape",low:"low",marker:"marker",name:"name",opacity:"opacity",open:"open",pointColorMapping:"pointColorMapping",query:"query",selectionStyle:"selectionStyle",tooltipMappingName:"tooltipMappingName",trendlines:"trendlines",type:"type",visible:"visible",volume:"volume",width:"width",xAxisName:"xAxisName",xName:"xName",yAxisName:"yAxisName",yName:"yName"},features:[oe]}),n})(),L1e=(()=>{class n extends nn{constructor(){super("series")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-series-collection"]],contentQueries:function(t,i,s){if(1&t&&Se(s,T1e,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),R1e=["coefficient","crossesAt","crossesInAxis","crosshairTooltip","description","desiredIntervals","edgeLabelPlacement","enableAutoIntervalOnZooming","enableTrim","interval","intervalType","isInversed","labelFormat","labelIntersectAction","labelPlacement","labelPosition","labelRotation","labelStyle","lineStyle","logBase","majorGridLines","majorTickLines","maximum","maximumLabelWidth","maximumLabels","minimum","minorGridLines","minorTickLines","minorTicksPerInterval","name","opposedPosition","placeNextToAxisLine","plotOffset","rangePadding","rowIndex","skeleton","skeletonType","span","startAngle","stripLines","tabIndex","tickPosition","title","titleStyle","valueType","visible","zoomFactor","zoomPosition"],I1e=[],P1e=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(I1e),this.directivePropList=R1e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-axis"]],inputs:{coefficient:"coefficient",crossesAt:"crossesAt",crossesInAxis:"crossesInAxis",crosshairTooltip:"crosshairTooltip",description:"description",desiredIntervals:"desiredIntervals",edgeLabelPlacement:"edgeLabelPlacement",enableAutoIntervalOnZooming:"enableAutoIntervalOnZooming",enableTrim:"enableTrim",interval:"interval",intervalType:"intervalType",isInversed:"isInversed",labelFormat:"labelFormat",labelIntersectAction:"labelIntersectAction",labelPlacement:"labelPlacement",labelPosition:"labelPosition",labelRotation:"labelRotation",labelStyle:"labelStyle",lineStyle:"lineStyle",logBase:"logBase",majorGridLines:"majorGridLines",majorTickLines:"majorTickLines",maximum:"maximum",maximumLabelWidth:"maximumLabelWidth",maximumLabels:"maximumLabels",minimum:"minimum",minorGridLines:"minorGridLines",minorTickLines:"minorTickLines",minorTicksPerInterval:"minorTicksPerInterval",name:"name",opposedPosition:"opposedPosition",placeNextToAxisLine:"placeNextToAxisLine",plotOffset:"plotOffset",rangePadding:"rangePadding",rowIndex:"rowIndex",skeleton:"skeleton",skeletonType:"skeletonType",span:"span",startAngle:"startAngle",stripLines:"stripLines",tabIndex:"tabIndex",tickPosition:"tickPosition",title:"title",titleStyle:"titleStyle",valueType:"valueType",visible:"visible",zoomFactor:"zoomFactor",zoomPosition:"zoomPosition"},features:[oe]}),n})(),O1e=(()=>{class n extends nn{constructor(){super("axes")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-axes"]],contentQueries:function(t,i,s){if(1&t&&Se(s,P1e,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),F1e=["border","height"],N1e=[],B1e=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(N1e),this.directivePropList=F1e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-row"]],inputs:{border:"border",height:"height"},features:[oe]}),n})(),V1e=(()=>{class n extends nn{constructor(){super("rows")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-rows"]],contentQueries:function(t,i,s){if(1&t&&Se(s,B1e,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),z1e=["content","coordinateUnits","description","horizontalAlignment","region","verticalAlignment","x","xAxisName","y","yAxisName"],W1e=[],hY=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(W1e),this.directivePropList=z1e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-annotation"]],contentQueries:function(t,i,s){if(1&t&&Se(s,K2,5),2&t){let r;de(r=ue())&&(i.content=r.first)}},inputs:{content:"content",coordinateUnits:"coordinateUnits",description:"description",horizontalAlignment:"horizontalAlignment",region:"region",verticalAlignment:"verticalAlignment",x:"x",xAxisName:"xAxisName",y:"y",yAxisName:"yAxisName"},features:[oe]}),n})();!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([ed(),function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],hY.prototype,"content",void 0);let U1e=(()=>{class n extends nn{constructor(){super("annotations")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-annotations"]],contentQueries:function(t,i,s){if(1&t&&Se(s,hY,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),G1e=["point","series"],Y1e=[],q1e=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(Y1e),this.directivePropList=G1e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-selectedDataIndex"]],inputs:{point:"point",series:"series"},features:[oe]}),n})(),$1e=(()=>{class n extends nn{constructor(){super("selecteddataindexes")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-selectedDataIndexes"]],contentQueries:function(t,i,s){if(1&t&&Se(s,q1e,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),X1e=["interval","intervalType","selected","text"],Z1e=[],K1e=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(Z1e),this.directivePropList=X1e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-period"]],inputs:{interval:"interval",intervalType:"intervalType",selected:"selected",text:"text"},features:[oe]}),n})(),Q1e=(()=>{class n extends nn{constructor(){super("periods")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-periods"]],contentQueries:function(t,i,s){if(1&t&&Se(s,K1e,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),J1e=["background","border","date","description","placeAt","seriesIndexes","showOnSeries","text","textStyle","type"],eDe=[],tDe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(eDe),this.directivePropList=J1e}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-stockevent"]],inputs:{background:"background",border:"border",date:"date",description:"description",placeAt:"placeAt",seriesIndexes:"seriesIndexes",showOnSeries:"showOnSeries",text:"text",textStyle:"textStyle",type:"type"},features:[oe]}),n})(),iDe=(()=>{class n extends nn{constructor(){super("stockevents")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-stockevents"]],contentQueries:function(t,i,s){if(1&t&&Se(s,tDe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})(),sDe=["animation","bandColor","close","dPeriod","dashArray","dataSource","fastPeriod","field","fill","high","kPeriod","low","lowerLine","macdLine","macdNegativeColor","macdPositiveColor","macdType","open","overBought","overSold","period","periodLine","pointColorMapping","query","seriesName","showZones","slowPeriod","standardDeviation","type","upperLine","volume","width","xAxisName","xName","yAxisName"],nDe=[],rDe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(nDe),this.directivePropList=sDe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-indicator"]],inputs:{animation:"animation",bandColor:"bandColor",close:"close",dPeriod:"dPeriod",dashArray:"dashArray",dataSource:"dataSource",fastPeriod:"fastPeriod",field:"field",fill:"fill",high:"high",kPeriod:"kPeriod",low:"low",lowerLine:"lowerLine",macdLine:"macdLine",macdNegativeColor:"macdNegativeColor",macdPositiveColor:"macdPositiveColor",macdType:"macdType",open:"open",overBought:"overBought",overSold:"overSold",period:"period",periodLine:"periodLine",pointColorMapping:"pointColorMapping",query:"query",seriesName:"seriesName",showZones:"showZones",slowPeriod:"slowPeriod",standardDeviation:"standardDeviation",type:"type",upperLine:"upperLine",volume:"volume",width:"width",xAxisName:"xAxisName",xName:"xName",yAxisName:"yAxisName"},features:[oe]}),n})(),oDe=(()=>{class n extends nn{constructor(){super("indicators")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-stockchart-indicators"]],contentQueries:function(t,i,s){if(1&t&&Se(s,rDe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})();var cY=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},dY=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)};const aDe=["axisLabelRender","legendClick","legendRender","load","loaded","onZooming","pointClick","pointMove","rangeChange","selectorRender","seriesRender","stockChartMouseClick","stockChartMouseDown","stockChartMouseLeave","stockChartMouseMove","stockChartMouseUp","stockEventRender","tooltipRender","dataSourceChange"],lDe=["dataSource"];let tO=(()=>{let n=class extends Ft{constructor(t,i,s,r){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=s,this.injector=r,this.tags=["series","axes","rows","annotations","selectedDataIndexes","periods","stockEvents","indicators"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let o=this.injector.get("ChartsLineSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsColumnSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsSplineSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsSplineAreaSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStripLine");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsAreaSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsRangeAreaSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsTooltip");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsCrosshair");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsDateTime");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsZoom");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsDataLabel");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsSelection");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsChartAnnotation");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsHiloSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsHiloOpenCloseSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsCandleSeries");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsSmaIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsTmaIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsEmaIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsAccumulationDistributionIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsMacdIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsAtrIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsRsiIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsMomentumIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStochasticIndicator");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsBollingerBands");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsTrendlines");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsRangeTooltip");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsExport");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsStockLegend");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}this.registerEvents(aDe),this.addTwoWay.call(this,lDe),Hi("currentInstance",this,this.viewContainerRef),this.context=new Xn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childSeries,this.childAxes&&(this.tagObjects[1].instance=this.childAxes),this.childRows&&(this.tagObjects[2].instance=this.childRows),this.childAnnotations&&(this.tagObjects[3].instance=this.childAnnotations),this.childSelectedDataIndexes&&(this.tagObjects[4].instance=this.childSelectedDataIndexes),this.childPeriods&&(this.tagObjects[5].instance=this.childPeriods),this.childStockEvents&&(this.tagObjects[6].instance=this.childStockEvents),this.childIndicators&&(this.tagObjects[7].instance=this.childIndicators),this.context.ngAfterContentChecked(this)}};return n.\u0275fac=function(t){return new(t||n)(E(_e),E(ns),E(Ye),E(_t))},n.\u0275cmp=ct({type:n,selectors:[["ejs-stockchart"]],contentQueries:function(t,i,s){if(1&t&&(Se(s,Yw,5),Se(s,L1e,5),Se(s,O1e,5),Se(s,V1e,5),Se(s,U1e,5),Se(s,$1e,5),Se(s,Q1e,5),Se(s,iDe,5),Se(s,oDe,5)),2&t){let r;de(r=ue())&&(i.tooltip_template=r.first),de(r=ue())&&(i.childSeries=r.first),de(r=ue())&&(i.childAxes=r.first),de(r=ue())&&(i.childRows=r.first),de(r=ue())&&(i.childAnnotations=r.first),de(r=ue())&&(i.childSelectedDataIndexes=r.first),de(r=ue())&&(i.childPeriods=r.first),de(r=ue())&&(i.childStockEvents=r.first),de(r=ue())&&(i.childIndicators=r.first)}},inputs:{annotations:"annotations",axes:"axes",background:"background",border:"border",chartArea:"chartArea",crosshair:"crosshair",dataSource:"dataSource",enableCustomRange:"enableCustomRange",enablePeriodSelector:"enablePeriodSelector",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enableSelector:"enableSelector",exportType:"exportType",height:"height",indicatorType:"indicatorType",indicators:"indicators",isMultiSelect:"isMultiSelect",isSelect:"isSelect",isTransposed:"isTransposed",legendSettings:"legendSettings",locale:"locale",margin:"margin",periods:"periods",primaryXAxis:"primaryXAxis",primaryYAxis:"primaryYAxis",rows:"rows",selectedDataIndexes:"selectedDataIndexes",selectionMode:"selectionMode",series:"series",seriesType:"seriesType",stockEvents:"stockEvents",theme:"theme",title:"title",titleStyle:"titleStyle",tooltip:"tooltip",trendlineType:"trendlineType",width:"width",zoomSettings:"zoomSettings"},outputs:{axisLabelRender:"axisLabelRender",legendClick:"legendClick",legendRender:"legendRender",load:"load",loaded:"loaded",onZooming:"onZooming",pointClick:"pointClick",pointMove:"pointMove",rangeChange:"rangeChange",selectorRender:"selectorRender",seriesRender:"seriesRender",stockChartMouseClick:"stockChartMouseClick",stockChartMouseDown:"stockChartMouseDown",stockChartMouseLeave:"stockChartMouseLeave",stockChartMouseMove:"stockChartMouseMove",stockChartMouseUp:"stockChartMouseUp",stockEventRender:"stockEventRender",tooltipRender:"tooltipRender",dataSourceChange:"dataSourceChange"},features:[oe],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();cY([ed(),dY("design:type",Object)],tO.prototype,"tooltip_template",void 0),tO=cY([ah([Xn]),dY("design:paramtypes",[_e,ns,Ye,_t])],tO);let cDe=["color","end","index","legendImageUrl","name","opacity","shape"],dDe=[],uDe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(dDe),this.directivePropList=cDe}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-bullet-range"]],inputs:{color:"color",end:"end",index:"index",legendImageUrl:"legendImageUrl",name:"name",opacity:"opacity",shape:"shape"},features:[oe]}),n})(),pDe=(()=>{class n extends nn{constructor(){super("ranges")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-bullet-range-collection"]],contentQueries:function(t,i,s){if(1&t&&Se(s,uDe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})();var pY=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},fY=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)};const fDe=["beforePrint","bulletChartMouseClick","legendRender","load","loaded","tooltipRender","dataSourceChange"],mDe=["dataSource"];let iO=(()=>{let n=class extends Zt{constructor(t,i,s,r){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=s,this.injector=r,this.tags=["ranges"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let o=this.injector.get("ChartsBulletTooltip");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}try{let o=this.injector.get("ChartsBulletChartLegend");-1===this.injectedModules.indexOf(o)&&this.injectedModules.push(o)}catch(o){}this.registerEvents(fDe),this.addTwoWay.call(this,mDe),Hi("currentInstance",this,this.viewContainerRef),this.context=new Xn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childRanges,this.context.ngAfterContentChecked(this)}};return n.\u0275fac=function(t){return new(t||n)(E(_e),E(ns),E(Ye),E(_t))},n.\u0275cmp=ct({type:n,selectors:[["ejs-bulletchart"]],contentQueries:function(t,i,s){if(1&t&&(Se(s,Yw,5),Se(s,pDe,5)),2&t){let r;de(r=ue())&&(i.tooltip_template=r.first),de(r=ue())&&(i.childRanges=r.first)}},inputs:{animation:"animation",border:"border",categoryField:"categoryField",categoryLabelStyle:"categoryLabelStyle",dataLabel:"dataLabel",dataSource:"dataSource",enableGroupSeparator:"enableGroupSeparator",enablePersistence:"enablePersistence",enableRtl:"enableRtl",height:"height",interval:"interval",labelFormat:"labelFormat",labelPosition:"labelPosition",labelStyle:"labelStyle",legendSettings:"legendSettings",locale:"locale",majorTickLines:"majorTickLines",margin:"margin",maximum:"maximum",minimum:"minimum",minorTickLines:"minorTickLines",minorTicksPerInterval:"minorTicksPerInterval",opposedPosition:"opposedPosition",orientation:"orientation",query:"query",ranges:"ranges",subtitle:"subtitle",subtitleStyle:"subtitleStyle",tabIndex:"tabIndex",targetColor:"targetColor",targetField:"targetField",targetTypes:"targetTypes",targetWidth:"targetWidth",theme:"theme",tickPosition:"tickPosition",title:"title",titlePosition:"titlePosition",titleStyle:"titleStyle",tooltip:"tooltip",type:"type",valueBorder:"valueBorder",valueField:"valueField",valueFill:"valueFill",valueHeight:"valueHeight",width:"width"},outputs:{beforePrint:"beforePrint",bulletChartMouseClick:"bulletChartMouseClick",legendRender:"legendRender",load:"load",loaded:"loaded",tooltipRender:"tooltipRender",dataSourceChange:"dataSourceChange"},features:[oe],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();pY([ed(),fY("design:type",Object)],iO.prototype,"tooltip_template",void 0),iO=pY([ah([Xn]),fY("design:paramtypes",[_e,ns,Ye,_t])],iO);const qw="ej2_instances";let bDe=0;function vD(n,e){const t=e;return t.unshift(void 0),new(Function.prototype.bind.apply(n,t))}function Ke(n,e){let t=e;const i=n.replace(/\[/g,".").replace(/\]/g,"").split(".");for(let s=0;s<i.length&&!ni(t);s++)t=t[i[s]];return t}function Dd(n,e,t){const i=n.replace(/\[/g,".").replace(/\]/g,"").split("."),s=t||{};let o,r=s;const a=i.length;let l;for(o=0;o<a;o++)l=i[o],o+1===a?r[l]=void 0===e?{}:e:pt(r[l])&&(r[l]={}),r=r[l];return s}function gY(n,e){delete n[e]}function Iu(n){return!pt(n)&&n.constructor==={}.constructor}function jb(n,e){if(!pt(e)){const t=n,i=e,s=Object.keys(e),r="deepMerge";for(const o of s)pt(t[r])||-1===t[r].indexOf(o)||!Iu(i[o])&&!Array.isArray(i[o])?t[o]=i[o]:As(t[o],t[o],i[o],!0)}}function As(n,e,t,i){const s=n&&"object"==typeof n?n:{};let r=arguments.length;i&&(r-=1);for(let o=1;o<r;o++){if(!arguments[o])continue;let a=arguments[o];Object.keys(a).forEach(l=>{const h=s[l],c=a[l];let d;const u=Array.isArray(c)&&Array.isArray(h)&&c.length!==h.length,p=!Mt()||!(h instanceof Event||u);i&&p&&(Iu(c)||Array.isArray(c))?Iu(c)?(d=h||{},Array.isArray(d)&&d.hasOwnProperty("isComplexArray")?As(d,{},c,i):s[l]=As(d,{},c,i)):(d=Mt()?h&&Object.keys(c).length:h||[],s[l]=As([],d,c,i)):s[l]=c})}return s}function pt(n){return null==n}function ni(n){return void 0===n}function nO(n){return n+"_"+bDe++}function rO(n,e){return n===e||!(n===document||!n)&&rO(n.parentNode,e)}function $w(n){try{throw new Error(n)}catch(e){throw e.message+"\n"+e.stack}}function Mt(){return false}function wDe(n,e){let t="string"==typeof n?document.querySelector(n):n;if(t[qw])for(const i of t[qw])if(i instanceof e)return i;return null}const xDe={latn:{_digits:"0123456789",_type:"numeric"}},yY={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},bY=[0,1,2,3,4,5,6,7,8,9];let qn=(()=>{class n{static getMainObject(t,i){return Ke("main."+i,t)}static getNumberingSystem(t){return Ke("supplemental.numberingSystems",t)||this.numberingSystems}static reverseObject(t,i){const s=i||Object.keys(t),r={};for(const o of s)r.hasOwnProperty(t[o])||(r[t[o]]=o);return r}static getSymbolRegex(t){const i=t.map(s=>s.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")).join("|");return new RegExp(i,"g")}static getSymbolMatch(t){const i=Object.keys(yY),s={};for(const r of i)s[t[r]]=yY[r];return s}static constructRegex(t){const i=t.length;let s="";for(let r=0;r<i;r++)s+=r!==i-1?t[r]+"|":t[r];return s}static convertValueParts(t,i,s){return t.replace(i,r=>s[r])}static getDefaultNumberingSystem(t){const i={};return i.obj=Ke("numbers",t),i.nSystem=Ke("defaultNumberingSystem",i.obj),i}static getCurrentNumericOptions(t,i,s,r){const o={},a=this.getDefaultNumberingSystem(t);if(!ni(a.nSystem)||r){const l=r?Ke("obj.mapperDigits",a):Ke(a.nSystem+"._digits",i);ni(l)||(o.numericPair=this.reverseObject(l,bY),o.numberParseRegex=new RegExp(this.constructRegex(l),"g"),o.numericRegex="["+l[0]+"-"+l[9]+"]",s&&(o.numericRegex=l[0]+"-"+l[9],o.symbolNumberSystem=Ke(r?"numberSymbols":"symbols-numberSystem-"+a.nSystem,a.obj),o.symbolMatch=this.getSymbolMatch(o.symbolNumberSystem),o.numberSystem=a.nSystem))}return o}static getNumberMapper(t,i,s){const r={mapper:{}},o=this.getDefaultNumberingSystem(t);if(!ni(o.nSystem)){r.numberSystem=o.nSystem,r.numberSymbols=Ke("symbols-numberSystem-"+o.nSystem,o.obj),r.timeSeparator=Ke("timeSeparator",r.numberSymbols);const a=Ke(o.nSystem+"._digits",i);if(!ni(a))for(const l of bY)r.mapper[l]=a[l]}return r}}return n.nPair="numericPair",n.nRegex="numericRegex",n.numberingSystems=xDe,n})();const EDe={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20b5",XDR:"XDR",AED:"\u062f.\u0625.\u200f",BHD:"\u062f.\u0628.\u200f",DZD:"\u062f.\u062c.\u200f",EGP:"\u062c.\u0645.\u200f",ILS:"\u20aa",IQD:"\u062f.\u0639.\u200f",JOD:"\u062f.\u0627.\u200f",KMF:"CF",KWD:"\u062f.\u0643.\u200f",LBP:"\u0644.\u0644.\u200f",LYD:"\u062f.\u0644.\u200f",MAD:"\u062f.\u0645.\u200f",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.\u200f",QAR:"\u0631.\u0642.\u200f",SAR:"\u0631.\u0633.\u200f",SDG:"\u062c.\u0633.",SOS:"S",SSP:"\xa3",SYP:"\u0644.\u0633.\u200f",TND:"\u062f.\u062a.\u200f",YER:"\u0631.\u064a.\u200f",CLP:"$",INR:"\u20b9",TZS:"TSh",EUR:"\u20ac",AZN:"\u20bc",RUB:"\u20bd",BYN:"Br",ZMW:"K",BGN:"\u043b\u0432.",NGN:"\u20a6",XOF:"CFA",BDT:"\u09f3",CNY:"\xa5",BAM:"\u041a\u041c",UGX:"USh",USD:"$",CZK:"K\u010d",GBP:"\xa3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xa3",GIP:"\xa3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20b1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xa3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20a1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20b2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064a\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058f",ISK:"kr",JPY:"\xa5",GEL:"\u20be",CVE:"\u200b",KZT:"\u20b8",KHR:"\u17db",KPW:"\u20a9",KRW:"\u20a9",KGS:"\u0441\u043e\u043c",AOA:"Kz",LAK:"\u20ad",MZN:"MTn",MKD:"\u0434\u0435\u043d",MNT:"\u20ae",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060b",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20b4",LKR:"\u0dbb\u0dd4.",ALL:"Lek\xeb",RSD:"\u0434\u0438\u043d.",TJS:"\u0441\u043c\u043d",THB:"\u0e3f",TMT:"m.",TRY:"\u20ba",UZS:"\u0441\u045e\u043c",VND:"\u20ab",TWD:"NT$"};var Xw;!function(n){const e=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];n.getHijriDate=function(s){let r=s.getDate(),o=s.getMonth(),a=s.getFullYear(),l=o+1,h=a;l<3&&(h-=1,l+=12);let c=Math.floor(h/100),d=c-Math.floor(c/4)-2;const u=Math.floor(365.25*(h+4716))+Math.floor(30.6001*(l+1))+r-d-1524;c=Math.floor((u-1867216.25)/36524.25),d=c-Math.floor(c/4)+1;const p=u+d+1524;let m=Math.floor((p-122.1)/365.25);const y=Math.floor(365.25*m),b=Math.floor((p-y)/30.6001);r=p-y-Math.floor(30.6001*b),o=Math.floor((p-y)/20.6001),o>13&&(m+=1,o-=12),o-=1,a=m-4716;const v=u-24e5,C=10631/30;let w=u-1948084;const _=Math.floor(w/10631);w-=10631*_;const k=Math.floor((w-.1335)/C),D=30*_+k;w-=Math.floor(k*C+.1335);let I=Math.floor((w+28.5001)/29.5);13===I&&(I=12);const O=w-Math.floor(29.5001*I-29);let N=0;for(;N<e.length&&!(e[N]>v);N++);const X=N+16260,H=Math.floor((X-1)/12);let q=H+1,G=X-12*H,A=v-e[N-1]+1;return(A+"").length>2&&(A=O,G=I,q=D),{year:q,month:G,date:A}},n.toGregorian=function(s,r,o){const y=Math.floor(o+e[12*(s-1)+1+(r-1)-16260-1]-1+24e5+.5);let b=Math.floor((y-1867216.25)/36524.25);b=y+1+b-Math.floor(b/4);const v=b+1524,C=Math.floor((v-122.1)/365.25),w=Math.floor(365.25*C),_=Math.floor((v-w)/30.6001),k=v-w-Math.floor(30.6001*_);let D=_-(_>13.5?13:1);const I=C-(D>2.5?4716:4715);return I<=0&&D--,new Date(I+"/"+D+"/"+k)}}(Xw||(Xw={}));const MDe=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,vY="stand-alone",kDe=["sun","mon","tue","wed","thu","fri","sat"],CY={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"};const SY={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},zb=["infinity","nan","group","decimal","exponential"];class Zw{constructor(e){this.ranArray=[],this.boundedEvents={},!pt(e)&&(this.context=e)}on(e,t,i,s){if(pt(t))return;const r=i||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:r}]:pt(s)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:r}):-1===this.ranArray.indexOf(s)&&(this.ranArray.push(s),this.boundedEvents[e].push({handler:t,context:r,id:s}))}off(e,t,i){if(this.notExist(e))return;const s=Ke(e,this.boundedEvents);if(t){for(let r=0;r<s.length;r++)if(i){if(s[r].id===i){s.splice(r,1);const o=this.ranArray.indexOf(i);-1!==o&&this.ranArray.splice(o,1);break}}else if(t===s[r].handler){s.splice(r,1);break}}else delete this.boundedEvents[e]}notify(e,t,i,s){if(this.notExist(e))return void(i&&i.call(this,t));t&&(t.name=e);const o=Ke(e,this.boundedEvents).slice(0);if(window.Blazor)return this.blazorCallback(o,t,i,s,0);for(const a of o)a.handler.call(a.context,t);i&&i.call(this,t)}blazorCallback(e,t,i,s,r){const o=r===e.length-1;if(r<e.length){const a=e[r],l=a.handler.call(a.context,t);if(l&&"function"==typeof l.then){if(!i)return l;l.then(h=>{if(h="string"==typeof h&&this.isJson(h)?JSON.parse(h,this.dateReviver):h,As(t,t,h,!0),!i||!o)return this.blazorCallback(e,t,i,s,r+1);i.call(a.context,t)}).catch(h=>{s&&s.call(a.context,"string"==typeof h&&this.isJson(h)?JSON.parse(h,this.dateReviver):h)})}else{if(!i||!o)return this.blazorCallback(e,t,i,s,r+1);i.call(a.context,t)}}}dateReviver(e,t){return Mt&&"string"==typeof t&&null!==t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?new Date(t):t}isJson(e){try{JSON.parse(e)}catch(t){return!1}return!0}destroy(){this.boundedEvents=this.context=void 0}notExist(e){return!1===this.boundedEvents.hasOwnProperty(e)||this.boundedEvents[e].length<=0}isHandlerPresent(e,t){for(const i of e)if(i.handler===t)return!0;return!1}}const Kw=new Zw;let Qw="USD";const DY={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}};var kt;!function(n){n.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,n.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,n.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;const e=/[0-9]/g;n.defaultCurrency="$";const t=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,s={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};n.dateConverterMapper=/dddd|ddd/gi,n.islamicRegex=/^islamic/;const o={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};n.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,n.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,n.curWithoutNumberRegex=/(c|a)$/gi;const a={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function l(A,R,P,M,L){let V;const te=P||"date";if(L)V=u({skeleton:A},L).format||u({skeleton:"d"},"en-US").format;else{if(-1!==n.basicPatterns.indexOf(A)){if(V=Ke(te+"Formats."+A,R),"dateTime"===te){const pe=Ke("dateFormats."+A,R),ae=Ke("timeFormats."+A,R);V=V.replace("{1}",pe).replace("{0}",ae)}}else V=Ke("dateTimeFormats.availableFormats."+A,R);ni(V)&&"yMd"===A&&(V="M/d/y")}return V}function h(A,R,P,M){const L={},V=P||"gregorian";if(L.parserObject=qn.getMainObject(A,R)||n.defaultObject,M)L.numericObject=Ke("numbers",L.parserObject);else{L.dateObject=Ke("dates.calendars."+V,L.parserObject)}return L}function c(A,R,P,M){return Ke(A+"Formats-numberSystem-"+R+(M?".accounting":".standard"),P)||(M?Ke(A+"Formats-numberSystem-"+R+".standard",P):"")}function d(A){A.match(n.dateConverterMapper);return A}function u(A,R){const P=A.format||A.skeleton;let M=Ke((R||"en-US")+"."+P,DY);return M||(M=Ke("en-US."+P,DY)),M&&(M=d(M),A.format=M.replace(/tt/,"a")),A}function p(A){const R=A.match(n.formatRegex),P={},M=R[1].toUpperCase();return P.isAccount="A"===M,P.type=n.patternMatcher[M],A.length>1&&(P.fractionDigits=parseInt(R[2],10)),P}function m(A,R,P,M){const L=M?{}:{nlead:"",nend:""},V=A.match(n.customRegex);if(V){M||(L.nlead=y(V[1],P),L.nend=y(V[10],P),L.groupPattern=V[4]);const te=V[7];if(te&&R){const pe=te.match(e);L.minimumFraction=pt(pe)?0:pe.length,L.maximumFraction=te.length-1}}return L}function y(A,R){return A?A.replace(n.defaultCurrency,R):""}function b(A,R,P){return Ke("currencies."+R+(P?"."+P:".symbol"),A)||Ke("currencies."+R+".symbol-alt-narrow",A)||"$"}function C(A,R,P){const M={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},L=A.match(n.customRegex);if(pt(L)||""===L[5]&&"N/A"!==A)return M.type=void 0,M;M.nlead=L[1],M.nend=L[10];let V=L[6];M.useGrouping=-1!==V.indexOf(","),V=V.replace(/,/g,"");const te=L[7];if(-1!==V.indexOf("0")&&(M.minimumIntegerDigits=V.length-V.indexOf("0")),pt(te)||(M.minimumFractionDigits=te.lastIndexOf("0"),M.maximumFractionDigits=te.lastIndexOf("#"),-1===M.minimumFractionDigits&&(M.minimumFractionDigits=0),(-1===M.maximumFractionDigits||M.maximumFractionDigits<M.minimumFractionDigits)&&(M.maximumFractionDigits=M.minimumFractionDigits)),pt(R)?As(M,w([M.nlead,M.nend],"%","%")):(As(M,w([M.nlead,M.nend],"$",R.currencySymbol)),M.isCurrency||As(M,w([M.nlead,M.nend],"%",R.percentSymbol))),!pt(P)){const pe=c(M.type,R.numberMapper.numberSystem,P,!1);M.useGrouping&&(M.groupSeparator=R.numberMapper.numberSymbols[t[2]],M.groupData=class{static numberFormatter(e,t,i){const s=As({},t);let r={};const o={};let a;const l=kt.getDependables(i,e,"",!0);o.numberMapper=qn.getNumberMapper(l.parserObject,qn.getNumberingSystem(i),!0),o.currencySymbol=kt.getCurrencySymbol(l.numericObject,s.currency||Qw,t.altSymbol),o.percentSymbol=o.numberMapper.numberSymbols.percentSign,o.minusSymbol=o.numberMapper.numberSymbols.minusSign;const c=o.numberMapper.numberSymbols;if(t.format&&!kt.formatRegex.test(t.format))r=kt.customFormat(t.format,o,l.numericObject);else{As(s,kt.getProperNumericSkeleton(t.format||"N")),s.isCurrency="currency"===s.type,s.isPercent="percent"===s.type,a=kt.getSymbolPattern(s.type,o.numberMapper.numberSystem,l.numericObject,s.isAccount),s.groupOne=this.checkValueRange(s.maximumSignificantDigits,s.minimumSignificantDigits,!0),this.checkValueRange(s.maximumFractionDigits,s.minimumFractionDigits,!1,!0),ni(s.fractionDigits)||(s.minimumFractionDigits=s.maximumFractionDigits=s.fractionDigits),ni(s.useGrouping)&&(s.useGrouping=!0),s.isCurrency&&(a=a.replace(/\u00A4/g,kt.defaultCurrency));{const m=a.split(";");r.nData=kt.getFormatData(m[1]||"-"+m[0],!0,o.currencySymbol),r.pData=kt.getFormatData(m[0],!1,o.currencySymbol),s.useGrouping&&(s.groupSeparator=c[zb[2]],s.groupData=this.getGroupingDetails(m[0]))}if(ni(s.minimumFractionDigits)&&(s.minimumFractionDigits=r.nData.minimumFraction),ni(s.maximumFractionDigits)){const m=r.nData.maximumFraction;s.maximumFractionDigits=ni(m)&&s.isPercent?0:m}const u=s.minimumFractionDigits,p=s.maximumFractionDigits;!ni(u)&&!ni(p)&&u>p&&(s.maximumFractionDigits=u)}return As(r.nData,s),As(r.pData,s),d=>isNaN(d)?c[zb[1]]:isFinite(d)?this.intNumberFormatter(d,r,o):c[zb[0]]}static getGroupingDetails(e){const t={},i=e.match(kt.negativeDataRegex);if(i&&i[4]){const s=i[4],r=s.lastIndexOf(",");if(-1!==r){const o=s.split(".")[0];t.primary=o.length-r-1;const a=s.lastIndexOf(",",r-1);-1!==a&&(t.secondary=r-1-a)}}return t}static checkValueRange(e,t,i,s){const r=s?"f":"s";let o=0;const a=SY["l"+r];let l=SY["m"+r];if(ni(e)||(this.checkRange(e,a,s),o++),ni(t)||(this.checkRange(t,l,s),o++),2===o){if(!(e<t))return!0;$w(l+"specified must be less than the"+a)}else i&&1===o&&$w("Both"+l+"and"+l+"must be present");return!1}static checkRange(e,t,i){const s=i?[0,20]:[1,21];(e<s[0]||e>s[1])&&$w(t+"value must be within the range"+s[0]+"to"+s[1])}static intNumberFormatter(e,t,i){let s;if(!ni(t.nData.type)){e<0?(e*=-1,s=t.nData):s=0===e&&t.zeroData||t.pData;let r="";return s.isPercent&&(e*=100),s.groupOne?r=this.processSignificantDigits(e,s.minimumSignificantDigits,s.maximumSignificantDigits):(r=this.processFraction(e,s.minimumFractionDigits,s.maximumFractionDigits),s.minimumIntegerDigits&&(r=this.processMinimumIntegers(r,s.minimumIntegerDigits))),"scientific"===s.type&&(r=e.toExponential(s.maximumFractionDigits),r=r.replace("e",i.numberMapper.numberSymbols[zb[4]])),r=r.replace(".",i.numberMapper.numberSymbols[zb[3]]),s.useGrouping&&(r=this.groupNumbers(r,s.groupData.primary,s.groupSeparator||",",i.numberMapper.numberSymbols[zb[3]]||".",s.groupData.secondary)),r=qn.convertValueParts(r,kt.latnParseRegex,i.numberMapper.mapper),"N/A"===s.nlead?s.nlead:s.nlead+r+s.nend}}static processSignificantDigits(e,t,i){let r,s=e+"";return s.length<t?e.toPrecision(t):(s=e.toPrecision(i),r=+s,r+"")}static groupNumbers(e,t,i,s,r){let o=!pt(r)&&0!==r;const a=e.split(s),l=a[0];let h=l.length,c="";for(;h>t;)c=l.slice(h-t,h)+(c.length?i+c:""),h-=t,o&&(t=r,o=!1);return a[0]=l.slice(0,h)+(c.length?i:"")+c,a.join(s)}static processFraction(e,t,i){const s=(e+"").split(".")[1],r=s?s.length:0;if(t&&r<t){let o="";if(0!==r){o+=e;for(let a=0;a<t-r;a++)o+="0";return o}return o=e.toFixed(t),e.toFixed(t)}return!pt(i)&&(r>i||0===i)?e.toFixed(i):e+""}static processMinimumIntegers(e,t){const i=e.split(".");let s=i[0];const r=s.length;if(r<t){for(let o=0;o<t-r;o++)s="0"+s;i[0]=s}return i.join(".")}}.getGroupingDetails(pe.split(";")[0])),M.nlead=M.nlead.replace(/'/g,""),M.nend=M.nend.replace(/'/g,"")}return M}function w(A,R,P){const M={nlead:A[0],nend:A[1]};for(let L=0;L<2;L++){const V=A[L],te=V.indexOf(R);if(-1!==te&&(te<V.indexOf("'")||te>V.lastIndexOf("'"))){M[a[L]]=V.substr(0,te)+P+V.substr(te+1),M[a[R]]=!0,M.type=M.isCurrency?"currency":"percent";break}}return M}function O(A,R,P){A+=".";for(let M=0;M<R;M++)A+="0";if(R<P){const M=P-R;for(let L=0;L<M;L++)A+="#"}return A}function N(A,R){const P=A.split(".");let M="";for(let L=0;L<R;L++)M+="0";return P[1]?M+"."+P[1]:M}function X(A){const R=A.split(".");let P=R[0];const M=3-P.length%3;P=(M&&1===M?"#":2===M?"##":"")+P,A="";for(let V=P.length-1;V>0;V-=3)A=","+P[V-2]+P[V-1]+P[V]+A;return A=A.slice(1),R[1]?A+"."+R[1]:A}n.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,n.basicPatterns=["short","medium","long","full"],n.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},n.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221e"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},n.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},n.month="months",n.days="days",n.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},n.getResultantPattern=l,n.getDependables=h,n.getSymbolPattern=c,n.ConvertDateToWeekFormat=d,n.compareBlazorDateFormats=u,n.getProperNumericSkeleton=p,n.getFormatData=m,n.changeCurrencySymbol=y,n.getCurrencySymbol=b,n.customFormat=function(A,R,P){const M={},L=A.split(";"),V=["pData","nData","zeroData"];for(let te=0;te<L.length;te++)M[V[te]]=C(L[te],R,P);return pt(M.nData)&&(M.nData=As({},M.pData),M.nData.nlead=pt(R)?"-"+M.nData.nlead:R.minusSymbol+M.nData.nlead),M},n.customNumberFormat=C,n.isCurrencyPercent=w,n.getDateSeparator=function(A){const R=(Ke("dateFormats.short",A)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return R?R[1]:"/"},n.getActualDateTimeFormat=function(A,R,P,M){const L=h(P,A,R.calendar);let V=R.format||l(R.skeleton,L.dateObject,R.type);if(M){if(V=V.replace(i,te=>s[te]),-1!==V.indexOf("z")){const te=V.match(/z/g).length;let pe;const ae={timeZone:{}};ae.numMapper=qn.getNumberMapper(L.parserObject,qn.getNumberingSystem(P)),ae.timeZone=Ke("dates.timeZoneNames",L.parserObject);const Te=(new Date).getTimezoneOffset();let Ge=te<4?"+H;-H":ae.timeZone.hourFormat;Ge=Ge.replace(/:/g,ae.numMapper.timeSeparator),0===Te?pe=ae.timeZone.gmtZeroFormat:(pe=class{static dateFormat(e,t,i){const s=kt.getDependables(i,e,t.calendar),o=(Ke("parserObject.numbers",s),s.dateObject),a={isIslamic:kt.islamicRegex.test(t.calendar)};let l=t.format||kt.getResultantPattern(t.skeleton,s.dateObject,t.type,!1,"");if(a.dateSeperator=kt.getDateSeparator(s.dateObject),ni(l))$w("Format options or type given must be invalid");else{l=kt.ConvertDateToWeekFormat(l),a.pattern=l,a.numMapper=qn.getNumberMapper(s.parserObject,qn.getNumberingSystem(i));const h=l.match(MDe)||[];for(const c of h){const d=c.length;let u=c[0];switch("K"===u&&(u="h"),u){case"E":case"c":a.weekday=s.dateObject[kt.days][vY][kt.monthIndex[d]];break;case"M":case"L":a.month=s.dateObject[kt.month][vY][kt.monthIndex[d]];break;case"a":a.designator=Ke("dayPeriods.format.wide",o);break;case"G":a.era=Ke("eras."+(d<=3?"eraAbbr":4===d?"eraNames":"eraNarrow"),s.dateObject);break;case"z":a.timeZone=Ke("dates.timeZoneNames",s.parserObject)}}}return h=>isNaN(h.getDate())?null:this.intDateFormatter(h,a)}static intDateFormatter(e,t){let s="";const r=t.pattern.match(kt.dateParseRegex),o=this.getCurrentDateValue(e,t.isIslamic);for(const a of r){const l=a.length;let h=a[0];"K"===h&&(h="h");let c,u,p,d="",m="";switch(h){case"M":case"L":c=o.month,l>2?s+=t.month[c]:u=!0;break;case"E":case"c":s+=t.weekday[kDe[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(u=!0,"d"===h)c=o.date;else if("f"===h){u=!1,p=!0,d=e[CY[h]]().toString(),d=d.substring(0,l);const _=d.length;if(l!==_){if(l>3)continue;for(let k=0;k<l-_;k++)d="0"+d.toString()}m+=d}else c=e[CY[h]]();"h"===h&&(c=c%12||12);break;case"y":p=!0,m+=o.year,2===l&&(m=m.substr(m.length-2));break;case"a":let y=e.getHours()<12?"am":"pm";s+=t.designator[y];break;case"G":let b=e.getFullYear()<0?0:1,v=t.era[b];pt(v)&&(v=t.era[b?0:1]),s+=v||"";break;case"'":s+="''"===a?"'":a.replace(/'/g,"");break;case"z":let C=e.getTimezoneOffset(),w=l<4?"+H;-H":t.timeZone.hourFormat;w=w.replace(/:/g,t.numMapper.timeSeparator),0===C?s+=t.timeZone.gmtZeroFormat:(p=!0,m=this.getTimeZoneValue(C,w)),m=t.timeZone.gmtFormat.replace(/\{0\}/,m);break;case":":s+=t.numMapper.numberSymbols.timeSeparator;break;case"/":s+=t.dateSeperator;break;case"W":u=!0,c=kt.getWeekOfYear(e);break;default:s+=a}u&&(p=!0,m=this.checkTwodigitNumber(c,l)),p&&(s+=qn.convertValueParts(m,kt.latnParseRegex,t.numMapper.mapper))}return s}static getCurrentDateValue(e,t){return t?Xw.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}}static checkTwodigitNumber(e,t){const i=e+"";return 2===t&&2!==i.length?"0"+i:i}static getTimeZoneValue(e,t){let s=t.split(";")[e>0?1:0];const r=Math.abs(e);return s.replace(/HH?|mm/g,o=>{const a=o.length,l=-1!==o.indexOf("H");return this.checkTwodigitNumber(Math.floor(l?r/60:r%60),a)})}}.getTimeZoneValue(Te,Ge),pe=ae.timeZone.gmtFormat.replace(/\{0\}/,pe)),V=V.replace(/[z]+/,'"'+pe+'"')}V=V.replace(/ $/,"")}return V},n.getActualNumberFormat=function(A,R,P,M){const L=h(P,A,"",!0),V={custom:!0};let pe;const ae={},Oe=(R.format||"").match(n.currencyFormatRegex),Ge=(n.formatRegex.test(R.format)&&p(R.format||"N"),{});if(Oe){Ge.numberMapper=qn.getNumberMapper(L.parserObject,qn.getNumberingSystem(P),!0);const j=b(L.numericObject,R.currency||Qw,R.altSymbol);let Y=c("currency",Ge.numberMapper.numberSystem,L.numericObject,/a/i.test(R.format));Y=Y.replace(/\u00A4/g,j);const ge=Y.split(";");ae.hasNegativePattern=ge.length>1,ae.nData=m(ge[1]||"-"+ge[0],!0,j),ae.pData=m(ge[0],!1,j),!Oe[2]&&!R.minimumFractionDigits&&!R.maximumFractionDigits&&(pe=m(Y.split(";")[0],!0,"",!0).minimumFraction)}let ve;if(n.formatRegex.test(R.format)||!R.format){if(As(V,p(R.format||"N")),V.custom=!1,ve="###0",V.fractionDigits||R.minimumFractionDigits||R.maximumFractionDigits||pe){const j=0;V.fractionDigits&&(R.minimumFractionDigits=R.maximumFractionDigits=V.fractionDigits),ve=O(ve,pe||V.fractionDigits||R.minimumFractionDigits||j,R.maximumFractionDigits||j)}if(R.minimumIntegerDigits&&(ve=N(ve,R.minimumIntegerDigits)),R.useGrouping&&(ve=X(ve)),"currency"===V.type){const j=ve;ve=ae.pData.nlead+j+ae.pData.nend,ae.hasNegativePattern&&(ve+=";"+ae.nData.nlead+j+ae.nData.nend)}"percent"===V.type&&(ve+=" %")}else ve=R.format.replace(/'/g,'"');return Object.keys(Ge).length>0&&(ve=M?ve:function(A,R){if(-1!==A.indexOf(",")){let P=A.split(",");A=P[0]+Ke("numberMapper.numberSymbols.group",R)+P[1].replace(".",Ke("numberMapper.numberSymbols.decimal",R))}else A=A.replace(".",Ke("numberMapper.numberSymbols.decimal",R));return A}(ve,Ge)),ve},n.fractionDigitsPattern=O,n.minimumIntegerPattern=N,n.groupingPattern=X,n.getWeekData=function(A,R){let P="sun";const M=Ke("supplemental.weekData.firstDay",R);let L=A;return/en-/.test(L)&&(L=L.slice(3)),L=L.slice(0,2).toUpperCase()+L.substr(2),M&&(P=M[L]||"sun"),o[P]},n.replaceBlazorCurrency=function(A,R,P){const M=function(n){return Ke(n||"",EDe)}(P);if(R!==M)for(const L of A)L.nend=L.nend.replace(R,M),L.nlead=L.nlead.replace(R,M)},n.getWeekOfYear=function(A){const R=new Date(A.getFullYear(),0,1);let M,P=R.getDay();P=P>=0?P:P+7;const L=Math.floor((A.getTime()-R.getTime()-6e4*(A.getTimezoneOffset()-R.getTimezoneOffset()))/864e5)+1;if(P<4){if(M=Math.floor((L+P-1)/7)+1,M>52){let te=new Date(this.getFullYear()+1,0,1).getDay();te=te>=0?te:te+7,M=te<4?1:53}}else M=Math.floor((L+P-1)/7);return M}}(kt||(kt={}));const HDe=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,jDe=/msie|trident/i,zDe=/Trident\/7\./,WDe=/(ipad|iphone|ipod touch)/i,UDe=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,GDe=/android/i,YDe=/trident|windows phone|edge/i,qDe=/(version)[ /]([\w.]+)/i,AY={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!=typeof window&&(window.browserDetails=window.browserDetails||{});class vt{static extractBrowserDetail(){const e={culture:{}},t=Object.keys(AY);let i=[];for(const s of t)if(i=vt.userAgent.match(AY[s]),i){if(e.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),e.name="crios"===i[1].toLowerCase()?"chrome":e.name,e.version=i[2],e.culture.name=e.culture.language=navigator.language,vt.userAgent.match(zDe)){e.name="msie";break}const r=vt.userAgent.match(qDe);"safari"===e.name&&r&&(e.version=r[2]);break}return e}static getEvent(e){const t={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return vt.isPointer?t[e].isPointer:vt.isTouch?t[e].isTouch+(vt.isDevice?"":" "+t[e].isDevice):t[e].isDevice}static getTouchStartEvent(){return vt.getEvent("start")}static getTouchEndEvent(){return vt.getEvent("end")}static getTouchMoveEvent(){return vt.getEvent("move")}static getTouchCancelEvent(){return vt.getEvent("cancel")}static getValue(e,t){const i=window.browserDetails;return void 0===i[e]?i[e]=t.test(vt.userAgent):("MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&!0===vt.isTouch&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0),i[e])}static set userAgent(e){vt.uA=e,window.browserDetails={}}static get userAgent(){return vt.uA}static get info(){return ni(window.browserDetails.info)?window.browserDetails.info=vt.extractBrowserDetail():window.browserDetails.info}static get isIE(){return vt.getValue("isIE",jDe)}static get isTouch(){return ni(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch}static get isPointer(){return ni(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer}static get isMSPointer(){return ni(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer}static get isDevice(){return vt.getValue("isDevice",HDe)}static get isIos(){return vt.getValue("isIos",WDe)}static get isIos7(){return vt.getValue("isIos7",UDe)}static get isAndroid(){return vt.getValue("isAndroid",GDe)}static get isWebView(){return ni(window.browserDetails.isWebView)&&(window.browserDetails.isWebView=!(ni(window.cordova)&&ni(window.PhoneGap)&&ni(window.phonegap)&&"object"!==window.forge)),window.browserDetails.isWebView}static get isWindows(){return vt.getValue("isWindows",YDe)}static get touchStartEvent(){return ni(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=vt.getTouchStartEvent():window.browserDetails.touchStartEvent}static get touchMoveEvent(){return ni(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=vt.getTouchMoveEvent():window.browserDetails.touchMoveEvent}static get touchEndEvent(){return ni(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=vt.getTouchEndEvent():window.browserDetails.touchEndEvent}static get touchCancelEvent(){return ni(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=vt.getTouchCancelEvent():window.browserDetails.touchCancelEvent}}vt.uA="undefined"!=typeof navigator?navigator.userAgent:"";class Ee{static addOrGetEventData(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])}static add(e,t,i,s,r){const o=Ee.addOrGetEventData(e);let a;a=r?function(n,e){let t;return function(){const i=arguments,s=()=>(t=null,n.apply(this,i));clearTimeout(t),t=setTimeout(s,e)}}(i,r):i,s&&(a=a.bind(s));const l=t.split(" ");for(let h=0;h<l.length;h++)o.push({name:l[h],listener:i,debounce:a}),vt.isIE?e.addEventListener(l[h],a):e.addEventListener(l[h],a,{passive:!1});return a}static remove(e,t,i){const s=Ee.addOrGetEventData(e),r=t.split(" ");for(let o=0;o<r.length;o++){let l,a=-1;s&&0!==s.length&&s.some((h,c)=>h.name===r[o]&&h.listener===i&&(a=c,l=h.debounce,!0)),-1!==a&&s.splice(a,1),l&&e.removeEventListener(r[o],l)}}static clearEvents(e){let t,i;t=Ee.addOrGetEventData(e),i=As([],i,t);for(let s=0;s<i.length;s++)e.removeEventListener(i[s].name,i[s].debounce),t.shift()}static trigger(e,t,i){const s=Ee.addOrGetEventData(e);for(const r of s)r.name===t&&r.debounce.call(this,i)}}const $De=/^svg|^path|^g/;function Fm(n,e){const t=$De.test(n)?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n);return void 0===e||(t.innerHTML=e.innerHTML?e.innerHTML:"",void 0!==e.className&&(t.className=e.className),void 0!==e.id&&(t.id=e.id),void 0!==e.styles&&t.setAttribute("style",e.styles),void 0!==e.attrs&&lO(t,e.attrs)),t}function Oo(n,e){const t=TY(e);for(const i of n)for(const s of t)if(Iu(i)){const r=Ke("attributes.className",i);pt(r)?Dd("attributes.className",s,i):new RegExp("\\b"+s+"\\b","i").test(r)||Dd("attributes.className",r+" "+s,i)}else i.classList.contains(s)||i.classList.add(s);return n}function Fo(n,e){const t=TY(e);for(const i of n){const s=Iu(i);if(s?Ke("attributes.className",i):""!==i.className)for(const o of t)if(s){const l=Ke("attributes.className",i).split(" "),h=l.indexOf(o);-1!==h&&l.splice(h,1),Dd("attributes.className",l.join(" "),i)}else i.classList.remove(o)}return n}function TY(n){let e=[];return"string"==typeof n?e.push(n):e=n,e}function LY(n){return""===n.style.visibility&&n.offsetWidth>0}function RY(n,e,t){const i=document.createDocumentFragment();for(const s of n)i.appendChild(s);return e.appendChild(i),t&&function(n){n.querySelectorAll("script").forEach(t=>{const i=document.createElement("script");i.text=t.innerHTML,document.head.appendChild(i),Md(i)})}(e),n}function Md(n){const e=n.parentNode;if(e)return e.removeChild(n)}function lO(n,e){const t=Object.keys(e),i=n;for(const s of t)if(Iu(i)){let r=s;"tabindex"===s&&(r="tabIndex"),i.attributes[r]=e[s]}else i.setAttribute(s,e[s]);return i}function hO(n,e=document,t){return n=OY(n),e.querySelector(n)}function PY(n,e=document,t){return n=OY(n),e.querySelectorAll(n)}function OY(n){if(n.match(/#[0-9]/g)){const e=n.split(",");for(let t=0;t<e.length;t++){const i=e[t].split(" ");for(let s=0;s<i.length;s++)if(i[s].indexOf("#")>-1&&!i[s].match(/\[.*\]/)&&i[s].split("#")[1].match(/^\d/)){const o=i[s].split(".");o[0]=o[0].replace(/#/,"[id='")+"']",i[s]=o.join(".")}e[t]=i.join(" ")}return e.join(",")}return n}function Mc(n,e){let t=n;if("function"==typeof t.closest)return t.closest(e);for(;t&&1===t.nodeType;){if(NY(t,e))return t;t=t.parentNode}return null}function FY(n,e){void 0!==e&&Object.keys(e).forEach(t=>{n.style[t]=e[t]})}function NY(n,e){let t=n.matches||n.msMatchesSelector||n.webkitMatchesSelector;return t?t.call(n,e):-1!==[].indexOf.call(document.querySelectorAll(e),n)}const XDe=new RegExp("]");class Pu{constructor(e,t){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=()=>{},this.childChangedProperties={},this.modelObserver=new Zw(this),ni(t)||(this.element="string"==typeof t?document.querySelector(t):t,pt(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),ni(e)||this.setProperties(e,!0),this.isDestroyed=!1}setProperties(e,t){const i=this.isProtectedOnChange;this.isProtectedOnChange=!!t,jb(this,e),!0!==t&&(jb(this.changedProperties,e),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i}static callChildDataBind(e,t){const i=Object.keys(e);for(const s of i)if(t[s]instanceof Array)for(const r of t[s])void 0!==r.dataBind&&r.dataBind();else t[s].dataBind()}clearChanges(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}}dataBind(){if(Pu.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){const e=this.isProtectedOnChange,t=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(t,i),this.isProtectedOnChange=e}}serverDataBind(e){}saveChanges(e,t,i){this.isProtectedOnChange||(this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function(n){let e;const t=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(t);let s="ej2"+function(n){let e="";for(let t=0;t<5;t++)e+=(t?",":"")+n[t];return e}(t),r=o=>{o.source===window&&"string"==typeof o.data&&o.data.length<=32&&o.data===s&&(n(),e())};return window.addEventListener("message",r,!1),window.postMessage(s,"*"),e=()=>{window.removeEventListener("message",r),n=r=s=void 0}}(this.dataBind.bind(this)))}addEventListener(e,t){this.modelObserver.on(e,t)}removeEventListener(e,t){this.modelObserver.off(e,t)}trigger(e,t,i,s){if(!0!==this.isDestroyed){const r=this.isProtectedOnChange;this.isProtectedOnChange=!1;let o=this.modelObserver.notify(e,t,i,s);if(XDe.test(e)){const a=Ke(e,this);if(a)if(window.Blazor){const h=a.call(this,t);h&&"function"==typeof h.then?i?h.then(c=>{i&&(c="string"==typeof c&&this.modelObserver.isJson(c)?JSON.parse(c):c,i.call(this,c))}).catch(c=>{s&&(c="string"==typeof c&&this.modelObserver.isJson(c)?JSON.parse(c):c,s.call(this,c))}):o=h:i&&i.call(this,t)}else a.call(this,t),i&&i.call(this,t);else i&&i.call(this,t)}return this.isProtectedOnChange=r,o}}addInstance(){const e="e-"+this.getModuleName().toLowerCase();Oo([this.element],["e-lib",e]),pt(this.element.ej2_instances)?Dd("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)}destroy(){this.element.ej2_instances=this.element.ej2_instances.filter(e=>e!==this),Fo([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&Fo([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0}}function wD(n,e,t,i){return(!n.properties.hasOwnProperty(e)||!(n.properties[e]instanceof i))&&(n.properties[e]=vD(i,[n,e,t])),n.properties[e]}function BY(n,e){return function(){return this.properties.hasOwnProperty(e)||(this.properties[e]=n),this.properties[e]}}function KDe(n,e){return function(t){if(this.properties[e]!==t){let i=this.properties.hasOwnProperty(e)?this.properties[e]:n;this.saveChanges(e,t,i),this.properties[e]=t}}}function QDe(n,e,t){return function(){return wD(this,e,n,t)}}function JDe(n,e,t){return function(i){wD(this,e,n,t).setProperties(i)}}function je(n){return(e,t)=>{const i={set:KDe(n,t),get:BY(n,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i),Wb(e,t,"prop",n)}}function HY(n,e){return(t,i)=>{const s={set:JDe(n,i,e),get:QDe(n,i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,s),Wb(t,i,"complexProp",n,e)}}function Vn(){return(n,e)=>{const t={set:function(i){const s=this.properties[e];if(s!==i){const r=zY(this,e);!1===ni(s)&&r.context.removeEventListener(r.prefix,s),r.context.addEventListener(r.prefix,i),this.properties[e]=i}},get:BY(void 0,e),enumerable:!0,configurable:!0};Object.defineProperty(n,e,t),Wb(n,e,"event")}}function kc(n){}function Wb(n,e,t,i,s){ni(n.propList)&&(n.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),n.propList[t+"s"].push({propertyName:e,defaultValue:i,type:s}),n.propList[t+"Names"].push(e)}function zY(n,e){if(!1===n.hasOwnProperty("parentObj"))return{context:n,prefix:e};{const t=Ke("propName",n);return t&&(e=t+"-"+e),zY(Ke("parentObj",n),e)}}var Ub,Ou=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let kd=Ub=class extends Pu{constructor(e){super(e,void 0),this.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"}}animate(e,t){const i=this.getModel(t=t||{});if("string"==typeof e){const s=Array.prototype.slice.call(PY(e,document));for(const r of s)i.element=r,Ub.delayAnimation(i)}else i.element=e,Ub.delayAnimation(i)}static stop(e,t){e.style.animation="",e.removeAttribute("e-animate");const i=e.getAttribute("e-animation-id");if(i){const s=parseInt(i,10);cancelAnimationFrame(s),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)}static delayAnimation(e){e.delay?setTimeout(()=>{Ub.applyAnimation(e)},e.delay):Ub.applyAnimation(e)}static applyAnimation(e){e.timeStamp=0;let t=0,i=0,s=0;const r=e.duration;e.element.setAttribute("e-animate","true");const o=a=>{try{if(a){s=0===s?a:s,e.timeStamp=a+e.timeStamp-s,s=a,!t&&e.begin&&e.begin.call(this,e),t+=1;const l=e.timeStamp/t;e.timeStamp<r&&e.timeStamp+l<r&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(this,e),requestAnimationFrame(o)):(cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(this,e))}else i=requestAnimationFrame(o),e.element.setAttribute("e-animation-id",i.toString())}catch(l){cancelAnimationFrame(i),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(this,l)}};o()}getModel(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}}onPropertyChanged(e,t){}getModuleName(){return"animation"}destroy(){}};function eS(n,e,t){const i=function(n){return{selector:n&&n.selector?n.selector:null,ignore:n&&n.ignore?n.ignore:null,rippleFlag:n&&n.rippleFlag,isCenterRipple:n&&n.isCenterRipple,duration:n&&n.duration?n.duration:350}}(e);return!1===i.rippleFlag||void 0===i.rippleFlag&&!Fu?Function:(n.setAttribute("data-ripple","true"),Ee.add(n,"mousedown",WY,{parent:n,rippleOptions:i}),Ee.add(n,"mouseup",UY,{parent:n,rippleOptions:i,done:t}),Ee.add(n,"mouseleave",Gb,{parent:n,rippleOptions:i}),vt.isPointer&&Ee.add(n,"transitionend",Gb,{parent:n,rippleOptions:i}),()=>{n.removeAttribute("data-ripple"),Ee.remove(n,"mousedown",WY),Ee.remove(n,"mouseup",UY),Ee.remove(n,"mouseleave",Gb),Ee.remove(n,"transitionend",Gb)})}function WY(n){const e=n.target,t=this.rippleOptions.selector,i=t?Mc(e,t):e;if(!i||this.rippleOptions&&Mc(e,this.rippleOptions.ignore))return;const s=i.getBoundingClientRect(),r=n.pageX-document.body.scrollLeft,o=n.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),a=Math.max(Math.abs(r-s.left),Math.abs(r-s.right)),l=Math.max(Math.abs(o-s.top),Math.abs(o-s.bottom)),h=Math.sqrt(a*a+l*l);let c=2*h+"px",d=r-s.left-h,u=o-s.top-h;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(d=0,u=0,c="100%"),i.classList.add("e-ripple");const y=Fm("div",{className:"e-ripple-element",styles:"width: "+c+";height: "+c+";left: "+d+"px;top: "+u+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});i.appendChild(y),window.getComputedStyle(y).getPropertyValue("opacity"),y.style.transform="scale(1)",i!==this.parent&&Ee.add(i,"mouseleave",Gb,{parent:this.parent,rippleOptions:this.rippleOptions})}function UY(n){GY(n,this)}function Gb(n){GY(n,this)}function GY(n,e){const t=e.rippleOptions.duration,i=n.target,s=e.rippleOptions.selector,r=s?Mc(i,s):i;if(!r||r&&-1===r.className.indexOf("e-ripple"))return;const o=PY(".e-ripple-element",r),a=o[o.length-1];a&&(a.style.opacity="0.5"),e.parent!==r&&Ee.remove(r,"mouseleave",Gb),setTimeout(()=>{a&&a.parentNode&&a.parentNode.removeChild(a),r.getElementsByClassName("e-ripple-element").length||r.classList.remove("e-ripple"),e.done&&e.done(n)},t)}Ou([je("FadeIn")],kd.prototype,"name",void 0),Ou([je(400)],kd.prototype,"duration",void 0),Ou([je("ease")],kd.prototype,"timingFunction",void 0),Ou([je(0)],kd.prototype,"delay",void 0),Ou([Vn()],kd.prototype,"progress",void 0),Ou([Vn()],kd.prototype,"begin",void 0),Ou([Vn()],kd.prototype,"end",void 0),Ou([Vn()],kd.prototype,"fail",void 0),kd=Ub=Ou([kc],kd);let Fu=!1;class hMe{constructor(e){this.loadedModules=[],this.parent=e}inject(e,t){const i=e.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(e);for(let s=0;s<i;s++){const r=e[s];for(const o of t){const a=r.member;if(o.prototype.getModuleName()===r.member&&!this.isModuleLoaded(a)){const l=vD(o,r.args),h=this.getMemberName(a);Dd(h,r.isProperty?o:l,this.parent);const c=r;c.member=h,this.loadedModules.push(c)}}}}else this.clean()}clean(){for(const e of this.loadedModules)e.isProperty||Ke(e.member,this.parent).destroy();this.loadedModules=[]}clearUnusedModule(e){const t=e.map(s=>this.getMemberName(s.member)),i=this.loadedModules.filter(s=>-1===t.indexOf(s.member));for(const s of i)s.isProperty||Ke(s.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(s),1),gY(this.parent,s.member)}getMemberName(e){return e[0].toLowerCase()+e.substring(1)+"Module"}isModuleLoaded(e){for(const t of this.loadedModules)if(t.member===this.getMemberName(e))return!0;return!1}}class cO{constructor(e,t,i,s){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=()=>{},this.callChildDataBind=Ke("callChildDataBind",Pu),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.isParentArray=s,this.setProperties(i,!0)}updateChange(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)}updateTimeOut(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{const e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=()=>{clearTimeout(e)}}}clearChanges(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}}setProperties(e,t){!0===t?(jb(this,e),this.updateChange(!1,this.propName),this.clearChanges()):jb(this,e)}dataBind(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){const e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(Dd(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),Dd(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()}saveChanges(e,t,i,s){this.controlParent.isProtectedOnChange||(s||this.serverDataBind(e,t,!0),this.oldProperties[e]=i,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())}serverDataBind(e,t,i,s){0}getParentKey(e){let t="",i=this.propName;if(this.isParentArray){t=this.parentObj[this.propName].indexOf(this);let s=this.parentObj[this.propName].length;s=e?s:s>0?s-1:0,t=-1!==t?"-"+t:"-"+s,i+=t}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+t),i}}var SD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let uO,dO=0,YY=0,Ad=class extends Pu{constructor(e,t){super(e,t),this.randomId=function(){if("undefined"==typeof window)return;let n=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(n)}(),this.isStringTemplate=!1,this.needsID=!1,this.isReactHybrid=!1,pt(this.enableRtl)&&this.setProperties({enableRtl:false},!0),pt(this.locale)&&this.setProperties({locale:"en-US"},!0),this.moduleLoader=new hMe(this),this.localObserver=new Zw(this),Kw.on("notifyExternalChange",this.detectFunction,this,this.randomId),ni(t)||this.appendTo()}requiredModules(){return[]}destroy(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),!this.refreshing&&(Fo([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),super.destroy(),this.moduleLoader.clean(),Kw.off("notifyExternalChange",this.detectFunction,this.randomId)))}refresh(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new Zw(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1}accessMount(){this.mount&&!this.isReactHybrid&&this.mount()}getRootElement(){return this.isReactHybrid?this.actualElement:this.element}getLocalData(){const e=this.getModuleName()+this.element.id;return window.localStorage.getItem(e)}appendTo(e){if(pt(e)||"string"!=typeof e?pt(e)||(this.element=e):this.element=hO(e,document),!pt(this.element)){const t="e-"+this.getModuleName().toLowerCase();Oo([this.element],["e-control",t]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));const i=Ke("ej2_instances",this.element);(!i||-1===i.indexOf(this))&&super.addInstance(),this.preRender(),this.injectModules(),this.render(),this.mount?this.accessMount():this.trigger("created")}}renderComplete(e){this.isRendered=!0}dataBind(){this.injectModules(),super.dataBind()}on(e,t,i){if("string"==typeof e)this.localObserver.on(e,t,i);else for(const s of e)this.localObserver.on(s.event,s.handler,s.context)}off(e,t){if("string"==typeof e)this.localObserver.off(e,t);else for(const i of e)this.localObserver.off(i.event,i.handler)}notify(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)}getInjectedModules(){return this.injectedModules}static Inject(...e){this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(let t=0;t<e.length;t++)-1===this.prototype.injectedModules.indexOf(e[t])&&this.prototype.injectedModules.push(e[t])}createElement(e,t,i){return Fm(e,t)}triggerStateChange(e,t){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:t})}injectModules(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)}detectFunction(e){const t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])}mergePersistData(){let e;e=window.localStorage.getItem(this.getModuleName()+this.element.id),pt(e)||""===e||this.setProperties(JSON.parse(e),!0)}setPersistData(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())}renderReactTemplates(){}clearTemplate(e,t){}getUniqueID(e){return this.isHistoryChanged()&&(dO=0),uO=this.pageID(location.href),YY=history.length,e+"_"+uO+"_"+dO++}pageID(e){let t=0;if(0===e.length)return t;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return Math.abs(t)}isHistoryChanged(){return uO!==this.pageID(location.href)||YY!==history.length}addOnPersist(e){const t={};for(const i of e){let s;s=Ke(i,this),ni(s)||Dd(i,this.getActualProperties(s),t)}return JSON.stringify(t,(i,s)=>this.getActualProperties(s))}getActualProperties(e){return e instanceof cO?Ke("properties",e):e}ignoreOnPersist(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))}iterateJsonProperties(e,t){const i={};for(const s of Object.keys(e))if(-1===t.indexOf(s)){const r=e[s];if("object"!=typeof r||r instanceof Array)i[s]=r;else{const o=t.filter(a=>new RegExp(s+".").test(a)).map(a=>a.replace(s+".",""));i[s]=this.iterateJsonProperties(this.getActualProperties(r),o)}}return i}};SD([je(!1)],Ad.prototype,"enablePersistence",void 0),SD([je()],Ad.prototype,"enableRtl",void 0),SD([je()],Ad.prototype,"locale",void 0),Ad=SD([kc],Ad),"undefined"!=typeof window&&window.addEventListener("popstate",()=>{dO=0});var tS,En=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const cMe={left:0,top:0,bottom:0,right:0},pO={isDragged:!1};class fO extends cO{}En([je(0)],fO.prototype,"left",void 0),En([je(0)],fO.prototype,"top",void 0);let Hn=tS=class extends Pu{constructor(e,t){super(t,e),this.dragLimit=tS.getDefaultPosition(),this.borderWidth=tS.getDefaultPosition(),this.padding=tS.getDefaultPosition(),this.diffX=0,this.prevLeft=0,this.prevTop=0,this.dragProcessStarted=!1,this.tapHoldTimer=0,this.externalInitialize=!1,this.diffY=0,this.parentScrollX=0,this.parentScrollY=0,this.droppables={},this.bind()}bind(){this.toggleEvents(),vt.isIE&&Oo([this.element],"e-block-touch"),this.droppables[this.scope]={}}static getDefaultPosition(){return As({},cMe)}toggleEvents(e){let t;ni(this.handle)||(t=hO(this.handle,this.element));let i=this.enableTapHold&&vt.isDevice&&vt.isTouch?this.mobileInitialize:this.initialize;e?Ee.remove(t||this.element,vt.touchStartEvent,i):Ee.add(t||this.element,vt.touchStartEvent,i,this)}mobileInitialize(e){let t=e.currentTarget;this.tapHoldTimer=setTimeout(()=>{this.externalInitialize=!0,this.removeTapholdTimer(),this.initialize(e,t)},this.tapHoldThreshold),Ee.add(document,vt.touchMoveEvent,this.removeTapholdTimer,this),Ee.add(document,vt.touchEndEvent,this.removeTapholdTimer,this)}removeTapholdTimer(){clearTimeout(this.tapHoldTimer),Ee.remove(document,vt.touchMoveEvent,this.removeTapholdTimer),Ee.remove(document,vt.touchEndEvent,this.removeTapholdTimer)}getScrollableParent(e,t){return pt(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]&&("vertical"===t?e.scrollTop>0:e.scrollLeft>0)?("vertical"===t?(this.parentScrollY=this.parentScrollY+(0===this.parentScrollY?e.scrollTop:e.scrollTop-this.parentScrollY),this.tempScrollHeight=e.scrollHeight):(this.parentScrollX=this.parentScrollX+(0===this.parentScrollX?e.scrollLeft:e.scrollLeft-this.parentScrollX),this.tempScrollWidth=e.scrollWidth),pt(e)?e:this.getScrollableParent(e.parentNode,t)):this.getScrollableParent(e.parentNode,t)}getScrollableValues(){this.parentScrollX=0,this.parentScrollY=0,this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),this.getScrollableParent(this.element.parentNode,"vertical"),this.getScrollableParent(this.element.parentNode,"horizontal")}initialize(e,t){if(this.currentStateTarget=e.target,this.isDragStarted())return;if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=e.currentTarget||t,this.dragProcessStarted=!1,this.abort){let s=this.abort;"string"==typeof s&&(s=[s]);for(let r=0;r<s.length;r++)if(!pt(Mc(e.target,s[r])))return void(this.isDragStarted()&&this.isDragStarted(!0))}this.preventDefault&&!ni(e.changedTouches)&&"touchstart"!==e.type&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");let i=this.getCoordinates(e);if(this.initialPosition={x:i.pageX,y:i.pageY},!this.clone){let s=this.element.getBoundingClientRect();this.getScrollableValues(),e.clientX===e.pageX&&(this.parentScrollX=0),e.clientY===e.pageY&&(this.parentScrollY=0),this.relativeXPosition=i.pageX-(s.left+this.parentScrollX),this.relativeYPosition=i.pageY-(s.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(e):(Ee.add(document,vt.touchMoveEvent,this.intDragStart,this),Ee.add(document,vt.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),"touchstart"!==e.type&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,Ee.trigger(document.documentElement,vt.touchStartEvent,e)}intDragStart(e){this.removeTapholdTimer();let t=!ni(e.changedTouches);if(t&&1!==e.changedTouches.length)return;t&&e.preventDefault();let s,i=this.getCoordinates(e),r=getComputedStyle(this.element);this.margin={left:parseInt(r.marginLeft,10),top:parseInt(r.marginTop,10),right:parseInt(r.marginRight,10),bottom:parseInt(r.marginBottom,10)};let o=this.element;if(this.clone&&this.dragTarget){let c=Mc(e.target,this.dragTarget);pt(c)||(o=c)}this.isReplaceDragEle&&(o=this.currentStateCheck(e.target,o)),this.offset=this.calculateParentPosition(o),this.position=this.getMousePosition(e,this.isDragScroll);let a=this.initialPosition.x-i.pageX,l=this.initialPosition.y-i.pageY;if(Math.sqrt(a*a+l*l)>=this.distance||this.externalInitialize){let c=this.getHelperElement(e);if(!c||pt(c))return;let d=this.helperElement=c;if(this.parentClientRect=this.calculateParentPosition(d.offsetParent),this.dragStart){let b={event:e,element:o,target:this.getProperTargetElement(e),bindEvents:null,dragElement:d};this.trigger("dragStart",b)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),s={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();let u=getComputedStyle(o),p=parseFloat(u.marginTop);this.clone&&0!==p&&(s.top+=p),this.enableScrollHandler&&!this.clone&&(s.top-=this.parentScrollY,s.left-=this.parentScrollX);let m=this.getProcessedPositionValue({top:s.top-this.diffY+"px",left:s.left-this.diffX+"px"});this.dragElePosition={top:s.top,left:s.left},FY(d,this.getDragPosition({position:"absolute",left:m.left,top:m.top})),Ee.remove(document,vt.touchMoveEvent,this.intDragStart),Ee.remove(document,vt.touchEndEvent,this.intDestroy),this.bindDragEvents(d)}}bindDragEvents(e){LY(e)?(Ee.add(document,vt.touchMoveEvent,this.intDrag,this),Ee.add(document,vt.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,e)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))}elementInViewport(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)this.top+=(e=e.offsetParent).offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth}getProcessedPositionValue(e){return this.queryPositionInfo?this.queryPositionInfo(e):e}calculateParentPosition(e){if(pt(e))return{left:0,top:0};let t=e.getBoundingClientRect(),i=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(i.marginLeft,10),top:t.top+window.pageYOffset-parseInt(i.marginTop,10)}}intDrag(e){if(!ni(e.changedTouches)&&1!==e.changedTouches.length)return;let t,i;this.position=this.getMousePosition(e,this.isDragScroll);let s=this.getDocumentWidthHeight("Height");s<this.position.top&&(this.position.top=s);let r=this.getDocumentWidthHeight("Width");if(r<this.position.left&&(this.position.left=r),this.drag){let D=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:D})}let o=this.checkTargetElement(e);if(o.target&&o.instance){let D=!0;this.hoverObject&&(this.hoverObject.instance!==o.instance?this.triggerOutFunction(e,o):D=!1),D&&(o.instance.dragData[this.scope]=this.droppables[this.scope],o.instance.intOver(e,o.target),this.hoverObject=o)}else this.hoverObject&&this.triggerOutFunction(e,o);let a=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);let l=this.parentClientRect.left,h=this.parentClientRect.top,c=this.getCoordinates(e),d=c.pageX,u=c.pageY,p=this.position.left-this.diffX,m=this.position.top-this.diffY,y=getComputedStyle(a),b=parseFloat(y.marginTop);if(this.dragArea){if(this.pageX!==d||this.skipDistanceCheck){let D=a.offsetWidth+(parseFloat(y.marginLeft)+parseFloat(y.marginRight));t=this.dragLimit.left>p&&p>0?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<p+D&&p>0?p-(p-this.dragLimit.right)+window.pageXOffset-D:p<0?this.dragLimit.left:p}if(this.pageY!==u||this.skipDistanceCheck){let D=a.offsetHeight+(parseFloat(y.marginTop)+parseFloat(y.marginBottom));i=this.dragLimit.top>m&&m>0?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<m+D&&m>0?m-(m-this.dragLimit.bottom)+window.pageYOffset-D:m<0?this.dragLimit.top:m}}else t=p,i=m;let w,_,v=h+this.borderWidth.top,C=l+this.borderWidth.left;if(this.dragProcessStarted&&(pt(i)&&(i=this.prevTop),pt(t)&&(t=this.prevLeft)),this.dragArea){if(this.dragLimit.top=this.clone?this.dragLimit.top:0,w=i-v<0?this.dragLimit.top:i-v,_=t-C<0?this.dragElePosition.left:t-C,b>0&&(this.clone&&(w+=this.element.offsetTop,m<0&&(this.element.offsetTop+m>=0?w=this.element.offsetTop+m:w-=this.element.offsetTop),w=this.dragLimit.bottom<w?this.dragLimit.bottom:w),i-v<0))if(m+b+(a.offsetHeight-v)>=0){let D=this.dragLimit.top+m-v;D+b+v<0?w-=b+v:w=D}else w-=b+v}else w=i-v,_=t-C;this.enableScrollHandler&&!this.clone&&(w-=this.parentScrollY,_-=this.parentScrollX);let k=this.getProcessedPositionValue({top:w+"px",left:_+"px"});FY(a,this.getDragPosition(k)),!this.elementInViewport(a)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=i,this.position.left=t,this.position.top=i,this.pageX=d,this.pageY=u}triggerOutFunction(e,t){this.hoverObject.instance.intOut(e,t.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null}getDragPosition(e){let t=As({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t}getDocumentWidthHeight(e){let t=document.body,i=document.documentElement;return Math.max(t["scroll"+e],i["scroll"+e],t["offset"+e],i["offset"+e],i["client"+e])}intDragStop(e){if(this.dragProcessStarted=!1,!ni(e.changedTouches)&&1!==e.changedTouches.length)return;if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){let s=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:s,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");let i=this.checkTargetElement(e);i.target&&i.instance&&(i.instance.dragStopCalled=!0,i.instance.dragData[this.scope]=this.droppables[this.scope],i.instance.intDrop(e,i.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}intDestroy(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),Ee.remove(document,vt.touchMoveEvent,this.intDragStart),Ee.remove(document,vt.touchEndEvent,this.intDragStop),Ee.remove(document,vt.touchEndEvent,this.intDestroy),Ee.remove(document,vt.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)}onPropertyChanged(e,t){}getModuleName(){return"draggable"}isDragStarted(e){return e&&(pO.isDragged=!pO.isDragged),pO.isDragged}setDragArea(){let e,t,r,i=0,s=0;if(r="string"==typeof this.dragArea?hO(this.dragArea):this.dragArea,r){let a=r.getBoundingClientRect();e=r.scrollWidth?r.scrollWidth:a.right-a.left,t=r.scrollHeight?r.scrollHeight:a.bottom-a.top;let l=["Top","Left","Bottom","Right"],h=getComputedStyle(r);for(let c=0;c<l.length;c++){let d=l[c],u=h["border"+d+"Width"],p=h["padding"+d],m=d.toLowerCase();this.borderWidth[m]=isNaN(parseFloat(u))?0:parseFloat(u),this.padding[m]=isNaN(parseFloat(p))?0:parseFloat(p)}i=a.top,s=a.left,this.dragLimit.left=s+this.borderWidth.left+this.padding.left,this.dragLimit.top=r.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=s+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=i+t-(this.borderWidth.bottom+this.padding.bottom)}}getProperTargetElement(e){let i,t=this.getCoordinates(e),s=this.helperElement.style.pointerEvents||"";return rO(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.pointerEvents="none",i=document.elementFromPoint(t.clientX,t.clientY),this.helperElement.style.pointerEvents=s):i=e.target,i}currentStateCheck(e,t){let i;return i=pt(this.currentStateTarget)||this.currentStateTarget===e?pt(t)?e:t:this.currentStateTarget,i}getMousePosition(e,t){let r,o,i=void 0!==e.srcElement?e.srcElement:e.target,s=this.getCoordinates(e),a=pt(i.offsetParent);return t?(r=this.clone?s.pageX:s.pageX+(a?0:i.offsetParent.scrollLeft)-this.relativeXPosition,o=this.clone?s.pageY:s.pageY+(a?0:i.offsetParent.scrollTop)-this.relativeYPosition):(r=this.clone?s.pageX:s.pageX+window.pageXOffset-this.relativeXPosition,o=this.clone?s.pageY:s.pageY+window.pageYOffset-this.relativeYPosition),!this.clone&&this.dragArea&&!t&&(this.getScrollableValues(),o-=this.tempScrollHeight?this.parentScrollY:0,r-=this.tempScrollWidth?this.parentScrollX:0),{left:r-(this.margin.left+this.cursorAt.left),top:o-(this.margin.top+this.cursorAt.top)}}getCoordinates(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e}getHelperElement(e){let t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=Fm("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t}setGlobalDroppables(e,t,i){this.droppables[this.scope]=e?null:{draggable:t,helper:i,draggedElement:this.element}}checkTargetElement(e){let t=this.getProperTargetElement(e),i=this.getDropInstance(t);if(!i&&t&&!pt(t.parentNode)){let s=Mc(t.parentNode,".e-droppable")||t.parentElement;s&&(i=this.getDropInstance(s))}return{target:t,instance:i}}getDropInstance(e){let i,s=e&&e.ej2_instances;if(s)for(let r of s)if("droppable"===r.getModuleName()){i=r;break}return i}destroy(){this.toggleEvents(!0),super.destroy()}};En([HY({},fO)],Hn.prototype,"cursorAt",void 0),En([je(!0)],Hn.prototype,"clone",void 0),En([je()],Hn.prototype,"dragArea",void 0),En([je()],Hn.prototype,"isDragScroll",void 0),En([je()],Hn.prototype,"isReplaceDragEle",void 0),En([je(!0)],Hn.prototype,"isPreventSelect",void 0),En([Vn()],Hn.prototype,"drag",void 0),En([Vn()],Hn.prototype,"dragStart",void 0),En([Vn()],Hn.prototype,"dragStop",void 0),En([je(1)],Hn.prototype,"distance",void 0),En([je()],Hn.prototype,"handle",void 0),En([je()],Hn.prototype,"abort",void 0),En([je()],Hn.prototype,"helper",void 0),En([je("default")],Hn.prototype,"scope",void 0),En([je("")],Hn.prototype,"dragTarget",void 0),En([je()],Hn.prototype,"axis",void 0),En([je()],Hn.prototype,"queryPositionInfo",void 0),En([je(!1)],Hn.prototype,"enableTailMode",void 0),En([je(!1)],Hn.prototype,"skipDistanceCheck",void 0),En([je(!0)],Hn.prototype,"preventDefault",void 0),En([je(!1)],Hn.prototype,"enableAutoScroll",void 0),En([je(!1)],Hn.prototype,"enableTapHold",void 0),En([je(750)],Hn.prototype,"tapHoldThreshold",void 0),En([je(!1)],Hn.prototype,"enableScrollHandler",void 0),Hn=tS=En([kc],Hn);var Yb=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};let Nm=class extends Pu{constructor(e,t){super(t,e),this.mouseOver=!1,this.dragData={},this.dragStopCalled=!1,this.bind()}bind(){this.wireEvents()}wireEvents(){Ee.add(this.element,vt.touchEndEvent,this.intDrop,this)}onPropertyChanged(e,t){}getModuleName(){return"droppable"}intOver(e,t){this.mouseOver||(this.trigger("over",{event:e,target:t,dragData:this.dragData[this.scope]}),this.mouseOver=!0)}intOut(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)}intDrop(e,t){if(!this.dragStopCalled)return;this.dragStopCalled=!1;let i=!0;const s=this.dragData[this.scope],r=!!s&&s.helper&&LY(s.helper);let o;r&&(o=this.isDropArea(e,s.helper,t),this.accept&&(i=NY(s.helper,this.accept))),r&&this.drop&&o.canDrop&&i&&this.trigger("drop",{event:e,target:o.target,droppedElement:s.helper,dragData:s}),this.mouseOver=!1}isDropArea(e,t,i){const s={canDrop:!0,target:i||e.target},r="touchend"===e.type;if(r||s.target===t){t.style.display="none";const o=r?e.changedTouches[0]:e,a=document.elementFromPoint(o.clientX,o.clientY);s.canDrop=!1,s.canDrop=rO(a,this.element),s.canDrop&&(s.target=a),t.style.display=""}return s}destroy(){Ee.remove(this.element,vt.touchEndEvent,this.intDrop),super.destroy()}};Yb([je()],Nm.prototype,"accept",void 0),Yb([je("default")],Nm.prototype,"scope",void 0),Yb([Vn()],Nm.prototype,"drop",void 0),Yb([Vn()],Nm.prototype,"over",void 0),Yb([Vn()],Nm.prototype,"out",void 0),Nm=Yb([kc],Nm);var iS,xD=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const dMe={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222};let qb=iS=class extends Pu{constructor(e,t){super(t,e),this.keyPressHandler=i=>{const s=i.altKey,r=i.ctrlKey,o=i.shiftKey,a=i.which,l=Object.keys(this.keyConfigs);for(const h of l){const c=this.keyConfigs[h].split(",");for(const d of c){const u=iS.getKeyConfigData(d.trim());s===u.altKey&&r===u.ctrlKey&&o===u.shiftKey&&a===u.keyCode&&(i.action=h,this.keyAction&&this.keyAction(i))}}},this.bind()}destroy(){this.unwireEvents(),super.destroy()}onPropertyChanged(e,t){}bind(){this.wireEvents()}getModuleName(){return"keyboard"}wireEvents(){this.element.addEventListener(this.eventName,this.keyPressHandler)}unwireEvents(){this.element.removeEventListener(this.eventName,this.keyPressHandler)}static getKeyConfigData(e){if(e in this.configCache)return this.configCache[e];const t=e.toLowerCase().split("+"),i={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return i.keyCode=t[t.length-1].length>1&&Number(t[t.length-1])?Number(t[t.length-1]):iS.getKeyCode(t[t.length-1]),iS.configCache[e]=i,i}static getKeyCode(e){return dMe[e]||e.toUpperCase().charCodeAt(0)}};qb.configCache={},xD([je({})],qb.prototype,"keyConfigs",void 0),xD([je("keyup")],qb.prototype,"eventName",void 0),xD([Vn()],qb.prototype,"keyAction",void 0),qb=iS=xD([kc],qb);var Nu=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class qY extends cO{}Nu([je(50)],qY.prototype,"swipeThresholdDistance",void 0);const uMe=/(Up|Down)/;let Bu=class extends Pu{constructor(e,t){super(t,e),this.touchAction=!0,this.tapCount=0,this.startEvent=i=>{if(!0===this.touchAction){const s=this.updateChangeTouches(i);void 0!==i.changedTouches&&(this.touchAction=!1),this.isTouchMoved=!1,this.movedDirection="",this.startPoint=this.lastMovedPoint={clientX:s.clientX,clientY:s.clientY},this.startEventData=s,this.hScrollLocked=this.vScrollLocked=!1,this.tStampStart=Date.now(),this.timeOutTapHold=setTimeout(()=>{this.tapHoldEvent(i)},this.tapHoldThreshold),Ee.add(this.element,vt.touchMoveEvent,this.moveEvent,this),Ee.add(this.element,vt.touchEndEvent,this.endEvent,this),Ee.add(this.element,vt.touchCancelEvent,this.cancelEvent,this)}},this.moveEvent=i=>{const s=this.updateChangeTouches(i);this.movedPoint=s,this.isTouchMoved=!(s.clientX===this.startPoint.clientX&&s.clientY===this.startPoint.clientY);let r={};this.isTouchMoved&&(clearTimeout(this.timeOutTapHold),this.calcScrollPoints(i),r=As(r,{},{startEvents:this.startEventData,originalEvent:i,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,scrollDirection:this.scrollDirection,velocity:this.getVelocity(s)}),this.trigger("scroll",r),this.lastMovedPoint={clientX:s.clientX,clientY:s.clientY})},this.cancelEvent=i=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap),this.tapCount=0,this.swipeFn(i),Ee.remove(this.element,vt.touchCancelEvent,this.cancelEvent)},this.endEvent=i=>{this.swipeFn(i),this.isTouchMoved||"function"==typeof this.tap&&(this.trigger("tap",{originalEvent:i,tapCount:++this.tapCount}),this.timeOutTap=setTimeout(()=>{this.tapCount=0},this.tapThreshold)),this.modeclear()},this.swipeFn=i=>{clearTimeout(this.timeOutTapHold),clearTimeout(this.timeOutTap);const s=this.updateChangeTouches(i);let r=s.clientX-this.startPoint.clientX,o=s.clientY-this.startPoint.clientY;r=Math.floor(r<0?-1*r:r),o=Math.floor(o<0?-1*o:r),this.isTouchMoved=r>1||o>1,this.endPoint=s,this.calcPoints(i);const a={originalEvent:i,startEvents:this.startEventData,startX:this.startPoint.clientX,startY:this.startPoint.clientY,distanceX:this.distanceX,distanceY:this.distanceY,swipeDirection:this.movedDirection,velocity:this.getVelocity(s)};if(this.isTouchMoved){let l;const h=this.swipeSettings.swipeThresholdDistance;l=As(l,this.defaultArgs,a);let c=!1;const d=this.element,u=this.isScrollable(d),p=uMe.test(this.movedDirection);(h<this.distanceX&&!p||h<this.distanceY&&p)&&(c=!u||this.checkSwipe(d,p)),c&&this.trigger("swipe",l)}this.modeclear()},this.modeclear=()=>{this.modeClear=setTimeout(()=>{this.touchAction=!0},"function"!=typeof this.tap?0:20),this.lastTapTime=(new Date).getTime(),Ee.remove(this.element,vt.touchMoveEvent,this.moveEvent),Ee.remove(this.element,vt.touchEndEvent,this.endEvent),Ee.remove(this.element,vt.touchCancelEvent,this.cancelEvent)},this.bind()}onPropertyChanged(e,t){}bind(){this.wireEvents(),vt.isIE&&this.element.classList.add("e-block-touch")}destroy(){this.unwireEvents(),super.destroy()}wireEvents(){Ee.add(this.element,vt.touchStartEvent,this.startEvent,this)}unwireEvents(){Ee.remove(this.element,vt.touchStartEvent,this.startEvent)}getModuleName(){return"touch"}isScrollable(e){const t=getComputedStyle(e);return!!/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}tapHoldEvent(e){let t;this.tapCount=0,this.touchAction=!0,Ee.remove(this.element,vt.touchMoveEvent,this.moveEvent),Ee.remove(this.element,vt.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),Ee.remove(this.element,vt.touchCancelEvent,this.cancelEvent)}calcPoints(e){const t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.movedDirection=this.distanceX>this.distanceY?t.clientX>this.startPoint.clientX?"Right":"Left":t.clientY<this.startPoint.clientY?"Up":"Down"}calcScrollPoints(e){const t=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)}getVelocity(e){const t=e.clientX,i=e.clientY,s=Date.now(),r=t-this.startPoint.clientX,o=i-this.startPoint.clientX,a=s-this.tStampStart;return Math.sqrt(r*r+o*o)/a}checkSwipe(e,t){const i=["scroll","offset"],s=t?["Height","Top"]:["Width","Left"];return e[i[0]+s[0]]<=e[i[1]+s[0]]||0===e[i[0]+s[1]]||e[i[1]+s[0]]+e[i[0]+s[1]]>=e[i[0]+s[0]]}updateChangeTouches(e){return e.changedTouches&&0!==e.changedTouches.length?e.changedTouches[0]:e}};Nu([Vn()],Bu.prototype,"tap",void 0),Nu([Vn()],Bu.prototype,"tapHold",void 0),Nu([Vn()],Bu.prototype,"swipe",void 0),Nu([Vn()],Bu.prototype,"scroll",void 0),Nu([je(350)],Bu.prototype,"tapThreshold",void 0),Nu([je(750)],Bu.prototype,"tapHoldThreshold",void 0),Nu([HY({},qY)],Bu.prototype,"swipeSettings",void 0),Bu=Nu([kc],Bu);const pMe=new RegExp("\\n|\\r|\\s\\s+","g"),fMe=new RegExp(/'|"/g),mMe=new RegExp("if ?\\("),gMe=new RegExp("else if ?\\("),$Y=new RegExp("else"),yMe=new RegExp("for ?\\("),XY=new RegExp("(/if|/for)"),bMe=new RegExp("\\((.*)\\)",""),mO=new RegExp("^[0-9]+$","g"),vMe=new RegExp("[\\w\"'.\\s+]+","g"),CMe=new RegExp('"(.*?)"',"g"),wMe=new RegExp("[\\w\"'@#$.\\s-+]+","g");let SMe=new RegExp("\\${([^}]*)}","g");const _Me=/^\..*/gm,gO=/\\/gi,xMe=/\\\\/gi,EMe=new RegExp("[\\w\"'@#$.\\s+]+","g"),DMe=/\window\./gm;function $b(n,e,t,i,s){return!e||mO.test(n)||-1!==i.indexOf(n.split(".")[0])||s?n:t+"."+n}function yO(n,e,t,i){return e&&!mO.test(n)&&-1===i.indexOf(n.split(".")[0])?t+'["'+n:n}function ZY(n){return n.match(xMe)?n:n.replace(gO,"\\\\")}function KY(n,e,t,i){if(n=n.trim(),/\window\./gm.test(n))return n;{const r=/'|"/gm;return/@|\$|#/gm.test(n)&&(n=yO(n,-1===t.indexOf(n),e,t)+'"]'),_Me.test(n)?function(n,e,t,i){return!e||mO.test(n)||-1!==i.indexOf(n.split(".")[0])||/^\..*/gm.test(n)?n:t+"."+n}(n,!r.test(n)&&-1===t.indexOf(n),e,t):$b(n,!r.test(n)&&-1===t.indexOf(n),e,t,i)}}new class{compile(e,t={},i){return function(n,e,t){const i="data",s=function(n,e,t,i){let s=0;const r=[],o=n.match(/class="([^"]+|)\s{2}/g);let a="";return o&&o.forEach(l=>{a=l.replace(/\s\s+/g," "),n=n.replace(l,a)}),n.replace(pMe,"").replace(CMe,"'$1'").replace(SMe,(l,h,c,d)=>{const p=h.match(bMe);if(p){const m=p[1];if(gMe.test(h))h='";} '+h.replace(p[1],m.replace(vMe,y=>$b(y=y.trim(),!fMe.test(y)&&-1===r.indexOf(y),e,r,i)))+'{ \n str = str + "';else if(mMe.test(h))h='"; '+h.replace(p[1],m.replace(wMe,y=>KY(y,e,r,i)))+'{ \n str = str + "';else if(yMe.test(h)){const y=p[1].split(" of ");h='"; '+h.replace(p[1],b=>(r.push(y[0]),r.push(y[0]+"Index"),s+=1,"var i"+s+"=0; i"+s+" < "+$b(y[1],!0,e,r,i)+".length; i"+s+"++"))+"{ \n "+y[0]+"= "+$b(y[1],!0,e,r,i)+"[i"+s+"]; \n var "+y[0]+"Index=i"+s+'; \n str = str + "'}else{const y=h.split("(");let b=t&&t.hasOwnProperty(y[0])?"this.":"global";b=/\./.test(y[0])?"":b;const v=p[1].split(",");0!==p[1].length&&!/data/.test(v[0])&&!/window./.test(v[0])&&(p[1]="global"===b?e+"."+p[1]:p[1]);const C=/@|\$|#/gm,w=/\]\./gm;DMe.test(h)&&w.test(h)||C.test(h)?/@|\$|#|\]\./gm.test(h)&&(h='"+ '+("global"===b?"":b)+h.replace(p[1],m.replace(EMe,k=>KY(k,e,r,i)))+'+ "'):h='" + '+("global"===b?"":b)+h.replace(m,$b(p[1].replace(/,( |)data.|,/gi,",data.").replace(/,( |)data.window/gi,",window"),"global"!==b,e,r,i))+'+"'}}else $Y.test(h)?h='"; '+h.replace($Y,'} else { \n str = str + "'):h.match(XY)?h=h.replace(XY,'"; \n } \n str = str + "'):/@|#|\$/gm.test(h)?(h.match(gO)&&(h=ZY(h)),h='"+'+yO(h,-1===r.indexOf(h),e,r)+'"]+"'):h=h.match(gO)?'"+'+yO(h=ZY(h),-1===r.indexOf(h),e,r)+'"]+"':'"+'+$b(h.replace(/,/gi,"+data."),-1===r.indexOf(h),e,r,i)+'+"';return h})}(n,i,e,t);return new Function(i,'var str="'+s+"\";var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25a0\\s]+)['])/g);\n    var hrefRegex = (/(?:href)([\\s='\"./]+)([\\w-./?=&\\\\#\"]+)((.)([\\w)(!-;/?-\u25a0\\s]+)['])/g);\n    if(str.match(valueRegEx)){\n        var check = str.match(valueRegEx);\n        var str1 = str;\n        for (var i=0; i < check.length; i++) {\n            var check1 = str.match(valueRegEx)[i].split('value=')[1];\n            var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n            change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n            str1 = str1.replace(check1, change);\n        }\n        str = str.replace(str, str1);\n    }\n    else if(str.match(hrefRegex)) {\n        var check = str.match(hrefRegex);\n        var str1 = str;\n        for (var i=0; i < check.length; i++) {\n            var check1 = str.match(hrefRegex)[i].split('href=')[1];\n            var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '\"') : check1;\n            change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'\"') : change;\n            str1 = str1.replace(check1, change);\n        }\n        str = str.replace(str, str1);\n    }\n     return str;").bind(e)}(e,t)}};const PMe=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],OMe=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],QY=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onerror","onfocus","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onmousewheel","onstart","onpropertychange"];class ED{static beforeSanitize(){return{selectors:{tags:PMe,attributes:OMe}}}static sanitize(e){const t=this.beforeSanitize();return this.serializeValue(t,e)}static serializeValue(e,t){this.removeAttrs=e.selectors.attributes,this.removeTags=e.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=t,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();const i=this.wrapElement.innerHTML;return this.removeElement(),i}static removeElement(){const e=this.wrapElement.children;for(let t=0;t<e.length;t++){const i=e[t].attributes;for(let s=0;s<i.length;s++)this.wrapElement.children[t].removeAttribute(i[s].localName)}}static removeXssTags(){const e=this.wrapElement.querySelectorAll(this.removeTags.join(","));e.length>0&&e.forEach(t=>{Md(t)})}static removeJsEvents(){const e=this.wrapElement.querySelectorAll("["+QY.join("],[")+"]");e.length>0&&e.forEach(t=>{QY.forEach(i=>{t.hasAttribute(i)&&t.removeAttribute(i)})})}static removeXssAttrs(){this.removeAttrs.forEach((e,t)=>{const i=this.wrapElement.querySelectorAll(e.selector);i.length>0&&i.forEach(s=>{s.removeAttribute(e.attribute)})})}}function vO(n,e,t,i,s,r){let o=i;if(i.tagName===e){const a=Ke("ej2_instances",i);o=n("input",{attrs:{type:t}});const l=["change","cssClass","label","labelPosition","id"];for(let h=0,c=i.attributes.length;h<c;h++)-1===l.indexOf(i.attributes[h].nodeName)&&o.setAttribute(i.attributes[h].nodeName,i.attributes[h].nodeValue);lO(i,{class:s,role:r,"aria-checked":"false"}),i.appendChild(o),Dd("ej2_instances",a,o),gY(i,"ej2_instances")}return o}function DD(n,e){if(e){const t=document.createEvent("MouseEvents");t.initEvent(n.type,!1,!0),e.dispatchEvent(t)}}function JY(n,e){n.element.getAttribute("ejs-for")&&e.appendChild(n.createElement("input",{attrs:{name:n.name||n.element.name,value:"false",type:"hidden"}}))}new Zw;var jl=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const CO="e-check",eq="e-checkbox-disabled",sS="e-frame",wO="e-stop",SO="e-label",MD="e-ripple-container",_O="e-ripple-check",xO="e-ripple-stop",EO="e-rtl",DO="e-checkbox-wrapper",HMe=["title","class","style","disabled","readonly","name","value"];let Xa=class extends Ad{constructor(e,t){super(e,t),this.isFocused=!1,this.isMouseClick=!1}changeState(e){let t,i;const s=this.getWrapper().getElementsByClassName(sS)[0];Fu&&(i=this.getWrapper().getElementsByClassName(MD)[0]),"check"===e?(s.classList.remove(wO),s.classList.add(CO),i&&(i.classList.remove(xO),i.classList.add(_O)),t="true",this.element.checked=!0):"uncheck"===e?(Fo([s],[CO,wO]),i&&Fo([i],[_O,xO]),t="false",this.element.checked=!1):(s.classList.remove(CO),s.classList.add(wO),i&&(i.classList.remove(_O),i.classList.add(xO)),t="mixed",this.element.indeterminate=!0),this.getWrapper().setAttribute("aria-checked",t)}clickHandler(e){this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0);const t={checked:this.updateVueArrayModel(!1),event:e};this.trigger("change",t),e.stopPropagation()}destroy(){let e=this.getWrapper();super.destroy(),this.wrapper&&(e=this.wrapper,this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(this.getWrapper()&&e.parentNode&&e.parentNode.insertBefore(this.element,e),Md(e),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(t=>{this.element.removeAttribute(t)})):(["role","aria-checked","class"].forEach(t=>{e.removeAttribute(t)}),e.innerHTML=""))}focusHandler(){this.isFocused=!0}focusOutHandler(){const e=this.getWrapper();e&&e.classList.remove("e-focus"),this.isFocused=!1}getModuleName(){return"checkbox"}getPersistData(){return this.addOnPersist(["checked","indeterminate"])}getWrapper(){return this.element&&this.element.parentElement?this.element.parentElement.parentElement:null}initialize(){pt(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&(this.element.setAttribute("value",this.value),this.isVue&&"boolean"==typeof this.value&&!0===this.value&&this.setProperties({checked:!0},!0)),this.checked&&this.changeState("check"),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()}initWrapper(){let e=this.element.parentElement;e.classList.contains(DO)||(e=this.createElement("div",{className:DO,attrs:{role:"checkbox","aria-checked":"false"}}),this.element.parentNode.insertBefore(e,this.element));const t=this.createElement("label",{attrs:{for:this.element.id}}),i=this.createElement("span",{className:"e-icons "+sS});if(e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(EO),this.cssClass&&Oo([e],this.cssClass.split(" ")),e.appendChild(t),t.appendChild(this.element),JY(this,t),t.appendChild(i),Fu){const s=this.createElement("span",{className:MD});"Before"===this.labelPosition?t.appendChild(s):t.insertBefore(s,i),eS(s,{duration:400,isCenterRipple:!0})}this.label&&this.setText(this.label)}keyUpHandler(){this.isFocused&&this.getWrapper().classList.add("e-focus")}labelMouseDownHandler(e){this.isMouseClick=!0,DD(e,this.getWrapper().getElementsByClassName(MD)[0])}labelMouseUpHandler(e){this.isMouseClick=!0;const t=this.getWrapper().getElementsByClassName(MD)[0];if(t){const i=t.querySelectorAll(".e-ripple-element");for(let s=0;s<i.length-1;s++)t.removeChild(t.childNodes[s]);DD(e,t)}}onPropertyChanged(e,t){const i=this.getWrapper();for(const s of Object.keys(e))switch(s){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(e.checked?"check":"uncheck");break;case"indeterminate":e.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":e.disabled?(this.setDisabled(),this.wrapper=this.getWrapper(),this.unWireEvents()):(this.element.disabled=!1,i.classList.remove(eq),i.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":t.cssClass&&Fo([i],t.cssClass.split(" ")),e.cssClass&&Oo([i],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?i.classList.add(EO):i.classList.remove(EO);break;case"label":this.setText(e.label);break;case"labelPosition":{const r=i.getElementsByClassName(SO)[0],o=i.getElementsByTagName("label")[0];Md(r),"After"===e.labelPosition?o.appendChild(r):o.insertBefore(r,i.getElementsByClassName(sS)[0]);break}case"name":this.element.setAttribute("name",e.name);break;case"value":if(this.isVue&&"object"==typeof e.value)break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper()}}preRender(){let e=this.element;this.formElement=Mc(this.element,"form"),this.tagName=this.element.tagName,e=vO(this.createElement,"EJS-CHECKBOX","checkbox",e,DO,"checkbox"),this.element=e,"checkbox"!==this.element.getAttribute("type")&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=nO("e-"+this.getModuleName()))}render(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.updateVueArrayModel(!0),this.renderComplete(),this.wrapper=this.getWrapper()}setDisabled(){const e=this.getWrapper();this.element.disabled=!0,e.classList.add(eq),e.setAttribute("aria-disabled","true")}setText(e){const t=this.getWrapper();if(!t)return;let i=t.getElementsByClassName(SO)[0];if(i)i.textContent=e;else{e=this.enableHtmlSanitizer?ED.sanitize(e):e,i=this.createElement("span",{className:SO,innerHTML:e});const s=t.getElementsByTagName("label")[0];"Before"===this.labelPosition?s.insertBefore(i,t.getElementsByClassName(sS)[0]):s.appendChild(i)}}changeHandler(e){e.stopPropagation()}formResetHandler(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue}unWireEvents(){const e=this.wrapper;Ee.remove(this.element,"click",this.clickHandler),Ee.remove(this.element,"keyup",this.keyUpHandler),Ee.remove(this.element,"focus",this.focusHandler),Ee.remove(this.element,"focusout",this.focusOutHandler);const t=e.getElementsByTagName("label")[0];Ee.remove(t,"mousedown",this.labelMouseDownHandler),Ee.remove(t,"mouseup",this.labelMouseUpHandler),this.formElement&&Ee.remove(this.formElement,"reset",this.formResetHandler),"EJS-CHECKBOX"===this.tagName&&Ee.remove(this.element,"change",this.changeHandler)}wireEvents(){const e=this.getWrapper();Ee.add(this.element,"click",this.clickHandler,this),Ee.add(this.element,"keyup",this.keyUpHandler,this),Ee.add(this.element,"focus",this.focusHandler,this),Ee.add(this.element,"focusout",this.focusOutHandler,this);const t=e.getElementsByTagName("label")[0];Ee.add(t,"mousedown",this.labelMouseDownHandler,this),Ee.add(t,"mouseup",this.labelMouseUpHandler,this),this.formElement&&Ee.add(this.formElement,"reset",this.formResetHandler,this),"EJS-CHECKBOX"===this.tagName&&Ee.add(this.element,"change",this.changeHandler,this)}updateVueArrayModel(e){if(this.isVue&&"object"==typeof this.value){const t=this.element.value;if(t&&this.value){if(!e){const i=this.value.indexOf(t);return this.checked?i<0&&this.value.push(t):i>-1&&this.value.splice(i,1),this.value}for(let i=0;i<this.value.length;i++)t===this.value[i]&&(this.changeState("check"),this.setProperties({checked:!0},!0))}}return this.element.checked}updateHtmlAttributeToWrapper(){if(!pt(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(HMe.indexOf(e)>-1){const t=this.getWrapper();"class"===e?Oo([t],this.htmlAttributes[e].split(" ")):"title"===e?t.setAttribute(e,this.htmlAttributes[e]):"style"===e?this.getWrapper().getElementsByClassName(sS)[0].setAttribute(e,this.htmlAttributes[e]):this.element.setAttribute(e,this.htmlAttributes[e])}}click(){this.element.click()}focusIn(){this.element.focus()}};jl([Vn()],Xa.prototype,"change",void 0),jl([Vn()],Xa.prototype,"created",void 0),jl([je(!1)],Xa.prototype,"checked",void 0),jl([je("")],Xa.prototype,"cssClass",void 0),jl([je(!1)],Xa.prototype,"disabled",void 0),jl([je(!1)],Xa.prototype,"indeterminate",void 0),jl([je("")],Xa.prototype,"label",void 0),jl([je("After")],Xa.prototype,"labelPosition",void 0),jl([je("")],Xa.prototype,"name",void 0),jl([je("")],Xa.prototype,"value",void 0),jl([je(!1)],Xa.prototype,"enableHtmlSanitizer",void 0),jl([je({})],Xa.prototype,"htmlAttributes",void 0),Xa=jl([kc],Xa);var MO,Mh=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const kD="e-label",tq="e-ripple-container",kO="e-rtl",AO="e-radio-wrapper",jMe=["title","class","style","disabled","readonly","name","value"];let fl=MO=class extends Ad{constructor(e,t){super(e,t),this.isFocused=!1}changeHandler(e){this.checked=!0,this.dataBind();let t=this.element.getAttribute("value");t=this.isVue&&t?this.element.value:this.value,this.trigger("change",{value:t,event:e}),"EJS-RADIOBUTTON"===this.tagName&&e.stopPropagation()}updateChange(){let e,t;const i=this.getRadioGroup();for(let s=0;s<i.length;s++)e=i[s],e!==this.element&&(t=wDe(e,MO),t.checked=!1,"EJS-RADIOBUTTON"===this.tagName&&(t.angularValue=this.value))}destroy(){const e=this.element.parentElement;super.destroy(),this.disabled||this.unWireEvents(),"INPUT"===this.tagName?(e.parentNode&&e.parentNode.insertBefore(this.element,e),Md(e),this.element.checked=!1,["name","value","disabled"].forEach(t=>{this.element.removeAttribute(t)})):(["role","aria-checked","class"].forEach(t=>{e.removeAttribute(t)}),e.innerHTML="")}focusHandler(){this.isFocused=!0}focusOutHandler(){const e=this.getLabel();e&&e.classList.remove("e-focus")}getModuleName(){return"radio"}getSelectedValue(){let e;const t=this.getRadioGroup();for(let i=0,s=t.length;i<s;i++)if(e=t[i],e.checked)return e.value;return""}getRadioGroup(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')}getPersistData(){return this.addOnPersist(["checked"])}getWrapper(){return this.element?this.element.parentElement:null}getLabel(){return this.element?this.element.nextElementSibling:null}initialize(){pt(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.updateHtmlAttribute(),this.name&&this.element.setAttribute("name",this.name);const e=this.element.getAttribute("value");this.isVue&&e&&e===this.value&&(this.checked=!0),(this.isVue?this.value&&!e:this.value)&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()}initWrapper(){let e,t=this.element.parentElement;t.classList.contains(AO)||(t=this.createElement("div",{className:AO}),this.element.parentNode.insertBefore(t,this.element));const i=this.createElement("label",{attrs:{for:this.element.id}});t.appendChild(this.element),t.appendChild(i),Fu&&(e=this.createElement("span",{className:tq}),i.appendChild(e),eS(e,{duration:400,isCenterRipple:!0})),t.classList.add("e-wrapper"),this.enableRtl&&i.classList.add(kO),this.cssClass&&Oo([t],this.cssClass.split(" ")),this.label&&this.setText(this.label)}keyUpHandler(){this.isFocused&&this.getLabel().classList.add("e-focus")}labelRippleHandler(e){DD(e,this.getLabel().getElementsByClassName(tq)[0])}formResetHandler(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&lO(this.element,{checked:"true"})}onPropertyChanged(e,t){const i=this.getWrapper(),s=this.getLabel();for(const r of Object.keys(e))switch(r){case"checked":e.checked&&this.updateChange(),this.element.checked=e.checked;break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":t.cssClass&&Fo([i],t.cssClass.split(" ")),e.cssClass&&Oo([i],e.cssClass.split(" "));break;case"enableRtl":e.enableRtl?s.classList.add(kO):s.classList.remove(kO);break;case"label":this.setText(e.label);break;case"labelPosition":"Before"===e.labelPosition?s.classList.add("e-right"):s.classList.remove("e-right");break;case"name":this.element.setAttribute("name",e.name);break;case"value":if(!pt(this.htmlAttributes)&&this.htmlAttributes.value)break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttribute()}}preRender(){let e=this.element;if(this.formElement=Mc(this.element,"form"),this.tagName=this.element.tagName,e=vO(this.createElement,"EJS-RADIOBUTTON","radio",e,AO,"radio"),this.element=e,"radio"!==this.element.getAttribute("type")&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=nO("e-"+this.getModuleName())),"EJS-RADIOBUTTON"===this.tagName){const t=this.element.getAttribute("formcontrolname");t&&(this.setProperties({name:t},!0),this.element.setAttribute("name",t))}}render(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}setDisabled(){this.element.disabled=!0}setText(e){const t=this.getLabel();let i=t.getElementsByClassName(kD)[0];i?i.textContent=e:(e=this.enableHtmlSanitizer?ED.sanitize(e):e,i=this.createElement("span",{className:kD,innerHTML:e}),t.appendChild(i)),"Before"===this.labelPosition?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")}updateHtmlAttribute(){if(!pt(this.htmlAttributes))for(const e of Object.keys(this.htmlAttributes))if(jMe.indexOf(e)>-1){const t=this.element.parentElement;"class"===e?Oo([t],this.htmlAttributes[e].split(" ")):"title"===e||"style"===e?t.setAttribute(e,this.htmlAttributes[e]):this.element.setAttribute(e,this.htmlAttributes[e])}}unWireEvents(){const e=this.getLabel();Ee.remove(this.element,"change",this.changeHandler),Ee.remove(this.element,"focus",this.focusHandler),Ee.remove(this.element,"focusout",this.focusOutHandler),Ee.remove(this.element,"keyup",this.keyUpHandler);const t=e.getElementsByClassName(kD)[0];t&&(Ee.remove(t,"mousedown",this.labelRippleHandler),Ee.remove(t,"mouseup",this.labelRippleHandler)),this.formElement&&Ee.remove(this.formElement,"reset",this.formResetHandler)}wireEvents(){const e=this.getLabel();Ee.add(this.element,"change",this.changeHandler,this),Ee.add(this.element,"keyup",this.keyUpHandler,this),Ee.add(this.element,"focus",this.focusHandler,this),Ee.add(this.element,"focusout",this.focusOutHandler,this);const t=e.getElementsByClassName(kD)[0];t&&(Ee.add(t,"mousedown",this.labelRippleHandler,this),Ee.add(t,"mouseup",this.labelRippleHandler,this)),this.formElement&&Ee.add(this.formElement,"reset",this.formResetHandler,this)}click(){this.element.click()}focusIn(){this.element.focus()}};Mh([Vn()],fl.prototype,"change",void 0),Mh([Vn()],fl.prototype,"created",void 0),Mh([je(!1)],fl.prototype,"checked",void 0),Mh([je("")],fl.prototype,"cssClass",void 0),Mh([je(!1)],fl.prototype,"disabled",void 0),Mh([je("")],fl.prototype,"label",void 0),Mh([je("After")],fl.prototype,"labelPosition",void 0),Mh([je("")],fl.prototype,"name",void 0),Mh([je("")],fl.prototype,"value",void 0),Mh([je(!1)],fl.prototype,"enableHtmlSanitizer",void 0),Mh([je({})],fl.prototype,"htmlAttributes",void 0),fl=MO=Mh([kc],fl);var Td=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const iq="e-switch-disabled",AD="e-ripple-container",sq="e-ripple-check",TO="e-rtl",LO="e-switch-wrapper",nq="e-switch-active";let kh=class extends Ad{constructor(e,t){super(e,t),this.isFocused=!1,this.isDrag=!1}changeState(e){let t,i;const s=this.getWrapper(),r=s.querySelector(".e-switch-inner"),o=s.querySelector(".e-switch-handle");Fu&&(i=s.getElementsByClassName(AD)[0]),e?(Oo([r,o],nq),t="true",this.element.checked=!0,this.checked=!0,i&&Oo([i],[sq])):(Fo([r,o],nq),t="false",this.element.checked=!1,this.checked=!1,i&&Fo([i],[sq])),s.setAttribute("aria-checked",t)}clickHandler(e){this.isDrag=!1,this.focusOutHandler(),this.changeState(!this.checked),this.element.focus(),this.trigger("change",{checked:this.element.checked,event:e})}destroy(){super.destroy(),this.disabled||this.unWireEvents(),function(n,e,t){"INPUT"===t?(e.parentNode.insertBefore(n.element,e),Md(e),n.element.checked=!1,["name","value","disabled"].forEach(i=>{n.element.removeAttribute(i)})):(["role","aria-checked","class"].forEach(i=>{e.removeAttribute(i)}),e.innerHTML="")}(this,this.getWrapper(),this.tagName)}focusHandler(){this.isFocused=!0}focusOutHandler(){this.getWrapper().classList.remove("e-focus")}getModuleName(){return"switch"}getPersistData(){return this.addOnPersist(["checked"])}getWrapper(){return this.element.parentElement}initialize(){pt(this.initialSwitchCheckedValue)&&(this.initialSwitchCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&this.element.setAttribute("value",this.value),this.checked&&this.changeState(!0),this.disabled&&this.setDisabled(),(this.onLabel||this.offLabel)&&this.setLabel(this.onLabel,this.offLabel)}initWrapper(){let e=this.element.parentElement;e.classList.contains(LO)||(e=this.createElement("div",{className:LO,attrs:{role:"switch","aria-checked":"false"}}),this.element.parentNode.insertBefore(e,this.element));const t=this.createElement("span",{className:"e-switch-inner"}),i=this.createElement("span",{className:"e-switch-on"}),s=this.createElement("span",{className:"e-switch-off"}),r=this.createElement("span",{className:"e-switch-handle"});if(e.appendChild(this.element),JY(this,e),t.appendChild(i),t.appendChild(s),e.appendChild(t),e.appendChild(r),Fu){const o=this.createElement("span",{className:AD});r.appendChild(o),eS(o,{duration:400,isCenterRipple:!0})}e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(TO),this.cssClass&&Oo([e],this.cssClass.split(" "))}onPropertyChanged(e,t){const i=this.getWrapper();for(const s of Object.keys(e))switch(s){case"checked":this.changeState(e.checked);break;case"disabled":e.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,i.classList.remove(iq),i.setAttribute("aria-disabled","false"),this.wireEvents());break;case"value":this.element.setAttribute("value",e.value);break;case"name":this.element.setAttribute("name",e.name);break;case"onLabel":case"offLabel":this.setLabel(e.onLabel,e.offLabel);break;case"enableRtl":e.enableRtl?i.classList.add(TO):i.classList.remove(TO);break;case"cssClass":t.cssClass&&Fo([i],t.cssClass.split(" ")),e.cssClass&&Oo([i],e.cssClass.split(" "))}}preRender(){const e=this.element;this.formElement=Mc(this.element,"form"),this.tagName=this.element.tagName,function(n,e,t,i,s){i=vO(n.createElement,"EJS-SWITCH","checkbox",i,"e-switch-wrapper",s),n.element=i,"checkbox"!==n.element.getAttribute("type")&&n.element.setAttribute("type","checkbox"),n.element.id||(n.element.id=nO("e-"+s))}(this,0,0,e,this.getModuleName())}render(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()}rippleHandler(e){DD(e,this.getWrapper().getElementsByClassName(AD)[0]),"mousedown"===e.type&&e.currentTarget.classList.contains("e-switch-wrapper")&&1===e.which&&(this.isDrag=!0,this.isFocused=!1)}rippleTouchHandler(e){const t=this.getWrapper().getElementsByClassName(AD)[0];if(t){const i=document.createEvent("MouseEvents");i.initEvent(e,!1,!0),t.dispatchEvent(i)}}setDisabled(){const e=this.getWrapper();this.element.disabled=!0,e.classList.add(iq),e.setAttribute("aria-disabled","true")}setLabel(e,t){const i=this.getWrapper();e&&(i.querySelector(".e-switch-on").textContent=e),t&&(i.querySelector(".e-switch-off").textContent=t)}switchFocusHandler(){this.isFocused&&this.getWrapper().classList.add("e-focus")}switchMouseUp(e){const t=e.target;"touchmove"===e.type&&e.preventDefault(),"touchstart"===e.type&&(this.isDrag=!0,this.rippleTouchHandler("mousedown")),this.isDrag&&("mouseup"===e.type&&t.className.indexOf("e-switch")<0||"touchend"===e.type)&&(this.clickHandler(e),this.rippleTouchHandler("mouseup"),e.preventDefault())}formResetHandler(){this.checked=this.initialSwitchCheckedValue,this.element.checked=this.initialSwitchCheckedValue}toggle(){this.clickHandler()}wireEvents(){const e=this.getWrapper();this.delegateMouseUpHandler=this.switchMouseUp.bind(this),this.delegateKeyUpHandler=this.switchFocusHandler.bind(this),Ee.add(e,"click",this.clickHandler,this),Ee.add(this.element,"focus",this.focusHandler,this),Ee.add(this.element,"focusout",this.focusOutHandler,this),Ee.add(this.element,"mouseup",this.delegateMouseUpHandler,this),Ee.add(this.element,"keyup",this.delegateKeyUpHandler,this),Ee.add(e,"mousedown mouseup",this.rippleHandler,this),Ee.add(e,"touchstart touchmove touchend",this.switchMouseUp,this),this.formElement&&Ee.add(this.formElement,"reset",this.formResetHandler,this)}unWireEvents(){const e=this.getWrapper();Ee.remove(e,"click",this.clickHandler),Ee.remove(this.element,"focus",this.focusHandler),Ee.remove(this.element,"focusout",this.focusOutHandler),Ee.remove(this.element,"mouseup",this.delegateMouseUpHandler),Ee.remove(this.element,"keyup",this.delegateKeyUpHandler),Ee.remove(e,"mousedown mouseup",this.rippleHandler),Ee.remove(e,"touchstart touchmove touchend",this.switchMouseUp),this.formElement&&Ee.remove(this.formElement,"reset",this.formResetHandler)}click(){this.element.click()}focusIn(){this.element.focus()}};Td([Vn()],kh.prototype,"change",void 0),Td([Vn()],kh.prototype,"created",void 0),Td([je(!1)],kh.prototype,"checked",void 0),Td([je("")],kh.prototype,"cssClass",void 0),Td([je(!1)],kh.prototype,"disabled",void 0),Td([je("")],kh.prototype,"name",void 0),Td([je("")],kh.prototype,"onLabel",void 0),Td([je("")],kh.prototype,"offLabel",void 0),Td([je("")],kh.prototype,"value",void 0),kh=Td([kc],kh);var No=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};const Yt={chipSet:"e-chip-set",chip:"e-chip",avatar:"e-chip-avatar",text:"e-chip-text",icon:"e-chip-icon",delete:"e-chip-delete",deleteIcon:"e-dlt-btn",multiSelection:"e-multi-selection",singleSelection:"e-selection",active:"e-active",chipWrapper:"e-chip-avatar-wrap",iconWrapper:"e-chip-icon-wrap",focused:"e-focused",disabled:"e-disabled",rtl:"e-rtl"};let Zr=class extends Ad{constructor(e,t){super(e,t),this.multiSelectedChip=[]}preRender(){}chipType(){return this.chips&&this.chips.length&&this.chips.length>0}render(){this.type=this.chips.length?"chipset":this.text||this.element.innerText?"chip":"chipset",this.setAttributes(),this.createChip(),this.setRtl(),this.select(this.selectedChips,void 0),this.wireEvent(!1),this.rippleFunction=eS(this.element,{selector:".e-chip"}),this.renderComplete()}createChip(){this.innerText=this.element.innerText&&0!==this.element.innerText.length?this.element.innerText.trim():this.element.innerText,this.element.innerHTML="",this.chipCreation("chip"===this.type?[this.innerText?this.innerText:this.text]:this.chips)}setAttributes(){"chip"===this.type?(this.element.tabIndex=0,this.element.setAttribute("role","option")):(this.element.classList.add(Yt.chipSet),this.element.setAttribute("role","listbox"),"Multiple"===this.selection?(this.element.classList.add(Yt.multiSelection),this.element.setAttribute("aria-multiselectable","true")):"Single"===this.selection?(this.element.classList.add(Yt.singleSelection),this.element.setAttribute("aria-multiselectable","false")):this.element.setAttribute("aria-multiselectable","false"))}setRtl(){this.element.classList[this.enableRtl?"add":"remove"](Yt.rtl)}chipCreation(e){let t=[];for(let i=0;i<e.length;i++){const s=this.getFieldValues(e[i]),r=this.elementCreation(s),o=(Yt.chip+" "+(s.enabled?" ":Yt.disabled)+" "+(s.avatarIconCss||s.avatarText?Yt.chipWrapper:s.leadingIconCss?Yt.iconWrapper:" ")+" "+s.cssClass).split(" ").filter(a=>a);if(this.chipType()){const a=this.createElement("DIV",{className:o.join(" "),attrs:{tabIndex:"0",role:"option","aria-label":s.text,"aria-selected":"false"}});s.value&&a.setAttribute("data-value",s.value.toString()),RY(r,a),t.push(a)}else t=r,Oo([this.element],o),this.element.setAttribute("aria-label",s.text),s.value&&this.element.setAttribute("data-value",s.value.toString())}RY(t,this.element)}getFieldValues(e){const t="false"!==this.enabled.toString();return{text:"object"==typeof e?e.text?e.text.toString():this.text.toString():this.chipType()?e.toString():this.innerText?this.innerText:this.text.toString(),cssClass:"object"==typeof e&&e.cssClass?e.cssClass.toString():this.cssClass.toString(),leadingIconCss:"object"==typeof e&&e.leadingIconCss?e.leadingIconCss.toString():this.leadingIconCss.toString(),avatarIconCss:"object"==typeof e&&e.avatarIconCss?e.avatarIconCss.toString():this.avatarIconCss.toString(),avatarText:"object"==typeof e&&e.avatarText?e.avatarText.toString():this.avatarText.toString(),trailingIconCss:"object"==typeof e&&e.trailingIconCss?e.trailingIconCss.toString():this.trailingIconCss.toString(),enabled:"object"==typeof e?pt(e.enabled)?t:"false"!==e.enabled.toString():t,value:"object"==typeof e&&e.value?e.value.toString():null,leadingIconUrl:"object"==typeof e&&e.leadingIconUrl?e.leadingIconUrl.toString():this.leadingIconUrl,trailingIconUrl:"object"==typeof e&&e.trailingIconUrl?e.trailingIconUrl.toString():this.trailingIconUrl}}elementCreation(e){const t=[];if(e.avatarText||e.avatarIconCss){const s=(Yt.avatar+" "+e.avatarIconCss).trim(),r=this.createElement("span",{className:s});r.innerText=e.avatarText,t.push(r)}else if(e.leadingIconCss){const s=(Yt.icon+" "+e.leadingIconCss).trim(),r=this.createElement("span",{className:s});t.push(r)}else if(e.leadingIconUrl){const s=(Yt.avatar+" image-url").trim(),r=this.createElement("span",{className:s});r.style.backgroundImage="url("+e.leadingIconUrl+")",t.push(r)}const i=this.createElement("span",{className:Yt.text});if(i.innerText=e.text,t.push(i),e.trailingIconCss||this.chipType()&&this.enableDelete){const s=(Yt.delete+" "+(e.trailingIconCss?e.trailingIconCss:Yt.deleteIcon)).trim(),r=this.createElement("span",{className:s});t.push(r)}else if(e.trailingIconUrl){const s="trailing-icon-url".trim(),r=this.createElement("span",{className:s});r.style.backgroundImage="url("+e.trailingIconUrl+")",t.push(r)}return t}find(e){let t;const i=e instanceof HTMLElement?e:this.element.querySelectorAll("."+Yt.chip)[e];return i&&this.chipType()&&(t={text:void 0,index:void 0,element:void 0,data:void 0},t.index=Array.prototype.slice.call(this.element.querySelectorAll("."+Yt.chip)).indexOf(i),t.text="object"==typeof this.chips[t.index]?this.chips[t.index].text?this.chips[t.index].text.toString():"":this.chips[t.index].toString(),t.data=this.chips[t.index],t.element=i),t}add(e){if("chip"!==this.type){const t=e instanceof Array?e:[e];this.chips.push(...t),this.chipCreation(t)}}select(e,t){this.onSelect(e,!1,t)}multiSelection(e){const t=this.element.querySelectorAll(".e-chip");for(let i=0;i<e.length;i++)if("string"==typeof e[i]){for(let s=0;s<t.length;s++)if(e[i]!==s&&e[i]===t[s].attributes[5].value){this.multiSelectedChip.push(s);break}}else this.multiSelectedChip.push(e[i])}onSelect(e,t,i){let s,r,o;if(this.chipType()&&"None"!==this.selection){if(t){const l=this.element.querySelectorAll("."+Yt.chip);for(let h=0;h<l.length;h++)l[h].setAttribute("aria-selected","false"),l[h].classList.remove(Yt.active)}const a=e instanceof Array?e:[e];for(let l=0;l<a.length;l++){let h=a[l]instanceof HTMLElement?a[l]:this.element.querySelectorAll("."+Yt.chip)[a[l]];if("index"!==i)for(let c=0;c<this.chips.length;c++){r=this.element.querySelectorAll("."+Yt.chip)[c];const d=this.getFieldValues(this.chips[c]);"value"===i?null!==d.value&&(o=r.dataset.value):"text"===i&&(o=r.innerText),o===a[l].toString()&&(s=c,h=this.element.querySelectorAll("."+Yt.chip)[s])}h instanceof HTMLElement&&this.selectionHandler(h)}}}remove(e){if(this.chipType()){const t=e instanceof Array?e:[e],i=[],s=this.element.querySelectorAll("."+Yt.chip);t.forEach(r=>{const o=r instanceof HTMLElement?r:s[r];o instanceof HTMLElement&&i.push(o)}),i.forEach(r=>{const o=this.element.querySelectorAll("."+Yt.chip),a=Array.prototype.slice.call(o).indexOf(r);this.deleteHandler(r,a)})}}getSelectedChips(){let e;if(this.chipType()&&"None"!==this.selection){const t={texts:[],Indexes:[],data:[],elements:[]},i=this.element.querySelectorAll("."+Yt.active);for(let r=0;r<i.length;r++){const o=i[r];t.elements.push(o);const a=Array.prototype.slice.call(this.element.querySelectorAll("."+Yt.chip)).indexOf(o);t.Indexes.push(a),t.data.push(this.chips[a]);const l="object"==typeof this.chips[a]?this.chips[a].text?this.chips[a].text.toString():null:this.chips[a].toString();t.texts.push(l)}const s={text:t.texts[0],index:t.Indexes[0],data:t.data[0],element:t.elements[0]};e=pt(s.index)?void 0:"Multiple"===this.selection?t:s}return e}wireEvent(e){e?(Ee.remove(this.element,"click",this.clickHandler),Ee.remove(this.element,"focusout",this.focusOutHandler),Ee.remove(this.element,"keydown",this.keyHandler),Ee.remove(this.element,"keyup",this.keyHandler)):(Ee.add(this.element,"click",this.clickHandler,this),Ee.add(this.element,"focusout",this.focusOutHandler,this),Ee.add(this.element,"keydown",this.keyHandler,this),Ee.add(this.element,"keyup",this.keyHandler,this))}keyHandler(e){e.target.classList.contains(Yt.chip)&&("keydown"===e.type?13===e.keyCode?this.clickHandler(e):46===e.keyCode&&this.enableDelete&&this.clickHandler(e,!0):9===e.keyCode&&this.focusInHandler(e.target))}focusInHandler(e){e.classList.contains(Yt.focused)||e.classList.add(Yt.focused)}focusOutHandler(e){const t=Mc(e.target,"."+Yt.chip),i=this.chipType()?this.element.querySelector("."+Yt.focused):this.element.classList.contains(Yt.focused)?this.element:null;t&&i&&i.classList.remove(Yt.focused)}clickHandler(e,t=!1){const i=Mc(e.target,"."+Yt.chip);if(i){let s;if(this.chipType())s=this.find(i);else{const r=Array.prototype.slice.call(this.element.querySelectorAll("."+Yt.chip)).indexOf(i);s={text:this.innerText?this.innerText:this.text,element:i,data:this.text,index:r}}s.event=e,s.cancel=!1,this.trigger("beforeClick",s,r=>{r.cancel||this.clickEventHandler(r.element,e,t)})}}clickEventHandler(e,t,i){if(this.chipType()){const s=this.find(e);s.event=t,(t.target.classList.contains(Yt.deleteIcon)?t.target:i?e.querySelector("."+Yt.deleteIcon):void 0)&&this.enableDelete?(s.cancel=!1,this.trigger("delete",s,a=>{a.cancel||(this.deleteHandler(a.element,a.index),this.selectionHandler(e),s.selected=a.element.classList.contains(Yt.active),this.trigger("click",s))})):"None"!==this.selection?(this.selectionHandler(e),s.selected=e.classList.contains(Yt.active),this.trigger("click",s)):(this.focusInHandler(e),this.trigger("click",s))}else this.focusInHandler(e),this.trigger("click",{text:this.innerText?this.innerText:this.text,element:e,data:this.text,event:t})}selectionHandler(e){if("Single"===this.selection){const t=this.element.querySelector("."+Yt.active);t&&t!==e&&(t.classList.remove(Yt.active),t.setAttribute("aria-selected","false")),this.setProperties({selectedChips:null},!0)}else this.setProperties({selectedChips:[]},!0);e.classList.contains(Yt.active)?(e.classList.remove(Yt.active),e.setAttribute("aria-selected","false")):(e.classList.add(Yt.active),e.setAttribute("aria-selected","true")),this.updateSelectedChips()}updateSelectedChips(){const e=this.element.querySelectorAll(".e-chip"),t=[],i=[];let r,s=null;for(let o=0;o<e.length;o++){const a=this.element.querySelectorAll(".e-chip")[o];if("true"===a.getAttribute("aria-selected")){if(r=a.getAttribute("data-value"),"Single"===this.selection&&a.classList.contains("e-active")){s=r||o;break}s=r?i.push(r):t.push(o)}}this.setProperties({selectedChips:"Single"===this.selection?s:r?i:t},!0)}deleteHandler(e,t){this.chips.splice(t,1),this.setProperties({chips:this.chips},!0),Md(e)}destroy(){Fo([this.element],[Yt.chipSet,Yt.chip,Yt.rtl,Yt.multiSelection,Yt.singleSelection,Yt.disabled,Yt.chipWrapper,Yt.iconWrapper,Yt.active,Yt.focused].concat(this.cssClass.toString().split(" ").filter(e=>e))),this.removeMultipleAttributes(["tabindex","role","aria-label","aria-multiselectable"],this.element),this.wireEvent(!0),this.rippleFunction(),super.destroy(),this.element.innerHTML="",this.element.innerText=this.innerText}removeMultipleAttributes(e,t){e.forEach(i=>{t.removeAttribute(i)})}getPersistData(){return this.addOnPersist([])}getModuleName(){return"chip-list"}onPropertyChanged(e,t){let i;for(const s of Object.keys(e))switch(s){case"chips":case"text":case"avatarText":case"avatarIconCss":case"leadingIconCss":case"trailingIconCss":case"selection":case"enableDelete":case"enabled":this.refresh();break;case"cssClass":this.chipType()?this.refresh():(Fo([this.element],t.cssClass.toString().split(" ").filter(r=>r)),Oo([this.element],e.cssClass.toString().split(" ").filter(r=>r)));break;case"selectedChips":Fo(this.element.querySelectorAll(".e-active"),"e-active"),"Multiple"===this.selection?(this.multiSelectedChip=[],this.multiSelection(e.selectedChips),this.onSelect(this.multiSelectedChip,!0,i),this.updateSelectedChips()):this.onSelect(e.selectedChips,!0,i);break;case"enableRtl":this.setRtl()}}};No([je([])],Zr.prototype,"chips",void 0),No([je("")],Zr.prototype,"text",void 0),No([je("")],Zr.prototype,"avatarText",void 0),No([je("")],Zr.prototype,"avatarIconCss",void 0),No([je("")],Zr.prototype,"leadingIconCss",void 0),No([je("")],Zr.prototype,"trailingIconCss",void 0),No([je("")],Zr.prototype,"leadingIconUrl",void 0),No([je("")],Zr.prototype,"trailingIconUrl",void 0),No([je("")],Zr.prototype,"cssClass",void 0),No([je(!0)],Zr.prototype,"enabled",void 0),No([je([])],Zr.prototype,"selectedChips",void 0),No([je("None")],Zr.prototype,"selection",void 0),No([je(!1)],Zr.prototype,"enableDelete",void 0),No([Vn()],Zr.prototype,"created",void 0),No([Vn()],Zr.prototype,"click",void 0),No([Vn()],Zr.prototype,"beforeClick",void 0),No([Vn()],Zr.prototype,"delete",void 0),Zr=No([kc],Zr);const Bo=new Ie("NgValueAccessor");let JO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[Rs]]}),n})();const Wke=["focus","blur","change","created","checkedChange","indeterminateChange"],Uke=["checked","indeterminate"];let Vm=eF=class extends Xa{constructor(e,t,i,s){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=s,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(Wke),this.addTwoWay.call(this,Uke),Hi("currentInstance",this,this.viewContainerRef),this.formContext=new Ey,this.formCompContext=new Xn}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var eF;Vm.\u0275fac=function(e){return new(e||Vm)(E(_e),E(ns),E(Ye),E(_t))},Vm.\u0275cmp=ct({type:Vm,selectors:[["ejs-checkbox"]],inputs:{checked:"checked",cssClass:"cssClass",disabled:"disabled",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",htmlAttributes:"htmlAttributes",indeterminate:"indeterminate",label:"label",labelPosition:"labelPosition",locale:"locale",name:"name",value:"value"},outputs:{focus:"focus",blur:"blur",change:"change",created:"created",checkedChange:"checkedChange",indeterminateChange:"indeterminateChange"},features:[Je([{provide:Bo,useExisting:es(()=>eF),multi:!0}]),oe],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),Vm.ctorParameters=()=>[{type:_e},{type:ns},{type:Ye},{type:_t}],Vm=eF=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([ah([Xn,Ey]),function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[_e,ns,Ye,_t])],Vm);const qke=["focus","blur","change","created","valueChange"],$ke=["value"];let Hm=tF=class extends fl{constructor(e,t,i,s){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=s,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(qke),this.addTwoWay.call(this,$ke),Hi("currentInstance",this,this.viewContainerRef),this.formContext=new Ey,this.formCompContext=new Xn}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var tF;Hm.\u0275fac=function(e){return new(e||Hm)(E(_e),E(ns),E(Ye),E(_t))},Hm.\u0275cmp=ct({type:Hm,selectors:[["ejs-radiobutton"]],inputs:{checked:"checked",cssClass:"cssClass",disabled:"disabled",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableRtl:"enableRtl",htmlAttributes:"htmlAttributes",label:"label",labelPosition:"labelPosition",locale:"locale",name:"name",value:"value"},outputs:{focus:"focus",blur:"blur",change:"change",created:"created",valueChange:"valueChange"},features:[Je([{provide:Bo,useExisting:es(()=>tF),multi:!0}]),oe],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),Hm.ctorParameters=()=>[{type:_e},{type:ns},{type:Ye},{type:_t}],Hm=tF=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([ah([Xn,Ey]),function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[_e,ns,Ye,_t])],Hm);const Kke=["focus","blur","change","created","checkedChange"],Qke=["checked"];let jm=iF=class extends kh{constructor(e,t,i,s){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=i,this.injector=s,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(Kke),this.addTwoWay.call(this,Qke),Hi("currentInstance",this,this.viewContainerRef),this.formContext=new Ey,this.formCompContext=new Xn}registerOnChange(e){}registerOnTouched(e){}writeValue(e){}setDisabledState(e){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};var iF;jm.\u0275fac=function(e){return new(e||jm)(E(_e),E(ns),E(Ye),E(_t))},jm.\u0275cmp=ct({type:jm,selectors:[["ejs-switch"]],inputs:{checked:"checked",cssClass:"cssClass",disabled:"disabled",enablePersistence:"enablePersistence",enableRtl:"enableRtl",locale:"locale",name:"name",offLabel:"offLabel",onLabel:"onLabel",value:"value"},outputs:{focus:"focus",blur:"blur",change:"change",created:"created",checkedChange:"checkedChange"},features:[Je([{provide:Bo,useExisting:es(()=>iF),multi:!0}]),oe],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),jm.ctorParameters=()=>[{type:_e},{type:ns},{type:Ye},{type:_t}],jm=iF=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([ah([Xn,Ey]),function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[_e,ns,Ye,_t])],jm);let Jke=["avatarIconCss","avatarText","cssClass","enabled","leadingIconCss","leadingIconUrl","text","trailingIconCss","trailingIconUrl","value"],eAe=[],tAe=(()=>{class n extends sn{constructor(t){super(),this.viewContainerRef=t,Hi("currentInstance",this,this.viewContainerRef),this.registerEvents(eAe),this.directivePropList=Jke}}return n.\u0275fac=function(t){return new(t||n)(E(Ye))},n.\u0275dir=ee({type:n,selectors:[["e-chip"]],inputs:{avatarIconCss:"avatarIconCss",avatarText:"avatarText",cssClass:"cssClass",enabled:"enabled",leadingIconCss:"leadingIconCss",leadingIconUrl:"leadingIconUrl",text:"text",trailingIconCss:"trailingIconCss",trailingIconUrl:"trailingIconUrl",value:"value"},features:[oe]}),n})(),iAe=(()=>{class n extends nn{constructor(){super("chips")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["e-chips"]],contentQueries:function(t,i,s){if(1&t&&Se(s,tAe,4),2&t){let r;de(r=ue())&&(i.children=r)}},features:[oe]}),n})();const rAe=["beforeClick","click","created","delete"],oAe=[""];let l$=(()=>{let n=class extends Zr{constructor(t,i,s,r){super(),this.ngEle=t,this.srenderer=i,this.viewContainerRef=s,this.injector=r,this.tags=["chips"],this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(rAe),this.addTwoWay.call(this,oAe),Hi("currentInstance",this,this.viewContainerRef),this.context=new Xn}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.tagObjects[0].instance=this.childChips,this.context.ngAfterContentChecked(this)}};return n.\u0275fac=function(t){return new(t||n)(E(_e),E(ns),E(Ye),E(_t))},n.\u0275cmp=ct({type:n,selectors:[["ejs-chiplist"]],contentQueries:function(t,i,s){if(1&t&&Se(s,iAe,5),2&t){let r;de(r=ue())&&(i.childChips=r.first)}},inputs:{avatarIconCss:"avatarIconCss",avatarText:"avatarText",chips:"chips",cssClass:"cssClass",enableDelete:"enableDelete",enablePersistence:"enablePersistence",enableRtl:"enableRtl",enabled:"enabled",leadingIconCss:"leadingIconCss",leadingIconUrl:"leadingIconUrl",locale:"locale",selectedChips:"selectedChips",selection:"selection",text:"text",trailingIconCss:"trailingIconCss",trailingIconUrl:"trailingIconUrl"},outputs:{beforeClick:"beforeClick",click:"click",created:"created",delete:"delete"},features:[oe],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();l$=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}([ah([Xn]),function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:paramtypes",e)}(0,[_e,ns,Ye,_t])],l$);class zl extends ht{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Sf;return this._value}next(e){super.next(this._value=e)}}function Lt(...n){let e=n[n.length-1];return cg(e)?(n.pop(),mk(n,e)):gk(n)}function df(){}function ra(n,e,t){return function(s){return s.lift(new gAe(n,e,t))}}class gAe{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new yAe(e,this.nextOrObserver,this.error,this.complete))}}class yAe extends Zs{constructor(e,t,i,s){super(e),this._tapNext=df,this._tapError=df,this._tapComplete=df,this._tapError=i||df,this._tapComplete=s||df,Nc(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||df,this._tapError=t.error||df,this._tapComplete=t.complete||df)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class bAe extends Ti{constructor(e,t){super()}schedule(e,t=0){return this}}class WD extends bAe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,i=!1;try{this.work(e)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let d$=(()=>{class n{constructor(t,i=n.now){this.SchedulerAction=t,this.now=i}schedule(t,i=0,s){return new this.SchedulerAction(this,t).schedule(s,i)}}return n.now=()=>Date.now(),n})();class Rc extends d${constructor(e,t=d$.now){super(e,()=>Rc.delegate&&Rc.delegate!==this?Rc.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return Rc.delegate&&Rc.delegate!==this?Rc.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const oF=new Rc(WD);function Vo(n,e){return function(i){return i.lift(new SAe(n,e))}}class SAe{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new _Ae(e,this.predicate,this.thisArg))}}class _Ae extends Zs{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}const u$=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})(),zm=new fs(n=>n.complete());function GD(n){return n?function(n){return new fs(e=>n.schedule(()=>e.complete()))}(n):zm}function yo(n){return e=>0===n?GD():e.lift(new EAe(n))}class EAe{constructor(e){if(this.total=e,this.total<0)throw new u$}call(e,t){return t.subscribe(new DAe(e,this.total))}}class DAe extends Zs{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}class MAe{constructor(e){this.total=e}call(e,t){return t.subscribe(new kAe(e,this.total))}}class kAe extends Zs{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}class AAe{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new TAe(e,this.compare,this.keySelector))}}class TAe extends Zs{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:s}=this;t=s?s(e):e}catch(s){return this.destination.error(s)}let i=!1;if(this.hasKey)try{const{compare:s}=this;i=s(this.key,t)}catch(s){return this.destination.error(s)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}function vi(n){return e=>e.lift(new LAe(n))}class LAe{constructor(e){this.notifier=e}call(e,t){const i=new RAe(e),s=Ev(this.notifier,new _v(i));return s&&!i.seenValue?(i.add(s),t.subscribe(i)):i}}class RAe extends xv{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function mt(n){return null!=n&&"false"!=`${n}`}function qD(n){return Array.isArray(n)?n:[n]}function Kr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ju(n){return n instanceof _e?n.nativeElement:n}let aF;try{aF="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){aF=!1}let dS,Wm,lF,Ic,Fs=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===w7}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!aF)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)($(hy))},n.\u0275prov=Ne({factory:function(){return new n($(hy))},token:n,providedIn:"root"}),n})(),Zb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({}),n})();function uS(n){return function(){if(null==dS&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dS=!0}))}finally{dS=dS||!1}return dS}()?n:!!n.capture}function g$(){if(null==Wm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Wm=!1,Wm;if("scrollBehavior"in document.documentElement.style)Wm=!0;else{const n=Element.prototype.scrollTo;Wm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Wm}function Um(n){return n.composedPath?n.composedPath()[0]:n.target}function hF(){return void 0!==Ic.__karma__&&!!Ic.__karma__||void 0!==Ic.jasmine&&!!Ic.jasmine||void 0!==Ic.jest&&!!Ic.jest||void 0!==Ic.Mocha&&!!Ic.Mocha}Ic="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};let cF=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ne({factory:function(){return new n},token:n,providedIn:"root"}),n})(),v$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[cF]}),n})();function T$(n){return 0===n.offsetX&&0===n.offsetY}function L$(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const R$=new Ie("cdk-input-modality-detector-options"),rTe={ignoreKeys:[18,17,224,91,16]},Qb=uS({passive:!0,capture:!0});let P$=(()=>{class n{constructor(t,i,s,r){this._platform=t,this._mostRecentTarget=null,this._modality=new zl(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(h=>h===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Um(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(T$(o)?"keyboard":"mouse"),this._mostRecentTarget=Um(o))},this._onTouchstart=o=>{L$(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Um(o))},this._options=Object.assign(Object.assign({},rTe),r),this.modalityDetected=this._modality.pipe(function(n){return e=>e.lift(new MAe(n))}(1)),this.modalityChanged=this.modalityDetected.pipe(function(n,e){return t=>t.lift(new AAe(n,e))}()),t.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Qb),s.addEventListener("mousedown",this._onMousedown,Qb),s.addEventListener("touchstart",this._onTouchstart,Qb)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qb),document.removeEventListener("mousedown",this._onMousedown,Qb),document.removeEventListener("touchstart",this._onTouchstart,Qb))}}return n.\u0275fac=function(t){return new(t||n)($(Fs),$(wt),$(gt),$(R$,8))},n.\u0275prov=Ne({factory:function(){return new n($(Fs),$(wt),$(gt),$(R$,8))},token:n,providedIn:"root"}),n})();const B$=new Ie("cdk-focus-monitor-default-options"),KD=uS({passive:!0,capture:!0});let zu=(()=>{class n{constructor(t,i,s,r,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ht,this._rootNodeFocusAndBlurListener=a=>{const l=Um(a),h="focus"===a.type?this._onFocus:this._onBlur;for(let c=l;c;c=c.parentElement)h.call(this,a,c)},this._document=r,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,i=!1){const s=ju(t);if(!this._platform.isBrowser||1!==s.nodeType)return Lt(null);const r=function(n){if(function(){if(null==lF){const n="undefined"!=typeof document?document.head:null;lF=!(!n||!n.createShadowRoot&&!n.attachShadow)}return lF}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(s)||this._getDocument(),o=this._elementInfo.get(s);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new ht,rootNode:r};return this._elementInfo.set(s,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=ju(t),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(t,i,s){const r=ju(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof r.focus&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,i,s){s?t.classList.add(i):t.classList.remove(i)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){this._toggleClass(t,"cdk-focused",!!i),this._toggleClass(t,"cdk-touch-focused","touch"===i),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===i),this._toggleClass(t,"cdk-mouse-focused","mouse"===i),this._toggleClass(t,"cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const s=this._elementInfo.get(i),r=Um(t);!s||!s.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),s)}_onBlur(t,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(s.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,KD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,KD)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(vi(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,KD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,KD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,s){this._setClasses(t,i),this._emitOrigin(s.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((s,r)=>{(r===t||s.checkChildren&&r.contains(t))&&i.push([r,s])}),i}}return n.\u0275fac=function(t){return new(t||n)($(wt),$(Fs),$(P$),$(gt,8),$(B$,8))},n.\u0275prov=Ne({factory:function(){return new n($(wt),$(Fs),$(P$),$(gt,8),$(B$,8))},token:n,providedIn:"root"}),n})();const H$="cdk-high-contrast-black-on-white",j$="cdk-high-contrast-white-on-black",pF="cdk-high-contrast-active";let z$=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(t):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(pF),t.remove(H$),t.remove(j$),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(pF),t.add(H$)):2===i&&(t.add(pF),t.add(j$))}}}return n.\u0275fac=function(t){return new(t||n)($(Fs),$(gt))},n.\u0275prov=Ne({factory:function(){return new n($(Fs),$(gt))},token:n,providedIn:"root"}),n})(),fF=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)($(z$))},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[Zb,v$]]}),n})();const W$=new Ie("cdk-dir-doc",{providedIn:"root",factory:function(){return eA(gt)}});let aa=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new et,t){const s=t.documentElement?t.documentElement.dir:null,r=(t.body?t.body.dir:null)||s;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)($(W$,8))},n.\u0275prov=Ne({factory:function(){return new n($(W$,8))},token:n,providedIn:"root"}),n})(),fS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({}),n})();const U$=new op("12.2.11");function QD(...n){return Dv(1)(Lt(...n))}class G${}const Wu="*";function Y$(n,e=null){return{type:2,steps:n,options:e}}function ur(n){return{type:6,styles:n,offset:null}}function q$(n){Promise.resolve(null).then(n)}class Jb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){q$(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class $${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,s=0;const r=this.players.length;0==r?q$(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(s)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function X$(){return"undefined"!=typeof window&&void 0!==window.document}function yF(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function uf(n){switch(n.length){case 0:return new Jb;case 1:return n[0];default:return new $$(n)}}function Z$(n,e,t,i,s={},r={}){const o=[],a=[];let l=-1,h=null;if(i.forEach(c=>{const d=c.offset,u=d==l,p=u&&h||{};Object.keys(c).forEach(m=>{let y=m,b=c[m];if("offset"!==m)switch(y=e.normalizePropertyName(y,o),b){case"!":b=s[m];break;case Wu:b=r[m];break;default:b=e.normalizeStyleValue(m,y,b,o)}p[y]=b}),u||a.push(p),h=p,l=d}),o.length){const c="\n - ";throw new Error(`Unable to animate due to the following errors:${c}${o.join(c)}`)}return a}function bF(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&vF(t,"start",n)));break;case"done":n.onDone(()=>i(t&&vF(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&vF(t,"destroy",n)))}}function vF(n,e,t){const i=t.totalTime,r=CF(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),o=n._data;return null!=o&&(r._data=o),r}function CF(n,e,t,i,s="",r=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function Wl(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function K$(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let wF=(n,e)=>!1,SF=(n,e)=>!1,Q$=(n,e,t)=>[];const J$=yF();(J$||"undefined"!=typeof Element)&&(wF=X$()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),SF=(()=>{if(J$||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,i)=>e.apply(t,[i]):SF}})(),Q$=(n,e,t)=>{let i=[];if(t){const s=n.querySelectorAll(e);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(e);s&&i.push(s)}return i});let Ym=null,eX=!1;function _F(n){Ym||(Ym=("undefined"!=typeof document?document.body:null)||{},eX=!!Ym.style&&"WebkitAppearance"in Ym.style);let e=!0;return Ym.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ym.style,!e&&eX&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ym.style)),e}const xF=SF,EF=wF,DF=Q$;function tX(n){const e={};return Object.keys(n).forEach(t=>{const i=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=n[t]}),e}let iX=(()=>{class n{validateStyleProperty(t){return _F(t)}matchesElement(t,i){return xF(t,i)}containsElement(t,i){return EF(t,i)}query(t,i,s){return DF(t,i,s)}computeStyle(t,i,s){return s||""}animate(t,i,s,r,o,a=[],l){return new Jb(s,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})(),MF=(()=>{class n{}return n.NOOP=new iX,n})();const kF="ng-enter",JD="ng-leave",eM="ng-trigger",tM=".ng-trigger",nX="ng-animating",AF=".ng-animating";function qm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:TF(parseFloat(e[1]),e[2])}function TF(n,e){switch(e){case"s":return 1e3*n;default:return n}}function iM(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=TF(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(r=TF(parseFloat(l),a[4]));const h=a[5];h&&(o=h)}else s=n;if(!t){let a=!1,l=e.length;s<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:o}}(n,e,t)}function ev(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function pf(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else ev(n,t);return t}function oX(n,e,t){return t?e+":"+t+";":""}function aX(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=oX(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=oX(0,CTe(t),n.style[t]));n.setAttribute("style",e)}function Id(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const s=RF(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[s]),n.style[s]=e[i]}),yF()&&aX(n))}function $m(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=RF(t);n.style[i]=""}),yF()&&aX(n))}function mS(n){return Array.isArray(n)?1==n.length?n[0]:Y$(n):n}const LF=new RegExp("{{\\s*(.+?)\\s*}}","g");function lX(n){let e=[];if("string"==typeof n){let t;for(;t=LF.exec(n);)e.push(t[1]);LF.lastIndex=0}return e}function sM(n,e,t){const i=n.toString(),s=i.replace(LF,(r,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return s==i?n:s}function nM(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const vTe=/-+([a-z0-9])/g;function RF(n){return n.replace(vTe,(...e)=>e[1].toUpperCase())}function CTe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hX(n,e){return 0===n||0===e}function cX(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let r=e[0],o=[];if(i.forEach(a=>{r.hasOwnProperty(a)||o.push(a),r[a]=t[a]}),o.length)for(var s=1;s<e.length;s++){let a=e[s];o.forEach(function(l){a[l]=IF(n,l)})}}return e}function Ul(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function IF(n,e){return window.getComputedStyle(n)[e]}function wTe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,e,t){if(":"==n[0]){const l=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const s=i[1],r=i[2],o=i[3];e.push(dX(s,o));"<"==r[0]&&!("*"==s&&"*"==o)&&e.push(dX(o,s))}(i,t,e)):t.push(n),t}const oM=new Set(["true","1"]),aM=new Set(["false","0"]);function dX(n,e){const t=oM.has(n)||aM.has(n),i=oM.has(e)||aM.has(e);return(s,r)=>{let o="*"==n||n==s,a="*"==e||e==r;return!o&&t&&"boolean"==typeof s&&(o=s?oM.has(n):aM.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?oM.has(e):aM.has(e)),o&&a}}const xTe=new RegExp("s*:selfs*,?","g");function PF(n,e,t){return new ETe(n).build(e,t)}class ETe{constructor(e){this._driver=e}build(e,t){const i=new kTe(t);return this._resetContextStyleTimingState(i),Ul(this,mS(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,s=t.depCount=0;const r=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,h=l.name;h.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,r.push(this.visitState(l,t))}),l.name=h}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,s+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};if(i.styles.forEach(a=>{if(lM(a)){const l=a;Object.keys(l).forEach(h=>{lX(l[h]).forEach(c=>{o.hasOwnProperty(c)||r.add(c)})})}}),r.size){const a=nM(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:i,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ul(this,mS(e.animation),t);return{type:1,matchers:wTe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Xm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ul(this,i,t)),options:Xm(e.options)}}visitGroup(e,t){const i=t.currentTime;let s=0;const r=e.steps.map(o=>{t.currentTime=i;const a=Ul(this,o,t);return s=Math.max(s,t.currentTime),a});return t.currentTime=s,{type:3,steps:r,options:Xm(e.options)}}visitAnimate(e,t){const i=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return OF(iM(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=OF(0,0,"");return r.dynamic=!0,r.strValue=i,r}return t=t||iM(i,e),OF(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let s,r=e.styles?e.styles:ur({});if(5==r.type)s=this.visitKeyframes(r,t);else{let o=e.styles,a=!1;if(!o){a=!0;const h={};i.easing&&(h.easing=i.easing),o=ur(h)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,s=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Wu?i.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(e.styles);let s=!1,r=null;return i.forEach(o=>{if(lM(o)){const a=o,l=a.easing;if(l&&(r=l,delete a.easing),!s)for(let h in a)if(a[h].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let s=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],h=l[a];let c=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),c=!1),r=h.startTime),c&&(l[a]={startTime:r,endTime:s}),t.options&&function(n,e,t){const i=e.params||{},s=lX(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||t.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const o=[];let a=!1,l=!1,h=0;const c=e.steps.map(v=>{const C=this._makeStyleAst(v,t);let w=null!=C.offset?C.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(lM(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(lM(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(C.styles),_=0;return null!=w&&(r++,_=C.offset=w),l=l||_<0||_>1,a=a||_<h,h=_,o.push(_),C});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let u=0;r>0&&r<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(d-1));const p=d-1,m=t.currentTime,y=t.currentAnimateTimings,b=y.duration;return c.forEach((v,C)=>{const w=u>0?C==p?1:u*C:o[C],_=w*b;t.currentTime=m+y.delay+_,y.duration=_,this._validateStyleAst(v,t),v.offset=w,i.styles.push(v)}),i}visitReference(e,t){return{type:8,animation:Ul(this,mS(e.animation),t),options:Xm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Xm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Xm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[r,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(xTe,"")),[n=n.replace(/@\*/g,tM).replace(/@\w+/g,t=>tM+"-"+t.substr(1)).replace(/:animating/g,AF),e]}(e.selector);t.currentQuerySelector=i.length?i+" "+r:r,Wl(t.collectedStyles,t.currentQuerySelector,{});const a=Ul(this,mS(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Xm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:iM(e.timings,t.errors,!0);return{type:12,animation:Ul(this,mS(e.animation),t),timings:i,options:null}}}class kTe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function lM(n){return!Array.isArray(n)&&"object"==typeof n}function Xm(n){return n?(n=ev(n)).params&&(n.params=function(n){return n?ev(n):null}(n.params)):n={},n}function OF(n,e,t){return{duration:n,delay:e,easing:t}}function FF(n,e,t,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class hM{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ITe=new RegExp(":enter","g"),OTe=new RegExp(":leave","g");function NF(n,e,t,i,s,r={},o={},a,l,h=[]){return(new FTe).buildKeyframes(n,e,t,i,s,r,o,a,l,h)}class FTe{buildKeyframes(e,t,i,s,r,o,a,l,h,c=[]){h=h||new hM;const d=new BF(e,t,h,s,r,c,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),Ul(this,i,d);const u=d.timelines.filter(p=>p.containsAnimation());if(u.length&&Object.keys(a).length){const p=u[u.length-1];p.allowOnlyTimelineStyles()||p.setStyles([a],null,d.errors,l)}return u.length?u.map(p=>p.buildKeyframes()):[FF(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const s=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let r=t.currentTimeline.currentTime;const o=null!=i.duration?qm(i.duration):null,a=null!=i.delay?qm(i.delay):null;return 0!==o&&e.forEach(l=>{const h=t.appendInstructionToTimeline(l,o,a);r=Math.max(r,h.duration+h.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),Ul(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let s=t;const r=e.options;if(r&&(r.params||r.delay)&&(s=t.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=cM);const o=qm(r.delay);s.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ul(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let s=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?qm(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);r&&a.delayNextStep(r),Ul(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return iM(t.params?sM(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),s.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(i.duration),this.visitStyle(r,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,s=t.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(r):i.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,s=t.currentTimeline.duration,r=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*r),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(s+r),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,s=e.options||{},r=s.delay?qm(s.delay):0;r&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=cM);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((h,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,h);r&&d.delayNextStep(r),h===t.element&&(l=d.currentTimeline),Ul(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,s=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const c=t.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;Ul(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=s.currentTime-d+(s.startTime-i.currentTimeline.startTime)}}const cM={};class BF{constructor(e,t,i,s,r,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new dM(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let s=this.options;null!=i.duration&&(s.duration=qm(i.duration)),null!=i.delay&&(s.delay=qm(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=sM(r[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(s=>{i[s]=t[s]})}}return e}createSubContext(e=null,t,i){const s=t||this.element,r=new BF(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=cM,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},r=new NTe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,s,r,o){let a=[];if(s&&a.push(this.element),e.length>0){e=(e=e.replace(ITe,"."+this._enterClassName)).replace(OTe,"."+this._leaveClassName);let h=this._driver.query(this.element,e,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),a.push(...h)}return!r&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class dM{constructor(e,t,i,s){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new dM(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Wu,this._currentKeyframe[t]=Wu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,s){t&&(this._previousKeyframe.easing=t);const r=s&&s.params||{},o=function(n,e){const t={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(e),i.forEach(r=>{t[r]=Wu})):pf(s,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=sM(o[a],r,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Wu),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],s=e._styleSummary[t];(!i||s.time>i.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,l)=>{const h=pf(a,!0);Object.keys(h).forEach(c=>{const d=h[c];"!"==d?e.add(c):d==Wu&&t.add(c)}),i||(h.offset=l/this.duration),s.push(h)});const r=e.size?nM(e.values()):[],o=t.size?nM(t.values()):[];if(i){const a=s[0],l=ev(a);a.offset=0,l.offset=1,s=[a,l]}return FF(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class NTe extends dM{constructor(e,t,i,s,r,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],o=i+t,a=t/o,l=pf(e[0],!1);l.offset=0,r.push(l);const h=pf(e[0],!1);h.offset=fX(a),r.push(h);const c=e.length-1;for(let d=1;d<=c;d++){let u=pf(e[d],!1);u.offset=fX((t+u.offset*i)/o),r.push(u)}i=o,t=0,s="",e=r}return FF(this.element,e,this.preStyleProps,this.postStyleProps,i,t,s,!0)}}function fX(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class VF{}class VTe extends VF{normalizePropertyName(e,t){return RF(e)}normalizeStyleValue(e,t,i,s){let r="";const o=i.toString().trim();if(HTe[t]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(`Please provide a CSS unit value for ${e}:${i}`)}return o+r}}const HTe=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function mX(n,e,t,i,s,r,o,a,l,h,c,d,u){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:h,postStyleProps:c,totalTime:d,errors:u}}const HF={};class gX{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,s){return function(n,e,t,i,s){return n.some(r=>r(e,t,i,s))}(this.ast.matchers,e,t,i,s)}buildStyles(e,t,i){const s=this._stateStyles["*"],r=this._stateStyles[e],o=s?s.buildStyles(t,i):{};return r?r.buildStyles(t,i):o}build(e,t,i,s,r,o,a,l,h,c){const d=[],u=this.ast.options&&this.ast.options.params||HF,m=this.buildStyles(i,a&&a.params||HF,d),y=l&&l.params||HF,b=this.buildStyles(s,y,d),v=new Set,C=new Map,w=new Map,_="void"===s,k={params:Object.assign(Object.assign({},u),y)},D=c?[]:NF(e,t,this.ast.animation,r,o,m,b,k,h,d);let I=0;if(D.forEach(N=>{I=Math.max(N.duration+N.delay,I)}),d.length)return mX(t,this._triggerName,i,s,_,m,b,[],[],C,w,I,d);D.forEach(N=>{const X=N.element,H=Wl(C,X,{});N.preStyleProps.forEach(G=>H[G]=!0);const q=Wl(w,X,{});N.postStyleProps.forEach(G=>q[G]=!0),X!==t&&v.add(X)});const O=nM(v.values());return mX(t,this._triggerName,i,s,_,m,b,D,O,C,w,I)}}class WTe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},s=ev(this.defaultParams);return Object.keys(e).forEach(r=>{const o=e[r];null!=o&&(s[r]=o)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const o=r;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=sM(l,s,t));const h=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,h,l,t),i[h]=l})}}),i}}class GTe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(s=>{this.states[s.name]=new WTe(s.style,s.options&&s.options.params||{},i)}),yX(this.states,"true","1"),yX(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new gX(e,s,this.states))}),this.fallbackTransition=function(n,e,t){return new gX(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,s){return this.transitionFactories.find(o=>o.match(e,t,i,s))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function yX(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const qTe=new hM;class $Te{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=PF(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=s}_buildPlayer(e,t,i){const s=e.element,r=Z$(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(s,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const s=[],r=this._animations[e];let o;const a=new Map;if(r?(o=NF(this._driver,t,r,kF,JD,{},{},i,qTe,s),o.forEach(c=>{const d=Wl(a,c.element,{});c.postStyleProps.forEach(u=>d[u]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),o=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);a.forEach((c,d)=>{Object.keys(c).forEach(u=>{c[u]=this._driver.computeStyle(d,u,Wu)})});const h=uf(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,{},d)}));return this._playersById[e]=h,h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,s){const r=CF(t,"","","");return bF(this._getPlayer(e),i,r,s),()=>{}}command(e,t,i,s){if("register"==i)return void this.register(e,s[0]);if("create"==i)return void this.create(e,t,s[0]||{});const r=this._getPlayer(e);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const bX="ng-animate-queued",vX="ng-animate-disabled",CX=".ng-animate-disabled",QTe=[],wX={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JTe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Lh="__ng_removed";class jF{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?e.value:e),i){const r=ev(e);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(s=>{null==i[s]&&(i[s]=t[s])})}}}const gS="void",zF=new jF(gS);class eLe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rh(t,this._hostClassName)}listen(e,t,i,s){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);const r=Wl(this._elementListeners,e,[]),o={name:t,phase:i,callback:s};r.push(o);const a=Wl(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Rh(e,eM),Rh(e,eM+"-"+t),a[t]=zF),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,s=!0){const r=this._getTrigger(t),o=new WF(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Rh(e,eM),Rh(e,eM+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const h=new jF(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&h.absorbOptions(l.options),a[t]=h,l||(l=zF),h.value!==gS&&l.value===h.value){if(!function(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let s=0;s<t.length;s++){const r=t[s];if(!e.hasOwnProperty(r)||n[r]!==e[r])return!1}return!0}(l.params,h.params)){const y=[],b=r.matchStyles(l.value,l.params,y),v=r.matchStyles(h.value,h.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{$m(e,b),Id(e,v)})}return}const u=Wl(this._engine.playersByElement,e,[]);u.forEach(y=>{y.namespaceId==this.id&&y.triggerName==t&&y.queued&&y.destroy()});let p=r.matchTransition(l.value,h.value,e,h.params),m=!1;if(!p){if(!s)return;p=r.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:h,player:o,isFallbackTransition:m}),m||(Rh(e,bX),o.onStart(()=>{tv(e,bX)})),o.onDone(()=>{let y=this.players.indexOf(o);y>=0&&this.players.splice(y,1);const b=this._engine.playersByElement.get(e);if(b){let v=b.indexOf(o);v>=0&&b.splice(v,1)}}),this.players.push(o),u.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,tM,!0);i.forEach(s=>{if(s[Lh])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,i,s){const r=this._engine.statesByElement.get(e);if(r){const o=[];if(Object.keys(r).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,gS,s);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&uf(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const s=new Set;t.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const l=this._triggers[o].fallbackTransition,h=i[o]||zF,c=new jF(gS),d=new WF(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:h,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(e):[];if(r&&r.length)s=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)i.markElementAsRemoved(this.id,e,!1,t);else{const r=e[Lh];(!r||r===wX)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Rh(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=CF(r,i.triggerName,i.fromState.value,i.toState.value);l._data=e,bF(i.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(i)}),this._queue=[],t.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class tLe{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new eLe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),s=!0;break}s||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let s=this._namespaceLookup[e];s&&s.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const o=i[s[r]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,i,s){if(uM(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,i,s),!0}return!1}insertNode(e,t,i,s){if(!uM(t))return;const r=t[Lh];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rh(e,vX)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),tv(e,vX))}removeNode(e,t,i,s){if(uM(t)){const r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,i,s){this.collectedLeaveElements.push(t),t[Lh]={namespaceId:e,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,s,r){return uM(t)?this._fetchNamespace(e).listen(t,i,s,r):()=>{}}_buildInstruction(e,t,i,s,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,s,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,tM,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,AF,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return uf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Lh];if(t&&t.setForRemoval){if(e[Lh]=wX,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,CX)&&this.markElementAsDisabled(e,!1),this.driver.query(e,CX,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Rh(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?uf(t).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new hM,s=[],r=new Map,o=[],a=new Map,l=new Map,h=new Map,c=new Set;this.disabledNodes.forEach(P=>{c.add(P);const M=this.driver.query(P,".ng-animate-queued",!0);for(let L=0;L<M.length;L++)c.add(M[L])});const d=this.bodyNode,u=Array.from(this.statesByElement.keys()),p=xX(u,this.collectedEnterElements),m=new Map;let y=0;p.forEach((P,M)=>{const L=kF+y++;m.set(M,L),P.forEach(V=>Rh(V,L))});const b=[],v=new Set,C=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const M=this.collectedLeaveElements[P],L=M[Lh];L&&L.setForRemoval&&(b.push(M),v.add(M),L.hasAnimation?this.driver.query(M,".ng-star-inserted",!0).forEach(V=>v.add(V)):C.add(M))}const w=new Map,_=xX(u,Array.from(v));_.forEach((P,M)=>{const L=JD+y++;w.set(M,L),P.forEach(V=>Rh(V,L))}),e.push(()=>{p.forEach((P,M)=>{const L=m.get(M);P.forEach(V=>tv(V,L))}),_.forEach((P,M)=>{const L=w.get(M);P.forEach(V=>tv(V,L))}),b.forEach(P=>{this.processLeaveNode(P)})});const k=[],D=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(t).forEach(L=>{const V=L.player,te=L.element;if(k.push(V),this.collectedEnterElements.length){const ve=te[Lh];if(ve&&ve.setForMove)return void V.destroy()}const pe=!d||!this.driver.containsElement(d,te),ae=w.get(te),Oe=m.get(te),Te=this._buildInstruction(L,i,Oe,ae,pe);if(Te.errors&&Te.errors.length)D.push(Te);else{if(pe)return V.onStart(()=>$m(te,Te.fromStyles)),V.onDestroy(()=>Id(te,Te.toStyles)),void s.push(V);if(L.isFallbackTransition)return V.onStart(()=>$m(te,Te.fromStyles)),V.onDestroy(()=>Id(te,Te.toStyles)),void s.push(V);Te.timelines.forEach(ve=>ve.stretchStartingKeyframe=!0),i.append(te,Te.timelines),o.push({instruction:Te,player:V,element:te}),Te.queriedElements.forEach(ve=>Wl(a,ve,[]).push(V)),Te.preStyleProps.forEach((ve,j)=>{const Y=Object.keys(ve);if(Y.length){let ge=l.get(j);ge||l.set(j,ge=new Set),Y.forEach(Xe=>ge.add(Xe))}}),Te.postStyleProps.forEach((ve,j)=>{const Y=Object.keys(ve);let ge=h.get(j);ge||h.set(j,ge=new Set),Y.forEach(Xe=>ge.add(Xe))})}});if(D.length){const P=[];D.forEach(M=>{P.push(`@${M.triggerName} has failed due to:\n`),M.errors.forEach(L=>P.push(`- ${L}\n`))}),k.forEach(M=>M.destroy()),this.reportError(P)}const I=new Map,O=new Map;o.forEach(P=>{const M=P.element;i.has(M)&&(O.set(M,M),this._beforeAnimationBuild(P.player.namespaceId,P.instruction,I))}),s.forEach(P=>{const M=P.element;this._getPreviousPlayers(M,!1,P.namespaceId,P.triggerName,null).forEach(V=>{Wl(I,M,[]).push(V),V.destroy()})});const N=b.filter(P=>DX(P,l,h)),X=new Map;_X(X,this.driver,C,h,Wu).forEach(P=>{DX(P,l,h)&&N.push(P)});const q=new Map;p.forEach((P,M)=>{_X(q,this.driver,new Set(P),l,"!")}),N.forEach(P=>{const M=X.get(P),L=q.get(P);X.set(P,Object.assign(Object.assign({},M),L))});const G=[],A=[],R={};o.forEach(P=>{const{element:M,player:L,instruction:V}=P;if(i.has(M)){if(c.has(M))return L.onDestroy(()=>Id(M,V.toStyles)),L.disabled=!0,L.overrideTotalTime(V.totalTime),void s.push(L);let te=R;if(O.size>1){let ae=M;const Oe=[];for(;ae=ae.parentNode;){const Te=O.get(ae);if(Te){te=Te;break}Oe.push(ae)}Oe.forEach(Te=>O.set(Te,te))}const pe=this._buildAnimation(L.namespaceId,V,I,r,q,X);if(L.setRealPlayer(pe),te===R)G.push(L);else{const ae=this.playersByElement.get(te);ae&&ae.length&&(L.parentPlayer=uf(ae)),s.push(L)}}else $m(M,V.fromStyles),L.onDestroy(()=>Id(M,V.toStyles)),A.push(L),c.has(M)&&s.push(L)}),A.forEach(P=>{const M=r.get(P.element);if(M&&M.length){const L=uf(M);P.setRealPlayer(L)}}),s.forEach(P=>{P.parentPlayer?P.syncPlayerEvents(P.parentPlayer):P.destroy()});for(let P=0;P<b.length;P++){const M=b[P],L=M[Lh];if(tv(M,JD),L&&L.hasAnimation)continue;let V=[];if(a.size){let pe=a.get(M);pe&&pe.length&&V.push(...pe);let ae=this.driver.query(M,AF,!0);for(let Oe=0;Oe<ae.length;Oe++){let Te=a.get(ae[Oe]);Te&&Te.length&&V.push(...Te)}}const te=V.filter(pe=>!pe.destroyed);te.length?rLe(this,M,te):this.processLeaveNode(M)}return b.length=0,G.forEach(P=>{this.players.push(P),P.onDone(()=>{P.destroy();const M=this.players.indexOf(P);this.players.splice(M,1)}),P.play()}),G}elementContainsData(e,t){let i=!1;const s=t[Lh];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,s,r){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!r||r==gS;a.forEach(h=>{h.queued||!l&&h.triggerName!=s||o.push(h)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const r=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const h=l.element,c=h!==r,d=Wl(i,h,[]);this._getPreviousPlayers(h,c,o,a,t.toState).forEach(p=>{const m=p.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),p.destroy(),d.push(p)})}$m(r,t.fromStyles)}_buildAnimation(e,t,i,s,r,o){const a=t.triggerName,l=t.element,h=[],c=new Set,d=new Set,u=t.timelines.map(m=>{const y=m.element;c.add(y);const b=y[Lh];if(b&&b.removedBeforeQueried)return new Jb(m.duration,m.delay);const v=y!==l,C=function(n){const e=[];return EX(n,e),e}((i.get(y)||QTe).map(I=>I.getRealPlayer())).filter(I=>!!I.element&&I.element===y),w=r.get(y),_=o.get(y),k=Z$(0,this._normalizer,0,m.keyframes,w,_),D=this._buildPlayer(m,k,C);if(m.subTimeline&&s&&d.add(y),v){const I=new WF(e,a,y);I.setRealPlayer(D),h.push(I)}return D});h.forEach(m=>{Wl(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const s=i.indexOf(t);i.splice(s,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const s=i.indexOf(t);i.splice(s,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,m.element,m))}),c.forEach(m=>Rh(m,nX));const p=uf(u);return p.onDestroy(()=>{c.forEach(m=>tv(m,nX)),Id(l,t.toStyles)}),d.forEach(m=>{Wl(s,m,[]).push(p)}),p}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Jb(e.duration,e.delay)}}class WF{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Jb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>bF(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Wl(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function uM(n){return n&&1===n.nodeType}function SX(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function _X(n,e,t,i,s){const r=[];t.forEach(l=>r.push(SX(l)));const o=[];i.forEach((l,h)=>{const c={};l.forEach(d=>{const u=c[d]=e.computeStyle(h,d,s);(!u||0==u.length)&&(h[Lh]=JTe,o.push(h))}),n.set(h,c)});let a=0;return t.forEach(l=>SX(l,r[a++])),o}function xX(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const s=new Set(e),r=new Map;function o(a){if(!a)return 1;let l=r.get(a);if(l)return l;const h=a.parentNode;return l=t.has(h)?h:s.has(h)?1:o(h),r.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}const pM="$$classes";function Rh(n,e){if(n.classList)n.classList.add(e);else{let t=n[pM];t||(t=n[pM]={}),t[e]=!0}}function tv(n,e){if(n.classList)n.classList.remove(e);else{let t=n[pM];t&&delete t[e]}}function rLe(n,e,t){uf(t).onDone(()=>n.processLeaveNode(e))}function EX(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof $$?EX(i.players,e):e.push(i)}}function DX(n,e,t){const i=t.get(n);if(!i)return!1;let s=e.get(n);return s?i.forEach(r=>s.add(r)):e.set(n,i),t.delete(n),!0}class fM{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new tLe(e,t,i),this._timelineEngine=new $Te(e,t,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(e,t,i,s,r){const o=e+"-"+s;let a=this._triggerCache[o];if(!a){const l=[],h=PF(this._driver,r,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,e,t){return new GTe(n,e,t)}(s,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,s,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,s){this._transitionEngine.insertNode(e,t,i,s)}onRemove(e,t,i,s){this._transitionEngine.removeNode(e,t,s||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,s){if("@"==i.charAt(0)){const[r,o]=K$(i);this._timelineEngine.command(r,t,o,s)}else this._transitionEngine.trigger(e,t,i,s)}listen(e,t,i,s,r){if("@"==i.charAt(0)){const[o,a]=K$(i);return this._timelineEngine.listen(o,t,a,r)}return this._transitionEngine.listen(e,t,i,s,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function MX(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=UF(e[0]),e.length>1&&(i=UF(e[e.length-1]))):e&&(t=UF(e)),t||i?new lLe(n,t,i):null}let lLe=(()=>{class n{constructor(t,i,s){this._element=t,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Id(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Id(this._element,this._initialStyles),this._endStyles&&(Id(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&($m(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($m(this._element,this._endStyles),this._endStyles=null),Id(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function UF(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const s=t[i];hLe(s)&&(e=e||{},e[s]=n[s])}return e}function hLe(n){return"display"===n||"position"===n}const kX="animation",AX="animationend";class uLe{constructor(e,t,i,s,r,o,a){this._element=e,this._name=t,this._duration=i,this._delay=s,this._easing=r,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,e){const t=YF(n,"").trim();let i=0;t.length&&(function(n,e){let t=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&t++;return t}(t)+1,e=`${t}, ${e}`),mM(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),RX(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){TX(this._element,this._name,"paused")}resume(){TX(this._element,this._name,"running")}setPosition(e){const t=LX(this._element,this._name);this._position=e*this._duration,mM(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),RX(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const i=YF(n,"").split(","),s=GF(i,e);s>=0&&(i.splice(s,1),mM(n,"",i.join(",")))}(this._element,this._name))}}function TX(n,e,t){mM(n,"PlayState",t,LX(n,e))}function LX(n,e){const t=YF(n,"");return t.indexOf(",")>0?GF(t.split(","),e):GF([t],e)}function GF(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function RX(n,e,t){t?n.removeEventListener(AX,e):n.addEventListener(AX,e)}function mM(n,e,t,i){const s=kX+e;if(null!=i){const r=n.style[s];if(r.length){const o=r.split(",");o[i]=t,t=o.join(",")}}n.style[s]=t}function YF(n,e){return n.style[kX+e]||""}class IX{constructor(e,t,i,s,r,o,a,l){this.element=e,this.keyframes=t,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=s+r,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new uLe(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:IF(this.element,i))})}this.currentSnapshot=e}}class bLe extends Jb{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=tX(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class OX{constructor(){this._count=0}validateStyleProperty(e){return _F(e)}matchesElement(e,t){return xF(e,t)}containsElement(e,t){return EF(e,t)}query(e,t,i){return DF(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(a=>tX(a));let s=`@keyframes ${t} {\n`,r="";i.forEach(a=>{r=" ";const l=parseFloat(a.offset);s+=`${r}${100*l}% {\n`,r+=" ",Object.keys(a).forEach(h=>{const c=a[h];switch(h){case"offset":return;case"easing":return void(c&&(s+=`${r}animation-timing-function: ${c};\n`));default:return void(s+=`${r}${h}: ${c};\n`)}}),s+=`${r}}\n`}),s+="}\n";const o=document.createElement("style");return o.textContent=s,o}animate(e,t,i,s,r,o=[],a){const l=o.filter(b=>b instanceof IX),h={};hX(i,s)&&l.forEach(b=>{let v=b.currentSnapshot;Object.keys(v).forEach(C=>h[C]=v[C])});const c=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(e[s]=i[s])})}),e}(t=cX(e,t,h));if(0==i)return new bLe(e,c);const d="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(e,d,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(u);const m=MX(e,t),y=new IX(e,t,d,i,s,r,c,m);return y.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(u)),y}}class NX{constructor(e,t,i,s){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:IF(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class _Le{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(BX().toString()),this._cssKeyframesDriver=new OX}validateStyleProperty(e){return _F(e)}matchesElement(e,t){return xF(e,t)}containsElement(e,t){return EF(e,t)}query(e,t,i){return DF(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,s,r,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,s,r,o);const c={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(c.easing=r);const d={},u=o.filter(m=>m instanceof NX);hX(i,s)&&u.forEach(m=>{let y=m.currentSnapshot;Object.keys(y).forEach(b=>d[b]=y[b])});const p=MX(e,t=cX(e,t=t.map(m=>pf(m,!1)),d));return new NX(e,t,c,p)}}function BX(){return X$()&&Element.prototype.animate||{}}let ELe=(()=>{class n extends G${constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Vr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?Y$(t):t;return VX(this._renderer,null,i,"register",[s]),new DLe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)($(Nf),$(gt))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();class DLe extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new MLe(this._id,e,t||{},this._renderer)}}class MLe{constructor(e,t,i,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return VX(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function VX(n,e,t,i,s){return n.setProperty(e,`@@${t}:${i}`,s)}const HX="@.disabled";let kLe=(()=>{class n{constructor(t,i,s){this.delegate=t,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,o)=>{o&&o.parentNode(r)&&o.removeChild(r.parentNode,r)}}createRenderer(t,i){const r=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let c=this._rendererCache.get(r);return c||(c=new jX("",r,this.engine),this._rendererCache.set(r,c)),c}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,t,c.name,c)};return i.data.animation.forEach(l),new ALe(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,s){t>=0&&t<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)($(Nf),$(fM),$(wt))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();class jX{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,s=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,s){this.delegate.setAttribute(e,t,i,s)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,s){this.delegate.setStyle(e,t,i,s)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==HX?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ALe extends jX{constructor(e,t,i,s){super(t,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==HX?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let r=t.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let RLe=(()=>{class n extends fM{constructor(t,i,s){super(t.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)($(gt),$(MF),$(VF))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();const Oc=new Ie("AnimationModuleType"),zX=[{provide:G$,useClass:ELe},{provide:VF,useFactory:function(){return new VTe}},{provide:fM,useClass:RLe},{provide:Nf,useFactory:function(n,e,t){return new kLe(n,e,t)},deps:[Mx,fM,wt]}],WX=[{provide:MF,useFactory:function(){return"function"==typeof BX()?new _Le:new OX}},{provide:Oc,useValue:"BrowserAnimations"},...zX],UX=[{provide:MF,useClass:iX},{provide:Oc,useValue:"NoopAnimations"},...zX];let FLe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?UX:WX}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:WX,imports:[RL]}),n})();const GX=new op("12.2.11"),WLe=new Ie("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let _s=(()=>{class n{constructor(t,i,s){this._hasDoneGlobalChecks=!1,this._document=s,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!$T()||hF())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const i=getComputedStyle(t);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&GX.full!==U$.full&&console.warn("The Angular Material version ("+GX.full+") does not match the Angular CDK version ("+U$.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)($(z$),$(WLe,8),$(gt))},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[fS],fS]}),n})();function iv(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=mt(e)}}}function sv(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function ff(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=mt(e)}}}const GLe=new Ie("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return eA(Yd)}});class Er{constructor(){this._localeChanges=new ht,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let i=this.isValid(e),s=this.isValid(t);return i&&s?!this.compareDate(e,t):i==s}return e==t}clampDate(e,t,i){return t&&this.compareDate(e,t)<0?t:i&&this.compareDate(e,i)>0?i:e}}const Pd=new Ie("mat-date-formats");let Zm;try{Zm="undefined"!=typeof Intl}catch(n){Zm=!1}const qLe={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},$Le=bM(31,n=>String(n+1)),XLe={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},ZLe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function bM(n,e){const t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}let KLe=(()=>{class n extends Er{constructor(t,i){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!i.TRIDENT,this._clampDate=i.TRIDENT||i.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(Zm){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return bM(12,s=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,s,1))))}return qLe[t]}getDateNames(){if(Zm){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return bM(31,i=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,i+1))))}return $Le}getDayOfWeekNames(t){if(Zm){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return bM(7,s=>this._stripDirectionalityCharacters(this._format(i,new Date(2017,0,s+1))))}return XLe[t]}getYearName(t){if(Zm){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(i,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,s){let r=this._createDateWithOverflow(t,i,s);return r.getMonth(),r}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Zm){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),i=Object.assign(Object.assign({},i),{timeZone:"utc"});const s=new Intl.DateTimeFormat(this.locale,i);return this._stripDirectionalityCharacters(this._format(s,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let s=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(s)!=((this.getMonth(t)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(ZLe.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,s){const r=new Date;return r.setFullYear(t,i,s),r.setHours(0,0,0,0),r}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,i){const s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(s)}}return n.\u0275fac=function(t){return new(t||n)($(GLe,8),$(Fs))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})(),JLe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[{provide:Er,useClass:KLe}],imports:[[Zb]]}),n})();const eRe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let tRe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[{provide:Pd,useValue:eRe}],imports:[[JLe]]}),n})(),mf=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ne({factory:function(){return new n},token:n,providedIn:"root"}),n})(),vM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[_s],_s]}),n})();class iRe{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const YX={enterDuration:225,exitDuration:150},ZF=uS({passive:!0}),qX=["mousedown","touchstart"],$X=["mouseup","mouseleave","touchend","touchcancel"];class XX{constructor(e,t,i,s){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=ju(i))}fadeInRipple(e,t,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},YX),i.animation);i.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const o=i.radius||function(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+s*s)}(e,t,s),a=e-s.left,l=t-s.top,h=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=a-o+"px",c.style.top=l-o+"px",c.style.height=2*o+"px",c.style.width=2*o+"px",null!=i.color&&(c.style.backgroundColor=i.color),c.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(c),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(c),c.style.transform="scale(1)";const d=new iRe(this,c,i);return d.state=0,this._activeRipples.add(d),i.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const u=d===this._mostRecentTransientRipple;d.state=1,!i.persistent&&(!u||!this._isPointerDown)&&d.fadeOut()},h),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,s=Object.assign(Object.assign({},YX),e.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.parentNode.removeChild(i)},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ju(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(qX))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents($X),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=T$(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!L$(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,ZF)})})}_removeTriggerEvents(){this._triggerElement&&(qX.forEach(e=>{this._triggerElement.removeEventListener(e,this,ZF)}),this._pointerUpEventsRegistered&&$X.forEach(e=>{this._triggerElement.removeEventListener(e,this,ZF)}))}}const ZX=new Ie("mat-ripple-global-options");let Km=(()=>{class n{constructor(t,i,s,r,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new XX(this,i,t,s)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(E(_e),E(wt),E(Fs),E(ZX,8),E(Oc,8))},n.\u0275dir=ee({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&hi("mat-ripple-unbounded",i.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),CM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[_s,Zb],_s]}),n})(),KF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[_s]]}),n})(),tZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[CM,Rs,_s,KF]]}),n})(),iZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[fF,_s],_s]}),n})();const sZ=["mat-button",""],nZ=["*"],mRe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],gRe=sv(iv(ff(class{constructor(n){this._elementRef=n}})));let nv=(()=>{class n extends gRe{constructor(t,i,s){super(t),this._focusMonitor=i,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of mRe)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(E(_e),E(zu),E(Oc,8))},n.\u0275cmp=ct({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&function(n,e,t){const i=Ls();i.firstCreatePass&&(X4(i,new Y4(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),$4(i,De(),e)}(Km,5),2&t){let s;de(s=ue())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(It("disabled",i.disabled||null),hi("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[oe],attrs:sZ,ngContentSelectors:nZ,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(function(n){const e=De()[16][6];if(!e.projection){const i=e.projection=sp(n?n.length:1,null),s=i.slice();let r=e.child;for(;null!==r;){const o=n?Fne(r,n):0;null!==o&&(s[o]?s[o].projectionNext=r:i[o]=r,s[o]=r),r=r.next}}}(),ne(0,"span",0),function(n,e=0,t){const i=De(),s=Ls(),r=Rg(s,20+n,16,null,t||null);null===r.projection&&(r.projection=e),Fk(),64!=(64&r.flags)&&function(n,e,t){c3(e[11],0,e,t,e3(n,t,e),n3(t.parent||e[6],t,e))}(s,i,r)}(1),re(),Ui(2,"span",1),Ui(3,"span",2)),2&t&&(Re(2),hi("mat-button-ripple-round",i.isRoundButton||i.isIconButton),ze("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Km],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),wM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[CM,_s],_s]}),n})();function rv(n,e,t,i){return Nc(t)&&(i=t,t=void 0),i?rv(n,e,t).pipe(Li(s=>hg(s)?i(...s):i(s))):new fs(s=>{lZ(n,e,function(o){s.next(arguments.length>1?Array.prototype.slice.call(arguments):o)},s,t)})}function lZ(n,e,t,i,s){let r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const o=n;n.addEventListener(e,t,s),r=()=>o.removeEventListener(e,t,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const o=n;n.on(e,t),r=()=>o.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const o=n;n.addListener(e,t),r=()=>o.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let o=0,a=n.length;o<a;o++)lZ(n[o],e,t,i,s)}i.add(r)}let vS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[Rs,_s,v$],_s]}),n})();const vZ=new Ie("mat-chips-default-options"),rIe={separatorKeyCodes:[13]};let CZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[mf,{provide:vZ,useValue:rIe}],imports:[[_s]]}),n})();new class extends Rc{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,s=-1,r=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++s<r&&(e=t.shift()));if(this.active=!1,i){for(;++s<r&&(e=t.shift());)e.unsubscribe();throw i}}}(class extends WD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});let hIe=1;const cIe=Promise.resolve(),xM={};function wZ(n){return n in xM&&(delete xM[n],!0)}const SZ={setImmediate(n){const e=hIe++;return xM[e]=!0,cIe.then(()=>wZ(e)&&n()),e},clearImmediate(n){wZ(n)}};new class extends Rc{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,s=-1,r=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++s<r&&(e=t.shift()));if(this.active=!1,i){for(;++s<r&&(e=t.shift());)e.unsubscribe();throw i}}}(class extends WD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=SZ.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(SZ.clearImmediate(t),e.scheduled=void 0)}});class mIe{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new gIe(e,this.durationSelector))}}class gIe extends xv{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:s}=this;t=s(e)}catch(s){return this.destination.error(s)}const i=Ev(t,new _v(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function _Z(n){return!hg(n)&&n-parseFloat(n)+1>=0}function bIe(n){const{index:e,period:t,subscriber:i}=n;if(i.next(e),!i.closed){if(-1===t)return i.complete();n.index=e+1,this.schedule(n,t)}}function EM(n,e=oF){return function(n){return function(t){return t.lift(new mIe(n))}}(()=>function(n=0,e,t){let i=-1;return _Z(e)?i=Number(e)<1?1:Number(e):cg(e)&&(t=e),cg(t)||(t=oF),new fs(s=>{const r=_Z(n)?n:+n-t.now();return t.schedule(bIe,r,{index:0,period:i,subscriber:s})})}(n,e))}function Fc(n,e){return"function"==typeof e?t=>t.pipe(Fc((i,s)=>vo(n(i,s)).pipe(Li((r,o)=>e(i,r,s,o))))):t=>t.lift(new SIe(n))}class SIe{constructor(e){this.project=e}call(e,t){return t.subscribe(new _Ie(e,this.project))}}class _Ie extends xv{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(s){return void this.destination.error(s)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const i=new _v(this),s=this.destination;s.add(i),this.innerSubscription=Ev(e,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}function MIe({error:n,subscriber:e}){e.error(n)}new class extends Rc{}(class extends WD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}});class Ih{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return Lt(this.value);case"E":return function(n,e){return new fs(e?t=>e.schedule(MIe,0,{error:n,subscriber:t}):t=>t.error(n))}(this.error);case"C":return GD()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new Ih("N",e):Ih.undefinedValueNotification}static createError(e){return new Ih("E",void 0,e)}static createComplete(){return Ih.completeNotification}}Ih.completeNotification=new Ih("C"),Ih.undefinedValueNotification=new Ih("N",void 0);let gf=(()=>{class n{constructor(t,i,s){this._ngZone=t,this._platform=i,this._scrolled=new ht,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new fs(i=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(EM(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Lt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const s=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Vo(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,t)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let s=ju(i),r=t.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>rv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)($(wt),$(Fs),$(gt,8))},n.\u0275prov=Ne({factory:function(){return new n($(wt),$(Fs),$(gt,8))},token:n,providedIn:"root"}),n})(),yf=(()=>{class n{constructor(t,i,s){this._platform=t,this._change=new ht,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(t.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),s=t.documentElement,r=s.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||t.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(EM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)($(Fs),$(wt),$(gt,8))},n.\u0275prov=Ne({factory:function(){return new n($(Fs),$(wt),$(gt,8))},token:n,providedIn:"root"}),n})(),Jm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({}),n})(),sN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[fS,Zb,Jm],fS,Jm]}),n})();class nN{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class MM extends nN{constructor(e,t,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=s}}class kM extends nN{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class WIe extends nN{constructor(e){super(),this.element=e instanceof _e?e.nativeElement:e}}class UIe extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof MM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof kM?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof WIe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,s,r){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(e.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(i);-1!==s&&t.remove(s)}),this._attachedPortal=e,i}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let AZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({}),n})();const TZ=g$();class $Ie{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Kr(-this._previousScrollPosition.left),e.style.top=Kr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,s=this._document.body.style,r=i.scrollBehavior||"",o=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),TZ&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),TZ&&(i.scrollBehavior=r,s.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class XIe{constructor(e,t,i,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class LZ{enable(){}disable(){}attach(){}}function rN(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function RZ(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class ZIe{constructor(e,t,i,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();rN(t,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let KIe=(()=>{class n{constructor(t,i,s,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new LZ,this.close=o=>new XIe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new $Ie(this._viewportRuler,this._document),this.reposition=o=>new ZIe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=r}}return n.\u0275fac=function(t){return new(t||n)($(gf),$(yf),$(wt),$(gt))},n.\u0275prov=Ne({factory:function(){return new n($(gf),$(yf),$(wt),$(gt))},token:n,providedIn:"root"}),n})();class oN{constructor(e){if(this.scrollStrategy=new LZ,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class QIe{constructor(e,t,i,s,r){this.offsetX=i,this.offsetY=s,this.panelClass=r,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class JIe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let IZ=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)($(gt))},n.\u0275prov=Ne({factory:function(){return new n($(gt))},token:n,providedIn:"root"}),n})(),ePe=(()=>{class n extends IZ{constructor(t){super(t),this._keydownListener=i=>{const s=this._attachedOverlays;for(let r=s.length-1;r>-1;r--)if(s[r]._keydownEvents.observers.length>0){s[r]._keydownEvents.next(i);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)($(gt))},n.\u0275prov=Ne({factory:function(){return new n($(gt))},token:n,providedIn:"root"}),n})(),tPe=(()=>{class n extends IZ{constructor(t,i){super(t),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Um(s)},this._clickListener=s=>{const r=Um(s),o="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let l=a.length-1;l>-1;l--){const h=a[l];if(!(h._outsidePointerEvents.observers.length<1)&&h.hasAttached()){if(h.overlayElement.contains(r)||h.overlayElement.contains(o))break;h._outsidePointerEvents.next(s)}}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)($(gt),$(Fs))},n.\u0275prov=Ne({factory:function(){return new n($(gt),$(Fs))},token:n,providedIn:"root"}),n})(),aN=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||hF()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].parentNode.removeChild(s[r])}const i=this._document.createElement("div");i.classList.add(t),hF()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)($(gt),$(Fs))},n.\u0275prov=Ne({factory:function(){return new n($(gt),$(Fs))},token:n,providedIn:"root"}),n})();class iPe{constructor(e,t,i,s,r,o,a,l,h){this._portalOutlet=e,this._host=t,this._pane=i,this._config=s,this._ngZone=r,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=h,this._backdropElement=null,this._backdropClick=new ht,this._attachments=new ht,this._detachments=new ht,this._locationChanges=Ti.EMPTY,this._backdropClickHandler=c=>this._backdropClick.next(c),this._keydownEvents=new ht,this._outsidePointerEvents=new ht,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(yo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Kr(this._config.width),e.height=Kr(this._config.height),e.minWidth=Kr(this._config.minWidth),e.minHeight=Kr(this._config.minHeight),e.maxWidth=Kr(this._config.maxWidth),e.maxHeight=Kr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const s=e.classList;qD(t).forEach(r=>{r&&(i?s.add(r):s.remove(r))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(vi(xa(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const PZ="cdk-overlay-connected-position-bounding-box",sPe=/([A-Za-z%]+)$/;class lN{constructor(e,t,i,s,r){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ht,this._resizeSubscription=Ti.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(PZ),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,s=[];let r;for(let o of this._preferredPositions){let a=this._getOriginPoint(e,o),l=this._getOverlayPoint(a,t,o),h=this._getOverlayFit(l,t,i,o);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(h,l,i)?s.push({position:o,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!r||r.overlayFit.visibleArea<h.visibleArea)&&(r={overlayFit:h,overlayPoint:l,originPoint:a,position:o,overlayRect:t})}if(s.length){let o=null,a=-1;for(const l of s){const h=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);h>a&&(a=h,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&eg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(PZ),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let i,s;if("center"==t.originX)i=e.left+e.width/2;else{const r=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;i="start"==t.originX?r:o}return s="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:i,y:s}}_getOverlayPoint(e,t,i){let s,r;return s="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,r="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+s,y:e.y+r}}_getOverlayFit(e,t,i,s){const r=FZ(t);let{x:o,y:a}=e,l=this._getOffset(s,"x"),h=this._getOffset(s,"y");l&&(o+=l),h&&(a+=h);let u=0-a,p=a+r.height-i.height,m=this._subtractOverflows(r.width,0-o,o+r.width-i.width),y=this._subtractOverflows(r.height,u,p),b=m*y;return{visibleArea:b,isCompletelyWithinViewport:r.width*r.height===b,fitsInViewportVertically:y===r.height,fitsInViewportHorizontally:m==r.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const s=i.bottom-t.y,r=i.right-t.x,o=OZ(this._overlayRef.getConfig().minHeight),a=OZ(this._overlayRef.getConfig().minWidth),h=e.fitsInViewportHorizontally||null!=a&&a<=r;return(e.fitsInViewportVertically||null!=o&&o<=s)&&h}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=FZ(t),r=this._viewportRect,o=Math.max(e.x+s.width-r.width,0),a=Math.max(e.y+s.height-r.height,0),l=Math.max(r.top-i.top-e.y,0),h=Math.max(r.left-i.left-e.x,0);let c=0,d=0;return c=s.width<=r.width?h||-o:e.x<this._viewportMargin?r.left-i.left-e.x:0,d=s.height<=r.height?l||-a:e.y<this._viewportMargin?r.top-i.top-e.y:0,this._previousPushAmount={x:c,y:d},{x:e.x+c,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new JIe(e,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,s=this._isRtl();let r,o,a,c,d,u;if("top"===t.overlayY)o=e.y,r=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,r=i.height-a+this._viewportMargin;else{const p=Math.min(i.bottom-e.y+i.top,e.y),m=this._lastBoundingBoxSize.height;r=2*p,o=e.y-p,r>m&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-m/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)u=i.width-e.x+this._viewportMargin,c=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)d=e.x,c=i.right-e.x;else{const p=Math.min(i.right-e.x+i.left,e.x),m=this._lastBoundingBoxSize.width;c=2*p,d=e.x-p,c>m&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-m/2)}return{top:o,left:d,bottom:a,right:u,width:c,height:r}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;s.height=Kr(i.height),s.top=Kr(i.top),s.bottom=Kr(i.bottom),s.width=Kr(i.width),s.left=Kr(i.left),s.right=Kr(i.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",r&&(s.maxHeight=Kr(r)),o&&(s.maxWidth=Kr(o))}this._lastBoundingBoxSize=i,eg(this._boundingBox.style,s)}_resetBoundingBoxStyles(){eg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){eg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(s){const c=this._viewportRuler.getViewportScrollPosition();eg(i,this._getExactOverlayY(t,e,c)),eg(i,this._getExactOverlayX(t,e,c))}else i.position="static";let a="",l=this._getOffset(t,"x"),h=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),h&&(a+=`translateY(${h}px)`),i.transform=a.trim(),o.maxHeight&&(s?i.maxHeight=Kr(o.maxHeight):r&&(i.maxHeight="")),o.maxWidth&&(s?i.maxWidth=Kr(o.maxWidth):r&&(i.maxWidth="")),eg(this._pane.style,i)}_getExactOverlayY(e,t,i){let s={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===e.overlayY?s.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":s.top=Kr(r.y),s}_getExactOverlayX(e,t,i){let o,s={left:"",right:""},r=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?s.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":s.left=Kr(r.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:RZ(e,i),isOriginOutsideView:rN(e,i),isOverlayClipped:RZ(t,i),isOverlayOutsideView:rN(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,s)=>i-Math.max(s,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&qD(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof _e)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function eg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function OZ(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(sPe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function FZ(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class nPe{constructor(e,t,i,s,r,o,a){this._preferredPositions=[],this._positionStrategy=new lN(i,s,r,o,a).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,i,s){const r=new QIe(e,t,i,s);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const NZ="cdk-global-overlay-wrapper";class rPe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(NZ),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:o,maxHeight:a}=i,l=!("100%"!==s&&"100vw"!==s||o&&"100%"!==o&&"100vw"!==o),h=!("100%"!==r&&"100vh"!==r||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=h?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(NZ),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let oPe=(()=>{class n{constructor(t,i,s,r){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=r}global(){return new rPe}connectedTo(t,i,s){return new nPe(i,s,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new lN(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)($(yf),$(gt),$(Fs),$(aN))},n.\u0275prov=Ne({factory:function(){return new n($(yf),$(gt),$(Fs),$(aN))},token:n,providedIn:"root"}),n})(),aPe=0,Uu=(()=>{class n{constructor(t,i,s,r,o,a,l,h,c,d,u){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=h,this._directionality=c,this._location=d,this._outsideClickDispatcher=u}create(t){const i=this._createHostElement(),s=this._createPaneElement(i),r=this._createPortalOutlet(s),o=new oN(t);return o.direction=o.direction||this._directionality.value,new iPe(r,i,s,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+aPe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(zf)),new UIe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)($(KIe),$(aN),$(Gd),$(oPe),$(ePe),$(_t),$(wt),$(gt),$(aa),$(M0),$(tPe))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();const dPe={provide:new Ie("cdk-connected-overlay-scroll-strategy"),deps:[Uu],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let hN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[Uu,dPe],imports:[[fS,AZ,sN],sN]}),n})(),zZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[Zb]]}),n})(),UZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[mf],imports:[[zZ,vS,_s],zZ,vS]}),n})(),CS=(()=>{class n{constructor(){this.changes=new ht,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,i){return`${t} \u2013 ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ne({factory:function(){return new n},token:n,providedIn:"root"}),n})();const qPe={provide:new Ie("mat-datepicker-scroll-strategy"),deps:[Uu],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let bN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[CS,qPe],imports:[[Rs,wM,hN,fF,AZ,_s],Jm]}),n})(),lK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[vM,_s],vM,_s]}),n})();function vf(n){return function(t){const i=new u2e(n),s=t.lift(i);return i.caught=s}}class u2e{constructor(e){this.selector=e}call(e,t){return t.subscribe(new p2e(e,this.selector,this.caught))}}class p2e extends xv{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(r){return void super.error(r)}this._unsubscribeAndRecycle();const i=new _v(this);this.add(i);const s=Ev(t,i);s!==i&&this.add(s)}}}class f2e{constructor(e){this.callback=e}call(e,t){return t.subscribe(new m2e(e,this.callback))}}class m2e extends Zs{constructor(e,t){super(e),this.add(new Ti(t))}}function hv(n,e){return Ho(n,e,1)}let MK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[_s],_s]}),n})(),V2e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[_s],_s]}),n})(),PK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[vM,CM,_s,KF,Rs],vM,_s,KF,V2e]}),n})();function kN(n){return new fs(e=>{let t;try{t=n()}catch(s){return void e.error(s)}return(t?vo(t):GD()).subscribe(e)})}const dOe={provide:new Ie("mat-select-scroll-strategy"),deps:[Uu],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let AN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[dOe],imports:[[Rs,hN,tZ,_s],Jm,vS,tZ,_s]}),n})();class gOe extends Zs{notifyNext(e,t,i,s,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class yOe extends Zs{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function bOe(n,e,t,i,s=new yOe(n,t,i)){if(!s.closed)return e instanceof fs?e.subscribe(s):fk(e)(s)}const HK={};class vOe{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new COe(e,this.resultSelector))}}class COe extends gOe{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(HK),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++)this.add(bOe(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i){const s=this.values,o=this.toRespond?s[i]===HK?--this.toRespond:this.toRespond:0;s[i]=t,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const AOe={provide:new Ie("mat-tooltip-scroll-strategy"),deps:[Uu],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let TN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[AOe],imports:[[fF,Rs,hN,_s],_s,Jm]}),n})(),xS=(()=>{class n{constructor(){this.changes=new ht,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,s)=>{if(0==s||0==i)return`0 of ${s}`;const r=t*i;return`${r+1} \u2013 ${r<(s=Math.max(s,0))?Math.min(r+i,s):r+i} of ${s}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ne({factory:function(){return new n},token:n,providedIn:"root"}),n})();const WOe={provide:xS,deps:[[new Mr,new _l,xS]],useFactory:function(n){return n||new xS}};let $K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[WOe],imports:[[Rs,wM,AN,TN,_s]]}),n})(),JK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[CM,_s],_s]}),n})(),oQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[Rs,_s,Zb,Jm],Jm,_s]}),n})(),RFe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[sN]]}),n})(),yQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[RFe,_s],_s]}),n})(),bQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[_s],_s]}),n})(),eNe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({providers:[bN],imports:[[Rs,wM,bQ,MK,oQ,iZ,PK,lK,vS,UZ,AN,JK,bN,tRe,CZ,TN,yQ,$K],wM,bQ,MK,oQ,iZ,PK,lK,UZ,vS,AN,JK,bN,CZ,TN,yQ,$K]}),n})();const XM=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function vQ(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(s){return s.lift(new tNe(n,e,t))}}class tNe{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new iNe(e,this.accumulator,this.seed,this.hasSeed))}}class iNe extends Zs{constructor(e,t,i,s){super(e),this.accumulator=t,this._seed=i,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)}}function zN(n){return function(t){return 0===n?GD():t.lift(new sNe(n))}}class sNe{constructor(e){if(this.total=e,this.total<0)throw new u$}call(e,t){return t.subscribe(new nNe(e,this.total))}}class nNe extends Zs{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,s=this.count++;t.length<i?t.push(e):t[s%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,s=this.ring;for(let r=0;r<i;r++){const o=t++%i;e.next(s[o])}}e.complete()}}function CQ(n=aNe){return e=>e.lift(new rNe(n))}class rNe{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new oNe(e,this.errorFactory))}}class oNe extends Zs{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function aNe(){return new XM}function wQ(n=null){return e=>e.lift(new lNe(n))}class lNe{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new hNe(e,this.defaultValue))}}class hNe extends Zs{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function mv(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Vo((s,r)=>n(s,r,i)):jS,yo(1),t?wQ(e):CQ(()=>new XM))}class $u{constructor(e,t){this.id=e,this.url=t}}class WN extends $u{constructor(e,t,i="imperative",s=null){super(e,t),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class MS extends $u{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class SQ extends $u{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dNe extends $u{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uNe extends $u{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pNe extends $u{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fNe extends $u{constructor(e,t,i,s,r){super(e,t),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mNe extends $u{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gNe extends $u{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _Q{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xQ{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yNe{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bNe{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vNe{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CNe{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EQ{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ss="primary";class wNe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function gv(n){return new wNe(n)}const DQ="ngNavigationCancelingError";function UN(n){const e=Error("NavigationCancelingError: "+n);return e[DQ]=!0,e}function _Ne(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const s={};for(let r=0;r<i.length;r++){const o=i[r],a=n[r];if(o.startsWith(":"))s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function Od(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let s;for(let r=0;r<t.length;r++)if(s=t[r],!MQ(n[s],e[s]))return!1;return!0}function MQ(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((s,r)=>i[r]===s)}return n===e}function kQ(n){return Array.prototype.concat.apply([],n)}function AQ(n){return n.length>0?n[n.length-1]:null}function ha(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Fd(n){return P_(n)?n:s0(n)?vo(Promise.resolve(n)):Lt(n)}const DNe={exact:function RQ(n,e,t){if(!rg(n.segments,e.segments)||!ZM(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!RQ(n.children[i],e.children[i],t))return!1;return!0},subset:IQ},TQ={exact:function(n,e){return Od(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>MQ(n[t],e[t]))},ignored:()=>!0};function LQ(n,e,t){return DNe[t.paths](n.root,e.root,t.matrixParams)&&TQ[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function IQ(n,e,t){return PQ(n,e,e.segments,t)}function PQ(n,e,t,i){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!rg(s,t)||e.hasChildren()||!ZM(s,t,i))}if(n.segments.length===t.length){if(!rg(n.segments,t)||!ZM(n.segments,t,i))return!1;for(const s in e.children)if(!n.children[s]||!IQ(n.children[s],e.children[s],i))return!1;return!0}{const s=t.slice(0,n.segments.length),r=t.slice(n.segments.length);return!!(rg(n.segments,s)&&ZM(n.segments,s,i)&&n.children[ss])&&PQ(n.children[ss],e,r,i)}}function ZM(n,e,t){return e.every((i,s)=>TQ[t](n[s].parameters,i.parameters))}class ng{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gv(this.queryParams)),this._queryParamMap}toString(){return LNe.serialize(this)}}class xs{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ha(t,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return KM(this)}}class kS{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=gv(this.parameters)),this._parameterMap}toString(){return BQ(this)}}function rg(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class GN{}class OQ{parse(e){const t=new HNe(e);return new ng(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${AS(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(s=>`${QM(t)}=${QM(s)}`).join("&"):`${QM(t)}=${QM(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const LNe=new OQ;function KM(n){return n.segments.map(e=>BQ(e)).join("/")}function AS(n,e){if(!n.hasChildren())return KM(n);if(e){const t=n.children[ss]?AS(n.children[ss],!1):"",i=[];return ha(n.children,(s,r)=>{r!==ss&&i.push(`${r}:${AS(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function(n,e){let t=[];return ha(n.children,(i,s)=>{s===ss&&(t=t.concat(e(i,s)))}),ha(n.children,(i,s)=>{s!==ss&&(t=t.concat(e(i,s)))}),t}(n,(i,s)=>s===ss?[AS(n.children[ss],!1)]:[`${s}:${AS(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ss]?`${KM(n)}/${t[0]}`:`${KM(n)}/(${t.join("//")})`}}function FQ(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function QM(n){return FQ(n).replace(/%3B/gi,";")}function YN(n){return FQ(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function JM(n){return decodeURIComponent(n)}function NQ(n){return JM(n.replace(/\+/g,"%20"))}function BQ(n){return`${YN(n.path)}${function(n){return Object.keys(n).map(e=>`;${YN(e)}=${YN(n[e])}`).join("")}(n.parameters)}`}const ONe=/^[^\/()?;=#]+/;function ek(n){const e=n.match(ONe);return e?e[0]:""}const FNe=/^[^=?&#]+/,BNe=/^[^?&#]+/;class HNe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xs([],{}):new xs([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ss]=new xs(e,t)),i}parseSegment(){const e=ek(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new kS(JM(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ek(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=ek(this.remaining);s&&(i=s,this.capture(i))}e[JM(t)]=JM(i)}parseQueryParam(e){const t=function(n){const e=n.match(FNe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(BNe);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const s=NQ(t),r=NQ(i);if(e.hasOwnProperty(s)){let o=e[s];Array.isArray(o)||(o=[o],e[s]=o),o.push(r)}else e[s]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ek(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let r;i.indexOf(":")>-1?(r=i.substr(0,i.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=ss);const o=this.parseChildren();t[r]=1===Object.keys(o).length?o[ss]:new xs([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class VQ{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=qN(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=qN(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$N(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return $N(e,this._root).map(t=>t.value)}}function qN(n,e){if(n===e.value)return e;for(const t of e.children){const i=qN(n,t);if(i)return i}return null}function $N(n,e){if(n===e.value)return[e];for(const t of e.children){const i=$N(n,t);if(i.length)return i.unshift(e),i}return[]}class Xu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function TS(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class HQ extends VQ{constructor(e,t){super(e),this.snapshot=t,XN(this,e)}toString(){return this.snapshot.toString()}}function jQ(n,e){const t=function(n,e){const o=new tk([],{},{},"",{},ss,e,null,n.root,-1,{});return new WQ("",new Xu(o,[]))}(n,e),i=new zl([new kS("",{})]),s=new zl({}),r=new zl({}),o=new zl({}),a=new zl(""),l=new yv(i,s,o,a,r,ss,e,t.root);return l.snapshot=t.root,new HQ(new Xu(l,[]),t)}class yv{constructor(e,t,i,s,r,o,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Li(e=>gv(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Li(e=>gv(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zQ(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const s=t[i],r=t[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(r.component)break;i--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class tk{constructor(e,t,i,s,r,o,a,l,h,c,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=h,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class WQ extends VQ{constructor(e,t){super(t),this.url=e,XN(this,t)}toString(){return UQ(this._root)}}function XN(n,e){e.value._routerState=n,e.children.forEach(t=>XN(n,t))}function UQ(n){const e=n.children.length>0?` { ${n.children.map(UQ).join(", ")} } `:"";return`${n.value}${e}`}function ZN(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Od(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Od(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Od(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Od(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function KN(n,e){return Od(n.params,e.params)&&function(n,e){return rg(n,e)&&n.every((t,i)=>Od(t.parameters,e[i].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||KN(n.parent,e.parent))}function ik(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const s=function(n,e,t){return e.children.map(i=>{for(const s of t.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return ik(n,i,s);return ik(n,i)})}(n,e,t);return new Xu(i,s)}{if(n.shouldAttach(e.value)){const r=n.retrieve(e.value);if(null!==r){const o=r.route;return GQ(e,o),o}}const i=function(n){return new yv(new zl(n.url),new zl(n.params),new zl(n.queryParams),new zl(n.fragment),new zl(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(r=>ik(n,r));return new Xu(i,s)}}function GQ(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)GQ(n.children[t],e.children[t])}function sk(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function LS(n){return"object"==typeof n&&null!=n&&n.outlets}function QN(n,e,t,i,s){let r={};return i&&ha(i,(o,a)=>{r[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new ng(t.root===n?e:YQ(t.root,n,e),r,s)}function YQ(n,e,t){const i={};return ha(n.children,(s,r)=>{i[r]=s===e?t:YQ(s,e,t)}),new xs(n.segments,i)}class qQ{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&sk(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(LS);if(s&&s!==AQ(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class JN{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function $Q(n,e,t){if(n||(n=new xs([],{})),0===n.segments.length&&n.hasChildren())return nk(n,e,t);const i=function(n,e,t){let i=0,s=e;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=t.length)return r;const o=n.segments[s],a=t[i];if(LS(a))break;const l=`${a}`,h=i<t.length-1?t[i+1]:null;if(s>0&&void 0===l)break;if(l&&h&&"object"==typeof h&&void 0===h.outlets){if(!ZQ(l,h,o))return r;i+=2}else{if(!ZQ(l,{},o))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,e,t),s=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const r=new xs(n.segments.slice(0,i.pathIndex),{});return r.children[ss]=new xs(n.segments.slice(i.pathIndex),n.children),nk(r,0,s)}return i.match&&0===s.length?new xs(n.segments,{}):i.match&&!n.hasChildren()?e5(n,e,t):i.match?nk(n,0,s):e5(n,e,t)}function nk(n,e,t){if(0===t.length)return new xs(n.segments,{});{const i=function(n){return LS(n[0])?n[0].outlets:{[ss]:n}}(t),s={};return ha(i,(r,o)=>{"string"==typeof r&&(r=[r]),null!==r&&(s[o]=$Q(n.children[o],e,r))}),ha(n.children,(r,o)=>{void 0===i[o]&&(s[o]=r)}),new xs(n.segments,s)}}function e5(n,e,t){const i=n.segments.slice(0,e);let s=0;for(;s<t.length;){const r=t[s];if(LS(r)){const l=QNe(r.outlets);return new xs(i,l)}if(0===s&&sk(t[0])){i.push(new kS(n.segments[e].path,XQ(t[0]))),s++;continue}const o=LS(r)?r.outlets[ss]:`${r}`,a=s<t.length-1?t[s+1]:null;o&&a&&sk(a)?(i.push(new kS(o,XQ(a))),s+=2):(i.push(new kS(o,{})),s++)}return new xs(i,{})}function QNe(n){const e={};return ha(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=e5(new xs([],{}),0,t))}),e}function XQ(n){const e={};return ha(n,(t,i)=>e[i]=`${t}`),e}function ZQ(n,e,t){return n==t.path&&Od(e,t.parameters)}class e5e{constructor(e,t,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ZN(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const s=TS(t);e.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,s[o],i),delete s[o]}),ha(s,(r,o)=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(e,t,i){const s=e.value,r=t?t.value:null;if(s===r)if(s.component){const o=i.getContext(s.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else r&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const s=i.outlet.detach(),r=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,r=TS(e);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const s=TS(t);e.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],i),this.forwardEvent(new CNe(r.value.snapshot))}),e.children.length&&this.forwardEvent(new bNe(e.value.snapshot))}activateRoutes(e,t,i){const s=e.value,r=t?t.value:null;if(ZN(s),s===r)if(s.component){const o=i.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(s.component){const o=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),KQ(a.route)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=s,o.resolver=l,o.outlet&&o.outlet.activateWith(s,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}function KQ(n){ZN(n.value),n.children.forEach(KQ)}class t5{constructor(e,t){this.routes=e,this.module=t}}function wf(n){return"function"==typeof n}function og(n){return n instanceof ng}const RS=Symbol("INITIAL_VALUE");function IS(){return Fc(n=>function(...n){let e,t;return cg(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&hg(n[0])&&(n=n[0]),gk(n,t).lift(new vOe(e))}(n.map(e=>e.pipe(yo(1),function(...n){const e=n[n.length-1];return cg(e)?(n.pop(),t=>QD(n,t,e)):t=>QD(n,t)}(RS)))).pipe(vQ((e,t)=>{let i=!1;return t.reduce((s,r,o)=>s!==RS?s:(r===RS&&(i=!0),i||!1!==r&&o!==t.length-1&&!og(r)?s:r),e)},RS),Vo(e=>e!==RS),Li(e=>og(e)?e:!0===e),yo(1)))}let QQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ct({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&Ui(0,"router-outlet")},directives:function(){return[mJ]},encapsulation:2}),n})();function JQ(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];a5e(i,l5e(e,i))}}function a5e(n,e){n.children&&JQ(n.children,e)}function l5e(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function i5(n){const e=n.children&&n.children.map(i5),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ss&&(t.component=QQ),t}function Ph(n){return n.outlet||ss}function eJ(n,e){const t=n.filter(i=>Ph(i)===e);return t.push(...n.filter(i=>Ph(i)!==e)),t}const tJ={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function rk(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},tJ):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||_Ne)(t,n,e);if(!r)return Object.assign({},tJ);const o={};ha(r.posParams,(l,h)=>{o[h]=l.path});const a=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function ok(n,e,t,i,s="corrected"){if(t.length>0&&function(n,e,t){return t.some(i=>ak(n,e,i)&&Ph(i)!==ss)}(n,t,i)){const o=new xs(e,function(n,e,t,i){const s={};s[ss]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const r of t)if(""===r.path&&Ph(r)!==ss){const o=new xs([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,s[Ph(r)]=o}return s}(n,e,i,new xs(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(i=>ak(n,e,i))}(n,t,i)){const o=new xs(n.segments,function(n,e,t,i,s,r){const o={};for(const a of i)if(ak(n,t,a)&&!s[Ph(a)]){const l=new xs([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===r?n.segments.length:e.length,o[Ph(a)]=l}return Object.assign(Object.assign({},s),o)}(n,e,t,i,n.children,s));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const r=new xs(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function ak(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function iJ(n,e,t,i){return!!(Ph(n)===i||i!==ss&&ak(e,t,n))&&("**"===n.path||rk(e,n,t).matched)}function sJ(n,e,t){return 0===e.length&&!n.children[t]}class PS{constructor(e){this.segmentGroup=e||null}}class nJ{constructor(e){this.urlTree=e}}function lk(n){return new fs(e=>e.error(new PS(n)))}function rJ(n){return new fs(e=>e.error(new nJ(n)))}function p5e(n){return new fs(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class g5e{constructor(e,t,i,s,r){this.configLoader=t,this.urlSerializer=i,this.urlTree=s,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(Zc)}apply(){const e=ok(this.urlTree.root,[],[],this.config).segmentGroup,t=new xs(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ss).pipe(Li(r=>this.createUrlTree(s5(r),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vf(r=>{if(r instanceof nJ)return this.allowRedirects=!1,this.match(r.urlTree);throw r instanceof PS?this.noMatchError(r):r}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ss).pipe(Li(s=>this.createUrlTree(s5(s),e.queryParams,e.fragment))).pipe(vf(s=>{throw s instanceof PS?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const s=e.segments.length>0?new xs([],{[ss]:e}):e;return new ng(s,t,i)}expandSegmentGroup(e,t,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(Li(r=>new xs([],r))):this.expandSegment(e,i,t,i.segments,s,!0)}expandChildren(e,t,i){const s=[];for(const r of Object.keys(i.children))"primary"===r?s.unshift(r):s.push(r);return vo(s).pipe(hv(r=>{const o=i.children[r],a=eJ(t,r);return this.expandSegmentGroup(e,a,o,r).pipe(Li(l=>({segment:l,outlet:r})))}),vQ((r,o)=>(r[o.outlet]=o.segment,r),{}),function(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Vo((s,r)=>n(s,r,i)):jS,zN(1),t?wQ(e):CQ(()=>new XM))}())}expandSegment(e,t,i,s,r,o){return vo(i).pipe(hv(a=>this.expandSegmentAgainstRoute(e,t,i,a,s,r,o).pipe(vf(h=>{if(h instanceof PS)return Lt(null);throw h}))),mv(a=>!!a),vf((a,l)=>{if(a instanceof XM||"EmptyError"===a.name){if(sJ(t,s,r))return Lt(new xs([],{}));throw new PS(t)}throw a}))}expandSegmentAgainstRoute(e,t,i,s,r,o,a){return iJ(s,t,r,o)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o):lk(t):lk(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,s,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,s){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?rJ(r):this.lineralizeSegments(i,r).pipe(Ho(o=>{const a=new xs(o,{});return this.expandSegment(e,a,t,o,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o){const{matched:a,consumedSegments:l,lastChild:h,positionalParamSegments:c}=rk(t,s,r);if(!a)return lk(t);const d=this.applyRedirectCommands(l,s.redirectTo,c);return s.redirectTo.startsWith("/")?rJ(d):this.lineralizeSegments(s,d).pipe(Ho(u=>this.expandSegment(e,t,i,u.concat(r.slice(h)),o,!1)))}matchSegmentAgainstRoute(e,t,i,s,r){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Lt(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(Li(u=>(i._loadedConfig=u,new xs(s,{})))):Lt(new xs(s,{}));const{matched:o,consumedSegments:a,lastChild:l}=rk(t,i,s);if(!o)return lk(t);const h=s.slice(l);return this.getChildConfig(e,i,s).pipe(Ho(d=>{const u=d.module,p=d.routes,{segmentGroup:m,slicedSegments:y}=ok(t,a,h,p),b=new xs(m.segments,m.children);if(0===y.length&&b.hasChildren())return this.expandChildren(u,p,b).pipe(Li(_=>new xs(a,_)));if(0===p.length&&0===y.length)return Lt(new xs(a,{}));const v=Ph(i)===r;return this.expandSegment(u,b,p,y,v?ss:r,!0).pipe(Li(w=>new xs(a.concat(w.segments),w.children)))}))}getChildConfig(e,t,i){return t.children?Lt(new t5(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Lt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(Ho(s=>s?this.configLoader.load(e.injector,t).pipe(Li(r=>(t._loadedConfig=r,r))):function(n){return new fs(e=>e.error(UN(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):Lt(new t5([],e))}runCanLoadGuards(e,t,i){const s=t.canLoad;return s&&0!==s.length?Lt(s.map(o=>{const a=e.get(o);let l;if(function(n){return n&&wf(n.canLoad)}(a))l=a.canLoad(t,i);else{if(!wf(a))throw new Error("Invalid CanLoad guard");l=a(t,i)}return Fd(l)})).pipe(IS(),ra(o=>{if(!og(o))return;const a=UN(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Li(o=>!0===o)):Lt(!0)}lineralizeSegments(e,t){let i=[],s=t.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return Lt(i);if(s.numberOfChildren>1||!s.children[ss])return p5e(e.redirectTo);s=s.children[ss]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,s){const r=this.createSegmentGroup(e,t.root,i,s);return new ng(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ha(e,(s,r)=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,s){const r=this.createSegments(e,t.segments,i,s);let o={};return ha(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,i,s)}),new xs(r,o)}createSegments(e,t,i,s){return t.map(r=>r.path.startsWith(":")?this.findPosParam(e,r,s):this.findOrReturn(r,i))}findPosParam(e,t,i){const s=i[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let i=0;for(const s of t){if(s.path===e.path)return t.splice(i),s;i++}return e}}function s5(n){const e={};for(const i of Object.keys(n.children)){const r=s5(n.children[i]);(r.segments.length>0||r.hasChildren())&&(e[i]=r)}return function(n){if(1===n.numberOfChildren&&n.children[ss]){const e=n.children[ss];return new xs(n.segments.concat(e.segments),e.children)}return n}(new xs(n.segments,e))}class oJ{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hk{constructor(e,t){this.component=e,this.route=t}}function v5e(n,e,t){const i=n._root;return OS(i,e?e._root:null,t,[i.value])}function ck(n,e,t){const i=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function OS(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=TS(e);return n.children.forEach(o=>{(function(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!rg(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rg(n.url,e.url)||!Od(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!KN(n,e)||!Od(n.queryParams,e.queryParams);case"paramsChange":default:return!KN(n,e)}}(o,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new oJ(i)):(r.data=o.data,r._resolvedData=o._resolvedData),OS(n,e,r.component?a?a.children:null:t,i,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new hk(a.outlet.component,o))}else o&&FS(e,a,s),s.canActivateChecks.push(new oJ(i)),OS(n,null,r.component?a?a.children:null:t,i,s)})(o,r[o.value.outlet],t,i.concat([o.value]),s),delete r[o.value.outlet]}),ha(r,(o,a)=>FS(o,t.getContext(a),s)),s}function FS(n,e,t){const i=TS(n),s=n.value;ha(i,(r,o)=>{FS(r,s.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new hk(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class R5e{}function aJ(n){return new fs(e=>e.error(n))}class P5e{constructor(e,t,i,s,r,o){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){const e=ok(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ss);if(null===t)return null;const i=new tk([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ss,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Xu(i,t),r=new WQ(this.url,s);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(e){const t=e.value,i=zQ(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const r of Object.keys(t.children)){const o=t.children[r],a=eJ(e,r),l=this.processSegmentGroup(a,o,r);if(null===l)return null;i.push(...l)}const s=lJ(i);return function(n){n.sort((e,t)=>e.value.outlet===ss?-1:t.value.outlet===ss?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}processSegment(e,t,i,s){for(const r of e){const o=this.processSegmentAgainstRoute(r,t,i,s);if(null!==o)return o}return sJ(t,i,s)?[]:null}processSegmentAgainstRoute(e,t,i,s){if(e.redirectTo||!iJ(e,t,i,s))return null;let r,o=[],a=[];if("**"===e.path){const p=i.length>0?AQ(i).parameters:{};r=new tk(i,p,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dJ(e),Ph(e),e.component,e,hJ(t),cJ(t)+i.length,uJ(e))}else{const p=rk(t,e,i);if(!p.matched)return null;o=p.consumedSegments,a=i.slice(p.lastChild),r=new tk(o,p.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dJ(e),Ph(e),e.component,e,hJ(t),cJ(t)+o.length,uJ(e))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:h,slicedSegments:c}=ok(t,o,a,l.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution);if(0===c.length&&h.hasChildren()){const p=this.processChildren(l,h);return null===p?null:[new Xu(r,p)]}if(0===l.length&&0===c.length)return[new Xu(r,[])];const d=Ph(e)===s,u=this.processSegment(l,h,c,d?ss:s);return null===u?null:[new Xu(r,u)]}}function N5e(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function lJ(n){const e=[],t=new Set;for(const i of n){if(!N5e(i)){e.push(i);continue}const s=e.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...i.children),t.add(s)):e.push(i)}for(const i of t){const s=lJ(i.children);e.push(new Xu(i.value,s))}return e.filter(i=>!t.has(i))}function hJ(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function cJ(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function dJ(n){return n.data||{}}function uJ(n){return n.resolve||{}}function n5(n){return Fc(e=>{const t=n(e);return t?vo(t).pipe(Li(()=>e)):Lt(e)})}class G5e extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const r5=new Ie("ROUTES");class pJ{constructor(e,t,i,s){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe(Li(r=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=r.create(e);return new t5(kQ(o.injector.get(r5,void 0,Vt.Self|Vt.Optional)).map(i5),o)}),vf(r=>{throw t._loader$=void 0,r}));return t._loader$=new S5(s,()=>new ht).pipe(yk()),t._loader$}loadModuleFactory(e){return"string"==typeof e?vo(this.loader.load(e)):Fd(e()).pipe(Ho(t=>t instanceof c4?Lt(t):vo(this.compiler.compileModuleAsync(t))))}}class Y5e{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bv,this.attachRef=null}}class bv{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Y5e,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class $5e{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function X5e(n){throw n}function Z5e(n,e,t){return e.parse("/")}function fJ(n,e){return Lt(null)}const K5e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Q5e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gl=(()=>{class n{constructor(t,i,s,r,o,a,l,h){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=s,this.location=r,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ht,this.errorHandler=X5e,this.malformedUriErrorHandler=Z5e,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fJ,afterPreactivation:fJ},this.urlHandlingStrategy=new $5e,this.routeReuseStrategy=new G5e,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Zc),this.console=o.get(Q_);const u=o.get(wt);this.isNgZoneEnabled=u instanceof wt&&wt.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=new ng(new xs([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pJ(a,l,p=>this.triggerEvent(new _Q(p)),p=>this.triggerEvent(new xQ(p))),this.routerState=jQ(this.currentUrlTree,this.rootComponentType),this.transitions=new zl({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Vo(s=>0!==s.id),Li(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Fc(s=>{let r=!1,o=!1;return Lt(s).pipe(ra(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fc(a=>{const l=this.browserUrlTree.toString(),h=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||h)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return dk(a.source)&&(this.browserUrlTree=a.extractedUrl),Lt(a).pipe(Fc(d=>{const u=this.transitions.getValue();return i.next(new WN(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),u!==this.transitions.getValue()?zm:Promise.resolve(d)}),function(n,e,t,i){return Fc(s=>function(n,e,t,i,s){return new g5e(n,e,t,i,s).apply()}(n,e,t,s.extractedUrl,i).pipe(Li(r=>Object.assign(Object.assign({},s),{urlAfterRedirects:r}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ra(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,i,s){return Ho(r=>function(n,e,t,i,s="emptyOnly",r="legacy"){try{const o=new P5e(n,e,t,i,s,r).recognize();return null===o?aJ(new R5e):Lt(o)}catch(o){return aJ(o)}}(n,e,r.urlAfterRedirects,t(r.urlAfterRedirects),i,s).pipe(Li(o=>Object.assign(Object.assign({},r),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),ra(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const u=new uNe(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(u)}));if(h&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:u,extractedUrl:p,source:m,restoredState:y,extras:b}=a,v=new WN(u,this.serializeUrl(p),m,y);i.next(v);const C=jQ(p,this.rootComponentType).snapshot;return Lt(Object.assign(Object.assign({},a),{targetSnapshot:C,urlAfterRedirects:p,extras:Object.assign(Object.assign({},b),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),zm}),n5(a=>{const{targetSnapshot:l,id:h,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:u,replaceUrl:p}}=a;return this.hooks.beforePreactivation(l,{navigationId:h,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!u,replaceUrl:!!p})}),ra(a=>{const l=new pNe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Li(a=>Object.assign(Object.assign({},a),{guards:v5e(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return Ho(t=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=t;return 0===o.length&&0===r.length?Lt(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,i){return vo(n).pipe(Ho(s=>function(n,e,t,i,s){const r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?Lt(r.map(a=>{const l=ck(a,e,s);let h;if(function(n){return n&&wf(n.canDeactivate)}(l))h=Fd(l.canDeactivate(n,e,t,i));else{if(!wf(l))throw new Error("Invalid CanDeactivate guard");h=Fd(l(n,e,t,i))}return h.pipe(mv())})).pipe(IS()):Lt(!0)}(s.component,s.route,t,e,i)),mv(s=>!0!==s,!0))}(o,i,s,n).pipe(Ho(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,i){return vo(e).pipe(hv(s=>QD(function(n,e){return null!==n&&e&&e(new yNe(n)),Lt(!0)}(s.route.parent,i),function(n,e){return null!==n&&e&&e(new vNe(n)),Lt(!0)}(s.route,i),function(n,e,t){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>kN(()=>Lt(o.guards.map(l=>{const h=ck(l,o.node,t);let c;if(function(n){return n&&wf(n.canActivateChild)}(h))c=Fd(h.canActivateChild(i,n));else{if(!wf(h))throw new Error("Invalid CanActivateChild guard");c=Fd(h(i,n))}return c.pipe(mv())})).pipe(IS())));return Lt(r).pipe(IS())}(n,s.path,t),function(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Lt(i.map(r=>kN(()=>{const o=ck(r,e,t);let a;if(function(n){return n&&wf(n.canActivate)}(o))a=Fd(o.canActivate(e,n));else{if(!wf(o))throw new Error("Invalid CanActivate guard");a=Fd(o(e,n))}return a.pipe(mv())}))).pipe(IS()):Lt(!0)}(n,s.route,t))),mv(s=>!0!==s,!0))}(i,r,n,e):Lt(a)),Li(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ra(a=>{if(og(a.guardsResult)){const h=UN(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw h.url=a.guardsResult,h}const l=new fNe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Vo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),n5(a=>{if(a.guards.canActivateChecks.length)return Lt(a).pipe(ra(l=>{const h=new mNe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(h)}),Fc(l=>{let h=!1;return Lt(l).pipe(function(n,e){return Ho(t=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=t;if(!s.length)return Lt(t);let r=0;return vo(s).pipe(hv(o=>function(n,e,t,i){return function(n,e,t,i){const s=Object.keys(n);if(0===s.length)return Lt({});const r={};return vo(s).pipe(Ho(o=>function(n,e,t,i){const s=ck(n,e,i);return Fd(s.resolve?s.resolve(e,t):s(e,t))}(n[o],e,t,i).pipe(ra(a=>{r[o]=a}))),zN(1),Ho(()=>Object.keys(r).length===s.length?Lt(r):zm))}(n._resolve,n,e,i).pipe(Li(r=>(n._resolvedData=r,n.data=Object.assign(Object.assign({},n.data),zQ(n,t).resolve),null)))}(o.route,i,n,e)),ra(()=>r++),zN(1),Ho(o=>r===s.length?Lt(t):zm))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ra({next:()=>h=!0,complete:()=>{h||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),ra(l=>{const h=new gNe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(h)}))}),n5(a=>{const{targetSnapshot:l,id:h,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:u,replaceUrl:p}}=a;return this.hooks.afterPreactivation(l,{navigationId:h,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!u,replaceUrl:!!p})}),Li(a=>{const l=function(n,e,t){const i=ik(n,e._root,t?t._root:void 0);return new HQ(i,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),ra(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Li(i=>(new e5e(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ra({next(){r=!0},complete(){r=!0}}),function(n){return e=>e.lift(new f2e(n))}(()=>{var a;if(!r&&!o){const l=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,l)):this.cancelNavigationTransition(s,l)}(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===s.id&&(this.currentNavigation=null)}),vf(a=>{if(o=!0,function(n){return n&&n[DQ]}(a)){const l=og(a.url);l||(this.navigated=!0,this.restoreHistory(s,!0));const h=new SQ(s.id,this.serializeUrl(s.extractedUrl),a.message);i.next(h),l?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dk(s.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const l=new dNe(s.id,this.serializeUrl(s.extractedUrl),a);i.next(l);try{s.resolve(this.errorHandler(a))}catch(h){s.reject(h)}}return zm}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:s,state:r,urlTree:o}=i,a={replaceUrl:!0};if(r){const l=Object.assign({},r);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(o,s,r,a)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(t){var i;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,i){if(!t)return!0;const s=i.urlTree.toString()===t.urlTree.toString();return i.transitionId!==t.transitionId||!s||!("hashchange"===i.source&&"popstate"===t.source||"popstate"===i.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){JQ(t),this.config=t.map(i5),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:s,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,h=s||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=r||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,e,t,i,s){if(0===t.length)return QN(e.root,e.root,e,i,s);const r=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new qQ(!0,0,n);let e=0,t=!1;const i=n.reduce((s,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return ha(r.outlets,(l,h)=>{a[h]="string"==typeof l?l.split("/"):l}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===o?(r.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&s.push(a))}),s):[...s,r]},[]);return new qQ(t,e,i)}(t);if(r.toRoot())return QN(e.root,new xs([],{}),e,i,s);const o=function(n,e,t){if(n.isAbsolute)return new JN(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const r=t.snapshot._urlSegment;return new JN(r,r===e.root,0)}const i=sk(n.commands[0])?0:1;return function(n,e,t){let i=n,s=e,r=t;for(;r>s;){if(r-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new JN(i,!1,s-r)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(r,e,n),a=o.processChildren?nk(o.segmentGroup,o.index,r.commands):$Q(o.segmentGroup,o.index,r.commands);return QN(o.segmentGroup,a,e,i,s)}(h,this.currentUrlTree,t,d,null!=c?c:null)}navigateByUrl(t,i={skipLocationChange:!1}){const s=og(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return i}isActive(t,i){let s;if(s=!0===i?Object.assign({},K5e):!1===i?Object.assign({},Q5e):i,og(t))return LQ(this.currentUrlTree,t,s);const r=this.parseUrl(t);return LQ(this.currentUrlTree,r,s)}removeEmptyProps(t){return Object.keys(t).reduce((i,s)=>{const r=t[s];return null!=r&&(i[s]=r),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new MS(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,s,r,o){var a,l;if(this.disposed)return Promise.resolve(!1);const h=this.getTransition(),c=dk(i)&&h&&!dk(h.source),p=(this.lastSuccessfulId===h.id||this.currentNavigation?h.rawUrl:h.urlAfterRedirects).toString()===t.toString();if(c&&p)return Promise.resolve(!0);let m,y,b;o?(m=o.resolve,y=o.reject,b=o.promise):b=new Promise((w,_)=>{m=w,y=_});const v=++this.navigationId;let C;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),C=s&&s.\u0275routerPageId?s.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):C=0,this.setTransition({id:v,targetPageId:C,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:m,reject:y,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(w=>Promise.reject(w))}setBrowserUrl(t,i){const s=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",r):this.location.go(s,"",r)}restoreHistory(t,i=!1){var s,r;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===o?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const s=new SQ(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)($(d_),$(GN),$(bv),$(M0),$(_t),$(ex),$(jf),$(void 0))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();function dk(n){return"imperative"!==n}let mJ=(()=>{class n{constructor(t,i,s,r,o){this.parentContexts=t,this.location=i,this.resolver=s,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new et,this.deactivateEvents=new et,this.name=r||ss,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new iBe(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(E(bv),E(Ye),E(Gd),function(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let s=0;for(;s<i;){const r=t[s];if(tB(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<i&&"string"==typeof t[s];)s++;else{if(r===e)return t[s+1];s+=2}}}return null}(Jr(),n)}("name"),E(Bs))},n.\u0275dir=ee({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class iBe{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===yv?this.route:e===bv?this.childContexts:this.parent.get(e,t)}}class gJ{}class yJ{preload(e,t){return Lt(null)}}let bJ=(()=>{class n{constructor(t,i,s,r,o){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new pJ(i,s,h=>t.triggerEvent(new _Q(h)),h=>t.triggerEvent(new xQ(h)))}setUpPreloading(){this.subscription=this.router.events.pipe(Vo(t=>t instanceof MS),hv(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Zc);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const s=[];for(const r of i)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const o=r._loadedConfig;s.push(this.processRoutes(o.module,o.routes))}else r.loadChildren&&!r.canLoad?s.push(this.preloadConfig(t,r)):r.children&&s.push(this.processRoutes(t,r.children));return vo(s).pipe(Dv(),Li(r=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Lt(i._loadedConfig):this.loader.load(t.injector,i)).pipe(Ho(r=>(i._loadedConfig=r,this.processRoutes(r.module,r.routes)))))}}return n.\u0275fac=function(t){return new(t||n)($(gl),$(ex),$(jf),$(_t),$(gJ))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})(),l5=(()=>{class n{constructor(t,i,s={}){this.router=t,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof WN?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof MS&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof EQ&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new EQ(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)($(gl),$(S7),$(void 0))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();const ag=new Ie("ROUTER_CONFIGURATION"),vJ=new Ie("ROUTER_FORROOT_GUARD"),nBe=[M0,{provide:GN,useClass:OQ},{provide:gl,useFactory:function(n,e,t,i,s,r,o,a={},l,h){const c=new gl(null,n,e,t,i,s,r,kQ(o));return l&&(c.urlHandlingStrategy=l),h&&(c.routeReuseStrategy=h),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(a,c),a.enableTracing&&c.events.subscribe(d=>{var u,p;null===(u=console.group)||void 0===u||u.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(p=console.groupEnd)||void 0===p||p.call(console)}),c},deps:[GN,bv,M0,_t,ex,jf,r5,ag,[class{},new Mr],[class{},new Mr]]},bv,{provide:yv,useFactory:function(n){return n.routerState.root},deps:[gl]},{provide:ex,useClass:Ahe},bJ,yJ,class{preload(e,t){return t().pipe(vf(()=>Lt(null)))}},{provide:ag,useValue:{enableTracing:!1}}];function rBe(){return new XT("Router",gl)}let CJ=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[nBe,wJ(t),{provide:vJ,useFactory:lBe,deps:[[gl,new Mr,new _l]]},{provide:ag,useValue:i||{}},{provide:uy,useFactory:aBe,deps:[Gf,[new Mg(uL),new Mr],ag]},{provide:l5,useFactory:oBe,deps:[gl,S7,ag]},{provide:gJ,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:yJ},{provide:XT,multi:!0,useFactory:rBe},[h5,{provide:w0,multi:!0,useFactory:uBe,deps:[h5]},{provide:SJ,useFactory:pBe,deps:[h5]},{provide:mH,multi:!0,useExisting:SJ}]]}}static forChild(t){return{ngModule:n,providers:[wJ(t)]}}}return n.\u0275fac=function(t){return new(t||n)($(vJ,8),$(gl,8))},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({}),n})();function oBe(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new l5(n,e,t)}function aBe(n,e,t={}){return t.useHash?new Xce(n,e):new n7(n,e)}function lBe(n){return"guarded"}function wJ(n){return[{provide:ite,multi:!0,useValue:n},{provide:r5,multi:!0,useValue:n}]}let h5=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ht}appInitializer(){return this.injector.get(Yce,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(a=>i=a),r=this.injector.get(gl),o=this.injector.get(ag);return"disabled"===o.initialNavigation?(r.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(r.hooks.afterPreactivation=()=>this.initNavigation?Lt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),r.initialNavigation()):i(!0),s})}bootstrapListener(t){const i=this.injector.get(ag),s=this.injector.get(bJ),r=this.injector.get(l5),o=this.injector.get(gl),a=this.injector.get(zf);t===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),s.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)($(_t))},n.\u0275prov=Ne({token:n,factory:n.\u0275fac}),n})();function uBe(n){return n.appInitializer.bind(n)}function pBe(n){return n.bootstrapListener.bind(n)}const SJ=new Ie("Router Initializer"),mBe=[];let gBe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Qe({imports:[[CJ.forRoot(mBe)],CJ]}),n})(),yBe=(()=>{class n{constructor(){this.title="player1",this.data=[{x:"Pace",y:93},{x:"Dribbling",y:96},{x:"Shooting",y:86},{x:"Defending",y:32},{x:"Passing",y:84},{x:"Physicality",y:60}],this.primaryXAxis={valueType:"Category",fill:"red"}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ct({type:n,selectors:[["app-root"]],decls:80,vars:2,consts:[[1,"Heading","d-flex","flex-row","text-center"],[2,"color","dimgrey","font-size","2em"],["src","https://www.clipartkey.com/mpngs/m/42-426796_neymar-png-psg-paris-saint-germain-football-club.png","alt","",2,"width","70px","height","70px","margin-top","-5%"],[1,"line"],[1,"chart"],["id","chartcontainer",2,"display","block",3,"primaryXAxis"],["type","Radar","drawType","Area","xName","x","yName","y",3,"dataSource"],[1,"content"],[1,"d-flex","flex-row"],["mat-raised-button","",2,"background-color","rgb(3, 80, 3)"],[2,"color","ivory"],["mat-raised-button","",2,"margin-left","50px","background-color","rgb(3, 80, 3)"],[1,"d-flex","flex-column"],[2,"color","rgb(87, 85, 85)"],[2,"margin-left","90%","font-family","'Times New Roman', Times, serif","font-weight","bolder"],[2,"color","dimgrey"],[2,"margin-left","70%","font-family","'Times New Roman', Times, serif","font-weight","bolder"],[2,"margin-left","10%","font-family","'Times New Roman', Times, serif","font-weight","bolder"]],template:function(t,i){1&t&&(ne(0,"div",0),ne(1,"h1",1),ri(2,"Neymar Jr"),re(),Ui(3,"img",2),re(),Ui(4,"div",3),ne(5,"div",4),ne(6,"ejs-chart",5),ne(7,"e-series-collection"),Ui(8,"e-series",6),re(),re(),re(),ne(9,"div",7),ne(10,"div",8),ne(11,"button",9),ne(12,"span",10),ri(13,"Overall 92"),re(),re(),ne(14,"button",11),ne(15,"span",10),ri(16,"Potential 92"),re(),re(),re(),Ui(17,"br"),Ui(18,"br"),ne(19,"div",12),ne(20,"div",8),ne(21,"h2",13),ri(22,"Age "),re(),ne(23,"h2"),ne(24,"strong",14),ri(25," 26"),re(),re(),re(),ne(26,"div",8),ne(27,"h2",15),ri(28,"Height "),re(),ne(29,"h2"),ne(30,"strong",14),ri(31," 5'9"),re(),re(),re(),ne(32,"div",8),ne(33,"h2",15),ri(34," Weight"),re(),ne(35,"h2"),ne(36,"strong",16),ri(37," 150lbs"),re(),re(),re(),ne(38,"div",8),ne(39,"h2",15),ri(40,"Preferred Foot "),re(),ne(41,"h2"),ne(42,"strong",16),ri(43," Right"),re(),re(),re(),ne(44,"div",8),ne(45,"h2",15),ri(46,"Position "),re(),ne(47,"h2"),ne(48,"strong",14),ri(49," LW"),re(),re(),re(),ne(50,"div",8),ne(51,"h2",15),ri(52,"Jersey Number "),re(),ne(53,"h2"),ne(54,"strong",14),ri(55," 10"),re(),re(),re(),ne(56,"div",8),ne(57,"h2",15),ri(58,"Weak Foot "),re(),ne(59,"h2"),ne(60,"strong",17),ri(61," \u2b50\u2b50\u2b50\u2b50"),re(),re(),re(),ne(62,"div",8),ne(63,"h2",15),ri(64,"Skill Moves "),re(),ne(65,"h2"),ne(66,"strong",17),ri(67," \u2b50\u2b50\u2b50\u2b50\u2b50"),re(),re(),re(),ne(68,"div",8),ne(69,"h2",15),ri(70,"Work Rate (Attack - Defense) "),re(),ne(71,"h2"),ne(72,"strong",17),ri(73," High/Medium"),re(),re(),re(),ne(74,"div",8),ne(75,"h2",15),ri(76,"International Reputation "),re(),ne(77,"h2"),ne(78,"strong",17),ri(79," \u2b50\u2b50\u2b50\u2b50"),re(),re(),re(),re(),re()),2&t&&(Re(6),ze("primaryXAxis",i.primaryXAxis),Re(2),ze("dataSource",i.data))},directives:[bD,OG,PG,nv],styles:[".Heading[_ngcontent-%COMP%]{position:absolute;left:43%;top:5%}.content[_ngcontent-%COMP%]{position:absolute;left:55%;top:20%}.line[_ngcontent-%COMP%]{height:98%;width:1px;background-color:#1b1616;margin-left:50%;margin-top:9%}.chart[_ngcontent-%COMP%]{display:block;position:absolute;left:9%;top:15%}#chartcontainer[_ngcontent-%COMP%]{width:600px}@media screen and (max-width: 800px){.content[_ngcontent-%COMP%]{top:70%;left:5%}.line[_ngcontent-%COMP%]{background-color:#fff}#chartcontainer[_ngcontent-%COMP%]{margin-left:-19%}.Heading[_ngcontent-%COMP%]{left:30%}}"]}),n})(),bBe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=it({type:n,bootstrap:[yBe]}),n.\u0275inj=Qe({providers:[WG,VG,ZG,jG,UG,GG,YG,HG,$G,qG,XG,zG],imports:[[RL,gBe,FLe,Q2,JO,TEe,eNe]]}),n})();(function(){if(SH)throw new Error("Cannot enable prod mode after platform setup.");wH=!1})(),Kue().bootstrapModule(bBe).catch(n=>console.error(n))}},Cv=>{Cv(Cv.s=905)}]);